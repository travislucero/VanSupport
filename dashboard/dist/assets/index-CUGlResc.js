function vR(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const c=Object.getOwnPropertyDescriptor(i,s);c&&Object.defineProperty(e,s,c.get?c:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();function ho(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Am={exports:{}},Qs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xj;function bR(){if(xj)return Qs;xj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,c){var d=null;if(c!==void 0&&(d=""+c),s.key!==void 0&&(d=""+s.key),"key"in s){c={};for(var p in s)p!=="key"&&(c[p]=s[p])}else c=s;return s=c.ref,{$$typeof:e,type:i,key:d,ref:s!==void 0?s:null,props:c}}return Qs.Fragment=t,Qs.jsx=n,Qs.jsxs=n,Qs}var vj;function SR(){return vj||(vj=1,Am.exports=bR()),Am.exports}var l=SR(),Em={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bj;function jR(){if(bj)return nt;bj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function j($){return $===null||typeof $!="object"?null:($=S&&$[S]||$["@@iterator"],typeof $=="function"?$:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function _($,W,L){this.props=$,this.context=W,this.refs=C,this.updater=L||k}_.prototype.isReactComponent={},_.prototype.setState=function($,W){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,W,"setState")},_.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function E(){}E.prototype=_.prototype;function A($,W,L){this.props=$,this.context=W,this.refs=C,this.updater=L||k}var T=A.prototype=new E;T.constructor=A,w(T,_.prototype),T.isPureReactComponent=!0;var O=Array.isArray;function P(){}var R={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function ee($,W,L){var V=L.ref;return{$$typeof:e,type:$,key:W,ref:V!==void 0?V:null,props:L}}function fe($,W){return ee($.type,W,$.props)}function de($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function re($){var W={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(L){return W[L]})}var Se=/\/+/g;function he($,W){return typeof $=="object"&&$!==null&&$.key!=null?re(""+$.key):W.toString(36)}function ge($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(P,P):($.status="pending",$.then(function(W){$.status==="pending"&&($.status="fulfilled",$.value=W)},function(W){$.status==="pending"&&($.status="rejected",$.reason=W)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function F($,W,L,V,ne){var I=typeof $;(I==="undefined"||I==="boolean")&&($=null);var X=!1;if($===null)X=!0;else switch(I){case"bigint":case"string":case"number":X=!0;break;case"object":switch($.$$typeof){case e:case t:X=!0;break;case h:return X=$._init,F(X($._payload),W,L,V,ne)}}if(X)return ne=ne($),X=V===""?"."+he($,0):V,O(ne)?(L="",X!=null&&(L=X.replace(Se,"$&/")+"/"),F(ne,W,L,"",function(ye){return ye})):ne!=null&&(de(ne)&&(ne=fe(ne,L+(ne.key==null||$&&$.key===ne.key?"":(""+ne.key).replace(Se,"$&/")+"/")+X)),W.push(ne)),1;X=0;var Ce=V===""?".":V+":";if(O($))for(var N=0;N<$.length;N++)V=$[N],I=Ce+he(V,N),X+=F(V,W,L,I,ne);else if(N=j($),typeof N=="function")for($=N.call($),N=0;!(V=$.next()).done;)V=V.value,I=Ce+he(V,N++),X+=F(V,W,L,I,ne);else if(I==="object"){if(typeof $.then=="function")return F(ge($),W,L,V,ne);throw W=String($),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return X}function Y($,W,L){if($==null)return $;var V=[],ne=0;return F($,V,"","",function(I){return W.call(L,I,ne++)}),V}function me($){if($._status===-1){var W=$._result;W=W(),W.then(function(L){($._status===0||$._status===-1)&&($._status=1,$._result=L)},function(L){($._status===0||$._status===-1)&&($._status=2,$._result=L)}),$._status===-1&&($._status=0,$._result=W)}if($._status===1)return $._result.default;throw $._result}var be=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},Ee={map:Y,forEach:function($,W,L){Y($,function(){W.apply(this,arguments)},L)},count:function($){var W=0;return Y($,function(){W++}),W},toArray:function($){return Y($,function(W){return W})||[]},only:function($){if(!de($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return nt.Activity=v,nt.Children=Ee,nt.Component=_,nt.Fragment=n,nt.Profiler=s,nt.PureComponent=A,nt.StrictMode=i,nt.Suspense=m,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,nt.__COMPILER_RUNTIME={__proto__:null,c:function($){return R.H.useMemoCache($)}},nt.cache=function($){return function(){return $.apply(null,arguments)}},nt.cacheSignal=function(){return null},nt.cloneElement=function($,W,L){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var V=w({},$.props),ne=$.key;if(W!=null)for(I in W.key!==void 0&&(ne=""+W.key),W)!U.call(W,I)||I==="key"||I==="__self"||I==="__source"||I==="ref"&&W.ref===void 0||(V[I]=W[I]);var I=arguments.length-2;if(I===1)V.children=L;else if(1<I){for(var X=Array(I),Ce=0;Ce<I;Ce++)X[Ce]=arguments[Ce+2];V.children=X}return ee($.type,ne,V)},nt.createContext=function($){return $={$$typeof:d,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:c,_context:$},$},nt.createElement=function($,W,L){var V,ne={},I=null;if(W!=null)for(V in W.key!==void 0&&(I=""+W.key),W)U.call(W,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(ne[V]=W[V]);var X=arguments.length-2;if(X===1)ne.children=L;else if(1<X){for(var Ce=Array(X),N=0;N<X;N++)Ce[N]=arguments[N+2];ne.children=Ce}if($&&$.defaultProps)for(V in X=$.defaultProps,X)ne[V]===void 0&&(ne[V]=X[V]);return ee($,I,ne)},nt.createRef=function(){return{current:null}},nt.forwardRef=function($){return{$$typeof:p,render:$}},nt.isValidElement=de,nt.lazy=function($){return{$$typeof:h,_payload:{_status:-1,_result:$},_init:me}},nt.memo=function($,W){return{$$typeof:g,type:$,compare:W===void 0?null:W}},nt.startTransition=function($){var W=R.T,L={};R.T=L;try{var V=$(),ne=R.S;ne!==null&&ne(L,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(P,be)}catch(I){be(I)}finally{W!==null&&L.types!==null&&(W.types=L.types),R.T=W}},nt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},nt.use=function($){return R.H.use($)},nt.useActionState=function($,W,L){return R.H.useActionState($,W,L)},nt.useCallback=function($,W){return R.H.useCallback($,W)},nt.useContext=function($){return R.H.useContext($)},nt.useDebugValue=function(){},nt.useDeferredValue=function($,W){return R.H.useDeferredValue($,W)},nt.useEffect=function($,W){return R.H.useEffect($,W)},nt.useEffectEvent=function($){return R.H.useEffectEvent($)},nt.useId=function(){return R.H.useId()},nt.useImperativeHandle=function($,W,L){return R.H.useImperativeHandle($,W,L)},nt.useInsertionEffect=function($,W){return R.H.useInsertionEffect($,W)},nt.useLayoutEffect=function($,W){return R.H.useLayoutEffect($,W)},nt.useMemo=function($,W){return R.H.useMemo($,W)},nt.useOptimistic=function($,W){return R.H.useOptimistic($,W)},nt.useReducer=function($,W,L){return R.H.useReducer($,W,L)},nt.useRef=function($){return R.H.useRef($)},nt.useState=function($){return R.H.useState($)},nt.useSyncExternalStore=function($,W,L){return R.H.useSyncExternalStore($,W,L)},nt.useTransition=function(){return R.H.useTransition()},nt.version="19.2.0",nt}var Sj;function Gl(){return Sj||(Sj=1,Em.exports=jR()),Em.exports}var x=Gl();const gi=ho(x),wR=vR({__proto__:null,default:gi},[x]);var Om={exports:{}},Zs={},Mm={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jj;function CR(){return jj||(jj=1,(function(e){function t(F,Y){var me=F.length;F.push(Y);e:for(;0<me;){var be=me-1>>>1,Ee=F[be];if(0<s(Ee,Y))F[be]=Y,F[me]=Ee,me=be;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var Y=F[0],me=F.pop();if(me!==Y){F[0]=me;e:for(var be=0,Ee=F.length,$=Ee>>>1;be<$;){var W=2*(be+1)-1,L=F[W],V=W+1,ne=F[V];if(0>s(L,me))V<Ee&&0>s(ne,L)?(F[be]=ne,F[V]=me,be=V):(F[be]=L,F[W]=me,be=W);else if(V<Ee&&0>s(ne,me))F[be]=ne,F[V]=me,be=V;else break e}}return Y}function s(F,Y){var me=F.sortIndex-Y.sortIndex;return me!==0?me:F.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();e.unstable_now=function(){return d.now()-p}}var m=[],g=[],h=1,v=null,S=3,j=!1,k=!1,w=!1,C=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function T(F){for(var Y=n(g);Y!==null;){if(Y.callback===null)i(g);else if(Y.startTime<=F)i(g),Y.sortIndex=Y.expirationTime,t(m,Y);else break;Y=n(g)}}function O(F){if(w=!1,T(F),!k)if(n(m)!==null)k=!0,P||(P=!0,re());else{var Y=n(g);Y!==null&&ge(O,Y.startTime-F)}}var P=!1,R=-1,U=5,ee=-1;function fe(){return C?!0:!(e.unstable_now()-ee<U)}function de(){if(C=!1,P){var F=e.unstable_now();ee=F;var Y=!0;try{e:{k=!1,w&&(w=!1,E(R),R=-1),j=!0;var me=S;try{t:{for(T(F),v=n(m);v!==null&&!(v.expirationTime>F&&fe());){var be=v.callback;if(typeof be=="function"){v.callback=null,S=v.priorityLevel;var Ee=be(v.expirationTime<=F);if(F=e.unstable_now(),typeof Ee=="function"){v.callback=Ee,T(F),Y=!0;break t}v===n(m)&&i(m),T(F)}else i(m);v=n(m)}if(v!==null)Y=!0;else{var $=n(g);$!==null&&ge(O,$.startTime-F),Y=!1}}break e}finally{v=null,S=me,j=!1}Y=void 0}}finally{Y?re():P=!1}}}var re;if(typeof A=="function")re=function(){A(de)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,he=Se.port2;Se.port1.onmessage=de,re=function(){he.postMessage(null)}}else re=function(){_(de,0)};function ge(F,Y){R=_(function(){F(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(F){switch(S){case 1:case 2:case 3:var Y=3;break;default:Y=S}var me=S;S=Y;try{return F()}finally{S=me}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var me=S;S=F;try{return Y()}finally{S=me}},e.unstable_scheduleCallback=function(F,Y,me){var be=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?be+me:be):me=be,F){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=me+Ee,F={id:h++,callback:Y,priorityLevel:F,startTime:me,expirationTime:Ee,sortIndex:-1},me>be?(F.sortIndex=me,t(g,F),n(m)===null&&F===n(g)&&(w?(E(R),R=-1):w=!0,ge(O,me-be))):(F.sortIndex=Ee,t(m,F),k||j||(k=!0,P||(P=!0,re()))),F},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(F){var Y=S;return function(){var me=S;S=Y;try{return F.apply(this,arguments)}finally{S=me}}}})(Rm)),Rm}var wj;function kR(){return wj||(wj=1,Mm.exports=CR()),Mm.exports}var Dm={exports:{}},Kr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cj;function zR(){if(Cj)return Kr;Cj=1;var e=Gl();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)g+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(m,g,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:m,containerInfo:g,implementation:h}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Kr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Kr.createPortal=function(m,g){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(m,g,null,h)},Kr.flushSync=function(m){var g=d.T,h=i.p;try{if(d.T=null,i.p=2,m)return m()}finally{d.T=g,i.p=h,i.d.f()}},Kr.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},Kr.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Kr.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var h=g.as,v=p(h,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;h==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:j}):h==="script"&&i.d.X(m,{crossOrigin:v,integrity:S,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Kr.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var h=p(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:h,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},Kr.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var h=g.as,v=p(h,g.crossOrigin);i.d.L(m,h,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Kr.preloadModule=function(m,g){if(typeof m=="string")if(g){var h=p(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:h,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},Kr.requestFormReset=function(m){i.d.r(m)},Kr.unstable_batchedUpdates=function(m,g){return m(g)},Kr.useFormState=function(m,g,h){return d.H.useFormState(m,g,h)},Kr.useFormStatus=function(){return d.H.useHostTransitionStatus()},Kr.version="19.2.0",Kr}var kj;function V2(){if(kj)return Dm.exports;kj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Dm.exports=zR(),Dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zj;function _R(){if(zj)return Zs;zj=1;var e=kR(),t=Gl(),n=V2();function i(o){var a="https://react.dev/errors/"+o;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function c(o){var a=o,u=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(u=a.return),o=a.return;while(o)}return a.tag===3?u:null}function d(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function p(o){if(o.tag===31){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function m(o){if(c(o)!==o)throw Error(i(188))}function g(o){var a=o.alternate;if(!a){if(a=c(o),a===null)throw Error(i(188));return a!==o?null:o}for(var u=o,f=a;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return m(y),o;if(b===f)return m(y),a;b=b.sibling}throw Error(i(188))}if(u.return!==f.return)u=y,f=b;else{for(var z=!1,M=y.child;M;){if(M===u){z=!0,u=y,f=b;break}if(M===f){z=!0,f=y,u=b;break}M=M.sibling}if(!z){for(M=b.child;M;){if(M===u){z=!0,u=b,f=y;break}if(M===f){z=!0,f=b,u=y;break}M=M.sibling}if(!z)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?o:a}function h(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o;for(o=o.child;o!==null;){if(a=h(o),a!==null)return a;o=o.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function re(o){return o===null||typeof o!="object"?null:(o=de&&o[de]||o["@@iterator"],typeof o=="function"?o:null)}var Se=Symbol.for("react.client.reference");function he(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Se?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case _:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList";case ee:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case k:return"Portal";case A:return o.displayName||"Context";case E:return(o._context.displayName||"Context")+".Consumer";case T:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case R:return a=o.displayName||null,a!==null?a:he(o.type)||"Memo";case U:a=o._payload,o=o._init;try{return he(o(a))}catch{}}return null}var ge=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},be=[],Ee=-1;function $(o){return{current:o}}function W(o){0>Ee||(o.current=be[Ee],be[Ee]=null,Ee--)}function L(o,a){Ee++,be[Ee]=o.current,o.current=a}var V=$(null),ne=$(null),I=$(null),X=$(null);function Ce(o,a){switch(L(I,a),L(ne,o),L(V,null),a.nodeType){case 9:case 11:o=(o=a.documentElement)&&(o=o.namespaceURI)?IS(o):0;break;default:if(o=a.tagName,a=a.namespaceURI)a=IS(a),o=qS(a,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}W(V),L(V,o)}function N(){W(V),W(ne),W(I)}function ye(o){o.memoizedState!==null&&L(X,o);var a=V.current,u=qS(a,o.type);a!==u&&(L(ne,o),L(V,u))}function oe(o){ne.current===o&&(W(V),W(ne)),X.current===o&&(W(X),Ys._currentValue=me)}var ue,Ne;function le(o){if(ue===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);ue=a&&a[1]||"",Ne=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+o+Ne}var Me=!1;function Ae(o,a){if(!o||Me)return"";Me=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(pe){var se=pe}Reflect.construct(o,[],we)}else{try{we.call()}catch(pe){se=pe}o.call(we.prototype)}}else{try{throw Error()}catch(pe){se=pe}(we=o())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(pe){if(pe&&se&&typeof pe.stack=="string")return[pe.stack,se.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),z=b[0],M=b[1];if(z&&M){var q=z.split(`
`),ae=M.split(`
`);for(y=f=0;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;for(;y<ae.length&&!ae[y].includes("DetermineComponentFrameRoot");)y++;if(f===q.length||y===ae.length)for(f=q.length-1,y=ae.length-1;1<=f&&0<=y&&q[f]!==ae[y];)y--;for(;1<=f&&0<=y;f--,y--)if(q[f]!==ae[y]){if(f!==1||y!==1)do if(f--,y--,0>y||q[f]!==ae[y]){var ve=`
`+q[f].replace(" at new "," at ");return o.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",o.displayName)),ve}while(1<=f&&0<=y);break}}}finally{Me=!1,Error.prepareStackTrace=u}return(u=o?o.displayName||o.name:"")?le(u):""}function We(o,a){switch(o.tag){case 26:case 27:case 5:return le(o.type);case 16:return le("Lazy");case 13:return o.child!==a&&a!==null?le("Suspense Fallback"):le("Suspense");case 19:return le("SuspenseList");case 0:case 15:return Ae(o.type,!1);case 11:return Ae(o.type.render,!1);case 1:return Ae(o.type,!0);case 31:return le("Activity");default:return""}}function Ke(o){try{var a="",u=null;do a+=We(o,u),u=o,o=o.return;while(o);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var at=Object.prototype.hasOwnProperty,J=e.unstable_scheduleCallback,ze=e.unstable_cancelCallback,it=e.unstable_shouldYield,te=e.unstable_requestPaint,H=e.unstable_now,Oe=e.unstable_getCurrentPriorityLevel,Fe=e.unstable_ImmediatePriority,Be=e.unstable_UserBlockingPriority,Qe=e.unstable_NormalPriority,Pe=e.unstable_LowPriority,mt=e.unstable_IdlePriority,lr=e.log,Xr=e.unstable_setDisableYieldValue,sr=null,xt=null;function ir(o){if(typeof lr=="function"&&Xr(o),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(sr,o)}catch{}}var xe=Math.clz32?Math.clz32:Or,Ye=Math.log,Et=Math.LN2;function Or(o){return o>>>=0,o===0?32:31-(Ye(o)/Et|0)|0}var Yt=256,ht=262144,Z=4194304;function ke(o){var a=o&42;if(a!==0)return a;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function qe(o,a,u){var f=o.pendingLanes;if(f===0)return 0;var y=0,b=o.suspendedLanes,z=o.pingedLanes;o=o.warmLanes;var M=f&134217727;return M!==0?(f=M&~b,f!==0?y=ke(f):(z&=M,z!==0?y=ke(z):u||(u=M&~o,u!==0&&(y=ke(u))))):(M=f&~b,M!==0?y=ke(M):z!==0?y=ke(z):u||(u=f&~o,u!==0&&(y=ke(u)))),y===0?0:a!==0&&a!==y&&(a&b)===0&&(b=y&-y,u=a&-a,b>=u||b===32&&(u&4194048)!==0)?a:y}function zt(o,a){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&a)===0}function yr(o,a){switch(o){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dn(){var o=Z;return Z<<=1,(Z&62914560)===0&&(Z=4194304),o}function Pn(o){for(var a=[],u=0;31>u;u++)a.push(o);return a}function nn(o,a){o.pendingLanes|=a,a!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ca(o,a,u,f,y,b){var z=o.pendingLanes;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=u,o.entangledLanes&=u,o.errorRecoveryDisabledLanes&=u,o.shellSuspendCounter=0;var M=o.entanglements,q=o.expirationTimes,ae=o.hiddenUpdates;for(u=z&~u;0<u;){var ve=31-xe(u),we=1<<ve;M[ve]=0,q[ve]=-1;var se=ae[ve];if(se!==null)for(ae[ve]=null,ve=0;ve<se.length;ve++){var pe=se[ve];pe!==null&&(pe.lane&=-536870913)}u&=~we}f!==0&&wo(o,f,0),b!==0&&y===0&&o.tag!==0&&(o.suspendedLanes|=b&~(z&~a))}function wo(o,a,u){o.pendingLanes|=a,o.suspendedLanes&=~a;var f=31-xe(a);o.entangledLanes|=a,o.entanglements[f]=o.entanglements[f]|1073741824|u&261930}function ii(o,a){var u=o.entangledLanes|=a;for(o=o.entanglements;u;){var f=31-xe(u),y=1<<f;y&a|o[f]&a&&(o[f]|=a),u&=~y}}function B(o,a){var u=a&-a;return u=(u&42)!==0?1:Te(u),(u&(o.suspendedLanes|a))!==0?0:u}function Te(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ot(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function _t(){var o=Y.p;return o!==0?o:(o=window.event,o===void 0?32:dj(o.type))}function dt(o,a){var u=Y.p;try{return Y.p=o,a()}finally{Y.p=u}}var wt=Math.random().toString(36).slice(2),It="__reactFiber$"+wt,tt="__reactProps$"+wt,Vt="__reactContainer$"+wt,oi="__reactEvents$"+wt,bi="__reactListeners$"+wt,Pi="__reactHandles$"+wt,ua="__reactResources$"+wt,G="__reactMarker$"+wt;function Re(o){delete o[It],delete o[tt],delete o[oi],delete o[bi],delete o[Pi]}function He(o){var a=o[It];if(a)return a;for(var u=o.parentNode;u;){if(a=u[Vt]||u[It]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(o=GS(o);o!==null;){if(u=o[It])return u;o=GS(o)}return a}o=u,u=o.parentNode}return null}function Ve(o){if(o=o[It]||o[Vt]){var a=o.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return o}return null}function Tt(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o.stateNode;throw Error(i(33))}function At(o){var a=o[ua];return a||(a=o[ua]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function rt(o){o[G]=!0}var Ct=new Set,kr={};function $n(o,a){$i(o,a),$i(o+"Capture",a)}function $i(o,a){for(kr[o]=a,o=0;o<a.length;o++)Ct.add(a[o])}var tu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sp={},Nr={};function jp(o){return at.call(Nr,o)?!0:at.call(Sp,o)?!1:tu.test(o)?Nr[o]=!0:(Sp[o]=!0,!1)}function Qa(o,a,u){if(jp(a))if(u===null)o.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":o.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){o.removeAttribute(a);return}}o.setAttribute(a,""+u)}}function Za(o,a,u){if(u===null)o.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(a);return}o.setAttribute(a,""+u)}}function D(o,a,u,f){if(f===null)o.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttributeNS(a,u,""+f)}}function _e(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Mt(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ai(o,a,u){var f=Object.getOwnPropertyDescriptor(o.constructor.prototype,a);if(!o.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,b=f.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(z){u=""+z,b.call(this,z)}}),Object.defineProperty(o,a,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(z){u=""+z},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Ni(o){if(!o._valueTracker){var a=Mt(o)?"checked":"value";o._valueTracker=ai(o,a,""+o[a])}}function Db(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return o&&(f=Mt(o)?o.checked?"true":"false":o.value),o=f,o!==u?(a.setValue(o),!0):!1}function ru(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var pO=/[\n"\\]/g;function Nn(o){return o.replace(pO,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function wp(o,a,u,f,y,b,z,M){o.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.type=z:o.removeAttribute("type"),a!=null?z==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+_e(a)):o.value!==""+_e(a)&&(o.value=""+_e(a)):z!=="submit"&&z!=="reset"||o.removeAttribute("value"),a!=null?Cp(o,z,_e(a)):u!=null?Cp(o,z,_e(u)):f!=null&&o.removeAttribute("value"),y==null&&b!=null&&(o.defaultChecked=!!b),y!=null&&(o.checked=y&&typeof y!="function"&&typeof y!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?o.name=""+_e(M):o.removeAttribute("name")}function Pb(o,a,u,f,y,b,z,M){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(o.type=b),a!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){Ni(o);return}u=u!=null?""+_e(u):"",a=a!=null?""+_e(a):u,M||a===o.value||(o.value=a),o.defaultValue=a}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,o.checked=M?o.checked:!!f,o.defaultChecked=!!f,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(o.name=z),Ni(o)}function Cp(o,a,u){a==="number"&&ru(o.ownerDocument)===o||o.defaultValue===""+u||(o.defaultValue=""+u)}function Ja(o,a,u,f){if(o=o.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<o.length;u++)y=a.hasOwnProperty("$"+o[u].value),o[u].selected!==y&&(o[u].selected=y),y&&f&&(o[u].defaultSelected=!0)}else{for(u=""+_e(u),a=null,y=0;y<o.length;y++){if(o[y].value===u){o[y].selected=!0,f&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function $b(o,a,u){if(a!=null&&(a=""+_e(a),a!==o.value&&(o.value=a),u==null)){o.defaultValue!==a&&(o.defaultValue=a);return}o.defaultValue=u!=null?""+_e(u):""}function Nb(o,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(i(92));if(ge(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=_e(a),o.defaultValue=u,f=o.textContent,f===u&&f!==""&&f!==null&&(o.value=f),Ni(o)}function el(o,a){if(a){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=a;return}}o.textContent=a}var gO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lb(o,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?o.setProperty(a,""):a==="float"?o.cssFloat="":o[a]="":f?o.setProperty(a,u):typeof u!="number"||u===0||gO.has(a)?a==="float"?o.cssFloat=u:o[a]=(""+u).trim():o[a]=u+"px"}function Wb(o,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(o=o.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?o.setProperty(f,""):f==="float"?o.cssFloat="":o[f]="");for(var y in a)f=a[y],a.hasOwnProperty(y)&&u[y]!==f&&Lb(o,y,f)}else for(var b in a)a.hasOwnProperty(b)&&Lb(o,b,a[b])}function kp(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nu(o){return hO.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Li(){}var zp=null;function _p(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var tl=null,rl=null;function Bb(o){var a=Ve(o);if(a&&(o=a.stateNode)){var u=o[tt]||null;e:switch(o=a.stateNode,a.type){case"input":if(wp(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Nn(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==o&&f.form===o.form){var y=f[tt]||null;if(!y)throw Error(i(90));wp(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===o.form&&Db(f)}break e;case"textarea":$b(o,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Ja(o,!!u.multiple,a,!1)}}}var Tp=!1;function Ib(o,a,u){if(Tp)return o(a,u);Tp=!0;try{var f=o(a);return f}finally{if(Tp=!1,(tl!==null||rl!==null)&&(Hu(),tl&&(a=tl,o=rl,rl=tl=null,Bb(a),o)))for(a=0;a<o.length;a++)Bb(o[a])}}function us(o,a){var u=o.stateNode;if(u===null)return null;var f=u[tt]||null;if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var Wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ap=!1;if(Wi)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){Ap=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{Ap=!1}var Co=null,Ep=null,iu=null;function qb(){if(iu)return iu;var o,a=Ep,u=a.length,f,y="value"in Co?Co.value:Co.textContent,b=y.length;for(o=0;o<u&&a[o]===y[o];o++);var z=u-o;for(f=1;f<=z&&a[u-f]===y[b-f];f++);return iu=y.slice(o,1<f?1-f:void 0)}function ou(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function au(){return!0}function Ub(){return!1}function on(o){function a(u,f,y,b,z){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=z,this.currentTarget=null;for(var M in o)o.hasOwnProperty(M)&&(u=o[M],this[M]=u?u(b):b[M]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?au:Ub,this.isPropagationStopped=Ub,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=au)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=au)},persist:function(){},isPersistent:au}),a}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lu=on(da),fs=v({},da,{view:0,detail:0}),yO=on(fs),Op,Mp,ps,su=v({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ps&&(ps&&o.type==="mousemove"?(Op=o.screenX-ps.screenX,Mp=o.screenY-ps.screenY):Mp=Op=0,ps=o),Op)},movementY:function(o){return"movementY"in o?o.movementY:Mp}}),Hb=on(su),xO=v({},su,{dataTransfer:0}),vO=on(xO),bO=v({},fs,{relatedTarget:0}),Rp=on(bO),SO=v({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),jO=on(SO),wO=v({},da,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),CO=on(wO),kO=v({},da,{data:0}),Fb=on(kO),zO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_O={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AO(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=TO[o])?!!a[o]:!1}function Dp(){return AO}var EO=v({},fs,{key:function(o){if(o.key){var a=zO[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=ou(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?_O[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dp,charCode:function(o){return o.type==="keypress"?ou(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ou(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),OO=on(EO),MO=v({},su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kb=on(MO),RO=v({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dp}),DO=on(RO),PO=v({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),$O=on(PO),NO=v({},su,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),LO=on(NO),WO=v({},da,{newState:0,oldState:0}),BO=on(WO),IO=[9,13,27,32],Pp=Wi&&"CompositionEvent"in window,gs=null;Wi&&"documentMode"in document&&(gs=document.documentMode);var qO=Wi&&"TextEvent"in window&&!gs,Yb=Wi&&(!Pp||gs&&8<gs&&11>=gs),Vb=" ",Gb=!1;function Xb(o,a){switch(o){case"keyup":return IO.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qb(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var nl=!1;function UO(o,a){switch(o){case"compositionend":return Qb(a);case"keypress":return a.which!==32?null:(Gb=!0,Vb);case"textInput":return o=a.data,o===Vb&&Gb?null:o;default:return null}}function HO(o,a){if(nl)return o==="compositionend"||!Pp&&Xb(o,a)?(o=qb(),iu=Ep=Co=null,nl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Yb&&a.locale!=="ko"?null:a.data;default:return null}}var FO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zb(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!FO[o.type]:a==="textarea"}function Jb(o,a,u,f){tl?rl?rl.push(f):rl=[f]:tl=f,a=Qu(a,"onChange"),0<a.length&&(u=new lu("onChange","change",null,u,f),o.push({event:u,listeners:a}))}var ms=null,hs=null;function KO(o){PS(o,0)}function cu(o){var a=Tt(o);if(Db(a))return o}function e0(o,a){if(o==="change")return a}var t0=!1;if(Wi){var $p;if(Wi){var Np="oninput"in document;if(!Np){var r0=document.createElement("div");r0.setAttribute("oninput","return;"),Np=typeof r0.oninput=="function"}$p=Np}else $p=!1;t0=$p&&(!document.documentMode||9<document.documentMode)}function n0(){ms&&(ms.detachEvent("onpropertychange",i0),hs=ms=null)}function i0(o){if(o.propertyName==="value"&&cu(hs)){var a=[];Jb(a,hs,o,_p(o)),Ib(KO,a)}}function YO(o,a,u){o==="focusin"?(n0(),ms=a,hs=u,ms.attachEvent("onpropertychange",i0)):o==="focusout"&&n0()}function VO(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return cu(hs)}function GO(o,a){if(o==="click")return cu(a)}function XO(o,a){if(o==="input"||o==="change")return cu(a)}function QO(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var hn=typeof Object.is=="function"?Object.is:QO;function ys(o,a){if(hn(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var u=Object.keys(o),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!at.call(a,y)||!hn(o[y],a[y]))return!1}return!0}function o0(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function a0(o,a){var u=o0(o);o=0;for(var f;u;){if(u.nodeType===3){if(f=o+u.textContent.length,o<=a&&f>=a)return{node:u,offset:a-o};o=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=o0(u)}}function l0(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?l0(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function s0(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var a=ru(o.document);a instanceof o.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)o=a.contentWindow;else break;a=ru(o.document)}return a}function Lp(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}var ZO=Wi&&"documentMode"in document&&11>=document.documentMode,il=null,Wp=null,xs=null,Bp=!1;function c0(o,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Bp||il==null||il!==ru(f)||(f=il,"selectionStart"in f&&Lp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),xs&&ys(xs,f)||(xs=f,f=Qu(Wp,"onSelect"),0<f.length&&(a=new lu("onSelect","select",null,a,u),o.push({event:a,listeners:f}),a.target=il)))}function fa(o,a){var u={};return u[o.toLowerCase()]=a.toLowerCase(),u["Webkit"+o]="webkit"+a,u["Moz"+o]="moz"+a,u}var ol={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},Ip={},u0={};Wi&&(u0=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function pa(o){if(Ip[o])return Ip[o];if(!ol[o])return o;var a=ol[o],u;for(u in a)if(a.hasOwnProperty(u)&&u in u0)return Ip[o]=a[u];return o}var d0=pa("animationend"),f0=pa("animationiteration"),p0=pa("animationstart"),JO=pa("transitionrun"),eM=pa("transitionstart"),tM=pa("transitioncancel"),g0=pa("transitionend"),m0=new Map,qp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qp.push("scrollEnd");function li(o,a){m0.set(o,a),$n(a,[o])}var uu=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Ln=[],al=0,Up=0;function du(){for(var o=al,a=Up=al=0;a<o;){var u=Ln[a];Ln[a++]=null;var f=Ln[a];Ln[a++]=null;var y=Ln[a];Ln[a++]=null;var b=Ln[a];if(Ln[a++]=null,f!==null&&y!==null){var z=f.pending;z===null?y.next=y:(y.next=z.next,z.next=y),f.pending=y}b!==0&&h0(u,y,b)}}function fu(o,a,u,f){Ln[al++]=o,Ln[al++]=a,Ln[al++]=u,Ln[al++]=f,Up|=f,o.lanes|=f,o=o.alternate,o!==null&&(o.lanes|=f)}function Hp(o,a,u,f){return fu(o,a,u,f),pu(o)}function ga(o,a){return fu(o,null,null,a),pu(o)}function h0(o,a,u){o.lanes|=u;var f=o.alternate;f!==null&&(f.lanes|=u);for(var y=!1,b=o.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(o=b.stateNode,o===null||o._visibility&1||(y=!0)),o=b,b=b.return;return o.tag===3?(b=o.stateNode,y&&a!==null&&(y=31-xe(u),o=b.hiddenUpdates,f=o[y],f===null?o[y]=[a]:f.push(a),a.lane=u|536870912),b):null}function pu(o){if(50<Bs)throw Bs=0,Jg=null,Error(i(185));for(var a=o.return;a!==null;)o=a,a=o.return;return o.tag===3?o.stateNode:null}var ll={};function rM(o,a,u,f){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(o,a,u,f){return new rM(o,a,u,f)}function Fp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Bi(o,a){var u=o.alternate;return u===null?(u=yn(o.tag,a,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=a,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&65011712,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,a=o.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u.refCleanup=o.refCleanup,u}function y0(o,a){o.flags&=65011714;var u=o.alternate;return u===null?(o.childLanes=0,o.lanes=a,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,a=u.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),o}function gu(o,a,u,f,y,b){var z=0;if(f=o,typeof o=="function")Fp(o)&&(z=1);else if(typeof o=="string")z=lR(o,u,V.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case ee:return o=yn(31,u,a,y),o.elementType=ee,o.lanes=b,o;case w:return ma(u.children,y,b,a);case C:z=8,y|=24;break;case _:return o=yn(12,u,a,y|2),o.elementType=_,o.lanes=b,o;case O:return o=yn(13,u,a,y),o.elementType=O,o.lanes=b,o;case P:return o=yn(19,u,a,y),o.elementType=P,o.lanes=b,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case A:z=10;break e;case E:z=9;break e;case T:z=11;break e;case R:z=14;break e;case U:z=16,f=null;break e}z=29,u=Error(i(130,o===null?"null":typeof o,"")),f=null}return a=yn(z,u,a,y),a.elementType=o,a.type=f,a.lanes=b,a}function ma(o,a,u,f){return o=yn(7,o,f,a),o.lanes=u,o}function Kp(o,a,u){return o=yn(6,o,null,a),o.lanes=u,o}function x0(o){var a=yn(18,null,null,0);return a.stateNode=o,a}function Yp(o,a,u){return a=yn(4,o.children!==null?o.children:[],o.key,a),a.lanes=u,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}var v0=new WeakMap;function Wn(o,a){if(typeof o=="object"&&o!==null){var u=v0.get(o);return u!==void 0?u:(a={value:o,source:a,stack:Ke(a)},v0.set(o,a),a)}return{value:o,source:a,stack:Ke(a)}}var sl=[],cl=0,mu=null,vs=0,Bn=[],In=0,ko=null,Si=1,ji="";function Ii(o,a){sl[cl++]=vs,sl[cl++]=mu,mu=o,vs=a}function b0(o,a,u){Bn[In++]=Si,Bn[In++]=ji,Bn[In++]=ko,ko=o;var f=Si;o=ji;var y=32-xe(f)-1;f&=~(1<<y),u+=1;var b=32-xe(a)+y;if(30<b){var z=y-y%5;b=(f&(1<<z)-1).toString(32),f>>=z,y-=z,Si=1<<32-xe(a)+y|u<<y|f,ji=b+o}else Si=1<<b|u<<y|f,ji=o}function Vp(o){o.return!==null&&(Ii(o,1),b0(o,1,0))}function Gp(o){for(;o===mu;)mu=sl[--cl],sl[cl]=null,vs=sl[--cl],sl[cl]=null;for(;o===ko;)ko=Bn[--In],Bn[In]=null,ji=Bn[--In],Bn[In]=null,Si=Bn[--In],Bn[In]=null}function S0(o,a){Bn[In++]=Si,Bn[In++]=ji,Bn[In++]=ko,Si=a.id,ji=a.overflow,ko=o}var Lr=null,Gt=null,gt=!1,zo=null,qn=!1,Xp=Error(i(519));function _o(o){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bs(Wn(a,o)),Xp}function j0(o){var a=o.stateNode,u=o.type,f=o.memoizedProps;switch(a[It]=o,a[tt]=f,u){case"dialog":ut("cancel",a),ut("close",a);break;case"iframe":case"object":case"embed":ut("load",a);break;case"video":case"audio":for(u=0;u<qs.length;u++)ut(qs[u],a);break;case"source":ut("error",a);break;case"img":case"image":case"link":ut("error",a),ut("load",a);break;case"details":ut("toggle",a);break;case"input":ut("invalid",a),Pb(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":ut("invalid",a);break;case"textarea":ut("invalid",a),Nb(a,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||WS(a.textContent,u)?(f.popover!=null&&(ut("beforetoggle",a),ut("toggle",a)),f.onScroll!=null&&ut("scroll",a),f.onScrollEnd!=null&&ut("scrollend",a),f.onClick!=null&&(a.onclick=Li),a=!0):a=!1,a||_o(o,!0)}function w0(o){for(Lr=o.return;Lr;)switch(Lr.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Lr=Lr.return}}function ul(o){if(o!==Lr)return!1;if(!gt)return w0(o),gt=!0,!1;var a=o.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=o.type,u=!(u!=="form"&&u!=="button")||gm(o.type,o.memoizedProps)),u=!u),u&&Gt&&_o(o),w0(o),a===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Gt=VS(o)}else if(a===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Gt=VS(o)}else a===27?(a=Gt,Io(o.type)?(o=vm,vm=null,Gt=o):Gt=a):Gt=Lr?Hn(o.stateNode.nextSibling):null;return!0}function ha(){Gt=Lr=null,gt=!1}function Qp(){var o=zo;return o!==null&&(cn===null?cn=o:cn.push.apply(cn,o),zo=null),o}function bs(o){zo===null?zo=[o]:zo.push(o)}var Zp=$(null),ya=null,qi=null;function To(o,a,u){L(Zp,a._currentValue),a._currentValue=u}function Ui(o){o._currentValue=Zp.current,W(Zp)}function Jp(o,a,u){for(;o!==null;){var f=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),o===u)break;o=o.return}}function eg(o,a,u,f){var y=o.child;for(y!==null&&(y.return=o);y!==null;){var b=y.dependencies;if(b!==null){var z=y.child;b=b.firstContext;e:for(;b!==null;){var M=b;b=y;for(var q=0;q<a.length;q++)if(M.context===a[q]){b.lanes|=u,M=b.alternate,M!==null&&(M.lanes|=u),Jp(b.return,u,o),f||(z=null);break e}b=M.next}}else if(y.tag===18){if(z=y.return,z===null)throw Error(i(341));z.lanes|=u,b=z.alternate,b!==null&&(b.lanes|=u),Jp(z,u,o),z=null}else z=y.child;if(z!==null)z.return=y;else for(z=y;z!==null;){if(z===o){z=null;break}if(y=z.sibling,y!==null){y.return=z.return,z=y;break}z=z.return}y=z}}function dl(o,a,u,f){o=null;for(var y=a,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var z=y.alternate;if(z===null)throw Error(i(387));if(z=z.memoizedProps,z!==null){var M=y.type;hn(y.pendingProps.value,z.value)||(o!==null?o.push(M):o=[M])}}else if(y===X.current){if(z=y.alternate,z===null)throw Error(i(387));z.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(o!==null?o.push(Ys):o=[Ys])}y=y.return}o!==null&&eg(a,o,u,f),a.flags|=262144}function hu(o){for(o=o.firstContext;o!==null;){if(!hn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function xa(o){ya=o,qi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Wr(o){return C0(ya,o)}function yu(o,a){return ya===null&&xa(o),C0(o,a)}function C0(o,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},qi===null){if(o===null)throw Error(i(308));qi=a,o.dependencies={lanes:0,firstContext:a},o.flags|=524288}else qi=qi.next=a;return u}var nM=typeof AbortController<"u"?AbortController:function(){var o=[],a=this.signal={aborted:!1,addEventListener:function(u,f){o.push(f)}};this.abort=function(){a.aborted=!0,o.forEach(function(u){return u()})}},iM=e.unstable_scheduleCallback,oM=e.unstable_NormalPriority,xr={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tg(){return{controller:new nM,data:new Map,refCount:0}}function Ss(o){o.refCount--,o.refCount===0&&iM(oM,function(){o.controller.abort()})}var js=null,rg=0,fl=0,pl=null;function aM(o,a){if(js===null){var u=js=[];rg=0,fl=om(),pl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return rg++,a.then(k0,k0),a}function k0(){if(--rg===0&&js!==null){pl!==null&&(pl.status="fulfilled");var o=js;js=null,fl=0,pl=null;for(var a=0;a<o.length;a++)(0,o[a])()}}function lM(o,a){var u=[],f={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return o.then(function(){f.status="fulfilled",f.value=a;for(var y=0;y<u.length;y++)(0,u[y])(a)},function(y){for(f.status="rejected",f.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),f}var z0=F.S;F.S=function(o,a){cS=H(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&aM(o,a),z0!==null&&z0(o,a)};var va=$(null);function ng(){var o=va.current;return o!==null?o:qt.pooledCache}function xu(o,a){a===null?L(va,va.current):L(va,a.pool)}function _0(){var o=ng();return o===null?null:{parent:xr._currentValue,pool:o}}var gl=Error(i(460)),ig=Error(i(474)),vu=Error(i(542)),bu={then:function(){}};function T0(o){return o=o.status,o==="fulfilled"||o==="rejected"}function A0(o,a,u){switch(u=o[u],u===void 0?o.push(a):u!==a&&(a.then(Li,Li),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,O0(o),o;default:if(typeof a.status=="string")a.then(Li,Li);else{if(o=qt,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=a,o.status="pending",o.then(function(f){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=f}},function(f){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,O0(o),o}throw Sa=a,gl}}function ba(o){try{var a=o._init;return a(o._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Sa=u,gl):u}}var Sa=null;function E0(){if(Sa===null)throw Error(i(459));var o=Sa;return Sa=null,o}function O0(o){if(o===gl||o===vu)throw Error(i(483))}var ml=null,ws=0;function Su(o){var a=ws;return ws+=1,ml===null&&(ml=[]),A0(ml,o,a)}function Cs(o,a){a=a.props.ref,o.ref=a!==void 0?a:null}function ju(o,a){throw a.$$typeof===S?Error(i(525)):(o=Object.prototype.toString.call(a),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o)))}function M0(o){function a(Q,K){if(o){var ie=Q.deletions;ie===null?(Q.deletions=[K],Q.flags|=16):ie.push(K)}}function u(Q,K){if(!o)return null;for(;K!==null;)a(Q,K),K=K.sibling;return null}function f(Q){for(var K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function y(Q,K){return Q=Bi(Q,K),Q.index=0,Q.sibling=null,Q}function b(Q,K,ie){return Q.index=ie,o?(ie=Q.alternate,ie!==null?(ie=ie.index,ie<K?(Q.flags|=67108866,K):ie):(Q.flags|=67108866,K)):(Q.flags|=1048576,K)}function z(Q){return o&&Q.alternate===null&&(Q.flags|=67108866),Q}function M(Q,K,ie,je){return K===null||K.tag!==6?(K=Kp(ie,Q.mode,je),K.return=Q,K):(K=y(K,ie),K.return=Q,K)}function q(Q,K,ie,je){var Xe=ie.type;return Xe===w?ve(Q,K,ie.props.children,je,ie.key):K!==null&&(K.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===U&&ba(Xe)===K.type)?(K=y(K,ie.props),Cs(K,ie),K.return=Q,K):(K=gu(ie.type,ie.key,ie.props,null,Q.mode,je),Cs(K,ie),K.return=Q,K)}function ae(Q,K,ie,je){return K===null||K.tag!==4||K.stateNode.containerInfo!==ie.containerInfo||K.stateNode.implementation!==ie.implementation?(K=Yp(ie,Q.mode,je),K.return=Q,K):(K=y(K,ie.children||[]),K.return=Q,K)}function ve(Q,K,ie,je,Xe){return K===null||K.tag!==7?(K=ma(ie,Q.mode,je,Xe),K.return=Q,K):(K=y(K,ie),K.return=Q,K)}function we(Q,K,ie){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Kp(""+K,Q.mode,ie),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case j:return ie=gu(K.type,K.key,K.props,null,Q.mode,ie),Cs(ie,K),ie.return=Q,ie;case k:return K=Yp(K,Q.mode,ie),K.return=Q,K;case U:return K=ba(K),we(Q,K,ie)}if(ge(K)||re(K))return K=ma(K,Q.mode,ie,null),K.return=Q,K;if(typeof K.then=="function")return we(Q,Su(K),ie);if(K.$$typeof===A)return we(Q,yu(Q,K),ie);ju(Q,K)}return null}function se(Q,K,ie,je){var Xe=K!==null?K.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Xe!==null?null:M(Q,K,""+ie,je);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case j:return ie.key===Xe?q(Q,K,ie,je):null;case k:return ie.key===Xe?ae(Q,K,ie,je):null;case U:return ie=ba(ie),se(Q,K,ie,je)}if(ge(ie)||re(ie))return Xe!==null?null:ve(Q,K,ie,je,null);if(typeof ie.then=="function")return se(Q,K,Su(ie),je);if(ie.$$typeof===A)return se(Q,K,yu(Q,ie),je);ju(Q,ie)}return null}function pe(Q,K,ie,je,Xe){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return Q=Q.get(ie)||null,M(K,Q,""+je,Xe);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case j:return Q=Q.get(je.key===null?ie:je.key)||null,q(K,Q,je,Xe);case k:return Q=Q.get(je.key===null?ie:je.key)||null,ae(K,Q,je,Xe);case U:return je=ba(je),pe(Q,K,ie,je,Xe)}if(ge(je)||re(je))return Q=Q.get(ie)||null,ve(K,Q,je,Xe,null);if(typeof je.then=="function")return pe(Q,K,ie,Su(je),Xe);if(je.$$typeof===A)return pe(Q,K,ie,yu(K,je),Xe);ju(K,je)}return null}function Le(Q,K,ie,je){for(var Xe=null,vt=null,Ue=K,lt=K=0,pt=null;Ue!==null&&lt<ie.length;lt++){Ue.index>lt?(pt=Ue,Ue=null):pt=Ue.sibling;var bt=se(Q,Ue,ie[lt],je);if(bt===null){Ue===null&&(Ue=pt);break}o&&Ue&&bt.alternate===null&&a(Q,Ue),K=b(bt,K,lt),vt===null?Xe=bt:vt.sibling=bt,vt=bt,Ue=pt}if(lt===ie.length)return u(Q,Ue),gt&&Ii(Q,lt),Xe;if(Ue===null){for(;lt<ie.length;lt++)Ue=we(Q,ie[lt],je),Ue!==null&&(K=b(Ue,K,lt),vt===null?Xe=Ue:vt.sibling=Ue,vt=Ue);return gt&&Ii(Q,lt),Xe}for(Ue=f(Ue);lt<ie.length;lt++)pt=pe(Ue,Q,lt,ie[lt],je),pt!==null&&(o&&pt.alternate!==null&&Ue.delete(pt.key===null?lt:pt.key),K=b(pt,K,lt),vt===null?Xe=pt:vt.sibling=pt,vt=pt);return o&&Ue.forEach(function(Ko){return a(Q,Ko)}),gt&&Ii(Q,lt),Xe}function Ze(Q,K,ie,je){if(ie==null)throw Error(i(151));for(var Xe=null,vt=null,Ue=K,lt=K=0,pt=null,bt=ie.next();Ue!==null&&!bt.done;lt++,bt=ie.next()){Ue.index>lt?(pt=Ue,Ue=null):pt=Ue.sibling;var Ko=se(Q,Ue,bt.value,je);if(Ko===null){Ue===null&&(Ue=pt);break}o&&Ue&&Ko.alternate===null&&a(Q,Ue),K=b(Ko,K,lt),vt===null?Xe=Ko:vt.sibling=Ko,vt=Ko,Ue=pt}if(bt.done)return u(Q,Ue),gt&&Ii(Q,lt),Xe;if(Ue===null){for(;!bt.done;lt++,bt=ie.next())bt=we(Q,bt.value,je),bt!==null&&(K=b(bt,K,lt),vt===null?Xe=bt:vt.sibling=bt,vt=bt);return gt&&Ii(Q,lt),Xe}for(Ue=f(Ue);!bt.done;lt++,bt=ie.next())bt=pe(Ue,Q,lt,bt.value,je),bt!==null&&(o&&bt.alternate!==null&&Ue.delete(bt.key===null?lt:bt.key),K=b(bt,K,lt),vt===null?Xe=bt:vt.sibling=bt,vt=bt);return o&&Ue.forEach(function(xR){return a(Q,xR)}),gt&&Ii(Q,lt),Xe}function Wt(Q,K,ie,je){if(typeof ie=="object"&&ie!==null&&ie.type===w&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case j:e:{for(var Xe=ie.key;K!==null;){if(K.key===Xe){if(Xe=ie.type,Xe===w){if(K.tag===7){u(Q,K.sibling),je=y(K,ie.props.children),je.return=Q,Q=je;break e}}else if(K.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===U&&ba(Xe)===K.type){u(Q,K.sibling),je=y(K,ie.props),Cs(je,ie),je.return=Q,Q=je;break e}u(Q,K);break}else a(Q,K);K=K.sibling}ie.type===w?(je=ma(ie.props.children,Q.mode,je,ie.key),je.return=Q,Q=je):(je=gu(ie.type,ie.key,ie.props,null,Q.mode,je),Cs(je,ie),je.return=Q,Q=je)}return z(Q);case k:e:{for(Xe=ie.key;K!==null;){if(K.key===Xe)if(K.tag===4&&K.stateNode.containerInfo===ie.containerInfo&&K.stateNode.implementation===ie.implementation){u(Q,K.sibling),je=y(K,ie.children||[]),je.return=Q,Q=je;break e}else{u(Q,K);break}else a(Q,K);K=K.sibling}je=Yp(ie,Q.mode,je),je.return=Q,Q=je}return z(Q);case U:return ie=ba(ie),Wt(Q,K,ie,je)}if(ge(ie))return Le(Q,K,ie,je);if(re(ie)){if(Xe=re(ie),typeof Xe!="function")throw Error(i(150));return ie=Xe.call(ie),Ze(Q,K,ie,je)}if(typeof ie.then=="function")return Wt(Q,K,Su(ie),je);if(ie.$$typeof===A)return Wt(Q,K,yu(Q,ie),je);ju(Q,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,K!==null&&K.tag===6?(u(Q,K.sibling),je=y(K,ie),je.return=Q,Q=je):(u(Q,K),je=Kp(ie,Q.mode,je),je.return=Q,Q=je),z(Q)):u(Q,K)}return function(Q,K,ie,je){try{ws=0;var Xe=Wt(Q,K,ie,je);return ml=null,Xe}catch(Ue){if(Ue===gl||Ue===vu)throw Ue;var vt=yn(29,Ue,null,Q.mode);return vt.lanes=je,vt.return=Q,vt}finally{}}}var ja=M0(!0),R0=M0(!1),Ao=!1;function og(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ag(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Eo(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Oo(o,a,u){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(kt&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,a=pu(o),h0(o,null,u),a}return fu(o,f,a,u),pu(o)}function ks(o,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=o.pendingLanes,u|=f,a.lanes=u,ii(o,u)}}function lg(o,a){var u=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var z={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=z:b=b.next=z,u=u.next}while(u!==null);b===null?y=b=a:b=b.next=a}else y=b=a;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=a:o.next=a,u.lastBaseUpdate=a}var sg=!1;function zs(){if(sg){var o=pl;if(o!==null)throw o}}function _s(o,a,u,f){sg=!1;var y=o.updateQueue;Ao=!1;var b=y.firstBaseUpdate,z=y.lastBaseUpdate,M=y.shared.pending;if(M!==null){y.shared.pending=null;var q=M,ae=q.next;q.next=null,z===null?b=ae:z.next=ae,z=q;var ve=o.alternate;ve!==null&&(ve=ve.updateQueue,M=ve.lastBaseUpdate,M!==z&&(M===null?ve.firstBaseUpdate=ae:M.next=ae,ve.lastBaseUpdate=q))}if(b!==null){var we=y.baseState;z=0,ve=ae=q=null,M=b;do{var se=M.lane&-536870913,pe=se!==M.lane;if(pe?(ft&se)===se:(f&se)===se){se!==0&&se===fl&&(sg=!0),ve!==null&&(ve=ve.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Le=o,Ze=M;se=a;var Wt=u;switch(Ze.tag){case 1:if(Le=Ze.payload,typeof Le=="function"){we=Le.call(Wt,we,se);break e}we=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ze.payload,se=typeof Le=="function"?Le.call(Wt,we,se):Le,se==null)break e;we=v({},we,se);break e;case 2:Ao=!0}}se=M.callback,se!==null&&(o.flags|=64,pe&&(o.flags|=8192),pe=y.callbacks,pe===null?y.callbacks=[se]:pe.push(se))}else pe={lane:se,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ve===null?(ae=ve=pe,q=we):ve=ve.next=pe,z|=se;if(M=M.next,M===null){if(M=y.shared.pending,M===null)break;pe=M,M=pe.next,pe.next=null,y.lastBaseUpdate=pe,y.shared.pending=null}}while(!0);ve===null&&(q=we),y.baseState=q,y.firstBaseUpdate=ae,y.lastBaseUpdate=ve,b===null&&(y.shared.lanes=0),$o|=z,o.lanes=z,o.memoizedState=we}}function D0(o,a){if(typeof o!="function")throw Error(i(191,o));o.call(a)}function P0(o,a){var u=o.callbacks;if(u!==null)for(o.callbacks=null,o=0;o<u.length;o++)D0(u[o],a)}var hl=$(null),wu=$(0);function $0(o,a){o=Zi,L(wu,o),L(hl,a),Zi=o|a.baseLanes}function cg(){L(wu,Zi),L(hl,hl.current)}function ug(){Zi=wu.current,W(hl),W(wu)}var xn=$(null),Un=null;function Mo(o){var a=o.alternate;L(fr,fr.current&1),L(xn,o),Un===null&&(a===null||hl.current!==null||a.memoizedState!==null)&&(Un=o)}function dg(o){L(fr,fr.current),L(xn,o),Un===null&&(Un=o)}function N0(o){o.tag===22?(L(fr,fr.current),L(xn,o),Un===null&&(Un=o)):Ro()}function Ro(){L(fr,fr.current),L(xn,xn.current)}function vn(o){W(xn),Un===o&&(Un=null),W(fr)}var fr=$(0);function Cu(o){for(var a=o;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||ym(u)||xm(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Hi=0,ot=null,Nt=null,vr=null,ku=!1,yl=!1,wa=!1,zu=0,Ts=0,xl=null,sM=0;function cr(){throw Error(i(321))}function fg(o,a){if(a===null)return!1;for(var u=0;u<a.length&&u<o.length;u++)if(!hn(o[u],a[u]))return!1;return!0}function pg(o,a,u,f,y,b){return Hi=b,ot=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,F.H=o===null||o.memoizedState===null?b1:Tg,wa=!1,b=u(f,y),wa=!1,yl&&(b=W0(a,u,f,y)),L0(o),b}function L0(o){F.H=Os;var a=Nt!==null&&Nt.next!==null;if(Hi=0,vr=Nt=ot=null,ku=!1,Ts=0,xl=null,a)throw Error(i(300));o===null||br||(o=o.dependencies,o!==null&&hu(o)&&(br=!0))}function W0(o,a,u,f){ot=o;var y=0;do{if(yl&&(xl=null),Ts=0,yl=!1,25<=y)throw Error(i(301));if(y+=1,vr=Nt=null,o.updateQueue!=null){var b=o.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}F.H=S1,b=a(u,f)}while(yl);return b}function cM(){var o=F.H,a=o.useState()[0];return a=typeof a.then=="function"?As(a):a,o=o.useState()[0],(Nt!==null?Nt.memoizedState:null)!==o&&(ot.flags|=1024),a}function gg(){var o=zu!==0;return zu=0,o}function mg(o,a,u){a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~u}function hg(o){if(ku){for(o=o.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}ku=!1}Hi=0,vr=Nt=ot=null,yl=!1,Ts=zu=0,xl=null}function Qr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?ot.memoizedState=vr=o:vr=vr.next=o,vr}function pr(){if(Nt===null){var o=ot.alternate;o=o!==null?o.memoizedState:null}else o=Nt.next;var a=vr===null?ot.memoizedState:vr.next;if(a!==null)vr=a,Nt=o;else{if(o===null)throw ot.alternate===null?Error(i(467)):Error(i(310));Nt=o,o={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},vr===null?ot.memoizedState=vr=o:vr=vr.next=o}return vr}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function As(o){var a=Ts;return Ts+=1,xl===null&&(xl=[]),o=A0(xl,o,a),a=ot,(vr===null?a.memoizedState:vr.next)===null&&(a=a.alternate,F.H=a===null||a.memoizedState===null?b1:Tg),o}function Tu(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return As(o);if(o.$$typeof===A)return Wr(o)}throw Error(i(438,String(o)))}function yg(o){var a=null,u=ot.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=ot.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=_u(),ot.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(o),f=0;f<o;f++)u[f]=fe;return a.index++,u}function Fi(o,a){return typeof a=="function"?a(o):a}function Au(o){var a=pr();return xg(a,Nt,o)}function xg(o,a,u){var f=o.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var y=o.baseQueue,b=f.pending;if(b!==null){if(y!==null){var z=y.next;y.next=b.next,b.next=z}a.baseQueue=y=b,f.pending=null}if(b=o.baseState,y===null)o.memoizedState=b;else{a=y.next;var M=z=null,q=null,ae=a,ve=!1;do{var we=ae.lane&-536870913;if(we!==ae.lane?(ft&we)===we:(Hi&we)===we){var se=ae.revertLane;if(se===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),we===fl&&(ve=!0);else if((Hi&se)===se){ae=ae.next,se===fl&&(ve=!0);continue}else we={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},q===null?(M=q=we,z=b):q=q.next=we,ot.lanes|=se,$o|=se;we=ae.action,wa&&u(b,we),b=ae.hasEagerState?ae.eagerState:u(b,we)}else se={lane:we,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},q===null?(M=q=se,z=b):q=q.next=se,ot.lanes|=we,$o|=we;ae=ae.next}while(ae!==null&&ae!==a);if(q===null?z=b:q.next=M,!hn(b,o.memoizedState)&&(br=!0,ve&&(u=pl,u!==null)))throw u;o.memoizedState=b,o.baseState=z,o.baseQueue=q,f.lastRenderedState=b}return y===null&&(f.lanes=0),[o.memoizedState,f.dispatch]}function vg(o){var a=pr(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=u.dispatch,y=u.pending,b=a.memoizedState;if(y!==null){u.pending=null;var z=y=y.next;do b=o(b,z.action),z=z.next;while(z!==y);hn(b,a.memoizedState)||(br=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,f]}function B0(o,a,u){var f=ot,y=pr(),b=gt;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=a();var z=!hn((Nt||y).memoizedState,u);if(z&&(y.memoizedState=u,br=!0),y=y.queue,jg(U0.bind(null,f,y,o),[o]),y.getSnapshot!==a||z||vr!==null&&vr.memoizedState.tag&1){if(f.flags|=2048,vl(9,{destroy:void 0},q0.bind(null,f,y,u,a),null),qt===null)throw Error(i(349));b||(Hi&127)!==0||I0(f,a,u)}return u}function I0(o,a,u){o.flags|=16384,o={getSnapshot:a,value:u},a=ot.updateQueue,a===null?(a=_u(),ot.updateQueue=a,a.stores=[o]):(u=a.stores,u===null?a.stores=[o]:u.push(o))}function q0(o,a,u,f){a.value=u,a.getSnapshot=f,H0(a)&&F0(o)}function U0(o,a,u){return u(function(){H0(a)&&F0(o)})}function H0(o){var a=o.getSnapshot;o=o.value;try{var u=a();return!hn(o,u)}catch{return!0}}function F0(o){var a=ga(o,2);a!==null&&un(a,o,2)}function bg(o){var a=Qr();if(typeof o=="function"){var u=o;if(o=u(),wa){ir(!0);try{u()}finally{ir(!1)}}}return a.memoizedState=a.baseState=o,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:o},a}function K0(o,a,u,f){return o.baseState=u,xg(o,Nt,typeof f=="function"?f:Fi)}function uM(o,a,u,f,y){if(Mu(o))throw Error(i(485));if(o=a.action,o!==null){var b={payload:y,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){b.listeners.push(z)}};F.T!==null?u(!0):b.isTransition=!1,f(b),u=a.pending,u===null?(b.next=a.pending=b,Y0(a,b)):(b.next=u.next,a.pending=u.next=b)}}function Y0(o,a){var u=a.action,f=a.payload,y=o.state;if(a.isTransition){var b=F.T,z={};F.T=z;try{var M=u(y,f),q=F.S;q!==null&&q(z,M),V0(o,a,M)}catch(ae){Sg(o,a,ae)}finally{b!==null&&z.types!==null&&(b.types=z.types),F.T=b}}else try{b=u(y,f),V0(o,a,b)}catch(ae){Sg(o,a,ae)}}function V0(o,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){G0(o,a,f)},function(f){return Sg(o,a,f)}):G0(o,a,u)}function G0(o,a,u){a.status="fulfilled",a.value=u,X0(a),o.state=u,a=o.pending,a!==null&&(u=a.next,u===a?o.pending=null:(u=u.next,a.next=u,Y0(o,u)))}function Sg(o,a,u){var f=o.pending;if(o.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,X0(a),a=a.next;while(a!==f)}o.action=null}function X0(o){o=o.listeners;for(var a=0;a<o.length;a++)(0,o[a])()}function Q0(o,a){return a}function Z0(o,a){if(gt){var u=qt.formState;if(u!==null){e:{var f=ot;if(gt){if(Gt){t:{for(var y=Gt,b=qn;y.nodeType!==8;){if(!b){y=null;break t}if(y=Hn(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Gt=Hn(y.nextSibling),f=y.data==="F!";break e}}_o(f)}f=!1}f&&(a=u[0])}}return u=Qr(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Q0,lastRenderedState:a},u.queue=f,u=y1.bind(null,ot,f),f.dispatch=u,f=bg(!1),b=_g.bind(null,ot,!1,f.queue),f=Qr(),y={state:a,dispatch:null,action:o,pending:null},f.queue=y,u=uM.bind(null,ot,y,b,u),y.dispatch=u,f.memoizedState=o,[a,u,!1]}function J0(o){var a=pr();return e1(a,Nt,o)}function e1(o,a,u){if(a=xg(o,a,Q0)[0],o=Au(Fi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=As(a)}catch(z){throw z===gl?vu:z}else f=a;a=pr();var y=a.queue,b=y.dispatch;return u!==a.memoizedState&&(ot.flags|=2048,vl(9,{destroy:void 0},dM.bind(null,y,u),null)),[f,b,o]}function dM(o,a){o.action=a}function t1(o){var a=pr(),u=Nt;if(u!==null)return e1(a,u,o);pr(),a=a.memoizedState,u=pr();var f=u.queue.dispatch;return u.memoizedState=o,[a,f,!1]}function vl(o,a,u,f){return o={tag:o,create:u,deps:f,inst:a,next:null},a=ot.updateQueue,a===null&&(a=_u(),ot.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=o.next=o:(f=u.next,u.next=o,o.next=f,a.lastEffect=o),o}function r1(){return pr().memoizedState}function Eu(o,a,u,f){var y=Qr();ot.flags|=o,y.memoizedState=vl(1|a,{destroy:void 0},u,f===void 0?null:f)}function Ou(o,a,u,f){var y=pr();f=f===void 0?null:f;var b=y.memoizedState.inst;Nt!==null&&f!==null&&fg(f,Nt.memoizedState.deps)?y.memoizedState=vl(a,b,u,f):(ot.flags|=o,y.memoizedState=vl(1|a,b,u,f))}function n1(o,a){Eu(8390656,8,o,a)}function jg(o,a){Ou(2048,8,o,a)}function fM(o){ot.flags|=4;var a=ot.updateQueue;if(a===null)a=_u(),ot.updateQueue=a,a.events=[o];else{var u=a.events;u===null?a.events=[o]:u.push(o)}}function i1(o){var a=pr().memoizedState;return fM({ref:a,nextImpl:o}),function(){if((kt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function o1(o,a){return Ou(4,2,o,a)}function a1(o,a){return Ou(4,4,o,a)}function l1(o,a){if(typeof a=="function"){o=o();var u=a(o);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function s1(o,a,u){u=u!=null?u.concat([o]):null,Ou(4,4,l1.bind(null,a,o),u)}function wg(){}function c1(o,a){var u=pr();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&fg(a,f[1])?f[0]:(u.memoizedState=[o,a],o)}function u1(o,a){var u=pr();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&fg(a,f[1]))return f[0];if(f=o(),wa){ir(!0);try{o()}finally{ir(!1)}}return u.memoizedState=[f,a],f}function Cg(o,a,u){return u===void 0||(Hi&1073741824)!==0&&(ft&261930)===0?o.memoizedState=a:(o.memoizedState=u,o=dS(),ot.lanes|=o,$o|=o,u)}function d1(o,a,u,f){return hn(u,a)?u:hl.current!==null?(o=Cg(o,u,f),hn(o,a)||(br=!0),o):(Hi&42)===0||(Hi&1073741824)!==0&&(ft&261930)===0?(br=!0,o.memoizedState=u):(o=dS(),ot.lanes|=o,$o|=o,a)}function f1(o,a,u,f,y){var b=Y.p;Y.p=b!==0&&8>b?b:8;var z=F.T,M={};F.T=M,_g(o,!1,a,u);try{var q=y(),ae=F.S;if(ae!==null&&ae(M,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ve=lM(q,f);Es(o,a,ve,jn(o))}else Es(o,a,f,jn(o))}catch(we){Es(o,a,{then:function(){},status:"rejected",reason:we},jn())}finally{Y.p=b,z!==null&&M.types!==null&&(z.types=M.types),F.T=z}}function pM(){}function kg(o,a,u,f){if(o.tag!==5)throw Error(i(476));var y=p1(o).queue;f1(o,y,a,me,u===null?pM:function(){return g1(o),u(f)})}function p1(o){var a=o.memoizedState;if(a!==null)return a;a={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:me},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:u},next:null},o.memoizedState=a,o=o.alternate,o!==null&&(o.memoizedState=a),a}function g1(o){var a=p1(o);a.next===null&&(a=o.alternate.memoizedState),Es(o,a.next.queue,{},jn())}function zg(){return Wr(Ys)}function m1(){return pr().memoizedState}function h1(){return pr().memoizedState}function gM(o){for(var a=o.return;a!==null;){switch(a.tag){case 24:case 3:var u=jn();o=Eo(u);var f=Oo(a,o,u);f!==null&&(un(f,a,u),ks(f,a,u)),a={cache:tg()},o.payload=a;return}a=a.return}}function mM(o,a,u){var f=jn();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Mu(o)?x1(a,u):(u=Hp(o,a,u,f),u!==null&&(un(u,o,f),v1(u,a,f)))}function y1(o,a,u){var f=jn();Es(o,a,u,f)}function Es(o,a,u,f){var y={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Mu(o))x1(a,y);else{var b=o.alternate;if(o.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var z=a.lastRenderedState,M=b(z,u);if(y.hasEagerState=!0,y.eagerState=M,hn(M,z))return fu(o,a,y,0),qt===null&&du(),!1}catch{}finally{}if(u=Hp(o,a,y,f),u!==null)return un(u,o,f),v1(u,a,f),!0}return!1}function _g(o,a,u,f){if(f={lane:2,revertLane:om(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Mu(o)){if(a)throw Error(i(479))}else a=Hp(o,u,f,2),a!==null&&un(a,o,2)}function Mu(o){var a=o.alternate;return o===ot||a!==null&&a===ot}function x1(o,a){yl=ku=!0;var u=o.pending;u===null?a.next=a:(a.next=u.next,u.next=a),o.pending=a}function v1(o,a,u){if((u&4194048)!==0){var f=a.lanes;f&=o.pendingLanes,u|=f,a.lanes=u,ii(o,u)}}var Os={readContext:Wr,use:Tu,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useLayoutEffect:cr,useInsertionEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useSyncExternalStore:cr,useId:cr,useHostTransitionStatus:cr,useFormState:cr,useActionState:cr,useOptimistic:cr,useMemoCache:cr,useCacheRefresh:cr};Os.useEffectEvent=cr;var b1={readContext:Wr,use:Tu,useCallback:function(o,a){return Qr().memoizedState=[o,a===void 0?null:a],o},useContext:Wr,useEffect:n1,useImperativeHandle:function(o,a,u){u=u!=null?u.concat([o]):null,Eu(4194308,4,l1.bind(null,a,o),u)},useLayoutEffect:function(o,a){return Eu(4194308,4,o,a)},useInsertionEffect:function(o,a){Eu(4,2,o,a)},useMemo:function(o,a){var u=Qr();a=a===void 0?null:a;var f=o();if(wa){ir(!0);try{o()}finally{ir(!1)}}return u.memoizedState=[f,a],f},useReducer:function(o,a,u){var f=Qr();if(u!==void 0){var y=u(a);if(wa){ir(!0);try{u(a)}finally{ir(!1)}}}else y=a;return f.memoizedState=f.baseState=y,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:y},f.queue=o,o=o.dispatch=mM.bind(null,ot,o),[f.memoizedState,o]},useRef:function(o){var a=Qr();return o={current:o},a.memoizedState=o},useState:function(o){o=bg(o);var a=o.queue,u=y1.bind(null,ot,a);return a.dispatch=u,[o.memoizedState,u]},useDebugValue:wg,useDeferredValue:function(o,a){var u=Qr();return Cg(u,o,a)},useTransition:function(){var o=bg(!1);return o=f1.bind(null,ot,o.queue,!0,!1),Qr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,a,u){var f=ot,y=Qr();if(gt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),qt===null)throw Error(i(349));(ft&127)!==0||I0(f,a,u)}y.memoizedState=u;var b={value:u,getSnapshot:a};return y.queue=b,n1(U0.bind(null,f,b,o),[o]),f.flags|=2048,vl(9,{destroy:void 0},q0.bind(null,f,b,u,a),null),u},useId:function(){var o=Qr(),a=qt.identifierPrefix;if(gt){var u=ji,f=Si;u=(f&~(1<<32-xe(f)-1)).toString(32)+u,a="_"+a+"R_"+u,u=zu++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=sM++,a="_"+a+"r_"+u.toString(32)+"_";return o.memoizedState=a},useHostTransitionStatus:zg,useFormState:Z0,useActionState:Z0,useOptimistic:function(o){var a=Qr();a.memoizedState=a.baseState=o;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=_g.bind(null,ot,!0,u),u.dispatch=a,[o,a]},useMemoCache:yg,useCacheRefresh:function(){return Qr().memoizedState=gM.bind(null,ot)},useEffectEvent:function(o){var a=Qr(),u={impl:o};return a.memoizedState=u,function(){if((kt&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},Tg={readContext:Wr,use:Tu,useCallback:c1,useContext:Wr,useEffect:jg,useImperativeHandle:s1,useInsertionEffect:o1,useLayoutEffect:a1,useMemo:u1,useReducer:Au,useRef:r1,useState:function(){return Au(Fi)},useDebugValue:wg,useDeferredValue:function(o,a){var u=pr();return d1(u,Nt.memoizedState,o,a)},useTransition:function(){var o=Au(Fi)[0],a=pr().memoizedState;return[typeof o=="boolean"?o:As(o),a]},useSyncExternalStore:B0,useId:m1,useHostTransitionStatus:zg,useFormState:J0,useActionState:J0,useOptimistic:function(o,a){var u=pr();return K0(u,Nt,o,a)},useMemoCache:yg,useCacheRefresh:h1};Tg.useEffectEvent=i1;var S1={readContext:Wr,use:Tu,useCallback:c1,useContext:Wr,useEffect:jg,useImperativeHandle:s1,useInsertionEffect:o1,useLayoutEffect:a1,useMemo:u1,useReducer:vg,useRef:r1,useState:function(){return vg(Fi)},useDebugValue:wg,useDeferredValue:function(o,a){var u=pr();return Nt===null?Cg(u,o,a):d1(u,Nt.memoizedState,o,a)},useTransition:function(){var o=vg(Fi)[0],a=pr().memoizedState;return[typeof o=="boolean"?o:As(o),a]},useSyncExternalStore:B0,useId:m1,useHostTransitionStatus:zg,useFormState:t1,useActionState:t1,useOptimistic:function(o,a){var u=pr();return Nt!==null?K0(u,Nt,o,a):(u.baseState=o,[o,u.queue.dispatch])},useMemoCache:yg,useCacheRefresh:h1};S1.useEffectEvent=i1;function Ag(o,a,u,f){a=o.memoizedState,u=u(f,a),u=u==null?a:v({},a,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var Eg={enqueueSetState:function(o,a,u){o=o._reactInternals;var f=jn(),y=Eo(f);y.payload=a,u!=null&&(y.callback=u),a=Oo(o,y,f),a!==null&&(un(a,o,f),ks(a,o,f))},enqueueReplaceState:function(o,a,u){o=o._reactInternals;var f=jn(),y=Eo(f);y.tag=1,y.payload=a,u!=null&&(y.callback=u),a=Oo(o,y,f),a!==null&&(un(a,o,f),ks(a,o,f))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var u=jn(),f=Eo(u);f.tag=2,a!=null&&(f.callback=a),a=Oo(o,f,u),a!==null&&(un(a,o,u),ks(a,o,u))}};function j1(o,a,u,f,y,b,z){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,b,z):a.prototype&&a.prototype.isPureReactComponent?!ys(u,f)||!ys(y,b):!0}function w1(o,a,u,f){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==o&&Eg.enqueueReplaceState(a,a.state,null)}function Ca(o,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(o=o.defaultProps){u===a&&(u=v({},u));for(var y in o)u[y]===void 0&&(u[y]=o[y])}return u}function C1(o){uu(o)}function k1(o){console.error(o)}function z1(o){uu(o)}function Ru(o,a){try{var u=o.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function _1(o,a,u){try{var f=o.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Og(o,a,u){return u=Eo(u),u.tag=3,u.payload={element:null},u.callback=function(){Ru(o,a)},u}function T1(o){return o=Eo(o),o.tag=3,o}function A1(o,a,u,f){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=f.value;o.payload=function(){return y(b)},o.callback=function(){_1(a,u,f)}}var z=u.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(o.callback=function(){_1(a,u,f),typeof y!="function"&&(No===null?No=new Set([this]):No.add(this));var M=f.stack;this.componentDidCatch(f.value,{componentStack:M!==null?M:""})})}function hM(o,a,u,f,y){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&dl(a,u,y,!0),u=xn.current,u!==null){switch(u.tag){case 31:case 13:return Un===null?Fu():u.alternate===null&&ur===0&&(ur=3),u.flags&=-257,u.flags|=65536,u.lanes=y,f===bu?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),rm(o,f,y)),!1;case 22:return u.flags|=65536,f===bu?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),rm(o,f,y)),!1}throw Error(i(435,u.tag))}return rm(o,f,y),Fu(),!1}if(gt)return a=xn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,f!==Xp&&(o=Error(i(422),{cause:f}),bs(Wn(o,u)))):(f!==Xp&&(a=Error(i(423),{cause:f}),bs(Wn(a,u))),o=o.current.alternate,o.flags|=65536,y&=-y,o.lanes|=y,f=Wn(f,u),y=Og(o.stateNode,f,y),lg(o,y),ur!==4&&(ur=2)),!1;var b=Error(i(520),{cause:f});if(b=Wn(b,u),Ws===null?Ws=[b]:Ws.push(b),ur!==4&&(ur=2),a===null)return!0;f=Wn(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,o=y&-y,u.lanes|=o,o=Og(u.stateNode,f,o),lg(u,o),!1;case 1:if(a=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(No===null||!No.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=T1(y),A1(y,o,u,f),lg(u,y),!1}u=u.return}while(u!==null);return!1}var Mg=Error(i(461)),br=!1;function Br(o,a,u,f){a.child=o===null?R0(a,null,u,f):ja(a,o.child,u,f)}function E1(o,a,u,f,y){u=u.render;var b=a.ref;if("ref"in f){var z={};for(var M in f)M!=="ref"&&(z[M]=f[M])}else z=f;return xa(a),f=pg(o,a,u,z,b,y),M=gg(),o!==null&&!br?(mg(o,a,y),Ki(o,a,y)):(gt&&M&&Vp(a),a.flags|=1,Br(o,a,f,y),a.child)}function O1(o,a,u,f,y){if(o===null){var b=u.type;return typeof b=="function"&&!Fp(b)&&b.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=b,M1(o,a,b,f,y)):(o=gu(u.type,null,f,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(b=o.child,!Bg(o,y)){var z=b.memoizedProps;if(u=u.compare,u=u!==null?u:ys,u(z,f)&&o.ref===a.ref)return Ki(o,a,y)}return a.flags|=1,o=Bi(b,f),o.ref=a.ref,o.return=a,a.child=o}function M1(o,a,u,f,y){if(o!==null){var b=o.memoizedProps;if(ys(b,f)&&o.ref===a.ref)if(br=!1,a.pendingProps=f=b,Bg(o,y))(o.flags&131072)!==0&&(br=!0);else return a.lanes=o.lanes,Ki(o,a,y)}return Rg(o,a,u,f,y)}function R1(o,a,u,f){var y=f.children,b=o!==null?o.memoizedState:null;if(o===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,o!==null){for(f=a.child=o.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~b}else f=0,a.child=null;return D1(o,a,b,u,f)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},o!==null&&xu(a,b!==null?b.cachePool:null),b!==null?$0(a,b):cg(),N0(a);else return f=a.lanes=536870912,D1(o,a,b!==null?b.baseLanes|u:u,u,f)}else b!==null?(xu(a,b.cachePool),$0(a,b),Ro(),a.memoizedState=null):(o!==null&&xu(a,null),cg(),Ro());return Br(o,a,y,u),a.child}function Ms(o,a){return o!==null&&o.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function D1(o,a,u,f,y){var b=ng();return b=b===null?null:{parent:xr._currentValue,pool:b},a.memoizedState={baseLanes:u,cachePool:b},o!==null&&xu(a,null),cg(),N0(a),o!==null&&dl(o,a,f,!0),a.childLanes=y,null}function Du(o,a){return a=$u({mode:a.mode,children:a.children},o.mode),a.ref=o.ref,o.child=a,a.return=o,a}function P1(o,a,u){return ja(a,o.child,null,u),o=Du(a,a.pendingProps),o.flags|=2,vn(a),a.memoizedState=null,o}function yM(o,a,u){var f=a.pendingProps,y=(a.flags&128)!==0;if(a.flags&=-129,o===null){if(gt){if(f.mode==="hidden")return o=Du(a,f),a.lanes=536870912,Ms(null,o);if(dg(a),(o=Gt)?(o=YS(o,qn),o=o!==null&&o.data==="&"?o:null,o!==null&&(a.memoizedState={dehydrated:o,treeContext:ko!==null?{id:Si,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},u=x0(o),u.return=a,a.child=u,Lr=a,Gt=null)):o=null,o===null)throw _o(a);return a.lanes=536870912,null}return Du(a,f)}var b=o.memoizedState;if(b!==null){var z=b.dehydrated;if(dg(a),y)if(a.flags&256)a.flags&=-257,a=P1(o,a,u);else if(a.memoizedState!==null)a.child=o.child,a.flags|=128,a=null;else throw Error(i(558));else if(br||dl(o,a,u,!1),y=(u&o.childLanes)!==0,br||y){if(f=qt,f!==null&&(z=B(f,u),z!==0&&z!==b.retryLane))throw b.retryLane=z,ga(o,z),un(f,o,z),Mg;Fu(),a=P1(o,a,u)}else o=b.treeContext,Gt=Hn(z.nextSibling),Lr=a,gt=!0,zo=null,qn=!1,o!==null&&S0(a,o),a=Du(a,f),a.flags|=4096;return a}return o=Bi(o.child,{mode:f.mode,children:f.children}),o.ref=a.ref,a.child=o,o.return=a,o}function Pu(o,a){var u=a.ref;if(u===null)o!==null&&o.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(o===null||o.ref!==u)&&(a.flags|=4194816)}}function Rg(o,a,u,f,y){return xa(a),u=pg(o,a,u,f,void 0,y),f=gg(),o!==null&&!br?(mg(o,a,y),Ki(o,a,y)):(gt&&f&&Vp(a),a.flags|=1,Br(o,a,u,y),a.child)}function $1(o,a,u,f,y,b){return xa(a),a.updateQueue=null,u=W0(a,f,u,y),L0(o),f=gg(),o!==null&&!br?(mg(o,a,b),Ki(o,a,b)):(gt&&f&&Vp(a),a.flags|=1,Br(o,a,u,b),a.child)}function N1(o,a,u,f,y){if(xa(a),a.stateNode===null){var b=ll,z=u.contextType;typeof z=="object"&&z!==null&&(b=Wr(z)),b=new u(f,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Eg,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=f,b.state=a.memoizedState,b.refs={},og(a),z=u.contextType,b.context=typeof z=="object"&&z!==null?Wr(z):ll,b.state=a.memoizedState,z=u.getDerivedStateFromProps,typeof z=="function"&&(Ag(a,u,z,f),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(z=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),z!==b.state&&Eg.enqueueReplaceState(b,b.state,null),_s(a,f,b,y),zs(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(o===null){b=a.stateNode;var M=a.memoizedProps,q=Ca(u,M);b.props=q;var ae=b.context,ve=u.contextType;z=ll,typeof ve=="object"&&ve!==null&&(z=Wr(ve));var we=u.getDerivedStateFromProps;ve=typeof we=="function"||typeof b.getSnapshotBeforeUpdate=="function",M=a.pendingProps!==M,ve||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M||ae!==z)&&w1(a,b,f,z),Ao=!1;var se=a.memoizedState;b.state=se,_s(a,f,b,y),zs(),ae=a.memoizedState,M||se!==ae||Ao?(typeof we=="function"&&(Ag(a,u,we,f),ae=a.memoizedState),(q=Ao||j1(a,u,q,f,se,ae,z))?(ve||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=ae),b.props=f,b.state=ae,b.context=z,f=q):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{b=a.stateNode,ag(o,a),z=a.memoizedProps,ve=Ca(u,z),b.props=ve,we=a.pendingProps,se=b.context,ae=u.contextType,q=ll,typeof ae=="object"&&ae!==null&&(q=Wr(ae)),M=u.getDerivedStateFromProps,(ae=typeof M=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(z!==we||se!==q)&&w1(a,b,f,q),Ao=!1,se=a.memoizedState,b.state=se,_s(a,f,b,y),zs();var pe=a.memoizedState;z!==we||se!==pe||Ao||o!==null&&o.dependencies!==null&&hu(o.dependencies)?(typeof M=="function"&&(Ag(a,u,M,f),pe=a.memoizedState),(ve=Ao||j1(a,u,ve,f,se,pe,q)||o!==null&&o.dependencies!==null&&hu(o.dependencies))?(ae||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,pe,q),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,pe,q)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||z===o.memoizedProps&&se===o.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&se===o.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=pe),b.props=f,b.state=pe,b.context=q,f=ve):(typeof b.componentDidUpdate!="function"||z===o.memoizedProps&&se===o.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&se===o.memoizedState||(a.flags|=1024),f=!1)}return b=f,Pu(o,a),f=(a.flags&128)!==0,b||f?(b=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,o!==null&&f?(a.child=ja(a,o.child,null,y),a.child=ja(a,null,u,y)):Br(o,a,u,y),a.memoizedState=b.state,o=a.child):o=Ki(o,a,y),o}function L1(o,a,u,f){return ha(),a.flags|=256,Br(o,a,u,f),a.child}var Dg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pg(o){return{baseLanes:o,cachePool:_0()}}function $g(o,a,u){return o=o!==null?o.childLanes&~u:0,a&&(o|=Sn),o}function W1(o,a,u){var f=a.pendingProps,y=!1,b=(a.flags&128)!==0,z;if((z=b)||(z=o!==null&&o.memoizedState===null?!1:(fr.current&2)!==0),z&&(y=!0,a.flags&=-129),z=(a.flags&32)!==0,a.flags&=-33,o===null){if(gt){if(y?Mo(a):Ro(),(o=Gt)?(o=YS(o,qn),o=o!==null&&o.data!=="&"?o:null,o!==null&&(a.memoizedState={dehydrated:o,treeContext:ko!==null?{id:Si,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},u=x0(o),u.return=a,a.child=u,Lr=a,Gt=null)):o=null,o===null)throw _o(a);return xm(o)?a.lanes=32:a.lanes=536870912,null}var M=f.children;return f=f.fallback,y?(Ro(),y=a.mode,M=$u({mode:"hidden",children:M},y),f=ma(f,y,u,null),M.return=a,f.return=a,M.sibling=f,a.child=M,f=a.child,f.memoizedState=Pg(u),f.childLanes=$g(o,z,u),a.memoizedState=Dg,Ms(null,f)):(Mo(a),Ng(a,M))}var q=o.memoizedState;if(q!==null&&(M=q.dehydrated,M!==null)){if(b)a.flags&256?(Mo(a),a.flags&=-257,a=Lg(o,a,u)):a.memoizedState!==null?(Ro(),a.child=o.child,a.flags|=128,a=null):(Ro(),M=f.fallback,y=a.mode,f=$u({mode:"visible",children:f.children},y),M=ma(M,y,u,null),M.flags|=2,f.return=a,M.return=a,f.sibling=M,a.child=f,ja(a,o.child,null,u),f=a.child,f.memoizedState=Pg(u),f.childLanes=$g(o,z,u),a.memoizedState=Dg,a=Ms(null,f));else if(Mo(a),xm(M)){if(z=M.nextSibling&&M.nextSibling.dataset,z)var ae=z.dgst;z=ae,f=Error(i(419)),f.stack="",f.digest=z,bs({value:f,source:null,stack:null}),a=Lg(o,a,u)}else if(br||dl(o,a,u,!1),z=(u&o.childLanes)!==0,br||z){if(z=qt,z!==null&&(f=B(z,u),f!==0&&f!==q.retryLane))throw q.retryLane=f,ga(o,f),un(z,o,f),Mg;ym(M)||Fu(),a=Lg(o,a,u)}else ym(M)?(a.flags|=192,a.child=o.child,a=null):(o=q.treeContext,Gt=Hn(M.nextSibling),Lr=a,gt=!0,zo=null,qn=!1,o!==null&&S0(a,o),a=Ng(a,f.children),a.flags|=4096);return a}return y?(Ro(),M=f.fallback,y=a.mode,q=o.child,ae=q.sibling,f=Bi(q,{mode:"hidden",children:f.children}),f.subtreeFlags=q.subtreeFlags&65011712,ae!==null?M=Bi(ae,M):(M=ma(M,y,u,null),M.flags|=2),M.return=a,f.return=a,f.sibling=M,a.child=f,Ms(null,f),f=a.child,M=o.child.memoizedState,M===null?M=Pg(u):(y=M.cachePool,y!==null?(q=xr._currentValue,y=y.parent!==q?{parent:q,pool:q}:y):y=_0(),M={baseLanes:M.baseLanes|u,cachePool:y}),f.memoizedState=M,f.childLanes=$g(o,z,u),a.memoizedState=Dg,Ms(o.child,f)):(Mo(a),u=o.child,o=u.sibling,u=Bi(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,o!==null&&(z=a.deletions,z===null?(a.deletions=[o],a.flags|=16):z.push(o)),a.child=u,a.memoizedState=null,u)}function Ng(o,a){return a=$u({mode:"visible",children:a},o.mode),a.return=o,o.child=a}function $u(o,a){return o=yn(22,o,null,a),o.lanes=0,o}function Lg(o,a,u){return ja(a,o.child,null,u),o=Ng(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function B1(o,a,u){o.lanes|=a;var f=o.alternate;f!==null&&(f.lanes|=a),Jp(o.return,a,u)}function Wg(o,a,u,f,y,b){var z=o.memoizedState;z===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y,treeForkCount:b}:(z.isBackwards=a,z.rendering=null,z.renderingStartTime=0,z.last=f,z.tail=u,z.tailMode=y,z.treeForkCount=b)}function I1(o,a,u){var f=a.pendingProps,y=f.revealOrder,b=f.tail;f=f.children;var z=fr.current,M=(z&2)!==0;if(M?(z=z&1|2,a.flags|=128):z&=1,L(fr,z),Br(o,a,f,u),f=gt?vs:0,!M&&o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&B1(o,u,a);else if(o.tag===19)B1(o,u,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(y){case"forwards":for(u=a.child,y=null;u!==null;)o=u.alternate,o!==null&&Cu(o)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),Wg(a,!1,y,u,b,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&Cu(o)===null){a.child=y;break}o=y.sibling,y.sibling=u,u=y,y=o}Wg(a,!0,u,null,b,f);break;case"together":Wg(a,!1,null,null,void 0,f);break;default:a.memoizedState=null}return a.child}function Ki(o,a,u){if(o!==null&&(a.dependencies=o.dependencies),$o|=a.lanes,(u&a.childLanes)===0)if(o!==null){if(dl(o,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(o!==null&&a.child!==o.child)throw Error(i(153));if(a.child!==null){for(o=a.child,u=Bi(o,o.pendingProps),a.child=u,u.return=a;o.sibling!==null;)o=o.sibling,u=u.sibling=Bi(o,o.pendingProps),u.return=a;u.sibling=null}return a.child}function Bg(o,a){return(o.lanes&a)!==0?!0:(o=o.dependencies,!!(o!==null&&hu(o)))}function xM(o,a,u){switch(a.tag){case 3:Ce(a,a.stateNode.containerInfo),To(a,xr,o.memoizedState.cache),ha();break;case 27:case 5:ye(a);break;case 4:Ce(a,a.stateNode.containerInfo);break;case 10:To(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,dg(a),null;break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Mo(a),a.flags|=128,null):(u&a.child.childLanes)!==0?W1(o,a,u):(Mo(a),o=Ki(o,a,u),o!==null?o.sibling:null);Mo(a);break;case 19:var y=(o.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(dl(o,a,u,!1),f=(u&a.childLanes)!==0),y){if(f)return I1(o,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),L(fr,fr.current),f)break;return null;case 22:return a.lanes=0,R1(o,a,u,a.pendingProps);case 24:To(a,xr,o.memoizedState.cache)}return Ki(o,a,u)}function q1(o,a,u){if(o!==null)if(o.memoizedProps!==a.pendingProps)br=!0;else{if(!Bg(o,u)&&(a.flags&128)===0)return br=!1,xM(o,a,u);br=(o.flags&131072)!==0}else br=!1,gt&&(a.flags&1048576)!==0&&b0(a,vs,a.index);switch(a.lanes=0,a.tag){case 16:e:{var f=a.pendingProps;if(o=ba(a.elementType),a.type=o,typeof o=="function")Fp(o)?(f=Ca(o,f),a.tag=1,a=N1(null,a,o,f,u)):(a.tag=0,a=Rg(null,a,o,f,u));else{if(o!=null){var y=o.$$typeof;if(y===T){a.tag=11,a=E1(null,a,o,f,u);break e}else if(y===R){a.tag=14,a=O1(null,a,o,f,u);break e}}throw a=he(o)||o,Error(i(306,a,""))}}return a;case 0:return Rg(o,a,a.type,a.pendingProps,u);case 1:return f=a.type,y=Ca(f,a.pendingProps),N1(o,a,f,y,u);case 3:e:{if(Ce(a,a.stateNode.containerInfo),o===null)throw Error(i(387));f=a.pendingProps;var b=a.memoizedState;y=b.element,ag(o,a),_s(a,f,null,u);var z=a.memoizedState;if(f=z.cache,To(a,xr,f),f!==b.cache&&eg(a,[xr],u,!0),zs(),f=z.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:z.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=L1(o,a,f,u);break e}else if(f!==y){y=Wn(Error(i(424)),a),bs(y),a=L1(o,a,f,u);break e}else{switch(o=a.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Gt=Hn(o.firstChild),Lr=a,gt=!0,zo=null,qn=!0,u=R0(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ha(),f===y){a=Ki(o,a,u);break e}Br(o,a,f,u)}a=a.child}return a;case 26:return Pu(o,a),o===null?(u=JS(a.type,null,a.pendingProps,null))?a.memoizedState=u:gt||(u=a.type,o=a.pendingProps,f=Zu(I.current).createElement(u),f[It]=a,f[tt]=o,Ir(f,u,o),rt(f),a.stateNode=f):a.memoizedState=JS(a.type,o.memoizedProps,a.pendingProps,o.memoizedState),null;case 27:return ye(a),o===null&&gt&&(f=a.stateNode=XS(a.type,a.pendingProps,I.current),Lr=a,qn=!0,y=Gt,Io(a.type)?(vm=y,Gt=Hn(f.firstChild)):Gt=y),Br(o,a,a.pendingProps.children,u),Pu(o,a),o===null&&(a.flags|=4194304),a.child;case 5:return o===null&&gt&&((y=f=Gt)&&(f=VM(f,a.type,a.pendingProps,qn),f!==null?(a.stateNode=f,Lr=a,Gt=Hn(f.firstChild),qn=!1,y=!0):y=!1),y||_o(a)),ye(a),y=a.type,b=a.pendingProps,z=o!==null?o.memoizedProps:null,f=b.children,gm(y,b)?f=null:z!==null&&gm(y,z)&&(a.flags|=32),a.memoizedState!==null&&(y=pg(o,a,cM,null,null,u),Ys._currentValue=y),Pu(o,a),Br(o,a,f,u),a.child;case 6:return o===null&&gt&&((o=u=Gt)&&(u=GM(u,a.pendingProps,qn),u!==null?(a.stateNode=u,Lr=a,Gt=null,o=!0):o=!1),o||_o(a)),null;case 13:return W1(o,a,u);case 4:return Ce(a,a.stateNode.containerInfo),f=a.pendingProps,o===null?a.child=ja(a,null,f,u):Br(o,a,f,u),a.child;case 11:return E1(o,a,a.type,a.pendingProps,u);case 7:return Br(o,a,a.pendingProps,u),a.child;case 8:return Br(o,a,a.pendingProps.children,u),a.child;case 12:return Br(o,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,To(a,a.type,f.value),Br(o,a,f.children,u),a.child;case 9:return y=a.type._context,f=a.pendingProps.children,xa(a),y=Wr(y),f=f(y),a.flags|=1,Br(o,a,f,u),a.child;case 14:return O1(o,a,a.type,a.pendingProps,u);case 15:return M1(o,a,a.type,a.pendingProps,u);case 19:return I1(o,a,u);case 31:return yM(o,a,u);case 22:return R1(o,a,u,a.pendingProps);case 24:return xa(a),f=Wr(xr),o===null?(y=ng(),y===null&&(y=qt,b=tg(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),a.memoizedState={parent:f,cache:y},og(a),To(a,xr,y)):((o.lanes&u)!==0&&(ag(o,a),_s(a,null,null,u),zs()),y=o.memoizedState,b=a.memoizedState,y.parent!==f?(y={parent:f,cache:f},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),To(a,xr,f)):(f=b.cache,To(a,xr,f),f!==y.cache&&eg(a,[xr],u,!0))),Br(o,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Yi(o){o.flags|=4}function Ig(o,a,u,f,y){if((a=(o.mode&32)!==0)&&(a=!1),a){if(o.flags|=16777216,(y&335544128)===y)if(o.stateNode.complete)o.flags|=8192;else if(mS())o.flags|=8192;else throw Sa=bu,ig}else o.flags&=-16777217}function U1(o,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!ij(a))if(mS())o.flags|=8192;else throw Sa=bu,ig}function Nu(o,a){a!==null&&(o.flags|=4),o.flags&16384&&(a=o.tag!==22?Dn():536870912,o.lanes|=a,wl|=a)}function Rs(o,a){if(!gt)switch(o.tailMode){case"hidden":a=o.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function Xt(o){var a=o.alternate!==null&&o.alternate.child===o.child,u=0,f=0;if(a)for(var y=o.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=f,o.childLanes=u,a}function vM(o,a,u){var f=a.pendingProps;switch(Gp(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(a),null;case 1:return Xt(a),null;case 3:return u=a.stateNode,f=null,o!==null&&(f=o.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Ui(xr),N(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(o===null||o.child===null)&&(ul(a)?Yi(a):o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Qp())),Xt(a),null;case 26:var y=a.type,b=a.memoizedState;return o===null?(Yi(a),b!==null?(Xt(a),U1(a,b)):(Xt(a),Ig(a,y,null,f,u))):b?b!==o.memoizedState?(Yi(a),Xt(a),U1(a,b)):(Xt(a),a.flags&=-16777217):(o=o.memoizedProps,o!==f&&Yi(a),Xt(a),Ig(a,y,o,f,u)),null;case 27:if(oe(a),u=I.current,y=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==f&&Yi(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Xt(a),null}o=V.current,ul(a)?j0(a):(o=XS(y,f,u),a.stateNode=o,Yi(a))}return Xt(a),null;case 5:if(oe(a),y=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==f&&Yi(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Xt(a),null}if(b=V.current,ul(a))j0(a);else{var z=Zu(I.current);switch(b){case 1:b=z.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=z.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=z.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=z.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=z.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof f.is=="string"?z.createElement("select",{is:f.is}):z.createElement("select"),f.multiple?b.multiple=!0:f.size&&(b.size=f.size);break;default:b=typeof f.is=="string"?z.createElement(y,{is:f.is}):z.createElement(y)}}b[It]=a,b[tt]=f;e:for(z=a.child;z!==null;){if(z.tag===5||z.tag===6)b.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===a)break e;for(;z.sibling===null;){if(z.return===null||z.return===a)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}a.stateNode=b;e:switch(Ir(b,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Yi(a)}}return Xt(a),Ig(a,a.type,o===null?null:o.memoizedProps,a.pendingProps,u),null;case 6:if(o&&a.stateNode!=null)o.memoizedProps!==f&&Yi(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(i(166));if(o=I.current,ul(a)){if(o=a.stateNode,u=a.memoizedProps,f=null,y=Lr,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}o[It]=a,o=!!(o.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||WS(o.nodeValue,u)),o||_o(a,!0)}else o=Zu(o).createTextNode(f),o[It]=a,a.stateNode=o}return Xt(a),null;case 31:if(u=a.memoizedState,o===null||o.memoizedState!==null){if(f=ul(a),u!==null){if(o===null){if(!f)throw Error(i(318));if(o=a.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(557));o[It]=a}else ha(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Xt(a),o=!1}else u=Qp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=u),o=!0;if(!o)return a.flags&256?(vn(a),a):(vn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Xt(a),null;case 13:if(f=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(y=ul(a),f!==null&&f.dehydrated!==null){if(o===null){if(!y)throw Error(i(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[It]=a}else ha(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Xt(a),y=!1}else y=Qp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(vn(a),a):(vn(a),null)}return vn(a),(a.flags&128)!==0?(a.lanes=u,a):(u=f!==null,o=o!==null&&o.memoizedState!==null,u&&(f=a.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048)),u!==o&&u&&(a.child.flags|=8192),Nu(a,a.updateQueue),Xt(a),null);case 4:return N(),o===null&&cm(a.stateNode.containerInfo),Xt(a),null;case 10:return Ui(a.type),Xt(a),null;case 19:if(W(fr),f=a.memoizedState,f===null)return Xt(a),null;if(y=(a.flags&128)!==0,b=f.rendering,b===null)if(y)Rs(f,!1);else{if(ur!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(b=Cu(o),b!==null){for(a.flags|=128,Rs(f,!1),o=b.updateQueue,a.updateQueue=o,Nu(a,o),a.subtreeFlags=0,o=u,u=a.child;u!==null;)y0(u,o),u=u.sibling;return L(fr,fr.current&1|2),gt&&Ii(a,f.treeForkCount),a.child}o=o.sibling}f.tail!==null&&H()>qu&&(a.flags|=128,y=!0,Rs(f,!1),a.lanes=4194304)}else{if(!y)if(o=Cu(b),o!==null){if(a.flags|=128,y=!0,o=o.updateQueue,a.updateQueue=o,Nu(a,o),Rs(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!gt)return Xt(a),null}else 2*H()-f.renderingStartTime>qu&&u!==536870912&&(a.flags|=128,y=!0,Rs(f,!1),a.lanes=4194304);f.isBackwards?(b.sibling=a.child,a.child=b):(o=f.last,o!==null?o.sibling=b:a.child=b,f.last=b)}return f.tail!==null?(o=f.tail,f.rendering=o,f.tail=o.sibling,f.renderingStartTime=H(),o.sibling=null,u=fr.current,L(fr,y?u&1|2:u&1),gt&&Ii(a,f.treeForkCount),o):(Xt(a),null);case 22:case 23:return vn(a),ug(),f=a.memoizedState!==null,o!==null?o.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(Xt(a),a.subtreeFlags&6&&(a.flags|=8192)):Xt(a),u=a.updateQueue,u!==null&&Nu(a,u.retryQueue),u=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),o!==null&&W(va),null;case 24:return u=null,o!==null&&(u=o.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ui(xr),Xt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function bM(o,a){switch(Gp(a),a.tag){case 1:return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Ui(xr),N(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 26:case 27:case 5:return oe(a),null;case 31:if(a.memoizedState!==null){if(vn(a),a.alternate===null)throw Error(i(340));ha()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 13:if(vn(a),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ha()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return W(fr),null;case 4:return N(),null;case 10:return Ui(a.type),null;case 22:case 23:return vn(a),ug(),o!==null&&W(va),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 24:return Ui(xr),null;case 25:return null;default:return null}}function H1(o,a){switch(Gp(a),a.tag){case 3:Ui(xr),N();break;case 26:case 27:case 5:oe(a);break;case 4:N();break;case 31:a.memoizedState!==null&&vn(a);break;case 13:vn(a);break;case 19:W(fr);break;case 10:Ui(a.type);break;case 22:case 23:vn(a),ug(),o!==null&&W(va);break;case 24:Ui(xr)}}function Ds(o,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&o)===o){f=void 0;var b=u.create,z=u.inst;f=b(),z.destroy=f}u=u.next}while(u!==y)}}catch(M){Dt(a,a.return,M)}}function Do(o,a,u){try{var f=a.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var b=y.next;f=b;do{if((f.tag&o)===o){var z=f.inst,M=z.destroy;if(M!==void 0){z.destroy=void 0,y=a;var q=u,ae=M;try{ae()}catch(ve){Dt(y,q,ve)}}}f=f.next}while(f!==b)}}catch(ve){Dt(a,a.return,ve)}}function F1(o){var a=o.updateQueue;if(a!==null){var u=o.stateNode;try{P0(a,u)}catch(f){Dt(o,o.return,f)}}}function K1(o,a,u){u.props=Ca(o.type,o.memoizedProps),u.state=o.memoizedState;try{u.componentWillUnmount()}catch(f){Dt(o,a,f)}}function Ps(o,a){try{var u=o.ref;if(u!==null){switch(o.tag){case 26:case 27:case 5:var f=o.stateNode;break;case 30:f=o.stateNode;break;default:f=o.stateNode}typeof u=="function"?o.refCleanup=u(f):u.current=f}}catch(y){Dt(o,a,y)}}function wi(o,a){var u=o.ref,f=o.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(y){Dt(o,a,y)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Dt(o,a,y)}else u.current=null}function Y1(o){var a=o.type,u=o.memoizedProps,f=o.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(y){Dt(o,o.return,y)}}function qg(o,a,u){try{var f=o.stateNode;qM(f,o.type,u,a),f[tt]=a}catch(y){Dt(o,o.return,y)}}function V1(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Io(o.type)||o.tag===4}function Ug(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||V1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Io(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Hg(o,a,u){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(o,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(o),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Li));else if(f!==4&&(f===27&&Io(o.type)&&(u=o.stateNode,a=null),o=o.child,o!==null))for(Hg(o,a,u),o=o.sibling;o!==null;)Hg(o,a,u),o=o.sibling}function Lu(o,a,u){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?u.insertBefore(o,a):u.appendChild(o);else if(f!==4&&(f===27&&Io(o.type)&&(u=o.stateNode),o=o.child,o!==null))for(Lu(o,a,u),o=o.sibling;o!==null;)Lu(o,a,u),o=o.sibling}function G1(o){var a=o.stateNode,u=o.memoizedProps;try{for(var f=o.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);Ir(a,f,u),a[It]=o,a[tt]=u}catch(b){Dt(o,o.return,b)}}var Vi=!1,Sr=!1,Fg=!1,X1=typeof WeakSet=="function"?WeakSet:Set,Mr=null;function SM(o,a){if(o=o.containerInfo,fm=od,o=s0(o),Lp(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var z=0,M=-1,q=-1,ae=0,ve=0,we=o,se=null;t:for(;;){for(var pe;we!==u||y!==0&&we.nodeType!==3||(M=z+y),we!==b||f!==0&&we.nodeType!==3||(q=z+f),we.nodeType===3&&(z+=we.nodeValue.length),(pe=we.firstChild)!==null;)se=we,we=pe;for(;;){if(we===o)break t;if(se===u&&++ae===y&&(M=z),se===b&&++ve===f&&(q=z),(pe=we.nextSibling)!==null)break;we=se,se=we.parentNode}we=pe}u=M===-1||q===-1?null:{start:M,end:q}}else u=null}u=u||{start:0,end:0}}else u=null;for(pm={focusedElem:o,selectionRange:u},od=!1,Mr=a;Mr!==null;)if(a=Mr,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Mr=o;else for(;Mr!==null;){switch(a=Mr,b=a.alternate,o=a.flags,a.tag){case 0:if((o&4)!==0&&(o=a.updateQueue,o=o!==null?o.events:null,o!==null))for(u=0;u<o.length;u++)y=o[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&b!==null){o=void 0,u=a,y=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var Le=Ca(u.type,y);o=f.getSnapshotBeforeUpdate(Le,b),f.__reactInternalSnapshotBeforeUpdate=o}catch(Ze){Dt(u,u.return,Ze)}}break;case 3:if((o&1024)!==0){if(o=a.stateNode.containerInfo,u=o.nodeType,u===9)hm(o);else if(u===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":hm(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=a.sibling,o!==null){o.return=a.return,Mr=o;break}Mr=a.return}}function Q1(o,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Xi(o,u),f&4&&Ds(5,u);break;case 1:if(Xi(o,u),f&4)if(o=u.stateNode,a===null)try{o.componentDidMount()}catch(z){Dt(u,u.return,z)}else{var y=Ca(u.type,a.memoizedProps);a=a.memoizedState;try{o.componentDidUpdate(y,a,o.__reactInternalSnapshotBeforeUpdate)}catch(z){Dt(u,u.return,z)}}f&64&&F1(u),f&512&&Ps(u,u.return);break;case 3:if(Xi(o,u),f&64&&(o=u.updateQueue,o!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{P0(o,a)}catch(z){Dt(u,u.return,z)}}break;case 27:a===null&&f&4&&G1(u);case 26:case 5:Xi(o,u),a===null&&f&4&&Y1(u),f&512&&Ps(u,u.return);break;case 12:Xi(o,u);break;case 31:Xi(o,u),f&4&&eS(o,u);break;case 13:Xi(o,u),f&4&&tS(o,u),f&64&&(o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(u=EM.bind(null,u),XM(o,u))));break;case 22:if(f=u.memoizedState!==null||Vi,!f){a=a!==null&&a.memoizedState!==null||Sr,y=Vi;var b=Sr;Vi=f,(Sr=a)&&!b?Qi(o,u,(u.subtreeFlags&8772)!==0):Xi(o,u),Vi=y,Sr=b}break;case 30:break;default:Xi(o,u)}}function Z1(o){var a=o.alternate;a!==null&&(o.alternate=null,Z1(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&Re(a)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Zt=null,an=!1;function Gi(o,a,u){for(u=u.child;u!==null;)J1(o,a,u),u=u.sibling}function J1(o,a,u){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(sr,u)}catch{}switch(u.tag){case 26:Sr||wi(u,a),Gi(o,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Sr||wi(u,a);var f=Zt,y=an;Io(u.type)&&(Zt=u.stateNode,an=!1),Gi(o,a,u),Hs(u.stateNode),Zt=f,an=y;break;case 5:Sr||wi(u,a);case 6:if(f=Zt,y=an,Zt=null,Gi(o,a,u),Zt=f,an=y,Zt!==null)if(an)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(u.stateNode)}catch(b){Dt(u,a,b)}else try{Zt.removeChild(u.stateNode)}catch(b){Dt(u,a,b)}break;case 18:Zt!==null&&(an?(o=Zt,FS(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,u.stateNode),Ol(o)):FS(Zt,u.stateNode));break;case 4:f=Zt,y=an,Zt=u.stateNode.containerInfo,an=!0,Gi(o,a,u),Zt=f,an=y;break;case 0:case 11:case 14:case 15:Do(2,u,a),Sr||Do(4,u,a),Gi(o,a,u);break;case 1:Sr||(wi(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&K1(u,a,f)),Gi(o,a,u);break;case 21:Gi(o,a,u);break;case 22:Sr=(f=Sr)||u.memoizedState!==null,Gi(o,a,u),Sr=f;break;default:Gi(o,a,u)}}function eS(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Ol(o)}catch(u){Dt(a,a.return,u)}}}function tS(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Ol(o)}catch(u){Dt(a,a.return,u)}}function jM(o){switch(o.tag){case 31:case 13:case 19:var a=o.stateNode;return a===null&&(a=o.stateNode=new X1),a;case 22:return o=o.stateNode,a=o._retryCache,a===null&&(a=o._retryCache=new X1),a;default:throw Error(i(435,o.tag))}}function Wu(o,a){var u=jM(o);a.forEach(function(f){if(!u.has(f)){u.add(f);var y=OM.bind(null,o,f);f.then(y,y)}})}function ln(o,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f],b=o,z=a,M=z;e:for(;M!==null;){switch(M.tag){case 27:if(Io(M.type)){Zt=M.stateNode,an=!1;break e}break;case 5:Zt=M.stateNode,an=!1;break e;case 3:case 4:Zt=M.stateNode.containerInfo,an=!0;break e}M=M.return}if(Zt===null)throw Error(i(160));J1(b,z,y),Zt=null,an=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)rS(a,o),a=a.sibling}var si=null;function rS(o,a){var u=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ln(a,o),sn(o),f&4&&(Do(3,o,o.return),Ds(3,o),Do(5,o,o.return));break;case 1:ln(a,o),sn(o),f&512&&(Sr||u===null||wi(u,u.return)),f&64&&Vi&&(o=o.updateQueue,o!==null&&(f=o.callbacks,f!==null&&(u=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var y=si;if(ln(a,o),sn(o),f&512&&(Sr||u===null||wi(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=o.memoizedState,u===null)if(f===null)if(o.stateNode===null){e:{f=o.type,u=o.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":b=y.getElementsByTagName("title")[0],(!b||b[G]||b[It]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(f),y.head.insertBefore(b,y.querySelector("head > title"))),Ir(b,f,u),b[It]=o,rt(b),f=b;break e;case"link":var z=rj("link","href",y).get(f+(u.href||""));if(z){for(var M=0;M<z.length;M++)if(b=z[M],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){z.splice(M,1);break t}}b=y.createElement(f),Ir(b,f,u),y.head.appendChild(b);break;case"meta":if(z=rj("meta","content",y).get(f+(u.content||""))){for(M=0;M<z.length;M++)if(b=z[M],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){z.splice(M,1);break t}}b=y.createElement(f),Ir(b,f,u),y.head.appendChild(b);break;default:throw Error(i(468,f))}b[It]=o,rt(b),f=b}o.stateNode=f}else nj(y,o.type,o.stateNode);else o.stateNode=tj(y,f,o.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?nj(y,o.type,o.stateNode):tj(y,f,o.memoizedProps)):f===null&&o.stateNode!==null&&qg(o,o.memoizedProps,u.memoizedProps)}break;case 27:ln(a,o),sn(o),f&512&&(Sr||u===null||wi(u,u.return)),u!==null&&f&4&&qg(o,o.memoizedProps,u.memoizedProps);break;case 5:if(ln(a,o),sn(o),f&512&&(Sr||u===null||wi(u,u.return)),o.flags&32){y=o.stateNode;try{el(y,"")}catch(Le){Dt(o,o.return,Le)}}f&4&&o.stateNode!=null&&(y=o.memoizedProps,qg(o,y,u!==null?u.memoizedProps:y)),f&1024&&(Fg=!0);break;case 6:if(ln(a,o),sn(o),f&4){if(o.stateNode===null)throw Error(i(162));f=o.memoizedProps,u=o.stateNode;try{u.nodeValue=f}catch(Le){Dt(o,o.return,Le)}}break;case 3:if(td=null,y=si,si=Ju(a.containerInfo),ln(a,o),si=y,sn(o),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Ol(a.containerInfo)}catch(Le){Dt(o,o.return,Le)}Fg&&(Fg=!1,nS(o));break;case 4:f=si,si=Ju(o.stateNode.containerInfo),ln(a,o),sn(o),si=f;break;case 12:ln(a,o),sn(o);break;case 31:ln(a,o),sn(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Wu(o,f)));break;case 13:ln(a,o),sn(o),o.child.flags&8192&&o.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Iu=H()),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Wu(o,f)));break;case 22:y=o.memoizedState!==null;var q=u!==null&&u.memoizedState!==null,ae=Vi,ve=Sr;if(Vi=ae||y,Sr=ve||q,ln(a,o),Sr=ve,Vi=ae,sn(o),f&8192)e:for(a=o.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(u===null||q||Vi||Sr||ka(o)),u=null,a=o;;){if(a.tag===5||a.tag===26){if(u===null){q=u=a;try{if(b=q.stateNode,y)z=b.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{M=q.stateNode;var we=q.memoizedProps.style,se=we!=null&&we.hasOwnProperty("display")?we.display:null;M.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Le){Dt(q,q.return,Le)}}}else if(a.tag===6){if(u===null){q=a;try{q.stateNode.nodeValue=y?"":q.memoizedProps}catch(Le){Dt(q,q.return,Le)}}}else if(a.tag===18){if(u===null){q=a;try{var pe=q.stateNode;y?KS(pe,!0):KS(q.stateNode,!1)}catch(Le){Dt(q,q.return,Le)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===o)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=o.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Wu(o,u))));break;case 19:ln(a,o),sn(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Wu(o,f)));break;case 30:break;case 21:break;default:ln(a,o),sn(o)}}function sn(o){var a=o.flags;if(a&2){try{for(var u,f=o.return;f!==null;){if(V1(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var y=u.stateNode,b=Ug(o);Lu(o,b,y);break;case 5:var z=u.stateNode;u.flags&32&&(el(z,""),u.flags&=-33);var M=Ug(o);Lu(o,M,z);break;case 3:case 4:var q=u.stateNode.containerInfo,ae=Ug(o);Hg(o,ae,q);break;default:throw Error(i(161))}}catch(ve){Dt(o,o.return,ve)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function nS(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var a=o;nS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),o=o.sibling}}function Xi(o,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Q1(o,a.alternate,a),a=a.sibling}function ka(o){for(o=o.child;o!==null;){var a=o;switch(a.tag){case 0:case 11:case 14:case 15:Do(4,a,a.return),ka(a);break;case 1:wi(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&K1(a,a.return,u),ka(a);break;case 27:Hs(a.stateNode);case 26:case 5:wi(a,a.return),ka(a);break;case 22:a.memoizedState===null&&ka(a);break;case 30:ka(a);break;default:ka(a)}o=o.sibling}}function Qi(o,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,y=o,b=a,z=b.flags;switch(b.tag){case 0:case 11:case 15:Qi(y,b,u),Ds(4,b);break;case 1:if(Qi(y,b,u),f=b,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ae){Dt(f,f.return,ae)}if(f=b,y=f.updateQueue,y!==null){var M=f.stateNode;try{var q=y.shared.hiddenCallbacks;if(q!==null)for(y.shared.hiddenCallbacks=null,y=0;y<q.length;y++)D0(q[y],M)}catch(ae){Dt(f,f.return,ae)}}u&&z&64&&F1(b),Ps(b,b.return);break;case 27:G1(b);case 26:case 5:Qi(y,b,u),u&&f===null&&z&4&&Y1(b),Ps(b,b.return);break;case 12:Qi(y,b,u);break;case 31:Qi(y,b,u),u&&z&4&&eS(y,b);break;case 13:Qi(y,b,u),u&&z&4&&tS(y,b);break;case 22:b.memoizedState===null&&Qi(y,b,u),Ps(b,b.return);break;case 30:break;default:Qi(y,b,u)}a=a.sibling}}function Kg(o,a){var u=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==u&&(o!=null&&o.refCount++,u!=null&&Ss(u))}function Yg(o,a){o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&Ss(o))}function ci(o,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)iS(o,a,u,f),a=a.sibling}function iS(o,a,u,f){var y=a.flags;switch(a.tag){case 0:case 11:case 15:ci(o,a,u,f),y&2048&&Ds(9,a);break;case 1:ci(o,a,u,f);break;case 3:ci(o,a,u,f),y&2048&&(o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&Ss(o)));break;case 12:if(y&2048){ci(o,a,u,f),o=a.stateNode;try{var b=a.memoizedProps,z=b.id,M=b.onPostCommit;typeof M=="function"&&M(z,a.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(q){Dt(a,a.return,q)}}else ci(o,a,u,f);break;case 31:ci(o,a,u,f);break;case 13:ci(o,a,u,f);break;case 23:break;case 22:b=a.stateNode,z=a.alternate,a.memoizedState!==null?b._visibility&2?ci(o,a,u,f):$s(o,a):b._visibility&2?ci(o,a,u,f):(b._visibility|=2,bl(o,a,u,f,(a.subtreeFlags&10256)!==0||!1)),y&2048&&Kg(z,a);break;case 24:ci(o,a,u,f),y&2048&&Yg(a.alternate,a);break;default:ci(o,a,u,f)}}function bl(o,a,u,f,y){for(y=y&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=o,z=a,M=u,q=f,ae=z.flags;switch(z.tag){case 0:case 11:case 15:bl(b,z,M,q,y),Ds(8,z);break;case 23:break;case 22:var ve=z.stateNode;z.memoizedState!==null?ve._visibility&2?bl(b,z,M,q,y):$s(b,z):(ve._visibility|=2,bl(b,z,M,q,y)),y&&ae&2048&&Kg(z.alternate,z);break;case 24:bl(b,z,M,q,y),y&&ae&2048&&Yg(z.alternate,z);break;default:bl(b,z,M,q,y)}a=a.sibling}}function $s(o,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=o,f=a,y=f.flags;switch(f.tag){case 22:$s(u,f),y&2048&&Kg(f.alternate,f);break;case 24:$s(u,f),y&2048&&Yg(f.alternate,f);break;default:$s(u,f)}a=a.sibling}}var Ns=8192;function Sl(o,a,u){if(o.subtreeFlags&Ns)for(o=o.child;o!==null;)oS(o,a,u),o=o.sibling}function oS(o,a,u){switch(o.tag){case 26:Sl(o,a,u),o.flags&Ns&&o.memoizedState!==null&&sR(u,si,o.memoizedState,o.memoizedProps);break;case 5:Sl(o,a,u);break;case 3:case 4:var f=si;si=Ju(o.stateNode.containerInfo),Sl(o,a,u),si=f;break;case 22:o.memoizedState===null&&(f=o.alternate,f!==null&&f.memoizedState!==null?(f=Ns,Ns=16777216,Sl(o,a,u),Ns=f):Sl(o,a,u));break;default:Sl(o,a,u)}}function aS(o){var a=o.alternate;if(a!==null&&(o=a.child,o!==null)){a.child=null;do a=o.sibling,o.sibling=null,o=a;while(o!==null)}}function Ls(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Mr=f,sS(f,o)}aS(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)lS(o),o=o.sibling}function lS(o){switch(o.tag){case 0:case 11:case 15:Ls(o),o.flags&2048&&Do(9,o,o.return);break;case 3:Ls(o);break;case 12:Ls(o);break;case 22:var a=o.stateNode;o.memoizedState!==null&&a._visibility&2&&(o.return===null||o.return.tag!==13)?(a._visibility&=-3,Bu(o)):Ls(o);break;default:Ls(o)}}function Bu(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Mr=f,sS(f,o)}aS(o)}for(o=o.child;o!==null;){switch(a=o,a.tag){case 0:case 11:case 15:Do(8,a,a.return),Bu(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Bu(a));break;default:Bu(a)}o=o.sibling}}function sS(o,a){for(;Mr!==null;){var u=Mr;switch(u.tag){case 0:case 11:case 15:Do(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ss(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Mr=f;else e:for(u=o;Mr!==null;){f=Mr;var y=f.sibling,b=f.return;if(Z1(f),f===u){Mr=null;break e}if(y!==null){y.return=b,Mr=y;break e}Mr=b}}}var wM={getCacheForType:function(o){var a=Wr(xr),u=a.data.get(o);return u===void 0&&(u=o(),a.data.set(o,u)),u},cacheSignal:function(){return Wr(xr).controller.signal}},CM=typeof WeakMap=="function"?WeakMap:Map,kt=0,qt=null,ct=null,ft=0,Rt=0,bn=null,Po=!1,jl=!1,Vg=!1,Zi=0,ur=0,$o=0,za=0,Gg=0,Sn=0,wl=0,Ws=null,cn=null,Xg=!1,Iu=0,cS=0,qu=1/0,Uu=null,No=null,zr=0,Lo=null,Cl=null,Ji=0,Qg=0,Zg=null,uS=null,Bs=0,Jg=null;function jn(){return(kt&2)!==0&&ft!==0?ft&-ft:F.T!==null?om():_t()}function dS(){if(Sn===0)if((ft&536870912)===0||gt){var o=ht;ht<<=1,(ht&3932160)===0&&(ht=262144),Sn=o}else Sn=536870912;return o=xn.current,o!==null&&(o.flags|=32),Sn}function un(o,a,u){(o===qt&&(Rt===2||Rt===9)||o.cancelPendingCommit!==null)&&(kl(o,0),Wo(o,ft,Sn,!1)),nn(o,u),((kt&2)===0||o!==qt)&&(o===qt&&((kt&2)===0&&(za|=u),ur===4&&Wo(o,ft,Sn,!1)),Ci(o))}function fS(o,a,u){if((kt&6)!==0)throw Error(i(327));var f=!u&&(a&127)===0&&(a&o.expiredLanes)===0||zt(o,a),y=f?_M(o,a):tm(o,a,!0),b=f;do{if(y===0){jl&&!f&&Wo(o,a,0,!1);break}else{if(u=o.current.alternate,b&&!kM(u)){y=tm(o,a,!1),b=!1;continue}if(y===2){if(b=a,o.errorRecoveryDisabledLanes&b)var z=0;else z=o.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){a=z;e:{var M=o;y=Ws;var q=M.current.memoizedState.isDehydrated;if(q&&(kl(M,z).flags|=256),z=tm(M,z,!1),z!==2){if(Vg&&!q){M.errorRecoveryDisabledLanes|=b,za|=b,y=4;break e}b=cn,cn=y,b!==null&&(cn===null?cn=b:cn.push.apply(cn,b))}y=z}if(b=!1,y!==2)continue}}if(y===1){kl(o,0),Wo(o,a,0,!0);break}e:{switch(f=o,b=y,b){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Wo(f,a,Sn,!Po);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(y=Iu+300-H(),10<y)){if(Wo(f,a,Sn,!Po),qe(f,0,!0)!==0)break e;Ji=a,f.timeoutHandle=US(pS.bind(null,f,u,cn,Uu,Xg,a,Sn,za,wl,Po,b,"Throttled",-0,0),y);break e}pS(f,u,cn,Uu,Xg,a,Sn,za,wl,Po,b,null,-0,0)}}break}while(!0);Ci(o)}function pS(o,a,u,f,y,b,z,M,q,ae,ve,we,se,pe){if(o.timeoutHandle=-1,we=a.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Li},oS(a,b,we);var Le=(b&62914560)===b?Iu-H():(b&4194048)===b?cS-H():0;if(Le=cR(we,Le),Le!==null){Ji=b,o.cancelPendingCommit=Le(SS.bind(null,o,a,b,u,f,y,z,M,q,ve,we,null,se,pe)),Wo(o,b,z,!ae);return}}SS(o,a,b,u,f,y,z,M,q)}function kM(o){for(var a=o;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var y=u[f],b=y.getSnapshot;y=y.value;try{if(!hn(b(),y))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Wo(o,a,u,f){a&=~Gg,a&=~za,o.suspendedLanes|=a,o.pingedLanes&=~a,f&&(o.warmLanes|=a),f=o.expirationTimes;for(var y=a;0<y;){var b=31-xe(y),z=1<<b;f[b]=-1,y&=~z}u!==0&&wo(o,u,a)}function Hu(){return(kt&6)===0?(Is(0),!1):!0}function em(){if(ct!==null){if(Rt===0)var o=ct.return;else o=ct,qi=ya=null,hg(o),ml=null,ws=0,o=ct;for(;o!==null;)H1(o.alternate,o),o=o.return;ct=null}}function kl(o,a){var u=o.timeoutHandle;u!==-1&&(o.timeoutHandle=-1,FM(u)),u=o.cancelPendingCommit,u!==null&&(o.cancelPendingCommit=null,u()),Ji=0,em(),qt=o,ct=u=Bi(o.current,null),ft=a,Rt=0,bn=null,Po=!1,jl=zt(o,a),Vg=!1,wl=Sn=Gg=za=$o=ur=0,cn=Ws=null,Xg=!1,(a&8)!==0&&(a|=a&32);var f=o.entangledLanes;if(f!==0)for(o=o.entanglements,f&=a;0<f;){var y=31-xe(f),b=1<<y;a|=o[y],f&=~b}return Zi=a,du(),u}function gS(o,a){ot=null,F.H=Os,a===gl||a===vu?(a=E0(),Rt=3):a===ig?(a=E0(),Rt=4):Rt=a===Mg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,bn=a,ct===null&&(ur=1,Ru(o,Wn(a,o.current)))}function mS(){var o=xn.current;return o===null?!0:(ft&4194048)===ft?Un===null:(ft&62914560)===ft||(ft&536870912)!==0?o===Un:!1}function hS(){var o=F.H;return F.H=Os,o===null?Os:o}function yS(){var o=F.A;return F.A=wM,o}function Fu(){ur=4,Po||(ft&4194048)!==ft&&xn.current!==null||(jl=!0),($o&134217727)===0&&(za&134217727)===0||qt===null||Wo(qt,ft,Sn,!1)}function tm(o,a,u){var f=kt;kt|=2;var y=hS(),b=yS();(qt!==o||ft!==a)&&(Uu=null,kl(o,a)),a=!1;var z=ur;e:do try{if(Rt!==0&&ct!==null){var M=ct,q=bn;switch(Rt){case 8:em(),z=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(a=!0);var ae=Rt;if(Rt=0,bn=null,zl(o,M,q,ae),u&&jl){z=0;break e}break;default:ae=Rt,Rt=0,bn=null,zl(o,M,q,ae)}}zM(),z=ur;break}catch(ve){gS(o,ve)}while(!0);return a&&o.shellSuspendCounter++,qi=ya=null,kt=f,F.H=y,F.A=b,ct===null&&(qt=null,ft=0,du()),z}function zM(){for(;ct!==null;)xS(ct)}function _M(o,a){var u=kt;kt|=2;var f=hS(),y=yS();qt!==o||ft!==a?(Uu=null,qu=H()+500,kl(o,a)):jl=zt(o,a);e:do try{if(Rt!==0&&ct!==null){a=ct;var b=bn;t:switch(Rt){case 1:Rt=0,bn=null,zl(o,a,b,1);break;case 2:case 9:if(T0(b)){Rt=0,bn=null,vS(a);break}a=function(){Rt!==2&&Rt!==9||qt!==o||(Rt=7),Ci(o)},b.then(a,a);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:T0(b)?(Rt=0,bn=null,vS(a)):(Rt=0,bn=null,zl(o,a,b,7));break;case 5:var z=null;switch(ct.tag){case 26:z=ct.memoizedState;case 5:case 27:var M=ct;if(z?ij(z):M.stateNode.complete){Rt=0,bn=null;var q=M.sibling;if(q!==null)ct=q;else{var ae=M.return;ae!==null?(ct=ae,Ku(ae)):ct=null}break t}}Rt=0,bn=null,zl(o,a,b,5);break;case 6:Rt=0,bn=null,zl(o,a,b,6);break;case 8:em(),ur=6;break e;default:throw Error(i(462))}}TM();break}catch(ve){gS(o,ve)}while(!0);return qi=ya=null,F.H=f,F.A=y,kt=u,ct!==null?0:(qt=null,ft=0,du(),ur)}function TM(){for(;ct!==null&&!it();)xS(ct)}function xS(o){var a=q1(o.alternate,o,Zi);o.memoizedProps=o.pendingProps,a===null?Ku(o):ct=a}function vS(o){var a=o,u=a.alternate;switch(a.tag){case 15:case 0:a=$1(u,a,a.pendingProps,a.type,void 0,ft);break;case 11:a=$1(u,a,a.pendingProps,a.type.render,a.ref,ft);break;case 5:hg(a);default:H1(u,a),a=ct=y0(a,Zi),a=q1(u,a,Zi)}o.memoizedProps=o.pendingProps,a===null?Ku(o):ct=a}function zl(o,a,u,f){qi=ya=null,hg(a),ml=null,ws=0;var y=a.return;try{if(hM(o,y,a,u,ft)){ur=1,Ru(o,Wn(u,o.current)),ct=null;return}}catch(b){if(y!==null)throw ct=y,b;ur=1,Ru(o,Wn(u,o.current)),ct=null;return}a.flags&32768?(gt||f===1?o=!0:jl||(ft&536870912)!==0?o=!1:(Po=o=!0,(f===2||f===9||f===3||f===6)&&(f=xn.current,f!==null&&f.tag===13&&(f.flags|=16384))),bS(a,o)):Ku(a)}function Ku(o){var a=o;do{if((a.flags&32768)!==0){bS(a,Po);return}o=a.return;var u=vM(a.alternate,a,Zi);if(u!==null){ct=u;return}if(a=a.sibling,a!==null){ct=a;return}ct=a=o}while(a!==null);ur===0&&(ur=5)}function bS(o,a){do{var u=bM(o.alternate,o);if(u!==null){u.flags&=32767,ct=u;return}if(u=o.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(o=o.sibling,o!==null)){ct=o;return}ct=o=u}while(o!==null);ur=6,ct=null}function SS(o,a,u,f,y,b,z,M,q){o.cancelPendingCommit=null;do Yu();while(zr!==0);if((kt&6)!==0)throw Error(i(327));if(a!==null){if(a===o.current)throw Error(i(177));if(b=a.lanes|a.childLanes,b|=Up,ca(o,u,b,z,M,q),o===qt&&(ct=qt=null,ft=0),Cl=a,Lo=o,Ji=u,Qg=b,Zg=y,uS=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,MM(Qe,function(){return zS(),null})):(o.callbackNode=null,o.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=F.T,F.T=null,y=Y.p,Y.p=2,z=kt,kt|=4;try{SM(o,a,u)}finally{kt=z,Y.p=y,F.T=f}}zr=1,jS(),wS(),CS()}}function jS(){if(zr===1){zr=0;var o=Lo,a=Cl,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=F.T,F.T=null;var f=Y.p;Y.p=2;var y=kt;kt|=4;try{rS(a,o);var b=pm,z=s0(o.containerInfo),M=b.focusedElem,q=b.selectionRange;if(z!==M&&M&&M.ownerDocument&&l0(M.ownerDocument.documentElement,M)){if(q!==null&&Lp(M)){var ae=q.start,ve=q.end;if(ve===void 0&&(ve=ae),"selectionStart"in M)M.selectionStart=ae,M.selectionEnd=Math.min(ve,M.value.length);else{var we=M.ownerDocument||document,se=we&&we.defaultView||window;if(se.getSelection){var pe=se.getSelection(),Le=M.textContent.length,Ze=Math.min(q.start,Le),Wt=q.end===void 0?Ze:Math.min(q.end,Le);!pe.extend&&Ze>Wt&&(z=Wt,Wt=Ze,Ze=z);var Q=a0(M,Ze),K=a0(M,Wt);if(Q&&K&&(pe.rangeCount!==1||pe.anchorNode!==Q.node||pe.anchorOffset!==Q.offset||pe.focusNode!==K.node||pe.focusOffset!==K.offset)){var ie=we.createRange();ie.setStart(Q.node,Q.offset),pe.removeAllRanges(),Ze>Wt?(pe.addRange(ie),pe.extend(K.node,K.offset)):(ie.setEnd(K.node,K.offset),pe.addRange(ie))}}}}for(we=[],pe=M;pe=pe.parentNode;)pe.nodeType===1&&we.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<we.length;M++){var je=we[M];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}od=!!fm,pm=fm=null}finally{kt=y,Y.p=f,F.T=u}}o.current=a,zr=2}}function wS(){if(zr===2){zr=0;var o=Lo,a=Cl,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=F.T,F.T=null;var f=Y.p;Y.p=2;var y=kt;kt|=4;try{Q1(o,a.alternate,a)}finally{kt=y,Y.p=f,F.T=u}}zr=3}}function CS(){if(zr===4||zr===3){zr=0,te();var o=Lo,a=Cl,u=Ji,f=uS;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?zr=5:(zr=0,Cl=Lo=null,kS(o,o.pendingLanes));var y=o.pendingLanes;if(y===0&&(No=null),Ot(u),a=a.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(sr,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=F.T,y=Y.p,Y.p=2,F.T=null;try{for(var b=o.onRecoverableError,z=0;z<f.length;z++){var M=f[z];b(M.value,{componentStack:M.stack})}}finally{F.T=a,Y.p=y}}(Ji&3)!==0&&Yu(),Ci(o),y=o.pendingLanes,(u&261930)!==0&&(y&42)!==0?o===Jg?Bs++:(Bs=0,Jg=o):Bs=0,Is(0)}}function kS(o,a){(o.pooledCacheLanes&=a)===0&&(a=o.pooledCache,a!=null&&(o.pooledCache=null,Ss(a)))}function Yu(){return jS(),wS(),CS(),zS()}function zS(){if(zr!==5)return!1;var o=Lo,a=Qg;Qg=0;var u=Ot(Ji),f=F.T,y=Y.p;try{Y.p=32>u?32:u,F.T=null,u=Zg,Zg=null;var b=Lo,z=Ji;if(zr=0,Cl=Lo=null,Ji=0,(kt&6)!==0)throw Error(i(331));var M=kt;if(kt|=4,lS(b.current),iS(b,b.current,z,u),kt=M,Is(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(sr,b)}catch{}return!0}finally{Y.p=y,F.T=f,kS(o,a)}}function _S(o,a,u){a=Wn(u,a),a=Og(o.stateNode,a,2),o=Oo(o,a,2),o!==null&&(nn(o,2),Ci(o))}function Dt(o,a,u){if(o.tag===3)_S(o,o,u);else for(;a!==null;){if(a.tag===3){_S(a,o,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(No===null||!No.has(f))){o=Wn(u,o),u=T1(2),f=Oo(a,u,2),f!==null&&(A1(u,f,a,o),nn(f,2),Ci(f));break}}a=a.return}}function rm(o,a,u){var f=o.pingCache;if(f===null){f=o.pingCache=new CM;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(u)||(Vg=!0,y.add(u),o=AM.bind(null,o,a,u),a.then(o,o))}function AM(o,a,u){var f=o.pingCache;f!==null&&f.delete(a),o.pingedLanes|=o.suspendedLanes&u,o.warmLanes&=~u,qt===o&&(ft&u)===u&&(ur===4||ur===3&&(ft&62914560)===ft&&300>H()-Iu?(kt&2)===0&&kl(o,0):Gg|=u,wl===ft&&(wl=0)),Ci(o)}function TS(o,a){a===0&&(a=Dn()),o=ga(o,a),o!==null&&(nn(o,a),Ci(o))}function EM(o){var a=o.memoizedState,u=0;a!==null&&(u=a.retryLane),TS(o,u)}function OM(o,a){var u=0;switch(o.tag){case 31:case 13:var f=o.stateNode,y=o.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=o.stateNode;break;case 22:f=o.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(a),TS(o,u)}function MM(o,a){return J(o,a)}var Vu=null,_l=null,nm=!1,Gu=!1,im=!1,Bo=0;function Ci(o){o!==_l&&o.next===null&&(_l===null?Vu=_l=o:_l=_l.next=o),Gu=!0,nm||(nm=!0,DM())}function Is(o,a){if(!im&&Gu){im=!0;do for(var u=!1,f=Vu;f!==null;){if(o!==0){var y=f.pendingLanes;if(y===0)var b=0;else{var z=f.suspendedLanes,M=f.pingedLanes;b=(1<<31-xe(42|o)+1)-1,b&=y&~(z&~M),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,MS(f,b))}else b=ft,b=qe(f,f===qt?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||zt(f,b)||(u=!0,MS(f,b));f=f.next}while(u);im=!1}}function RM(){AS()}function AS(){Gu=nm=!1;var o=0;Bo!==0&&HM()&&(o=Bo);for(var a=H(),u=null,f=Vu;f!==null;){var y=f.next,b=ES(f,a);b===0?(f.next=null,u===null?Vu=y:u.next=y,y===null&&(_l=u)):(u=f,(o!==0||(b&3)!==0)&&(Gu=!0)),f=y}zr!==0&&zr!==5||Is(o),Bo!==0&&(Bo=0)}function ES(o,a){for(var u=o.suspendedLanes,f=o.pingedLanes,y=o.expirationTimes,b=o.pendingLanes&-62914561;0<b;){var z=31-xe(b),M=1<<z,q=y[z];q===-1?((M&u)===0||(M&f)!==0)&&(y[z]=yr(M,a)):q<=a&&(o.expiredLanes|=M),b&=~M}if(a=qt,u=ft,u=qe(o,o===a?u:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f=o.callbackNode,u===0||o===a&&(Rt===2||Rt===9)||o.cancelPendingCommit!==null)return f!==null&&f!==null&&ze(f),o.callbackNode=null,o.callbackPriority=0;if((u&3)===0||zt(o,u)){if(a=u&-u,a===o.callbackPriority)return a;switch(f!==null&&ze(f),Ot(u)){case 2:case 8:u=Be;break;case 32:u=Qe;break;case 268435456:u=mt;break;default:u=Qe}return f=OS.bind(null,o),u=J(u,f),o.callbackPriority=a,o.callbackNode=u,a}return f!==null&&f!==null&&ze(f),o.callbackPriority=2,o.callbackNode=null,2}function OS(o,a){if(zr!==0&&zr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var u=o.callbackNode;if(Yu()&&o.callbackNode!==u)return null;var f=ft;return f=qe(o,o===qt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f===0?null:(fS(o,f,a),ES(o,H()),o.callbackNode!=null&&o.callbackNode===u?OS.bind(null,o):null)}function MS(o,a){if(Yu())return null;fS(o,a,!0)}function DM(){KM(function(){(kt&6)!==0?J(Fe,RM):AS()})}function om(){if(Bo===0){var o=fl;o===0&&(o=Yt,Yt<<=1,(Yt&261888)===0&&(Yt=256)),Bo=o}return Bo}function RS(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:nu(""+o)}function DS(o,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,o.id&&u.setAttribute("form",o.id),a.parentNode.insertBefore(u,a),o=new FormData(o),u.parentNode.removeChild(u),o}function PM(o,a,u,f,y){if(a==="submit"&&u&&u.stateNode===y){var b=RS((y[tt]||null).action),z=f.submitter;z&&(a=(a=z[tt]||null)?RS(a.formAction):z.getAttribute("formAction"),a!==null&&(b=a,z=null));var M=new lu("action","action",null,f,y);o.push({event:M,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Bo!==0){var q=z?DS(y,z):new FormData(y);kg(u,{pending:!0,data:q,method:y.method,action:b},null,q)}}else typeof b=="function"&&(M.preventDefault(),q=z?DS(y,z):new FormData(y),kg(u,{pending:!0,data:q,method:y.method,action:b},b,q))},currentTarget:y}]})}}for(var am=0;am<qp.length;am++){var lm=qp[am],$M=lm.toLowerCase(),NM=lm[0].toUpperCase()+lm.slice(1);li($M,"on"+NM)}li(d0,"onAnimationEnd"),li(f0,"onAnimationIteration"),li(p0,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(JO,"onTransitionRun"),li(eM,"onTransitionStart"),li(tM,"onTransitionCancel"),li(g0,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qs));function PS(o,a){a=(a&4)!==0;for(var u=0;u<o.length;u++){var f=o[u],y=f.event;f=f.listeners;e:{var b=void 0;if(a)for(var z=f.length-1;0<=z;z--){var M=f[z],q=M.instance,ae=M.currentTarget;if(M=M.listener,q!==b&&y.isPropagationStopped())break e;b=M,y.currentTarget=ae;try{b(y)}catch(ve){uu(ve)}y.currentTarget=null,b=q}else for(z=0;z<f.length;z++){if(M=f[z],q=M.instance,ae=M.currentTarget,M=M.listener,q!==b&&y.isPropagationStopped())break e;b=M,y.currentTarget=ae;try{b(y)}catch(ve){uu(ve)}y.currentTarget=null,b=q}}}}function ut(o,a){var u=a[oi];u===void 0&&(u=a[oi]=new Set);var f=o+"__bubble";u.has(f)||($S(a,o,2,!1),u.add(f))}function sm(o,a,u){var f=0;a&&(f|=4),$S(u,o,f,a)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function cm(o){if(!o[Xu]){o[Xu]=!0,Ct.forEach(function(u){u!=="selectionchange"&&(LM.has(u)||sm(u,!1,o),sm(u,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Xu]||(a[Xu]=!0,sm("selectionchange",!1,a))}}function $S(o,a,u,f){switch(dj(a)){case 2:var y=fR;break;case 8:y=pR;break;default:y=Cm}u=y.bind(null,a,u,o),y=void 0,!Ap||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?o.addEventListener(a,u,{capture:!0,passive:y}):o.addEventListener(a,u,!0):y!==void 0?o.addEventListener(a,u,{passive:y}):o.addEventListener(a,u,!1)}function um(o,a,u,f,y){var b=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var z=f.tag;if(z===3||z===4){var M=f.stateNode.containerInfo;if(M===y)break;if(z===4)for(z=f.return;z!==null;){var q=z.tag;if((q===3||q===4)&&z.stateNode.containerInfo===y)return;z=z.return}for(;M!==null;){if(z=He(M),z===null)return;if(q=z.tag,q===5||q===6||q===26||q===27){f=b=z;continue e}M=M.parentNode}}f=f.return}Ib(function(){var ae=b,ve=_p(u),we=[];e:{var se=m0.get(o);if(se!==void 0){var pe=lu,Le=o;switch(o){case"keypress":if(ou(u)===0)break e;case"keydown":case"keyup":pe=OO;break;case"focusin":Le="focus",pe=Rp;break;case"focusout":Le="blur",pe=Rp;break;case"beforeblur":case"afterblur":pe=Rp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Hb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=vO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=DO;break;case d0:case f0:case p0:pe=jO;break;case g0:pe=$O;break;case"scroll":case"scrollend":pe=yO;break;case"wheel":pe=LO;break;case"copy":case"cut":case"paste":pe=CO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Kb;break;case"toggle":case"beforetoggle":pe=BO}var Ze=(a&4)!==0,Wt=!Ze&&(o==="scroll"||o==="scrollend"),Q=Ze?se!==null?se+"Capture":null:se;Ze=[];for(var K=ae,ie;K!==null;){var je=K;if(ie=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||ie===null||Q===null||(je=us(K,Q),je!=null&&Ze.push(Us(K,je,ie))),Wt)break;K=K.return}0<Ze.length&&(se=new pe(se,Le,null,u,ve),we.push({event:se,listeners:Ze}))}}if((a&7)===0){e:{if(se=o==="mouseover"||o==="pointerover",pe=o==="mouseout"||o==="pointerout",se&&u!==zp&&(Le=u.relatedTarget||u.fromElement)&&(He(Le)||Le[Vt]))break e;if((pe||se)&&(se=ve.window===ve?ve:(se=ve.ownerDocument)?se.defaultView||se.parentWindow:window,pe?(Le=u.relatedTarget||u.toElement,pe=ae,Le=Le?He(Le):null,Le!==null&&(Wt=c(Le),Ze=Le.tag,Le!==Wt||Ze!==5&&Ze!==27&&Ze!==6)&&(Le=null)):(pe=null,Le=ae),pe!==Le)){if(Ze=Hb,je="onMouseLeave",Q="onMouseEnter",K="mouse",(o==="pointerout"||o==="pointerover")&&(Ze=Kb,je="onPointerLeave",Q="onPointerEnter",K="pointer"),Wt=pe==null?se:Tt(pe),ie=Le==null?se:Tt(Le),se=new Ze(je,K+"leave",pe,u,ve),se.target=Wt,se.relatedTarget=ie,je=null,He(ve)===ae&&(Ze=new Ze(Q,K+"enter",Le,u,ve),Ze.target=ie,Ze.relatedTarget=Wt,je=Ze),Wt=je,pe&&Le)t:{for(Ze=WM,Q=pe,K=Le,ie=0,je=Q;je;je=Ze(je))ie++;je=0;for(var Xe=K;Xe;Xe=Ze(Xe))je++;for(;0<ie-je;)Q=Ze(Q),ie--;for(;0<je-ie;)K=Ze(K),je--;for(;ie--;){if(Q===K||K!==null&&Q===K.alternate){Ze=Q;break t}Q=Ze(Q),K=Ze(K)}Ze=null}else Ze=null;pe!==null&&NS(we,se,pe,Ze,!1),Le!==null&&Wt!==null&&NS(we,Wt,Le,Ze,!0)}}e:{if(se=ae?Tt(ae):window,pe=se.nodeName&&se.nodeName.toLowerCase(),pe==="select"||pe==="input"&&se.type==="file")var vt=e0;else if(Zb(se))if(t0)vt=XO;else{vt=VO;var Ue=YO}else pe=se.nodeName,!pe||pe.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ae&&kp(ae.elementType)&&(vt=e0):vt=GO;if(vt&&(vt=vt(o,ae))){Jb(we,vt,u,ve);break e}Ue&&Ue(o,se,ae),o==="focusout"&&ae&&se.type==="number"&&ae.memoizedProps.value!=null&&Cp(se,"number",se.value)}switch(Ue=ae?Tt(ae):window,o){case"focusin":(Zb(Ue)||Ue.contentEditable==="true")&&(il=Ue,Wp=ae,xs=null);break;case"focusout":xs=Wp=il=null;break;case"mousedown":Bp=!0;break;case"contextmenu":case"mouseup":case"dragend":Bp=!1,c0(we,u,ve);break;case"selectionchange":if(ZO)break;case"keydown":case"keyup":c0(we,u,ve)}var lt;if(Pp)e:{switch(o){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else nl?Xb(o,u)&&(pt="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(pt="onCompositionStart");pt&&(Yb&&u.locale!=="ko"&&(nl||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&nl&&(lt=qb()):(Co=ve,Ep="value"in Co?Co.value:Co.textContent,nl=!0)),Ue=Qu(ae,pt),0<Ue.length&&(pt=new Fb(pt,o,null,u,ve),we.push({event:pt,listeners:Ue}),lt?pt.data=lt:(lt=Qb(u),lt!==null&&(pt.data=lt)))),(lt=qO?UO(o,u):HO(o,u))&&(pt=Qu(ae,"onBeforeInput"),0<pt.length&&(Ue=new Fb("onBeforeInput","beforeinput",null,u,ve),we.push({event:Ue,listeners:pt}),Ue.data=lt)),PM(we,o,ae,u,ve)}PS(we,a)})}function Us(o,a,u){return{instance:o,listener:a,currentTarget:u}}function Qu(o,a){for(var u=a+"Capture",f=[];o!==null;){var y=o,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=us(o,u),y!=null&&f.unshift(Us(o,y,b)),y=us(o,a),y!=null&&f.push(Us(o,y,b))),o.tag===3)return f;o=o.return}return[]}function WM(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function NS(o,a,u,f,y){for(var b=a._reactName,z=[];u!==null&&u!==f;){var M=u,q=M.alternate,ae=M.stateNode;if(M=M.tag,q!==null&&q===f)break;M!==5&&M!==26&&M!==27||ae===null||(q=ae,y?(ae=us(u,b),ae!=null&&z.unshift(Us(u,ae,q))):y||(ae=us(u,b),ae!=null&&z.push(Us(u,ae,q)))),u=u.return}z.length!==0&&o.push({event:a,listeners:z})}var BM=/\r\n?/g,IM=/\u0000|\uFFFD/g;function LS(o){return(typeof o=="string"?o:""+o).replace(BM,`
`).replace(IM,"")}function WS(o,a){return a=LS(a),LS(o)===a}function Lt(o,a,u,f,y,b){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||el(o,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&el(o,""+f);break;case"className":Za(o,"class",f);break;case"tabIndex":Za(o,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Za(o,u,f);break;case"style":Wb(o,f,b);break;case"data":if(a!=="object"){Za(o,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){o.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(u);break}f=nu(""+f),o.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){o.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(a!=="input"&&Lt(o,a,"name",y.name,y,null),Lt(o,a,"formEncType",y.formEncType,y,null),Lt(o,a,"formMethod",y.formMethod,y,null),Lt(o,a,"formTarget",y.formTarget,y,null)):(Lt(o,a,"encType",y.encType,y,null),Lt(o,a,"method",y.method,y,null),Lt(o,a,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(u);break}f=nu(""+f),o.setAttribute(u,f);break;case"onClick":f!=null&&(o.onclick=Li);break;case"onScroll":f!=null&&ut("scroll",o);break;case"onScrollEnd":f!=null&&ut("scrollend",o);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(i(60));o.innerHTML=u}}break;case"multiple":o.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":o.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){o.removeAttribute("xlink:href");break}u=nu(""+f),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(u,""+f):o.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(u,""):o.removeAttribute(u);break;case"capture":case"download":f===!0?o.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(u,f):o.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?o.setAttribute(u,f):o.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?o.removeAttribute(u):o.setAttribute(u,f);break;case"popover":ut("beforetoggle",o),ut("toggle",o),Qa(o,"popover",f);break;case"xlinkActuate":D(o,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":D(o,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":D(o,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":D(o,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":D(o,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":D(o,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":D(o,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":D(o,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":D(o,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Qa(o,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=mO.get(u)||u,Qa(o,u,f))}}function dm(o,a,u,f,y,b){switch(u){case"style":Wb(o,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(i(60));o.innerHTML=u}}break;case"children":typeof f=="string"?el(o,f):(typeof f=="number"||typeof f=="bigint")&&el(o,""+f);break;case"onScroll":f!=null&&ut("scroll",o);break;case"onScrollEnd":f!=null&&ut("scrollend",o);break;case"onClick":f!=null&&(o.onclick=Li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kr.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),a=u.slice(2,y?u.length-7:void 0),b=o[tt]||null,b=b!=null?b[u]:null,typeof b=="function"&&o.removeEventListener(a,b,y),typeof f=="function")){typeof b!="function"&&b!==null&&(u in o?o[u]=null:o.hasAttribute(u)&&o.removeAttribute(u)),o.addEventListener(a,f,y);break e}u in o?o[u]=f:f===!0?o.setAttribute(u,""):Qa(o,u,f)}}}function Ir(o,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",o),ut("load",o);var f=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var z=u[b];if(z!=null)switch(b){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Lt(o,a,b,z,u,null)}}y&&Lt(o,a,"srcSet",u.srcSet,u,null),f&&Lt(o,a,"src",u.src,u,null);return;case"input":ut("invalid",o);var M=b=z=y=null,q=null,ae=null;for(f in u)if(u.hasOwnProperty(f)){var ve=u[f];if(ve!=null)switch(f){case"name":y=ve;break;case"type":z=ve;break;case"checked":q=ve;break;case"defaultChecked":ae=ve;break;case"value":b=ve;break;case"defaultValue":M=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(i(137,a));break;default:Lt(o,a,f,ve,u,null)}}Pb(o,b,M,q,ae,z,y,!1);return;case"select":ut("invalid",o),f=z=b=null;for(y in u)if(u.hasOwnProperty(y)&&(M=u[y],M!=null))switch(y){case"value":b=M;break;case"defaultValue":z=M;break;case"multiple":f=M;default:Lt(o,a,y,M,u,null)}a=b,u=z,o.multiple=!!f,a!=null?Ja(o,!!f,a,!1):u!=null&&Ja(o,!!f,u,!0);return;case"textarea":ut("invalid",o),b=y=f=null;for(z in u)if(u.hasOwnProperty(z)&&(M=u[z],M!=null))switch(z){case"value":f=M;break;case"defaultValue":y=M;break;case"children":b=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(91));break;default:Lt(o,a,z,M,u,null)}Nb(o,f,y,b);return;case"option":for(q in u)if(u.hasOwnProperty(q)&&(f=u[q],f!=null))switch(q){case"selected":o.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Lt(o,a,q,f,u,null)}return;case"dialog":ut("beforetoggle",o),ut("toggle",o),ut("cancel",o),ut("close",o);break;case"iframe":case"object":ut("load",o);break;case"video":case"audio":for(f=0;f<qs.length;f++)ut(qs[f],o);break;case"image":ut("error",o),ut("load",o);break;case"details":ut("toggle",o);break;case"embed":case"source":case"link":ut("error",o),ut("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in u)if(u.hasOwnProperty(ae)&&(f=u[ae],f!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Lt(o,a,ae,f,u,null)}return;default:if(kp(a)){for(ve in u)u.hasOwnProperty(ve)&&(f=u[ve],f!==void 0&&dm(o,a,ve,f,u,void 0));return}}for(M in u)u.hasOwnProperty(M)&&(f=u[M],f!=null&&Lt(o,a,M,f,u,null))}function qM(o,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,z=null,M=null,q=null,ae=null,ve=null;for(pe in u){var we=u[pe];if(u.hasOwnProperty(pe)&&we!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":q=we;default:f.hasOwnProperty(pe)||Lt(o,a,pe,null,f,we)}}for(var se in f){var pe=f[se];if(we=u[se],f.hasOwnProperty(se)&&(pe!=null||we!=null))switch(se){case"type":b=pe;break;case"name":y=pe;break;case"checked":ae=pe;break;case"defaultChecked":ve=pe;break;case"value":z=pe;break;case"defaultValue":M=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(i(137,a));break;default:pe!==we&&Lt(o,a,se,pe,f,we)}}wp(o,z,M,q,ae,ve,b,y);return;case"select":pe=z=M=se=null;for(b in u)if(q=u[b],u.hasOwnProperty(b)&&q!=null)switch(b){case"value":break;case"multiple":pe=q;default:f.hasOwnProperty(b)||Lt(o,a,b,null,f,q)}for(y in f)if(b=f[y],q=u[y],f.hasOwnProperty(y)&&(b!=null||q!=null))switch(y){case"value":se=b;break;case"defaultValue":M=b;break;case"multiple":z=b;default:b!==q&&Lt(o,a,y,b,f,q)}a=M,u=z,f=pe,se!=null?Ja(o,!!u,se,!1):!!f!=!!u&&(a!=null?Ja(o,!!u,a,!0):Ja(o,!!u,u?[]:"",!1));return;case"textarea":pe=se=null;for(M in u)if(y=u[M],u.hasOwnProperty(M)&&y!=null&&!f.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Lt(o,a,M,null,f,y)}for(z in f)if(y=f[z],b=u[z],f.hasOwnProperty(z)&&(y!=null||b!=null))switch(z){case"value":se=y;break;case"defaultValue":pe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==b&&Lt(o,a,z,y,f,b)}$b(o,se,pe);return;case"option":for(var Le in u)if(se=u[Le],u.hasOwnProperty(Le)&&se!=null&&!f.hasOwnProperty(Le))switch(Le){case"selected":o.selected=!1;break;default:Lt(o,a,Le,null,f,se)}for(q in f)if(se=f[q],pe=u[q],f.hasOwnProperty(q)&&se!==pe&&(se!=null||pe!=null))switch(q){case"selected":o.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Lt(o,a,q,se,f,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in u)se=u[Ze],u.hasOwnProperty(Ze)&&se!=null&&!f.hasOwnProperty(Ze)&&Lt(o,a,Ze,null,f,se);for(ae in f)if(se=f[ae],pe=u[ae],f.hasOwnProperty(ae)&&se!==pe&&(se!=null||pe!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,a));break;default:Lt(o,a,ae,se,f,pe)}return;default:if(kp(a)){for(var Wt in u)se=u[Wt],u.hasOwnProperty(Wt)&&se!==void 0&&!f.hasOwnProperty(Wt)&&dm(o,a,Wt,void 0,f,se);for(ve in f)se=f[ve],pe=u[ve],!f.hasOwnProperty(ve)||se===pe||se===void 0&&pe===void 0||dm(o,a,ve,se,f,pe);return}}for(var Q in u)se=u[Q],u.hasOwnProperty(Q)&&se!=null&&!f.hasOwnProperty(Q)&&Lt(o,a,Q,null,f,se);for(we in f)se=f[we],pe=u[we],!f.hasOwnProperty(we)||se===pe||se==null&&pe==null||Lt(o,a,we,se,f,pe)}function BS(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UM(){if(typeof performance.getEntriesByType=="function"){for(var o=0,a=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var y=u[f],b=y.transferSize,z=y.initiatorType,M=y.duration;if(b&&M&&BS(z)){for(z=0,M=y.responseEnd,f+=1;f<u.length;f++){var q=u[f],ae=q.startTime;if(ae>M)break;var ve=q.transferSize,we=q.initiatorType;ve&&BS(we)&&(q=q.responseEnd,z+=ve*(q<M?1:(M-ae)/(q-ae)))}if(--f,a+=8*(b+z)/(y.duration/1e3),o++,10<o)break}}if(0<o)return a/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var fm=null,pm=null;function Zu(o){return o.nodeType===9?o:o.ownerDocument}function IS(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qS(o,a){if(o===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&a==="foreignObject"?0:o}function gm(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var mm=null;function HM(){var o=window.event;return o&&o.type==="popstate"?o===mm?!1:(mm=o,!0):(mm=null,!1)}var US=typeof setTimeout=="function"?setTimeout:void 0,FM=typeof clearTimeout=="function"?clearTimeout:void 0,HS=typeof Promise=="function"?Promise:void 0,KM=typeof queueMicrotask=="function"?queueMicrotask:typeof HS<"u"?function(o){return HS.resolve(null).then(o).catch(YM)}:US;function YM(o){setTimeout(function(){throw o})}function Io(o){return o==="head"}function FS(o,a){var u=a,f=0;do{var y=u.nextSibling;if(o.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(f===0){o.removeChild(y),Ol(a);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")Hs(o.ownerDocument.documentElement);else if(u==="head"){u=o.ownerDocument.head,Hs(u);for(var b=u.firstChild;b;){var z=b.nextSibling,M=b.nodeName;b[G]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=z}}else u==="body"&&Hs(o.ownerDocument.body);u=y}while(u);Ol(a)}function KS(o,a){var u=o;o=0;do{var f=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(o===0)break;o--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||o++;u=f}while(u)}function hm(o){var a=o.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":hm(u),Re(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}o.removeChild(u)}}function VM(o,a,u,f){for(;o.nodeType===1;){var y=u;if(o.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(f){if(!o[G])switch(a){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(b=o.getAttribute("rel"),b==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(b!==y.rel||o.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||o.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||o.getAttribute("title")!==(y.title==null?null:y.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(b=o.getAttribute("src"),(b!==(y.src==null?null:y.src)||o.getAttribute("type")!==(y.type==null?null:y.type)||o.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(a==="input"&&o.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&o.getAttribute("name")===b)return o}else return o;if(o=Hn(o.nextSibling),o===null)break}return null}function GM(o,a,u){if(a==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=Hn(o.nextSibling),o===null))return null;return o}function YS(o,a){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!a||(o=Hn(o.nextSibling),o===null))return null;return o}function ym(o){return o.data==="$?"||o.data==="$~"}function xm(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function XM(o,a){var u=o.ownerDocument;if(o.data==="$~")o._reactRetry=a;else if(o.data!=="$?"||u.readyState!=="loading")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),o._reactRetry=f}}function Hn(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return o}var vm=null;function VS(o){o=o.nextSibling;for(var a=0;o;){if(o.nodeType===8){var u=o.data;if(u==="/$"||u==="/&"){if(a===0)return Hn(o.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}o=o.nextSibling}return null}function GS(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return o;a--}else u!=="/$"&&u!=="/&"||a++}o=o.previousSibling}return null}function XS(o,a,u){switch(a=Zu(u),o){case"html":if(o=a.documentElement,!o)throw Error(i(452));return o;case"head":if(o=a.head,!o)throw Error(i(453));return o;case"body":if(o=a.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function Hs(o){for(var a=o.attributes;a.length;)o.removeAttributeNode(a[0]);Re(o)}var Fn=new Map,QS=new Set;function Ju(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var eo=Y.d;Y.d={f:QM,r:ZM,D:JM,C:eR,L:tR,m:rR,X:iR,S:nR,M:oR};function QM(){var o=eo.f(),a=Hu();return o||a}function ZM(o){var a=Ve(o);a!==null&&a.tag===5&&a.type==="form"?g1(a):eo.r(o)}var Tl=typeof document>"u"?null:document;function ZS(o,a,u){var f=Tl;if(f&&typeof a=="string"&&a){var y=Nn(a);y='link[rel="'+o+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),QS.has(y)||(QS.add(y),o={rel:o,crossOrigin:u,href:a},f.querySelector(y)===null&&(a=f.createElement("link"),Ir(a,"link",o),rt(a),f.head.appendChild(a)))}}function JM(o){eo.D(o),ZS("dns-prefetch",o,null)}function eR(o,a){eo.C(o,a),ZS("preconnect",o,a)}function tR(o,a,u){eo.L(o,a,u);var f=Tl;if(f&&o&&a){var y='link[rel="preload"][as="'+Nn(a)+'"]';a==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Nn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Nn(u.imageSizes)+'"]')):y+='[href="'+Nn(o)+'"]';var b=y;switch(a){case"style":b=Al(o);break;case"script":b=El(o)}Fn.has(b)||(o=v({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:o,as:a},u),Fn.set(b,o),f.querySelector(y)!==null||a==="style"&&f.querySelector(Fs(b))||a==="script"&&f.querySelector(Ks(b))||(a=f.createElement("link"),Ir(a,"link",o),rt(a),f.head.appendChild(a)))}}function rR(o,a){eo.m(o,a);var u=Tl;if(u&&o){var f=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Nn(f)+'"][href="'+Nn(o)+'"]',b=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=El(o)}if(!Fn.has(b)&&(o=v({rel:"modulepreload",href:o},a),Fn.set(b,o),u.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Ks(b)))return}f=u.createElement("link"),Ir(f,"link",o),rt(f),u.head.appendChild(f)}}}function nR(o,a,u){eo.S(o,a,u);var f=Tl;if(f&&o){var y=At(f).hoistableStyles,b=Al(o);a=a||"default";var z=y.get(b);if(!z){var M={loading:0,preload:null};if(z=f.querySelector(Fs(b)))M.loading=5;else{o=v({rel:"stylesheet",href:o,"data-precedence":a},u),(u=Fn.get(b))&&bm(o,u);var q=z=f.createElement("link");rt(q),Ir(q,"link",o),q._p=new Promise(function(ae,ve){q.onload=ae,q.onerror=ve}),q.addEventListener("load",function(){M.loading|=1}),q.addEventListener("error",function(){M.loading|=2}),M.loading|=4,ed(z,a,f)}z={type:"stylesheet",instance:z,count:1,state:M},y.set(b,z)}}}function iR(o,a){eo.X(o,a);var u=Tl;if(u&&o){var f=At(u).hoistableScripts,y=El(o),b=f.get(y);b||(b=u.querySelector(Ks(y)),b||(o=v({src:o,async:!0},a),(a=Fn.get(y))&&Sm(o,a),b=u.createElement("script"),rt(b),Ir(b,"link",o),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function oR(o,a){eo.M(o,a);var u=Tl;if(u&&o){var f=At(u).hoistableScripts,y=El(o),b=f.get(y);b||(b=u.querySelector(Ks(y)),b||(o=v({src:o,async:!0,type:"module"},a),(a=Fn.get(y))&&Sm(o,a),b=u.createElement("script"),rt(b),Ir(b,"link",o),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function JS(o,a,u,f){var y=(y=I.current)?Ju(y):null;if(!y)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Al(u.href),u=At(y).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){o=Al(u.href);var b=At(y).hoistableStyles,z=b.get(o);if(z||(y=y.ownerDocument||y,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(o,z),(b=y.querySelector(Fs(o)))&&!b._p&&(z.instance=b,z.state.loading=5),Fn.has(o)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Fn.set(o,u),b||aR(y,o,u,z.state))),a&&f===null)throw Error(i(528,""));return z}if(a&&f!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=El(u),u=At(y).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function Al(o){return'href="'+Nn(o)+'"'}function Fs(o){return'link[rel="stylesheet"]['+o+"]"}function ej(o){return v({},o,{"data-precedence":o.precedence,precedence:null})}function aR(o,a,u,f){o.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=o.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Ir(a,"link",u),rt(a),o.head.appendChild(a))}function El(o){return'[src="'+Nn(o)+'"]'}function Ks(o){return"script[async]"+o}function tj(o,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=o.querySelector('style[data-href~="'+Nn(u.href)+'"]');if(f)return a.instance=f,rt(f),f;var y=v({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(o.ownerDocument||o).createElement("style"),rt(f),Ir(f,"style",y),ed(f,u.precedence,o),a.instance=f;case"stylesheet":y=Al(u.href);var b=o.querySelector(Fs(y));if(b)return a.state.loading|=4,a.instance=b,rt(b),b;f=ej(u),(y=Fn.get(y))&&bm(f,y),b=(o.ownerDocument||o).createElement("link"),rt(b);var z=b;return z._p=new Promise(function(M,q){z.onload=M,z.onerror=q}),Ir(b,"link",f),a.state.loading|=4,ed(b,u.precedence,o),a.instance=b;case"script":return b=El(u.src),(y=o.querySelector(Ks(b)))?(a.instance=y,rt(y),y):(f=u,(y=Fn.get(b))&&(f=v({},u),Sm(f,y)),o=o.ownerDocument||o,y=o.createElement("script"),rt(y),Ir(y,"link",f),o.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,ed(f,u.precedence,o));return a.instance}function ed(o,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,b=y,z=0;z<f.length;z++){var M=f[z];if(M.dataset.precedence===a)b=M;else if(b!==y)break}b?b.parentNode.insertBefore(o,b.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(o,a.firstChild))}function bm(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.title==null&&(o.title=a.title)}function Sm(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.integrity==null&&(o.integrity=a.integrity)}var td=null;function rj(o,a,u){if(td===null){var f=new Map,y=td=new Map;y.set(u,f)}else y=td,f=y.get(u),f||(f=new Map,y.set(u,f));if(f.has(o))return f;for(f.set(o,null),u=u.getElementsByTagName(o),y=0;y<u.length;y++){var b=u[y];if(!(b[G]||b[It]||o==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var z=b.getAttribute(a)||"";z=o+z;var M=f.get(z);M?M.push(b):f.set(z,[b])}}return f}function nj(o,a,u){o=o.ownerDocument||o,o.head.insertBefore(u,a==="title"?o.querySelector("head > title"):null)}function lR(o,a,u){if(u===1||a.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return o=a.disabled,typeof a.precedence=="string"&&o==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function ij(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function sR(o,a,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Al(f.href),b=a.querySelector(Fs(y));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(o.count++,o=rd.bind(o),a.then(o,o)),u.state.loading|=4,u.instance=b,rt(b);return}b=a.ownerDocument||a,f=ej(f),(y=Fn.get(y))&&bm(f,y),b=b.createElement("link"),rt(b);var z=b;z._p=new Promise(function(M,q){z.onload=M,z.onerror=q}),Ir(b,"link",f),u.instance=b}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(o.count++,u=rd.bind(o),a.addEventListener("load",u),a.addEventListener("error",u))}}var jm=0;function cR(o,a){return o.stylesheets&&o.count===0&&id(o,o.stylesheets),0<o.count||0<o.imgCount?function(u){var f=setTimeout(function(){if(o.stylesheets&&id(o,o.stylesheets),o.unsuspend){var b=o.unsuspend;o.unsuspend=null,b()}},6e4+a);0<o.imgBytes&&jm===0&&(jm=62500*UM());var y=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&id(o,o.stylesheets),o.unsuspend)){var b=o.unsuspend;o.unsuspend=null,b()}},(o.imgBytes>jm?50:800)+a);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function rd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)id(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var nd=null;function id(o,a){o.stylesheets=null,o.unsuspend!==null&&(o.count++,nd=new Map,a.forEach(uR,o),nd=null,rd.call(o))}function uR(o,a){if(!(a.state.loading&4)){var u=nd.get(o);if(u)var f=u.get(null);else{u=new Map,nd.set(o,u);for(var y=o.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var z=y[b];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(u.set(z.dataset.precedence,z),f=z)}f&&u.set(null,f)}y=a.instance,z=y.getAttribute("data-precedence"),b=u.get(z)||f,b===f&&u.set(null,y),u.set(z,y),this.count++,f=rd.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),b?b.parentNode.insertBefore(y,b.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(y,o.firstChild)),a.state.loading|=4}}var Ys={$$typeof:A,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function dR(o,a,u,f,y,b,z,M,q){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pn(0),this.hiddenUpdates=Pn(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function oj(o,a,u,f,y,b,z,M,q,ae,ve,we){return o=new dR(o,a,u,z,q,ae,ve,we,M),a=1,b===!0&&(a|=24),b=yn(3,null,null,a),o.current=b,b.stateNode=o,a=tg(),a.refCount++,o.pooledCache=a,a.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:a},og(b),o}function aj(o){return o?(o=ll,o):ll}function lj(o,a,u,f,y,b){y=aj(y),f.context===null?f.context=y:f.pendingContext=y,f=Eo(a),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=Oo(o,f,a),u!==null&&(un(u,o,a),ks(u,o,a))}function sj(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<a?u:a}}function wm(o,a){sj(o,a),(o=o.alternate)&&sj(o,a)}function cj(o){if(o.tag===13||o.tag===31){var a=ga(o,67108864);a!==null&&un(a,o,67108864),wm(o,67108864)}}function uj(o){if(o.tag===13||o.tag===31){var a=jn();a=Te(a);var u=ga(o,a);u!==null&&un(u,o,a),wm(o,a)}}var od=!0;function fR(o,a,u,f){var y=F.T;F.T=null;var b=Y.p;try{Y.p=2,Cm(o,a,u,f)}finally{Y.p=b,F.T=y}}function pR(o,a,u,f){var y=F.T;F.T=null;var b=Y.p;try{Y.p=8,Cm(o,a,u,f)}finally{Y.p=b,F.T=y}}function Cm(o,a,u,f){if(od){var y=km(f);if(y===null)um(o,a,f,ad,u),fj(o,f);else if(mR(y,o,a,u,f))f.stopPropagation();else if(fj(o,f),a&4&&-1<gR.indexOf(o)){for(;y!==null;){var b=Ve(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var z=ke(b.pendingLanes);if(z!==0){var M=b;for(M.pendingLanes|=2,M.entangledLanes|=2;z;){var q=1<<31-xe(z);M.entanglements[1]|=q,z&=~q}Ci(b),(kt&6)===0&&(qu=H()+500,Is(0))}}break;case 31:case 13:M=ga(b,2),M!==null&&un(M,b,2),Hu(),wm(b,2)}if(b=km(f),b===null&&um(o,a,f,ad,u),b===y)break;y=b}y!==null&&f.stopPropagation()}else um(o,a,f,null,u)}}function km(o){return o=_p(o),zm(o)}var ad=null;function zm(o){if(ad=null,o=He(o),o!==null){var a=c(o);if(a===null)o=null;else{var u=a.tag;if(u===13){if(o=d(a),o!==null)return o;o=null}else if(u===31){if(o=p(a),o!==null)return o;o=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return ad=o,null}function dj(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oe()){case Fe:return 2;case Be:return 8;case Qe:case Pe:return 32;case mt:return 268435456;default:return 32}default:return 32}}var _m=!1,qo=null,Uo=null,Ho=null,Vs=new Map,Gs=new Map,Fo=[],gR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fj(o,a){switch(o){case"focusin":case"focusout":qo=null;break;case"dragenter":case"dragleave":Uo=null;break;case"mouseover":case"mouseout":Ho=null;break;case"pointerover":case"pointerout":Vs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(a.pointerId)}}function Xs(o,a,u,f,y,b){return o===null||o.nativeEvent!==b?(o={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},a!==null&&(a=Ve(a),a!==null&&cj(a)),o):(o.eventSystemFlags|=f,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function mR(o,a,u,f,y){switch(a){case"focusin":return qo=Xs(qo,o,a,u,f,y),!0;case"dragenter":return Uo=Xs(Uo,o,a,u,f,y),!0;case"mouseover":return Ho=Xs(Ho,o,a,u,f,y),!0;case"pointerover":var b=y.pointerId;return Vs.set(b,Xs(Vs.get(b)||null,o,a,u,f,y)),!0;case"gotpointercapture":return b=y.pointerId,Gs.set(b,Xs(Gs.get(b)||null,o,a,u,f,y)),!0}return!1}function pj(o){var a=He(o.target);if(a!==null){var u=c(a);if(u!==null){if(a=u.tag,a===13){if(a=d(u),a!==null){o.blockedOn=a,dt(o.priority,function(){uj(u)});return}}else if(a===31){if(a=p(u),a!==null){o.blockedOn=a,dt(o.priority,function(){uj(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ld(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var u=km(o.nativeEvent);if(u===null){u=o.nativeEvent;var f=new u.constructor(u.type,u);zp=f,u.target.dispatchEvent(f),zp=null}else return a=Ve(u),a!==null&&cj(a),o.blockedOn=u,!1;a.shift()}return!0}function gj(o,a,u){ld(o)&&u.delete(a)}function hR(){_m=!1,qo!==null&&ld(qo)&&(qo=null),Uo!==null&&ld(Uo)&&(Uo=null),Ho!==null&&ld(Ho)&&(Ho=null),Vs.forEach(gj),Gs.forEach(gj)}function sd(o,a){o.blockedOn===a&&(o.blockedOn=null,_m||(_m=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hR)))}var cd=null;function mj(o){cd!==o&&(cd=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){cd===o&&(cd=null);for(var a=0;a<o.length;a+=3){var u=o[a],f=o[a+1],y=o[a+2];if(typeof f!="function"){if(zm(f||u)===null)continue;break}var b=Ve(u);b!==null&&(o.splice(a,3),a-=3,kg(b,{pending:!0,data:y,method:u.method,action:f},f,y))}}))}function Ol(o){function a(q){return sd(q,o)}qo!==null&&sd(qo,o),Uo!==null&&sd(Uo,o),Ho!==null&&sd(Ho,o),Vs.forEach(a),Gs.forEach(a);for(var u=0;u<Fo.length;u++){var f=Fo[u];f.blockedOn===o&&(f.blockedOn=null)}for(;0<Fo.length&&(u=Fo[0],u.blockedOn===null);)pj(u),u.blockedOn===null&&Fo.shift();if(u=(o.ownerDocument||o).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var y=u[f],b=u[f+1],z=y[tt]||null;if(typeof b=="function")z||mj(u);else if(z){var M=null;if(b&&b.hasAttribute("formAction")){if(y=b,z=b[tt]||null)M=z.formAction;else if(zm(y)!==null)continue}else M=z.action;typeof M=="function"?u[f+1]=M:(u.splice(f,3),f-=3),mj(u)}}}function hj(){function o(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(z){return y=z})},focusReset:"manual",scroll:"manual"})}function a(){y!==null&&(y(),y=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),y!==null&&(y(),y=null)}}}function Tm(o){this._internalRoot=o}ud.prototype.render=Tm.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,f=jn();lj(u,f,o,a,null,null)},ud.prototype.unmount=Tm.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;lj(o.current,2,null,o,null,null),Hu(),a[Vt]=null}};function ud(o){this._internalRoot=o}ud.prototype.unstable_scheduleHydration=function(o){if(o){var a=_t();o={blockedOn:null,target:o,priority:a};for(var u=0;u<Fo.length&&a!==0&&a<Fo[u].priority;u++);Fo.splice(u,0,o),u===0&&pj(o)}};var yj=t.version;if(yj!=="19.2.0")throw Error(i(527,yj,"19.2.0"));Y.findDOMNode=function(o){var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=g(a),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var yR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{sr=dd.inject(yR),xt=dd}catch{}}return Zs.createRoot=function(o,a){if(!s(o))throw Error(i(299));var u=!1,f="",y=C1,b=k1,z=z1;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(z=a.onRecoverableError)),a=oj(o,1,!1,null,null,u,f,null,y,b,z,hj),o[Vt]=a.current,cm(o),new Tm(a)},Zs.hydrateRoot=function(o,a,u){if(!s(o))throw Error(i(299));var f=!1,y="",b=C1,z=k1,M=z1,q=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(z=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.formState!==void 0&&(q=u.formState)),a=oj(o,1,!0,a,u??null,f,y,q,b,z,M,hj),a.context=aj(null),u=a.current,f=jn(),f=Te(f),y=Eo(f),y.callback=null,Oo(u,y,f),u=f,a.current.lanes=u,nn(a,u),Ci(a),o[Vt]=a.current,cm(o),new ud(a)},Zs.version="19.2.0",Zs}var _j;function TR(){if(_j)return Om.exports;_j=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Om.exports=_R(),Om.exports}var AR=TR();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tj="popstate";function ER(e={}){function t(i,s){let{pathname:c,search:d,hash:p}=i.location;return xy("",{pathname:c,search:d,hash:p},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:yc(s)}return MR(t,n,null,e)}function tr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ei(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function OR(){return Math.random().toString(36).substring(2,10)}function Aj(e,t){return{usr:e.state,key:e.key,idx:t}}function xy(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Xl(t):t,state:n,key:t&&t.key||i||OR()}}function yc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Xl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function MR(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:c=!1}=i,d=s.history,p="POP",m=null,g=h();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function h(){return(d.state||{idx:null}).idx}function v(){p="POP";let C=h(),_=C==null?null:C-g;g=C,m&&m({action:p,location:w.location,delta:_})}function S(C,_){p="PUSH";let E=xy(w.location,C,_);g=h()+1;let A=Aj(E,g),T=w.createHref(E);try{d.pushState(A,"",T)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(T)}c&&m&&m({action:p,location:w.location,delta:1})}function j(C,_){p="REPLACE";let E=xy(w.location,C,_);g=h();let A=Aj(E,g),T=w.createHref(E);d.replaceState(A,"",T),c&&m&&m({action:p,location:w.location,delta:0})}function k(C){return RR(C)}let w={get action(){return p},get location(){return e(s,d)},listen(C){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(Tj,v),m=C,()=>{s.removeEventListener(Tj,v),m=null}},createHref(C){return t(s,C)},createURL:k,encodeLocation(C){let _=k(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:S,replace:j,go(C){return d.go(C)}};return w}function RR(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tr(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:yc(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function G2(e,t,n="/"){return DR(e,t,n,!1)}function DR(e,t,n,i){let s=typeof t=="string"?Xl(t):t,c=co(s.pathname||"/",n);if(c==null)return null;let d=X2(e);PR(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let g=KR(c);p=HR(d[m],g,i)}return p}function X2(e,t=[],n=[],i="",s=!1){let c=(d,p,m=s,g)=>{let h={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&m)return;tr(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let v=oo([i,h.relativePath]),S=n.concat(h);d.children&&d.children.length>0&&(tr(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),X2(d.children,t,S,v,m)),!(d.path==null&&!d.index)&&t.push({path:v,score:qR(v,d.index),routesMeta:S})};return e.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let m of Q2(d.path))c(d,p,!0,m)}),t}function Q2(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return s?[c,""]:[c];let d=Q2(i.join("/")),p=[];return p.push(...d.map(m=>m===""?c:[c,m].join("/"))),s&&p.push(...d),p.map(m=>e.startsWith("/")&&m===""?"/":m)}function PR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:UR(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var $R=/^:[\w-]+$/,NR=3,LR=2,WR=1,BR=10,IR=-2,Ej=e=>e==="*";function qR(e,t){let n=e.split("/"),i=n.length;return n.some(Ej)&&(i+=IR),t&&(i+=LR),n.filter(s=>!Ej(s)).reduce((s,c)=>s+($R.test(c)?NR:c===""?WR:BR),i)}function UR(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function HR(e,t,n=!1){let{routesMeta:i}=e,s={},c="/",d=[];for(let p=0;p<i.length;++p){let m=i[p],g=p===i.length-1,h=c==="/"?t:t.slice(c.length)||"/",v=Kd({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},h),S=m.route;if(!v&&g&&n&&!i[i.length-1].route.index&&(v=Kd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},h)),!v)return null;Object.assign(s,v.params),d.push({params:s,pathname:oo([c,v.pathname]),pathnameBase:XR(oo([c,v.pathnameBase])),route:S}),v.pathnameBase!=="/"&&(c=oo([c,v.pathnameBase]))}return d}function Kd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=FR(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let c=s[0],d=c.replace(/(.)\/+$/,"$1"),p=s.slice(1);return{params:i.reduce((g,{paramName:h,isOptional:v},S)=>{if(h==="*"){let k=p[S]||"";d=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const j=p[S];return v&&!j?g[h]=void 0:g[h]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:e}}function FR(e,t=!1,n=!0){ei(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(i.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function KR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ei(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function co(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function YR(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?Xl(e):e;return{pathname:n?n.startsWith("/")?n:VR(n,t):t,search:QR(i),hash:ZR(s)}}function VR(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Pm(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GR(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function wx(e){let t=GR(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Cx(e,t,n,i=!1){let s;typeof e=="string"?s=Xl(e):(s={...e},tr(!s.pathname||!s.pathname.includes("?"),Pm("?","pathname","search",s)),tr(!s.pathname||!s.pathname.includes("#"),Pm("#","pathname","hash",s)),tr(!s.search||!s.search.includes("#"),Pm("#","search","hash",s)));let c=e===""||s.pathname==="",d=c?"/":s.pathname,p;if(d==null)p=n;else{let v=t.length-1;if(!i&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),v-=1;s.pathname=S.join("/")}p=v>=0?t[v]:"/"}let m=YR(s,p),g=d&&d!=="/"&&d.endsWith("/"),h=(c||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||h)&&(m.pathname+="/"),m}var oo=e=>e.join("/").replace(/\/\/+/g,"/"),XR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ZR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function JR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Z2=["POST","PUT","PATCH","DELETE"];new Set(Z2);var eD=["GET",...Z2];new Set(eD);var Ql=x.createContext(null);Ql.displayName="DataRouter";var Nf=x.createContext(null);Nf.displayName="DataRouterState";x.createContext(!1);var J2=x.createContext({isTransitioning:!1});J2.displayName="ViewTransition";var tD=x.createContext(new Map);tD.displayName="Fetchers";var rD=x.createContext(null);rD.displayName="Await";var yi=x.createContext(null);yi.displayName="Navigation";var Rc=x.createContext(null);Rc.displayName="Location";var xi=x.createContext({outlet:null,matches:[],isDataRoute:!1});xi.displayName="Route";var kx=x.createContext(null);kx.displayName="RouteError";function nD(e,{relative:t}={}){tr(Zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=x.useContext(yi),{hash:s,pathname:c,search:d}=Dc(e,{relative:t}),p=c;return n!=="/"&&(p=c==="/"?n:oo([n,c])),i.createHref({pathname:p,search:d,hash:s})}function Zl(){return x.useContext(Rc)!=null}function Mi(){return tr(Zl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Rc).location}var ez="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tz(e){x.useContext(yi).static||x.useLayoutEffect(e)}function Ri(){let{isDataRoute:e}=x.useContext(xi);return e?hD():iD()}function iD(){tr(Zl(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Ql),{basename:t,navigator:n}=x.useContext(yi),{matches:i}=x.useContext(xi),{pathname:s}=Mi(),c=JSON.stringify(wx(i)),d=x.useRef(!1);return tz(()=>{d.current=!0}),x.useCallback((m,g={})=>{if(ei(d.current,ez),!d.current)return;if(typeof m=="number"){n.go(m);return}let h=Cx(m,JSON.parse(c),s,g.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:oo([t,h.pathname])),(g.replace?n.replace:n.push)(h,g.state,g)},[t,n,c,s,e])}x.createContext(null);function Lf(){let{matches:e}=x.useContext(xi),t=e[e.length-1];return t?t.params:{}}function Dc(e,{relative:t}={}){let{matches:n}=x.useContext(xi),{pathname:i}=Mi(),s=JSON.stringify(wx(n));return x.useMemo(()=>Cx(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function oD(e,t){return rz(e,t)}function rz(e,t,n,i,s){tr(Zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=x.useContext(yi),{matches:d}=x.useContext(xi),p=d[d.length-1],m=p?p.params:{},g=p?p.pathname:"/",h=p?p.pathnameBase:"/",v=p&&p.route;{let E=v&&v.path||"";nz(g,!v||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let S=Mi(),j;if(t){let E=typeof t=="string"?Xl(t):t;tr(h==="/"||E.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),j=E}else j=S;let k=j.pathname||"/",w=k;if(h!=="/"){let E=h.replace(/^\//,"").split("/");w="/"+k.replace(/^\//,"").split("/").slice(E.length).join("/")}let C=G2(e,{pathname:w});ei(v||C!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),ei(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=uD(C&&C.map(E=>Object.assign({},E,{params:Object.assign({},m,E.params),pathname:oo([h,c.encodeLocation?c.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:oo([h,c.encodeLocation?c.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),d,n,i,s);return t&&_?x.createElement(Rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},_):_}function aD(){let e=mD(),t=JR(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:c},"ErrorBoundary")," or"," ",x.createElement("code",{style:c},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:s},n):null,d)}var lD=x.createElement(aD,null),sD=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(xi.Provider,{value:this.props.routeContext},x.createElement(kx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cD({routeContext:e,match:t,children:n}){let i=x.useContext(Ql);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(xi.Provider,{value:e},n)}function uD(e,t=[],n=null,i=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,d=n?.errors;if(d!=null){let g=c.findIndex(h=>h.route.id&&d?.[h.route.id]!==void 0);tr(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let p=!1,m=-1;if(n)for(let g=0;g<c.length;g++){let h=c[g];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(m=g),h.route.id){let{loaderData:v,errors:S}=n,j=h.route.loader&&!v.hasOwnProperty(h.route.id)&&(!S||S[h.route.id]===void 0);if(h.route.lazy||j){p=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((g,h,v)=>{let S,j=!1,k=null,w=null;n&&(S=d&&h.route.id?d[h.route.id]:void 0,k=h.route.errorElement||lD,p&&(m<0&&v===0?(nz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,w=null):m===v&&(j=!0,w=h.route.hydrateFallbackElement||null)));let C=t.concat(c.slice(0,v+1)),_=()=>{let E;return S?E=k:j?E=w:h.route.Component?E=x.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=g,x.createElement(cD,{match:h,routeContext:{outlet:g,matches:C,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||v===0)?x.createElement(sD,{location:n.location,revalidation:n.revalidation,component:k,error:S,children:_(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:i}):_()},null)}function zx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dD(e){let t=x.useContext(Ql);return tr(t,zx(e)),t}function fD(e){let t=x.useContext(Nf);return tr(t,zx(e)),t}function pD(e){let t=x.useContext(xi);return tr(t,zx(e)),t}function _x(e){let t=pD(e),n=t.matches[t.matches.length-1];return tr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function gD(){return _x("useRouteId")}function mD(){let e=x.useContext(kx),t=fD("useRouteError"),n=_x("useRouteError");return e!==void 0?e:t.errors?.[n]}function hD(){let{router:e}=dD("useNavigate"),t=_x("useNavigate"),n=x.useRef(!1);return tz(()=>{n.current=!0}),x.useCallback(async(s,c={})=>{ei(n.current,ez),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...c}))},[e,t])}var Oj={};function nz(e,t,n){!t&&!Oj[e]&&(Oj[e]=!0,ei(!1,n))}x.memo(yD);function yD({routes:e,future:t,state:n,unstable_onError:i}){return rz(e,void 0,n,i,t)}function fd({to:e,replace:t,state:n,relative:i}){tr(Zl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=x.useContext(yi);ei(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=x.useContext(xi),{pathname:d}=Mi(),p=Ri(),m=Cx(e,wx(c),d,i==="path"),g=JSON.stringify(m);return x.useEffect(()=>{p(JSON.parse(g),{replace:t,state:n,relative:i})},[p,g,i,t,n]),null}function Jr(e){tr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xD({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:c=!1}){tr(!Zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),p=x.useMemo(()=>({basename:d,navigator:s,static:c,future:{}}),[d,s,c]);typeof n=="string"&&(n=Xl(n));let{pathname:m="/",search:g="",hash:h="",state:v=null,key:S="default"}=n,j=x.useMemo(()=>{let k=co(m,d);return k==null?null:{location:{pathname:k,search:g,hash:h,state:v,key:S},navigationType:i}},[d,m,g,h,v,S,i]);return ei(j!=null,`<Router basename="${d}"> is not able to match the URL "${m}${g}${h}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:x.createElement(yi.Provider,{value:p},x.createElement(Rc.Provider,{children:t,value:j}))}function vD({children:e,location:t}){return oD(vy(e),t)}function vy(e,t=[]){let n=[];return x.Children.forEach(e,(i,s)=>{if(!x.isValidElement(i))return;let c=[...t,s];if(i.type===x.Fragment){n.push.apply(n,vy(i.props.children,c));return}tr(i.type===Jr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tr(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=vy(i.props.children,c)),n.push(d)}),n}var $d="get",Nd="application/x-www-form-urlencoded";function Wf(e){return e!=null&&typeof e.tagName=="string"}function bD(e){return Wf(e)&&e.tagName.toLowerCase()==="button"}function SD(e){return Wf(e)&&e.tagName.toLowerCase()==="form"}function jD(e){return Wf(e)&&e.tagName.toLowerCase()==="input"}function wD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function CD(e,t){return e.button===0&&(!t||t==="_self")&&!wD(e)}function by(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function kD(e,t){let n=by(e);return t&&t.forEach((i,s)=>{n.has(s)||t.getAll(s).forEach(c=>{n.append(s,c)})}),n}var pd=null;function zD(){if(pd===null)try{new FormData(document.createElement("form"),0),pd=!1}catch{pd=!0}return pd}var _D=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $m(e){return e!=null&&!_D.has(e)?(ei(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nd}"`),null):e}function TD(e,t){let n,i,s,c,d;if(SD(e)){let p=e.getAttribute("action");i=p?co(p,t):null,n=e.getAttribute("method")||$d,s=$m(e.getAttribute("enctype"))||Nd,c=new FormData(e)}else if(bD(e)||jD(e)&&(e.type==="submit"||e.type==="image")){let p=e.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||p.getAttribute("action");if(i=m?co(m,t):null,n=e.getAttribute("formmethod")||p.getAttribute("method")||$d,s=$m(e.getAttribute("formenctype"))||$m(p.getAttribute("enctype"))||Nd,c=new FormData(p,e),!zD()){let{name:g,type:h,value:v}=e;if(h==="image"){let S=g?`${g}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else g&&c.append(g,v)}}else{if(Wf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$d,i=null,s=Nd,d=e}return c&&s==="text/plain"&&(d=c,c=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tx(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function AD(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&co(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function ED(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function MD(e,t,n){let i=await Promise.all(e.map(async s=>{let c=t.routes[s.route.id];if(c){let d=await ED(c,n);return d.links?d.links():[]}return[]}));return $D(i.flat(1).filter(OD).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Mj(e,t,n,i,s,c){let d=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return c==="assets"?t.filter((m,g)=>d(m,g)||p(m,g)):c==="data"?t.filter((m,g)=>{let h=i.routes[m.route.id];if(!h||!h.hasLoader)return!1;if(d(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function RD(e,t,{includeHydrateFallback:n}={}){return DD(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let c=[s.module];return s.clientActionModule&&(c=c.concat(s.clientActionModule)),s.clientLoaderModule&&(c=c.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(c=c.concat(s.hydrateFallbackModule)),s.imports&&(c=c.concat(s.imports)),c}).flat(1))}function DD(e){return[...new Set(e)]}function PD(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function $D(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let c=JSON.stringify(PD(s));return n.has(c)||(n.add(c),i.push({key:c,link:s})),i},[])}function iz(){let e=x.useContext(Ql);return Tx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ND(){let e=x.useContext(Nf);return Tx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ax=x.createContext(void 0);Ax.displayName="FrameworkContext";function oz(){let e=x.useContext(Ax);return Tx(e,"You must render this element inside a <HydratedRouter> element"),e}function LD(e,t){let n=x.useContext(Ax),[i,s]=x.useState(!1),[c,d]=x.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:h,onTouchStart:v}=t,S=x.useRef(null);x.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let w=_=>{_.forEach(E=>{d(E.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return S.current&&C.observe(S.current),()=>{C.disconnect()}}},[e]),x.useEffect(()=>{if(i){let w=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(w)}}},[i]);let j=()=>{s(!0)},k=()=>{s(!1),d(!1)};return n?e!=="intent"?[c,S,{}]:[c,S,{onFocus:Js(p,j),onBlur:Js(m,k),onMouseEnter:Js(g,j),onMouseLeave:Js(h,k),onTouchStart:Js(v,j)}]:[!1,S,{}]}function Js(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function WD({page:e,...t}){let{router:n}=iz(),i=x.useMemo(()=>G2(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?x.createElement(ID,{page:e,matches:i,...t}):null}function BD(e){let{manifest:t,routeModules:n}=oz(),[i,s]=x.useState([]);return x.useEffect(()=>{let c=!1;return MD(e,t,n).then(d=>{c||s(d)}),()=>{c=!0}},[e,t,n]),i}function ID({page:e,matches:t,...n}){let i=Mi(),{manifest:s,routeModules:c}=oz(),{basename:d}=iz(),{loaderData:p,matches:m}=ND(),g=x.useMemo(()=>Mj(e,t,m,s,i,"data"),[e,t,m,s,i]),h=x.useMemo(()=>Mj(e,t,m,s,i,"assets"),[e,t,m,s,i]),v=x.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let k=new Set,w=!1;if(t.forEach(_=>{let E=s.routes[_.route.id];!E||!E.hasLoader||(!g.some(A=>A.route.id===_.route.id)&&_.route.id in p&&c[_.route.id]?.shouldRevalidate||E.hasClientLoader?w=!0:k.add(_.route.id))}),k.size===0)return[];let C=AD(e,d,"data");return w&&k.size>0&&C.searchParams.set("_routes",t.filter(_=>k.has(_.route.id)).map(_=>_.route.id).join(",")),[C.pathname+C.search]},[d,p,i,s,g,t,e,c]),S=x.useMemo(()=>RD(h,s),[h,s]),j=BD(h);return x.createElement(x.Fragment,null,v.map(k=>x.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),S.map(k=>x.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),j.map(({key:k,link:w})=>x.createElement("link",{key:k,nonce:n.nonce,...w})))}function qD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var az=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{az&&(window.__reactRouterVersion="7.9.4")}catch{}function UD({basename:e,children:t,window:n}){let i=x.useRef();i.current==null&&(i.current=ER({window:n,v5Compat:!0}));let s=i.current,[c,d]=x.useState({action:s.action,location:s.location}),p=x.useCallback(m=>{x.startTransition(()=>d(m))},[d]);return x.useLayoutEffect(()=>s.listen(p),[s,p]),x.createElement(xD,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:s})}var lz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xc=x.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:c,replace:d,state:p,target:m,to:g,preventScrollReset:h,viewTransition:v,...S},j){let{basename:k}=x.useContext(yi),w=typeof g=="string"&&lz.test(g),C,_=!1;if(typeof g=="string"&&w&&(C=g,az))try{let ee=new URL(window.location.href),fe=g.startsWith("//")?new URL(ee.protocol+g):new URL(g),de=co(fe.pathname,k);fe.origin===ee.origin&&de!=null?g=de+fe.search+fe.hash:_=!0}catch{ei(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=nD(g,{relative:s}),[A,T,O]=LD(i,S),P=YD(g,{replace:d,state:p,target:m,preventScrollReset:h,relative:s,viewTransition:v});function R(ee){t&&t(ee),ee.defaultPrevented||P(ee)}let U=x.createElement("a",{...S,...O,href:C||E,onClick:_||c?t:R,ref:qD(j,T),target:m,"data-discover":!w&&n==="render"?"true":void 0});return A&&!w?x.createElement(x.Fragment,null,U,x.createElement(WD,{page:E})):U});xc.displayName="Link";var HD=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:c,to:d,viewTransition:p,children:m,...g},h){let v=Dc(d,{relative:g.relative}),S=Mi(),j=x.useContext(Nf),{navigator:k,basename:w}=x.useContext(yi),C=j!=null&&ZD(v)&&p===!0,_=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,E=S.pathname,A=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(E=E.toLowerCase(),A=A?A.toLowerCase():null,_=_.toLowerCase()),A&&w&&(A=co(A,w)||A);const T=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let O=E===_||!s&&E.startsWith(_)&&E.charAt(T)==="/",P=A!=null&&(A===_||!s&&A.startsWith(_)&&A.charAt(_.length)==="/"),R={isActive:O,isPending:P,isTransitioning:C},U=O?t:void 0,ee;typeof i=="function"?ee=i(R):ee=[i,O?"active":null,P?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let fe=typeof c=="function"?c(R):c;return x.createElement(xc,{...g,"aria-current":U,className:ee,ref:h,style:fe,to:d,viewTransition:p},typeof m=="function"?m(R):m)});HD.displayName="NavLink";var FD=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:c,method:d=$d,action:p,onSubmit:m,relative:g,preventScrollReset:h,viewTransition:v,...S},j)=>{let k=XD(),w=QD(p,{relative:g}),C=d.toLowerCase()==="get"?"get":"post",_=typeof p=="string"&&lz.test(p),E=A=>{if(m&&m(A),A.defaultPrevented)return;A.preventDefault();let T=A.nativeEvent.submitter,O=T?.getAttribute("formmethod")||d;k(T||A.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:s,state:c,relative:g,preventScrollReset:h,viewTransition:v})};return x.createElement("form",{ref:j,method:C,action:w,onSubmit:i?m:E,...S,"data-discover":!_&&e==="render"?"true":void 0})});FD.displayName="Form";function KD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sz(e){let t=x.useContext(Ql);return tr(t,KD(e)),t}function YD(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:c,viewTransition:d}={}){let p=Ri(),m=Mi(),g=Dc(e,{relative:c});return x.useCallback(h=>{if(CD(h,t)){h.preventDefault();let v=n!==void 0?n:yc(m)===yc(g);p(e,{replace:v,state:i,preventScrollReset:s,relative:c,viewTransition:d})}},[m,p,g,n,i,t,e,s,c,d])}function Bf(e){ei(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(by(e)),n=x.useRef(!1),i=Mi(),s=x.useMemo(()=>kD(i.search,n.current?null:t.current),[i.search]),c=Ri(),d=x.useCallback((p,m)=>{const g=by(typeof p=="function"?p(new URLSearchParams(s)):p);n.current=!0,c("?"+g,m)},[c,s]);return[s,d]}var VD=0,GD=()=>`__${String(++VD)}__`;function XD(){let{router:e}=sz("useSubmit"),{basename:t}=x.useContext(yi),n=gD();return x.useCallback(async(i,s={})=>{let{action:c,method:d,encType:p,formData:m,body:g}=TD(i,t);if(s.navigate===!1){let h=s.fetcherKey||GD();await e.fetch(h,n,s.action||c,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||d,formEncType:s.encType||p,flushSync:s.flushSync})}else await e.navigate(s.action||c,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||d,formEncType:s.encType||p,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function QD(e,{relative:t}={}){let{basename:n}=x.useContext(yi),i=x.useContext(xi);tr(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),c={...Dc(e||".",{relative:t})},d=Mi();if(e==null){c.search=d.search;let p=new URLSearchParams(c.search),m=p.getAll("index");if(m.some(h=>h==="")){p.delete("index"),m.filter(v=>v).forEach(v=>p.append("index",v));let h=p.toString();c.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:oo([n,c.pathname])),yc(c)}function ZD(e,{relative:t}={}){let n=x.useContext(J2);tr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=sz("useViewTransitionState"),s=Dc(e,{relative:t});if(!n.isTransitioning)return!1;let c=co(n.currentLocation.pathname,i)||n.currentLocation.pathname,d=co(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Kd(s.pathname,d)!=null||Kd(s.pathname,c)!=null}var Yd=V2();function cz(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=cz(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function St(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=cz(e))&&(i&&(i+=" "),i+=t);return i}var Nm={},Lm={},Rj;function JD(){return Rj||(Rj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Lm)),Lm}var Wm={},Dj;function uz(){return Dj||(Dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Wm)),Wm}var Bm={},Pj;function dz(){return Pj||(Pj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Bm)),Bm}var Im={},$j;function Ex(){return $j||($j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const i=[],s=n.length;if(s===0)return i;let c=0,d="",p="",m=!1;for(n.charCodeAt(0)===46&&(i.push(""),c++);c<s;){const g=n[c];p?g==="\\"&&c+1<s?(c++,d+=n[c]):g===p?p="":d+=g:m?g==='"'||g==="'"?p=g:g==="]"?(m=!1,i.push(d),d=""):d+=g:g==="["?(m=!0,d&&(i.push(d),d="")):g==="."?d&&(i.push(d),d=""):d+=g,c++}return d&&i.push(d),i}e.toPath=t})(Im)),Im}var Nj;function Ox(){return Nj||(Nj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JD(),n=uz(),i=dz(),s=Ex();function c(p,m,g){if(p==null)return g;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return g;const h=p[m];return h===void 0?n.isDeepKey(m)?c(p,s.toPath(m),g):g:h}case"number":case"symbol":{typeof m=="number"&&(m=i.toKey(m));const h=p[m];return h===void 0?g:h}default:{if(Array.isArray(m))return d(p,m,g);if(Object.is(m?.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return g;const h=p[m];return h===void 0?g:h}}}function d(p,m,g){if(m.length===0)return g;let h=p;for(let v=0;v<m.length;v++){if(h==null||t.isUnsafeProperty(m[v]))return g;h=h[m[v]]}return h===void 0?g:h}e.get=c})(Nm)),Nm}var qm,Lj;function e5(){return Lj||(Lj=1,qm=Ox().get),qm}var t5=e5();const Ba=ho(t5);var Um={exports:{}},Bt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wj;function r5(){if(Wj)return Bt;Wj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.view_transition"),j=Symbol.for("react.client.reference");function k(w){if(typeof w=="object"&&w!==null){var C=w.$$typeof;switch(C){case e:switch(w=w.type,w){case n:case s:case i:case m:case g:case S:return w;default:switch(w=w&&w.$$typeof,w){case d:case p:case v:case h:return w;case c:return w;default:return C}}case t:return C}}}return Bt.ContextConsumer=c,Bt.ContextProvider=d,Bt.Element=e,Bt.ForwardRef=p,Bt.Fragment=n,Bt.Lazy=v,Bt.Memo=h,Bt.Portal=t,Bt.Profiler=s,Bt.StrictMode=i,Bt.Suspense=m,Bt.SuspenseList=g,Bt.isContextConsumer=function(w){return k(w)===c},Bt.isContextProvider=function(w){return k(w)===d},Bt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Bt.isForwardRef=function(w){return k(w)===p},Bt.isFragment=function(w){return k(w)===n},Bt.isLazy=function(w){return k(w)===v},Bt.isMemo=function(w){return k(w)===h},Bt.isPortal=function(w){return k(w)===t},Bt.isProfiler=function(w){return k(w)===s},Bt.isStrictMode=function(w){return k(w)===i},Bt.isSuspense=function(w){return k(w)===m},Bt.isSuspenseList=function(w){return k(w)===g},Bt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===s||w===i||w===m||w===g||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===h||w.$$typeof===d||w.$$typeof===c||w.$$typeof===p||w.$$typeof===j||w.getModuleId!==void 0)},Bt.typeOf=k,Bt}var Bj;function n5(){return Bj||(Bj=1,Um.exports=r5()),Um.exports}var i5=n5(),Dr=e=>e===0?0:e>0?1:-1,En=e=>typeof e=="number"&&e!=+e,Oa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ge=e=>(typeof e=="number"||e instanceof Number)&&!En(e),Ei=e=>Ge(e)||typeof e=="string",o5=0,vc=e=>{var t=++o5;return"".concat(e||"").concat(t)},Gr=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ge(t)&&typeof t!="string")return i;var c;if(Oa(t)){if(n==null)return i;var d=t.indexOf("%");c=n*parseFloat(t.slice(0,d))/100}else c=+t;return En(c)&&(c=i),s&&n!=null&&c>n&&(c=n),c},fz=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},i=0;i<t;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1};function dr(e,t,n){return Ge(e)&&Ge(t)?e+n*(t-e):t}function pz(e,t,n){if(!(!e||!e.length))return e.find(i=>i&&(typeof t=="function"?t(i):Ba(i,t))===n)}var rr=e=>e===null||typeof e>"u",Pc=e=>rr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),a5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Mx(e){if(typeof e!="string")return!1;var t=a5;return t.includes(e)}var l5=["viewBox","children"],Ij=["points","pathLength"],Hm={svg:l5,polygon:Ij,polyline:Ij},Rx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{Mx(s)&&(i[s]=(c=>n[s](n,c)))}),i},s5=(e,t,n)=>i=>(e(t,n,i),null),$c=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var i=null;return Object.keys(e).forEach(s=>{var c=e[s];Mx(s)&&typeof c=="function"&&(i||(i={}),i[s]=s5(c,t,n))}),i},c5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function gz(e){if(typeof e!="string")return!1;var t=c5;return t.includes(e)}function Di(e){var t=Object.entries(e).filter(n=>{var[i]=n;return gz(i)});return Object.fromEntries(t)}var qj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Uj=null,Fm=null,mz=e=>{if(e===Uj&&Array.isArray(Fm))return Fm;var t=[];return x.Children.forEach(e,n=>{rr(n)||(i5.isFragment(n)?t=t.concat(mz(n.props.children)):t.push(n))}),Fm=t,Uj=e,t};function Dx(e,t){var n=[],i=[];return Array.isArray(t)?i=t.map(s=>qj(s)):i=[qj(t)],mz(e).forEach(s=>{var c=Ba(s,"type.displayName")||Ba(s,"type.name");i.indexOf(c)!==-1&&n.push(s)}),n}var hz=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,u5=(e,t,n,i)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var c=(s=i&&Hm?.[i])!==null&&s!==void 0?s:[],d=t.startsWith("data-"),p=typeof e!="function"&&(!!i&&c.includes(t)||gz(t)),m=!!n&&Mx(t);return d||p||m},or=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(x.isValidElement(e)&&(i=e.props),typeof i!="object"&&typeof i!="function")return null;var s={};return Object.keys(i).forEach(c=>{var d;u5((d=i)===null||d===void 0?void 0:d[c],c,t,n)&&(s[c]=i[c])}),s},d5=["children","width","height","viewBox","className","style","title","desc"];function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sy.apply(null,arguments)}function f5(e,t){if(e==null)return{};var n,i,s=p5(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function p5(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Px=x.forwardRef((e,t)=>{var{children:n,width:i,height:s,viewBox:c,className:d,style:p,title:m,desc:g}=e,h=f5(e,d5),v=c||{width:i,height:s,x:0,y:0},S=St("recharts-surface",d);return x.createElement("svg",Sy({},or(h,!0,"svg"),{className:S,width:i,height:s,style:p,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:t}),x.createElement("title",null,m),x.createElement("desc",null,g),n)}),g5=["children","className"];function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jy.apply(null,arguments)}function m5(e,t){if(e==null)return{};var n,i,s=h5(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function h5(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Hr=x.forwardRef((e,t)=>{var{children:n,className:i}=e,s=m5(e,g5),c=St("recharts-layer",i);return x.createElement("g",jy({className:c},or(s,!0),{ref:t}),n)}),yz=x.createContext(null),y5=()=>x.useContext(yz);function Ht(e){return function(){return e}}const xz=Math.cos,Vd=Math.sin,vi=Math.sqrt,Gd=Math.PI,If=2*Gd,wy=Math.PI,Cy=2*wy,Ta=1e-6,x5=Cy-Ta;function vz(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function v5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return vz;const n=10**t;return function(i){this._+=i[0];for(let s=1,c=i.length;s<c;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}class b5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?vz:v5(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,s){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(t,n,i,s,c,d){this._append`C${+t},${+n},${+i},${+s},${this._x1=+c},${this._y1=+d}`}arcTo(t,n,i,s,c){if(t=+t,n=+n,i=+i,s=+s,c=+c,c<0)throw new Error(`negative radius: ${c}`);let d=this._x1,p=this._y1,m=i-t,g=s-n,h=d-t,v=p-n,S=h*h+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(S>Ta)if(!(Math.abs(v*m-g*h)>Ta)||!c)this._append`L${this._x1=t},${this._y1=n}`;else{let j=i-d,k=s-p,w=m*m+g*g,C=j*j+k*k,_=Math.sqrt(w),E=Math.sqrt(S),A=c*Math.tan((wy-Math.acos((w+S-C)/(2*_*E)))/2),T=A/E,O=A/_;Math.abs(T-1)>Ta&&this._append`L${t+T*h},${n+T*v}`,this._append`A${c},${c},0,0,${+(v*j>h*k)},${this._x1=t+O*m},${this._y1=n+O*g}`}}arc(t,n,i,s,c,d){if(t=+t,n=+n,i=+i,d=!!d,i<0)throw new Error(`negative radius: ${i}`);let p=i*Math.cos(s),m=i*Math.sin(s),g=t+p,h=n+m,v=1^d,S=d?s-c:c-s;this._x1===null?this._append`M${g},${h}`:(Math.abs(this._x1-g)>Ta||Math.abs(this._y1-h)>Ta)&&this._append`L${g},${h}`,i&&(S<0&&(S=S%Cy+Cy),S>x5?this._append`A${i},${i},0,1,${v},${t-p},${n-m}A${i},${i},0,1,${v},${this._x1=g},${this._y1=h}`:S>Ta&&this._append`A${i},${i},0,${+(S>=wy)},${v},${this._x1=t+i*Math.cos(c)},${this._y1=n+i*Math.sin(c)}`)}rect(t,n,i,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function $x(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new b5(t)}function Nx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function bz(e){this._context=e}bz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qf(e){return new bz(e)}function Sz(e){return e[0]}function jz(e){return e[1]}function wz(e,t){var n=Ht(!0),i=null,s=qf,c=null,d=$x(p);e=typeof e=="function"?e:e===void 0?Sz:Ht(e),t=typeof t=="function"?t:t===void 0?jz:Ht(t);function p(m){var g,h=(m=Nx(m)).length,v,S=!1,j;for(i==null&&(c=s(j=d())),g=0;g<=h;++g)!(g<h&&n(v=m[g],g,m))===S&&((S=!S)?c.lineStart():c.lineEnd()),S&&c.point(+e(v,g,m),+t(v,g,m));if(j)return c=null,j+""||null}return p.x=function(m){return arguments.length?(e=typeof m=="function"?m:Ht(+m),p):e},p.y=function(m){return arguments.length?(t=typeof m=="function"?m:Ht(+m),p):t},p.defined=function(m){return arguments.length?(n=typeof m=="function"?m:Ht(!!m),p):n},p.curve=function(m){return arguments.length?(s=m,i!=null&&(c=s(i)),p):s},p.context=function(m){return arguments.length?(m==null?i=c=null:c=s(i=m),p):i},p}function gd(e,t,n){var i=null,s=Ht(!0),c=null,d=qf,p=null,m=$x(g);e=typeof e=="function"?e:e===void 0?Sz:Ht(+e),t=typeof t=="function"?t:Ht(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?jz:Ht(+n);function g(v){var S,j,k,w=(v=Nx(v)).length,C,_=!1,E,A=new Array(w),T=new Array(w);for(c==null&&(p=d(E=m())),S=0;S<=w;++S){if(!(S<w&&s(C=v[S],S,v))===_)if(_=!_)j=S,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),k=S-1;k>=j;--k)p.point(A[k],T[k]);p.lineEnd(),p.areaEnd()}_&&(A[S]=+e(C,S,v),T[S]=+t(C,S,v),p.point(i?+i(C,S,v):A[S],n?+n(C,S,v):T[S]))}if(E)return p=null,E+""||null}function h(){return wz().defined(s).curve(d).context(c)}return g.x=function(v){return arguments.length?(e=typeof v=="function"?v:Ht(+v),i=null,g):e},g.x0=function(v){return arguments.length?(e=typeof v=="function"?v:Ht(+v),g):e},g.x1=function(v){return arguments.length?(i=v==null?null:typeof v=="function"?v:Ht(+v),g):i},g.y=function(v){return arguments.length?(t=typeof v=="function"?v:Ht(+v),n=null,g):t},g.y0=function(v){return arguments.length?(t=typeof v=="function"?v:Ht(+v),g):t},g.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:Ht(+v),g):n},g.lineX0=g.lineY0=function(){return h().x(e).y(t)},g.lineY1=function(){return h().x(e).y(n)},g.lineX1=function(){return h().x(i).y(t)},g.defined=function(v){return arguments.length?(s=typeof v=="function"?v:Ht(!!v),g):s},g.curve=function(v){return arguments.length?(d=v,c!=null&&(p=d(c)),g):d},g.context=function(v){return arguments.length?(v==null?c=p=null:p=d(c=v),g):c},g}class Cz{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function S5(e){return new Cz(e,!0)}function j5(e){return new Cz(e,!1)}const Lx={draw(e,t){const n=vi(t/Gd);e.moveTo(n,0),e.arc(0,0,n,0,If)}},w5={draw(e,t){const n=vi(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},kz=vi(1/3),C5=kz*2,k5={draw(e,t){const n=vi(t/C5),i=n*kz;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},z5={draw(e,t){const n=vi(t),i=-n/2;e.rect(i,i,n,n)}},_5=.8908130915292852,zz=Vd(Gd/10)/Vd(7*Gd/10),T5=Vd(If/10)*zz,A5=-xz(If/10)*zz,E5={draw(e,t){const n=vi(t*_5),i=T5*n,s=A5*n;e.moveTo(0,-n),e.lineTo(i,s);for(let c=1;c<5;++c){const d=If*c/5,p=xz(d),m=Vd(d);e.lineTo(m*n,-p*n),e.lineTo(p*i-m*s,m*i+p*s)}e.closePath()}},Km=vi(3),O5={draw(e,t){const n=-vi(t/(Km*3));e.moveTo(0,n*2),e.lineTo(-Km*n,-n),e.lineTo(Km*n,-n),e.closePath()}},Kn=-.5,Yn=vi(3)/2,ky=1/vi(12),M5=(ky/2+1)*3,R5={draw(e,t){const n=vi(t/M5),i=n/2,s=n*ky,c=i,d=n*ky+n,p=-c,m=d;e.moveTo(i,s),e.lineTo(c,d),e.lineTo(p,m),e.lineTo(Kn*i-Yn*s,Yn*i+Kn*s),e.lineTo(Kn*c-Yn*d,Yn*c+Kn*d),e.lineTo(Kn*p-Yn*m,Yn*p+Kn*m),e.lineTo(Kn*i+Yn*s,Kn*s-Yn*i),e.lineTo(Kn*c+Yn*d,Kn*d-Yn*c),e.lineTo(Kn*p+Yn*m,Kn*m-Yn*p),e.closePath()}};function D5(e,t){let n=null,i=$x(s);e=typeof e=="function"?e:Ht(e||Lx),t=typeof t=="function"?t:Ht(t===void 0?64:+t);function s(){let c;if(n||(n=c=i()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),c)return n=null,c+""||null}return s.type=function(c){return arguments.length?(e=typeof c=="function"?c:Ht(c),s):e},s.size=function(c){return arguments.length?(t=typeof c=="function"?c:Ht(+c),s):t},s.context=function(c){return arguments.length?(n=c??null,s):n},s}function Xd(){}function Qd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function _z(e){this._context=e}_z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P5(e){return new _z(e)}function Tz(e){this._context=e}Tz.prototype={areaStart:Xd,areaEnd:Xd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $5(e){return new Tz(e)}function Az(e){this._context=e}Az.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Qd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function N5(e){return new Az(e)}function Ez(e){this._context=e}Ez.prototype={areaStart:Xd,areaEnd:Xd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function L5(e){return new Ez(e)}function Hj(e){return e<0?-1:1}function Fj(e,t,n){var i=e._x1-e._x0,s=t-e._x1,c=(e._y1-e._y0)/(i||s<0&&-0),d=(n-e._y1)/(s||i<0&&-0),p=(c*s+d*i)/(i+s);return(Hj(c)+Hj(d))*Math.min(Math.abs(c),Math.abs(d),.5*Math.abs(p))||0}function Kj(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ym(e,t,n){var i=e._x0,s=e._y0,c=e._x1,d=e._y1,p=(c-i)/3;e._context.bezierCurveTo(i+p,s+p*t,c-p,d-p*n,c,d)}function Zd(e){this._context=e}Zd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ym(this,this._t0,Kj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ym(this,Kj(this,n=Fj(this,e,t)),n);break;default:Ym(this,this._t0,n=Fj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Oz(e){this._context=new Mz(e)}(Oz.prototype=Object.create(Zd.prototype)).point=function(e,t){Zd.prototype.point.call(this,t,e)};function Mz(e){this._context=e}Mz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,s,c){this._context.bezierCurveTo(t,e,i,n,c,s)}};function W5(e){return new Zd(e)}function B5(e){return new Oz(e)}function Rz(e){this._context=e}Rz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=Yj(e),s=Yj(t),c=0,d=1;d<n;++c,++d)this._context.bezierCurveTo(i[0][c],s[0][c],i[1][c],s[1][c],e[d],t[d]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Yj(e){var t,n=e.length-1,i,s=new Array(n),c=new Array(n),d=new Array(n);for(s[0]=0,c[0]=2,d[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,c[t]=4,d[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,c[n-1]=7,d[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=s[t]/c[t-1],c[t]-=i,d[t]-=i*d[t-1];for(s[n-1]=d[n-1]/c[n-1],t=n-2;t>=0;--t)s[t]=(d[t]-s[t+1])/c[t];for(c[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)c[t]=2*e[t+1]-s[t+1];return[s,c]}function I5(e){return new Rz(e)}function Uf(e,t){this._context=e,this._t=t}Uf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function q5(e){return new Uf(e,.5)}function U5(e){return new Uf(e,0)}function H5(e){return new Uf(e,1)}function Nl(e,t){if((d=e.length)>1)for(var n=1,i,s,c=e[t[0]],d,p=c.length;n<d;++n)for(s=c,c=e[t[n]],i=0;i<p;++i)c[i][1]+=c[i][0]=isNaN(s[i][1])?s[i][0]:s[i][1]}function zy(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function F5(e,t){return e[t]}function K5(e){const t=[];return t.key=e,t}function Y5(){var e=Ht([]),t=zy,n=Nl,i=F5;function s(c){var d=Array.from(e.apply(this,arguments),K5),p,m=d.length,g=-1,h;for(const v of c)for(p=0,++g;p<m;++p)(d[p][g]=[0,+i(v,d[p].key,g,c)]).data=v;for(p=0,h=Nx(t(d));p<m;++p)d[h[p]].index=p;return n(d,h),d}return s.keys=function(c){return arguments.length?(e=typeof c=="function"?c:Ht(Array.from(c)),s):e},s.value=function(c){return arguments.length?(i=typeof c=="function"?c:Ht(+c),s):i},s.order=function(c){return arguments.length?(t=c==null?zy:typeof c=="function"?c:Ht(Array.from(c)),s):t},s.offset=function(c){return arguments.length?(n=c??Nl,s):n},s}function V5(e,t){if((i=e.length)>0){for(var n,i,s=0,c=e[0].length,d;s<c;++s){for(d=n=0;n<i;++n)d+=e[n][s][1]||0;if(d)for(n=0;n<i;++n)e[n][s][1]/=d}Nl(e,t)}}function G5(e,t){if((s=e.length)>0){for(var n=0,i=e[t[0]],s,c=i.length;n<c;++n){for(var d=0,p=0;d<s;++d)p+=e[d][n][1]||0;i[n][1]+=i[n][0]=-p/2}Nl(e,t)}}function X5(e,t){if(!(!((d=e.length)>0)||!((c=(s=e[t[0]]).length)>0))){for(var n=0,i=1,s,c,d;i<c;++i){for(var p=0,m=0,g=0;p<d;++p){for(var h=e[t[p]],v=h[i][1]||0,S=h[i-1][1]||0,j=(v-S)/2,k=0;k<p;++k){var w=e[t[k]],C=w[i][1]||0,_=w[i-1][1]||0;j+=C-_}m+=v,g+=j*v}s[i-1][1]+=s[i-1][0]=n,m&&(n-=g/m)}s[i-1][1]+=s[i-1][0]=n,Nl(e,t)}}var Q5=["type","size","sizeType"];function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_y.apply(null,arguments)}function Vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Gj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(n),!0).forEach(function(i){Z5(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Z5(e,t,n){return(t=J5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J5(e){var t=eP(e,"string");return typeof t=="symbol"?t:t+""}function eP(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tP(e,t){if(e==null)return{};var n,i,s=rP(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function rP(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Dz={symbolCircle:Lx,symbolCross:w5,symbolDiamond:k5,symbolSquare:z5,symbolStar:E5,symbolTriangle:O5,symbolWye:R5},nP=Math.PI/180,iP=e=>{var t="symbol".concat(Pc(e));return Dz[t]||Lx},oP=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*nP;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},aP=(e,t)=>{Dz["symbol".concat(Pc(e))]=t},Wx=e=>{var{type:t="circle",size:n=64,sizeType:i="area"}=e,s=tP(e,Q5),c=Gj(Gj({},s),{},{type:t,size:n,sizeType:i}),d="circle";typeof t=="string"&&(d=t);var p=()=>{var S=iP(d),j=D5().type(S).size(oP(n,i,d));return j()},{className:m,cx:g,cy:h}=c,v=or(c,!0);return g===+g&&h===+h&&n===+n?x.createElement("path",_y({},v,{className:St("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(h,")"),d:p()})):null};Wx.registerSymbol=aP;function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ty.apply(null,arguments)}function Xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function lP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(n),!0).forEach(function(i){Bx(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Bx(e,t,n){return(t=sP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sP(e){var t=cP(e,"string");return typeof t=="symbol"?t:t+""}function cP(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vn=32;class Ix extends x.PureComponent{renderIcon(t,n){var{inactiveColor:i}=this.props,s=Vn/2,c=Vn/6,d=Vn/3,p=t.inactive?i:t.color,m=n??t.type;if(m==="none")return null;if(m==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:p,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:Vn,y2:s,className:"recharts-legend-icon"});if(m==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:p,d:"M0,".concat(s,"h").concat(d,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*d,",").concat(s,`
            H`).concat(Vn,"M").concat(2*d,",").concat(s,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(d,",").concat(s),className:"recharts-legend-icon"});if(m==="rect")return x.createElement("path",{stroke:"none",fill:p,d:"M0,".concat(Vn/8,"h").concat(Vn,"v").concat(Vn*3/4,"h").concat(-Vn,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var g=lP({},t);return delete g.legendIcon,x.cloneElement(t.legendIcon,g)}return x.createElement(Wx,{fill:p,cx:s,cy:s,size:Vn,sizeType:"diameter",type:m})}renderItems(){var{payload:t,iconSize:n,layout:i,formatter:s,inactiveColor:c,iconType:d}=this.props,p={x:0,y:0,width:Vn,height:Vn},m={display:i==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,v)=>{var S=h.formatter||s,j=St({"recharts-legend-item":!0,["legend-item-".concat(v)]:!0,inactive:h.inactive});if(h.type==="none")return null;var k=h.inactive?c:h.color,w=S?S(h.value,h,v):h.value;return x.createElement("li",Ty({className:j,style:m,key:"legend-item-".concat(v)},$c(this.props,h,v)),x.createElement(Px,{width:n,height:n,viewBox:p,style:g,"aria-label":"".concat(w," legend icon")},this.renderIcon(h,d)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},w))})}render(){var{payload:t,layout:n,align:i}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}Bx(Ix,"displayName","Legend");Bx(Ix,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Vm={},Gm={},Qj;function uP(){return Qj||(Qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i){const s=new Map;for(let c=0;c<n.length;c++){const d=n[c],p=i(d);s.has(p)||s.set(p,d)}return Array.from(s.values())}e.uniqBy=t})(Gm)),Gm}var Xm={},Zj;function Pz(){return Zj||(Zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Xm)),Xm}var Qm={},Zm={},Jm={},Jj;function dP(){return Jj||(Jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Jm)),Jm}var ew;function qx(){return ew||(ew=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dP();function n(i){return i!=null&&typeof i!="function"&&t.isLength(i.length)}e.isArrayLike=n})(Zm)),Zm}var eh={},tw;function fP(){return tw||(tw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(eh)),eh}var rw;function pP(){return rw||(rw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qx(),n=fP();function i(s){return n.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=i})(Qm)),Qm}var th={},rh={},nw;function gP(){return nw||(nw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ox();function n(i){return function(s){return t.get(s,i)}}e.property=n})(rh)),rh}var nh={},ih={},oh={},ah={},iw;function $z(){return iw||(iw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(ah)),ah}var lh={},ow;function Nz(){return ow||(ow=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(lh)),lh}var sh={},aw;function Lz(){return aw||(aw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}e.eq=t})(sh)),sh}var lw;function mP(){return lw||(lw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ux(),n=$z(),i=Nz(),s=Lz();function c(v,S,j){return typeof j!="function"?t.isMatch(v,S):d(v,S,function k(w,C,_,E,A,T){const O=j(w,C,_,E,A,T);return O!==void 0?!!O:d(w,C,k,T)},new Map)}function d(v,S,j,k){if(S===v)return!0;switch(typeof S){case"object":return p(v,S,j,k);case"function":return Object.keys(S).length>0?d(v,{...S},j,k):s.eq(v,S);default:return n.isObject(v)?typeof S=="string"?S==="":!0:s.eq(v,S)}}function p(v,S,j,k){if(S==null)return!0;if(Array.isArray(S))return g(v,S,j,k);if(S instanceof Map)return m(v,S,j,k);if(S instanceof Set)return h(v,S,j,k);const w=Object.keys(S);if(v==null)return w.length===0;if(w.length===0)return!0;if(k&&k.has(S))return k.get(S)===v;k&&k.set(S,v);try{for(let C=0;C<w.length;C++){const _=w[C];if(!i.isPrimitive(v)&&!(_ in v)||S[_]===void 0&&v[_]!==void 0||S[_]===null&&v[_]!==null||!j(v[_],S[_],_,v,S,k))return!1}return!0}finally{k&&k.delete(S)}}function m(v,S,j,k){if(S.size===0)return!0;if(!(v instanceof Map))return!1;for(const[w,C]of S.entries()){const _=v.get(w);if(j(_,C,w,v,S,k)===!1)return!1}return!0}function g(v,S,j,k){if(S.length===0)return!0;if(!Array.isArray(v))return!1;const w=new Set;for(let C=0;C<S.length;C++){const _=S[C];let E=!1;for(let A=0;A<v.length;A++){if(w.has(A))continue;const T=v[A];let O=!1;if(j(T,_,C,v,S,k)&&(O=!0),O){w.add(A),E=!0;break}}if(!E)return!1}return!0}function h(v,S,j,k){return S.size===0?!0:v instanceof Set?g([...v],[...S],j,k):!1}e.isMatchWith=c,e.isSetMatch=h})(oh)),oh}var sw;function Ux(){return sw||(sw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mP();function n(i,s){return t.isMatchWith(i,s,()=>{})}e.isMatch=n})(ih)),ih}var ch={},uh={},dh={},cw;function hP(){return cw||(cw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(i=>Object.prototype.propertyIsEnumerable.call(n,i))}e.getSymbols=t})(dh)),dh}var fh={},uw;function Wz(){return uw||(uw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(fh)),fh}var ph={},dw;function Bz(){return dw||(dw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",i="[object Number]",s="[object Boolean]",c="[object Arguments]",d="[object Symbol]",p="[object Date]",m="[object Map]",g="[object Set]",h="[object Array]",v="[object Function]",S="[object ArrayBuffer]",j="[object Object]",k="[object Error]",w="[object DataView]",C="[object Uint8Array]",_="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]",T="[object BigUint64Array]",O="[object Int8Array]",P="[object Int16Array]",R="[object Int32Array]",U="[object BigInt64Array]",ee="[object Float32Array]",fe="[object Float64Array]";e.argumentsTag=c,e.arrayBufferTag=S,e.arrayTag=h,e.bigInt64ArrayTag=U,e.bigUint64ArrayTag=T,e.booleanTag=s,e.dataViewTag=w,e.dateTag=p,e.errorTag=k,e.float32ArrayTag=ee,e.float64ArrayTag=fe,e.functionTag=v,e.int16ArrayTag=P,e.int32ArrayTag=R,e.int8ArrayTag=O,e.mapTag=m,e.numberTag=i,e.objectTag=j,e.regexpTag=t,e.setTag=g,e.stringTag=n,e.symbolTag=d,e.uint16ArrayTag=E,e.uint32ArrayTag=A,e.uint8ArrayTag=C,e.uint8ClampedArrayTag=_})(ph)),ph}var gh={},fw;function yP(){return fw||(fw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(gh)),gh}var pw;function Iz(){return pw||(pw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hP(),n=Wz(),i=Bz(),s=Nz(),c=yP();function d(h,v){return p(h,void 0,h,new Map,v)}function p(h,v,S,j=new Map,k=void 0){const w=k?.(h,v,S,j);if(w!==void 0)return w;if(s.isPrimitive(h))return h;if(j.has(h))return j.get(h);if(Array.isArray(h)){const C=new Array(h.length);j.set(h,C);for(let _=0;_<h.length;_++)C[_]=p(h[_],_,S,j,k);return Object.hasOwn(h,"index")&&(C.index=h.index),Object.hasOwn(h,"input")&&(C.input=h.input),C}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const C=new RegExp(h.source,h.flags);return C.lastIndex=h.lastIndex,C}if(h instanceof Map){const C=new Map;j.set(h,C);for(const[_,E]of h)C.set(_,p(E,_,S,j,k));return C}if(h instanceof Set){const C=new Set;j.set(h,C);for(const _ of h)C.add(p(_,void 0,S,j,k));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(c.isTypedArray(h)){const C=new(Object.getPrototypeOf(h)).constructor(h.length);j.set(h,C);for(let _=0;_<h.length;_++)C[_]=p(h[_],_,S,j,k);return C}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const C=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return j.set(h,C),m(C,h,S,j,k),C}if(typeof File<"u"&&h instanceof File){const C=new File([h],h.name,{type:h.type});return j.set(h,C),m(C,h,S,j,k),C}if(h instanceof Blob){const C=new Blob([h],{type:h.type});return j.set(h,C),m(C,h,S,j,k),C}if(h instanceof Error){const C=new h.constructor;return j.set(h,C),C.message=h.message,C.name=h.name,C.stack=h.stack,C.cause=h.cause,m(C,h,S,j,k),C}if(typeof h=="object"&&g(h)){const C=Object.create(Object.getPrototypeOf(h));return j.set(h,C),m(C,h,S,j,k),C}return h}function m(h,v,S=h,j,k){const w=[...Object.keys(v),...t.getSymbols(v)];for(let C=0;C<w.length;C++){const _=w[C],E=Object.getOwnPropertyDescriptor(h,_);(E==null||E.writable)&&(h[_]=p(v[_],_,S,j,k))}}function g(h){switch(n.getTag(h)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=d,e.cloneDeepWithImpl=p,e.copyProperties=m})(uh)),uh}var gw;function xP(){return gw||(gw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iz();function n(i){return t.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}e.cloneDeep=n})(ch)),ch}var mw;function vP(){return mw||(mw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ux(),n=xP();function i(s){return s=n.cloneDeep(s),c=>t.isMatch(c,s)}e.matches=i})(nh)),nh}var mh={},hh={},yh={},hw;function bP(){return hw||(hw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iz(),n=Bz();function i(s,c){return t.cloneDeepWith(s,(d,p,m,g)=>{const h=c?.(d,p,m,g);if(h!==void 0)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new s.constructor(s?.valueOf());return t.copyProperties(v,s),v}case n.argumentsTag:{const v={};return t.copyProperties(v,s),v.length=s.length,v[Symbol.iterator]=s[Symbol.iterator],v}default:return}})}e.cloneDeepWith=i})(yh)),yh}var yw;function SP(){return yw||(yw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bP();function n(i){return t.cloneDeepWith(i)}e.cloneDeep=n})(hh)),hh}var xh={},vh={},xw;function qz(){return xw||(xw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(i,s=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<s;case"symbol":return!1;case"string":return t.test(i)}}e.isIndex=n})(vh)),vh}var bh={},vw;function jP(){return vw||(vw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wz();function n(i){return i!==null&&typeof i=="object"&&t.getTag(i)==="[object Arguments]"}e.isArguments=n})(bh)),bh}var bw;function wP(){return bw||(bw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uz(),n=qz(),i=jP(),s=Ex();function c(d,p){let m;if(Array.isArray(p)?m=p:typeof p=="string"&&t.isDeepKey(p)&&d?.[p]==null?m=s.toPath(p):m=[p],m.length===0)return!1;let g=d;for(let h=0;h<m.length;h++){const v=m[h];if((g==null||!Object.hasOwn(g,v))&&!((Array.isArray(g)||i.isArguments(g))&&n.isIndex(v)&&v<g.length))return!1;g=g[v]}return!0}e.has=c})(xh)),xh}var Sw;function CP(){return Sw||(Sw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ux(),n=dz(),i=SP(),s=Ox(),c=wP();function d(p,m){switch(typeof p){case"object":{Object.is(p?.valueOf(),-0)&&(p="-0");break}case"number":{p=n.toKey(p);break}}return m=i.cloneDeep(m),function(g){const h=s.get(g,p);return h===void 0?c.has(g,p):m===void 0?h===void 0:t.isMatch(h,m)}}e.matchesProperty=d})(mh)),mh}var jw;function kP(){return jw||(jw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pz(),n=gP(),i=vP(),s=CP();function c(d){if(d==null)return t.identity;switch(typeof d){case"function":return d;case"object":return Array.isArray(d)&&d.length===2?s.matchesProperty(d[0],d[1]):i.matches(d);case"string":case"symbol":case"number":return n.property(d)}}e.iteratee=c})(th)),th}var ww;function zP(){return ww||(ww=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uP(),n=Pz(),i=pP(),s=kP();function c(d,p=n.identity){return i.isArrayLikeObject(d)?t.uniqBy(Array.from(d),s.iteratee(p)):[]}e.uniqBy=c})(Vm)),Vm}var Sh,Cw;function _P(){return Cw||(Cw=1,Sh=zP().uniqBy),Sh}var TP=_P();const kw=ho(TP);function Uz(e,t,n){return t===!0?kw(e,n):typeof t=="function"?kw(e,t):e}var jh={exports:{}},wh={},Ch={exports:{}},kh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function AP(){if(zw)return kh;zw=1;var e=Gl();function t(v,S){return v===S&&(v!==0||1/v===1/S)||v!==v&&S!==S}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,s=e.useEffect,c=e.useLayoutEffect,d=e.useDebugValue;function p(v,S){var j=S(),k=i({inst:{value:j,getSnapshot:S}}),w=k[0].inst,C=k[1];return c(function(){w.value=j,w.getSnapshot=S,m(w)&&C({inst:w})},[v,j,S]),s(function(){return m(w)&&C({inst:w}),v(function(){m(w)&&C({inst:w})})},[v]),d(j),j}function m(v){var S=v.getSnapshot;v=v.value;try{var j=S();return!n(v,j)}catch{return!0}}function g(v,S){return S()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:p;return kh.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,kh}var _w;function EP(){return _w||(_w=1,Ch.exports=AP()),Ch.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function OP(){if(Tw)return wh;Tw=1;var e=Gl(),t=EP();function n(g,h){return g===h&&(g!==0||1/g===1/h)||g!==g&&h!==h}var i=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,c=e.useRef,d=e.useEffect,p=e.useMemo,m=e.useDebugValue;return wh.useSyncExternalStoreWithSelector=function(g,h,v,S,j){var k=c(null);if(k.current===null){var w={hasValue:!1,value:null};k.current=w}else w=k.current;k=p(function(){function _(P){if(!E){if(E=!0,A=P,P=S(P),j!==void 0&&w.hasValue){var R=w.value;if(j(R,P))return T=R}return T=P}if(R=T,i(A,P))return R;var U=S(P);return j!==void 0&&j(R,U)?(A=P,R):(A=P,T=U)}var E=!1,A,T,O=v===void 0?null:v;return[function(){return _(h())},O===null?void 0:function(){return _(O())}]},[h,v,S,j]);var C=s(g,k[0],k[1]);return d(function(){w.hasValue=!0,w.value=C},[C]),m(C),C},wh}var Aw;function MP(){return Aw||(Aw=1,jh.exports=OP()),jh.exports}var RP=MP(),Hx=x.createContext(null),DP=e=>e,ar=()=>{var e=x.useContext(Hx);return e?e.store.dispatch:DP},Ld=()=>{},PP=()=>Ld,$P=(e,t)=>e===t;function Ie(e){var t=x.useContext(Hx);return RP.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:PP,t?t.store.getState:Ld,t?t.store.getState:Ld,t?e:Ld,$P)}function NP(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function LP(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function WP(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${t}[${n}]`)}}var Ew=e=>Array.isArray(e)?e:[e];function BP(e){const t=Array.isArray(e[0])?e[0]:e;return WP(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function IP(e,t){const n=[],{length:i}=e;for(let s=0;s<i;s++)n.push(e[s].apply(null,t));return n}var qP=class{constructor(e){this.value=e}deref(){return this.value}},UP=typeof WeakRef<"u"?WeakRef:qP,HP=0,Ow=1;function md(){return{s:HP,v:void 0,o:null,p:null}}function Hz(e,t={}){let n=md();const{resultEqualityCheck:i}=t;let s,c=0;function d(){let p=n;const{length:m}=arguments;for(let v=0,S=m;v<S;v++){const j=arguments[v];if(typeof j=="function"||typeof j=="object"&&j!==null){let k=p.o;k===null&&(p.o=k=new WeakMap);const w=k.get(j);w===void 0?(p=md(),k.set(j,p)):p=w}else{let k=p.p;k===null&&(p.p=k=new Map);const w=k.get(j);w===void 0?(p=md(),k.set(j,p)):p=w}}const g=p;let h;if(p.s===Ow)h=p.v;else if(h=e.apply(null,arguments),c++,i){const v=s?.deref?.()??s;v!=null&&i(v,h)&&(h=v,c!==0&&c--),s=typeof h=="object"&&h!==null||typeof h=="function"?new UP(h):h}return g.s=Ow,g.v=h,h}return d.clearCache=()=>{n=md(),d.resetResultsCount()},d.resultsCount=()=>c,d.resetResultsCount=()=>{c=0},d}function FP(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,i=(...s)=>{let c=0,d=0,p,m={},g=s.pop();typeof g=="object"&&(m=g,g=s.pop()),NP(g,`createSelector expects an output function after the inputs, but received: [${typeof g}]`);const h={...n,...m},{memoize:v,memoizeOptions:S=[],argsMemoize:j=Hz,argsMemoizeOptions:k=[]}=h,w=Ew(S),C=Ew(k),_=BP(s),E=v(function(){return c++,g.apply(null,arguments)},...w),A=j(function(){d++;const O=IP(_,arguments);return p=E.apply(null,O),p},...C);return Object.assign(A,{resultFunc:g,memoizedResultFunc:E,dependencies:_,dependencyRecomputations:()=>d,resetDependencyRecomputations:()=>{d=0},lastResult:()=>p,recomputations:()=>c,resetRecomputations:()=>{c=0},memoize:v,argsMemoize:j})};return Object.assign(i,{withTypes:()=>i}),i}var ce=FP(Hz),KP=Object.assign((e,t=ce)=>{LP(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),i=n.map(c=>e[c]);return t(i,(...c)=>c.reduce((d,p,m)=>(d[n[m]]=p,d),{}))},{withTypes:()=>KP}),zh={},_h={},Th={},Mw;function YP(){return Mw||(Mw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,s,c)=>{if(i!==s){const d=t(i),p=t(s);if(d===p&&d===0){if(i<s)return c==="desc"?1:-1;if(i>s)return c==="desc"?-1:1}return c==="desc"?p-d:d-p}return 0};e.compareValues=n})(Th)),Th}var Ah={},Eh={},Rw;function Fz(){return Rw||(Rw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Eh)),Eh}var Dw;function VP(){return Dw||(Dw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fz(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function s(c,d){return Array.isArray(c)?!1:typeof c=="number"||typeof c=="boolean"||c==null||t.isSymbol(c)?!0:typeof c=="string"&&(i.test(c)||!n.test(c))||d!=null&&Object.hasOwn(d,c)}e.isKey=s})(Ah)),Ah}var Pw;function GP(){return Pw||(Pw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YP(),n=VP(),i=Ex();function s(c,d,p,m){if(c==null)return[];p=m?void 0:p,Array.isArray(c)||(c=Object.values(c)),Array.isArray(d)||(d=d==null?[null]:[d]),d.length===0&&(d=[null]),Array.isArray(p)||(p=p==null?[]:[p]),p=p.map(j=>String(j));const g=(j,k)=>{let w=j;for(let C=0;C<k.length&&w!=null;++C)w=w[k[C]];return w},h=(j,k)=>k==null||j==null?k:typeof j=="object"&&"key"in j?Object.hasOwn(k,j.key)?k[j.key]:g(k,j.path):typeof j=="function"?j(k):Array.isArray(j)?g(k,j):typeof k=="object"?k[j]:k,v=d.map(j=>(Array.isArray(j)&&j.length===1&&(j=j[0]),j==null||typeof j=="function"||Array.isArray(j)||n.isKey(j)?j:{key:j,path:i.toPath(j)}));return c.map(j=>({original:j,criteria:v.map(k=>h(k,j))})).slice().sort((j,k)=>{for(let w=0;w<v.length;w++){const C=t.compareValues(j.criteria[w],k.criteria[w],p[w]);if(C!==0)return C}return 0}).map(j=>j.original)}e.orderBy=s})(_h)),_h}var Oh={},$w;function XP(){return $w||($w=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i=1){const s=[],c=Math.floor(i),d=(p,m)=>{for(let g=0;g<p.length;g++){const h=p[g];Array.isArray(h)&&m<c?d(h,m+1):s.push(h)}};return d(n,0),s}e.flatten=t})(Oh)),Oh}var Mh={},Nw;function Kz(){return Nw||(Nw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qz(),n=qx(),i=$z(),s=Lz();function c(d,p,m){return i.isObject(m)&&(typeof p=="number"&&n.isArrayLike(m)&&t.isIndex(p)&&p<m.length||typeof p=="string"&&p in m)?s.eq(m[p],d):!1}e.isIterateeCall=c})(Mh)),Mh}var Lw;function QP(){return Lw||(Lw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GP(),n=XP(),i=Kz();function s(c,...d){const p=d.length;return p>1&&i.isIterateeCall(c,d[0],d[1])?d=[]:p>2&&i.isIterateeCall(d[0],d[1],d[2])&&(d=[d[0]]),t.orderBy(c,n.flatten(d),["asc"])}e.sortBy=s})(zh)),zh}var Rh,Ww;function ZP(){return Ww||(Ww=1,Rh=QP().sortBy),Rh}var JP=ZP();const Hf=ho(JP);var Yz=e=>e.legend.settings,e$=e=>e.legend.size,t$=e=>e.legend.payload,r$=ce([t$,Yz],(e,t)=>{var{itemSorter:n}=t,i=e.flat(1);return n?Hf(i,n):i});function n$(){return Ie(r$)}var hd=1;function Vz(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),i=x.useCallback(s=>{if(s!=null){var c=s.getBoundingClientRect(),d={height:c.height,left:c.left,top:c.top,width:c.width};(Math.abs(d.height-t.height)>hd||Math.abs(d.left-t.left)>hd||Math.abs(d.top-t.top)>hd||Math.abs(d.width-t.width)>hd)&&n({height:d.height,left:d.left,top:d.top,width:d.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,i]}function qr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var i$=typeof Symbol=="function"&&Symbol.observable||"@@observable",Bw=i$,Dh=()=>Math.random().toString(36).substring(7).split("").join("."),o$={INIT:`@@redux/INIT${Dh()}`,REPLACE:`@@redux/REPLACE${Dh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dh()}`},Jd=o$;function Fx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Gz(e,t,n){if(typeof e!="function")throw new Error(qr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(qr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(qr(1));return n(Gz)(e,t)}let i=e,s=t,c=new Map,d=c,p=0,m=!1;function g(){d===c&&(d=new Map,c.forEach((C,_)=>{d.set(_,C)}))}function h(){if(m)throw new Error(qr(3));return s}function v(C){if(typeof C!="function")throw new Error(qr(4));if(m)throw new Error(qr(5));let _=!0;g();const E=p++;return d.set(E,C),function(){if(_){if(m)throw new Error(qr(6));_=!1,g(),d.delete(E),c=null}}}function S(C){if(!Fx(C))throw new Error(qr(7));if(typeof C.type>"u")throw new Error(qr(8));if(typeof C.type!="string")throw new Error(qr(17));if(m)throw new Error(qr(9));try{m=!0,s=i(s,C)}finally{m=!1}return(c=d).forEach(E=>{E()}),C}function j(C){if(typeof C!="function")throw new Error(qr(10));i=C,S({type:Jd.REPLACE})}function k(){const C=v;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(qr(11));function E(){const T=_;T.next&&T.next(h())}return E(),{unsubscribe:C(E)}},[Bw](){return this}}}return S({type:Jd.INIT}),{dispatch:S,subscribe:v,getState:h,replaceReducer:j,[Bw]:k}}function a$(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Jd.INIT})>"u")throw new Error(qr(12));if(typeof n(void 0,{type:Jd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qr(13))})}function Xz(e){const t=Object.keys(e),n={};for(let c=0;c<t.length;c++){const d=t[c];typeof e[d]=="function"&&(n[d]=e[d])}const i=Object.keys(n);let s;try{a$(n)}catch(c){s=c}return function(d={},p){if(s)throw s;let m=!1;const g={};for(let h=0;h<i.length;h++){const v=i[h],S=n[v],j=d[v],k=S(j,p);if(typeof k>"u")throw p&&p.type,new Error(qr(14));g[v]=k,m=m||k!==j}return m=m||i.length!==Object.keys(d).length,m?g:d}}function ef(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function l$(...e){return t=>(n,i)=>{const s=t(n,i);let c=()=>{throw new Error(qr(15))};const d={getState:s.getState,dispatch:(m,...g)=>c(m,...g)},p=e.map(m=>m(d));return c=ef(...p)(s.dispatch),{...s,dispatch:c}}}function Qz(e){return Fx(e)&&"type"in e&&typeof e.type=="string"}var Zz=Symbol.for("immer-nothing"),Iw=Symbol.for("immer-draftable"),On=Symbol.for("immer-state");function fi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ll=Object.getPrototypeOf;function Ia(e){return!!e&&!!e[On]}function uo(e){return e?Jz(e)||Array.isArray(e)||!!e[Iw]||!!e.constructor?.[Iw]||Nc(e)||Kf(e):!1}var s$=Object.prototype.constructor.toString();function Jz(e){if(!e||typeof e!="object")return!1;const t=Ll(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===s$}function tf(e,t){Ff(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,i)=>t(i,n,e))}function Ff(e){const t=e[On];return t?t.type_:Array.isArray(e)?1:Nc(e)?2:Kf(e)?3:0}function Ay(e,t){return Ff(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function e_(e,t,n){const i=Ff(e);i===2?e.set(t,n):i===3?e.add(n):e[t]=n}function c$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Nc(e){return e instanceof Map}function Kf(e){return e instanceof Set}function Aa(e){return e.copy_||e.base_}function Ey(e,t){if(Nc(e))return new Map(e);if(Kf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Jz(e);if(t===!0||t==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(e);delete i[On];let s=Reflect.ownKeys(i);for(let c=0;c<s.length;c++){const d=s[c],p=i[d];p.writable===!1&&(p.writable=!0,p.configurable=!0),(p.get||p.set)&&(i[d]={configurable:!0,writable:!0,enumerable:p.enumerable,value:e[d]})}return Object.create(Ll(e),i)}else{const i=Ll(e);if(i!==null&&n)return{...e};const s=Object.create(i);return Object.assign(s,e)}}function Kx(e,t=!1){return Yf(e)||Ia(e)||!uo(e)||(Ff(e)>1&&Object.defineProperties(e,{set:{value:yd},add:{value:yd},clear:{value:yd},delete:{value:yd}}),Object.freeze(e),t&&Object.values(e).forEach(n=>Kx(n,!0))),e}function yd(){fi(2)}function Yf(e){return Object.isFrozen(e)}var u$={};function qa(e){const t=u$[e];return t||fi(0,e),t}var bc;function t_(){return bc}function d$(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qw(e,t){t&&(qa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Oy(e){My(e),e.drafts_.forEach(f$),e.drafts_=null}function My(e){e===bc&&(bc=e.parent_)}function Uw(e){return bc=d$(bc,e)}function f$(e){const t=e[On];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Hw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[On].modified_&&(Oy(t),fi(4)),uo(e)&&(e=rf(t,e),t.parent_||nf(t,e)),t.patches_&&qa("Patches").generateReplacementPatches_(n[On].base_,e,t.patches_,t.inversePatches_)):e=rf(t,n,[]),Oy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Zz?e:void 0}function rf(e,t,n){if(Yf(t))return t;const i=t[On];if(!i)return tf(t,(s,c)=>Fw(e,i,t,s,c,n)),t;if(i.scope_!==e)return t;if(!i.modified_)return nf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let c=s,d=!1;i.type_===3&&(c=new Set(s),s.clear(),d=!0),tf(c,(p,m)=>Fw(e,i,s,p,m,n,d)),nf(e,s,!1),n&&e.patches_&&qa("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function Fw(e,t,n,i,s,c,d){if(Ia(s)){const p=c&&t&&t.type_!==3&&!Ay(t.assigned_,i)?c.concat(i):void 0,m=rf(e,s,p);if(e_(n,i,m),Ia(m))e.canAutoFreeze_=!1;else return}else d&&n.add(s);if(uo(s)&&!Yf(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;rf(e,s),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&(Nc(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&nf(e,s)}}function nf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Kx(t,n)}function p$(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:t_(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=i,c=Yx;n&&(s=[i],c=Sc);const{revoke:d,proxy:p}=Proxy.revocable(s,c);return i.draft_=p,i.revoke_=d,p}var Yx={get(e,t){if(t===On)return e;const n=Aa(e);if(!Ay(n,t))return g$(e,n,t);const i=n[t];return e.finalized_||!uo(i)?i:i===Ph(e.base_,t)?($h(e),e.copy_[t]=Dy(i,e)):i},has(e,t){return t in Aa(e)},ownKeys(e){return Reflect.ownKeys(Aa(e))},set(e,t,n){const i=r_(Aa(e),t);if(i?.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const s=Ph(Aa(e),t),c=s?.[On];if(c&&c.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(c$(n,s)&&(n!==void 0||Ay(e.base_,t)))return!0;$h(e),Ry(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ph(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,$h(e),Ry(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Aa(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:i.enumerable,value:n[t]}},defineProperty(){fi(11)},getPrototypeOf(e){return Ll(e.base_)},setPrototypeOf(){fi(12)}},Sc={};tf(Yx,(e,t)=>{Sc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Sc.deleteProperty=function(e,t){return Sc.set.call(this,e,t,void 0)};Sc.set=function(e,t,n){return Yx.set.call(this,e[0],t,n,e[0])};function Ph(e,t){const n=e[On];return(n?Aa(n):e)[t]}function g$(e,t,n){const i=r_(t,n);return i?"value"in i?i.value:i.get?.call(e.draft_):void 0}function r_(e,t){if(!(t in e))return;let n=Ll(e);for(;n;){const i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Ll(n)}}function Ry(e){e.modified_||(e.modified_=!0,e.parent_&&Ry(e.parent_))}function $h(e){e.copy_||(e.copy_=Ey(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var m$=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,i)=>{if(typeof t=="function"&&typeof n!="function"){const c=n;n=t;const d=this;return function(m=c,...g){return d.produce(m,h=>n.call(this,h,...g))}}typeof n!="function"&&fi(6),i!==void 0&&typeof i!="function"&&fi(7);let s;if(uo(t)){const c=Uw(this),d=Dy(t,void 0);let p=!0;try{s=n(d),p=!1}finally{p?Oy(c):My(c)}return qw(c,i),Hw(s,c)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===Zz&&(s=void 0),this.autoFreeze_&&Kx(s,!0),i){const c=[],d=[];qa("Patches").generateReplacementPatches_(t,s,c,d),i(c,d)}return s}else fi(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(d,...p)=>this.produceWithPatches(d,m=>t(m,...p));let i,s;return[this.produce(t,n,(d,p)=>{i=d,s=p}),i,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){uo(e)||fi(8),Ia(e)&&(e=ao(e));const t=Uw(this),n=Dy(e,void 0);return n[On].isManual_=!0,My(t),n}finishDraft(e,t){const n=e&&e[On];(!n||!n.isManual_)&&fi(9);const{scope_:i}=n;return qw(i,t),Hw(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const i=qa("Patches").applyPatches_;return Ia(e)?i(e,t):this.produce(e,s=>i(s,t))}};function Dy(e,t){const n=Nc(e)?qa("MapSet").proxyMap_(e,t):Kf(e)?qa("MapSet").proxySet_(e,t):p$(e,t);return(t?t.scope_:t_()).drafts_.push(n),n}function ao(e){return Ia(e)||fi(10,e),n_(e)}function n_(e){if(!uo(e)||Yf(e))return e;const t=e[On];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ey(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Ey(e,!0);return tf(n,(i,s)=>{e_(n,i,n_(s))}),t&&(t.finalized_=!1),n}var h$=new m$,i_=h$.produce;function o_(e){return({dispatch:n,getState:i})=>s=>c=>typeof c=="function"?c(n,i,e):s(c)}var y$=o_(),x$=o_,v$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ef:ef.apply(null,arguments)};function ti(e,t){function n(...i){if(t){let s=t(...i);if(!s)throw new Error(An(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:i[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=i=>Qz(i)&&i.type===e,n}var a_=class dc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,dc.prototype)}static get[Symbol.species](){return dc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new dc(...t[0].concat(this)):new dc(...t.concat(this))}};function Kw(e){return uo(e)?i_(e,()=>{}):e}function xd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function b$(e){return typeof e=="boolean"}var S$=()=>function(t){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:s=!0,actionCreatorCheck:c=!0}=t??{};let d=new a_;return n&&(b$(n)?d.push(y$):d.push(x$(n.extraArgument))),d},j$="RTK_autoBatch",Yw=e=>t=>{setTimeout(t,e)},w$=(e={type:"raf"})=>t=>(...n)=>{const i=t(...n);let s=!0,c=!1,d=!1;const p=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Yw(10):e.type==="callback"?e.queueNotification:Yw(e.timeout),g=()=>{d=!1,c&&(c=!1,p.forEach(h=>h()))};return Object.assign({},i,{subscribe(h){const v=()=>s&&h(),S=i.subscribe(v);return p.add(h),()=>{S(),p.delete(h)}},dispatch(h){try{return s=!h?.meta?.[j$],c=!s,c&&(d||(d=!0,m(g))),i.dispatch(h)}finally{s=!0}}})},C$=e=>function(n){const{autoBatch:i=!0}=n??{};let s=new a_(e);return i&&s.push(w$(typeof i=="object"?i:void 0)),s};function k$(e){const t=S$(),{reducer:n=void 0,middleware:i,devTools:s=!0,preloadedState:c=void 0,enhancers:d=void 0}=e||{};let p;if(typeof n=="function")p=n;else if(Fx(n))p=Xz(n);else throw new Error(An(1));let m;typeof i=="function"?m=i(t):m=t();let g=ef;s&&(g=v$({trace:!1,...typeof s=="object"&&s}));const h=l$(...m),v=C$(h);let S=typeof d=="function"?d(v):v();const j=g(...S);return Gz(p,c,j)}function l_(e){const t={},n=[];let i;const s={addCase(c,d){const p=typeof c=="string"?c:c.type;if(!p)throw new Error(An(28));if(p in t)throw new Error(An(29));return t[p]=d,s},addAsyncThunk(c,d){return d.pending&&(t[c.pending.type]=d.pending),d.rejected&&(t[c.rejected.type]=d.rejected),d.fulfilled&&(t[c.fulfilled.type]=d.fulfilled),d.settled&&n.push({matcher:c.settled,reducer:d.settled}),s},addMatcher(c,d){return n.push({matcher:c,reducer:d}),s},addDefaultCase(c){return i=c,s}};return e(s),[t,n,i]}function z$(e){return typeof e=="function"}function _$(e,t){let[n,i,s]=l_(t),c;if(z$(e))c=()=>Kw(e());else{const p=Kw(e);c=()=>p}function d(p=c(),m){let g=[n[m.type],...i.filter(({matcher:h})=>h(m)).map(({reducer:h})=>h)];return g.filter(h=>!!h).length===0&&(g=[s]),g.reduce((h,v)=>{if(v)if(Ia(h)){const j=v(h,m);return j===void 0?h:j}else{if(uo(h))return i_(h,S=>v(S,m));{const S=v(h,m);if(S===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return h},p)}return d.getInitialState=c,d}var T$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",A$=(e=21)=>{let t="",n=e;for(;n--;)t+=T$[Math.random()*64|0];return t},E$=Symbol.for("rtk-slice-createasyncthunk");function O$(e,t){return`${e}/${t}`}function M$({creators:e}={}){const t=e?.asyncThunk?.[E$];return function(i){const{name:s,reducerPath:c=s}=i;if(!s)throw new Error(An(11));const d=(typeof i.reducers=="function"?i.reducers(D$()):i.reducers)||{},p=Object.keys(d),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(A,T){const O=typeof A=="string"?A:A.type;if(!O)throw new Error(An(12));if(O in m.sliceCaseReducersByType)throw new Error(An(13));return m.sliceCaseReducersByType[O]=T,g},addMatcher(A,T){return m.sliceMatchers.push({matcher:A,reducer:T}),g},exposeAction(A,T){return m.actionCreators[A]=T,g},exposeCaseReducer(A,T){return m.sliceCaseReducersByName[A]=T,g}};p.forEach(A=>{const T=d[A],O={reducerName:A,type:O$(s,A),createNotation:typeof i.reducers=="function"};$$(T)?L$(O,T,g,t):P$(O,T,g)});function h(){const[A={},T=[],O=void 0]=typeof i.extraReducers=="function"?l_(i.extraReducers):[i.extraReducers],P={...A,...m.sliceCaseReducersByType};return _$(i.initialState,R=>{for(let U in P)R.addCase(U,P[U]);for(let U of m.sliceMatchers)R.addMatcher(U.matcher,U.reducer);for(let U of T)R.addMatcher(U.matcher,U.reducer);O&&R.addDefaultCase(O)})}const v=A=>A,S=new Map,j=new WeakMap;let k;function w(A,T){return k||(k=h()),k(A,T)}function C(){return k||(k=h()),k.getInitialState()}function _(A,T=!1){function O(R){let U=R[A];return typeof U>"u"&&T&&(U=xd(j,O,C)),U}function P(R=v){const U=xd(S,T,()=>new WeakMap);return xd(U,R,()=>{const ee={};for(const[fe,de]of Object.entries(i.selectors??{}))ee[fe]=R$(de,R,()=>xd(j,R,C),T);return ee})}return{reducerPath:A,getSelectors:P,get selectors(){return P(O)},selectSlice:O}}const E={name:s,reducer:w,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:C,..._(c),injectInto(A,{reducerPath:T,...O}={}){const P=T??c;return A.inject({reducerPath:P,reducer:w},O),{...E,..._(P,!0)}}};return E}}function R$(e,t,n,i){function s(c,...d){let p=t(c);return typeof p>"u"&&i&&(p=n()),e(p,...d)}return s.unwrapped=e,s}var Rn=M$();function D$(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function P$({type:e,reducerName:t,createNotation:n},i,s){let c,d;if("reducer"in i){if(n&&!N$(i))throw new Error(An(17));c=i.reducer,d=i.prepare}else c=i;s.addCase(e,c).exposeCaseReducer(t,c).exposeAction(t,d?ti(e,d):ti(e))}function $$(e){return e._reducerDefinitionType==="asyncThunk"}function N$(e){return e._reducerDefinitionType==="reducerWithPrepare"}function L$({type:e,reducerName:t},n,i,s){if(!s)throw new Error(An(18));const{payloadCreator:c,fulfilled:d,pending:p,rejected:m,settled:g,options:h}=n,v=s(e,c,h);i.exposeAction(t,v),d&&i.addCase(v.fulfilled,d),p&&i.addCase(v.pending,p),m&&i.addCase(v.rejected,m),g&&i.addMatcher(v.settled,g),i.exposeCaseReducer(t,{fulfilled:d||vd,pending:p||vd,rejected:m||vd,settled:g||vd})}function vd(){}var W$="task",s_="listener",c_="completed",Vx="cancelled",B$=`task-${Vx}`,I$=`task-${c_}`,Py=`${s_}-${Vx}`,q$=`${s_}-${c_}`,Vf=class{constructor(e){this.code=e,this.message=`${W$} ${Vx} (reason: ${e})`}name="TaskAbortError";message},Gx=(e,t)=>{if(typeof e!="function")throw new TypeError(An(32))},of=()=>{},u_=(e,t=of)=>(e.catch(t),e),d_=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),$a=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Na=e=>{if(e.aborted){const{reason:t}=e;throw new Vf(t)}};function f_(e,t){let n=of;return new Promise((i,s)=>{const c=()=>s(new Vf(e.reason));if(e.aborted){c();return}n=d_(e,c),t.finally(()=>n()).then(i,s)}).finally(()=>{n=of})}var U$=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Vf?"cancelled":"rejected",error:n}}finally{t?.()}},af=e=>t=>u_(f_(e,t).then(n=>(Na(e),n))),p_=e=>{const t=af(e);return n=>t(new Promise(i=>setTimeout(i,n)))},{assign:Pl}=Object,Vw={},Gf="listenerMiddleware",H$=(e,t)=>{const n=i=>d_(e,()=>$a(i,e.reason));return(i,s)=>{Gx(i);const c=new AbortController;n(c);const d=U$(async()=>{Na(e),Na(c.signal);const p=await i({pause:af(c.signal),delay:p_(c.signal),signal:c.signal});return Na(c.signal),p},()=>$a(c,I$));return s?.autoJoin&&t.push(d.catch(of)),{result:af(e)(d),cancel(){$a(c,B$)}}}},F$=(e,t)=>{const n=async(i,s)=>{Na(t);let c=()=>{};const p=[new Promise((m,g)=>{let h=e({predicate:i,effect:(v,S)=>{S.unsubscribe(),m([v,S.getState(),S.getOriginalState()])}});c=()=>{h(),g()}})];s!=null&&p.push(new Promise(m=>setTimeout(m,s,null)));try{const m=await f_(t,Promise.race(p));return Na(t),m}finally{c()}};return(i,s)=>u_(n(i,s))},g_=e=>{let{type:t,actionCreator:n,matcher:i,predicate:s,effect:c}=e;if(t)s=ti(t).match;else if(n)t=n.type,s=n.match;else if(i)s=i;else if(!s)throw new Error(An(21));return Gx(c),{predicate:s,type:t,effect:c}},m_=Pl(e=>{const{type:t,predicate:n,effect:i}=g_(e);return{id:A$(),effect:i,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(An(22))}}},{withTypes:()=>m_}),Gw=(e,t)=>{const{type:n,effect:i,predicate:s}=g_(t);return Array.from(e.values()).find(c=>(typeof n=="string"?c.type===n:c.predicate===s)&&c.effect===i)},$y=e=>{e.pending.forEach(t=>{$a(t,Py)})},K$=e=>()=>{e.forEach($y),e.clear()},Xw=(e,t,n)=>{try{e(t,n)}catch(i){setTimeout(()=>{throw i},0)}},h_=Pl(ti(`${Gf}/add`),{withTypes:()=>h_}),Y$=ti(`${Gf}/removeAll`),y_=Pl(ti(`${Gf}/remove`),{withTypes:()=>y_}),V$=(...e)=>{console.error(`${Gf}/error`,...e)},Lc=(e={})=>{const t=new Map,{extra:n,onError:i=V$}=e;Gx(i);const s=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),v=>{h.unsubscribe(),v?.cancelActive&&$y(h)}),c=h=>{const v=Gw(t,h)??m_(h);return s(v)};Pl(c,{withTypes:()=>c});const d=h=>{const v=Gw(t,h);return v&&(v.unsubscribe(),h.cancelActive&&$y(v)),!!v};Pl(d,{withTypes:()=>d});const p=async(h,v,S,j)=>{const k=new AbortController,w=F$(c,k.signal),C=[];try{h.pending.add(k),await Promise.resolve(h.effect(v,Pl({},S,{getOriginalState:j,condition:(_,E)=>w(_,E).then(Boolean),take:w,delay:p_(k.signal),pause:af(k.signal),extra:n,signal:k.signal,fork:H$(k.signal,C),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((_,E,A)=>{_!==k&&($a(_,Py),A.delete(_))})},cancel:()=>{$a(k,Py),h.pending.delete(k)},throwIfCancelled:()=>{Na(k.signal)}})))}catch(_){_ instanceof Vf||Xw(i,_,{raisedBy:"effect"})}finally{await Promise.all(C),$a(k,q$),h.pending.delete(k)}},m=K$(t);return{middleware:h=>v=>S=>{if(!Qz(S))return v(S);if(h_.match(S))return c(S.payload);if(Y$.match(S)){m();return}if(y_.match(S))return d(S.payload);let j=h.getState();const k=()=>{if(j===Vw)throw new Error(An(23));return j};let w;try{if(w=v(S),t.size>0){const C=h.getState(),_=Array.from(t.values());for(const E of _){let A=!1;try{A=E.predicate(S,C,j)}catch(T){A=!1,Xw(i,T,{raisedBy:"predicate"})}A&&p(E,S,h,k)}}}finally{j=Vw}return w},startListening:c,stopListening:d,clearListeners:m}};function An(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var G$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},x_=Rn({name:"chartLayout",initialState:G$,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,i,s,c;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(i=t.payload.right)!==null&&i!==void 0?i:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(c=t.payload.left)!==null&&c!==void 0?c:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:X$,setLayout:Q$,setChartSize:Z$,setScale:J$}=x_.actions,e4=x_.reducer;function Qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Zw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(n),!0).forEach(function(i){t4(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qw(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function t4(e,t,n){return(t=r4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r4(e){var t=n4(e,"string");return typeof t=="symbol"?t:t+""}function n4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lf=Math.PI/180,i4=e=>e*180/Math.PI,jr=(e,t,n,i)=>({x:e+Math.cos(-lf*i)*n,y:t+Math.sin(-lf*i)*n}),v_=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},o4=(e,t)=>{var{x:n,y:i}=e,{x:s,y:c}=t;return Math.sqrt((n-s)**2+(i-c)**2)},a4=(e,t)=>{var{x:n,y:i}=e,{cx:s,cy:c}=t,d=o4({x:n,y:i},{x:s,y:c});if(d<=0)return{radius:d,angle:0};var p=(n-s)/d,m=Math.acos(p);return i>c&&(m=2*Math.PI-m),{radius:d,angle:i4(m),angleInRadian:m}},l4=e=>{var{startAngle:t,endAngle:n}=e,i=Math.floor(t/360),s=Math.floor(n/360),c=Math.min(i,s);return{startAngle:t-c*360,endAngle:n-c*360}},s4=(e,t)=>{var{startAngle:n,endAngle:i}=t,s=Math.floor(n/360),c=Math.floor(i/360),d=Math.min(s,c);return e+d*360},c4=(e,t)=>{var{x:n,y:i}=e,{radius:s,angle:c}=a4({x:n,y:i},t),{innerRadius:d,outerRadius:p}=t;if(s<d||s>p||s===0)return null;var{startAngle:m,endAngle:g}=l4(t),h=c,v;if(m<=g){for(;h>g;)h-=360;for(;h<m;)h+=360;v=h>=m&&h<=g}else{for(;h>m;)h-=360;for(;h<g;)h+=360;v=h>=g&&h<=m}return v?Zw(Zw({},t),{},{radius:s,angle:s4(h,t)}):null};function b_(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(n),!0).forEach(function(i){u4(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jw(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function u4(e,t,n){return(t=d4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d4(e){var t=f4(e,"string");return typeof t=="symbol"?t:t+""}function f4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kt(e,t,n){return rr(e)||rr(t)?n:Ei(t)?Ba(e,t,n):typeof t=="function"?t(e):n}var p4=(e,t,n,i,s)=>{var c,d=-1,p=(c=t?.length)!==null&&c!==void 0?c:0;if(p<=1||e==null)return 0;if(i==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var m=0;m<p;m++){var g=m>0?n[m-1].coordinate:n[p-1].coordinate,h=n[m].coordinate,v=m>=p-1?n[0].coordinate:n[m+1].coordinate,S=void 0;if(Dr(h-g)!==Dr(v-h)){var j=[];if(Dr(v-h)===Dr(s[1]-s[0])){S=v;var k=h+s[1]-s[0];j[0]=Math.min(k,(k+g)/2),j[1]=Math.max(k,(k+g)/2)}else{S=g;var w=v+s[1]-s[0];j[0]=Math.min(h,(w+h)/2),j[1]=Math.max(h,(w+h)/2)}var C=[Math.min(h,(S+h)/2),Math.max(h,(S+h)/2)];if(e>C[0]&&e<=C[1]||e>=j[0]&&e<=j[1]){({index:d}=n[m]);break}}else{var _=Math.min(g,v),E=Math.max(g,v);if(e>(_+h)/2&&e<=(E+h)/2){({index:d}=n[m]);break}}}else if(t){for(var A=0;A<p;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<p-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===p-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:d}=t[A]);break}}return d},g4=(e,t,n)=>{if(t&&n){var{width:i,height:s}=n,{align:c,verticalAlign:d,layout:p}=t;if((p==="vertical"||p==="horizontal"&&d==="middle")&&c!=="center"&&Ge(e[c]))return Xn(Xn({},e),{},{[c]:e[c]+(i||0)});if((p==="horizontal"||p==="vertical"&&c==="center")&&d!=="middle"&&Ge(e[d]))return Xn(Xn({},e),{},{[d]:e[d]+(s||0)})}return e},ia=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",S_=(e,t,n,i)=>{if(i)return e.map(p=>p.coordinate);var s,c,d=e.map(p=>(p.coordinate===t&&(s=!0),p.coordinate===n&&(c=!0),p.coordinate));return s||d.push(t),c||d.push(n),d},j_=(e,t,n)=>{if(!e)return null;var{duplicateDomain:i,type:s,range:c,scale:d,realScaleType:p,isCategorical:m,categoricalDomain:g,tickCount:h,ticks:v,niceTicks:S,axisType:j}=e;if(!d)return null;var k=p==="scaleBand"&&d.bandwidth?d.bandwidth()/2:2,w=s==="category"&&d.bandwidth?d.bandwidth()/k:0;if(w=j==="angleAxis"&&c&&c.length>=2?Dr(c[0]-c[1])*2*w:w,v||S){var C=(v||S||[]).map((_,E)=>{var A=i?i.indexOf(_):_;return{coordinate:d(A)+w,value:_,offset:w,index:E}});return C.filter(_=>!En(_.coordinate))}return m&&g?g.map((_,E)=>({coordinate:d(_)+w,value:_,index:E,offset:w})):d.ticks&&h!=null?d.ticks(h).map((_,E)=>({coordinate:d(_)+w,value:_,offset:w,index:E})):d.domain().map((_,E)=>({coordinate:d(_)+w,value:i?i[_]:_,index:E,offset:w}))},eC=1e-4,m4=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,i=e.range(),s=Math.min(i[0],i[1])-eC,c=Math.max(i[0],i[1])+eC,d=e(t[0]),p=e(t[n-1]);(d<s||d>c||p<s||p>c)&&e.domain([t[0],t[n-1]])}},h4=(e,t)=>{if(!t||t.length!==2||!Ge(t[0])||!Ge(t[1]))return e;var n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Ge(e[0])||e[0]<n)&&(s[0]=n),(!Ge(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},y4=e=>{var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,c=0,d=0;d<t;++d){var p=En(e[d][n][1])?e[d][n][0]:e[d][n][1];p>=0?(e[d][n][0]=s,e[d][n][1]=s+p,s=e[d][n][1]):(e[d][n][0]=c,e[d][n][1]=c+p,c=e[d][n][1])}},x4=e=>{var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,c=0;c<t;++c){var d=En(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=s,e[c][n][1]=s+d,s=e[c][n][1]):(e[c][n][0]=0,e[c][n][1]=0)}},v4={sign:y4,expand:V5,none:Nl,silhouette:G5,wiggle:X5,positive:x4},b4=(e,t,n)=>{var i=v4[n],s=Y5().keys(t).value((c,d)=>+Kt(c,d,0)).order(zy).offset(i);return s(e)};function S4(e){return e==null?void 0:String(e)}function tC(e){var{axis:t,ticks:n,bandSize:i,entry:s,index:c,dataKey:d}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!rr(s[t.dataKey])){var p=pz(n,"value",s[t.dataKey]);if(p)return p.coordinate+i/2}return n[c]?n[c].coordinate+i/2:null}var m=Kt(s,rr(d)?t.dataKey:d);return rr(m)?null:t.scale(m)}var rC=e=>{var{axis:t,ticks:n,offset:i,bandSize:s,entry:c,index:d}=e;if(t.type==="category")return n[d]?n[d].coordinate+i:null;var p=Kt(c,t.dataKey,t.scale.domain()[d]);return rr(p)?null:t.scale(p)-s/2+i},j4=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},w4=e=>{var t=e.flat(2).filter(Ge);return[Math.min(...t),Math.max(...t)]},C4=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],k4=(e,t,n)=>{if(e!=null)return C4(Object.keys(e).reduce((i,s)=>{var c=e[s],{stackedData:d}=c,p=d.reduce((m,g)=>{var h=b_(g,t,n),v=w4(h);return[Math.min(m[0],v[0]),Math.max(m[1],v[1])]},[1/0,-1/0]);return[Math.min(p[0],i[0]),Math.max(p[1],i[1])]},[1/0,-1/0]))},nC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jc=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&t&&t.length>=2){for(var s=Hf(t,h=>h.coordinate),c=1/0,d=1,p=s.length;d<p;d++){var m=s[d],g=s[d-1];c=Math.min((m.coordinate||0)-(g.coordinate||0),c)}return c===1/0?0:c}return n?void 0:0};function oC(e){var{tooltipEntrySettings:t,dataKey:n,payload:i,value:s,name:c}=e;return Xn(Xn({},t),{},{dataKey:n,payload:i,value:s,name:c})}function Jl(e,t){if(e)return String(e);if(typeof t=="string")return t}function z4(e,t,n,i,s){if(n==="horizontal"||n==="vertical"){var c=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return c?{x:e,y:t}:null}return i?c4({x:e,y:t},i):null}var _4=(e,t,n,i)=>{var s=t.find(g=>g&&g.index===n);if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var c=s.coordinate,{radius:d}=i;return Xn(Xn(Xn({},i),jr(i.cx,i.cy,d,c)),{},{angle:c,radius:d})}var p=s.coordinate,{angle:m}=i;return Xn(Xn(Xn({},i),jr(i.cx,i.cy,p,m)),{},{angle:m,radius:p})}return{x:0,y:0}},T4=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,yo=e=>e.layout.width,xo=e=>e.layout.height,A4=e=>e.layout.scale,w_=e=>e.layout.margin,Xf=ce(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Qf=ce(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),C_="data-recharts-item-index",k_="data-recharts-item-data-key",Wc=60;function aC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aC(Object(n),!0).forEach(function(i){E4(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function E4(e,t,n){return(t=O4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O4(e){var t=M4(e,"string");return typeof t=="symbol"?t:t+""}function M4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R4=e=>e.brush.height;function D4(e){var t=Qf(e);return t.reduce((n,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var s=typeof i.width=="number"?i.width:Wc;return n+s}return n},0)}function P4(e){var t=Qf(e);return t.reduce((n,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var s=typeof i.width=="number"?i.width:Wc;return n+s}return n},0)}function $4(e){var t=Xf(e);return t.reduce((n,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?n+i.height:n,0)}function N4(e){var t=Xf(e);return t.reduce((n,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?n+i.height:n,0)}var Tr=ce([yo,xo,w_,R4,D4,P4,$4,N4,Yz,e$],(e,t,n,i,s,c,d,p,m,g)=>{var h={left:(n.left||0)+s,right:(n.right||0)+c},v={top:(n.top||0)+d,bottom:(n.bottom||0)+p},S=bd(bd({},v),h),j=S.bottom;S.bottom+=i,S=g4(S,m,g);var k=e-S.left-S.right,w=t-S.top-S.bottom;return bd(bd({brushBottom:j},S),{},{width:Math.max(k,0),height:Math.max(w,0)})}),L4=ce(Tr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Xx=ce(yo,xo,(e,t)=>({x:0,y:0,width:e,height:t})),W4=x.createContext(null),gn=()=>x.useContext(W4)!=null,Zf=e=>e.brush,Jf=ce([Zf,Tr,w_],(e,t,n)=>({height:e.height,x:Ge(e.x)?e.x:t.left,y:Ge(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Ge(e.width)?e.width:t.width})),Qx=()=>{var e,t=gn(),n=Ie(L4),i=Ie(Jf),s=(e=Ie(Zf))===null||e===void 0?void 0:e.padding;return!t||!i||!s?n:{width:i.width-s.left-s.right,height:i.height-s.top-s.bottom,x:s.left,y:s.top}},B4={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},z_=()=>{var e;return(e=Ie(Tr))!==null&&e!==void 0?e:B4},Zx=()=>Ie(yo),Jx=()=>Ie(xo),I4=()=>Ie(e=>e.layout.margin),yt=e=>e.layout.layoutType,ep=()=>Ie(yt),q4={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},__=Rn({name:"legend",initialState:q4,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=ao(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:lC,setLegendSettings:U4,addLegendPayload:T_,removeLegendPayload:A_}=__.actions,H4=__.reducer,F4=["contextPayload"];function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ny.apply(null,arguments)}function sC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Wl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(n),!0).forEach(function(i){ev(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ev(e,t,n){return(t=K4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K4(e){var t=Y4(e,"string");return typeof t=="symbol"?t:t+""}function Y4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V4(e,t){if(e==null)return{};var n,i,s=G4(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function G4(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function X4(e){return e.value}function Q4(e){var{contextPayload:t}=e,n=V4(e,F4),i=Uz(t,e.payloadUniqBy,X4),s=Wl(Wl({},n),{},{payload:i});return x.isValidElement(e.content)?x.cloneElement(e.content,s):typeof e.content=="function"?x.createElement(e.content,s):x.createElement(Ix,s)}function Z4(e,t,n,i,s,c){var{layout:d,align:p,verticalAlign:m}=t,g,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(p==="center"&&d==="vertical"?g={left:((i||0)-c.width)/2}:g=p==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?h={top:((s||0)-c.height)/2}:h=m==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Wl(Wl({},g),h)}function J4(e){var t=ar();return x.useEffect(()=>{t(U4(e))},[t,e]),null}function e3(e){var t=ar();return x.useEffect(()=>(t(lC(e)),()=>{t(lC({width:0,height:0}))}),[t,e]),null}function t3(e){var t=n$(),n=y5(),i=I4(),{width:s,height:c,wrapperStyle:d,portal:p}=e,[m,g]=Vz([t]),h=Zx(),v=Jx();if(h==null||v==null)return null;var S=h-(i.left||0)-(i.right||0),j=Ma.getWidthOrHeight(e.layout,c,s,S),k=p?d:Wl(Wl({position:"absolute",width:j?.width||s||"auto",height:j?.height||c||"auto"},Z4(d,e,i,h,v,m)),d),w=p??n;if(w==null)return null;var C=x.createElement("div",{className:"recharts-legend-wrapper",style:k,ref:g},x.createElement(J4,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(e3,{width:m.width,height:m.height}),x.createElement(Q4,Ny({},e,j,{margin:i,chartWidth:h,chartHeight:v,contextPayload:t})));return Yd.createPortal(C,w)}class Ma extends x.PureComponent{static getWidthOrHeight(t,n,i,s){return t==="vertical"&&Ge(n)?{height:n}:t==="horizontal"?{width:i||s}:null}render(){return x.createElement(t3,this.props)}}ev(Ma,"displayName","Legend");ev(Ma,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ly.apply(null,arguments)}function cC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Nh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(n),!0).forEach(function(i){r3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function r3(e,t,n){return(t=n3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n3(e){var t=i3(e,"string");return typeof t=="symbol"?t:t+""}function i3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o3(e){return Array.isArray(e)&&Ei(e[0])&&Ei(e[1])?e.join(" ~ "):e}var a3=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:i={},labelStyle:s={},payload:c,formatter:d,itemSorter:p,wrapperClassName:m,labelClassName:g,label:h,labelFormatter:v,accessibilityLayer:S=!1}=e,j=()=>{if(c&&c.length){var O={padding:0,margin:0},P=(p?Hf(c,p):c).map((R,U)=>{if(R.type==="none")return null;var ee=R.formatter||d||o3,{value:fe,name:de}=R,re=fe,Se=de;if(ee){var he=ee(fe,de,R,U,c);if(Array.isArray(he))[re,Se]=he;else if(he!=null)re=he;else return null}var ge=Nh({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},i);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:ge},Ei(Se)?x.createElement("span",{className:"recharts-tooltip-item-name"},Se):null,Ei(Se)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},re),x.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:O},P)}return null},k=Nh({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=Nh({margin:0},s),C=!rr(h),_=C?h:"",E=St("recharts-default-tooltip",m),A=St("recharts-tooltip-label",g);C&&v&&c!==void 0&&c!==null&&(_=v(h,c));var T=S?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Ly({className:E,style:k},T),x.createElement("p",{className:A,style:w},x.isValidElement(_)?_:"".concat(_)),j())},ec="recharts-tooltip-wrapper",l3={visibility:"hidden"};function s3(e){var{coordinate:t,translateX:n,translateY:i}=e;return St(ec,{["".concat(ec,"-right")]:Ge(n)&&t&&Ge(t.x)&&n>=t.x,["".concat(ec,"-left")]:Ge(n)&&t&&Ge(t.x)&&n<t.x,["".concat(ec,"-bottom")]:Ge(i)&&t&&Ge(t.y)&&i>=t.y,["".concat(ec,"-top")]:Ge(i)&&t&&Ge(t.y)&&i<t.y})}function uC(e){var{allowEscapeViewBox:t,coordinate:n,key:i,offsetTopLeft:s,position:c,reverseDirection:d,tooltipDimension:p,viewBox:m,viewBoxDimension:g}=e;if(c&&Ge(c[i]))return c[i];var h=n[i]-p-(s>0?s:0),v=n[i]+s;if(t[i])return d[i]?h:v;var S=m[i];if(S==null)return 0;if(d[i]){var j=h,k=S;return j<k?Math.max(v,S):Math.max(h,S)}if(g==null)return 0;var w=v+p,C=S+g;return w>C?Math.max(h,S):Math.max(v,S)}function c3(e){var{translateX:t,translateY:n,useTranslate3d:i}=e;return{transform:i?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function u3(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:i,position:s,reverseDirection:c,tooltipBox:d,useTranslate3d:p,viewBox:m}=e,g,h,v;return d.height>0&&d.width>0&&n?(h=uC({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:i,position:s,reverseDirection:c,tooltipDimension:d.width,viewBox:m,viewBoxDimension:m.width}),v=uC({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:i,position:s,reverseDirection:c,tooltipDimension:d.height,viewBox:m,viewBoxDimension:m.height}),g=c3({translateX:h,translateY:v,useTranslate3d:p})):g=l3,{cssProperties:g,cssClasses:s3({translateX:h,translateY:v,coordinate:n})}}function dC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Sd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(n),!0).forEach(function(i){Wy(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Wy(e,t,n){return(t=d3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d3(e){var t=f3(e,"string");return typeof t=="symbol"?t:t+""}function f3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class p3 extends x.PureComponent{constructor(){super(...arguments),Wy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Wy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,i,s,c;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0,y:(s=(c=this.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,children:c,coordinate:d,hasPayload:p,isAnimationActive:m,offset:g,position:h,reverseDirection:v,useTranslate3d:S,viewBox:j,wrapperStyle:k,lastBoundingBox:w,innerRef:C,hasPortalFromProps:_}=this.props,{cssClasses:E,cssProperties:A}=u3({allowEscapeViewBox:n,coordinate:d,offsetTopLeft:g,position:h,reverseDirection:v,tooltipBox:{height:w.height,width:w.width},useTranslate3d:S,viewBox:j}),T=_?{}:Sd(Sd({transition:m&&t?"transform ".concat(i,"ms ").concat(s):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&p?"visible":"hidden",position:"absolute",top:0,left:0}),O=Sd(Sd({},T),{},{visibility:!this.state.dismissed&&t&&p?"visible":"hidden"},k);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:O,ref:C},c)}}var g3=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),oa={devToolsEnabled:!1,isSsr:g3()},E_=()=>Ie(e=>e.rootProps.accessibilityLayer);function Mn(e){return Number.isFinite(e)}function Bl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},By.apply(null,arguments)}function fC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function pC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(n),!0).forEach(function(i){m3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function m3(e,t,n){return(t=h3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h3(e){var t=y3(e,"string");return typeof t=="symbol"?t:t+""}function y3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gC={curveBasisClosed:$5,curveBasisOpen:N5,curveBasis:P5,curveBumpX:S5,curveBumpY:j5,curveLinearClosed:L5,curveLinear:qf,curveMonotoneX:W5,curveMonotoneY:B5,curveNatural:I5,curveStep:q5,curveStepAfter:H5,curveStepBefore:U5},jd=e=>Mn(e.x)&&Mn(e.y),tc=e=>e.x,rc=e=>e.y,x3=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Pc(e));return(n==="curveMonotone"||n==="curveBump")&&t?gC["".concat(n).concat(t==="vertical"?"Y":"X")]:gC[n]||qf},v3=e=>{var{type:t="linear",points:n=[],baseLine:i,layout:s,connectNulls:c=!1}=e,d=x3(t,s),p=c?n.filter(jd):n,m;if(Array.isArray(i)){var g=c?i.filter(v=>jd(v)):i,h=p.map((v,S)=>pC(pC({},v),{},{base:g[S]}));return s==="vertical"?m=gd().y(rc).x1(tc).x0(v=>v.base.x):m=gd().x(tc).y1(rc).y0(v=>v.base.y),m.defined(jd).curve(d),m(h)}return s==="vertical"&&Ge(i)?m=gd().y(rc).x1(tc).x0(i):Ge(i)?m=gd().x(tc).y1(rc).y0(i):m=wz().x(tc).y(rc),m.defined(jd).curve(d),m(p)},tv=e=>{var{className:t,points:n,path:i,pathRef:s}=e;if((!n||!n.length)&&!i)return null;var c=n&&n.length?v3(e):i;return x.createElement("path",By({},Di(e),Rx(e),{className:St("recharts-curve",t),d:c===null?void 0:c,ref:s}))},b3=["x","y","top","left","width","height","className"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Iy.apply(null,arguments)}function mC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function S3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(n),!0).forEach(function(i){j3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function j3(e,t,n){return(t=w3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w3(e){var t=C3(e,"string");return typeof t=="symbol"?t:t+""}function C3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k3(e,t){if(e==null)return{};var n,i,s=z3(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function z3(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var _3=(e,t,n,i,s,c)=>"M".concat(e,",").concat(s,"v").concat(i,"M").concat(c,",").concat(t,"h").concat(n),T3=e=>{var{x:t=0,y:n=0,top:i=0,left:s=0,width:c=0,height:d=0,className:p}=e,m=k3(e,b3),g=S3({x:t,y:n,top:i,left:s,width:c,height:d},m);return!Ge(t)||!Ge(n)||!Ge(c)||!Ge(d)||!Ge(i)||!Ge(s)?null:x.createElement("path",Iy({},or(g,!0),{className:St("recharts-cross",p),d:_3(t,n,c,d,i,s)}))};function A3(e,t,n,i){var s=i/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?i:n.width-1,height:e==="horizontal"?n.height-1:i}}function hC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function E3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(n),!0).forEach(function(i){O3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function O3(e,t,n){return(t=M3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M3(e){var t=R3(e,"string");return typeof t=="symbol"?t:t+""}function R3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fr(e,t){var n=E3({},e),i=t,s=Object.keys(t),c=s.reduce((d,p)=>(d[p]===void 0&&i[p]!==void 0&&(d[p]=i[p]),d),n);return c}function D3(){}function yC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function xC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(n),!0).forEach(function(i){P3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function P3(e,t,n){return(t=$3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $3(e){var t=N3(e,"string");return typeof t=="symbol"?t:t+""}function N3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L3=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),O_=(e,t,n)=>e.map(i=>"".concat(L3(i)," ").concat(t,"ms ").concat(n)).join(","),W3=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,i)=>n.filter(s=>i.includes(s))),wc=(e,t)=>Object.keys(t).reduce((n,i)=>xC(xC({},n),{},{[i]:e(i,t[i])}),{});function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(n),!0).forEach(function(i){B3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function B3(e,t,n){return(t=I3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I3(e){var t=q3(e,"string");return typeof t=="symbol"?t:t+""}function q3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sf=(e,t,n)=>e+(t-e)*n,qy=e=>{var{from:t,to:n}=e;return t!==n},M_=(e,t,n)=>{var i=wc((s,c)=>{if(qy(c)){var[d,p]=e(c.from,c.to,c.velocity);return Ur(Ur({},c),{},{from:d,velocity:p})}return c},t);return n<1?wc((s,c)=>qy(c)?Ur(Ur({},c),{},{velocity:sf(c.velocity,i[s].velocity,n),from:sf(c.from,i[s].from,n)}):c,t):M_(e,i,n-1)};function U3(e,t,n,i,s,c){var d,p=i.reduce((S,j)=>Ur(Ur({},S),{},{[j]:{from:e[j],velocity:0,to:t[j]}}),{}),m=()=>wc((S,j)=>j.from,p),g=()=>!Object.values(p).filter(qy).length,h=null,v=S=>{d||(d=S);var j=S-d,k=j/n.dt;p=M_(n,p,k),s(Ur(Ur(Ur({},e),t),m())),d=S,g()||(h=c.setTimeout(v))};return()=>(h=c.setTimeout(v),()=>{h()})}function H3(e,t,n,i,s,c,d){var p=null,m=s.reduce((v,S)=>Ur(Ur({},v),{},{[S]:[e[S],t[S]]}),{}),g,h=v=>{g||(g=v);var S=(v-g)/i,j=wc((w,C)=>sf(...C,n(S)),m);if(c(Ur(Ur(Ur({},e),t),j)),S<1)p=d.setTimeout(h);else{var k=wc((w,C)=>sf(...C,n(1)),m);c(Ur(Ur(Ur({},e),t),k))}};return()=>(p=d.setTimeout(h),()=>{p()})}const F3=(e,t,n,i,s,c)=>{var d=W3(e,t);return n.isStepper===!0?U3(e,t,n,d,s,c):H3(e,t,n,i,d,s,c)};var cf=1e-4,R_=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],D_=(e,t)=>e.map((n,i)=>n*t**i).reduce((n,i)=>n+i),bC=(e,t)=>n=>{var i=R_(e,t);return D_(i,n)},K3=(e,t)=>n=>{var i=R_(e,t),s=[...i.map((c,d)=>c*d).slice(1),0];return D_(s,n)},SC=function(){for(var t,n,i,s,c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];if(d.length===1)switch(d[0]){case"linear":[t,i,n,s]=[0,0,1,1];break;case"ease":[t,i,n,s]=[.25,.1,.25,1];break;case"ease-in":[t,i,n,s]=[.42,0,1,1];break;case"ease-out":[t,i,n,s]=[.42,0,.58,1];break;case"ease-in-out":[t,i,n,s]=[0,0,.58,1];break;default:{var m=d[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([t,i,n,s]=m[1].split(")")[0].split(",").map(k=>parseFloat(k)))}}else d.length===4&&([t,i,n,s]=d);var g=bC(t,n),h=bC(i,s),v=K3(t,n),S=k=>k>1?1:k<0?0:k,j=k=>{for(var w=k>1?1:k,C=w,_=0;_<8;++_){var E=g(C)-w,A=v(C);if(Math.abs(E-w)<cf||A<cf)return h(C);C=S(C-E/A)}return h(C)};return j.isStepper=!1,j},Y3=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:s=17}=t,c=(d,p,m)=>{var g=-(d-p)*n,h=m*i,v=m+(g-h)*s/1e3,S=m*s/1e3+d;return Math.abs(S-p)<cf&&Math.abs(v)<cf?[p,0]:[S,v]};return c.isStepper=!0,c.dt=s,c},V3=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SC(e);case"spring":return Y3();default:if(e.split("(")[0]==="cubic-bezier")return SC(e)}return typeof e=="function"?e:null};function G3(e){var t,n=()=>null,i=!1,s=null,c=d=>{if(!i){if(Array.isArray(d)){if(!d.length)return;var p=d,[m,...g]=p;if(typeof m=="number"){s=e.setTimeout(c.bind(null,g),m);return}c(m),s=e.setTimeout(c.bind(null,g));return}typeof d=="string"&&(t=d,n(t)),typeof d=="object"&&(t=d,n(t)),typeof d=="function"&&d()}};return{stop:()=>{i=!0},start:d=>{i=!1,s&&(s(),s=null),c(d)},subscribe:d=>(n=d,()=>{n=()=>null}),getTimeoutController:()=>e}}class X3{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),s=null,c=d=>{d-i>=n?t(d):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(c))};return s=requestAnimationFrame(c),()=>{cancelAnimationFrame(s)}}}function Q3(){return G3(new X3)}var Z3=x.createContext(Q3);function J3(e,t){var n=x.useContext(Z3);return x.useMemo(()=>t??n(e),[e,t,n])}var e6={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},jC={t:0},Lh={t:1};function Bc(e){var t=Fr(e,e6),{isActive:n,canBegin:i,duration:s,easing:c,begin:d,onAnimationEnd:p,onAnimationStart:m,children:g}=t,h=J3(t.animationId,t.animationManager),[v,S]=x.useState(n?jC:Lh),j=x.useRef(null);return x.useEffect(()=>{n||S(Lh)},[n]),x.useEffect(()=>{if(!n||!i)return D3;var k=F3(jC,Lh,V3(c),s,S,h.getTimeoutController()),w=()=>{j.current=k()};return h.start([m,d,w,s,p]),()=>{h.stop(),j.current&&j.current(),p()}},[n,i,s,c,d,m,p,h]),g(v.t)}function Ic(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(vc(t)),i=x.useRef(e);return i.current!==e&&(n.current=vc(t),i.current=e),n.current}function wC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function CC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(n),!0).forEach(function(i){t6(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function t6(e,t,n){return(t=r6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r6(e){var t=n6(e,"string");return typeof t=="symbol"?t:t+""}function n6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},uf.apply(null,arguments)}var kC=(e,t,n,i,s)=>{var c=Math.min(Math.abs(n)/2,Math.abs(i)/2),d=i>=0?1:-1,p=n>=0?1:-1,m=i>=0&&n>=0||i<0&&n<0?1:0,g;if(c>0&&s instanceof Array){for(var h=[0,0,0,0],v=0,S=4;v<S;v++)h[v]=s[v]>c?c:s[v];g="M".concat(e,",").concat(t+d*h[0]),h[0]>0&&(g+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(m,",").concat(e+p*h[0],",").concat(t)),g+="L ".concat(e+n-p*h[1],",").concat(t),h[1]>0&&(g+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(m,`,
        `).concat(e+n,",").concat(t+d*h[1])),g+="L ".concat(e+n,",").concat(t+i-d*h[2]),h[2]>0&&(g+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(m,`,
        `).concat(e+n-p*h[2],",").concat(t+i)),g+="L ".concat(e+p*h[3],",").concat(t+i),h[3]>0&&(g+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+i-d*h[3])),g+="Z"}else if(c>0&&s===+s&&s>0){var j=Math.min(c,s);g="M ".concat(e,",").concat(t+d*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+p*j,",").concat(t,`
            L `).concat(e+n-p*j,",").concat(t,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+n,",").concat(t+d*j,`
            L `).concat(e+n,",").concat(t+i-d*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+n-p*j,",").concat(t+i,`
            L `).concat(e+p*j,",").concat(t+i,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e,",").concat(t+i-d*j," Z")}else g="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return g},i6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},P_=e=>{var t=Fr(e,i6),n=x.useRef(null),[i,s]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var he=n.current.getTotalLength();he&&s(he)}catch{}},[]);var{x:c,y:d,width:p,height:m,radius:g,className:h}=t,{animationEasing:v,animationDuration:S,animationBegin:j,isAnimationActive:k,isUpdateAnimationActive:w}=t,C=x.useRef(p),_=x.useRef(m),E=x.useRef(c),A=x.useRef(d),T=x.useMemo(()=>({x:c,y:d,width:p,height:m,radius:g}),[c,d,p,m,g]),O=Ic(T,"rectangle-");if(c!==+c||d!==+d||p!==+p||m!==+m||p===0||m===0)return null;var P=St("recharts-rectangle",h);if(!w)return x.createElement("path",uf({},or(t,!0),{className:P,d:kC(c,d,p,m,g)}));var R=C.current,U=_.current,ee=E.current,fe=A.current,de="0px ".concat(i===-1?1:i,"px"),re="".concat(i,"px 0px"),Se=O_(["strokeDasharray"],S,typeof v=="string"?v:void 0);return x.createElement(Bc,{animationId:O,key:O,canBegin:i>0,duration:S,easing:v,isActive:w,begin:j},he=>{var ge=dr(R,p,he),F=dr(U,m,he),Y=dr(ee,c,he),me=dr(fe,d,he);n.current&&(C.current=ge,_.current=F,E.current=Y,A.current=me);var be;return k?he>0?be={transition:Se,strokeDasharray:re}:be={strokeDasharray:de}:be={strokeDasharray:re},x.createElement("path",uf({},or(t,!0),{className:P,d:kC(Y,me,ge,F,g),ref:n,style:CC(CC({},be),t.style)}))})};function $_(e){var{cx:t,cy:n,radius:i,startAngle:s,endAngle:c}=e,d=jr(t,n,i,s),p=jr(t,n,i,c);return{points:[d,p],cx:t,cy:n,radius:i,startAngle:s,endAngle:c}}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Uy.apply(null,arguments)}var o6=(e,t)=>{var n=Dr(t-e),i=Math.min(Math.abs(t-e),359.999);return n*i},wd=e=>{var{cx:t,cy:n,radius:i,angle:s,sign:c,isExternal:d,cornerRadius:p,cornerIsExternal:m}=e,g=p*(d?1:-1)+i,h=Math.asin(p/g)/lf,v=m?s:s+c*h,S=jr(t,n,g,v),j=jr(t,n,i,v),k=m?s-c*h:s,w=jr(t,n,g*Math.cos(h*lf),k);return{center:S,circleTangency:j,lineTangency:w,theta:h}},N_=e=>{var{cx:t,cy:n,innerRadius:i,outerRadius:s,startAngle:c,endAngle:d}=e,p=o6(c,d),m=c+p,g=jr(t,n,s,c),h=jr(t,n,s,m),v="M ".concat(g.x,",").concat(g.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(p)>180),",").concat(+(c>m),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var S=jr(t,n,i,c),j=jr(t,n,i,m);v+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(p)>180),",").concat(+(c<=m),`,
            `).concat(S.x,",").concat(S.y," Z")}else v+="L ".concat(t,",").concat(n," Z");return v},a6=e=>{var{cx:t,cy:n,innerRadius:i,outerRadius:s,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:p,startAngle:m,endAngle:g}=e,h=Dr(g-m),{circleTangency:v,lineTangency:S,theta:j}=wd({cx:t,cy:n,radius:s,angle:m,sign:h,cornerRadius:c,cornerIsExternal:p}),{circleTangency:k,lineTangency:w,theta:C}=wd({cx:t,cy:n,radius:s,angle:g,sign:-h,cornerRadius:c,cornerIsExternal:p}),_=p?Math.abs(m-g):Math.abs(m-g)-j-C;if(_<0)return d?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):N_({cx:t,cy:n,innerRadius:i,outerRadius:s,startAngle:m,endAngle:g});var E="M ".concat(S.x,",").concat(S.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var{circleTangency:A,lineTangency:T,theta:O}=wd({cx:t,cy:n,radius:i,angle:m,sign:h,isExternal:!0,cornerRadius:c,cornerIsExternal:p}),{circleTangency:P,lineTangency:R,theta:U}=wd({cx:t,cy:n,radius:i,angle:g,sign:-h,isExternal:!0,cornerRadius:c,cornerIsExternal:p}),ee=p?Math.abs(m-g):Math.abs(m-g)-O-U;if(ee<0&&c===0)return"".concat(E,"L").concat(t,",").concat(n,"Z");E+="L".concat(R.x,",").concat(R.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ee>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(t,",").concat(n,"Z");return E},l6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},L_=e=>{var t=Fr(e,l6),{cx:n,cy:i,innerRadius:s,outerRadius:c,cornerRadius:d,forceCornerRadius:p,cornerIsExternal:m,startAngle:g,endAngle:h,className:v}=t;if(c<s||g===h)return null;var S=St("recharts-sector",v),j=c-s,k=Gr(d,j,0,!0),w;return k>0&&Math.abs(g-h)<360?w=a6({cx:n,cy:i,innerRadius:s,outerRadius:c,cornerRadius:Math.min(k,j/2),forceCornerRadius:p,cornerIsExternal:m,startAngle:g,endAngle:h}):w=N_({cx:n,cy:i,innerRadius:s,outerRadius:c,startAngle:g,endAngle:h}),x.createElement("path",Uy({},or(t,!0),{className:S,d:w}))};function s6(e,t,n){var i,s,c,d;if(e==="horizontal")i=t.x,c=i,s=n.top,d=n.top+n.height;else if(e==="vertical")s=t.y,d=s,i=n.left,c=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:p,cy:m,innerRadius:g,outerRadius:h,angle:v}=t,S=jr(p,m,g,v),j=jr(p,m,h,v);i=S.x,s=S.y,c=j.x,d=j.y}else return $_(t);return[{x:i,y:s},{x:c,y:d}]}var Wh={},Bh={},Ih={},zC;function c6(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fz();function n(i){return t.isSymbol(i)?NaN:Number(i)}e.toNumber=n})(Ih)),Ih}var _C;function u6(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c6();function n(i){return i?(i=t.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}e.toFinite=n})(Bh)),Bh}var TC;function d6(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kz(),n=u6();function i(s,c,d){d&&typeof d!="number"&&t.isIterateeCall(s,c,d)&&(c=d=void 0),s=n.toFinite(s),c===void 0?(c=s,s=0):c=n.toFinite(c),d=d===void 0?s<c?1:-1:n.toFinite(d);const p=Math.max(Math.ceil((c-s)/(d||1)),0),m=new Array(p);for(let g=0;g<p;g++)m[g]=s,s+=d;return m}e.range=i})(Wh)),Wh}var qh,AC;function f6(){return AC||(AC=1,qh=d6().range),qh}var p6=f6();const W_=ho(p6);function Xo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function g6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rv(e){let t,n,i;e.length!==2?(t=Xo,n=(p,m)=>Xo(e(p),m),i=(p,m)=>e(p)-m):(t=e===Xo||e===g6?e:m6,n=e,i=e);function s(p,m,g=0,h=p.length){if(g<h){if(t(m,m)!==0)return h;do{const v=g+h>>>1;n(p[v],m)<0?g=v+1:h=v}while(g<h)}return g}function c(p,m,g=0,h=p.length){if(g<h){if(t(m,m)!==0)return h;do{const v=g+h>>>1;n(p[v],m)<=0?g=v+1:h=v}while(g<h)}return g}function d(p,m,g=0,h=p.length){const v=s(p,m,g,h-1);return v>g&&i(p[v-1],m)>-i(p[v],m)?v-1:v}return{left:s,center:d,right:c}}function m6(){return 0}function B_(e){return e===null?NaN:+e}function*h6(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const y6=rv(Xo),qc=y6.right;rv(B_).center;class EC extends Map{constructor(t,n=b6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,s]of t)this.set(i,s)}get(t){return super.get(OC(this,t))}has(t){return super.has(OC(this,t))}set(t,n){return super.set(x6(this,t),n)}delete(t){return super.delete(v6(this,t))}}function OC({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function x6({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function v6({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function b6(e){return e!==null&&typeof e=="object"?e.valueOf():e}function S6(e=Xo){if(e===Xo)return I_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function I_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const j6=Math.sqrt(50),w6=Math.sqrt(10),C6=Math.sqrt(2);function df(e,t,n){const i=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(i)),c=i/Math.pow(10,s),d=c>=j6?10:c>=w6?5:c>=C6?2:1;let p,m,g;return s<0?(g=Math.pow(10,-s)/d,p=Math.round(e*g),m=Math.round(t*g),p/g<e&&++p,m/g>t&&--m,g=-g):(g=Math.pow(10,s)*d,p=Math.round(e/g),m=Math.round(t/g),p*g<e&&++p,m*g>t&&--m),m<p&&.5<=n&&n<2?df(e,t,n*2):[p,m,g]}function Hy(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[s,c,d]=i?df(t,e,n):df(e,t,n);if(!(c>=s))return[];const p=c-s+1,m=new Array(p);if(i)if(d<0)for(let g=0;g<p;++g)m[g]=(c-g)/-d;else for(let g=0;g<p;++g)m[g]=(c-g)*d;else if(d<0)for(let g=0;g<p;++g)m[g]=(s+g)/-d;else for(let g=0;g<p;++g)m[g]=(s+g)*d;return m}function Fy(e,t,n){return t=+t,e=+e,n=+n,df(e,t,n)[2]}function Ky(e,t,n){t=+t,e=+e,n=+n;const i=t<e,s=i?Fy(t,e,n):Fy(e,t,n);return(i?-1:1)*(s<0?1/-s:s)}function MC(e,t){let n;for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function RC(e,t){let n;for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function q_(e,t,n=0,i=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(s=s===void 0?I_:S6(s);i>n;){if(i-n>600){const m=i-n+1,g=t-n+1,h=Math.log(m),v=.5*Math.exp(2*h/3),S=.5*Math.sqrt(h*v*(m-v)/m)*(g-m/2<0?-1:1),j=Math.max(n,Math.floor(t-g*v/m+S)),k=Math.min(i,Math.floor(t+(m-g)*v/m+S));q_(e,t,j,k,s)}const c=e[t];let d=n,p=i;for(nc(e,n,t),s(e[i],c)>0&&nc(e,n,i);d<p;){for(nc(e,d,p),++d,--p;s(e[d],c)<0;)++d;for(;s(e[p],c)>0;)--p}s(e[n],c)===0?nc(e,n,p):(++p,nc(e,p,i)),p<=t&&(n=p+1),t<=p&&(i=p-1)}return e}function nc(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function k6(e,t,n){if(e=Float64Array.from(h6(e)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return RC(e);if(t>=1)return MC(e);var i,s=(i-1)*t,c=Math.floor(s),d=MC(q_(e,c).subarray(0,c+1)),p=RC(e.subarray(c+1));return d+(p-d)*(s-c)}}function z6(e,t,n=B_){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,s=(i-1)*t,c=Math.floor(s),d=+n(e[c],c,e),p=+n(e[c+1],c+1,e);return d+(p-d)*(s-c)}}function _6(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var i=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,c=new Array(s);++i<s;)c[i]=e+i*n;return c}function ni(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function vo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Yy=Symbol("implicit");function nv(){var e=new EC,t=[],n=[],i=Yy;function s(c){let d=e.get(c);if(d===void 0){if(i!==Yy)return i;e.set(c,d=t.push(c)-1)}return n[d%n.length]}return s.domain=function(c){if(!arguments.length)return t.slice();t=[],e=new EC;for(const d of c)e.has(d)||e.set(d,t.push(d)-1);return s},s.range=function(c){return arguments.length?(n=Array.from(c),s):n.slice()},s.unknown=function(c){return arguments.length?(i=c,s):i},s.copy=function(){return nv(t,n).unknown(i)},ni.apply(s,arguments),s}function iv(){var e=nv().unknown(void 0),t=e.domain,n=e.range,i=0,s=1,c,d,p=!1,m=0,g=0,h=.5;delete e.unknown;function v(){var S=t().length,j=s<i,k=j?s:i,w=j?i:s;c=(w-k)/Math.max(1,S-m+g*2),p&&(c=Math.floor(c)),k+=(w-k-c*(S-m))*h,d=c*(1-m),p&&(k=Math.round(k),d=Math.round(d));var C=_6(S).map(function(_){return k+c*_});return n(j?C.reverse():C)}return e.domain=function(S){return arguments.length?(t(S),v()):t()},e.range=function(S){return arguments.length?([i,s]=S,i=+i,s=+s,v()):[i,s]},e.rangeRound=function(S){return[i,s]=S,i=+i,s=+s,p=!0,v()},e.bandwidth=function(){return d},e.step=function(){return c},e.round=function(S){return arguments.length?(p=!!S,v()):p},e.padding=function(S){return arguments.length?(m=Math.min(1,g=+S),v()):m},e.paddingInner=function(S){return arguments.length?(m=Math.min(1,S),v()):m},e.paddingOuter=function(S){return arguments.length?(g=+S,v()):g},e.align=function(S){return arguments.length?(h=Math.max(0,Math.min(1,S)),v()):h},e.copy=function(){return iv(t(),[i,s]).round(p).paddingInner(m).paddingOuter(g).align(h)},ni.apply(v(),arguments)}function U_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return U_(t())},e}function T6(){return U_(iv.apply(null,arguments).paddingInner(1))}function ov(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function H_(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Uc(){}var Cc=.7,ff=1/Cc,$l="\\s*([+-]?\\d+)\\s*",kc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ai="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",A6=/^#([0-9a-f]{3,8})$/,E6=new RegExp(`^rgb\\(${$l},${$l},${$l}\\)$`),O6=new RegExp(`^rgb\\(${Ai},${Ai},${Ai}\\)$`),M6=new RegExp(`^rgba\\(${$l},${$l},${$l},${kc}\\)$`),R6=new RegExp(`^rgba\\(${Ai},${Ai},${Ai},${kc}\\)$`),D6=new RegExp(`^hsl\\(${kc},${Ai},${Ai}\\)$`),P6=new RegExp(`^hsla\\(${kc},${Ai},${Ai},${kc}\\)$`),DC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ov(Uc,zc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PC,formatHex:PC,formatHex8:$6,formatHsl:N6,formatRgb:$C,toString:$C});function PC(){return this.rgb().formatHex()}function $6(){return this.rgb().formatHex8()}function N6(){return F_(this).formatHsl()}function $C(){return this.rgb().formatRgb()}function zc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=A6.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?NC(t):n===3?new pn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Cd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Cd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=E6.exec(e))?new pn(t[1],t[2],t[3],1):(t=O6.exec(e))?new pn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=M6.exec(e))?Cd(t[1],t[2],t[3],t[4]):(t=R6.exec(e))?Cd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=D6.exec(e))?BC(t[1],t[2]/100,t[3]/100,1):(t=P6.exec(e))?BC(t[1],t[2]/100,t[3]/100,t[4]):DC.hasOwnProperty(e)?NC(DC[e]):e==="transparent"?new pn(NaN,NaN,NaN,0):null}function NC(e){return new pn(e>>16&255,e>>8&255,e&255,1)}function Cd(e,t,n,i){return i<=0&&(e=t=n=NaN),new pn(e,t,n,i)}function L6(e){return e instanceof Uc||(e=zc(e)),e?(e=e.rgb(),new pn(e.r,e.g,e.b,e.opacity)):new pn}function Vy(e,t,n,i){return arguments.length===1?L6(e):new pn(e,t,n,i??1)}function pn(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}ov(pn,Vy,H_(Uc,{brighter(e){return e=e==null?ff:Math.pow(ff,e),new pn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cc:Math.pow(Cc,e),new pn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pn(La(this.r),La(this.g),La(this.b),pf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LC,formatHex:LC,formatHex8:W6,formatRgb:WC,toString:WC}));function LC(){return`#${Ra(this.r)}${Ra(this.g)}${Ra(this.b)}`}function W6(){return`#${Ra(this.r)}${Ra(this.g)}${Ra(this.b)}${Ra((isNaN(this.opacity)?1:this.opacity)*255)}`}function WC(){const e=pf(this.opacity);return`${e===1?"rgb(":"rgba("}${La(this.r)}, ${La(this.g)}, ${La(this.b)}${e===1?")":`, ${e})`}`}function pf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function La(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ra(e){return e=La(e),(e<16?"0":"")+e.toString(16)}function BC(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pi(e,t,n,i)}function F_(e){if(e instanceof pi)return new pi(e.h,e.s,e.l,e.opacity);if(e instanceof Uc||(e=zc(e)),!e)return new pi;if(e instanceof pi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(t,n,i),c=Math.max(t,n,i),d=NaN,p=c-s,m=(c+s)/2;return p?(t===c?d=(n-i)/p+(n<i)*6:n===c?d=(i-t)/p+2:d=(t-n)/p+4,p/=m<.5?c+s:2-c-s,d*=60):p=m>0&&m<1?0:d,new pi(d,p,m,e.opacity)}function B6(e,t,n,i){return arguments.length===1?F_(e):new pi(e,t,n,i??1)}function pi(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}ov(pi,B6,H_(Uc,{brighter(e){return e=e==null?ff:Math.pow(ff,e),new pi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cc:Math.pow(Cc,e),new pi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,s=2*n-i;return new pn(Uh(e>=240?e-240:e+120,s,i),Uh(e,s,i),Uh(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new pi(IC(this.h),kd(this.s),kd(this.l),pf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=pf(this.opacity);return`${e===1?"hsl(":"hsla("}${IC(this.h)}, ${kd(this.s)*100}%, ${kd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function IC(e){return e=(e||0)%360,e<0?e+360:e}function kd(e){return Math.max(0,Math.min(1,e||0))}function Uh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const av=e=>()=>e;function I6(e,t){return function(n){return e+n*t}}function q6(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function U6(e){return(e=+e)==1?K_:function(t,n){return n-t?q6(t,n,e):av(isNaN(t)?n:t)}}function K_(e,t){var n=t-e;return n?I6(e,n):av(isNaN(e)?t:e)}const qC=(function e(t){var n=U6(t);function i(s,c){var d=n((s=Vy(s)).r,(c=Vy(c)).r),p=n(s.g,c.g),m=n(s.b,c.b),g=K_(s.opacity,c.opacity);return function(h){return s.r=d(h),s.g=p(h),s.b=m(h),s.opacity=g(h),s+""}}return i.gamma=e,i})(1);function H6(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),s;return function(c){for(s=0;s<n;++s)i[s]=e[s]*(1-c)+t[s]*c;return i}}function F6(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function K6(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,s=new Array(i),c=new Array(n),d;for(d=0;d<i;++d)s[d]=es(e[d],t[d]);for(;d<n;++d)c[d]=t[d];return function(p){for(d=0;d<i;++d)c[d]=s[d](p);return c}}function Y6(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function gf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function V6(e,t){var n={},i={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=es(e[s],t[s]):i[s]=t[s];return function(c){for(s in n)i[s]=n[s](c);return i}}var Gy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hh=new RegExp(Gy.source,"g");function G6(e){return function(){return e}}function X6(e){return function(t){return e(t)+""}}function Q6(e,t){var n=Gy.lastIndex=Hh.lastIndex=0,i,s,c,d=-1,p=[],m=[];for(e=e+"",t=t+"";(i=Gy.exec(e))&&(s=Hh.exec(t));)(c=s.index)>n&&(c=t.slice(n,c),p[d]?p[d]+=c:p[++d]=c),(i=i[0])===(s=s[0])?p[d]?p[d]+=s:p[++d]=s:(p[++d]=null,m.push({i:d,x:gf(i,s)})),n=Hh.lastIndex;return n<t.length&&(c=t.slice(n),p[d]?p[d]+=c:p[++d]=c),p.length<2?m[0]?X6(m[0].x):G6(t):(t=m.length,function(g){for(var h=0,v;h<t;++h)p[(v=m[h]).i]=v.x(g);return p.join("")})}function es(e,t){var n=typeof t,i;return t==null||n==="boolean"?av(t):(n==="number"?gf:n==="string"?(i=zc(t))?(t=i,qC):Q6:t instanceof zc?qC:t instanceof Date?Y6:F6(t)?H6:Array.isArray(t)?K6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?V6:gf)(e,t)}function lv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Z6(e,t){t===void 0&&(t=e,e=es);for(var n=0,i=t.length-1,s=t[0],c=new Array(i<0?0:i);n<i;)c[n]=e(s,s=t[++n]);return function(d){var p=Math.max(0,Math.min(i-1,Math.floor(d*=i)));return c[p](d-p)}}function J6(e){return function(){return e}}function mf(e){return+e}var UC=[0,1];function rn(e){return e}function Xy(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:J6(isNaN(t)?NaN:.5)}function eN(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function tN(e,t,n){var i=e[0],s=e[1],c=t[0],d=t[1];return s<i?(i=Xy(s,i),c=n(d,c)):(i=Xy(i,s),c=n(c,d)),function(p){return c(i(p))}}function rN(e,t,n){var i=Math.min(e.length,t.length)-1,s=new Array(i),c=new Array(i),d=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++d<i;)s[d]=Xy(e[d],e[d+1]),c[d]=n(t[d],t[d+1]);return function(p){var m=qc(e,p,1,i)-1;return c[m](s[m](p))}}function Hc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function tp(){var e=UC,t=UC,n=es,i,s,c,d=rn,p,m,g;function h(){var S=Math.min(e.length,t.length);return d!==rn&&(d=eN(e[0],e[S-1])),p=S>2?rN:tN,m=g=null,v}function v(S){return S==null||isNaN(S=+S)?c:(m||(m=p(e.map(i),t,n)))(i(d(S)))}return v.invert=function(S){return d(s((g||(g=p(t,e.map(i),gf)))(S)))},v.domain=function(S){return arguments.length?(e=Array.from(S,mf),h()):e.slice()},v.range=function(S){return arguments.length?(t=Array.from(S),h()):t.slice()},v.rangeRound=function(S){return t=Array.from(S),n=lv,h()},v.clamp=function(S){return arguments.length?(d=S?!0:rn,h()):d!==rn},v.interpolate=function(S){return arguments.length?(n=S,h()):n},v.unknown=function(S){return arguments.length?(c=S,v):c},function(S,j){return i=S,s=j,h()}}function sv(){return tp()(rn,rn)}function nN(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function hf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Il(e){return e=hf(Math.abs(e)),e?e[1]:NaN}function iN(e,t){return function(n,i){for(var s=n.length,c=[],d=0,p=e[0],m=0;s>0&&p>0&&(m+p+1>i&&(p=Math.max(1,i-m)),c.push(n.substring(s-=p,s+p)),!((m+=p+1)>i));)p=e[d=(d+1)%e.length];return c.reverse().join(t)}}function oN(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var aN=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _c(e){if(!(t=aN.exec(e)))throw new Error("invalid format: "+e);var t;return new cv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_c.prototype=cv.prototype;function cv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}cv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lN(e){e:for(var t=e.length,n=1,i=-1,s;n<t;++n)switch(e[n]){case".":i=s=n;break;case"0":i===0&&(i=n),s=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(s+1):e}var Y_;function sN(e,t){var n=hf(e,t);if(!n)return e+"";var i=n[0],s=n[1],c=s-(Y_=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,d=i.length;return c===d?i:c>d?i+new Array(c-d+1).join("0"):c>0?i.slice(0,c)+"."+i.slice(c):"0."+new Array(1-c).join("0")+hf(e,Math.max(0,t+c-1))[0]}function HC(e,t){var n=hf(e,t);if(!n)return e+"";var i=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}const FC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nN,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>HC(e*100,t),r:HC,s:sN,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function KC(e){return e}var YC=Array.prototype.map,VC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cN(e){var t=e.grouping===void 0||e.thousands===void 0?KC:iN(YC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",c=e.numerals===void 0?KC:oN(YC.call(e.numerals,String)),d=e.percent===void 0?"%":e.percent+"",p=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function g(v){v=_c(v);var S=v.fill,j=v.align,k=v.sign,w=v.symbol,C=v.zero,_=v.width,E=v.comma,A=v.precision,T=v.trim,O=v.type;O==="n"?(E=!0,O="g"):FC[O]||(A===void 0&&(A=12),T=!0,O="g"),(C||S==="0"&&j==="=")&&(C=!0,S="0",j="=");var P=w==="$"?n:w==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",R=w==="$"?i:/[%p]/.test(O)?d:"",U=FC[O],ee=/[defgprs%]/.test(O);A=A===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function fe(de){var re=P,Se=R,he,ge,F;if(O==="c")Se=U(de)+Se,de="";else{de=+de;var Y=de<0||1/de<0;if(de=isNaN(de)?m:U(Math.abs(de),A),T&&(de=lN(de)),Y&&+de==0&&k!=="+"&&(Y=!1),re=(Y?k==="("?k:p:k==="-"||k==="("?"":k)+re,Se=(O==="s"?VC[8+Y_/3]:"")+Se+(Y&&k==="("?")":""),ee){for(he=-1,ge=de.length;++he<ge;)if(F=de.charCodeAt(he),48>F||F>57){Se=(F===46?s+de.slice(he+1):de.slice(he))+Se,de=de.slice(0,he);break}}}E&&!C&&(de=t(de,1/0));var me=re.length+de.length+Se.length,be=me<_?new Array(_-me+1).join(S):"";switch(E&&C&&(de=t(be+de,be.length?_-Se.length:1/0),be=""),j){case"<":de=re+de+Se+be;break;case"=":de=re+be+de+Se;break;case"^":de=be.slice(0,me=be.length>>1)+re+de+Se+be.slice(me);break;default:de=be+re+de+Se;break}return c(de)}return fe.toString=function(){return v+""},fe}function h(v,S){var j=g((v=_c(v),v.type="f",v)),k=Math.max(-8,Math.min(8,Math.floor(Il(S)/3)))*3,w=Math.pow(10,-k),C=VC[8+k/3];return function(_){return j(w*_)+C}}return{format:g,formatPrefix:h}}var zd,uv,V_;uN({thousands:",",grouping:[3],currency:["$",""]});function uN(e){return zd=cN(e),uv=zd.format,V_=zd.formatPrefix,zd}function dN(e){return Math.max(0,-Il(Math.abs(e)))}function fN(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Il(t)/3)))*3-Il(Math.abs(e)))}function pN(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Il(t)-Il(e))+1}function G_(e,t,n,i){var s=Ky(e,t,n),c;switch(i=_c(i??",f"),i.type){case"s":{var d=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(c=fN(s,d))&&(i.precision=c),V_(i,d)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(c=pN(s,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=c-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(c=dN(s))&&(i.precision=c-(i.type==="%")*2);break}}return uv(i)}function aa(e){var t=e.domain;return e.ticks=function(n){var i=t();return Hy(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var s=t();return G_(s[0],s[s.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),s=0,c=i.length-1,d=i[s],p=i[c],m,g,h=10;for(p<d&&(g=d,d=p,p=g,g=s,s=c,c=g);h-- >0;){if(g=Fy(d,p,n),g===m)return i[s]=d,i[c]=p,t(i);if(g>0)d=Math.floor(d/g)*g,p=Math.ceil(p/g)*g;else if(g<0)d=Math.ceil(d*g)/g,p=Math.floor(p*g)/g;else break;m=g}return e},e}function X_(){var e=sv();return e.copy=function(){return Hc(e,X_())},ni.apply(e,arguments),aa(e)}function Q_(e){var t;function n(i){return i==null||isNaN(i=+i)?t:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(e=Array.from(i,mf),n):e.slice()},n.unknown=function(i){return arguments.length?(t=i,n):t},n.copy=function(){return Q_(e).unknown(t)},e=arguments.length?Array.from(e,mf):[0,1],aa(n)}function Z_(e,t){e=e.slice();var n=0,i=e.length-1,s=e[n],c=e[i],d;return c<s&&(d=n,n=i,i=d,d=s,s=c,c=d),e[n]=t.floor(s),e[i]=t.ceil(c),e}function GC(e){return Math.log(e)}function XC(e){return Math.exp(e)}function gN(e){return-Math.log(-e)}function mN(e){return-Math.exp(-e)}function hN(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yN(e){return e===10?hN:e===Math.E?Math.exp:t=>Math.pow(e,t)}function xN(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function QC(e){return(t,n)=>-e(-t,n)}function dv(e){const t=e(GC,XC),n=t.domain;let i=10,s,c;function d(){return s=xN(i),c=yN(i),n()[0]<0?(s=QC(s),c=QC(c),e(gN,mN)):e(GC,XC),t}return t.base=function(p){return arguments.length?(i=+p,d()):i},t.domain=function(p){return arguments.length?(n(p),d()):n()},t.ticks=p=>{const m=n();let g=m[0],h=m[m.length-1];const v=h<g;v&&([g,h]=[h,g]);let S=s(g),j=s(h),k,w;const C=p==null?10:+p;let _=[];if(!(i%1)&&j-S<C){if(S=Math.floor(S),j=Math.ceil(j),g>0){for(;S<=j;++S)for(k=1;k<i;++k)if(w=S<0?k/c(-S):k*c(S),!(w<g)){if(w>h)break;_.push(w)}}else for(;S<=j;++S)for(k=i-1;k>=1;--k)if(w=S>0?k/c(-S):k*c(S),!(w<g)){if(w>h)break;_.push(w)}_.length*2<C&&(_=Hy(g,h,C))}else _=Hy(S,j,Math.min(j-S,C)).map(c);return v?_.reverse():_},t.tickFormat=(p,m)=>{if(p==null&&(p=10),m==null&&(m=i===10?"s":","),typeof m!="function"&&(!(i%1)&&(m=_c(m)).precision==null&&(m.trim=!0),m=uv(m)),p===1/0)return m;const g=Math.max(1,i*p/t.ticks().length);return h=>{let v=h/c(Math.round(s(h)));return v*i<i-.5&&(v*=i),v<=g?m(h):""}},t.nice=()=>n(Z_(n(),{floor:p=>c(Math.floor(s(p))),ceil:p=>c(Math.ceil(s(p)))})),t}function J_(){const e=dv(tp()).domain([1,10]);return e.copy=()=>Hc(e,J_()).base(e.base()),ni.apply(e,arguments),e}function ZC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function JC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fv(e){var t=1,n=e(ZC(t),JC(t));return n.constant=function(i){return arguments.length?e(ZC(t=+i),JC(t)):t},aa(n)}function eT(){var e=fv(tp());return e.copy=function(){return Hc(e,eT()).constant(e.constant())},ni.apply(e,arguments)}function ek(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vN(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bN(e){return e<0?-e*e:e*e}function pv(e){var t=e(rn,rn),n=1;function i(){return n===1?e(rn,rn):n===.5?e(vN,bN):e(ek(n),ek(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,i()):n},aa(t)}function gv(){var e=pv(tp());return e.copy=function(){return Hc(e,gv()).exponent(e.exponent())},ni.apply(e,arguments),e}function SN(){return gv.apply(null,arguments).exponent(.5)}function tk(e){return Math.sign(e)*e*e}function jN(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function tT(){var e=sv(),t=[0,1],n=!1,i;function s(c){var d=jN(e(c));return isNaN(d)?i:n?Math.round(d):d}return s.invert=function(c){return e.invert(tk(c))},s.domain=function(c){return arguments.length?(e.domain(c),s):e.domain()},s.range=function(c){return arguments.length?(e.range((t=Array.from(c,mf)).map(tk)),s):t.slice()},s.rangeRound=function(c){return s.range(c).round(!0)},s.round=function(c){return arguments.length?(n=!!c,s):n},s.clamp=function(c){return arguments.length?(e.clamp(c),s):e.clamp()},s.unknown=function(c){return arguments.length?(i=c,s):i},s.copy=function(){return tT(e.domain(),t).round(n).clamp(e.clamp()).unknown(i)},ni.apply(s,arguments),aa(s)}function rT(){var e=[],t=[],n=[],i;function s(){var d=0,p=Math.max(1,t.length);for(n=new Array(p-1);++d<p;)n[d-1]=z6(e,d/p);return c}function c(d){return d==null||isNaN(d=+d)?i:t[qc(n,d)]}return c.invertExtent=function(d){var p=t.indexOf(d);return p<0?[NaN,NaN]:[p>0?n[p-1]:e[0],p<n.length?n[p]:e[e.length-1]]},c.domain=function(d){if(!arguments.length)return e.slice();e=[];for(let p of d)p!=null&&!isNaN(p=+p)&&e.push(p);return e.sort(Xo),s()},c.range=function(d){return arguments.length?(t=Array.from(d),s()):t.slice()},c.unknown=function(d){return arguments.length?(i=d,c):i},c.quantiles=function(){return n.slice()},c.copy=function(){return rT().domain(e).range(t).unknown(i)},ni.apply(c,arguments)}function nT(){var e=0,t=1,n=1,i=[.5],s=[0,1],c;function d(m){return m!=null&&m<=m?s[qc(i,m,0,n)]:c}function p(){var m=-1;for(i=new Array(n);++m<n;)i[m]=((m+1)*t-(m-n)*e)/(n+1);return d}return d.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,p()):[e,t]},d.range=function(m){return arguments.length?(n=(s=Array.from(m)).length-1,p()):s.slice()},d.invertExtent=function(m){var g=s.indexOf(m);return g<0?[NaN,NaN]:g<1?[e,i[0]]:g>=n?[i[n-1],t]:[i[g-1],i[g]]},d.unknown=function(m){return arguments.length&&(c=m),d},d.thresholds=function(){return i.slice()},d.copy=function(){return nT().domain([e,t]).range(s).unknown(c)},ni.apply(aa(d),arguments)}function iT(){var e=[.5],t=[0,1],n,i=1;function s(c){return c!=null&&c<=c?t[qc(e,c,0,i)]:n}return s.domain=function(c){return arguments.length?(e=Array.from(c),i=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(c){return arguments.length?(t=Array.from(c),i=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(c){var d=t.indexOf(c);return[e[d-1],e[d]]},s.unknown=function(c){return arguments.length?(n=c,s):n},s.copy=function(){return iT().domain(e).range(t).unknown(n)},ni.apply(s,arguments)}const Fh=new Date,Kh=new Date;function Ar(e,t,n,i){function s(c){return e(c=arguments.length===0?new Date:new Date(+c)),c}return s.floor=c=>(e(c=new Date(+c)),c),s.ceil=c=>(e(c=new Date(c-1)),t(c,1),e(c),c),s.round=c=>{const d=s(c),p=s.ceil(c);return c-d<p-c?d:p},s.offset=(c,d)=>(t(c=new Date(+c),d==null?1:Math.floor(d)),c),s.range=(c,d,p)=>{const m=[];if(c=s.ceil(c),p=p==null?1:Math.floor(p),!(c<d)||!(p>0))return m;let g;do m.push(g=new Date(+c)),t(c,p),e(c);while(g<c&&c<d);return m},s.filter=c=>Ar(d=>{if(d>=d)for(;e(d),!c(d);)d.setTime(d-1)},(d,p)=>{if(d>=d)if(p<0)for(;++p<=0;)for(;t(d,-1),!c(d););else for(;--p>=0;)for(;t(d,1),!c(d););}),n&&(s.count=(c,d)=>(Fh.setTime(+c),Kh.setTime(+d),e(Fh),e(Kh),Math.floor(n(Fh,Kh))),s.every=c=>(c=Math.floor(c),!isFinite(c)||!(c>0)?null:c>1?s.filter(i?d=>i(d)%c===0:d=>s.count(0,d)%c===0):s)),s}const yf=Ar(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ar(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):yf);yf.range;const no=1e3,Qn=no*60,io=Qn*60,fo=io*24,mv=fo*7,rk=fo*30,Yh=fo*365,Da=Ar(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*no)},(e,t)=>(t-e)/no,e=>e.getUTCSeconds());Da.range;const hv=Ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*no)},(e,t)=>{e.setTime(+e+t*Qn)},(e,t)=>(t-e)/Qn,e=>e.getMinutes());hv.range;const yv=Ar(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Qn)},(e,t)=>(t-e)/Qn,e=>e.getUTCMinutes());yv.range;const xv=Ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*no-e.getMinutes()*Qn)},(e,t)=>{e.setTime(+e+t*io)},(e,t)=>(t-e)/io,e=>e.getHours());xv.range;const vv=Ar(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*io)},(e,t)=>(t-e)/io,e=>e.getUTCHours());vv.range;const Fc=Ar(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qn)/fo,e=>e.getDate()-1);Fc.range;const rp=Ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fo,e=>e.getUTCDate()-1);rp.range;const oT=Ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fo,e=>Math.floor(e/fo));oT.range;function Va(e){return Ar(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Qn)/mv)}const np=Va(0),xf=Va(1),wN=Va(2),CN=Va(3),ql=Va(4),kN=Va(5),zN=Va(6);np.range;xf.range;wN.range;CN.range;ql.range;kN.range;zN.range;function Ga(e){return Ar(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/mv)}const ip=Ga(0),vf=Ga(1),_N=Ga(2),TN=Ga(3),Ul=Ga(4),AN=Ga(5),EN=Ga(6);ip.range;vf.range;_N.range;TN.range;Ul.range;AN.range;EN.range;const bv=Ar(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());bv.range;const Sv=Ar(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Sv.range;const po=Ar(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());po.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ar(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});po.range;const go=Ar(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());go.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ar(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});go.range;function aT(e,t,n,i,s,c){const d=[[Da,1,no],[Da,5,5*no],[Da,15,15*no],[Da,30,30*no],[c,1,Qn],[c,5,5*Qn],[c,15,15*Qn],[c,30,30*Qn],[s,1,io],[s,3,3*io],[s,6,6*io],[s,12,12*io],[i,1,fo],[i,2,2*fo],[n,1,mv],[t,1,rk],[t,3,3*rk],[e,1,Yh]];function p(g,h,v){const S=h<g;S&&([g,h]=[h,g]);const j=v&&typeof v.range=="function"?v:m(g,h,v),k=j?j.range(g,+h+1):[];return S?k.reverse():k}function m(g,h,v){const S=Math.abs(h-g)/v,j=rv(([,,C])=>C).right(d,S);if(j===d.length)return e.every(Ky(g/Yh,h/Yh,v));if(j===0)return yf.every(Math.max(Ky(g,h,v),1));const[k,w]=d[S/d[j-1][2]<d[j][2]/S?j-1:j];return k.every(w)}return[p,m]}const[ON,MN]=aT(go,Sv,ip,oT,vv,yv),[RN,DN]=aT(po,bv,np,Fc,xv,hv);function Vh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ic(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function PN(e){var t=e.dateTime,n=e.date,i=e.time,s=e.periods,c=e.days,d=e.shortDays,p=e.months,m=e.shortMonths,g=oc(s),h=ac(s),v=oc(c),S=ac(c),j=oc(d),k=ac(d),w=oc(p),C=ac(p),_=oc(m),E=ac(m),A={a:Y,A:me,b:be,B:Ee,c:null,d:sk,e:sk,f:i8,g:g8,G:h8,H:t8,I:r8,j:n8,L:lT,m:o8,M:a8,p:$,q:W,Q:dk,s:fk,S:l8,u:s8,U:c8,V:u8,w:d8,W:f8,x:null,X:null,y:p8,Y:m8,Z:y8,"%":uk},T={a:L,A:V,b:ne,B:I,c:null,d:ck,e:ck,f:S8,g:O8,G:R8,H:x8,I:v8,j:b8,L:cT,m:j8,M:w8,p:X,q:Ce,Q:dk,s:fk,S:C8,u:k8,U:z8,V:_8,w:T8,W:A8,x:null,X:null,y:E8,Y:M8,Z:D8,"%":uk},O={a:fe,A:de,b:re,B:Se,c:he,d:ak,e:ak,f:QN,g:ok,G:ik,H:lk,I:lk,j:YN,L:XN,m:KN,M:VN,p:ee,q:FN,Q:JN,s:e8,S:GN,u:BN,U:IN,V:qN,w:WN,W:UN,x:ge,X:F,y:ok,Y:ik,Z:HN,"%":ZN};A.x=P(n,A),A.X=P(i,A),A.c=P(t,A),T.x=P(n,T),T.X=P(i,T),T.c=P(t,T);function P(N,ye){return function(oe){var ue=[],Ne=-1,le=0,Me=N.length,Ae,We,Ke;for(oe instanceof Date||(oe=new Date(+oe));++Ne<Me;)N.charCodeAt(Ne)===37&&(ue.push(N.slice(le,Ne)),(We=nk[Ae=N.charAt(++Ne)])!=null?Ae=N.charAt(++Ne):We=Ae==="e"?" ":"0",(Ke=ye[Ae])&&(Ae=Ke(oe,We)),ue.push(Ae),le=Ne+1);return ue.push(N.slice(le,Ne)),ue.join("")}}function R(N,ye){return function(oe){var ue=ic(1900,void 0,1),Ne=U(ue,N,oe+="",0),le,Me;if(Ne!=oe.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(ye&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(le=Gh(ic(ue.y,0,1)),Me=le.getUTCDay(),le=Me>4||Me===0?vf.ceil(le):vf(le),le=rp.offset(le,(ue.V-1)*7),ue.y=le.getUTCFullYear(),ue.m=le.getUTCMonth(),ue.d=le.getUTCDate()+(ue.w+6)%7):(le=Vh(ic(ue.y,0,1)),Me=le.getDay(),le=Me>4||Me===0?xf.ceil(le):xf(le),le=Fc.offset(le,(ue.V-1)*7),ue.y=le.getFullYear(),ue.m=le.getMonth(),ue.d=le.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Me="Z"in ue?Gh(ic(ue.y,0,1)).getUTCDay():Vh(ic(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Me+5)%7:ue.w+ue.U*7-(Me+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,Gh(ue)):Vh(ue)}}function U(N,ye,oe,ue){for(var Ne=0,le=ye.length,Me=oe.length,Ae,We;Ne<le;){if(ue>=Me)return-1;if(Ae=ye.charCodeAt(Ne++),Ae===37){if(Ae=ye.charAt(Ne++),We=O[Ae in nk?ye.charAt(Ne++):Ae],!We||(ue=We(N,oe,ue))<0)return-1}else if(Ae!=oe.charCodeAt(ue++))return-1}return ue}function ee(N,ye,oe){var ue=g.exec(ye.slice(oe));return ue?(N.p=h.get(ue[0].toLowerCase()),oe+ue[0].length):-1}function fe(N,ye,oe){var ue=j.exec(ye.slice(oe));return ue?(N.w=k.get(ue[0].toLowerCase()),oe+ue[0].length):-1}function de(N,ye,oe){var ue=v.exec(ye.slice(oe));return ue?(N.w=S.get(ue[0].toLowerCase()),oe+ue[0].length):-1}function re(N,ye,oe){var ue=_.exec(ye.slice(oe));return ue?(N.m=E.get(ue[0].toLowerCase()),oe+ue[0].length):-1}function Se(N,ye,oe){var ue=w.exec(ye.slice(oe));return ue?(N.m=C.get(ue[0].toLowerCase()),oe+ue[0].length):-1}function he(N,ye,oe){return U(N,t,ye,oe)}function ge(N,ye,oe){return U(N,n,ye,oe)}function F(N,ye,oe){return U(N,i,ye,oe)}function Y(N){return d[N.getDay()]}function me(N){return c[N.getDay()]}function be(N){return m[N.getMonth()]}function Ee(N){return p[N.getMonth()]}function $(N){return s[+(N.getHours()>=12)]}function W(N){return 1+~~(N.getMonth()/3)}function L(N){return d[N.getUTCDay()]}function V(N){return c[N.getUTCDay()]}function ne(N){return m[N.getUTCMonth()]}function I(N){return p[N.getUTCMonth()]}function X(N){return s[+(N.getUTCHours()>=12)]}function Ce(N){return 1+~~(N.getUTCMonth()/3)}return{format:function(N){var ye=P(N+="",A);return ye.toString=function(){return N},ye},parse:function(N){var ye=R(N+="",!1);return ye.toString=function(){return N},ye},utcFormat:function(N){var ye=P(N+="",T);return ye.toString=function(){return N},ye},utcParse:function(N){var ye=R(N+="",!0);return ye.toString=function(){return N},ye}}}var nk={"-":"",_:" ",0:"0"},Pr=/^\s*\d+/,$N=/^%/,NN=/[\\^$*+?|[\]().{}]/g;function jt(e,t,n){var i=e<0?"-":"",s=(i?-e:e)+"",c=s.length;return i+(c<n?new Array(n-c+1).join(t)+s:s)}function LN(e){return e.replace(NN,"\\$&")}function oc(e){return new RegExp("^(?:"+e.map(LN).join("|")+")","i")}function ac(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function WN(e,t,n){var i=Pr.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function BN(e,t,n){var i=Pr.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function IN(e,t,n){var i=Pr.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function qN(e,t,n){var i=Pr.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function UN(e,t,n){var i=Pr.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function ik(e,t,n){var i=Pr.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function ok(e,t,n){var i=Pr.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function HN(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function FN(e,t,n){var i=Pr.exec(t.slice(n,n+1));return i?(e.q=i[0]*3-3,n+i[0].length):-1}function KN(e,t,n){var i=Pr.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function ak(e,t,n){var i=Pr.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function YN(e,t,n){var i=Pr.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function lk(e,t,n){var i=Pr.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function VN(e,t,n){var i=Pr.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function GN(e,t,n){var i=Pr.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function XN(e,t,n){var i=Pr.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function QN(e,t,n){var i=Pr.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function ZN(e,t,n){var i=$N.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function JN(e,t,n){var i=Pr.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function e8(e,t,n){var i=Pr.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function sk(e,t){return jt(e.getDate(),t,2)}function t8(e,t){return jt(e.getHours(),t,2)}function r8(e,t){return jt(e.getHours()%12||12,t,2)}function n8(e,t){return jt(1+Fc.count(po(e),e),t,3)}function lT(e,t){return jt(e.getMilliseconds(),t,3)}function i8(e,t){return lT(e,t)+"000"}function o8(e,t){return jt(e.getMonth()+1,t,2)}function a8(e,t){return jt(e.getMinutes(),t,2)}function l8(e,t){return jt(e.getSeconds(),t,2)}function s8(e){var t=e.getDay();return t===0?7:t}function c8(e,t){return jt(np.count(po(e)-1,e),t,2)}function sT(e){var t=e.getDay();return t>=4||t===0?ql(e):ql.ceil(e)}function u8(e,t){return e=sT(e),jt(ql.count(po(e),e)+(po(e).getDay()===4),t,2)}function d8(e){return e.getDay()}function f8(e,t){return jt(xf.count(po(e)-1,e),t,2)}function p8(e,t){return jt(e.getFullYear()%100,t,2)}function g8(e,t){return e=sT(e),jt(e.getFullYear()%100,t,2)}function m8(e,t){return jt(e.getFullYear()%1e4,t,4)}function h8(e,t){var n=e.getDay();return e=n>=4||n===0?ql(e):ql.ceil(e),jt(e.getFullYear()%1e4,t,4)}function y8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+jt(t/60|0,"0",2)+jt(t%60,"0",2)}function ck(e,t){return jt(e.getUTCDate(),t,2)}function x8(e,t){return jt(e.getUTCHours(),t,2)}function v8(e,t){return jt(e.getUTCHours()%12||12,t,2)}function b8(e,t){return jt(1+rp.count(go(e),e),t,3)}function cT(e,t){return jt(e.getUTCMilliseconds(),t,3)}function S8(e,t){return cT(e,t)+"000"}function j8(e,t){return jt(e.getUTCMonth()+1,t,2)}function w8(e,t){return jt(e.getUTCMinutes(),t,2)}function C8(e,t){return jt(e.getUTCSeconds(),t,2)}function k8(e){var t=e.getUTCDay();return t===0?7:t}function z8(e,t){return jt(ip.count(go(e)-1,e),t,2)}function uT(e){var t=e.getUTCDay();return t>=4||t===0?Ul(e):Ul.ceil(e)}function _8(e,t){return e=uT(e),jt(Ul.count(go(e),e)+(go(e).getUTCDay()===4),t,2)}function T8(e){return e.getUTCDay()}function A8(e,t){return jt(vf.count(go(e)-1,e),t,2)}function E8(e,t){return jt(e.getUTCFullYear()%100,t,2)}function O8(e,t){return e=uT(e),jt(e.getUTCFullYear()%100,t,2)}function M8(e,t){return jt(e.getUTCFullYear()%1e4,t,4)}function R8(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ul(e):Ul.ceil(e),jt(e.getUTCFullYear()%1e4,t,4)}function D8(){return"+0000"}function uk(){return"%"}function dk(e){return+e}function fk(e){return Math.floor(+e/1e3)}var Ml,dT,fT;P8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function P8(e){return Ml=PN(e),dT=Ml.format,Ml.parse,fT=Ml.utcFormat,Ml.utcParse,Ml}function $8(e){return new Date(e)}function N8(e){return e instanceof Date?+e:+new Date(+e)}function jv(e,t,n,i,s,c,d,p,m,g){var h=sv(),v=h.invert,S=h.domain,j=g(".%L"),k=g(":%S"),w=g("%I:%M"),C=g("%I %p"),_=g("%a %d"),E=g("%b %d"),A=g("%B"),T=g("%Y");function O(P){return(m(P)<P?j:p(P)<P?k:d(P)<P?w:c(P)<P?C:i(P)<P?s(P)<P?_:E:n(P)<P?A:T)(P)}return h.invert=function(P){return new Date(v(P))},h.domain=function(P){return arguments.length?S(Array.from(P,N8)):S().map($8)},h.ticks=function(P){var R=S();return e(R[0],R[R.length-1],P??10)},h.tickFormat=function(P,R){return R==null?O:g(R)},h.nice=function(P){var R=S();return(!P||typeof P.range!="function")&&(P=t(R[0],R[R.length-1],P??10)),P?S(Z_(R,P)):h},h.copy=function(){return Hc(h,jv(e,t,n,i,s,c,d,p,m,g))},h}function L8(){return ni.apply(jv(RN,DN,po,bv,np,Fc,xv,hv,Da,dT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function W8(){return ni.apply(jv(ON,MN,go,Sv,ip,rp,vv,yv,Da,fT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function op(){var e=0,t=1,n,i,s,c,d=rn,p=!1,m;function g(v){return v==null||isNaN(v=+v)?m:d(s===0?.5:(v=(c(v)-n)*s,p?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([e,t]=v,n=c(e=+e),i=c(t=+t),s=n===i?0:1/(i-n),g):[e,t]},g.clamp=function(v){return arguments.length?(p=!!v,g):p},g.interpolator=function(v){return arguments.length?(d=v,g):d};function h(v){return function(S){var j,k;return arguments.length?([j,k]=S,d=v(j,k),g):[d(0),d(1)]}}return g.range=h(es),g.rangeRound=h(lv),g.unknown=function(v){return arguments.length?(m=v,g):m},function(v){return c=v,n=v(e),i=v(t),s=n===i?0:1/(i-n),g}}function la(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pT(){var e=aa(op()(rn));return e.copy=function(){return la(e,pT())},vo.apply(e,arguments)}function gT(){var e=dv(op()).domain([1,10]);return e.copy=function(){return la(e,gT()).base(e.base())},vo.apply(e,arguments)}function mT(){var e=fv(op());return e.copy=function(){return la(e,mT()).constant(e.constant())},vo.apply(e,arguments)}function wv(){var e=pv(op());return e.copy=function(){return la(e,wv()).exponent(e.exponent())},vo.apply(e,arguments)}function B8(){return wv.apply(null,arguments).exponent(.5)}function hT(){var e=[],t=rn;function n(i){if(i!=null&&!isNaN(i=+i))return t((qc(e,i,1)-1)/(e.length-1))}return n.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Xo),n},n.interpolator=function(i){return arguments.length?(t=i,n):t},n.range=function(){return e.map((i,s)=>t(s/(e.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(s,c)=>k6(e,c/i))},n.copy=function(){return hT(t).domain(e)},vo.apply(n,arguments)}function ap(){var e=0,t=.5,n=1,i=1,s,c,d,p,m,g=rn,h,v=!1,S;function j(w){return isNaN(w=+w)?S:(w=.5+((w=+h(w))-c)*(i*w<i*c?p:m),g(v?Math.max(0,Math.min(1,w)):w))}j.domain=function(w){return arguments.length?([e,t,n]=w,s=h(e=+e),c=h(t=+t),d=h(n=+n),p=s===c?0:.5/(c-s),m=c===d?0:.5/(d-c),i=c<s?-1:1,j):[e,t,n]},j.clamp=function(w){return arguments.length?(v=!!w,j):v},j.interpolator=function(w){return arguments.length?(g=w,j):g};function k(w){return function(C){var _,E,A;return arguments.length?([_,E,A]=C,g=Z6(w,[_,E,A]),j):[g(0),g(.5),g(1)]}}return j.range=k(es),j.rangeRound=k(lv),j.unknown=function(w){return arguments.length?(S=w,j):S},function(w){return h=w,s=w(e),c=w(t),d=w(n),p=s===c?0:.5/(c-s),m=c===d?0:.5/(d-c),i=c<s?-1:1,j}}function yT(){var e=aa(ap()(rn));return e.copy=function(){return la(e,yT())},vo.apply(e,arguments)}function xT(){var e=dv(ap()).domain([.1,1,10]);return e.copy=function(){return la(e,xT()).base(e.base())},vo.apply(e,arguments)}function vT(){var e=fv(ap());return e.copy=function(){return la(e,vT()).constant(e.constant())},vo.apply(e,arguments)}function Cv(){var e=pv(ap());return e.copy=function(){return la(e,Cv()).exponent(e.exponent())},vo.apply(e,arguments)}function I8(){return Cv.apply(null,arguments).exponent(.5)}const fc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:iv,scaleDiverging:yT,scaleDivergingLog:xT,scaleDivergingPow:Cv,scaleDivergingSqrt:I8,scaleDivergingSymlog:vT,scaleIdentity:Q_,scaleImplicit:Yy,scaleLinear:X_,scaleLog:J_,scaleOrdinal:nv,scalePoint:T6,scalePow:gv,scaleQuantile:rT,scaleQuantize:nT,scaleRadial:tT,scaleSequential:pT,scaleSequentialLog:gT,scaleSequentialPow:wv,scaleSequentialQuantile:hT,scaleSequentialSqrt:B8,scaleSequentialSymlog:mT,scaleSqrt:SN,scaleSymlog:eT,scaleThreshold:iT,scaleTime:L8,scaleUtc:W8,tickFormat:G_},Symbol.toStringTag,{value:"Module"}));var sa=e=>e.chartData,kv=ce([sa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),lp=(e,t,n,i)=>i?kv(e):sa(e);function Hl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Mn(t)&&Mn(n))return!0}return!1}function pk(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function q8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,i]=e,s,c;if(Mn(n))s=n;else if(typeof n=="function")return;if(Mn(i))c=i;else if(typeof i=="function")return;var d=[s,c];if(Hl(d))return d}}function U8(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var i=e(t,n);if(Hl(i))return pk(i,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[s,c]=e,d,p;if(s==="auto")t!=null&&(d=Math.min(...t));else if(Ge(s))d=s;else if(typeof s=="function")try{t!=null&&(d=s(t?.[0]))}catch{}else if(typeof s=="string"&&nC.test(s)){var m=nC.exec(s);if(m==null||t==null)d=void 0;else{var g=+m[1];d=t[0]-g}}else d=t?.[0];if(c==="auto")t!=null&&(p=Math.max(...t));else if(Ge(c))p=c;else if(typeof c=="function")try{t!=null&&(p=c(t?.[1]))}catch{}else if(typeof c=="string"&&iC.test(c)){var h=iC.exec(c);if(h==null||t==null)p=void 0;else{var v=+h[1];p=t[1]+v}}else p=t?.[1];var S=[d,p];if(Hl(S))return t==null?S:pk(S,t,n)}}}var ts=1e9,H8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_v,er=!0,ri="[DecimalError] ",Wa=ri+"Invalid argument: ",zv=ri+"Exponent out of range: ",rs=Math.floor,Ea=Math.pow,F8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_n,Rr=1e7,Qt=7,bT=9007199254740991,bf=rs(bT/Qt),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var t,n,i,s,c=this;if(e=new c.constructor(e),c.s!==e.s)return c.s||-e.s;if(c.e!==e.e)return c.e>e.e^c.s<0?1:-1;for(i=c.d.length,s=e.d.length,t=0,n=i<s?i:s;t<n;++t)if(c.d[t]!==e.d[t])return c.d[t]>e.d[t]^c.s<0?1:-1;return i===s?0:i>s^c.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Qt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};$e.dividedBy=$e.div=function(e){return lo(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var t=this,n=t.constructor;return Ut(lo(t,new n(e),0,1),n.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return wr(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var t,n=this,i=n.constructor,s=i.precision,c=s+5;if(e===void 0)e=new i(10);else if(e=new i(e),e.s<1||e.eq(_n))throw Error(ri+"NaN");if(n.s<1)throw Error(ri+(n.s?"NaN":"-Infinity"));return n.eq(_n)?new i(0):(er=!1,t=lo(Tc(n,c),Tc(e,c),c),er=!0,Ut(t,s))};$e.minus=$e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wT(t,e):ST(t,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var t,n=this,i=n.constructor,s=i.precision;if(e=new i(e),!e.s)throw Error(ri+"NaN");return n.s?(er=!1,t=lo(n,e,0,1).times(e),er=!0,n.minus(t)):Ut(new i(n),s)};$e.naturalExponential=$e.exp=function(){return jT(this)};$e.naturalLogarithm=$e.ln=function(){return Tc(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ST(t,e):wT(t,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var t,n,i,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wa+e);if(t=wr(s)+1,i=s.d.length-1,n=i*Qt+1,i=s.d[i],i){for(;i%10==0;i/=10)n--;for(i=s.d[0];i>=10;i/=10)n++}return e&&t>n?t:n};$e.squareRoot=$e.sqrt=function(){var e,t,n,i,s,c,d,p=this,m=p.constructor;if(p.s<1){if(!p.s)return new m(0);throw Error(ri+"NaN")}for(e=wr(p),er=!1,s=Math.sqrt(+p),s==0||s==1/0?(t=_i(p.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=rs((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),i=new m(t)):i=new m(s.toString()),n=m.precision,s=d=n+3;;)if(c=i,i=c.plus(lo(p,c,d+2)).times(.5),_i(c.d).slice(0,d)===(t=_i(i.d)).slice(0,d)){if(t=t.slice(d-3,d+1),s==d&&t=="4999"){if(Ut(c,n+1,0),c.times(c).eq(p)){i=c;break}}else if(t!="9999")break;d+=4}return er=!0,Ut(i,n)};$e.times=$e.mul=function(e){var t,n,i,s,c,d,p,m,g,h=this,v=h.constructor,S=h.d,j=(e=new v(e)).d;if(!h.s||!e.s)return new v(0);for(e.s*=h.s,n=h.e+e.e,m=S.length,g=j.length,m<g&&(c=S,S=j,j=c,d=m,m=g,g=d),c=[],d=m+g,i=d;i--;)c.push(0);for(i=g;--i>=0;){for(t=0,s=m+i;s>i;)p=c[s]+j[i]*S[s-i-1]+t,c[s--]=p%Rr|0,t=p/Rr|0;c[s]=(c[s]+t)%Rr|0}for(;!c[--d];)c.pop();return t?++n:c.shift(),e.d=c,e.e=n,er?Ut(e,v.precision):e};$e.toDecimalPlaces=$e.todp=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(Oi(e,0,ts),t===void 0?t=i.rounding:Oi(t,0,8),Ut(n,e+wr(n)+1,t))};$e.toExponential=function(e,t){var n,i=this,s=i.constructor;return e===void 0?n=Ua(i,!0):(Oi(e,0,ts),t===void 0?t=s.rounding:Oi(t,0,8),i=Ut(new s(i),e+1,t),n=Ua(i,!0,e+1)),n};$e.toFixed=function(e,t){var n,i,s=this,c=s.constructor;return e===void 0?Ua(s):(Oi(e,0,ts),t===void 0?t=c.rounding:Oi(t,0,8),i=Ut(new c(s),e+wr(s)+1,t),n=Ua(i.abs(),!1,e+wr(i)+1),s.isneg()&&!s.isZero()?"-"+n:n)};$e.toInteger=$e.toint=function(){var e=this,t=e.constructor;return Ut(new t(e),wr(e)+1,t.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var t,n,i,s,c,d,p=this,m=p.constructor,g=12,h=+(e=new m(e));if(!e.s)return new m(_n);if(p=new m(p),!p.s){if(e.s<1)throw Error(ri+"Infinity");return p}if(p.eq(_n))return p;if(i=m.precision,e.eq(_n))return Ut(p,i);if(t=e.e,n=e.d.length-1,d=t>=n,c=p.s,d){if((n=h<0?-h:h)<=bT){for(s=new m(_n),t=Math.ceil(i/Qt+4),er=!1;n%2&&(s=s.times(p),mk(s.d,t)),n=rs(n/2),n!==0;)p=p.times(p),mk(p.d,t);return er=!0,e.s<0?new m(_n).div(s):Ut(s,i)}}else if(c<0)throw Error(ri+"NaN");return c=c<0&&e.d[Math.max(t,n)]&1?-1:1,p.s=1,er=!1,s=e.times(Tc(p,i+g)),er=!0,s=jT(s),s.s=c,s};$e.toPrecision=function(e,t){var n,i,s=this,c=s.constructor;return e===void 0?(n=wr(s),i=Ua(s,n<=c.toExpNeg||n>=c.toExpPos)):(Oi(e,1,ts),t===void 0?t=c.rounding:Oi(t,0,8),s=Ut(new c(s),e,t),n=wr(s),i=Ua(s,e<=n||n<=c.toExpNeg,e)),i};$e.toSignificantDigits=$e.tosd=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):(Oi(e,1,ts),t===void 0?t=i.rounding:Oi(t,0,8)),Ut(new i(n),e,t)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wr(e),n=e.constructor;return Ua(e,t<=n.toExpNeg||t>=n.toExpPos)};function ST(e,t){var n,i,s,c,d,p,m,g,h=e.constructor,v=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),er?Ut(t,v):t;if(m=e.d,g=t.d,d=e.e,s=t.e,m=m.slice(),c=d-s,c){for(c<0?(i=m,c=-c,p=g.length):(i=g,s=d,p=m.length),d=Math.ceil(v/Qt),p=d>p?d+1:p+1,c>p&&(c=p,i.length=1),i.reverse();c--;)i.push(0);i.reverse()}for(p=m.length,c=g.length,p-c<0&&(c=p,i=g,g=m,m=i),n=0;c;)n=(m[--c]=m[c]+g[c]+n)/Rr|0,m[c]%=Rr;for(n&&(m.unshift(n),++s),p=m.length;m[--p]==0;)m.pop();return t.d=m,t.e=s,er?Ut(t,v):t}function Oi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Wa+e)}function _i(e){var t,n,i,s=e.length-1,c="",d=e[0];if(s>0){for(c+=d,t=1;t<s;t++)i=e[t]+"",n=Qt-i.length,n&&(c+=Yo(n)),c+=i;d=e[t],i=d+"",n=Qt-i.length,n&&(c+=Yo(n))}else if(d===0)return"0";for(;d%10===0;)d/=10;return c+d}var lo=(function(){function e(i,s){var c,d=0,p=i.length;for(i=i.slice();p--;)c=i[p]*s+d,i[p]=c%Rr|0,d=c/Rr|0;return d&&i.unshift(d),i}function t(i,s,c,d){var p,m;if(c!=d)m=c>d?1:-1;else for(p=m=0;p<c;p++)if(i[p]!=s[p]){m=i[p]>s[p]?1:-1;break}return m}function n(i,s,c){for(var d=0;c--;)i[c]-=d,d=i[c]<s[c]?1:0,i[c]=d*Rr+i[c]-s[c];for(;!i[0]&&i.length>1;)i.shift()}return function(i,s,c,d){var p,m,g,h,v,S,j,k,w,C,_,E,A,T,O,P,R,U,ee=i.constructor,fe=i.s==s.s?1:-1,de=i.d,re=s.d;if(!i.s)return new ee(i);if(!s.s)throw Error(ri+"Division by zero");for(m=i.e-s.e,R=re.length,O=de.length,j=new ee(fe),k=j.d=[],g=0;re[g]==(de[g]||0);)++g;if(re[g]>(de[g]||0)&&--m,c==null?E=c=ee.precision:d?E=c+(wr(i)-wr(s))+1:E=c,E<0)return new ee(0);if(E=E/Qt+2|0,g=0,R==1)for(h=0,re=re[0],E++;(g<O||h)&&E--;g++)A=h*Rr+(de[g]||0),k[g]=A/re|0,h=A%re|0;else{for(h=Rr/(re[0]+1)|0,h>1&&(re=e(re,h),de=e(de,h),R=re.length,O=de.length),T=R,w=de.slice(0,R),C=w.length;C<R;)w[C++]=0;U=re.slice(),U.unshift(0),P=re[0],re[1]>=Rr/2&&++P;do h=0,p=t(re,w,R,C),p<0?(_=w[0],R!=C&&(_=_*Rr+(w[1]||0)),h=_/P|0,h>1?(h>=Rr&&(h=Rr-1),v=e(re,h),S=v.length,C=w.length,p=t(v,w,S,C),p==1&&(h--,n(v,R<S?U:re,S))):(h==0&&(p=h=1),v=re.slice()),S=v.length,S<C&&v.unshift(0),n(w,v,C),p==-1&&(C=w.length,p=t(re,w,R,C),p<1&&(h++,n(w,R<C?U:re,C))),C=w.length):p===0&&(h++,w=[0]),k[g++]=h,p&&w[0]?w[C++]=de[T]||0:(w=[de[T]],C=1);while((T++<O||w[0]!==void 0)&&E--)}return k[0]||k.shift(),j.e=m,Ut(j,d?c+wr(j)+1:c)}})();function jT(e,t){var n,i,s,c,d,p,m=0,g=0,h=e.constructor,v=h.precision;if(wr(e)>16)throw Error(zv+wr(e));if(!e.s)return new h(_n);for(er=!1,p=v,d=new h(.03125);e.abs().gte(.1);)e=e.times(d),g+=5;for(i=Math.log(Ea(2,g))/Math.LN10*2+5|0,p+=i,n=s=c=new h(_n),h.precision=p;;){if(s=Ut(s.times(e),p),n=n.times(++m),d=c.plus(lo(s,n,p)),_i(d.d).slice(0,p)===_i(c.d).slice(0,p)){for(;g--;)c=Ut(c.times(c),p);return h.precision=v,t==null?(er=!0,Ut(c,v)):c}c=d}}function wr(e){for(var t=e.e*Qt,n=e.d[0];n>=10;n/=10)t++;return t}function Xh(e,t,n){if(t>e.LN10.sd())throw er=!0,n&&(e.precision=n),Error(ri+"LN10 precision limit exceeded");return Ut(new e(e.LN10),t)}function Yo(e){for(var t="";e--;)t+="0";return t}function Tc(e,t){var n,i,s,c,d,p,m,g,h,v=1,S=10,j=e,k=j.d,w=j.constructor,C=w.precision;if(j.s<1)throw Error(ri+(j.s?"NaN":"-Infinity"));if(j.eq(_n))return new w(0);if(t==null?(er=!1,g=C):g=t,j.eq(10))return t==null&&(er=!0),Xh(w,g);if(g+=S,w.precision=g,n=_i(k),i=n.charAt(0),c=wr(j),Math.abs(c)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)j=j.times(e),n=_i(j.d),i=n.charAt(0),v++;c=wr(j),i>1?(j=new w("0."+n),c++):j=new w(i+"."+n.slice(1))}else return m=Xh(w,g+2,C).times(c+""),j=Tc(new w(i+"."+n.slice(1)),g-S).plus(m),w.precision=C,t==null?(er=!0,Ut(j,C)):j;for(p=d=j=lo(j.minus(_n),j.plus(_n),g),h=Ut(j.times(j),g),s=3;;){if(d=Ut(d.times(h),g),m=p.plus(lo(d,new w(s),g)),_i(m.d).slice(0,g)===_i(p.d).slice(0,g))return p=p.times(2),c!==0&&(p=p.plus(Xh(w,g+2,C).times(c+""))),p=lo(p,new w(v),g),w.precision=C,t==null?(er=!0,Ut(p,C)):p;p=m,s+=2}}function gk(e,t){var n,i,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;)++i;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(i,s),t){if(s-=i,n=n-i-1,e.e=rs(n/Qt),e.d=[],i=(n+1)%Qt,n<0&&(i+=Qt),i<s){for(i&&e.d.push(+t.slice(0,i)),s-=Qt;i<s;)e.d.push(+t.slice(i,i+=Qt));t=t.slice(i),i=Qt-t.length}else i-=s;for(;i--;)t+="0";if(e.d.push(+t),er&&(e.e>bf||e.e<-bf))throw Error(zv+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ut(e,t,n){var i,s,c,d,p,m,g,h,v=e.d;for(d=1,c=v[0];c>=10;c/=10)d++;if(i=t-d,i<0)i+=Qt,s=t,g=v[h=0];else{if(h=Math.ceil((i+1)/Qt),c=v.length,h>=c)return e;for(g=c=v[h],d=1;c>=10;c/=10)d++;i%=Qt,s=i-Qt+d}if(n!==void 0&&(c=Ea(10,d-s-1),p=g/c%10|0,m=t<0||v[h+1]!==void 0||g%c,m=n<4?(p||m)&&(n==0||n==(e.s<0?3:2)):p>5||p==5&&(n==4||m||n==6&&(i>0?s>0?g/Ea(10,d-s):0:v[h-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return m?(c=wr(e),v.length=1,t=t-c-1,v[0]=Ea(10,(Qt-t%Qt)%Qt),e.e=rs(-t/Qt)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(i==0?(v.length=h,c=1,h--):(v.length=h+1,c=Ea(10,Qt-i),v[h]=s>0?(g/Ea(10,d-s)%Ea(10,s)|0)*c:0),m)for(;;)if(h==0){(v[0]+=c)==Rr&&(v[0]=1,++e.e);break}else{if(v[h]+=c,v[h]!=Rr)break;v[h--]=0,c=1}for(i=v.length;v[--i]===0;)v.pop();if(er&&(e.e>bf||e.e<-bf))throw Error(zv+wr(e));return e}function wT(e,t){var n,i,s,c,d,p,m,g,h,v,S=e.constructor,j=S.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new S(e),er?Ut(t,j):t;if(m=e.d,v=t.d,i=t.e,g=e.e,m=m.slice(),d=g-i,d){for(h=d<0,h?(n=m,d=-d,p=v.length):(n=v,i=g,p=m.length),s=Math.max(Math.ceil(j/Qt),p)+2,d>s&&(d=s,n.length=1),n.reverse(),s=d;s--;)n.push(0);n.reverse()}else{for(s=m.length,p=v.length,h=s<p,h&&(p=s),s=0;s<p;s++)if(m[s]!=v[s]){h=m[s]<v[s];break}d=0}for(h&&(n=m,m=v,v=n,t.s=-t.s),p=m.length,s=v.length-p;s>0;--s)m[p++]=0;for(s=v.length;s>d;){if(m[--s]<v[s]){for(c=s;c&&m[--c]===0;)m[c]=Rr-1;--m[c],m[s]+=Rr}m[s]-=v[s]}for(;m[--p]===0;)m.pop();for(;m[0]===0;m.shift())--i;return m[0]?(t.d=m,t.e=i,er?Ut(t,j):t):new S(0)}function Ua(e,t,n){var i,s=wr(e),c=_i(e.d),d=c.length;return t?(n&&(i=n-d)>0?c=c.charAt(0)+"."+c.slice(1)+Yo(i):d>1&&(c=c.charAt(0)+"."+c.slice(1)),c=c+(s<0?"e":"e+")+s):s<0?(c="0."+Yo(-s-1)+c,n&&(i=n-d)>0&&(c+=Yo(i))):s>=d?(c+=Yo(s+1-d),n&&(i=n-s-1)>0&&(c=c+"."+Yo(i))):((i=s+1)<d&&(c=c.slice(0,i)+"."+c.slice(i)),n&&(i=n-d)>0&&(s+1===d&&(c+="."),c+=Yo(i))),e.s<0?"-"+c:c}function mk(e,t){if(e.length>t)return e.length=t,!0}function CT(e){var t,n,i;function s(c){var d=this;if(!(d instanceof s))return new s(c);if(d.constructor=s,c instanceof s){d.s=c.s,d.e=c.e,d.d=(c=c.d)?c.slice():c;return}if(typeof c=="number"){if(c*0!==0)throw Error(Wa+c);if(c>0)d.s=1;else if(c<0)c=-c,d.s=-1;else{d.s=0,d.e=0,d.d=[0];return}if(c===~~c&&c<1e7){d.e=0,d.d=[c];return}return gk(d,c.toString())}else if(typeof c!="string")throw Error(Wa+c);if(c.charCodeAt(0)===45?(c=c.slice(1),d.s=-1):d.s=1,F8.test(c))gk(d,c);else throw Error(Wa+c)}if(s.prototype=$e,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=CT,s.config=s.set=K8,e===void 0&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return s.config(e),s}function K8(e){if(!e||typeof e!="object")throw Error(ri+"Object expected");var t,n,i,s=["precision",1,ts,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((i=e[n=s[t]])!==void 0)if(rs(i)===i&&i>=s[t+1]&&i<=s[t+2])this[n]=i;else throw Error(Wa+n+": "+i);if((i=e[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(Wa+n+": "+i);return this}var _v=CT(H8);_n=new _v(1);const Pt=_v;var Y8=e=>e,kT={},zT=e=>e===kT,hk=e=>function t(){return arguments.length===0||arguments.length===1&&zT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},_T=(e,t)=>e===1?t:hk(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var c=i.filter(d=>d!==kT).length;return c>=e?t(...i):_T(e-c,hk(function(){for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];var g=i.map(h=>zT(h)?p.shift():h);return t(...g,...p)}))}),sp=e=>_T(e.length,e),Qy=(e,t)=>{for(var n=[],i=e;i<t;++i)n[i-e]=i;return n},V8=sp((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),G8=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.length)return Y8;var s=n.reverse(),c=s[0],d=s.slice(1);return function(){return d.reduce((p,m)=>m(p),c(...arguments))}},Zy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),TT=e=>{var t=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return t&&s.every((d,p)=>{var m;return d===((m=t)===null||m===void 0?void 0:m[p])})||(t=s,n=e(...s)),n}};function AT(e){var t;return e===0?t=1:t=Math.floor(new Pt(e).abs().log(10).toNumber())+1,t}function ET(e,t,n){for(var i=new Pt(e),s=0,c=[];i.lt(t)&&s<1e5;)c.push(i.toNumber()),i=i.add(n),s++;return c}sp((e,t,n)=>{var i=+e,s=+t;return i+n*(s-i)});sp((e,t,n)=>{var i=t-+e;return i=i||1/0,(n-e)/i});sp((e,t,n)=>{var i=t-+e;return i=i||1/0,Math.max(0,Math.min(1,(n-e)/i))});var OT=e=>{var[t,n]=e,[i,s]=[t,n];return t>n&&([i,s]=[n,t]),[i,s]},MT=(e,t,n)=>{if(e.lte(0))return new Pt(0);var i=AT(e.toNumber()),s=new Pt(10).pow(i),c=e.div(s),d=i!==1?.05:.1,p=new Pt(Math.ceil(c.div(d).toNumber())).add(n).mul(d),m=p.mul(s);return t?new Pt(m.toNumber()):new Pt(Math.ceil(m.toNumber()))},X8=(e,t,n)=>{var i=new Pt(1),s=new Pt(e);if(!s.isint()&&n){var c=Math.abs(e);c<1?(i=new Pt(10).pow(AT(e)-1),s=new Pt(Math.floor(s.div(i).toNumber())).mul(i)):c>1&&(s=new Pt(Math.floor(e)))}else e===0?s=new Pt(Math.floor((t-1)/2)):n||(s=new Pt(Math.floor(e)));var d=Math.floor((t-1)/2),p=G8(V8(m=>s.add(new Pt(m-d).mul(i)).toNumber()),Qy);return p(0,t)},RT=function(t,n,i,s){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(i-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var d=MT(new Pt(n).sub(t).div(i-1),s,c),p;t<=0&&n>=0?p=new Pt(0):(p=new Pt(t).add(n).div(2),p=p.sub(new Pt(p).mod(d)));var m=Math.ceil(p.sub(t).div(d).toNumber()),g=Math.ceil(new Pt(n).sub(p).div(d).toNumber()),h=m+g+1;return h>i?RT(t,n,i,s,c+1):(h<i&&(g=n>0?g+(i-h):g,m=n>0?m:m+(i-h)),{step:d,tickMin:p.sub(new Pt(m).mul(d)),tickMax:p.add(new Pt(g).mul(d))})};function Q8(e){var[t,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[d,p]=OT([t,n]);if(d===-1/0||p===1/0){var m=p===1/0?[d,...Qy(0,i-1).map(()=>1/0)]:[...Qy(0,i-1).map(()=>-1/0),p];return t>n?Zy(m):m}if(d===p)return X8(d,i,s);var{step:g,tickMin:h,tickMax:v}=RT(d,p,c,s,0),S=ET(h,v.add(new Pt(.1).mul(g)),g);return t>n?Zy(S):S}function Z8(e,t){var[n,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=OT([n,i]);if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var p=Math.max(t,2),m=MT(new Pt(d).sub(c).div(p-1),s,0),g=[...ET(new Pt(c),new Pt(d),m),d];return s===!1&&(g=g.map(h=>Math.round(h))),n>i?Zy(g):g}var J8=TT(Q8),eL=TT(Z8),DT=e=>e.rootProps.maxBarSize,tL=e=>e.rootProps.barGap,PT=e=>e.rootProps.barCategoryGap,rL=e=>e.rootProps.barSize,Kc=e=>e.rootProps.stackOffset,Tv=e=>e.options.chartName,Av=e=>e.rootProps.syncId,$T=e=>e.rootProps.syncMethod,Ev=e=>e.options.eventEmitter,to={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},kn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},cp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},nL={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:to.angleAxisId,includeHidden:!1,name:void 0,reversed:to.reversed,scale:to.scale,tick:to.tick,tickCount:void 0,ticks:void 0,type:to.type,unit:void 0},iL={allowDataOverflow:kn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:kn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:kn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:kn.scale,tick:kn.tick,tickCount:kn.tickCount,ticks:void 0,type:kn.type,unit:void 0},oL={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:to.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:to.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:to.scale,tick:to.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},aL={allowDataOverflow:kn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:kn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:kn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:kn.scale,tick:kn.tick,tickCount:kn.tickCount,ticks:void 0,type:"category",unit:void 0},Ov=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?oL:nL,Mv=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?aL:iL,up=e=>e.polarOptions,Rv=ce([yo,xo,Tr],v_),NT=ce([up,Rv],(e,t)=>{if(e!=null)return Gr(e.innerRadius,t,0)}),LT=ce([up,Rv],(e,t)=>{if(e!=null)return Gr(e.outerRadius,t,t*.8)}),lL=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},WT=ce([up],lL);ce([Ov,WT],cp);var BT=ce([Rv,NT,LT],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ce([Mv,BT],cp);var IT=ce([yt,up,NT,LT,yo,xo],(e,t,n,i,s,c)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||i==null)){var{cx:d,cy:p,startAngle:m,endAngle:g}=t;return{cx:Gr(d,s,s/2),cy:Gr(p,c,c/2),innerRadius:n,outerRadius:i,startAngle:m,endAngle:g,clockWise:!1}}}),nr=(e,t)=>t,Yc=(e,t,n)=>n;function Dv(e){return e?.id}var Er=e=>{var t=yt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ns=e=>e.tooltip.settings.axisId,$r=e=>{var t=Er(e),n=ns(e);return Vc(e,t,n)},qT=ce([$r],e=>e?.dataKey);function UT(e,t,n){var{chartData:i=[]}=t,{allowDuplicatedCategory:s,dataKey:c}=n,d=new Map;return e.forEach(p=>{var m,g=(m=p.data)!==null&&m!==void 0?m:i;if(!(g==null||g.length===0)){var h=Dv(p);g.forEach((v,S)=>{var j=c==null||s?S:String(Kt(v,c,null)),k=Kt(v,p.dataKey,0),w;d.has(j)?w=d.get(j):w={},Object.assign(w,{[h]:k}),d.set(j,w)})}}),Array.from(d.values())}function dp(e){return e.stackId!=null&&e.dataKey!=null}function yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Sf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(n),!0).forEach(function(i){sL(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function sL(e,t,n){return(t=cL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cL(e){var t=uL(e,"string");return typeof t=="symbol"?t:t+""}function uL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jy=[0,"auto"],wn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},HT=(e,t)=>e.cartesianAxis.xAxis[t],bo=(e,t)=>{var n=HT(e,t);return n??wn},Cn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Jy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Wc},FT=(e,t)=>e.cartesianAxis.yAxis[t],So=(e,t)=>{var n=FT(e,t);return n??Cn},dL={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Pv=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??dL},hr=(e,t,n)=>{switch(t){case"xAxis":return bo(e,n);case"yAxis":return So(e,n);case"zAxis":return Pv(e,n);case"angleAxis":return Ov(e,n);case"radiusAxis":return Mv(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},fL=(e,t,n)=>{switch(t){case"xAxis":return bo(e,n);case"yAxis":return So(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Vc=(e,t,n)=>{switch(t){case"xAxis":return bo(e,n);case"yAxis":return So(e,n);case"angleAxis":return Ov(e,n);case"radiusAxis":return Mv(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},KT=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function $v(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var fp=e=>e.graphicalItems.cartesianItems,pL=ce([nr,Yc],$v),Nv=(e,t,n)=>e.filter(n).filter(i=>t?.includeHidden===!0?!0:!i.hide),Gc=ce([fp,hr,pL],Nv),YT=ce([Gc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(dp)),VT=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),GT=ce([Gc],VT),Lv=e=>e.map(t=>t.data).filter(Boolean).flat(1),gL=ce([Gc],Lv),Wv=(e,t)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:s}=t;return e.length>0?e:n.slice(i,s+1)},Bv=ce([gL,lp],Wv),Iv=(e,t,n)=>t?.dataKey!=null?e.map(i=>({value:Kt(i,t.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>e.map(s=>({value:Kt(s,i)}))):e.map(i=>({value:i})),pp=ce([Bv,hr,Gc],Iv);function XT(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Xa(e){return e.filter(t=>Ei(t)||t instanceof Date).map(Number).filter(t=>En(t)===!1)}function mL(e,t,n){return!n||typeof t!="number"||En(t)?[]:n.length?Xa(n.flatMap(i=>{var s=Kt(e,i.dataKey),c,d;if(Array.isArray(s)?[c,d]=s:c=d=s,!(!Mn(c)||!Mn(d)))return[t-c,t+d]})):[]}var hL=ce([YT,lp,$r],UT),QT=(e,t,n)=>{var i={},s=t.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),i);return Object.fromEntries(Object.entries(s).map(c=>{var[d,p]=c,m=p.map(Dv);return[d,{stackedData:b4(e,m,n),graphicalItems:p}]}))},ex=ce([hL,YT,Kc],QT),ZT=(e,t,n)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(n!=="zAxis"){var c=k4(e,i,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},yL=ce([ex,sa,nr],ZT),JT=(e,t,n,i,s)=>n.length>0?e.flatMap(c=>n.flatMap(d=>{var p,m,g=(p=i[d.id])===null||p===void 0?void 0:p.filter(v=>XT(s,v)),h=Kt(c,(m=t.dataKey)!==null&&m!==void 0?m:d.dataKey);return{value:h,errorDomain:mL(c,h,g)}})).filter(Boolean):t?.dataKey!=null?e.map(c=>({value:Kt(c,t.dataKey),errorDomain:[]})):e.map(c=>({value:c,errorDomain:[]})),gp=e=>e.errorBars,eA=(e,t,n)=>e.flatMap(i=>t[i.id]).filter(Boolean).filter(i=>XT(n,i));ce([GT,gp,nr],eA);var xL=ce([Bv,hr,GT,gp,nr],JT);function vL(e){var{value:t}=e;if(Ei(t)||t instanceof Date)return t}var xk=e=>{var t=e.flatMap(i=>[i.value,i.errorDomain]).flat(1),n=Xa(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bL=(e,t,n)=>{var i=e.map(vL).filter(s=>s!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&fz(i))?W_(0,e.length):t.allowDuplicatedCategory?i:Array.from(new Set(i))},qv=e=>{var t;if(e==null||!("domain"in e))return Jy;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Xa(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Jy},jf=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=n.filter(Boolean);if(s.length!==0){var c=s.flat(),d=Math.min(...c),p=Math.max(...c);return[d,p]}},tA=e=>e.referenceElements.dots,is=(e,t,n)=>e.filter(i=>i.ifOverflow==="extendDomain").filter(i=>t==="xAxis"?i.xAxisId===n:i.yAxisId===n),SL=ce([tA,nr,Yc],is),rA=e=>e.referenceElements.areas,jL=ce([rA,nr,Yc],is),nA=e=>e.referenceElements.lines,wL=ce([nA,nr,Yc],is),iA=(e,t)=>{var n=Xa(e.map(i=>t==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},CL=ce(SL,nr,iA),oA=(e,t)=>{var n=Xa(e.flatMap(i=>[t==="xAxis"?i.x1:i.y1,t==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},kL=ce([jL,nr],oA),aA=(e,t)=>{var n=Xa(e.map(i=>t==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},zL=ce(wL,nr,aA),_L=ce(CL,zL,kL,(e,t,n)=>jf(e,n,t)),lA=ce([hr],qv),Uv=(e,t,n,i,s,c,d)=>{var p=q8(t,e.allowDataOverflow);if(p!=null)return p;var m=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",g=m?jf(n,s,xk(i)):jf(s,xk(i));return U8(t,g,e.allowDataOverflow)},TL=ce([hr,lA,yL,xL,_L,yt,nr],Uv),AL=[0,1],Hv=(e,t,n,i,s,c,d)=>{if(!((e==null||n==null||n.length===0)&&d===void 0)){var{dataKey:p,type:m}=e,g=ia(t,c);return g&&p==null?W_(0,n.length):m==="category"?bL(i,e,g):s==="expand"?AL:d}},Fv=ce([hr,yt,Bv,pp,Kc,nr,TL],Hv),sA=(e,t,n,i,s)=>{if(e!=null){var{scale:c,type:d}=e;if(c==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":d==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!n)?"point":d==="category"?"band":"linear";if(typeof c=="string"){var p="scale".concat(Pc(c));return p in fc?p:"point"}}},os=ce([hr,yt,KT,Tv,nr],sA);function EL(e){if(e!=null){if(e in fc)return fc[e]();var t="scale".concat(Pc(e));if(t in fc)return fc[t]()}}function Kv(e,t,n,i){if(!(n==null||i==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(i);var s=EL(t);if(s!=null){var c=s.domain(n).range(i);return m4(c),c}}}var Yv=(e,t,n)=>{var i=qv(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&Hl(e))return J8(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Hl(e))return eL(e,t.tickCount,t.allowDecimals)}},Vv=ce([Fv,Vc,os],Yv),Gv=(e,t,n,i)=>{if(i!=="angleAxis"&&e?.type==="number"&&Hl(t)&&Array.isArray(n)&&n.length>0){var s=t[0],c=n[0],d=t[1],p=n[n.length-1];return[Math.min(s,c),Math.max(d,p)]}return t},OL=ce([hr,Fv,Vv,nr],Gv),ML=ce(pp,hr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,i=Array.from(Xa(e.map(p=>p.value))).sort((p,m)=>p-m);if(i.length<2)return 1/0;var s=i[i.length-1]-i[0];if(s===0)return 1/0;for(var c=0;c<i.length-1;c++){var d=i[c+1]-i[c];n=Math.min(n,d)}return n/s}}),cA=ce(ML,yt,PT,Tr,(e,t,n,i)=>i,(e,t,n,i,s)=>{if(!Mn(e))return 0;var c=t==="vertical"?i.height:i.width;if(s==="gap")return e*c/2;if(s==="no-gap"){var d=Gr(n,e*c),p=e*c/2;return p-d-(p-d)/c*d}return 0}),RL=(e,t)=>{var n=bo(e,t);return n==null||typeof n.padding!="string"?0:cA(e,"xAxis",t,n.padding)},DL=(e,t)=>{var n=So(e,t);return n==null||typeof n.padding!="string"?0:cA(e,"yAxis",t,n.padding)},PL=ce(bo,RL,(e,t)=>{var n,i;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((n=s.left)!==null&&n!==void 0?n:0)+t,right:((i=s.right)!==null&&i!==void 0?i:0)+t}}),$L=ce(So,DL,(e,t)=>{var n,i;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((n=s.top)!==null&&n!==void 0?n:0)+t,bottom:((i=s.bottom)!==null&&i!==void 0?i:0)+t}}),NL=ce([Tr,PL,Jf,Zf,(e,t,n)=>n],(e,t,n,i,s)=>{var{padding:c}=i;return s?[c.left,n.width-c.right]:[e.left+t.left,e.left+e.width-t.right]}),LL=ce([Tr,yt,$L,Jf,Zf,(e,t,n)=>n],(e,t,n,i,s,c)=>{var{padding:d}=s;return c?[i.height-d.bottom,d.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Xc=(e,t,n,i)=>{var s;switch(t){case"xAxis":return NL(e,n,i);case"yAxis":return LL(e,n,i);case"zAxis":return(s=Pv(e,n))===null||s===void 0?void 0:s.range;case"angleAxis":return WT(e);case"radiusAxis":return BT(e,n);default:return}},uA=ce([hr,Xc],cp),as=ce([hr,os,OL,uA],Kv);ce([Gc,gp,nr],eA);function dA(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var mp=(e,t)=>t,hp=(e,t,n)=>n,WL=ce(Xf,mp,hp,(e,t,n)=>e.filter(i=>i.orientation===t).filter(i=>i.mirror===n).sort(dA)),BL=ce(Qf,mp,hp,(e,t,n)=>e.filter(i=>i.orientation===t).filter(i=>i.mirror===n).sort(dA)),fA=(e,t)=>({width:e.width,height:t.height}),IL=(e,t)=>{var n=typeof t.width=="number"?t.width:Wc;return{width:n,height:e.height}},pA=ce(Tr,bo,fA),qL=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},UL=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},HL=ce(xo,Tr,WL,mp,hp,(e,t,n,i,s)=>{var c={},d;return n.forEach(p=>{var m=fA(t,p);d==null&&(d=qL(t,i,e));var g=i==="top"&&!s||i==="bottom"&&s;c[p.id]=d-Number(g)*m.height,d+=(g?-1:1)*m.height}),c}),FL=ce(yo,Tr,BL,mp,hp,(e,t,n,i,s)=>{var c={},d;return n.forEach(p=>{var m=IL(t,p);d==null&&(d=UL(t,i,e));var g=i==="left"&&!s||i==="right"&&s;c[p.id]=d-Number(g)*m.width,d+=(g?-1:1)*m.width}),c}),KL=(e,t)=>{var n=bo(e,t);if(n!=null)return HL(e,n.orientation,n.mirror)},YL=ce([Tr,bo,KL,(e,t)=>t],(e,t,n,i)=>{if(t!=null){var s=n?.[i];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),VL=(e,t)=>{var n=So(e,t);if(n!=null)return FL(e,n.orientation,n.mirror)},GL=ce([Tr,So,VL,(e,t)=>t],(e,t,n,i)=>{if(t!=null){var s=n?.[i];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),gA=ce(Tr,So,(e,t)=>{var n=typeof t.width=="number"?t.width:Wc;return{width:n,height:e.height}}),vk=(e,t,n)=>{switch(t){case"xAxis":return pA(e,n).width;case"yAxis":return gA(e,n).height;default:return}},mA=(e,t,n,i)=>{if(n!=null){var{allowDuplicatedCategory:s,type:c,dataKey:d}=n,p=ia(e,i),m=t.map(g=>g.value);if(d&&p&&c==="category"&&s&&fz(m))return m}},Xv=ce([yt,pp,hr,nr],mA),hA=(e,t,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:c}=n,d=ia(e,i);if(d&&(s==="number"||c!=="auto"))return t.map(p=>p.value)}},Qv=ce([yt,pp,Vc,nr],hA),bk=ce([yt,fL,os,as,Xv,Qv,Xc,Vv,nr],(e,t,n,i,s,c,d,p,m)=>{if(t==null)return null;var g=ia(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:c,duplicateDomain:s,isCategorical:g,niceTicks:p,range:d,realScaleType:n,scale:i}}),XL=(e,t,n,i,s,c,d,p,m)=>{if(!(t==null||i==null)){var g=ia(e,m),{type:h,ticks:v,tickCount:S}=t,j=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,k=h==="category"&&i.bandwidth?i.bandwidth()/j:0;k=m==="angleAxis"&&c!=null&&c.length>=2?Dr(c[0]-c[1])*2*k:k;var w=v||s;if(w){var C=w.map((_,E)=>{var A=d?d.indexOf(_):_;return{index:E,coordinate:i(A)+k,value:_,offset:k}});return C.filter(_=>!En(_.coordinate))}return g&&p?p.map((_,E)=>({coordinate:i(_)+k,value:_,index:E,offset:k})):i.ticks?i.ticks(S).map(_=>({coordinate:i(_)+k,value:_,offset:k})):i.domain().map((_,E)=>({coordinate:i(_)+k,value:d?d[_]:_,index:E,offset:k}))}},yA=ce([yt,Vc,os,as,Vv,Xc,Xv,Qv,nr],XL),QL=(e,t,n,i,s,c,d)=>{if(!(t==null||n==null||i==null||i[0]===i[1])){var p=ia(e,d),{tickCount:m}=t,g=0;return g=d==="angleAxis"&&i?.length>=2?Dr(i[0]-i[1])*2*g:g,p&&c?c.map((h,v)=>({coordinate:n(h)+g,value:h,index:v,offset:g})):n.ticks?n.ticks(m).map(h=>({coordinate:n(h)+g,value:h,offset:g})):n.domain().map((h,v)=>({coordinate:n(h)+g,value:s?s[h]:h,index:v,offset:g}))}},Qo=ce([yt,Vc,as,Xc,Xv,Qv,nr],QL),Zo=ce(hr,as,(e,t)=>{if(!(e==null||t==null))return Sf(Sf({},e),{},{scale:t})}),ZL=ce([hr,os,Fv,uA],Kv);ce((e,t,n)=>Pv(e,n),ZL,(e,t)=>{if(!(e==null||t==null))return Sf(Sf({},e),{},{scale:t})});var JL=ce([yt,Xf,Qf],(e,t,n)=>{switch(e){case"horizontal":return t.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),xA=e=>e.options.defaultTooltipEventType,vA=e=>e.options.validateTooltipEventTypes;function bA(e,t,n){if(e==null)return t;var i=e?"axis":"item";return n==null?t:n.includes(i)?i:t}function Zv(e,t){var n=xA(e),i=vA(e);return bA(t,n,i)}function eW(e){return Ie(t=>Zv(t,e))}var SA=(e,t)=>{var n,i=Number(t);if(!(En(i)||t==null))return i>=0?e==null||(n=e[i])===null||n===void 0?void 0:n.value:void 0},tW=e=>e.tooltip.settings,Go={active:!1,index:null,dataKey:void 0,coordinate:void 0},rW={itemInteraction:{click:Go,hover:Go},axisInteraction:{click:Go,hover:Go},keyboardInteraction:Go,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},jA=Rn({name:"tooltip",initialState:rW,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=ao(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:nW,removeTooltipEntrySettings:iW,setTooltipSettingsState:oW,setActiveMouseOverItemIndex:wA,mouseLeaveItem:aW,mouseLeaveChart:CA,setActiveClickItemIndex:lW,setMouseOverAxisIndex:kA,setMouseClickAxisIndex:sW,setSyncInteraction:tx,setKeyboardInteraction:rx}=jA.actions,cW=jA.reducer;function Sk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function _d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(n),!0).forEach(function(i){uW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function uW(e,t,n){return(t=dW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dW(e){var t=fW(e,"string");return typeof t=="symbol"?t:t+""}function fW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pW(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function gW(e){return e.index!=null}var zA=(e,t,n,i)=>{if(t==null)return Go;var s=pW(e,t,n);if(s==null)return Go;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var c=e.settings.active===!0;if(gW(s)){if(c)return _d(_d({},s),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i};return _d(_d({},Go),{},{coordinate:s.coordinate})},Jv=(e,t)=>{var n=e?.index;if(n==null)return null;var i=Number(n);if(!Mn(i))return n;var s=0,c=1/0;return t.length>0&&(c=t.length-1),String(Math.max(s,Math.min(i,c)))},_A=(e,t,n,i,s,c,d,p)=>{if(!(c==null||p==null)){var m=d[0],g=m==null?void 0:p(m.positions,c);if(g!=null)return g;var h=s?.[Number(c)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(i.top+t)/2};default:return{x:(i.left+e)/2,y:h.coordinate}}}},TA=(e,t,n,i)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return n==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&i!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(c=>{var d;return((d=c.settings)===null||d===void 0?void 0:d.dataKey)===s})},Qc=e=>e.options.tooltipPayloadSearcher,ls=e=>e.tooltip;function jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function wk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(n),!0).forEach(function(i){mW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function mW(e,t,n){return(t=hW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hW(e){var t=yW(e,"string");return typeof t=="symbol"?t:t+""}function yW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xW(e,t){return e??t}var AA=(e,t,n,i,s,c,d)=>{if(!(t==null||c==null)){var{chartData:p,computedData:m,dataStartIndex:g,dataEndIndex:h}=n,v=[];return e.reduce((S,j)=>{var k,{dataDefinedOnItem:w,settings:C}=j,_=xW(w,p),E=Array.isArray(_)?b_(_,g,h):_,A=(k=C?.dataKey)!==null&&k!==void 0?k:i,T=C?.nameKey,O;if(i&&Array.isArray(E)&&!Array.isArray(E[0])&&d==="axis"?O=pz(E,i,s):O=c(E,t,m,T),Array.isArray(O))O.forEach(R=>{var U=wk(wk({},C),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});S.push(oC({tooltipEntrySettings:U,dataKey:R.dataKey,payload:R.payload,value:Kt(R.payload,R.dataKey),name:R.name}))});else{var P;S.push(oC({tooltipEntrySettings:C,dataKey:A,payload:O,value:Kt(O,A),name:(P=Kt(O,T))!==null&&P!==void 0?P:C?.name}))}return S},v)}},eb=ce([$r,yt,KT,Tv,Er],sA),vW=ce([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),bW=ce([Er,ns],$v),Zc=ce([vW,$r,bW],Nv),SW=ce([Zc],e=>e.filter(dp)),jW=ce([Zc],Lv),ss=ce([jW,sa],Wv),wW=ce([SW,sa,$r],UT),tb=ce([ss,$r,Zc],Iv),CW=ce([$r],qv),kW=ce([Zc],e=>e.filter(dp)),zW=ce([wW,kW,Kc],QT),_W=ce([zW,sa,Er],ZT),TW=ce([Zc],VT),AW=ce([ss,$r,TW,gp,Er],JT),EW=ce([tA,Er,ns],is),OW=ce([EW,Er],iA),MW=ce([rA,Er,ns],is),RW=ce([MW,Er],oA),DW=ce([nA,Er,ns],is),PW=ce([DW,Er],aA),$W=ce([OW,PW,RW],jf),NW=ce([$r,CW,_W,AW,$W,yt,Er],Uv),EA=ce([$r,yt,ss,tb,Kc,Er,NW],Hv),LW=ce([EA,$r,eb],Yv),WW=ce([$r,EA,LW,Er],Gv),OA=e=>{var t=Er(e),n=ns(e),i=!1;return Xc(e,t,n,i)},MA=ce([$r,OA],cp),RA=ce([$r,eb,WW,MA],Kv),BW=ce([yt,tb,$r,Er],mA),IW=ce([yt,tb,$r,Er],hA),qW=(e,t,n,i,s,c,d,p)=>{if(t){var{type:m}=t,g=ia(e,p);if(i){var h=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,v=m==="category"&&i.bandwidth?i.bandwidth()/h:0;return v=p==="angleAxis"&&s!=null&&s?.length>=2?Dr(s[0]-s[1])*2*v:v,g&&d?d.map((S,j)=>({coordinate:i(S)+v,value:S,index:j,offset:v})):i.domain().map((S,j)=>({coordinate:i(S)+v,value:c?c[S]:S,index:j,offset:v}))}}},jo=ce([yt,$r,eb,RA,OA,BW,IW,Er],qW),rb=ce([xA,vA,tW],(e,t,n)=>bA(n.shared,e,t)),DA=e=>e.tooltip.settings.trigger,nb=e=>e.tooltip.settings.defaultIndex,yp=ce([ls,rb,DA,nb],zA),Jo=ce([yp,ss],Jv),PA=ce([jo,Jo],SA),$A=ce([yp],e=>{if(e)return e.dataKey}),NA=ce([ls,rb,DA,nb],TA),UW=ce([yo,xo,yt,Tr,jo,nb,NA,Qc],_A),HW=ce([yp,UW],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),FW=ce([yp],e=>e.active),KW=ce([NA,Jo,sa,qT,PA,Qc,rb],AA),YW=ce([KW],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function Ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function kk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(n),!0).forEach(function(i){VW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function VW(e,t,n){return(t=GW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(e){var t=XW(e,"string");return typeof t=="symbol"?t:t+""}function XW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QW=()=>Ie($r),ZW=()=>{var e=QW(),t=Ie(jo),n=Ie(RA);return jc(kk(kk({},e),{},{scale:n}),t)},JW=()=>Ie(Tv),ib=(e,t)=>t,LA=(e,t,n)=>n,ob=(e,t,n,i)=>i,eB=ce(jo,e=>Hf(e,t=>t.coordinate)),ab=ce([ls,ib,LA,ob],zA),WA=ce([ab,ss],Jv),tB=(e,t,n)=>{if(t!=null){var i=ls(e);return t==="axis"?n==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:n==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},BA=ce([ls,ib,LA,ob],TA),wf=ce([yo,xo,yt,Tr,jo,ob,BA,Qc],_A),rB=ce([ab,wf],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),IA=ce(jo,WA,SA),nB=ce([BA,WA,sa,qT,IA,Qc,ib],AA),iB=ce([ab],e=>({isActive:e.active,activeIndex:e.index})),oB=(e,t,n,i,s,c,d,p)=>{if(!(!e||!t||!i||!s||!c)){var m=z4(e.chartX,e.chartY,t,n,p);if(m){var g=T4(m,t),h=p4(g,d,c,i,s),v=_4(t,c,h,m);return{activeIndex:String(h),activeCoordinate:v}}}};function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},nx.apply(null,arguments)}function zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(n),!0).forEach(function(i){aB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function aB(e,t,n){return(t=lB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lB(e){var t=sB(e,"string");return typeof t=="symbol"?t:t+""}function sB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cB(e){var{coordinate:t,payload:n,index:i,offset:s,tooltipAxisBandSize:c,layout:d,cursor:p,tooltipEventType:m,chartName:g}=e,h=t,v=n,S=i;if(!p||!h||g!=="ScatterChart"&&m!=="axis")return null;var j,k;if(g==="ScatterChart")j=h,k=T3;else if(g==="BarChart")j=A3(d,h,s,c),k=P_;else if(d==="radial"){var{cx:w,cy:C,radius:_,startAngle:E,endAngle:A}=$_(h);j={cx:w,cy:C,startAngle:E,endAngle:A,innerRadius:_,outerRadius:_},k=L_}else j={points:s6(d,h,s)},k=tv;var T=typeof p=="object"&&"className"in p?p.className:void 0,O=Td(Td(Td(Td({stroke:"#ccc",pointerEvents:"none"},s),j),or(p,!1)),{},{payload:v,payloadIndex:S,className:St("recharts-tooltip-cursor",T)});return x.isValidElement(p)?x.cloneElement(p,O):x.createElement(k,O)}function uB(e){var t=ZW(),n=z_(),i=ep(),s=JW();return x.createElement(cB,nx({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:i,tooltipAxisBandSize:t,chartName:s}))}var qA=x.createContext(null),dB=()=>x.useContext(qA),Qh={exports:{}},_k;function fB(){return _k||(_k=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function s(m,g,h){this.fn=m,this.context=g,this.once=h||!1}function c(m,g,h,v,S){if(typeof h!="function")throw new TypeError("The listener must be a function");var j=new s(h,v||m,S),k=n?n+g:g;return m._events[k]?m._events[k].fn?m._events[k]=[m._events[k],j]:m._events[k].push(j):(m._events[k]=j,m._eventsCount++),m}function d(m,g){--m._eventsCount===0?m._events=new i:delete m._events[g]}function p(){this._events=new i,this._eventsCount=0}p.prototype.eventNames=function(){var g=[],h,v;if(this._eventsCount===0)return g;for(v in h=this._events)t.call(h,v)&&g.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(h)):g},p.prototype.listeners=function(g){var h=n?n+g:g,v=this._events[h];if(!v)return[];if(v.fn)return[v.fn];for(var S=0,j=v.length,k=new Array(j);S<j;S++)k[S]=v[S].fn;return k},p.prototype.listenerCount=function(g){var h=n?n+g:g,v=this._events[h];return v?v.fn?1:v.length:0},p.prototype.emit=function(g,h,v,S,j,k){var w=n?n+g:g;if(!this._events[w])return!1;var C=this._events[w],_=arguments.length,E,A;if(C.fn){switch(C.once&&this.removeListener(g,C.fn,void 0,!0),_){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,h),!0;case 3:return C.fn.call(C.context,h,v),!0;case 4:return C.fn.call(C.context,h,v,S),!0;case 5:return C.fn.call(C.context,h,v,S,j),!0;case 6:return C.fn.call(C.context,h,v,S,j,k),!0}for(A=1,E=new Array(_-1);A<_;A++)E[A-1]=arguments[A];C.fn.apply(C.context,E)}else{var T=C.length,O;for(A=0;A<T;A++)switch(C[A].once&&this.removeListener(g,C[A].fn,void 0,!0),_){case 1:C[A].fn.call(C[A].context);break;case 2:C[A].fn.call(C[A].context,h);break;case 3:C[A].fn.call(C[A].context,h,v);break;case 4:C[A].fn.call(C[A].context,h,v,S);break;default:if(!E)for(O=1,E=new Array(_-1);O<_;O++)E[O-1]=arguments[O];C[A].fn.apply(C[A].context,E)}}return!0},p.prototype.on=function(g,h,v){return c(this,g,h,v,!1)},p.prototype.once=function(g,h,v){return c(this,g,h,v,!0)},p.prototype.removeListener=function(g,h,v,S){var j=n?n+g:g;if(!this._events[j])return this;if(!h)return d(this,j),this;var k=this._events[j];if(k.fn)k.fn===h&&(!S||k.once)&&(!v||k.context===v)&&d(this,j);else{for(var w=0,C=[],_=k.length;w<_;w++)(k[w].fn!==h||S&&!k[w].once||v&&k[w].context!==v)&&C.push(k[w]);C.length?this._events[j]=C.length===1?C[0]:C:d(this,j)}return this},p.prototype.removeAllListeners=function(g){var h;return g?(h=n?n+g:g,this._events[h]&&d(this,h)):(this._events=new i,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prefixed=n,p.EventEmitter=p,e.exports=p})(Qh)),Qh.exports}var pB=fB();const gB=ho(pB);var Ac=new gB,ix="recharts.syncEvent.tooltip",Tk="recharts.syncEvent.brush";function lb(e,t){if(t){var n=Number.parseInt(t,10);if(!En(n))return e?.[n]}}var mB={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},UA=Rn({name:"options",initialState:mB,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),hB=UA.reducer,{createEventEmitter:yB}=UA.actions;function xB(e){return e.tooltip.syncInteraction}var vB={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},HA=Rn({name:"chartData",initialState:vB,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:i}=t.payload;n!=null&&(e.dataStartIndex=n),i!=null&&(e.dataEndIndex=i)}}}),{setChartData:Ak,setDataStartEndIndexes:bB,setComputedData:lG}=HA.actions,SB=HA.reducer,jB=["x","y"];function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function _a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(n),!0).forEach(function(i){wB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function wB(e,t,n){return(t=CB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CB(e){var t=kB(e,"string");return typeof t=="symbol"?t:t+""}function kB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zB(e,t){if(e==null)return{};var n,i,s=_B(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function _B(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var FA=()=>{};function TB(){var e=Ie(Av),t=Ie(Ev),n=ar(),i=Ie($T),s=Ie(jo),c=ep(),d=Qx(),p=Ie(m=>m.rootProps.className);x.useEffect(()=>{if(e==null)return FA;var m=(g,h,v)=>{if(t!==v&&e===g){if(i==="index"){var S;if(d&&h!==null&&h!==void 0&&(S=h.payload)!==null&&S!==void 0&&S.coordinate){var j=h.payload.coordinate,{x:k,y:w}=j,C=zB(j,jB),_=_a(_a(_a({},C),typeof k=="number"&&{x:Math.max(d.x,Math.min(k,d.x+d.width))}),typeof w=="number"&&{y:Math.max(d.y,Math.min(w,d.y+d.height))}),E=_a(_a({},h),{},{payload:_a(_a({},h.payload),{},{coordinate:_})});n(E)}else n(h);return}if(s!=null){var A;if(typeof i=="function"){var T={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=i(s,T);A=s[O]}else i==="value"&&(A=s.find(Se=>String(Se.value)===h.payload.label));var{coordinate:P}=h.payload;if(A==null||h.payload.active===!1||P==null||d==null){n(tx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:R,y:U}=P,ee=Math.min(R,d.x+d.width),fe=Math.min(U,d.y+d.height),de={x:c==="horizontal"?A.coordinate:ee,y:c==="horizontal"?fe:A.coordinate},re=tx({active:h.payload.active,coordinate:de,dataKey:h.payload.dataKey,index:String(A.index),label:h.payload.label});n(re)}}};return Ac.on(ix,m),()=>{Ac.off(ix,m)}},[p,n,t,e,i,s,c,d])}function AB(){var e=Ie(Av),t=Ie(Ev),n=ar();x.useEffect(()=>{if(e==null)return FA;var i=(s,c,d)=>{t!==d&&e===s&&n(bB(c))};return Ac.on(Tk,i),()=>{Ac.off(Tk,i)}},[n,t,e])}function EB(){var e=ar();x.useEffect(()=>{e(yB())},[e]),TB(),AB()}function OB(e,t,n,i,s,c){var d=Ie(S=>tB(S,e,t)),p=Ie(Ev),m=Ie(Av),g=Ie($T),h=Ie(xB),v=h?.active;x.useEffect(()=>{if(!v&&m!=null&&p!=null){var S=tx({active:c,coordinate:n,dataKey:d,index:s,label:typeof i=="number"?String(i):i});Ac.emit(ix,m,S,p)}},[v,n,d,s,i,p,m,g,c])}function Ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Mk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(n),!0).forEach(function(i){MB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function MB(e,t,n){return(t=RB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RB(e){var t=DB(e,"string");return typeof t=="symbol"?t:t+""}function DB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PB(e){return e.dataKey}function $B(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(a3,t)}var Rk=[],NB={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!oa.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ad(e){var t=Fr(e,NB),{active:n,allowEscapeViewBox:i,animationDuration:s,animationEasing:c,content:d,filterNull:p,isAnimationActive:m,offset:g,payloadUniqBy:h,position:v,reverseDirection:S,useTranslate3d:j,wrapperStyle:k,cursor:w,shared:C,trigger:_,defaultIndex:E,portal:A,axisId:T}=t,O=ar(),P=typeof E=="number"?String(E):E;x.useEffect(()=>{O(oW({shared:C,trigger:_,axisId:T,active:n,defaultIndex:P}))},[O,C,_,T,n,P]);var R=Qx(),U=E_(),ee=eW(C),{activeIndex:fe,isActive:de}=Ie(ne=>iB(ne,ee,_,P)),re=Ie(ne=>nB(ne,ee,_,P)),Se=Ie(ne=>IA(ne,ee,_,P)),he=Ie(ne=>rB(ne,ee,_,P)),ge=re,F=dB(),Y=n??de,[me,be]=Vz([ge,Y]),Ee=ee==="axis"?Se:void 0;OB(ee,_,he,Ee,fe,Y);var $=A??F;if($==null)return null;var W=ge??Rk;Y||(W=Rk),p&&W.length&&(W=Uz(ge.filter(ne=>ne.value!=null&&(ne.hide!==!0||t.includeHidden)),h,PB));var L=W.length>0,V=x.createElement(p3,{allowEscapeViewBox:i,animationDuration:s,animationEasing:c,isAnimationActive:m,active:Y,coordinate:he,hasPayload:L,offset:g,position:v,reverseDirection:S,useTranslate3d:j,viewBox:R,wrapperStyle:k,lastBoundingBox:me,innerRef:be,hasPortalFromProps:!!A},$B(d,Mk(Mk({},t),{},{payload:W,label:Ee,active:Y,coordinate:he,accessibilityLayer:U})));return x.createElement(x.Fragment,null,Yd.createPortal(V,$),Y&&x.createElement(uB,{cursor:w,tooltipEventType:ee,coordinate:he,payload:ge,index:fe}))}var Zh={},Jh={},ey={},Dk;function LB(){return Dk||(Dk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i,{signal:s,edges:c}={}){let d,p=null;const m=c!=null&&c.includes("leading"),g=c==null||c.includes("trailing"),h=()=>{p!==null&&(n.apply(d,p),d=void 0,p=null)},v=()=>{g&&h(),w()};let S=null;const j=()=>{S!=null&&clearTimeout(S),S=setTimeout(()=>{S=null,v()},i)},k=()=>{S!==null&&(clearTimeout(S),S=null)},w=()=>{k(),d=void 0,p=null},C=()=>{h()},_=function(...E){if(s?.aborted)return;d=this,p=E;const A=S==null;j(),m&&A&&h()};return _.schedule=j,_.cancel=w,_.flush=C,s?.addEventListener("abort",w,{once:!0}),_}e.debounce=t})(ey)),ey}var Pk;function WB(){return Pk||(Pk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LB();function n(i,s=0,c={}){typeof c!="object"&&(c={});const{leading:d=!1,trailing:p=!0,maxWait:m}=c,g=Array(2);d&&(g[0]="leading"),p&&(g[1]="trailing");let h,v=null;const S=t.debounce(function(...w){h=i.apply(this,w),v=null},s,{edges:g}),j=function(...w){return m!=null&&(v===null&&(v=Date.now()),Date.now()-v>=m)?(h=i.apply(this,w),v=Date.now(),S.cancel(),S.schedule(),h):(S.apply(this,w),h)},k=()=>(S.flush(),h);return j.cancel=S.cancel,j.flush=k,j}e.debounce=n})(Jh)),Jh}var $k;function BB(){return $k||($k=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WB();function n(i,s=0,c={}){const{leading:d=!0,trailing:p=!0}=c;return t.debounce(i,s,{leading:d,maxWait:s,trailing:p})}e.throttle=n})(Zh)),Zh}var ty,Nk;function IB(){return Nk||(Nk=1,ty=BB().throttle),ty}var qB=IB();const UB=ho(qB);var pc=function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),c=2;c<i;c++)s[c-2]=arguments[c]};function Lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function ry(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lk(Object(n),!0).forEach(function(i){HB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function HB(e,t,n){return(t=FB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FB(e){var t=KB(e,"string");return typeof t=="symbol"?t:t+""}function KB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ed=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:i={width:-1,height:-1},width:s="100%",height:c="100%",minWidth:d=0,minHeight:p,maxHeight:m,children:g,debounce:h=0,id:v,className:S,onResize:j,style:k={}}=e,w=x.useRef(null),C=x.useRef();C.current=j,x.useImperativeHandle(t,()=>w.current);var[_,E]=x.useState({containerWidth:i.width,containerHeight:i.height}),A=x.useCallback((O,P)=>{E(R=>{var U=Math.round(O),ee=Math.round(P);return R.containerWidth===U&&R.containerHeight===ee?R:{containerWidth:U,containerHeight:ee}})},[]);x.useEffect(()=>{var O=ee=>{var fe,{width:de,height:re}=ee[0].contentRect;A(de,re),(fe=C.current)===null||fe===void 0||fe.call(C,de,re)};h>0&&(O=UB(O,h,{trailing:!0,leading:!1}));var P=new ResizeObserver(O),{width:R,height:U}=w.current.getBoundingClientRect();return A(R,U),P.observe(w.current),()=>{P.disconnect()}},[A,h]);var T=x.useMemo(()=>{var{containerWidth:O,containerHeight:P}=_;if(O<0||P<0)return null;pc(Oa(s)||Oa(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),pc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=Oa(s)?O:s,U=Oa(c)?P:c;return n&&n>0&&(R?U=R/n:U&&(R=U*n),m&&U>m&&(U=m)),pc(R>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,U,s,c,d,p,n),x.Children.map(g,ee=>x.cloneElement(ee,{width:R,height:U,style:ry({width:R,height:U},ee.props.style)}))},[n,g,c,m,p,d,_,s]);return x.createElement("div",{id:v?"".concat(v):void 0,className:St("recharts-responsive-container",S),style:ry(ry({},k),{},{width:s,height:c,minWidth:d,minHeight:p,maxHeight:m}),ref:w},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},T))}),Fl=e=>null;Fl.displayName="Cell";function YB(e,t,n){return(t=VB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VB(e){var t=GB(e,"string");return typeof t=="symbol"?t:t+""}function GB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class XB{constructor(t){YB(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function QB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wk(Object(n),!0).forEach(function(i){ZB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ZB(e,t,n){return(t=JB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JB(e){var t=eI(e,"string");return typeof t=="symbol"?t:t+""}function eI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tI={cacheSize:2e3,enableCache:!0},KA=QB({},tI),Bk=new XB(KA.cacheSize),rI={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ik="recharts_measurement_span";function nI(e,t){var n=t.fontSize||"",i=t.fontFamily||"",s=t.fontWeight||"",c=t.fontStyle||"",d=t.letterSpacing||"",p=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(c,"|").concat(d,"|").concat(p)}var qk=(e,t)=>{try{var n=document.getElementById(Ik);n||(n=document.createElement("span"),n.setAttribute("id",Ik),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,rI,t),n.textContent="".concat(e);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},gc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||oa.isSsr)return{width:0,height:0};if(!KA.enableCache)return qk(t,n);var i=nI(t,n),s=Bk.get(i);if(s)return s;var c=qk(t,n);return Bk.set(i,c),c},Uk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iI=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oI=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},aI=Object.keys(YA),Dl="NaN";function lI(e,t){return e*YA[t]}class dn{static parse(t){var n,[,i,s]=(n=oI.exec(t))!==null&&n!==void 0?n:[];return new dn(parseFloat(i),s??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,En(t)&&(this.unit=""),n!==""&&!iI.test(n)&&(this.num=NaN,this.unit=""),aI.includes(n)&&(this.num=lI(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new dn(NaN,""):new dn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new dn(NaN,""):new dn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new dn(NaN,""):new dn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new dn(NaN,""):new dn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return En(this.num)}}function VA(e){if(e.includes(Dl))return Dl;for(var t=e;t.includes("*")||t.includes("/");){var n,[,i,s,c]=(n=Uk.exec(t))!==null&&n!==void 0?n:[],d=dn.parse(i??""),p=dn.parse(c??""),m=s==="*"?d.multiply(p):d.divide(p);if(m.isNaN())return Dl;t=t.replace(Uk,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var g,[,h,v,S]=(g=Hk.exec(t))!==null&&g!==void 0?g:[],j=dn.parse(h??""),k=dn.parse(S??""),w=v==="+"?j.add(k):j.subtract(k);if(w.isNaN())return Dl;t=t.replace(Hk,w.toString())}return t}var Fk=/\(([^()]*)\)/;function sI(e){for(var t=e,n;(n=Fk.exec(t))!=null;){var[,i]=n;t=t.replace(Fk,VA(i))}return t}function cI(e){var t=e.replace(/\s+/g,"");return t=sI(t),t=VA(t),t}function uI(e){try{return cI(e)}catch{return Dl}}function ny(e){var t=uI(e.slice(5,-1));return t===Dl?"":t}var dI=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fI=["dx","dy","angle","className","breakAll"];function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ox.apply(null,arguments)}function Kk(e,t){if(e==null)return{};var n,i,s=pI(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function pI(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var GA=/[ \f\n\r\t\v\u2028\u2029]+/,XA=e=>{var{children:t,breakAll:n,style:i}=e;try{var s=[];rr(t)||(n?s=t.toString().split(""):s=t.toString().split(GA));var c=s.map(p=>({word:p,width:gc(p,i).width})),d=n?0:gc("",i).width;return{wordsWithComputedWidth:c,spaceWidth:d}}catch{return null}},gI=(e,t,n,i,s)=>{var{maxLines:c,children:d,style:p,breakAll:m}=e,g=Ge(c),h=d,v=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return de.reduce((re,Se)=>{var{word:he,width:ge}=Se,F=re[re.length-1];if(F&&(i==null||s||F.width+ge+n<Number(i)))F.words.push(he),F.width+=ge+n;else{var Y={words:[he],width:ge};re.push(Y)}return re},[])},S=v(t),j=fe=>fe.reduce((de,re)=>de.width>re.width?de:re);if(!g||s)return S;var k=S.length>c||j(S).width>Number(i);if(!k)return S;for(var w="",C=fe=>{var de=h.slice(0,fe),re=XA({breakAll:m,style:p,children:de+w}).wordsWithComputedWidth,Se=v(re),he=Se.length>c||j(Se).width>Number(i);return[he,Se]},_=0,E=h.length-1,A=0,T;_<=E&&A<=h.length-1;){var O=Math.floor((_+E)/2),P=O-1,[R,U]=C(P),[ee]=C(O);if(!R&&!ee&&(_=O+1),R&&ee&&(E=O-1),!R&&ee){T=U;break}A++}return T||S},Yk=e=>{var t=rr(e)?[]:e.toString().split(GA);return[{words:t}]},mI=e=>{var{width:t,scaleToFit:n,children:i,style:s,breakAll:c,maxLines:d}=e;if((t||n)&&!oa.isSsr){var p,m,g=XA({breakAll:c,children:i,style:s});if(g){var{wordsWithComputedWidth:h,spaceWidth:v}=g;p=h,m=v}else return Yk(i);return gI({breakAll:c,children:i,maxLines:d,style:s},p,m,t,n)}return Yk(i)},Vk="#808080",xp=x.forwardRef((e,t)=>{var{x:n=0,y:i=0,lineHeight:s="1em",capHeight:c="0.71em",scaleToFit:d=!1,textAnchor:p="start",verticalAnchor:m="end",fill:g=Vk}=e,h=Kk(e,dI),v=x.useMemo(()=>mI({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:d,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,d,h.style,h.width]),{dx:S,dy:j,angle:k,className:w,breakAll:C}=h,_=Kk(h,fI);if(!Ei(n)||!Ei(i)||v.length===0)return null;var E=n+(Ge(S)?S:0),A=i+(Ge(j)?j:0),T;switch(m){case"start":T=ny("calc(".concat(c,")"));break;case"middle":T=ny("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:T=ny("calc(".concat(v.length-1," * -").concat(s,")"));break}var O=[];if(d){var P=v[0].width,{width:R}=h;O.push("scale(".concat(Ge(R)?R/P:1,")"))}return k&&O.push("rotate(".concat(k,", ").concat(E,", ").concat(A,")")),O.length&&(_.transform=O.join(" ")),x.createElement("text",ox({},or(_,!0),{ref:t,x:E,y:A,className:St("recharts-text",w),textAnchor:p,fill:g.includes("url")?Vk:g}),v.map((U,ee)=>{var fe=U.words.join(C?"":" ");return x.createElement("tspan",{x:E,dy:ee===0?T:s,key:"".concat(fe,"-").concat(ee)},fe)}))});xp.displayName="Text";var hI=["labelRef"];function yI(e,t){if(e==null)return{};var n,i,s=xI(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function xI(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(n),!0).forEach(function(i){vI(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function vI(e,t,n){return(t=bI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bI(e){var t=SI(e,"string");return typeof t=="symbol"?t:t+""}function SI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ro.apply(null,arguments)}var QA=x.createContext(null),jI=e=>{var{x:t,y:n,width:i,height:s,children:c}=e,d=x.useMemo(()=>({x:t,y:n,width:i,height:s}),[t,n,i,s]);return x.createElement(QA.Provider,{value:d},c)},ZA=()=>{var e=x.useContext(QA),t=Qx();return e||t},wI=x.createContext(null),CI=()=>{var e=x.useContext(wI),t=Ie(IT);return e||t},kI=e=>{var{value:t,formatter:n}=e,i=rr(e.children)?t:e.children;return typeof n=="function"?n(i):i},sb=e=>e!=null&&typeof e=="function",zI=(e,t)=>{var n=Dr(t-e),i=Math.min(Math.abs(t-e),360);return n*i},_I=(e,t,n,i,s)=>{var{offset:c,className:d}=e,{cx:p,cy:m,innerRadius:g,outerRadius:h,startAngle:v,endAngle:S,clockWise:j}=s,k=(g+h)/2,w=zI(v,S),C=w>=0?1:-1,_,E;switch(t){case"insideStart":_=v+C*c,E=j;break;case"insideEnd":_=S-C*c,E=!j;break;case"end":_=S+C*c,E=j;break;default:throw new Error("Unsupported position ".concat(t))}E=w<=0?E:!E;var A=jr(p,m,k,_),T=jr(p,m,k,_+(E?1:-1)*359),O="M".concat(A.x,",").concat(A.y,`
    A`).concat(k,",").concat(k,",0,1,").concat(E?0:1,`,
    `).concat(T.x,",").concat(T.y),P=rr(e.id)?vc("recharts-radial-line-"):e.id;return x.createElement("text",ro({},i,{dominantBaseline:"central",className:St("recharts-radial-bar-label",d)}),x.createElement("defs",null,x.createElement("path",{id:P,d:O})),x.createElement("textPath",{xlinkHref:"#".concat(P)},n))},TI=(e,t,n)=>{var{cx:i,cy:s,innerRadius:c,outerRadius:d,startAngle:p,endAngle:m}=e,g=(p+m)/2;if(n==="outside"){var{x:h,y:v}=jr(i,s,d+t,g);return{x:h,y:v,textAnchor:h>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var S=(c+d)/2,{x:j,y:k}=jr(i,s,S,g);return{x:j,y:k,textAnchor:"middle",verticalAnchor:"middle"}},JA=e=>"cx"in e&&Ge(e.cx),AI=(e,t)=>{var{parentViewBox:n,offset:i,position:s}=e,c;n!=null&&!JA(n)&&(c=n);var{x:d,y:p,width:m,height:g}=t,h=g>=0?1:-1,v=h*i,S=h>0?"end":"start",j=h>0?"start":"end",k=m>=0?1:-1,w=k*i,C=k>0?"end":"start",_=k>0?"start":"end";if(s==="top"){var E={x:d+m/2,y:p-h*i,textAnchor:"middle",verticalAnchor:S};return gr(gr({},E),c?{height:Math.max(p-c.y,0),width:m}:{})}if(s==="bottom"){var A={x:d+m/2,y:p+g+v,textAnchor:"middle",verticalAnchor:j};return gr(gr({},A),c?{height:Math.max(c.y+c.height-(p+g),0),width:m}:{})}if(s==="left"){var T={x:d-w,y:p+g/2,textAnchor:C,verticalAnchor:"middle"};return gr(gr({},T),c?{width:Math.max(T.x-c.x,0),height:g}:{})}if(s==="right"){var O={x:d+m+w,y:p+g/2,textAnchor:_,verticalAnchor:"middle"};return gr(gr({},O),c?{width:Math.max(c.x+c.width-O.x,0),height:g}:{})}var P=c?{width:m,height:g}:{};return s==="insideLeft"?gr({x:d+w,y:p+g/2,textAnchor:_,verticalAnchor:"middle"},P):s==="insideRight"?gr({x:d+m-w,y:p+g/2,textAnchor:C,verticalAnchor:"middle"},P):s==="insideTop"?gr({x:d+m/2,y:p+v,textAnchor:"middle",verticalAnchor:j},P):s==="insideBottom"?gr({x:d+m/2,y:p+g-v,textAnchor:"middle",verticalAnchor:S},P):s==="insideTopLeft"?gr({x:d+w,y:p+v,textAnchor:_,verticalAnchor:j},P):s==="insideTopRight"?gr({x:d+m-w,y:p+v,textAnchor:C,verticalAnchor:j},P):s==="insideBottomLeft"?gr({x:d+w,y:p+g-v,textAnchor:_,verticalAnchor:S},P):s==="insideBottomRight"?gr({x:d+m-w,y:p+g-v,textAnchor:C,verticalAnchor:S},P):s&&typeof s=="object"&&(Ge(s.x)||Oa(s.x))&&(Ge(s.y)||Oa(s.y))?gr({x:d+Gr(s.x,m),y:p+Gr(s.y,g),textAnchor:"end",verticalAnchor:"end"},P):gr({x:d+m/2,y:p+g/2,textAnchor:"middle",verticalAnchor:"middle"},P)},EI={offset:5};function Vo(e){var t=Fr(e,EI),{viewBox:n,position:i,value:s,children:c,content:d,className:p="",textBreakAll:m,labelRef:g}=t,h=CI(),v=ZA(),S=i==="center"?v:h??v,j=n||S;if(!j||rr(s)&&rr(c)&&!x.isValidElement(d)&&typeof d!="function")return null;var k=gr(gr({},t),{},{viewBox:j});if(x.isValidElement(d)){var{labelRef:w}=k,C=yI(k,hI);return x.cloneElement(d,C)}var _;if(typeof d=="function"){if(_=x.createElement(d,k),x.isValidElement(_))return _}else _=kI(t);var E=JA(j),A=or(t,!0);if(E&&(i==="insideStart"||i==="insideEnd"||i==="end"))return _I(t,i,_,A,j);var T=E?TI(j,t.offset,t.position):AI(t,j);return x.createElement(xp,ro({ref:g,className:St("recharts-label",p)},A,T,{breakAll:m}),_)}Vo.displayName="Label";var OI=(e,t,n)=>{if(!e)return null;var i={viewBox:t,labelRef:n};return e===!0?x.createElement(Vo,ro({key:"label-implicit"},i)):Ei(e)?x.createElement(Vo,ro({key:"label-implicit",value:e},i)):x.isValidElement(e)?e.type===Vo?x.cloneElement(e,gr({key:"label-implicit"},i)):x.createElement(Vo,ro({key:"label-implicit",content:e},i)):sb(e)?x.createElement(Vo,ro({key:"label-implicit",content:e},i)):e&&typeof e=="object"?x.createElement(Vo,ro({},e,{key:"label-implicit"},i)):null};function MI(e){var{label:t}=e,n=ZA();return OI(t,n)||null}var iy={},oy={},Xk;function RI(){return Xk||(Xk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(oy)),oy}var ay={},Qk;function DI(){return Qk||(Qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(ay)),ay}var Zk;function PI(){return Zk||(Zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RI(),n=DI(),i=qx();function s(c){if(i.isArrayLike(c))return t.last(n.toArray(c))}e.last=s})(iy)),iy}var ly,Jk;function $I(){return Jk||(Jk=1,ly=PI().last),ly}var NI=$I();const LI=ho(NI);var WI=["valueAccessor"],BI=["dataKey","clockWise","id","textBreakAll"];function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cf.apply(null,arguments)}function e2(e,t){if(e==null)return{};var n,i,s=II(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function II(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var qI=e=>Array.isArray(e.value)?LI(e.value):e.value,eE=x.createContext(void 0),tE=eE.Provider,rE=x.createContext(void 0),UI=rE.Provider;function HI(){return x.useContext(eE)}function FI(){return x.useContext(rE)}function Wd(e){var{valueAccessor:t=qI}=e,n=e2(e,WI),{dataKey:i,clockWise:s,id:c,textBreakAll:d}=n,p=e2(n,BI),m=HI(),g=FI(),h=m||g;return!h||!h.length?null:x.createElement(Hr,{className:"recharts-label-list"},h.map((v,S)=>{var j,k=rr(i)?t(v,S):Kt(v&&v.payload,i),w=rr(c)?{}:{id:"".concat(c,"-").concat(S)};return x.createElement(Vo,Cf({},or(v,!0),p,w,{fill:(j=n.fill)!==null&&j!==void 0?j:v.fill,parentViewBox:v.parentViewBox,value:k,textBreakAll:d,viewBox:v.viewBox,key:"label-".concat(S),index:S}))}))}Wd.displayName="LabelList";function cb(e){var{label:t}=e;return t?t===!0?x.createElement(Wd,{key:"labelList-implicit"}):x.isValidElement(t)||sb(t)?x.createElement(Wd,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Wd,Cf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ax.apply(null,arguments)}var nE=e=>{var{cx:t,cy:n,r:i,className:s}=e,c=St("recharts-dot",s);return t===+t&&n===+n&&i===+i?x.createElement("circle",ax({},Di(e),Rx(e),{className:c,cx:t,cy:n,r:i})):null},iE=e=>e.graphicalItems.polarItems,KI=ce([nr,Yc],$v),ub=ce([iE,hr,KI],Nv),YI=ce([ub],Lv),db=ce([YI,kv],Wv),VI=ce([db,hr,ub],Iv),GI=ce([db,hr,ub],(e,t,n)=>n.length>0?e.flatMap(i=>n.flatMap(s=>{var c,d=Kt(i,(c=t.dataKey)!==null&&c!==void 0?c:s.dataKey);return{value:d,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(i=>({value:Kt(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]}))),t2=()=>{},XI=ce([hr,lA,t2,GI,t2,yt,nr],Uv),oE=ce([hr,yt,db,VI,Kc,nr,XI],Hv),QI=ce([oE,hr,os],Yv);ce([hr,oE,QI,nr],Gv);var ZI={radiusAxis:{},angleAxis:{}},aE=Rn({name:"polarAxis",initialState:ZI,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:sG,removeRadiusAxis:cG,addAngleAxis:uG,removeAngleAxis:dG}=aE.actions,JI=aE.reducer;function r2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function n2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(n),!0).forEach(function(i){e7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function e7(e,t,n){return(t=t7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t7(e){var t=r7(e,"string");return typeof t=="symbol"?t:t+""}function r7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n7=(e,t)=>t,fb=ce([iE,n7],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),i7=[],pb=(e,t,n)=>n?.length===0?i7:n,lE=ce([kv,fb,pb],(e,t,n)=>{var{chartData:i}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=i,(!s||!s.length)&&n!=null&&(s=n.map(c=>n2(n2({},t.presentationProps),c.props))),s!=null)return s}}),o7=ce([lE,fb,pb],(e,t,n)=>{if(!(e==null||t==null))return e.map((i,s)=>{var c,d=Kt(i,t.nameKey,t.name),p;return n!=null&&(c=n[s])!==null&&c!==void 0&&(c=c.props)!==null&&c!==void 0&&c.fill?p=n[s].props.fill:typeof i=="object"&&i!=null&&"fill"in i?p=i.fill:p=t.fill,{value:Jl(d,t.dataKey),color:p,payload:i,type:t.legendType}})}),a7=ce([lE,fb,pb,Tr],(e,t,n,i)=>{if(!(t==null||e==null))return nq({offset:i,pieSettings:t,displayedData:e,cells:n})}),sy={},i2;function l7(){return i2||(i2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${s}]`}let i=n;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(n)===i}e.isPlainObject=t})(sy)),sy}var cy,o2;function s7(){return o2||(o2=1,cy=l7().isPlainObject),cy}var c7=s7();const u7=ho(c7);function a2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function l2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(n),!0).forEach(function(i){d7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function d7(e,t,n){return(t=f7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f7(e){var t=p7(e,"string");return typeof t=="symbol"?t:t+""}function p7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kf.apply(null,arguments)}var s2=(e,t,n,i,s)=>{var c=n-i,d;return d="M ".concat(e,",").concat(t),d+="L ".concat(e+n,",").concat(t),d+="L ".concat(e+n-c/2,",").concat(t+s),d+="L ".concat(e+n-c/2-i,",").concat(t+s),d+="L ".concat(e,",").concat(t," Z"),d},g7={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},m7=e=>{var t=Fr(e,g7),{x:n,y:i,upperWidth:s,lowerWidth:c,height:d,className:p}=t,{animationEasing:m,animationDuration:g,animationBegin:h,isUpdateAnimationActive:v}=t,S=x.useRef(),[j,k]=x.useState(-1),w=x.useRef(s),C=x.useRef(c),_=x.useRef(d),E=x.useRef(n),A=x.useRef(i),T=Ic(e,"trapezoid-");if(x.useEffect(()=>{if(S.current&&S.current.getTotalLength)try{var he=S.current.getTotalLength();he&&k(he)}catch{}},[]),n!==+n||i!==+i||s!==+s||c!==+c||d!==+d||s===0&&c===0||d===0)return null;var O=St("recharts-trapezoid",p);if(!v)return x.createElement("g",null,x.createElement("path",kf({},or(t,!0),{className:O,d:s2(n,i,s,c,d)})));var P=w.current,R=C.current,U=_.current,ee=E.current,fe=A.current,de="0px ".concat(j===-1?1:j,"px"),re="".concat(j,"px 0px"),Se=O_(["strokeDasharray"],g,m);return x.createElement(Bc,{animationId:T,key:T,canBegin:j>0,duration:g,easing:m,isActive:v,begin:h},he=>{var ge=dr(P,s,he),F=dr(R,c,he),Y=dr(U,d,he),me=dr(ee,n,he),be=dr(fe,i,he);S.current&&(w.current=ge,C.current=F,_.current=Y,E.current=me,A.current=be);var Ee=he>0?{transition:Se,strokeDasharray:re}:{strokeDasharray:de};return x.createElement("path",kf({},or(t,!0),{className:O,d:s2(me,be,ge,F,Y),ref:S,style:l2(l2({},Ee),t.style)}))})},h7=["option","shapeType","propTransformer","activeClassName","isActive"];function y7(e,t){if(e==null)return{};var n,i,s=x7(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function x7(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function c2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function zf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(n),!0).forEach(function(i){v7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function v7(e,t,n){return(t=b7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b7(e){var t=S7(e,"string");return typeof t=="symbol"?t:t+""}function S7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j7(e,t){return zf(zf({},t),e)}function w7(e,t){return e==="symbols"}function u2(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(P_,n);case"trapezoid":return x.createElement(m7,n);case"sector":return x.createElement(L_,n);case"symbols":if(w7(t))return x.createElement(Wx,n);break;default:return null}}function C7(e){return x.isValidElement(e)?e.props:e}function sE(e){var{option:t,shapeType:n,propTransformer:i=j7,activeClassName:s="recharts-active-shape",isActive:c}=e,d=y7(e,h7),p;if(x.isValidElement(t))p=x.cloneElement(t,zf(zf({},d),C7(t)));else if(typeof t=="function")p=t(d);else if(u7(t)&&typeof t!="boolean"){var m=i(t,d);p=x.createElement(u2,{shapeType:n,elementProps:m})}else{var g=d;p=x.createElement(u2,{shapeType:n,elementProps:g})}return c?x.createElement(Hr,{className:s},p):p}var gb=(e,t)=>{var n=ar();return(i,s)=>c=>{e?.(i,s,c),n(wA({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition}))}},mb=e=>{var t=ar();return(n,i)=>s=>{e?.(n,i,s),t(aW())}},hb=(e,t)=>{var n=ar();return(i,s)=>c=>{e?.(i,s,c),n(lW({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition}))}};function yb(e){var{fn:t,args:n}=e,i=ar(),s=gn();return x.useEffect(()=>{if(!s){var c=t(n);return i(nW(c)),()=>{i(iW(c))}}},[t,n,i,s]),null}var cE=()=>{};function uE(e){var{legendPayload:t}=e,n=ar(),i=gn();return x.useEffect(()=>i?cE:(n(T_(t)),()=>{n(A_(t))}),[n,i,t]),null}function k7(e){var{legendPayload:t}=e,n=ar(),i=Ie(yt);return x.useEffect(()=>i!=="centric"&&i!=="radial"?cE:(n(T_(t)),()=>{n(A_(t))}),[n,i,t]),null}var uy,z7=()=>{var[e]=x.useState(()=>vc("uid-"));return e},_7=(uy=wR.useId)!==null&&uy!==void 0?uy:z7;function T7(e,t){var n=_7();return t||(e?"".concat(e,"-").concat(n):n)}var A7=x.createContext(void 0),xb=e=>{var{id:t,type:n,children:i}=e,s=T7("recharts-".concat(n),t);return x.createElement(A7.Provider,{value:s},i(s))},E7={cartesianItems:[],polarItems:[]},dE=Rn({name:"graphicalItems",initialState:E7,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:i}=t.payload,s=ao(e).cartesianItems.indexOf(n);s>-1&&(e.cartesianItems[s]=i)},removeCartesianGraphicalItem(e,t){var n=ao(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=ao(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:O7,replaceCartesianGraphicalItem:M7,removeCartesianGraphicalItem:R7,addPolarGraphicalItem:D7,removePolarGraphicalItem:P7}=dE.actions,$7=dE.reducer;function fE(e){var t=ar(),n=x.useRef(null);return x.useEffect(()=>{n.current===null?t(O7(e)):n.current!==e&&t(M7({prev:n.current,next:e})),n.current=e},[t,e]),x.useEffect(()=>()=>{n.current&&(t(R7(n.current)),n.current=null)},[t]),null}function N7(e){var t=ar();return x.useEffect(()=>(t(D7(e)),()=>{t(P7(e))}),[t,e]),null}var L7=["onMouseEnter","onClick","onMouseLeave"],W7=["id"],B7=["id"];function vb(e,t){if(e==null)return{};var n,i,s=I7(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function I7(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function d2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(n),!0).forEach(function(i){q7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function q7(e,t,n){return(t=U7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U7(e){var t=H7(e,"string");return typeof t=="symbol"?t:t+""}function H7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ea.apply(null,arguments)}function F7(e){var t=x.useMemo(()=>Dx(e.children,Fl),[e.children]),n=Ie(i=>o7(i,e.id,t));return n==null?null:x.createElement(k7,{legendPayload:n})}function K7(e){var{dataKey:t,nameKey:n,sectors:i,stroke:s,strokeWidth:c,fill:d,name:p,hide:m,tooltipType:g}=e;return{dataDefinedOnItem:i.map(h=>h.tooltipPayload),positions:i.map(h=>h.tooltipPosition),settings:{stroke:s,strokeWidth:c,fill:d,dataKey:t,nameKey:n,name:Jl(p,t),hide:m,type:g,color:d,unit:""}}}var Y7=(e,t)=>e>t?"start":e<t?"end":"middle",V7=(e,t,n)=>Gr(typeof t=="function"?t(e):t,n,n*.8),G7=(e,t,n)=>{var{top:i,left:s,width:c,height:d}=t,p=v_(c,d),m=s+Gr(e.cx,c,c/2),g=i+Gr(e.cy,d,d/2),h=Gr(e.innerRadius,p,0),v=V7(n,e.outerRadius,p),S=e.maxRadius||Math.sqrt(c*c+d*d)/2;return{cx:m,cy:g,innerRadius:h,outerRadius:v,maxRadius:S}},X7=(e,t)=>{var n=Dr(t-e),i=Math.min(Math.abs(t-e),360);return n*i};function Q7(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Z7=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var n=St("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(tv,ea({},t,{type:"linear",className:n}))},J7=(e,t,n)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var i=n;if(typeof e=="function"&&(i=e(t),x.isValidElement(i)))return i;var s=St("recharts-pie-label-text",Q7(e));return x.createElement(xp,ea({},t,{alignmentBaseline:"middle",className:s}),i)};function eq(e){var{sectors:t,props:n,showLabels:i}=e,{label:s,labelLine:c,dataKey:d}=n;if(!i||!s||!t)return null;var p=Di(n),m=or(s,!1),g=or(c,!1),h=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,v=t.map((S,j)=>{var k=(S.startAngle+S.endAngle)/2,w=jr(S.cx,S.cy,S.outerRadius+h,k),C=Jt(Jt(Jt(Jt({},p),S),{},{stroke:"none"},m),{},{index:j,textAnchor:Y7(w.x,S.cx)},w),_=Jt(Jt(Jt(Jt({},p),S),{},{fill:"none",stroke:S.fill},g),{},{index:j,points:[jr(S.cx,S.cy,S.outerRadius,k),w],key:"line"});return x.createElement(Hr,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(j)},c&&Z7(c,_),J7(s,C,Kt(S,d)))});return x.createElement(Hr,{className:"recharts-pie-labels"},v)}function tq(e){var{sectors:t,props:n,showLabels:i}=e,{label:s}=n;return typeof s=="object"&&s!=null&&"position"in s?x.createElement(cb,{label:s}):x.createElement(eq,{sectors:t,props:n,showLabels:i})}function rq(e){var{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:s}=e,c=Ie(Jo),{onMouseEnter:d,onClick:p,onMouseLeave:m}=s,g=vb(s,L7),h=gb(d,s.dataKey),v=mb(m),S=hb(p,s.dataKey);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((j,k)=>{if(j?.startAngle===0&&j?.endAngle===0&&t.length!==1)return null;var w=n&&String(k)===c,C=c?i:null,_=w?n:C,E=Jt(Jt({},j),{},{stroke:j.stroke,tabIndex:-1,[C_]:k,[k_]:s.dataKey});return x.createElement(Hr,ea({tabIndex:-1,className:"recharts-pie-sector"},$c(g,j,k),{onMouseEnter:h(j,k),onMouseLeave:v(j,k),onClick:S(j,k),key:"sector-".concat(j?.startAngle,"-").concat(j?.endAngle,"-").concat(j.midAngle,"-").concat(k)}),x.createElement(sE,ea({option:_,isActive:w,shapeType:"sector"},E)))}))}function nq(e){var t,{pieSettings:n,displayedData:i,cells:s,offset:c}=e,{cornerRadius:d,startAngle:p,endAngle:m,dataKey:g,nameKey:h,tooltipType:v}=n,S=Math.abs(n.minAngle),j=X7(p,m),k=Math.abs(j),w=i.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,C=i.filter(P=>Kt(P,g,0)!==0).length,_=(k>=360?C:C-1)*w,E=k-C*S-_,A=i.reduce((P,R)=>{var U=Kt(R,g,0);return P+(Ge(U)?U:0)},0),T;if(A>0){var O;T=i.map((P,R)=>{var U=Kt(P,g,0),ee=Kt(P,h,R),fe=G7(n,c,P),de=(Ge(U)?U:0)/A,re,Se=Jt(Jt({},P),s&&s[R]&&s[R].props);R?re=O.endAngle+Dr(j)*w*(U!==0?1:0):re=p;var he=re+Dr(j)*((U!==0?S:0)+de*E),ge=(re+he)/2,F=(fe.innerRadius+fe.outerRadius)/2,Y=[{name:ee,value:U,payload:Se,dataKey:g,type:v}],me=jr(fe.cx,fe.cy,F,ge);return O=Jt(Jt(Jt(Jt({},n.presentationProps),{},{percent:de,cornerRadius:d,name:ee,tooltipPayload:Y,midAngle:ge,middleRadius:F,tooltipPosition:me},Se),fe),{},{value:U,startAngle:re,endAngle:he,payload:Se,paddingAngle:Dr(j)*w}),O})}return T}function iq(e){var{showLabels:t,sectors:n,children:i}=e,s=x.useMemo(()=>!t||!n?[]:n.map(c=>({value:c.value,payload:c.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:c.cx,cy:c.cy,innerRadius:c.innerRadius,outerRadius:c.outerRadius,startAngle:c.startAngle,endAngle:c.endAngle,clockWise:!1},fill:c.fill})),[n,t]);return x.createElement(UI,{value:t?s:void 0},i)}function oq(e){var{props:t,previousSectorsRef:n}=e,{sectors:i,isAnimationActive:s,animationBegin:c,animationDuration:d,animationEasing:p,activeShape:m,inactiveShape:g,onAnimationStart:h,onAnimationEnd:v}=t,S=Ic(t,"recharts-pie-"),j=n.current,[k,w]=x.useState(!1),C=x.useCallback(()=>{typeof v=="function"&&v(),w(!1)},[v]),_=x.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return x.createElement(iq,{showLabels:!k,sectors:i},x.createElement(Bc,{animationId:S,begin:c,duration:d,isActive:s,easing:p,onAnimationStart:_,onAnimationEnd:C,key:S},E=>{var A=[],T=i&&i[0],O=T?.startAngle;return i?.forEach((P,R)=>{var U=j&&j[R],ee=R>0?Ba(P,"paddingAngle",0):0;if(U){var fe=dr(U.endAngle-U.startAngle,P.endAngle-P.startAngle,E),de=Jt(Jt({},P),{},{startAngle:O+ee,endAngle:O+fe+ee});A.push(de),O=de.endAngle}else{var{endAngle:re,startAngle:Se}=P,he=dr(0,re-Se,E),ge=Jt(Jt({},P),{},{startAngle:O+ee,endAngle:O+he+ee});A.push(ge),O=ge.endAngle}}),n.current=A,x.createElement(Hr,null,x.createElement(rq,{sectors:A,activeShape:m,inactiveShape:g,allOtherPieProps:t}))}),x.createElement(tq,{showLabels:!k,sectors:i,props:t}),t.children)}var aq={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!oa.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function lq(e){var{id:t}=e,n=vb(e,W7),{hide:i,className:s,rootTabIndex:c}=e,d=x.useMemo(()=>Dx(e.children,Fl),[e.children]),p=Ie(h=>a7(h,t,d)),m=x.useRef(null),g=St("recharts-pie",s);return i||p==null?(m.current=null,x.createElement(Hr,{tabIndex:c,className:g})):x.createElement(x.Fragment,null,x.createElement(yb,{fn:K7,args:Jt(Jt({},e),{},{sectors:p})}),x.createElement(Hr,{tabIndex:c,className:g},x.createElement(oq,{props:Jt(Jt({},n),{},{sectors:p}),previousSectorsRef:m})))}function pE(e){var t=Fr(e,aq),{id:n}=t,i=vb(t,B7),s=Di(i);return x.createElement(xb,{id:n,type:"pie"},c=>x.createElement(x.Fragment,null,x.createElement(N7,{type:"pie",id:c,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),x.createElement(F7,ea({},i,{id:c})),x.createElement(lq,ea({},i,{id:c}))))}pE.displayName="Pie";function f2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function p2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(n),!0).forEach(function(i){sq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function sq(e,t,n){return(t=cq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cq(e){var t=uq(e,"string");return typeof t=="symbol"?t:t+""}function uq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dq={xAxis:{},yAxis:{},zAxis:{}},gE=Rn({name:"cartesianAxis",initialState:dq,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:i}=t.payload;e.yAxis[n]&&(e.yAxis[n]=p2(p2({},e.yAxis[n]),{},{width:i}))}}}),{addXAxis:fq,removeXAxis:pq,addYAxis:gq,removeYAxis:mq,addZAxis:fG,removeZAxis:pG,updateYAxisWidth:hq}=gE.actions,yq=gE.reducer,xq=ce([Tr],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),vq=ce([xq,yo,xo],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),bb=()=>Ie(vq),bq=()=>Ie(YW);function g2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function m2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(n),!0).forEach(function(i){Sq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Sq(e,t,n){return(t=jq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jq(e){var t=wq(e,"string");return typeof t=="symbol"?t:t+""}function wq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cq=e=>{var{point:t,childIndex:n,mainColor:i,activeDot:s,dataKey:c}=e;if(s===!1||t.x==null||t.y==null)return null;var d=m2(m2({index:n,dataKey:c,cx:t.x,cy:t.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},or(s,!1)),Rx(s)),p;return x.isValidElement(s)?p=x.cloneElement(s,d):typeof s=="function"?p=s(d):p=x.createElement(nE,d),x.createElement(Hr,{className:"recharts-active-dot"},p)};function kq(e){var{points:t,mainColor:n,activeDot:i,itemDataKey:s}=e,c=Ie(Jo),d=bq();if(t==null||d==null)return null;var p=t.find(m=>d.includes(m.payload));return rr(p)?null:Cq({point:p,childIndex:Number(c),mainColor:n,dataKey:s,activeDot:i})}var zq="Invariant failed";function _q(e,t){throw new Error(zq)}var Tq=["x","y"];function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lx.apply(null,arguments)}function h2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(n),!0).forEach(function(i){Aq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Aq(e,t,n){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eq(e){var t=Oq(e,"string");return typeof t=="symbol"?t:t+""}function Oq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mq(e,t){if(e==null)return{};var n,i,s=Rq(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Rq(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Dq(e,t){var{x:n,y:i}=e,s=Mq(e,Tq),c="".concat(n),d=parseInt(c,10),p="".concat(i),m=parseInt(p,10),g="".concat(t.height||s.height),h=parseInt(g,10),v="".concat(t.width||s.width),S=parseInt(v,10);return lc(lc(lc(lc(lc({},t),s),d?{x:d}:{}),m?{y:m}:{}),{},{height:h,width:S,name:t.name,radius:t.radius})}function Sb(e){return x.createElement(sE,lx({shapeType:"rectangle",propTransformer:Dq,activeClassName:"recharts-active-bar"},e))}var Pq=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,s)=>{if(Ge(t))return t;var c=Ge(i)||rr(i);return c?t(i,s):(c||_q(),n)}},$q={},mE=Rn({name:"errorBars",initialState:$q,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:i}=t.payload;e[n]||(e[n]=[]),e[n].push(i)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:i,next:s}=t.payload;e[n]&&(e[n]=e[n].map(c=>c.dataKey===i.dataKey&&c.direction===i.direction?s:c))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:i}=t.payload;e[n]&&(e[n]=e[n].filter(s=>s.dataKey!==i.dataKey||s.direction!==i.direction))}}}),{addErrorBar:gG,replaceErrorBar:mG,removeErrorBar:hG}=mE.actions,Nq=mE.reducer,Lq=["children"];function Wq(e,t){if(e==null)return{};var n,i,s=Bq(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Bq(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Iq={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},qq=x.createContext(Iq);function hE(e){var{children:t}=e,n=Wq(e,Lq);return x.createElement(qq.Provider,{value:n},t)}function jb(e,t){var n,i,s=Ie(g=>bo(g,e)),c=Ie(g=>So(g,t)),d=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:wn.allowDataOverflow,p=(i=c?.allowDataOverflow)!==null&&i!==void 0?i:Cn.allowDataOverflow,m=d||p;return{needClip:m,needClipX:d,needClipY:p}}function yE(e){var{xAxisId:t,yAxisId:n,clipPathId:i}=e,s=bb(),{needClipX:c,needClipY:d,needClip:p}=jb(t,n);if(!p)return null;var{x:m,y:g,width:h,height:v}=s;return x.createElement("clipPath",{id:"clipPath-".concat(i)},x.createElement("rect",{x:c?m:m-h/2,y:d?g:g-v/2,width:c?h:h*2,height:d?v:v*2}))}var Uq=["onMouseEnter","onMouseLeave","onClick"],Hq=["value","background","tooltipPosition"],Fq=["id"],Kq=["onMouseEnter","onClick","onMouseLeave"];function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ta.apply(null,arguments)}function y2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(n),!0).forEach(function(i){Yq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Yq(e,t,n){return(t=Vq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vq(e){var t=Gq(e,"string");return typeof t=="symbol"?t:t+""}function Gq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _f(e,t){if(e==null)return{};var n,i,s=Xq(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Xq(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Qq=e=>{var{dataKey:t,name:n,fill:i,legendType:s,hide:c}=e;return[{inactive:c,dataKey:t,type:s,color:i,value:Jl(n,t),payload:e}]};function Zq(e){var{dataKey:t,stroke:n,strokeWidth:i,fill:s,name:c,hide:d,unit:p}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:Jl(c,t),hide:d,type:e.tooltipType,color:e.fill,unit:p}}}function Jq(e){var t=Ie(Jo),{data:n,dataKey:i,background:s,allOtherBarProps:c}=e,{onMouseEnter:d,onMouseLeave:p,onClick:m}=c,g=_f(c,Uq),h=gb(d,i),v=mb(p),S=hb(m,i);if(!s||n==null)return null;var j=or(s,!1);return x.createElement(x.Fragment,null,n.map((k,w)=>{var{value:C,background:_,tooltipPosition:E}=k,A=_f(k,Hq);if(!_)return null;var T=h(k,w),O=v(k,w),P=S(k,w),R=en(en(en(en(en({option:s,isActive:String(w)===t},A),{},{fill:"#eee"},_),j),$c(g,k,w)),{},{onMouseEnter:T,onMouseLeave:O,onClick:P,dataKey:i,index:w,className:"recharts-bar-background-rectangle"});return x.createElement(Sb,ta({key:"background-bar-".concat(R.index)},R))}))}function e9(e){var{showLabels:t,children:n,rects:i}=e,s=i?.map(c=>{var d={x:c.x,y:c.y,width:c.width,height:c.height};return en(en({},d),{},{value:c.value,payload:c.payload,parentViewBox:c.parentViewBox,viewBox:d,fill:c.fill})});return x.createElement(tE,{value:t?s:void 0},n)}function t9(e){var{shape:t,activeBar:n,baseProps:i,entry:s,index:c,dataKey:d}=e,p=Ie(Jo),m=Ie($A),g=n&&String(c)===p&&(m==null||d===m),h=g?n:t;return x.createElement(Sb,ta({},i,s,{isActive:g,option:h,index:c,dataKey:d}))}function r9(e){var{shape:t,baseProps:n,entry:i,index:s,dataKey:c}=e;return x.createElement(Sb,ta({},n,i,{isActive:!1,option:t,index:s,dataKey:c}))}function n9(e){var{data:t,props:n}=e,i=Di(n),{id:s}=i,c=_f(i,Fq),{shape:d,dataKey:p,activeBar:m}=n,{onMouseEnter:g,onClick:h,onMouseLeave:v}=n,S=_f(n,Kq),j=gb(g,p),k=mb(v),w=hb(h,p);return t?x.createElement(x.Fragment,null,t.map((C,_)=>x.createElement(Hr,ta({className:"recharts-bar-rectangle"},$c(S,C,_),{onMouseEnter:j(C,_),onMouseLeave:k(C,_),onClick:w(C,_),key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(_)}),m?x.createElement(t9,{shape:d,activeBar:m,baseProps:c,entry:C,index:_,dataKey:p}):x.createElement(r9,{shape:d,baseProps:c,entry:C,index:_,dataKey:p})))):null}function i9(e){var{props:t,previousRectanglesRef:n}=e,{data:i,layout:s,isAnimationActive:c,animationBegin:d,animationDuration:p,animationEasing:m,onAnimationEnd:g,onAnimationStart:h}=t,v=n.current,S=Ic(t,"recharts-bar-"),[j,k]=x.useState(!1),w=!j,C=x.useCallback(()=>{typeof g=="function"&&g(),k(!1)},[g]),_=x.useCallback(()=>{typeof h=="function"&&h(),k(!0)},[h]);return x.createElement(e9,{showLabels:w,rects:i},x.createElement(Bc,{animationId:S,begin:d,duration:p,isActive:c,easing:m,onAnimationEnd:C,onAnimationStart:_,key:S},E=>{var A=E===1?i:i?.map((T,O)=>{var P=v&&v[O];if(P)return en(en({},T),{},{x:dr(P.x,T.x,E),y:dr(P.y,T.y,E),width:dr(P.width,T.width,E),height:dr(P.height,T.height,E)});if(s==="horizontal"){var R=dr(0,T.height,E);return en(en({},T),{},{y:T.y+T.height-R,height:R})}var U=dr(0,T.width,E);return en(en({},T),{},{width:U})});return E>0&&(n.current=A??null),A==null?null:x.createElement(Hr,null,x.createElement(n9,{props:t,data:A}))}),x.createElement(cb,{label:t.label}),t.children)}function o9(e){var t=x.useRef(null);return x.createElement(i9,{previousRectanglesRef:t,props:e})}var xE=0,a9=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Kt(e,t)}};class l9 extends x.PureComponent{render(){var{hide:t,data:n,dataKey:i,className:s,xAxisId:c,yAxisId:d,needClip:p,background:m,id:g}=this.props;if(t||n==null)return null;var h=St("recharts-bar",s),v=g;return x.createElement(Hr,{className:h,id:g},p&&x.createElement("defs",null,x.createElement(yE,{clipPathId:v,xAxisId:c,yAxisId:d})),x.createElement(Hr,{className:"recharts-bar-rectangles",clipPath:p?"url(#clipPath-".concat(v,")"):void 0},x.createElement(Jq,{data:n,dataKey:i,background:m,allOtherBarProps:this.props}),x.createElement(o9,this.props)))}}var s9={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!oa.isSsr,legendType:"rect",minPointSize:xE,xAxisId:0,yAxisId:0};function c9(e){var{xAxisId:t,yAxisId:n,hide:i,legendType:s,minPointSize:c,activeBar:d,animationBegin:p,animationDuration:m,animationEasing:g,isAnimationActive:h}=e,{needClip:v}=jb(t,n),S=ep(),j=gn(),k=Dx(e.children,Fl),w=Ie(E=>N9(E,t,n,j,e.id,k));if(S!=="vertical"&&S!=="horizontal")return null;var C,_=w?.[0];return _==null||_.height==null||_.width==null?C=0:C=S==="vertical"?_.height/2:_.width/2,x.createElement(hE,{xAxisId:t,yAxisId:n,data:w,dataPointFormatter:a9,errorBarOffset:C},x.createElement(l9,ta({},e,{layout:S,needClip:v,data:w,xAxisId:t,yAxisId:n,hide:i,legendType:s,minPointSize:c,activeBar:d,animationBegin:p,animationDuration:m,animationEasing:g,isAnimationActive:h})))}function u9(e){var{layout:t,barSettings:{dataKey:n,minPointSize:i},pos:s,bandSize:c,xAxis:d,yAxis:p,xAxisTicks:m,yAxisTicks:g,stackedData:h,displayedData:v,offset:S,cells:j,parentViewBox:k}=e,w=t==="horizontal"?p:d,C=h?w.scale.domain():null,_=j4({numericAxis:w});return v.map((E,A)=>{var T,O,P,R,U,ee;h?T=h4(h[A],C):(T=Kt(E,n),Array.isArray(T)||(T=[_,T]));var fe=Pq(i,xE)(T[1],A);if(t==="horizontal"){var de,[re,Se]=[p.scale(T[0]),p.scale(T[1])];O=rC({axis:d,ticks:m,bandSize:c,offset:s.offset,entry:E,index:A}),P=(de=Se??re)!==null&&de!==void 0?de:void 0,R=s.size;var he=re-Se;if(U=En(he)?0:he,ee={x:O,y:S.top,width:R,height:S.height},Math.abs(fe)>0&&Math.abs(U)<Math.abs(fe)){var ge=Dr(U||fe)*(Math.abs(fe)-Math.abs(U));P-=ge,U+=ge}}else{var[F,Y]=[d.scale(T[0]),d.scale(T[1])];if(O=F,P=rC({axis:p,ticks:g,bandSize:c,offset:s.offset,entry:E,index:A}),R=Y-F,U=s.size,ee={x:S.left,y:P,width:S.width,height:U},Math.abs(fe)>0&&Math.abs(R)<Math.abs(fe)){var me=Dr(R||fe)*(Math.abs(fe)-Math.abs(R));R+=me}}if(O==null||P==null||R==null||U==null)return null;var be=en(en({},E),{},{x:O,y:P,width:R,height:U,value:h?T:T[1],payload:E,background:ee,tooltipPosition:{x:O+R/2,y:P+U/2},parentViewBox:k},j&&j[A]&&j[A].props);return be}).filter(Boolean)}function d9(e){var t=Fr(e,s9),n=gn();return x.createElement(xb,{id:t.id,type:"bar"},i=>x.createElement(x.Fragment,null,x.createElement(uE,{legendPayload:Qq(t)}),x.createElement(yb,{fn:Zq,args:t}),x.createElement(fE,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:S4(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),x.createElement(c9,ta({},t,{id:i}))))}var sx=x.memo(d9);sx.displayName="Bar";function x2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(n),!0).forEach(function(i){f9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function f9(e,t,n){return(t=p9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p9(e){var t=g9(e,"string");return typeof t=="symbol"?t:t+""}function g9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m9=(e,t)=>t,h9=(e,t,n)=>n,y9=(e,t,n,i)=>i,x9=(e,t,n,i,s)=>s,Jc=ce([fp,x9],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),v9=ce([Jc],e=>e?.maxBarSize),b9=(e,t,n,i,s,c)=>c,v2=(e,t,n)=>{var i=n??e;if(!rr(i))return Gr(i,t,0)},S9=ce([yt,fp,m9,h9,y9],(e,t,n,i,s)=>t.filter(c=>e==="horizontal"?c.xAxisId===n:c.yAxisId===i).filter(c=>c.isPanorama===s).filter(c=>c.hide===!1).filter(c=>c.type==="bar")),j9=(e,t,n,i)=>{var s=yt(e);return s==="horizontal"?ex(e,"yAxis",n,i):ex(e,"xAxis",t,i)},w9=(e,t,n)=>{var i=yt(e);return i==="horizontal"?vk(e,"xAxis",t):vk(e,"yAxis",n)},C9=(e,t,n)=>{var i={},s=e.filter(dp),c=e.filter(g=>g.stackId==null),d=s.reduce((g,h)=>(g[h.stackId]||(g[h.stackId]=[]),g[h.stackId].push(h),g),i),p=Object.entries(d).map(g=>{var[h,v]=g,S=v.map(k=>k.dataKey),j=v2(t,n,v[0].barSize);return{stackId:h,dataKeys:S,barSize:j}}),m=c.map(g=>{var h=[g.dataKey].filter(S=>S!=null),v=v2(t,n,g.barSize);return{stackId:void 0,dataKeys:h,barSize:v}});return[...p,...m]},k9=ce([S9,rL,w9],C9),z9=(e,t,n,i,s)=>{var c,d,p=Jc(e,t,n,i,s);if(p!=null){var m=yt(e),g=DT(e),{maxBarSize:h}=p,v=rr(h)?g:h,S,j;return m==="horizontal"?(S=Zo(e,"xAxis",t,i),j=Qo(e,"xAxis",t,i)):(S=Zo(e,"yAxis",n,i),j=Qo(e,"yAxis",n,i)),(c=(d=jc(S,j,!0))!==null&&d!==void 0?d:v)!==null&&c!==void 0?c:0}},vE=(e,t,n,i)=>{var s=yt(e),c,d;return s==="horizontal"?(c=Zo(e,"xAxis",t,i),d=Qo(e,"xAxis",t,i)):(c=Zo(e,"yAxis",n,i),d=Qo(e,"yAxis",n,i)),jc(c,d)};function _9(e,t,n,i,s){var c=i.length;if(!(c<1)){var d=Gr(e,n,0,!0),p,m=[];if(Mn(i[0].barSize)){var g=!1,h=n/c,v=i.reduce((_,E)=>_+(E.barSize||0),0);v+=(c-1)*d,v>=n&&(v-=(c-1)*d,d=0),v>=n&&h>0&&(g=!0,h*=.9,v=c*h);var S=(n-v)/2>>0,j={offset:S-d,size:0};p=i.reduce((_,E)=>{var A,T={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:j.offset+j.size+d,size:g?h:(A=E.barSize)!==null&&A!==void 0?A:0}},O=[..._,T];return j=O[O.length-1].position,O},m)}else{var k=Gr(t,n,0,!0);n-2*k-(c-1)*d<=0&&(d=0);var w=(n-2*k-(c-1)*d)/c;w>1&&(w>>=0);var C=Mn(s)?Math.min(w,s):w;p=i.reduce((_,E,A)=>[..._,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:k+(w+d)*A+(w-C)/2,size:C}}],m)}return p}}var T9=(e,t,n,i,s,c,d)=>{var p=rr(d)?t:d,m=_9(n,i,s!==c?s:c,e,p);return s!==c&&m!=null&&(m=m.map(g=>Od(Od({},g),{},{position:Od(Od({},g.position),{},{offset:g.position.offset-s/2})}))),m},A9=ce([k9,DT,tL,PT,z9,vE,v9],T9),E9=(e,t,n,i)=>Zo(e,"xAxis",t,i),O9=(e,t,n,i)=>Zo(e,"yAxis",n,i),M9=(e,t,n,i)=>Qo(e,"xAxis",t,i),R9=(e,t,n,i)=>Qo(e,"yAxis",n,i),D9=ce([A9,Jc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(i=>i.stackId===t.stackId&&t.dataKey!=null&&i.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),P9=(e,t)=>{var n=Dv(t);if(!(!e||n==null||t==null)){var{stackId:i}=t;if(i!=null){var s=e[i];if(s){var{stackedData:c}=s;if(c)return c.find(d=>d.key===n)}}}},$9=ce([j9,Jc],P9),N9=ce([Tr,Xx,E9,O9,M9,R9,D9,yt,lp,vE,$9,Jc,b9],(e,t,n,i,s,c,d,p,m,g,h,v,S)=>{var{chartData:j,dataStartIndex:k,dataEndIndex:w}=m;if(!(v==null||d==null||t==null||p!=="horizontal"&&p!=="vertical"||n==null||i==null||s==null||c==null||g==null)){var{data:C}=v,_;if(C!=null&&C.length>0?_=C:_=j?.slice(k,w+1),_!=null)return u9({layout:p,barSettings:v,pos:d,parentViewBox:t,bandSize:g,xAxis:n,yAxis:i,xAxisTicks:s,yAxisTicks:c,stackedData:h,displayedData:_,offset:e,cells:S})}}),bE=e=>{var{chartData:t}=e,n=ar(),i=gn();return x.useEffect(()=>i?()=>{}:(n(Ak(t)),()=>{n(Ak(void 0))}),[t,n,i]),null},b2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},SE=Rn({name:"brush",initialState:b2,reducers:{setBrushSettings(e,t){return t.payload==null?b2:t.payload}}}),{setBrushSettings:yG}=SE.actions,L9=SE.reducer;function W9(e,t,n){return(t=B9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B9(e){var t=I9(e,"string");return typeof t=="symbol"?t:t+""}function I9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wb{static create(t){return new wb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(i)switch(i){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(t)+c}default:return this.scale(t)}if(n){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+d}return this.scale(t)}}isInRange(t){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?t>=i&&t<=s:t>=s&&t<=i}}W9(wb,"EPS",1e-4);function q9(e){return(e%180+180)%180}var U9=function(t){var{width:n,height:i}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=q9(s),d=c*Math.PI/180,p=Math.atan(i/n),m=d>p&&d<Math.PI-p?i/Math.sin(d):n/Math.cos(d);return Math.abs(m)},H9={dots:[],areas:[],lines:[]},jE=Rn({name:"referenceElements",initialState:H9,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ao(e).dots.findIndex(i=>i===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ao(e).areas.findIndex(i=>i===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ao(e).lines.findIndex(i=>i===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:xG,removeDot:vG,addArea:bG,removeArea:SG,addLine:jG,removeLine:wG}=jE.actions,F9=jE.reducer,K9=x.createContext(void 0),Y9=e=>{var{children:t}=e,[n]=x.useState("".concat(vc("recharts"),"-clip")),i=bb();if(i==null)return null;var{x:s,y:c,width:d,height:p}=i;return x.createElement(K9.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:s,y:c,height:p,width:d}))),t)};function Kl(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var i in t)if({}.hasOwnProperty.call(t,i)&&!{}.hasOwnProperty.call(e,i))return!1;return!0}function wE(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var i=[],s=0;s<e.length;s+=t)i.push(e[s]);return i}function V9(e,t,n){var i={width:e.width+t.width,height:e.height+t.height};return U9(i,n)}function G9(e,t,n){var i=n==="width",{x:s,y:c,width:d,height:p}=e;return t===1?{start:i?s:c,end:i?s+d:c+p}:{start:i?s+d:c+p,end:i?s:c}}function Tf(e,t,n,i,s){if(e*t<e*i||e*t>e*s)return!1;var c=n();return e*(t-e*c/2-i)>=0&&e*(t+e*c/2-s)<=0}function X9(e,t){return wE(e,t+1)}function Q9(e,t,n,i,s){for(var c=(i||[]).slice(),{start:d,end:p}=t,m=0,g=1,h=d,v=function(){var k=i?.[m];if(k===void 0)return{v:wE(i,g)};var w=m,C,_=()=>(C===void 0&&(C=n(k,w)),C),E=k.coordinate,A=m===0||Tf(e,E,_,h,p);A||(m=0,h=d,g+=1),A&&(h=E+e*(_()/2+s),m+=g)},S;g<=c.length;)if(S=v(),S)return S.v;return[]}function S2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(n),!0).forEach(function(i){Z9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Z9(e,t,n){return(t=J9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J9(e){var t=eU(e,"string");return typeof t=="symbol"?t:t+""}function eU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tU(e,t,n,i,s){for(var c=(i||[]).slice(),d=c.length,{start:p}=t,{end:m}=t,g=function(S){var j=c[S],k,w=()=>(k===void 0&&(k=n(j,S)),k);if(S===d-1){var C=e*(j.coordinate+e*w()/2-m);c[S]=j=Yr(Yr({},j),{},{tickCoord:C>0?j.coordinate-C*e:j.coordinate})}else c[S]=j=Yr(Yr({},j),{},{tickCoord:j.coordinate});var _=Tf(e,j.tickCoord,w,p,m);_&&(m=j.tickCoord-e*(w()/2+s),c[S]=Yr(Yr({},j),{},{isShow:!0}))},h=d-1;h>=0;h--)g(h);return c}function rU(e,t,n,i,s,c){var d=(i||[]).slice(),p=d.length,{start:m,end:g}=t;if(c){var h=i[p-1],v=n(h,p-1),S=e*(h.coordinate+e*v/2-g);d[p-1]=h=Yr(Yr({},h),{},{tickCoord:S>0?h.coordinate-S*e:h.coordinate});var j=Tf(e,h.tickCoord,()=>v,m,g);j&&(g=h.tickCoord-e*(v/2+s),d[p-1]=Yr(Yr({},h),{},{isShow:!0}))}for(var k=c?p-1:p,w=function(E){var A=d[E],T,O=()=>(T===void 0&&(T=n(A,E)),T);if(E===0){var P=e*(A.coordinate-e*O()/2-m);d[E]=A=Yr(Yr({},A),{},{tickCoord:P<0?A.coordinate-P*e:A.coordinate})}else d[E]=A=Yr(Yr({},A),{},{tickCoord:A.coordinate});var R=Tf(e,A.tickCoord,O,m,g);R&&(m=A.tickCoord+e*(O()/2+s),d[E]=Yr(Yr({},A),{},{isShow:!0}))},C=0;C<k;C++)w(C);return d}function Cb(e,t,n){var{tick:i,ticks:s,viewBox:c,minTickGap:d,orientation:p,interval:m,tickFormatter:g,unit:h,angle:v}=e;if(!s||!s.length||!i)return[];if(Ge(m)||oa.isSsr){var S;return(S=X9(s,Ge(m)?m:0))!==null&&S!==void 0?S:[]}var j=[],k=p==="top"||p==="bottom"?"width":"height",w=h&&k==="width"?gc(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},C=(A,T)=>{var O=typeof g=="function"?g(A.value,T):A.value;return k==="width"?V9(gc(O,{fontSize:t,letterSpacing:n}),w,v):gc(O,{fontSize:t,letterSpacing:n})[k]},_=s.length>=2?Dr(s[1].coordinate-s[0].coordinate):1,E=G9(c,_,k);return m==="equidistantPreserveStart"?Q9(_,E,C,s,d):(m==="preserveStart"||m==="preserveStartEnd"?j=rU(_,E,C,s,d,m==="preserveStartEnd"):j=tU(_,E,C,s,d),j.filter(A=>A.isShow))}var nU=e=>{var{ticks:t,label:n,labelGapWithTick:i=5,tickSize:s=0,tickMargin:c=0}=e,d=0;if(t){t.forEach(h=>{if(h){var v=h.getBoundingClientRect();v.width>d&&(d=v.width)}});var p=n?n.getBoundingClientRect().width:0,m=s+c,g=d+m+p+(n?i:0);return Math.round(g)}return 0},iU=["axisLine","width","height","className","hide","ticks"],oU=["viewBox"],aU=["viewBox"];function cx(e,t){if(e==null)return{};var n,i,s=lU(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function lU(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ha.apply(null,arguments)}function j2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(n),!0).forEach(function(i){sU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function sU(e,t,n){return(t=cU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cU(e){var t=uU(e,"string");return typeof t=="symbol"?t:t+""}function uU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kb={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function dU(e){var{x:t,y:n,width:i,height:s,orientation:c,mirror:d,axisLine:p,otherSvgProps:m}=e;if(!p)return null;var g=_r(_r(_r({},m),or(p,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);g=_r(_r({},g),{},{x1:t,y1:n+h*s,x2:t+i,y2:n+h*s})}else{var v=+(c==="left"&&!d||c==="right"&&d);g=_r(_r({},g),{},{x1:t+v*i,y1:n,x2:t+v*i,y2:n+s})}return x.createElement("line",Ha({},g,{className:St("recharts-cartesian-axis-line",Ba(p,"className"))}))}function fU(e,t,n,i,s,c,d,p,m){var g,h,v,S,j,k,w=p?-1:1,C=e.tickSize||d,_=Ge(e.tickCoord)?e.tickCoord:e.coordinate;switch(c){case"top":g=h=e.coordinate,S=n+ +!p*s,v=S-w*C,k=v-w*m,j=_;break;case"left":v=S=e.coordinate,h=t+ +!p*i,g=h-w*C,j=g-w*m,k=_;break;case"right":v=S=e.coordinate,h=t+ +p*i,g=h+w*C,j=g+w*m,k=_;break;default:g=h=e.coordinate,S=n+ +p*s,v=S+w*C,k=v+w*m,j=_;break}return{line:{x1:g,y1:v,x2:h,y2:S},tick:{x:j,y:k}}}function pU(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function gU(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function mU(e){var{option:t,tickProps:n,value:i}=e,s,c=St(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))s=x.cloneElement(t,_r(_r({},n),{},{className:c}));else if(typeof t=="function")s=t(_r(_r({},n),{},{className:c}));else{var d="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(d=St(d,t?.className)),s=x.createElement(xp,Ha({},n,{className:d}),i)}return s}function hU(e){var{ticks:t=[],tick:n,tickLine:i,stroke:s,tickFormatter:c,unit:d,padding:p,tickTextProps:m,orientation:g,mirror:h,x:v,y:S,width:j,height:k,tickSize:w,tickMargin:C,fontSize:_,letterSpacing:E,getTicksConfig:A,events:T}=e,O=Cb(_r(_r({},A),{},{ticks:t}),_,E),P=pU(g,h),R=gU(g,h),U=Di(A),ee=or(n,!1),fe=_r(_r({},U),{},{fill:"none"},or(i,!1)),de=O.map((re,Se)=>{var{line:he,tick:ge}=fU(re,v,S,j,k,g,w,h,C),F=_r(_r(_r(_r({textAnchor:P,verticalAnchor:R},U),{},{stroke:"none",fill:s},ee),ge),{},{index:Se,payload:re,visibleTicksCount:O.length,tickFormatter:c,padding:p},m);return x.createElement(Hr,Ha({className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},$c(T,re,Se)),i&&x.createElement("line",Ha({},fe,he,{className:St("recharts-cartesian-axis-tick-line",Ba(i,"className"))})),n&&x.createElement(mU,{option:n,tickProps:F,value:"".concat(typeof c=="function"?c(re.value,Se):re.value).concat(d||"")}))});return de.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},de):null}var yU=x.forwardRef((e,t)=>{var{axisLine:n,width:i,height:s,className:c,hide:d,ticks:p}=e,m=cx(e,iU),[g,h]=x.useState(""),[v,S]=x.useState(""),j=x.useRef([]);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return nU({ticks:j.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var k=x.useCallback(w=>{if(w){var C=w.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=Array.from(C);var _=C[0];if(_){var E=window.getComputedStyle(_),A=E.fontSize,T=E.letterSpacing;(A!==g||T!==v)&&(h(A),S(T))}}},[g,v]);return d||i!=null&&i<=0||s!=null&&s<=0?null:x.createElement(Hr,{className:St("recharts-cartesian-axis",c),ref:k},x.createElement(dU,{x:e.x,y:e.y,width:i,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Di(e)}),x.createElement(hU,{ticks:p,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:g,letterSpacing:v,getTicksConfig:e,events:m}),x.createElement(jI,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(MI,{label:e.label}),e.children))}),xU=x.memo(yU,(e,t)=>{var{viewBox:n}=e,i=cx(e,oU),{viewBox:s}=t,c=cx(t,aU);return Kl(n,s)&&Kl(i,c)}),zb=x.forwardRef((e,t)=>{var n=Fr(e,kb);return x.createElement(xU,Ha({},n,{ref:t}))});zb.displayName="CartesianAxis";var vU=["x1","y1","x2","y2","key"],bU=["offset"],SU=["xAxisId","yAxisId"],jU=["xAxisId","yAxisId"];function w2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(n),!0).forEach(function(i){wU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function wU(e,t,n){return(t=CU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CU(e){var t=kU(e,"string");return typeof t=="symbol"?t:t+""}function kU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pa.apply(null,arguments)}function Af(e,t){if(e==null)return{};var n,i,s=zU(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function zU(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var _U=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:i,y:s,width:c,height:d,ry:p}=e;return x.createElement("rect",{x:i,y:s,ry:p,width:c,height:d,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function CE(e,t){var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:i,y1:s,x2:c,y2:d,key:p}=t,m=Af(t,vU),g=Di(m),{offset:h}=g,v=Af(g,bU);n=x.createElement("line",Pa({},v,{x1:i,y1:s,x2:c,y2:d,fill:"none",key:p}))}return n}function TU(e){var{x:t,width:n,horizontal:i=!0,horizontalPoints:s}=e;if(!i||!s||!s.length)return null;var{xAxisId:c,yAxisId:d}=e,p=Af(e,SU),m=s.map((g,h)=>{var v=Vr(Vr({},p),{},{x1:t,y1:g,x2:t+n,y2:g,key:"line-".concat(h),index:h});return CE(i,v)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function AU(e){var{y:t,height:n,vertical:i=!0,verticalPoints:s}=e;if(!i||!s||!s.length)return null;var{xAxisId:c,yAxisId:d}=e,p=Af(e,jU),m=s.map((g,h)=>{var v=Vr(Vr({},p),{},{x1:g,y1:t,x2:g,y2:t+n,key:"line-".concat(h),index:h});return CE(i,v)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function EU(e){var{horizontalFill:t,fillOpacity:n,x:i,y:s,width:c,height:d,horizontalPoints:p,horizontal:m=!0}=e;if(!m||!t||!t.length)return null;var g=p.map(v=>Math.round(v+s-s)).sort((v,S)=>v-S);s!==g[0]&&g.unshift(0);var h=g.map((v,S)=>{var j=!g[S+1],k=j?s+d-v:g[S+1]-v;if(k<=0)return null;var w=S%t.length;return x.createElement("rect",{key:"react-".concat(S),y:v,x:i,height:k,width:c,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function OU(e){var{vertical:t=!0,verticalFill:n,fillOpacity:i,x:s,y:c,width:d,height:p,verticalPoints:m}=e;if(!t||!n||!n.length)return null;var g=m.map(v=>Math.round(v+s-s)).sort((v,S)=>v-S);s!==g[0]&&g.unshift(0);var h=g.map((v,S)=>{var j=!g[S+1],k=j?s+d-v:g[S+1]-v;if(k<=0)return null;var w=S%n.length;return x.createElement("rect",{key:"react-".concat(S),x:v,y:c,width:k,height:p,stroke:"none",fill:n[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var MU=(e,t)=>{var{xAxis:n,width:i,height:s,offset:c}=e;return S_(Cb(Vr(Vr(Vr({},kb),n),{},{ticks:j_(n),viewBox:{x:0,y:0,width:i,height:s}})),c.left,c.left+c.width,t)},RU=(e,t)=>{var{yAxis:n,width:i,height:s,offset:c}=e;return S_(Cb(Vr(Vr(Vr({},kb),n),{},{ticks:j_(n),viewBox:{x:0,y:0,width:i,height:s}})),c.top,c.top+c.height,t)},DU={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Bd(e){var t=Zx(),n=Jx(),i=z_(),s=Vr(Vr({},Fr(e,DU)),{},{x:Ge(e.x)?e.x:i.left,y:Ge(e.y)?e.y:i.top,width:Ge(e.width)?e.width:i.width,height:Ge(e.height)?e.height:i.height}),{xAxisId:c,yAxisId:d,x:p,y:m,width:g,height:h,syncWithTicks:v,horizontalValues:S,verticalValues:j}=s,k=gn(),w=Ie(ee=>bk(ee,"xAxis",c,k)),C=Ie(ee=>bk(ee,"yAxis",d,k));if(!Ge(g)||g<=0||!Ge(h)||h<=0||!Ge(p)||p!==+p||!Ge(m)||m!==+m)return null;var _=s.verticalCoordinatesGenerator||MU,E=s.horizontalCoordinatesGenerator||RU,{horizontalPoints:A,verticalPoints:T}=s;if((!A||!A.length)&&typeof E=="function"){var O=S&&S.length,P=E({yAxis:C?Vr(Vr({},C),{},{ticks:O?S:C.ticks}):void 0,width:t,height:n,offset:i},O?!0:v);pc(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(A=P)}if((!T||!T.length)&&typeof _=="function"){var R=j&&j.length,U=_({xAxis:w?Vr(Vr({},w),{},{ticks:R?j:w.ticks}):void 0,width:t,height:n,offset:i},R?!0:v);pc(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(T=U)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(_U,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),x.createElement(EU,Pa({},s,{horizontalPoints:A})),x.createElement(OU,Pa({},s,{verticalPoints:T})),x.createElement(TU,Pa({},s,{offset:i,horizontalPoints:A,xAxis:w,yAxis:C})),x.createElement(AU,Pa({},s,{offset:i,verticalPoints:T,xAxis:w,yAxis:C})))}Bd.displayName="CartesianGrid";var kE=(e,t,n,i)=>Zo(e,"xAxis",t,i),zE=(e,t,n,i)=>Qo(e,"xAxis",t,i),_E=(e,t,n,i)=>Zo(e,"yAxis",n,i),TE=(e,t,n,i)=>Qo(e,"yAxis",n,i),PU=ce([yt,kE,_E,zE,TE],(e,t,n,i,s)=>ia(e,"xAxis")?jc(t,i,!1):jc(n,s,!1)),$U=(e,t,n,i,s)=>s;function NU(e){return e.type==="line"}var LU=ce([fp,$U],(e,t)=>e.filter(NU).find(n=>n.id===t)),WU=ce([yt,kE,_E,zE,TE,LU,PU,lp],(e,t,n,i,s,c,d,p)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:h}=p;if(!(c==null||t==null||n==null||i==null||s==null||i.length===0||s.length===0||d==null)){var{dataKey:v,data:S}=c,j;if(S!=null&&S.length>0?j=S:j=m?.slice(g,h+1),j!=null)return lH({layout:e,xAxis:t,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:v,bandSize:d,displayedData:j})}}),BU=["id"],IU=["type","layout","connectNulls","needClip"],qU=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function C2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(n),!0).forEach(function(i){UU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function UU(e,t,n){return(t=HU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HU(e){var t=FU(e,"string");return typeof t=="symbol"?t:t+""}function FU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _b(e,t){if(e==null)return{};var n,i,s=KU(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function KU(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fa.apply(null,arguments)}var YU=e=>{var{dataKey:t,name:n,stroke:i,legendType:s,hide:c}=e;return[{inactive:c,dataKey:t,type:s,color:i,value:Jl(n,t),payload:e}]};function VU(e){var{dataKey:t,data:n,stroke:i,strokeWidth:s,fill:c,name:d,hide:p,unit:m}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:i,strokeWidth:s,fill:c,dataKey:t,nameKey:void 0,name:Jl(d,t),hide:p,type:e.tooltipType,color:e.stroke,unit:m}}}var AE=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function GU(e,t){for(var n=e.length%2!==0?[...e,0]:e,i=[],s=0;s<t;++s)i=[...i,...n];return i}var XU=(e,t,n)=>{var i=n.reduce((v,S)=>v+S);if(!i)return AE(t,e);for(var s=Math.floor(e/i),c=e%i,d=t-e,p=[],m=0,g=0;m<n.length;g+=n[m],++m)if(g+n[m]>c){p=[...n.slice(0,m),c-g];break}var h=p.length%2===0?[0,d]:[d];return[...GU(n,s),...p,...h].map(v=>"".concat(v,"px")).join(", ")};function QU(e,t){var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var i=St("recharts-line-dot",typeof e!="boolean"?e.className:"");n=x.createElement(nE,Fa({},t,{className:i}))}return n}function ZU(e,t){return e==null?!1:t?!0:e.length===1}function JU(e){var{clipPathId:t,points:n,props:i}=e,{dot:s,dataKey:c,needClip:d}=i;if(!ZU(n,s))return null;var{id:p}=i,m=_b(i,BU),g=hz(s),h=Di(m),v=or(s,!0),S=n.map((k,w)=>{var C=zn(zn(zn({key:"dot-".concat(w),r:3},h),v),{},{index:w,cx:k.x,cy:k.y,dataKey:c,value:k.value,payload:k.payload,points:n});return QU(s,C)}),j={clipPath:d?"url(#clipPath-".concat(g?"":"dots-").concat(t,")"):void 0};return x.createElement(Hr,Fa({className:"recharts-line-dots",key:"dots"},j),S)}function eH(e){var{showLabels:t,children:n,points:i}=e,s=x.useMemo(()=>i?.map(c=>{var d={x:c.x,y:c.y,width:0,height:0};return zn(zn({},d),{},{value:c.value,payload:c.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[i]);return x.createElement(tE,{value:t?s:null},n)}function k2(e){var{clipPathId:t,pathRef:n,points:i,strokeDasharray:s,props:c}=e,{type:d,layout:p,connectNulls:m,needClip:g}=c,h=_b(c,IU),v=zn(zn({},or(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:g?"url(#clipPath-".concat(t,")"):void 0,points:i,type:d,layout:p,connectNulls:m,strokeDasharray:s??c.strokeDasharray});return x.createElement(x.Fragment,null,i?.length>1&&x.createElement(tv,Fa({},v,{pathRef:n})),x.createElement(JU,{points:i,clipPathId:t,props:c}))}function tH(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function rH(e){var{clipPathId:t,props:n,pathRef:i,previousPointsRef:s,longestAnimatedLengthRef:c}=e,{points:d,strokeDasharray:p,isAnimationActive:m,animationBegin:g,animationDuration:h,animationEasing:v,animateNewValues:S,width:j,height:k,onAnimationEnd:w,onAnimationStart:C}=n,_=s.current,E=Ic(n,"recharts-line-"),[A,T]=x.useState(!1),O=!A,P=x.useCallback(()=>{typeof w=="function"&&w(),T(!1)},[w]),R=x.useCallback(()=>{typeof C=="function"&&C(),T(!0)},[C]),U=tH(i.current),ee=c.current;return x.createElement(eH,{points:d,showLabels:O},n.children,x.createElement(Bc,{animationId:E,begin:g,duration:h,isActive:m,easing:v,onAnimationEnd:P,onAnimationStart:R,key:E},fe=>{var de=dr(ee,U+ee,fe),re=Math.min(de,U),Se;if(m)if(p){var he="".concat(p).split(/[,\s]+/gim).map(Y=>parseFloat(Y));Se=XU(re,U,he)}else Se=AE(U,re);else Se=p==null?void 0:String(p);if(_){var ge=_.length/d.length,F=fe===1?d:d.map((Y,me)=>{var be=Math.floor(me*ge);if(_[be]){var Ee=_[be];return zn(zn({},Y),{},{x:dr(Ee.x,Y.x,fe),y:dr(Ee.y,Y.y,fe)})}return S?zn(zn({},Y),{},{x:dr(j*2,Y.x,fe),y:dr(k/2,Y.y,fe)}):zn(zn({},Y),{},{x:Y.x,y:Y.y})});return s.current=F,x.createElement(k2,{props:n,points:F,clipPathId:t,pathRef:i,strokeDasharray:Se})}return fe>0&&U>0&&(s.current=d,c.current=re),x.createElement(k2,{props:n,points:d,clipPathId:t,pathRef:i,strokeDasharray:Se})}),x.createElement(cb,{label:n.label}))}function nH(e){var{clipPathId:t,props:n}=e,i=x.useRef(null),s=x.useRef(0),c=x.useRef(null);return x.createElement(rH,{props:n,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:s,pathRef:c})}var iH=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Kt(e.payload,t)});class oH extends x.Component{render(){var t,{hide:n,dot:i,points:s,className:c,xAxisId:d,yAxisId:p,top:m,left:g,width:h,height:v,id:S,needClip:j}=this.props;if(n)return null;var k=St("recharts-line",c),w=S,{r:C=3,strokeWidth:_=2}=(t=or(i,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},E=hz(i),A=C*2+_;return x.createElement(x.Fragment,null,x.createElement(Hr,{className:k},j&&x.createElement("defs",null,x.createElement(yE,{clipPathId:w,xAxisId:d,yAxisId:p}),!E&&x.createElement("clipPath",{id:"clipPath-dots-".concat(w)},x.createElement("rect",{x:g-A/2,y:m-A/2,width:h+A,height:v+A}))),x.createElement(hE,{xAxisId:d,yAxisId:p,data:s,dataPointFormatter:iH,errorBarOffset:0},x.createElement(nH,{props:this.props,clipPathId:w}))),x.createElement(kq,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var EE={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!oa.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function aH(e){var t=Fr(e,EE),{activeDot:n,animateNewValues:i,animationBegin:s,animationDuration:c,animationEasing:d,connectNulls:p,dot:m,hide:g,isAnimationActive:h,label:v,legendType:S,xAxisId:j,yAxisId:k,id:w}=t,C=_b(t,qU),{needClip:_}=jb(j,k),E=bb(),A=ep(),T=gn(),O=Ie(fe=>WU(fe,j,k,T,w));if(A!=="horizontal"&&A!=="vertical"||O==null||E==null)return null;var{height:P,width:R,x:U,y:ee}=E;return x.createElement(oH,Fa({},C,{id:w,connectNulls:p,dot:m,activeDot:n,animateNewValues:i,animationBegin:s,animationDuration:c,animationEasing:d,isAnimationActive:h,hide:g,label:v,legendType:S,xAxisId:j,yAxisId:k,points:O,layout:A,height:P,width:R,left:U,top:ee,needClip:_}))}function lH(e){var{layout:t,xAxis:n,yAxis:i,xAxisTicks:s,yAxisTicks:c,dataKey:d,bandSize:p,displayedData:m}=e;return m.map((g,h)=>{var v=Kt(g,d);if(t==="horizontal"){var S=tC({axis:n,ticks:s,bandSize:p,entry:g,index:h}),j=rr(v)?null:i.scale(v);return{x:S,y:j,value:v,payload:g}}var k=rr(v)?null:n.scale(v),w=tC({axis:i,ticks:c,bandSize:p,entry:g,index:h});return k==null||w==null?null:{x:k,y:w,value:v,payload:g}}).filter(Boolean)}function sH(e){var t=Fr(e,EE),n=gn();return x.createElement(xb,{id:t.id,type:"line"},i=>x.createElement(x.Fragment,null,x.createElement(uE,{legendPayload:YU(t)}),x.createElement(yb,{fn:VU,args:t}),x.createElement(fE,{type:"line",id:i,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),x.createElement(aH,Fa({},t,{id:i}))))}var OE=x.memo(sH);OE.displayName="Line";var cH=["dangerouslySetInnerHTML","ticks"],uH=["id"],dH=["domain"],fH=["domain"];function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ux.apply(null,arguments)}function Ef(e,t){if(e==null)return{};var n,i,s=pH(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function pH(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function gH(e){var t=ar();return x.useEffect(()=>(t(fq(e)),()=>{t(pq(e))}),[e,t]),null}var mH=e=>{var{xAxisId:t,className:n}=e,i=Ie(Xx),s=gn(),c="xAxis",d=Ie(C=>as(C,c,t,s)),p=Ie(C=>yA(C,c,t,s)),m=Ie(C=>pA(C,t)),g=Ie(C=>YL(C,t)),h=Ie(C=>HT(C,t));if(m==null||g==null||h==null)return null;var{dangerouslySetInnerHTML:v,ticks:S}=e,j=Ef(e,cH),{id:k}=h,w=Ef(h,uH);return x.createElement(zb,ux({},j,w,{scale:d,x:g.x,y:g.y,width:m.width,height:m.height,className:St("recharts-".concat(c," ").concat(c),n),viewBox:i,ticks:p}))},hH={allowDataOverflow:wn.allowDataOverflow,allowDecimals:wn.allowDecimals,allowDuplicatedCategory:wn.allowDuplicatedCategory,height:wn.height,hide:!1,mirror:wn.mirror,orientation:wn.orientation,padding:wn.padding,reversed:wn.reversed,scale:wn.scale,tickCount:wn.tickCount,type:wn.type,xAxisId:0},yH=e=>{var t,n,i,s,c,d=Fr(e,hH);return x.createElement(x.Fragment,null,x.createElement(gH,{interval:(t=d.interval)!==null&&t!==void 0?t:"preserveEnd",id:d.xAxisId,scale:d.scale,type:d.type,padding:d.padding,allowDataOverflow:d.allowDataOverflow,domain:d.domain,dataKey:d.dataKey,allowDuplicatedCategory:d.allowDuplicatedCategory,allowDecimals:d.allowDecimals,tickCount:d.tickCount,includeHidden:(n=d.includeHidden)!==null&&n!==void 0?n:!1,reversed:d.reversed,ticks:d.ticks,height:d.height,orientation:d.orientation,mirror:d.mirror,hide:d.hide,unit:d.unit,name:d.name,angle:(i=d.angle)!==null&&i!==void 0?i:0,minTickGap:(s=d.minTickGap)!==null&&s!==void 0?s:5,tick:(c=d.tick)!==null&&c!==void 0?c:!0,tickFormatter:d.tickFormatter}),x.createElement(mH,d))},xH=(e,t)=>{var{domain:n}=e,i=Ef(e,dH),{domain:s}=t,c=Ef(t,fH);return Kl(i,c)?Array.isArray(n)&&n.length===2&&Array.isArray(s)&&s.length===2?n[0]===s[0]&&n[1]===s[1]:Kl({domain:n},{domain:s}):!1},Id=x.memo(yH,xH);Id.displayName="XAxis";var vH=["dangerouslySetInnerHTML","ticks"],bH=["id"],SH=["domain"],jH=["domain"];function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dx.apply(null,arguments)}function Of(e,t){if(e==null)return{};var n,i,s=wH(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function wH(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function CH(e){var t=ar();return x.useEffect(()=>(t(gq(e)),()=>{t(mq(e))}),[e,t]),null}var kH=e=>{var{yAxisId:t,className:n,width:i,label:s}=e,c=x.useRef(null),d=x.useRef(null),p=Ie(Xx),m=gn(),g=ar(),h="yAxis",v=Ie(O=>as(O,h,t,m)),S=Ie(O=>gA(O,t)),j=Ie(O=>GL(O,t)),k=Ie(O=>yA(O,h,t,m)),w=Ie(O=>FT(O,t));if(x.useLayoutEffect(()=>{if(!(i!=="auto"||!S||sb(s)||x.isValidElement(s)||w==null)){var O=c.current;if(O){var P=O.getCalculatedWidth();Math.round(S.width)!==Math.round(P)&&g(hq({id:t,width:P}))}}},[k,S,g,s,t,i,w]),S==null||j==null||w==null)return null;var{dangerouslySetInnerHTML:C,ticks:_}=e,E=Of(e,vH),{id:A}=w,T=Of(w,bH);return x.createElement(zb,dx({},E,T,{ref:c,labelRef:d,scale:v,x:j.x,y:j.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:S.width,height:S.height,className:St("recharts-".concat(h," ").concat(h),n),viewBox:p,ticks:k}))},zH={allowDataOverflow:Cn.allowDataOverflow,allowDecimals:Cn.allowDecimals,allowDuplicatedCategory:Cn.allowDuplicatedCategory,hide:!1,mirror:Cn.mirror,orientation:Cn.orientation,padding:Cn.padding,reversed:Cn.reversed,scale:Cn.scale,tickCount:Cn.tickCount,type:Cn.type,width:Cn.width,yAxisId:0},_H=e=>{var t,n,i,s,c,d=Fr(e,zH);return x.createElement(x.Fragment,null,x.createElement(CH,{interval:(t=d.interval)!==null&&t!==void 0?t:"preserveEnd",id:d.yAxisId,scale:d.scale,type:d.type,domain:d.domain,allowDataOverflow:d.allowDataOverflow,dataKey:d.dataKey,allowDuplicatedCategory:d.allowDuplicatedCategory,allowDecimals:d.allowDecimals,tickCount:d.tickCount,padding:d.padding,includeHidden:(n=d.includeHidden)!==null&&n!==void 0?n:!1,reversed:d.reversed,ticks:d.ticks,width:d.width,orientation:d.orientation,mirror:d.mirror,hide:d.hide,unit:d.unit,name:d.name,angle:(i=d.angle)!==null&&i!==void 0?i:0,minTickGap:(s=d.minTickGap)!==null&&s!==void 0?s:5,tick:(c=d.tick)!==null&&c!==void 0?c:!0,tickFormatter:d.tickFormatter}),x.createElement(kH,d))},TH=(e,t)=>{var{domain:n}=e,i=Of(e,SH),{domain:s}=t,c=Of(t,jH);return Kl(i,c)?Array.isArray(n)&&n.length===2&&Array.isArray(s)&&s.length===2?n[0]===s[0]&&n[1]===s[1]:Kl({domain:n},{domain:s}):!1},qd=x.memo(_H,TH);qd.displayName="YAxis";var dy={exports:{}},fy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z2;function AH(){if(z2)return fy;z2=1;var e=Gl();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=e.useRef,c=e.useEffect,d=e.useMemo,p=e.useDebugValue;return fy.useSyncExternalStoreWithSelector=function(m,g,h,v,S){var j=s(null);if(j.current===null){var k={hasValue:!1,value:null};j.current=k}else k=j.current;j=d(function(){function C(O){if(!_){if(_=!0,E=O,O=v(O),S!==void 0&&k.hasValue){var P=k.value;if(S(P,O))return A=P}return A=O}if(P=A,n(E,O))return P;var R=v(O);return S!==void 0&&S(P,R)?(E=O,P):(E=O,A=R)}var _=!1,E,A,T=h===void 0?null:h;return[function(){return C(g())},T===null?void 0:function(){return C(T())}]},[g,h,v,S]);var w=i(m,j[0],j[1]);return c(function(){k.hasValue=!0,k.value=w},[w]),p(w),w},fy}var _2;function EH(){return _2||(_2=1,dy.exports=AH()),dy.exports}EH();function OH(e){e()}function MH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){OH(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var T2={notify(){},get:()=>[]};function RH(e,t){let n,i=T2,s=0,c=!1;function d(w){h();const C=i.subscribe(w);let _=!1;return()=>{_||(_=!0,C(),v())}}function p(){i.notify()}function m(){k.onStateChange&&k.onStateChange()}function g(){return c}function h(){s++,n||(n=e.subscribe(m),i=MH())}function v(){s--,n&&s===0&&(n(),n=void 0,i.clear(),i=T2)}function S(){c||(c=!0,h())}function j(){c&&(c=!1,v())}const k={addNestedSub:d,notifyNestedSubs:p,handleChangeWrapper:m,isSubscribed:g,trySubscribe:S,tryUnsubscribe:j,getListeners:()=>i};return k}var DH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PH=DH(),$H=()=>typeof navigator<"u"&&navigator.product==="ReactNative",NH=$H(),LH=()=>PH||NH?x.useLayoutEffect:x.useEffect,WH=LH(),BH=Symbol.for("react-redux-context"),IH=typeof globalThis<"u"?globalThis:{};function qH(){if(!x.createContext)return{};const e=IH[BH]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var UH=qH();function HH(e){const{children:t,context:n,serverState:i,store:s}=e,c=x.useMemo(()=>{const m=RH(s);return{store:s,subscription:m,getServerState:i?()=>i:void 0}},[s,i]),d=x.useMemo(()=>s.getState(),[s]);WH(()=>{const{subscription:m}=c;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),d!==s.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[c,d]);const p=n||UH;return x.createElement(p.Provider,{value:c},t)}var FH=HH,KH=(e,t)=>t,Tb=ce([KH,yt,IT,Er,MA,jo,eB,Tr],oB),Ab=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,i=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/i)}},ME=ti("mouseClick"),RE=Lc();RE.startListening({actionCreator:ME,effect:(e,t)=>{var n=e.payload,i=Tb(t.getState(),Ab(n));i?.activeIndex!=null&&t.dispatch(sW({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var fx=ti("mouseMove"),DE=Lc();DE.startListening({actionCreator:fx,effect:(e,t)=>{var n=e.payload,i=t.getState(),s=Zv(i,i.tooltip.settings.shared),c=Tb(i,Ab(n));s==="axis"&&(c?.activeIndex!=null?t.dispatch(kA({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(CA()))}});var A2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},PE=Rn({name:"rootProps",initialState:A2,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:A2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),YH=PE.reducer,{updateOptions:VH}=PE.actions,$E=Rn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:GH}=$E.actions,XH=$E.reducer,NE=ti("keyDown"),LE=ti("focus"),Eb=Lc();Eb.startListening({actionCreator:NE,effect:(e,t)=>{var n=t.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:s}=n.tooltip,c=e.payload;if(!(c!=="ArrowRight"&&c!=="ArrowLeft"&&c!=="Enter")){var d=Number(Jv(s,ss(n))),p=jo(n);if(c==="Enter"){var m=wf(n,"axis","hover",String(s.index));t.dispatch(rx({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:m}));return}var g=JL(n),h=g==="left-to-right"?1:-1,v=c==="ArrowRight"?1:-1,S=d+v*h;if(!(p==null||S>=p.length||S<0)){var j=wf(n,"axis","hover",String(S));t.dispatch(rx({active:!0,activeIndex:S.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}});Eb.startListening({actionCreator:LE,effect:(e,t)=>{var n=t.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var c="0",d=wf(n,"axis","hover",String(c));t.dispatch(rx({activeDataKey:void 0,active:!0,activeIndex:c,activeCoordinate:d}))}}}});var Gn=ti("externalEvent"),WE=Lc();WE.startListening({actionCreator:Gn,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),i={activeCoordinate:HW(n),activeDataKey:$A(n),activeIndex:Jo(n),activeLabel:PA(n),activeTooltipIndex:Jo(n),isTooltipActive:FW(n)};e.payload.handler(i,e.payload.reactEvent)}}});var QH=ce([ls],e=>e.tooltipItemPayloads),ZH=ce([QH,Qc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,i)=>{var s=e.find(p=>p.settings.dataKey===i);if(s!=null){var{positions:c}=s;if(c!=null){var d=t(c,n);return d}}}),BE=ti("touchMove"),IE=Lc();IE.startListening({actionCreator:BE,effect:(e,t)=>{var n=e.payload,i=t.getState(),s=Zv(i,i.tooltip.settings.shared);if(s==="axis"){var c=Tb(i,Ab({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));c?.activeIndex!=null&&t.dispatch(kA({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(s==="item"){var d,p=n.touches[0],m=document.elementFromPoint(p.clientX,p.clientY);if(!m||!m.getAttribute)return;var g=m.getAttribute(C_),h=(d=m.getAttribute(k_))!==null&&d!==void 0?d:void 0,v=ZH(t.getState(),g,h);t.dispatch(wA({activeDataKey:h,activeIndex:g,activeCoordinate:v}))}}});var JH=Xz({brush:L9,cartesianAxis:yq,chartData:SB,errorBars:Nq,graphicalItems:$7,layout:e4,legend:H4,options:hB,polarAxis:JI,polarOptions:XH,referenceElements:F9,rootProps:YH,tooltip:cW}),eF=function(t){return k$({reducer:JH,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([RE.middleware,DE.middleware,Eb.middleware,WE.middleware,IE.middleware]),devTools:oa.devToolsEnabled})};function qE(e){var{preloadedState:t,children:n,reduxStoreName:i}=e,s=gn(),c=x.useRef(null);if(s)return n;c.current==null&&(c.current=eF(t));var d=Hx;return x.createElement(FH,{context:d,store:c.current},n)}function UE(e){var{layout:t,width:n,height:i,margin:s}=e,c=ar(),d=gn();return x.useEffect(()=>{d||(c(Q$(t)),c(Z$({width:n,height:i})),c(X$(s)))},[c,d,t,n,i,s]),null}function HE(e){var t=ar();return x.useEffect(()=>{t(VH(e))},[t,e]),null}var tF=["children"];function rF(e,t){if(e==null)return{};var n,i,s=nF(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function nF(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mf.apply(null,arguments)}var iF={width:"100%",height:"100%"},oF=x.forwardRef((e,t)=>{var n=Zx(),i=Jx(),s=E_();if(!Bl(n)||!Bl(i))return null;var{children:c,otherAttributes:d,title:p,desc:m}=e,g,h;return typeof d.tabIndex=="number"?g=d.tabIndex:g=s?0:void 0,typeof d.role=="string"?h=d.role:h=s?"application":void 0,x.createElement(Px,Mf({},d,{title:p,desc:m,role:h,tabIndex:g,width:n,height:i,style:iF,ref:t}),c)}),aF=e=>{var{children:t}=e,n=Ie(Jf);if(!n)return null;var{width:i,height:s,y:c,x:d}=n;return x.createElement(Px,{width:i,height:s,x:d,y:c},t)},E2=x.forwardRef((e,t)=>{var{children:n}=e,i=rF(e,tF),s=gn();return s?x.createElement(aF,null,n):x.createElement(oF,Mf({ref:t},i),n)});function lF(){var e=ar(),[t,n]=x.useState(null),i=Ie(A4);return x.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),c=s.width/t.offsetWidth;Mn(c)&&c!==i&&e(J$(c))}},[t,e,i]),n}function O2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function sF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O2(Object(n),!0).forEach(function(i){cF(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function cF(e,t,n){return(t=uF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uF(e){var t=dF(e,"string");return typeof t=="symbol"?t:t+""}function dF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fF=x.forwardRef((e,t)=>{var{children:n,className:i,height:s,onClick:c,onContextMenu:d,onDoubleClick:p,onMouseDown:m,onMouseEnter:g,onMouseLeave:h,onMouseMove:v,onMouseUp:S,onTouchEnd:j,onTouchMove:k,onTouchStart:w,style:C,width:_}=e,E=ar(),[A,T]=x.useState(null),[O,P]=x.useState(null);EB();var R=lF(),U=x.useCallback(W=>{R(W),typeof t=="function"&&t(W),T(W),P(W)},[R,t,T,P]),ee=x.useCallback(W=>{E(ME(W)),E(Gn({handler:c,reactEvent:W}))},[E,c]),fe=x.useCallback(W=>{E(fx(W)),E(Gn({handler:g,reactEvent:W}))},[E,g]),de=x.useCallback(W=>{E(CA()),E(Gn({handler:h,reactEvent:W}))},[E,h]),re=x.useCallback(W=>{E(fx(W)),E(Gn({handler:v,reactEvent:W}))},[E,v]),Se=x.useCallback(()=>{E(LE())},[E]),he=x.useCallback(W=>{E(NE(W.key))},[E]),ge=x.useCallback(W=>{E(Gn({handler:d,reactEvent:W}))},[E,d]),F=x.useCallback(W=>{E(Gn({handler:p,reactEvent:W}))},[E,p]),Y=x.useCallback(W=>{E(Gn({handler:m,reactEvent:W}))},[E,m]),me=x.useCallback(W=>{E(Gn({handler:S,reactEvent:W}))},[E,S]),be=x.useCallback(W=>{E(Gn({handler:w,reactEvent:W}))},[E,w]),Ee=x.useCallback(W=>{E(BE(W)),E(Gn({handler:k,reactEvent:W}))},[E,k]),$=x.useCallback(W=>{E(Gn({handler:j,reactEvent:W}))},[E,j]);return x.createElement(qA.Provider,{value:A},x.createElement(yz.Provider,{value:O},x.createElement("div",{className:St("recharts-wrapper",i),style:sF({position:"relative",cursor:"default",width:_,height:s},C),onClick:ee,onContextMenu:ge,onDoubleClick:F,onFocus:Se,onKeyDown:he,onMouseDown:Y,onMouseEnter:fe,onMouseLeave:de,onMouseMove:re,onMouseUp:me,onTouchEnd:$,onTouchMove:Ee,onTouchStart:be,ref:U},n)))}),pF=["children","className","width","height","style","compact","title","desc"];function gF(e,t){if(e==null)return{};var n,i,s=mF(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function mF(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var FE=x.forwardRef((e,t)=>{var{children:n,className:i,width:s,height:c,style:d,compact:p,title:m,desc:g}=e,h=gF(e,pF),v=Di(h);return p?x.createElement(E2,{otherAttributes:v,title:m,desc:g},n):x.createElement(fF,{className:i,style:d,width:s,height:c,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(E2,{otherAttributes:v,title:m,desc:g,ref:t},x.createElement(Y9,null,n)))}),hF=["width","height"];function px(){return px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},px.apply(null,arguments)}function yF(e,t){if(e==null)return{};var n,i,s=xF(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function xF(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var vF={top:5,right:5,bottom:5,left:5},bF={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:vF,reverseStackOrder:!1,syncMethod:"index"},KE=x.forwardRef(function(t,n){var i,s=Fr(t.categoricalChartProps,bF),{width:c,height:d}=s,p=yF(s,hF);if(!Bl(c)||!Bl(d))return null;var{chartName:m,defaultTooltipEventType:g,validateTooltipEventTypes:h,tooltipPayloadSearcher:v,categoricalChartProps:S}=t,j={chartName:m,defaultTooltipEventType:g,validateTooltipEventTypes:h,tooltipPayloadSearcher:v,eventEmitter:void 0};return x.createElement(qE,{preloadedState:{options:j},reduxStoreName:(i=S.id)!==null&&i!==void 0?i:m},x.createElement(bE,{chartData:S.data}),x.createElement(UE,{width:c,height:d,layout:s.layout,margin:s.margin}),x.createElement(HE,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),x.createElement(FE,px({},p,{width:c,height:d,ref:n})))}),SF=["axis"],jF=x.forwardRef((e,t)=>x.createElement(KE,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:SF,tooltipPayloadSearcher:lb,categoricalChartProps:e,ref:t})),wF=["axis","item"],M2=x.forwardRef((e,t)=>x.createElement(KE,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wF,tooltipPayloadSearcher:lb,categoricalChartProps:e,ref:t}));function CF(e){var t=ar();return x.useEffect(()=>{t(GH(e))},[t,e]),null}var kF=["width","height","layout"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gx.apply(null,arguments)}function zF(e,t){if(e==null)return{};var n,i,s=_F(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function _F(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var TF={top:5,right:5,bottom:5,left:5},AF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:TF,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},EF=x.forwardRef(function(t,n){var i,s=Fr(t.categoricalChartProps,AF),{width:c,height:d,layout:p}=s,m=zF(s,kF);if(!Bl(c)||!Bl(d))return null;var{chartName:g,defaultTooltipEventType:h,validateTooltipEventTypes:v,tooltipPayloadSearcher:S}=t,j={chartName:g,defaultTooltipEventType:h,validateTooltipEventTypes:v,tooltipPayloadSearcher:S,eventEmitter:void 0};return x.createElement(qE,{preloadedState:{options:j},reduxStoreName:(i=s.id)!==null&&i!==void 0?i:g},x.createElement(bE,{chartData:s.data}),x.createElement(UE,{width:c,height:d,layout:p,margin:s.margin}),x.createElement(HE,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),x.createElement(CF,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),x.createElement(FE,gx({width:c,height:d},m,{ref:n})))}),OF=["item"],MF={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},RF=x.forwardRef((e,t)=>{var n=Fr(e,MF);return x.createElement(EF,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:OF,tooltipPayloadSearcher:lb,categoricalChartProps:n,ref:t})});/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PF=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),R2=e=>{const t=PF(e);return t.charAt(0).toUpperCase()+t.slice(1)},YE=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),$F=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:c,iconNode:d,...p},m)=>x.createElement("svg",{ref:m,...NF,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:YE("lucide",s),...!c&&!$F(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,h])=>x.createElement(g,h)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(e,t)=>{const n=x.forwardRef(({className:i,...s},c)=>x.createElement(LF,{ref:c,iconNode:t,className:YE(`lucide-${DF(R2(e))}`,`lucide-${e}`,i),...s}));return n.displayName=R2(e),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],D2=De("archive",WF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Yl=De("arrow-down",BF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Rf=De("arrow-left",IF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],UF=De("arrow-right",qF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],FF=De("arrow-up-down",HF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Vl=De("arrow-up",KF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mx=De("calendar",YF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],hx=De("camera",VF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Zn=De("chevron-down",GF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],QF=De("chevron-left",XF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],VE=De("chevron-right",ZF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ec=De("chevron-up",JF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],tK=De("chevrons-left",eK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],nK=De("chevrons-right",rK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fn=De("circle-alert",iK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ft=De("circle-check-big",oK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Oc=De("circle-x",aK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],GE=De("circle",lK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Tn=De("clock",sK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],XE=De("copy",cK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ti=De("external-link",uK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],fK=De("eye-off",dK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gK=De("eye",pK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],QE=De("file-text",mK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ZE=De("funnel",hK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],xK=De("git-branch",yK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],bK=De("grip-vertical",vK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],JE=De("info",SK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],wK=De("key",jK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],kK=De("layout-dashboard",CK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],py=De("lightbulb",zK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],eO=De("link-2",_K);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],tO=De("list",TK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Jn=De("loader-circle",AK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Df=De("loader",EK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],MK=De("log-out",OK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vp=De("mail",RK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],zi=De("message-circle",DK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],yx=De("message-square",PK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ka=De("minus",$K);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],LK=De("package",NK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],BK=De("party-popper",WK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],qK=De("pause",IK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Pf=De("pen",UK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],cs=De("phone",HK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],$f=De("play",FK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mr=De("plus",KK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ob=De("refresh-cw",YK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],GK=De("rotate-ccw",VK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ud=De("save",XK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mi=De("search",QK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],JK=De("send",ZK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tY=De("settings",eY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rO=De("shield",rY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],nO=De("shopping-cart",nY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],xx=De("sparkles",iY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],eu=De("square-pen",oY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],iO=De("tag",aY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Mc=De("target",lY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],so=De("ticket",sY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],vx=De("toggle-left",cY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],bx=De("toggle-right",uY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],tn=De("trash-2",dY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],pY=De("trending-down",fY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],mY=De("trending-up",gY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hi=De("triangle-alert",hY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ra=De("truck",yY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],P2=De("upload",xY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mc=De("user-check",vY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],SY=De("user-plus",bY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sx=De("users",jY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ya=De("user",wY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],oO=De("video",CY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],mo=De("wrench",kY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$t=De("x",zY),aO=x.createContext(null),_Y=({children:e})=>{const[t,n]=x.useState(null),[i,s]=x.useState(!1),[c,d]=x.useState(!0),p="";x.useEffect(()=>{(async()=>{try{const T=await fetch(`${p}/api/auth/me`,{credentials:"include"});if(T.ok){const O=await T.json();n(O.user),s(!0)}else s(!1),n(null)}catch(T){console.error("Auth check failed:",T),s(!1),n(null)}finally{d(!1)}})()},[]);const E={user:t,isAuthenticated:i,authLoading:c,login:async(A,T)=>{try{const O=await fetch(`${p}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:A,password:T})}),P=await O.json();if(!O.ok)throw new Error(P.error||"Login failed");return n(P.user),s(!0),{success:!0,user:P.user}}catch(O){return{success:!1,error:O.message}}},logout:async()=>{try{await fetch(`${p}/api/auth/logout`,{method:"POST",credentials:"include"})}catch(A){console.error("Logout error:",A)}n(null),s(!1)},getRoles:()=>!t||!t.roles?[]:t.roles.map(A=>A.name),hasRole:A=>!t||!t.roles?!1:t.roles.some(T=>T.name===A),hasAnyRole:A=>{if(!t||!t.roles)return!1;const T=t.roles.map(O=>O.name);return A.some(O=>T.includes(O))},hasAllRoles:A=>{if(!t||!t.roles)return!1;const T=t.roles.map(O=>O.name);return A.every(O=>T.includes(O))},getPermissions:()=>!t||!t.permissions?[]:t.permissions,hasPermission:A=>!t||!t.permissions?!1:t.permissions.includes(A),hasAnyPermission:A=>!t||!t.permissions?!1:A.some(T=>t.permissions.includes(T)),hasAllPermissions:A=>!t||!t.permissions?!1:A.every(T=>t.permissions.includes(T))};return l.jsx(aO.Provider,{value:E,children:e})},mn=()=>{const e=x.useContext(aO);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},r={colors:{background:{page:"#f8fafc",primary:"#f8fafc",secondary:"#ffffff",tertiary:"#f1f5f9",hover:"#e2e8f0",muted:"#f8fafc"},border:{light:"#e2e8f0",medium:"#cbd5e1",dark:"#94a3b8",focus:"#1e3a5f"},text:{primary:"#0f172a",secondary:"#475569",tertiary:"#64748b",inverse:"#ffffff",link:"#1e3a5f"},accent:{primary:"#1e3a5f",primaryHover:"#152d47",primaryLight:"#e8f0f8",primaryMuted:"#dbeafe",secondary:"#5a8aa3",secondaryHover:"#4a7a93",success:"#059669",successHover:"#047857",successLight:"#d1fae5",warning:"#d97706",warningLight:"#fef3c7",danger:"#dc2626",dangerLight:"#fee2e2",info:"#0891b2",infoLight:"#cffafe"},status:{online:"#059669",onlineLight:"#d1fae5",offline:"#64748b",offlineLight:"#f1f5f9",busy:"#dc2626",busyLight:"#fee2e2",away:"#d97706",awayLight:"#fef3c7"},chart:{blue:"#1e3a5f",lightBlue:"#3b82f6",purple:"#7c3aed",green:"#059669",orange:"#ea580c",pink:"#db2777",cyan:"#0891b2",yellow:"#ca8a04",red:"#dc2626",gray:"#64748b"}},radius:{xs:"4px",sm:"6px",md:"8px",lg:"12px",xl:"16px","2xl":"20px",full:"9999px"},shadows:{xs:"0 1px 2px 0 rgba(0, 0, 0, 0.03)",sm:"0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 1px 2px -1px rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.07), 0 2px 4px -2px rgba(0, 0, 0, 0.05)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -4px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.08), 0 8px 10px -6px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.15)",inner:"inset 0 2px 4px 0 rgba(0, 0, 0, 0.05)",focus:"0 0 0 3px rgba(30, 58, 95, 0.15)"},spacing:{xs:"0.25rem",sm:"0.5rem",md:"0.75rem",lg:"1rem",xl:"1.5rem","2xl":"2rem","3xl":"2.5rem","4xl":"3rem"},fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"},lineHeight:{tight:"1.25",normal:"1.5",relaxed:"1.75"},transitions:{fast:"150ms ease",normal:"200ms ease",slow:"300ms ease",bounce:"300ms cubic-bezier(0.68, -0.55, 0.265, 1.55)"},zIndex:{dropdown:1e3,sticky:1020,fixed:1030,modal:1040,popover:1050,tooltip:1060},breakpoints:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"}};r.shadows.focus,r.colors.background.secondary,r.radius.xl,`${r.colors.border.light}`,r.shadows.sm,r.fontWeight.medium,r.radius.md,r.transitions.fast,r.colors.background.secondary,`${r.colors.border.medium}`,r.radius.md,r.fontSize.base,r.colors.text.primary,r.transitions.fast;const lO=({children:e,variant:t="primary",size:n="md",loading:i=!1,disabled:s=!1,fullWidth:c=!1,icon:d,iconPosition:p="left",type:m="button",onClick:g,className:h,style:v={},...S})=>{const[j,k]=gi.useState(!1),[w,C]=gi.useState(!1),_={primary:{background:r.colors.accent.primary,backgroundHover:r.colors.accent.primaryHover,color:r.colors.text.inverse,border:"none"},secondary:{background:r.colors.background.tertiary,backgroundHover:r.colors.background.hover,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`},outline:{background:"transparent",backgroundHover:r.colors.accent.primaryLight,color:r.colors.accent.primary,border:`1px solid ${r.colors.accent.primary}`},ghost:{background:"transparent",backgroundHover:r.colors.background.tertiary,color:r.colors.text.secondary,border:"none"},danger:{background:r.colors.accent.danger,backgroundHover:"#b91c1c",color:r.colors.text.inverse,border:"none"},dangerOutline:{background:"transparent",backgroundHover:r.colors.accent.dangerLight,color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`},success:{background:r.colors.accent.success,backgroundHover:"#047857",color:r.colors.text.inverse,border:"none"}},E={xs:{padding:"4px 10px",fontSize:r.fontSize.xs,height:"28px",gap:"4px",iconSize:12},sm:{padding:"6px 12px",fontSize:r.fontSize.sm,height:"32px",gap:"6px",iconSize:14},md:{padding:"8px 16px",fontSize:r.fontSize.sm,height:"38px",gap:"8px",iconSize:16},lg:{padding:"12px 24px",fontSize:r.fontSize.base,height:"46px",gap:"10px",iconSize:18},xl:{padding:"16px 32px",fontSize:r.fontSize.lg,height:"54px",gap:"12px",iconSize:20}},A=_[t]||_.primary,T=E[n]||E.md,O=s||i,P=()=>O?r.colors.background.tertiary:w||j?A.backgroundHover:A.background,R={button:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:T.gap,padding:T.padding,height:T.height,backgroundColor:P(),color:O?r.colors.text.tertiary:A.color,border:A.border,borderRadius:r.radius.lg,fontSize:T.fontSize,fontWeight:r.fontWeight.medium,cursor:O?"not-allowed":"pointer",transition:r.transitions.fast,width:c?"100%":"auto",opacity:O?.6:1,transform:w&&!O?"scale(0.98)":"scale(1)",boxShadow:t==="primary"&&!O?r.shadows.sm:"none",outline:"none",textDecoration:"none",whiteSpace:"nowrap",...v},spinner:{animation:"spin 1s linear infinite"}},U=ee=>i&&ee==="left"?l.jsx(Jn,{size:T.iconSize,style:R.spinner}):d&&p===ee?gi.cloneElement(d,{size:T.iconSize}):null;return l.jsxs("button",{type:m,className:h,style:R.button,disabled:O,onClick:g,onMouseEnter:()=>k(!0),onMouseLeave:()=>{k(!1),C(!1)},onMouseDown:()=>C(!0),onMouseUp:()=>C(!1),...S,children:[U("left"),e,U("right")]})},jx=x.forwardRef(({type:e="text",label:t,placeholder:n,value:i,onChange:s,onBlur:c,onFocus:d,error:p,helperText:m,disabled:g=!1,required:h=!1,icon:v,iconPosition:S="left",clearable:j=!1,onClear:k,size:w="md",fullWidth:C=!0,className:_,style:E={},inputStyle:A={},...T},O)=>{const[P,R]=x.useState(!1),[U,ee]=x.useState(!1),fe=e==="password",de=e==="search",re=i&&i.length>0,Se={sm:{height:"34px",padding:"8px 12px",fontSize:r.fontSize.sm,iconSize:14,labelSize:r.fontSize.xs},md:{height:"42px",padding:"10px 14px",fontSize:r.fontSize.base,iconSize:16,labelSize:r.fontSize.sm},lg:{height:"50px",padding:"12px 16px",fontSize:r.fontSize.lg,iconSize:18,labelSize:r.fontSize.sm}},he=Se[w]||Se.md,ge=()=>p?r.colors.accent.danger:P?r.colors.accent.primary:r.colors.border.medium,F=()=>p&&P?`0 0 0 3px ${r.colors.accent.dangerLight}`:P?r.shadows.focus:"none",Y={container:{display:"flex",flexDirection:"column",gap:r.spacing.sm,width:C?"100%":"auto",...E},labelWrapper:{display:"flex",alignItems:"center",justifyContent:"space-between"},label:{color:p?r.colors.accent.danger:r.colors.text.primary,fontSize:he.labelSize,fontWeight:r.fontWeight.medium},required:{color:r.colors.accent.danger,marginLeft:"2px"},inputWrapper:{position:"relative",display:"flex",alignItems:"center"},input:{width:"100%",height:he.height,padding:he.padding,paddingLeft:v&&S==="left"?`calc(${he.padding} + 24px)`:he.padding,paddingRight:fe||j||v&&S==="right"?`calc(${he.padding} + 28px)`:he.padding,backgroundColor:g?r.colors.background.tertiary:r.colors.background.secondary,border:`1px solid ${ge()}`,borderRadius:r.radius.lg,fontSize:he.fontSize,color:g?r.colors.text.tertiary:r.colors.text.primary,outline:"none",transition:r.transitions.fast,boxShadow:F(),cursor:g?"not-allowed":"text",...A},iconLeft:{position:"absolute",left:"12px",color:P?r.colors.accent.primary:r.colors.text.tertiary,pointerEvents:"none",transition:r.transitions.fast},iconRight:{position:"absolute",right:"12px",color:r.colors.text.tertiary,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"4px",borderRadius:r.radius.sm,transition:r.transitions.fast},helperText:{fontSize:r.fontSize.xs,color:p?r.colors.accent.danger:r.colors.text.tertiary,marginTop:"-2px"}},me=L=>{R(!0),d?.(L)},be=L=>{R(!1),c?.(L)},Ee=()=>{k?.(),s?.({target:{value:""}})},$=()=>de?l.jsx("div",{style:Y.iconLeft,children:l.jsx(mi,{size:he.iconSize})}):v&&S==="left"?l.jsx("div",{style:Y.iconLeft,children:gi.cloneElement(v,{size:he.iconSize})}):null,W=()=>fe?l.jsx("div",{style:Y.iconRight,onClick:()=>ee(!U),role:"button",tabIndex:-1,onMouseEnter:L=>{L.currentTarget.style.backgroundColor=r.colors.background.tertiary},onMouseLeave:L=>{L.currentTarget.style.backgroundColor="transparent"},children:U?l.jsx(fK,{size:he.iconSize}):l.jsx(gK,{size:he.iconSize})}):j&&re?l.jsx("div",{style:Y.iconRight,onClick:Ee,role:"button",tabIndex:-1,onMouseEnter:L=>{L.currentTarget.style.backgroundColor=r.colors.background.tertiary},onMouseLeave:L=>{L.currentTarget.style.backgroundColor="transparent"},children:l.jsx($t,{size:he.iconSize})}):v&&S==="right"?l.jsx("div",{style:{...Y.iconRight,cursor:"default",pointerEvents:"none"},children:gi.cloneElement(v,{size:he.iconSize})}):null;return l.jsxs("div",{className:_,style:Y.container,children:[t&&l.jsx("div",{style:Y.labelWrapper,children:l.jsxs("label",{style:Y.label,children:[t,h&&l.jsx("span",{style:Y.required,children:"*"})]})}),l.jsxs("div",{style:Y.inputWrapper,children:[$(),l.jsx("input",{ref:O,type:fe&&U?"text":e,placeholder:n,value:i,onChange:s,onFocus:me,onBlur:be,disabled:g,required:h,style:Y.input,...T}),W()]}),(m||p)&&l.jsx("span",{style:Y.helperText,children:p||m})]})});jx.displayName="Input";const TY=x.forwardRef(({label:e,placeholder:t,value:n,onChange:i,error:s,helperText:c,disabled:d=!1,required:p=!1,rows:m=4,resize:g="vertical",fullWidth:h=!0,className:v,style:S={},...j},k)=>{const[w,C]=x.useState(!1),_=()=>s?r.colors.accent.danger:w?r.colors.accent.primary:r.colors.border.medium,E={container:{display:"flex",flexDirection:"column",gap:r.spacing.sm,width:h?"100%":"auto",...S},label:{color:s?r.colors.accent.danger:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},required:{color:r.colors.accent.danger,marginLeft:"2px"},textarea:{width:"100%",padding:"12px 14px",backgroundColor:d?r.colors.background.tertiary:r.colors.background.secondary,border:`1px solid ${_()}`,borderRadius:r.radius.lg,fontSize:r.fontSize.base,color:d?r.colors.text.tertiary:r.colors.text.primary,outline:"none",transition:r.transitions.fast,boxShadow:w?r.shadows.focus:"none",resize:g,fontFamily:"inherit",lineHeight:r.lineHeight.normal},helperText:{fontSize:r.fontSize.xs,color:s?r.colors.accent.danger:r.colors.text.tertiary}};return l.jsxs("div",{className:v,style:E.container,children:[e&&l.jsxs("label",{style:E.label,children:[e,p&&l.jsx("span",{style:E.required,children:"*"})]}),l.jsx("textarea",{ref:k,placeholder:t,value:n,onChange:i,onFocus:()=>C(!0),onBlur:()=>C(!1),disabled:d,required:p,rows:m,style:E.textarea,...j}),(c||s)&&l.jsx("span",{style:E.helperText,children:s||c})]})});TY.displayName="Textarea";function AY(){const[e,t]=x.useState(""),[n,i]=x.useState(""),[s,c]=x.useState(""),[d,p]=x.useState(!1),{login:m}=mn(),g=async v=>{v.preventDefault(),c(""),p(!0);const S=await m(e,n);S.success||(c(S.error||"Login failed"),p(!1))},h={page:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:r.colors.background.page,padding:r.spacing.xl},container:{width:"100%",maxWidth:"420px"},logoSection:{textAlign:"center",marginBottom:r.spacing["3xl"]},logo:{maxWidth:"240px",width:"100%",height:"auto",marginBottom:r.spacing.lg},subtitle:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},card:{padding:r.spacing["2xl"],backgroundColor:r.colors.background.secondary,borderRadius:r.radius["2xl"],border:`1px solid ${r.colors.border.light}`,boxShadow:r.shadows.lg},cardHeader:{marginBottom:r.spacing["2xl"],textAlign:"center"},cardTitle:{margin:0,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,marginBottom:r.spacing.xs},cardDescription:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},form:{display:"flex",flexDirection:"column",gap:r.spacing.xl},errorBox:{display:"flex",alignItems:"center",gap:r.spacing.md,padding:r.spacing.lg,backgroundColor:r.colors.accent.dangerLight,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.lg,color:r.colors.accent.danger,fontSize:r.fontSize.sm},footer:{marginTop:r.spacing["2xl"],textAlign:"center",color:r.colors.text.tertiary,fontSize:r.fontSize.xs},footerLink:{color:r.colors.accent.primary,textDecoration:"none",fontWeight:r.fontWeight.medium}};return l.jsx("div",{style:h.page,children:l.jsxs("div",{style:h.container,children:[l.jsxs("div",{style:h.logoSection,children:[l.jsx("img",{src:"/max-logo.png",alt:"MAX - Mobile AI Xpress Support",style:h.logo}),l.jsx("p",{style:h.subtitle,children:"Van Support Management System"})]}),l.jsxs("div",{style:h.card,children:[l.jsxs("div",{style:h.cardHeader,children:[l.jsx("h1",{style:h.cardTitle,children:"Welcome back"}),l.jsx("p",{style:h.cardDescription,children:"Sign in to access your dashboard"})]}),l.jsxs("form",{onSubmit:g,style:h.form,children:[l.jsx(jx,{label:"Email Address",type:"email",value:e,onChange:v=>t(v.target.value),placeholder:"you@example.com",required:!0,autoComplete:"email",disabled:d}),l.jsx(jx,{label:"Password",type:"password",value:n,onChange:v=>i(v.target.value),placeholder:"Enter your password",required:!0,autoComplete:"current-password",disabled:d}),s&&l.jsxs("div",{style:h.errorBox,children:[l.jsx(fn,{size:18}),l.jsx("span",{children:s})]}),l.jsx(lO,{type:"submit",loading:d,fullWidth:!0,size:"lg",children:d?"Signing in...":"Sign In"})]}),l.jsx("div",{style:h.footer,children:l.jsxs("p",{style:{margin:0},children:["Need help?"," ",l.jsx("a",{href:"mailto:support@maxsupport.com",style:h.footerLink,children:"Contact Support"})]})})]})]})})}const EY="",Cr=({user:e,onLogout:t,hasRole:n})=>{const i=Mi(),[s,c]=x.useState(!0),[d,p]=x.useState(0);x.useEffect(()=>{const k=async()=>{if(!(!n("manager")&&!n("admin")))try{const C=await fetch(`${EY}/api/sequences/active`,{credentials:"include"});if(C.ok){const _=await C.json();p(_?.length||0)}}catch(C){console.error("Error fetching active sequences count:",C)}};k();const w=setInterval(k,3e4);return()=>clearInterval(w)},[n]);const m=()=>{const k=[{id:"dashboard",label:"Dashboard",Icon:kK,path:"/",show:!0}];return(n("manager")||n("admin"))&&k.push({id:"support-tickets",label:"Support Tickets",Icon:so,path:"/tickets",show:!0}),(n("manager")||n("admin"))&&k.push({id:"active-sequences",label:"Active Sequences",Icon:yx,path:"/active-sequences",show:!0,badge:d>0?d:null}),k.filter(w=>w.show)},g=()=>{const k=[];return(n("viewer")||n("manager")||n("admin"))&&k.push({id:"sequences",label:"Sequences",Icon:tO,path:"/sequences",show:!0}),(n("manager")||n("admin"))&&k.push({id:"trigger-patterns",label:"Trigger Patterns",Icon:Mc,path:"/patterns",show:!0}),(n("viewer")||n("manager")||n("admin"))&&k.push({id:"vans",label:"Vans",Icon:ra,path:"/vans",show:!0}),(n("viewer")||n("manager")||n("admin"))&&k.push({id:"owners",label:"Owners",Icon:Ya,path:"/owners",show:!0}),(n("manager")||n("admin"))&&k.push({id:"users",label:"Users",Icon:rO,path:"/users",show:!0}),k.filter(w=>w.show)},h=m(),v=g(),S=v.length>0,j={sidebar:{width:"260px",height:"100vh",backgroundColor:r.colors.background.secondary,borderRight:`1px solid ${r.colors.border.light}`,display:"flex",flexDirection:"column",position:"fixed",left:0,top:0,overflowY:"auto",zIndex:r.zIndex.fixed,boxShadow:r.shadows.sm},brand:{padding:r.spacing["2xl"],borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:r.colors.background.secondary},logo:{height:"48px",width:"auto",marginBottom:r.spacing.sm},brandName:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.accent.primary,letterSpacing:"0.05em"},brandTagline:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginTop:r.spacing.xs,fontWeight:r.fontWeight.medium,textAlign:"center"},userSection:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,backgroundColor:r.colors.background.tertiary},userInfo:{display:"flex",alignItems:"center",gap:r.spacing.md},avatar:{width:"44px",height:"44px",borderRadius:r.radius.lg,backgroundColor:r.colors.accent.primary,display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.text.inverse,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.lg,boxShadow:r.shadows.sm},userDetails:{flex:1,minWidth:0},userName:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},userRole:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginTop:"2px",textTransform:"capitalize"},navigation:{padding:r.spacing.lg,flex:1},sectionLabel:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.md,paddingLeft:r.spacing.md},navItem:k=>({width:"100%",display:"flex",alignItems:"center",gap:r.spacing.md,padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:k?r.colors.accent.primaryLight:"transparent",color:k?r.colors.accent.primary:r.colors.text.secondary,border:"none",borderRadius:r.radius.lg,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:k?r.fontWeight.semibold:r.fontWeight.medium,marginBottom:r.spacing.xs,transition:r.transitions.fast,textAlign:"left",textDecoration:"none",position:"relative"}),navItemActive:{boxShadow:`inset 3px 0 0 ${r.colors.accent.primary}`},badge:k=>({backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,padding:"2px 8px",borderRadius:r.radius.full,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,minWidth:"20px",textAlign:"center"}),adminHeader:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:"transparent",color:r.colors.text.secondary,border:"none",borderRadius:r.radius.lg,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.xs,transition:r.transitions.fast,textAlign:"left"},adminSubmenu:{marginLeft:r.spacing.lg,marginTop:r.spacing.xs,paddingLeft:r.spacing.md,borderLeft:`2px solid ${r.colors.border.light}`},subNavItem:k=>({width:"100%",display:"flex",alignItems:"center",gap:r.spacing.md,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:k?r.colors.accent.primaryLight:"transparent",color:k?r.colors.accent.primary:r.colors.text.secondary,border:"none",borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:k?r.fontWeight.medium:r.fontWeight.normal,marginBottom:r.spacing.xs,transition:r.transitions.fast,textAlign:"left",textDecoration:"none"}),logoutSection:{padding:r.spacing.lg,borderTop:`1px solid ${r.colors.border.light}`,backgroundColor:r.colors.background.secondary},logoutButton:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.lg,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:r.transitions.fast}};return l.jsxs("div",{style:j.sidebar,children:[l.jsxs("div",{style:j.brand,children:[l.jsx("img",{src:"/max-logo-small.png",alt:"MAX Logo",style:j.logo}),l.jsx("h1",{style:j.brandName,children:"MAX"}),l.jsx("div",{style:j.brandTagline,children:"Mobile AI Xpress Support"})]}),e&&l.jsx("div",{style:j.userSection,children:l.jsxs("div",{style:j.userInfo,children:[l.jsx("div",{style:j.avatar,children:e.email?.charAt(0).toUpperCase()||"U"}),l.jsxs("div",{style:j.userDetails,children:[l.jsx("div",{style:j.userName,children:e.email?.split("@")[0]||"User"}),e.roles&&e.roles.length>0&&l.jsx("div",{style:j.userRole,children:e.roles[0].name})]})]})}),l.jsxs("div",{style:j.navigation,children:[l.jsx("div",{style:j.sectionLabel,children:"Navigation"}),h.map(k=>{const w=k.Icon,C=i.pathname===k.path;return l.jsxs(xc,{to:k.path,style:{...j.navItem(C),...C?j.navItemActive:{}},onMouseEnter:_=>{C||(_.currentTarget.style.backgroundColor=r.colors.background.tertiary,_.currentTarget.style.color=r.colors.text.primary)},onMouseLeave:_=>{C||(_.currentTarget.style.backgroundColor="transparent",_.currentTarget.style.color=r.colors.text.secondary)},children:[l.jsx(w,{size:20,strokeWidth:C?2.5:2}),l.jsx("span",{style:{flex:1},children:k.label}),k.badge&&l.jsx("span",{style:j.badge(C),children:k.badge})]},k.id)}),S&&l.jsxs("div",{style:{marginTop:r.spacing.lg},children:[l.jsxs("button",{onClick:()=>c(!s),style:j.adminHeader,onMouseEnter:k=>{k.currentTarget.style.backgroundColor=r.colors.background.tertiary},onMouseLeave:k=>{k.currentTarget.style.backgroundColor="transparent"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx(tY,{size:20}),l.jsx("span",{children:"Admin"})]}),s?l.jsx(Zn,{size:16}):l.jsx(VE,{size:16})]}),s&&l.jsx("div",{style:j.adminSubmenu,children:v.map(k=>{const w=k.Icon,C=i.pathname===k.path;return l.jsxs(xc,{to:k.path,style:j.subNavItem(C),onMouseEnter:_=>{C||(_.currentTarget.style.backgroundColor=r.colors.background.tertiary,_.currentTarget.style.color=r.colors.text.primary)},onMouseLeave:_=>{C||(_.currentTarget.style.backgroundColor="transparent",_.currentTarget.style.color=r.colors.text.secondary)},children:[l.jsx(w,{size:16,strokeWidth:C?2.5:2}),k.label]},k.id)})})]})]}),l.jsx("div",{style:j.logoutSection,children:l.jsxs("button",{onClick:t,style:j.logoutButton,onMouseEnter:k=>{k.currentTarget.style.backgroundColor=r.colors.accent.dangerLight,k.currentTarget.style.borderColor=r.colors.accent.danger,k.currentTarget.style.color=r.colors.accent.danger},onMouseLeave:k=>{k.currentTarget.style.backgroundColor="transparent",k.currentTarget.style.borderColor=r.colors.border.medium,k.currentTarget.style.color=r.colors.text.secondary},children:[l.jsx(MK,{size:16}),"Sign Out"]})})]})},et=({children:e,title:t,description:n,action:i,icon:s,noPadding:c=!1,hoverable:d=!1,className:p,style:m={},headerStyle:g={},bodyStyle:h={},id:v,onDragOver:S,onDragEnter:j,onDragLeave:k,onDrop:w,...C})=>{const[_,E]=gi.useState(!1),A={card:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.xl,border:`1px solid ${r.colors.border.light}`,overflow:"visible",boxShadow:_&&d?r.shadows.md:r.shadows.sm,transition:r.transitions.normal,transform:_&&d?"translateY(-2px)":"translateY(0)",...m},header:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:r.colors.background.secondary,...g},headerContent:{display:"flex",alignItems:"center",gap:r.spacing.md,flex:1},iconWrapper:{width:"40px",height:"40px",borderRadius:r.radius.lg,backgroundColor:r.colors.accent.primaryLight,display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.accent.primary,flexShrink:0},titleWrapper:{flex:1,minWidth:0},title:{margin:0,color:r.colors.text.primary,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.semibold,lineHeight:r.lineHeight.tight},description:{margin:"4px 0 0 0",color:r.colors.text.tertiary,fontSize:r.fontSize.sm,lineHeight:r.lineHeight.normal},body:{padding:c?0:r.spacing.xl,...h}};return l.jsxs("div",{id:v,className:p,style:A.card,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),onDragOver:S,onDragEnter:j,onDragLeave:k,onDrop:w,...C,children:[(t||i||s)&&l.jsxs("div",{style:A.header,children:[l.jsxs("div",{style:A.headerContent,children:[s&&l.jsx("div",{style:A.iconWrapper,children:gi.cloneElement(s,{size:20})}),l.jsxs("div",{style:A.titleWrapper,children:[t&&l.jsx("h3",{style:A.title,children:t}),n&&l.jsx("p",{style:A.description,children:n})]})]}),i&&l.jsx("div",{children:i})]}),l.jsx("div",{style:A.body,children:e})]})},gy=({title:e,value:t,icon:n,trend:i,color:s=r.colors.accent.primary,subtitle:c,loading:d=!1})=>{const p=h=>h===r.colors.accent.primary?r.colors.accent.primaryLight:h===r.colors.accent.success?r.colors.accent.successLight:h===r.colors.accent.warning?r.colors.accent.warningLight:h===r.colors.accent.danger?r.colors.accent.dangerLight:h===r.colors.accent.info?r.colors.accent.infoLight:`${h}15`,m={card:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.xl,border:`1px solid ${r.colors.border.light}`,padding:r.spacing.xl,display:"flex",flexDirection:"column",gap:r.spacing.lg,position:"relative",overflow:"hidden",boxShadow:r.shadows.sm,transition:r.transitions.normal},header:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},content:{flex:1},title:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.sm,letterSpacing:"0.01em"},value:{color:r.colors.text.primary,fontSize:r.fontSize["3xl"],fontWeight:r.fontWeight.bold,lineHeight:1,letterSpacing:"-0.02em"},subtitle:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginTop:r.spacing.sm},iconWrapper:{width:"52px",height:"52px",backgroundColor:p(s),borderRadius:r.radius.lg,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},trend:{display:"flex",alignItems:"center",gap:r.spacing.xs},trendValue:h=>({color:h?r.colors.accent.success:r.colors.accent.danger,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,display:"flex",alignItems:"center",gap:"2px"}),trendLabel:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},loadingValue:{height:"36px",width:"80px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,animation:"pulse 2s ease-in-out infinite"},decorativeCircle:{position:"absolute",top:"-20px",right:"-20px",width:"100px",height:"100px",backgroundColor:s,opacity:.03,borderRadius:r.radius.full,pointerEvents:"none"}},g=n?gi.cloneElement(n,{size:26,color:s,strokeWidth:2}):null;return l.jsxs("div",{style:m.card,children:[l.jsx("div",{style:m.decorativeCircle}),l.jsxs("div",{style:m.header,children:[l.jsxs("div",{style:m.content,children:[l.jsx("div",{style:m.title,children:e}),d?l.jsx("div",{style:m.loadingValue}):l.jsx("div",{style:m.value,children:t}),c&&l.jsx("div",{style:m.subtitle,children:c})]}),g&&l.jsx("div",{style:m.iconWrapper,children:g})]}),i&&l.jsxs("div",{style:m.trend,children:[l.jsxs("span",{style:m.trendValue(i.isPositive),children:[i.isPositive?l.jsx(mY,{size:14}):l.jsx(pY,{size:14}),i.value]}),i.label&&l.jsx("span",{style:m.trendLabel,children:i.label})]})]})},Je=({children:e,variant:t="default",size:n="md",soft:i=!1,dot:s=!1,icon:c,className:d,style:p={}})=>{const m={default:{background:r.colors.background.tertiary,color:r.colors.text.primary},primary:{background:r.colors.accent.primary,color:r.colors.text.inverse},success:{background:r.colors.accent.success,color:r.colors.text.inverse},warning:{background:r.colors.accent.warning,color:r.colors.text.inverse},danger:{background:r.colors.accent.danger,color:r.colors.text.inverse},info:{background:r.colors.accent.info,color:r.colors.text.inverse},secondary:{background:r.colors.accent.secondary,color:r.colors.text.inverse}},g={default:{background:r.colors.background.tertiary,color:r.colors.text.secondary},primary:{background:r.colors.accent.primaryLight,color:r.colors.accent.primary},success:{background:r.colors.accent.successLight,color:r.colors.accent.success},warning:{background:r.colors.accent.warningLight,color:r.colors.accent.warning},danger:{background:r.colors.accent.dangerLight,color:r.colors.accent.danger},info:{background:r.colors.accent.infoLight,color:r.colors.accent.info},secondary:{background:r.colors.background.tertiary,color:r.colors.accent.secondary}},h={xs:{padding:"1px 6px",fontSize:"10px",gap:"3px"},sm:{padding:"2px 8px",fontSize:r.fontSize.xs,gap:"4px"},md:{padding:"4px 10px",fontSize:r.fontSize.sm,gap:"5px"},lg:{padding:"6px 14px",fontSize:r.fontSize.base,gap:"6px"}},v=i?g:m,S=v[t]||v.default,j=h[n]||h.md,k={badge:{display:"inline-flex",alignItems:"center",backgroundColor:S.background,color:S.color,padding:j.padding,borderRadius:r.radius.full,fontSize:j.fontSize,fontWeight:r.fontWeight.medium,whiteSpace:"nowrap",gap:j.gap,lineHeight:1.4,...p},dot:{width:n==="xs"?"4px":n==="sm"?"5px":"6px",height:n==="xs"?"4px":n==="sm"?"5px":"6px",borderRadius:r.radius.full,backgroundColor:"currentColor",flexShrink:0}};return l.jsxs("span",{className:d,style:k.badge,children:[s&&l.jsx("span",{style:k.dot}),c&&gi.cloneElement(c,{size:n==="xs"?10:n==="sm"?12:14}),e]})},OY=({name:e,src:t,size:n="md",color:i,status:s,className:c,style:d={}})=>{const p={xs:{width:"24px",height:"24px",fontSize:r.fontSize.xs,statusSize:"8px"},sm:{width:"32px",height:"32px",fontSize:r.fontSize.sm,statusSize:"10px"},md:{width:"40px",height:"40px",fontSize:r.fontSize.base,statusSize:"12px"},lg:{width:"48px",height:"48px",fontSize:r.fontSize.lg,statusSize:"14px"},xl:{width:"64px",height:"64px",fontSize:r.fontSize.xl,statusSize:"16px"}},m=[r.colors.accent.primary,r.colors.accent.secondary,r.colors.accent.success,r.colors.accent.info,r.colors.chart.purple,r.colors.chart.pink],g={online:r.colors.status.online,offline:r.colors.status.offline,busy:r.colors.status.busy,away:r.colors.status.away},h=()=>{if(i)return i;if(!e)return m[0];const k=e.split("").reduce((w,C)=>w+C.charCodeAt(0),0);return m[k%m.length]},v=()=>{if(!e)return"?";const k=e.trim().split(" ");return k.length>=2?(k[0][0]+k[k.length-1][0]).toUpperCase():e.substring(0,2).toUpperCase()},S=p[n]||p.md,j={container:{position:"relative",display:"inline-flex",flexShrink:0},avatar:{width:S.width,height:S.height,borderRadius:r.radius.full,backgroundColor:t?"transparent":h(),display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.text.inverse,fontWeight:r.fontWeight.semibold,fontSize:S.fontSize,overflow:"hidden",border:`2px solid ${r.colors.background.secondary}`,boxShadow:r.shadows.sm,...d},image:{width:"100%",height:"100%",objectFit:"cover"},status:{position:"absolute",bottom:"0",right:"0",width:S.statusSize,height:S.statusSize,borderRadius:r.radius.full,backgroundColor:g[s]||g.offline,border:`2px solid ${r.colors.background.secondary}`}};return l.jsxs("div",{className:c,style:j.container,children:[l.jsx("div",{style:j.avatar,children:t?l.jsx("img",{src:t,alt:e||"Avatar",style:j.image}):v()}),s&&l.jsx("div",{style:j.status})]})},MY=x.forwardRef(({label:e,options:t=[],value:n,onChange:i,placeholder:s="Select an option",error:c,helperText:d,disabled:p=!1,required:m=!1,size:g="md",fullWidth:h=!0,className:v,style:S={},...j},k)=>{const[w,C]=x.useState(!1),_={sm:{height:"34px",padding:"8px 32px 8px 12px",fontSize:r.fontSize.sm,labelSize:r.fontSize.xs},md:{height:"42px",padding:"10px 36px 10px 14px",fontSize:r.fontSize.base,labelSize:r.fontSize.sm},lg:{height:"50px",padding:"12px 40px 12px 16px",fontSize:r.fontSize.lg,labelSize:r.fontSize.sm}},E=_[g]||_.md,A=()=>c?r.colors.accent.danger:w?r.colors.accent.primary:r.colors.border.medium,T=()=>c&&w?`0 0 0 3px ${r.colors.accent.dangerLight}`:w?r.shadows.focus:"none",O={container:{display:"flex",flexDirection:"column",gap:r.spacing.sm,width:h?"100%":"auto",...S},label:{color:c?r.colors.accent.danger:r.colors.text.primary,fontSize:E.labelSize,fontWeight:r.fontWeight.medium},required:{color:r.colors.accent.danger,marginLeft:"2px"},selectWrapper:{position:"relative",display:"flex",alignItems:"center"},select:{width:"100%",height:E.height,padding:E.padding,backgroundColor:p?r.colors.background.tertiary:r.colors.background.secondary,border:`1px solid ${A()}`,borderRadius:r.radius.lg,fontSize:E.fontSize,color:n?r.colors.text.primary:r.colors.text.tertiary,outline:"none",transition:r.transitions.fast,boxShadow:T(),cursor:p?"not-allowed":"pointer",appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},chevron:{position:"absolute",right:"12px",pointerEvents:"none",color:r.colors.text.tertiary,transition:r.transitions.fast,transform:w?"rotate(180deg)":"rotate(0deg)"},helperText:{fontSize:r.fontSize.xs,color:c?r.colors.accent.danger:r.colors.text.tertiary,marginTop:"-2px"}};return l.jsxs("div",{className:v,style:O.container,children:[e&&l.jsxs("label",{style:O.label,children:[e,m&&l.jsx("span",{style:O.required,children:"*"})]}),l.jsxs("div",{style:O.selectWrapper,children:[l.jsxs("select",{ref:k,value:n,onChange:i,onFocus:()=>C(!0),onBlur:()=>C(!1),disabled:p,required:m,style:O.select,...j,children:[s&&l.jsx("option",{value:"",disabled:!0,children:s}),t.map((P,R)=>l.jsx("option",{value:P.value,disabled:P.disabled,children:P.label},P.value??R))]}),l.jsx(Zn,{size:18,style:O.chevron})]}),(d||c)&&l.jsx("span",{style:O.helperText,children:c||d})]})});MY.displayName="Select";function RY(){const{user:e,isAuthenticated:t,authLoading:n,logout:i,hasPermission:s,hasRole:c}=mn(),[d,p]=x.useState([]),[m,g]=x.useState(null),[h,v]=x.useState([]),[S,j]=x.useState([]),[k,w]=x.useState([]),[C,_]=x.useState([]),[E,A]=x.useState([]),[T,O]=x.useState([]),[P,R]=x.useState([]),[U,ee]=x.useState(""),[fe,de]=x.useState("7"),[re,Se]=x.useState(""),[he,ge]=x.useState(""),[F,Y]=x.useState(""),[me,be]=x.useState(""),[Ee,$]=x.useState(!0),W="",L=N=>N?N.split("_").map(ye=>ye.charAt(0).toUpperCase()+ye.slice(1).toLowerCase()).join(" "):"Unknown",V=()=>{re&&he&&(Y(re),be(he))},ne=[r.colors.chart.blue,r.colors.chart.green,r.colors.chart.orange,r.colors.chart.purple,r.colors.chart.pink,r.colors.chart.cyan];x.useEffect(()=>{if(!t)return;const N=fe==="custom"?F&&me?`from=${F}&to=${me}`:null:`days=${fe}`;if(!N)return;$(!0);const ye=[fetch(`${W}/api/resolution-by-step?${N}`,{credentials:"include"}).then(oe=>{if(!oe.ok)throw new Error(`Resolution step error: ${oe.status}`);return oe.json()}).catch(oe=>(console.error(" Resolution step failed:",oe),[])),fetch(`${W}/api/dashboard-summary?${N}`,{credentials:"include"}).then(oe=>{if(!oe.ok)throw new Error(`Summary error: ${oe.status}`);return oe.json()}).catch(oe=>(console.error(" Summary failed:",oe),[])),fetch(`${W}/api/issue-distribution?${N}`,{credentials:"include"}).then(oe=>{if(!oe.ok)throw new Error(`Distribution error: ${oe.status}`);return oe.json()}).catch(oe=>(console.error(" Issue distribution failed:",oe),[])),fetch(`${W}/api/resolution-time-trend?${N}`,{credentials:"include"}).then(oe=>{if(!oe.ok)throw new Error(`Trend error: ${oe.status}`);return oe.json()}).catch(oe=>(console.error(" Resolution time trend failed:",oe),[])),fetch(`${W}/api/first-contact-resolution?${N}`,{credentials:"include"}).then(oe=>{if(!oe.ok)throw new Error(`FCR error: ${oe.status}`);return oe.json()}).then(oe=>(console.log(" FCR API Response:",oe),console.log(" FCR data length:",oe?.length||0),oe?.length>0&&(console.log(" FCR first item:",oe[0]),console.log(" FCR first item keys:",Object.keys(oe[0]))),oe)).catch(oe=>(console.error(" First contact resolution failed:",oe),[])),fetch(`${W}/api/call-volume-heatmap?${N}`,{credentials:"include"}).then(oe=>{if(!oe.ok)throw new Error(`Call volume heatmap error: ${oe.status}`);return oe.json()}).catch(oe=>(console.error(" Call volume heatmap failed:",oe),[]))];(c("admin")||c("manager"))&&ye.push(fetch(`${W}/api/van-performance?${N}`,{credentials:"include"}).then(oe=>{if(!oe.ok)throw new Error(`Van performance error: ${oe.status}`);return oe.json()}).catch(oe=>(console.error(" Van performance failed:",oe),[])),fetch(`${W}/api/handoff-patterns?${N}`,{credentials:"include"}).then(oe=>{if(!oe.ok)throw new Error(`Handoff patterns error: ${oe.status}`);return oe.json()}).catch(oe=>(console.error(" Handoff patterns failed:",oe),[]))),c("admin")&&ye.push(fetch(`${W}/api/chronic-problem-vans?${N}`,{credentials:"include"}).then(oe=>{if(!oe.ok)throw new Error(`Chronic problem vans error: ${oe.status}`);return oe.json()}).catch(oe=>(console.error(" Chronic problem vans failed:",oe),[]))),Promise.all(ye).then(oe=>{const[ue,Ne,le,Me,Ae,We]=oe;if(p(ue||[]),g(Ne?.[0]||null),v(le||[]),j(Me||[]),console.log(" Setting FCR Data:",Ae),console.log(" FCR Response type:",typeof Ae),console.log(" FCR is array:",Array.isArray(Ae)),w(Ae||[]),R(We||[]),c("admin")||c("manager")){const Ke=oe[6],at=oe[7];_(Ke||[]),O(at||[])}else _([]),O([]);if(c("admin")){const Ke=oe[8];A(Ke||[])}else A([]);ue&&ue.length>0&&ee(ue[0].sequence_key),$(!1)}).catch(oe=>{console.error(" Critical error fetching data:",oe),$(!1)})},[fe,F,me,t,c]);const I=[...new Set(d.map(N=>N.sequence_key))],X={};d.forEach(N=>{N.sequence_key&&(X[N.sequence_key]=N.display_name||L(N.sequence_key))});const Ce=d.filter(N=>N.sequence_key===U);return n?l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:r.colors.background.page,color:r.colors.text.primary,gap:r.spacing.lg},children:[l.jsx(Jn,{size:40,style:{animation:"spin 1s linear infinite"},color:r.colors.accent.primary}),l.jsx("span",{style:{fontSize:r.fontSize.lg,color:r.colors.text.secondary},children:"Loading..."})]}):t?Ee?l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:r.colors.background.page,color:r.colors.text.primary,gap:r.spacing.lg},children:[l.jsx(Jn,{size:40,style:{animation:"spin 1s linear infinite"},color:r.colors.accent.primary}),l.jsx("span",{style:{fontSize:r.fontSize.lg,color:r.colors.text.secondary},children:"Loading dashboard..."})]}):l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.page},children:[l.jsx(Cr,{user:e,onLogout:i,hasRole:c}),l.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[l.jsxs("div",{style:{marginBottom:r.spacing["2xl"],display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{children:[l.jsx("h1",{style:{fontSize:r.fontSize["3xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,marginBottom:r.spacing.xs,letterSpacing:"-0.02em"},children:"Analytics Dashboard"}),l.jsxs("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:["Welcome back, ",e?.email?.split("@")[0]||"User"]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[l.jsx(mx,{size:16}),new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),l.jsx(et,{style:{marginBottom:r.spacing["2xl"]},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg,flexWrap:"wrap"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.xs,display:"block"},children:"Date Range"}),l.jsxs("select",{value:fe,onChange:N=>de(N.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none"},children:[l.jsx("option",{value:"7",children:"Last 7 days"}),l.jsx("option",{value:"30",children:"Last 30 days"}),l.jsx("option",{value:"custom",children:"Custom range"})]})]}),fe==="custom"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.xs,display:"block"},children:"From"}),l.jsx("input",{type:"date",value:re,onChange:N=>Se(N.target.value),onKeyDown:N=>{N.key==="Enter"&&(N.preventDefault(),V())},style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.xs,display:"block"},children:"To"}),l.jsx("input",{type:"date",value:he,onChange:N=>ge(N.target.value),onKeyDown:N=>{N.key==="Enter"&&(N.preventDefault(),V())},style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}})]}),l.jsx("div",{style:{marginTop:r.spacing.lg},children:l.jsx(lO,{onClick:V,disabled:!re||!he,size:"sm",children:"Apply"})})]})]})}),m&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:r.spacing.lg,marginBottom:r.spacing["2xl"]},children:[l.jsx(gy,{title:"Total Calls",value:m.total_calls||0,icon:l.jsx(cs,{size:24}),color:r.colors.accent.primary}),l.jsx(gy,{title:"Completion Rate",value:m.completion_rate?`${m.completion_rate}%`:"0%",icon:l.jsx(Ft,{size:24}),color:r.colors.accent.success}),l.jsx(gy,{title:"Avg Resolution Time",value:m.avg_resolution_minutes?`${Math.round(m.avg_resolution_minutes)}m`:"N/A",icon:l.jsx(Tn,{size:24}),color:r.colors.accent.warning})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:r.spacing.lg,marginBottom:r.spacing["2xl"]},children:[l.jsx(et,{title:"Issue Distribution",description:"Breakdown of issue types",children:h.length===0?l.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):l.jsx(Ed,{width:"100%",height:300,children:l.jsxs(RF,{children:[l.jsx(pE,{data:h,dataKey:"total_count",nameKey:"display_name",cx:"50%",cy:"50%",outerRadius:100,label:({display_name:N,issue_type:ye,total_count:oe})=>`${N||L(ye)}: ${oe}`,labelLine:{stroke:r.colors.text.secondary},children:h.map((N,ye)=>l.jsx(Fl,{fill:ne[ye%ne.length]},`cell-${ye}`))}),l.jsx(Ad,{contentStyle:{backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.primary}}),l.jsx(Ma,{wrapperStyle:{color:r.colors.text.primary}})]})})}),l.jsx(et,{title:"Resolution Time Trend",description:"Average resolution time over the last 30 days",children:S.length===0?l.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):l.jsx(Ed,{width:"100%",height:300,children:l.jsxs(jF,{data:S,children:[l.jsx(Bd,{strokeDasharray:"3 3",stroke:r.colors.border.medium}),l.jsx(Id,{dataKey:"time_bucket",stroke:r.colors.text.secondary}),l.jsx(qd,{stroke:r.colors.text.secondary}),l.jsx(Ad,{contentStyle:{backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.primary}}),l.jsx(Ma,{}),l.jsx(OE,{type:"monotone",dataKey:"avg_minutes",stroke:r.colors.chart.blue,strokeWidth:3,dot:{fill:r.colors.chart.blue,r:5},activeDot:{r:7},name:"Avg Resolution Time (min)"})]})})})]}),console.log(" Render - fcrData:",k,"length:",k?.length),l.jsx(et,{title:"First Contact Resolution Rate",description:"Resolution rate by troubleshooting sequence",style:{marginBottom:r.spacing["2xl"]},children:k.length===0?l.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):l.jsx(Ed,{width:"100%",height:400,children:l.jsxs(M2,{data:k.map(N=>({...N,display_label:N.display_name||L(N.sequence_key)})),layout:"vertical",margin:{left:150},children:[l.jsx(Bd,{strokeDasharray:"3 3",stroke:r.colors.border.medium}),l.jsx(Id,{type:"number",stroke:r.colors.text.secondary,domain:[0,100]}),l.jsx(qd,{type:"category",dataKey:"display_label",stroke:r.colors.text.secondary,width:140}),l.jsx(Ad,{contentStyle:{backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.primary},formatter:N=>`${N}%`}),l.jsx(Ma,{}),l.jsx(sx,{dataKey:"fcr_rate",name:"FCR Rate (%)",radius:[0,8,8,0],children:k.map((N,ye)=>l.jsx(Fl,{fill:N.fcr_rate>=80?r.colors.accent.success:N.fcr_rate>=60?r.colors.chart.yellow:N.fcr_rate>=40?r.colors.accent.warning:r.colors.accent.danger},`cell-${ye}`))})]})})}),(c("admin")||c("manager"))&&C.length>0&&l.jsx(et,{title:"Van Performance",description:"Performance metrics by van make, model, and year",style:{marginBottom:r.spacing["2xl"]},noPadding:!0,children:l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`2px solid ${r.colors.border.light}`},children:[l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Make"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Version"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Year"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Total Issues"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Avg Time"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Reliability"})]})}),l.jsx("tbody",{children:[...C].sort((N,ye)=>ye.total_issues-N.total_issues).map((N,ye)=>l.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`},children:[l.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.primary},children:N.make}),l.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.primary},children:N.version}),l.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.primary},children:N.year}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:N.total_issues}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.secondary},children:N.avg_resolution_time?`${Math.round(N.avg_resolution_time)}m`:"N/A"}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},children:l.jsx(Je,{variant:N.reliability_score>=80?"success":N.reliability_score>=60?"warning":"danger",children:N.reliability_score||"N/A"})})]},ye))})]})})}),c("admin")&&E.length>0&&l.jsx(et,{title:"Chronic Problem Vans",description:"Vans with recurring issues requiring attention",style:{marginBottom:r.spacing["2xl"]},noPadding:!0,children:l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`2px solid ${r.colors.border.light}`},children:[l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Van Number"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Make/Model"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Issue Count"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Most Common"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Last Issue"})]})}),l.jsx("tbody",{children:[...E].sort((N,ye)=>ye.issue_count-N.issue_count).map((N,ye)=>l.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`},children:[l.jsx("td",{style:{padding:r.spacing.md},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(OY,{name:N.van_number,size:"sm"}),l.jsx("span",{style:{color:r.colors.text.primary,fontWeight:r.fontWeight.medium},children:N.van_number}),N.issue_count>=5&&l.jsx(Je,{variant:"danger",size:"sm",children:"CRITICAL"}),N.issue_count>=3&&N.issue_count<5&&l.jsx(Je,{variant:"warning",size:"sm",children:"WARNING"})]})}),l.jsxs("td",{style:{padding:r.spacing.md,color:r.colors.text.primary},children:[N.make," ",N.version," (",N.year,")"]}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",fontWeight:r.fontWeight.bold,color:N.issue_count>=5?r.colors.accent.danger:N.issue_count>=3?r.colors.accent.warning:r.colors.text.primary},children:N.issue_count}),l.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.secondary},children:N.most_common_issue||"N/A"}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.secondary},children:N.last_issue_date?new Date(N.last_issue_date).toLocaleDateString():"N/A"})]},ye))})]})})}),(c("admin")||c("manager"))&&T.length>0&&l.jsx(et,{title:"Handoff Patterns",description:"Common troubleshooting sequence transitions",style:{marginBottom:r.spacing["2xl"]},noPadding:!0,children:l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`2px solid ${r.colors.border.light}`},children:[l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Sequence Flow"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Handoff Count"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Avg Handoffs"})]})}),l.jsx("tbody",{children:[...T].sort((N,ye)=>ye.handoff_count-N.handoff_count).map((N,ye)=>{const oe=N.handoff_count>=10;return l.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`},children:[l.jsx("td",{style:{padding:r.spacing.md},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx(Je,{variant:"default",children:N.from_sequence_name||N.from_sequence}),l.jsx("span",{style:{color:oe?r.colors.chart.blue:r.colors.text.tertiary,fontSize:r.fontSize.xl},children:""}),l.jsx(Je,{variant:"default",children:N.to_sequence_name||N.to_sequence})]})}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",fontWeight:r.fontWeight.bold,color:oe?r.colors.chart.blue:r.colors.text.primary},children:N.handoff_count}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.secondary},children:N.avg_handoff_count?N.avg_handoff_count.toFixed(1):"N/A"})]},ye)})})]})})}),l.jsx(et,{title:"Call Volume Heatmap",description:"Support call patterns by day and hour",style:{marginBottom:r.spacing["2xl"]},children:P.length===0?l.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):l.jsx("div",{style:{overflowX:"auto"},children:(()=>{const N={};P.forEach(Ae=>{const We=`${Ae.day_of_week}_${Ae.hour_of_day}`;N[We]=Ae.call_count||0});const ye=P.map(Ae=>Ae.call_count||0),oe=Math.min(...ye,0),ue=Math.max(...ye,1),Ne=Ae=>{if(Ae===0)return r.colors.background.primary;const We=(Ae-oe)/(ue-oe);return We<.25?r.colors.chart.blue:We<.5?r.colors.chart.purple:We<.75?r.colors.chart.orange:r.colors.accent.danger},le=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Me=Array.from({length:24},(Ae,We)=>We===0?"12am":We<12?`${We}am`:We===12?"12pm":`${We-12}pm`);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"100px repeat(24, 40px)",gap:"2px",marginBottom:r.spacing.lg},children:[l.jsx("div",{}),Me.map((Ae,We)=>l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,textAlign:"center",transform:"rotate(-45deg)",height:"60px",display:"flex",alignItems:"flex-end",justifyContent:"center"},children:Ae},We)),le.map((Ae,We)=>l.jsxs(gi.Fragment,{children:[l.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,display:"flex",alignItems:"center",fontWeight:r.fontWeight.medium},children:Ae}),Me.map((Ke,at)=>{const J=`${We}_${at}`,ze=N[J]||0,it=Ne(ze);return l.jsx("div",{style:{backgroundColor:it,height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:r.radius.sm,fontSize:r.fontSize.xs,color:ze>0?r.colors.text.primary:r.colors.text.tertiary,fontWeight:ze>0?r.fontWeight.semibold:r.fontWeight.normal,cursor:"pointer",transition:"transform 0.2s"},title:`${Ae} ${Me[at]}: ${ze} calls`,onMouseEnter:te=>{te.currentTarget.style.transform="scale(1.1)"},onMouseLeave:te=>{te.currentTarget.style.transform="scale(1)"},children:ze>0?ze:""},`${We}-${at}`)})]},`day-${We}`))]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg,flexWrap:"wrap"},children:[l.jsx("span",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:"Call Volume:"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.background.primary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.sm}}),l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"None"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.chart.blue,borderRadius:r.radius.sm}}),l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"Low"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.chart.purple,borderRadius:r.radius.sm}}),l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"Medium"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.chart.orange,borderRadius:r.radius.sm}}),l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"High"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.accent.danger,borderRadius:r.radius.sm}}),l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"Very High"})]})]})]})})()})}),l.jsx(et,{title:"Resolution by Step",description:"Percentage of issues resolved at each troubleshooting step",action:l.jsx("select",{value:U,onChange:N=>ee(N.target.value),style:{padding:`${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:I.map(N=>l.jsx("option",{value:N,children:X[N]||N},N))}),children:Ce.length===0?l.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):l.jsx(Ed,{width:"100%",height:400,children:l.jsxs(M2,{data:Ce,children:[l.jsx(Bd,{strokeDasharray:"3 3",stroke:r.colors.border.medium}),l.jsx(Id,{dataKey:"step_num",stroke:r.colors.text.secondary}),l.jsx(qd,{stroke:r.colors.text.secondary}),l.jsx(Ad,{contentStyle:{backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.primary}}),l.jsx(Ma,{}),l.jsx(sx,{dataKey:"percentage",fill:r.colors.chart.green,name:"Resolved %",radius:[8,8,0,0]})]})})})]})]}):l.jsx(AY,{})}function DY(){const{user:e,logout:t,hasRole:n}=mn(),i=Ri(),[s,c]=x.useState([]),[d,p]=x.useState([]),[m,g]=x.useState(!0),[h,v]=x.useState(""),[S,j]=x.useState("name"),[k,w]=x.useState(!1),[C,_]=x.useState(null);x.useEffect(()=>{E()},[]),x.useEffect(()=>{let R=[...s];if(h){const U=h.toLowerCase();R=R.filter(ee=>ee.display_name?.toLowerCase().includes(U)||ee.sequence_key?.toLowerCase().includes(U)||ee.category?.toLowerCase().includes(U))}R.sort((U,ee)=>{switch(S){case"name":return(U.display_name||"").localeCompare(ee.display_name||"");case"category":return(U.category||"").localeCompare(ee.category||"");case"created":return new Date(ee.created_at)-new Date(U.created_at);default:return 0}}),p(R)},[s,h,S]);const E=async()=>{g(!0);try{const R=await fetch("/api/sequences",{credentials:"include"});if(!R.ok)throw new Error("Failed to fetch sequences");const U=await R.json();c(U)}catch(R){console.error("Error fetching sequences:",R)}finally{g(!1)}},A=async(R,U)=>{try{if(!(await fetch(`/api/sequences/${R}/toggle`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({is_active:!U})})).ok)throw new Error("Failed to toggle sequence");await E()}catch(ee){console.error("Error toggling sequence:",ee),alert("Failed to toggle sequence status")}},T=R=>{_(R),w(!0)},O=async()=>{if(C)try{if(!(await fetch(`/api/sequences/${C.sequence_key}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete sequence");await E(),w(!1),_(null)}catch(R){console.error("Error deleting sequence:",R),alert("Failed to delete sequence")}},P=R=>({network:"primary",hardware:"warning",software:"secondary",power:"danger",connectivity:"success"})[R?.toLowerCase()]||"default";return l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(Cr,{user:e,onLogout:t,hasRole:n}),l.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[l.jsx("div",{style:{marginBottom:r.spacing["2xl"]},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.md},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[l.jsx(tO,{size:32,color:r.colors.accent.primary,strokeWidth:2}),l.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Sequences"})]}),l.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Manage troubleshooting sequences"})]}),l.jsxs("button",{onClick:()=>i("/sequences/create"),style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:R=>R.target.style.backgroundColor=r.colors.accent.primaryHover,onMouseLeave:R=>R.target.style.backgroundColor=r.colors.accent.primary,children:[l.jsx(mr,{size:20}),"Create New Sequence"]})]})}),l.jsx(et,{style:{marginBottom:r.spacing.lg},children:l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,alignItems:"center"},children:[l.jsxs("div",{style:{flex:1,position:"relative"},children:[l.jsx(mi,{size:20,color:r.colors.text.tertiary,style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)"}}),l.jsx("input",{type:"text",placeholder:"Search by name, key, or category...",value:h,onChange:R=>v(R.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md} ${r.spacing.sm} 40px`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:r.colors.background.primary,outline:"none"}})]}),l.jsxs("select",{value:S,onChange:R=>j(R.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:r.colors.background.primary,cursor:"pointer",outline:"none"},children:[l.jsx("option",{value:"name",children:"Sort by Name"}),l.jsx("option",{value:"category",children:"Sort by Category"}),l.jsx("option",{value:"created",children:"Sort by Date"})]})]})}),l.jsx(et,{noPadding:!0,children:m?l.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:r.spacing["2xl"],gap:r.spacing.md},children:[l.jsx(Df,{size:24,color:r.colors.accent.primary,style:{animation:"spin 1s linear infinite"}}),l.jsx("span",{style:{color:r.colors.text.secondary},children:"Loading sequences..."})]}):d.length===0?l.jsx("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:h?l.jsxs(l.Fragment,{children:[l.jsx("p",{style:{fontSize:r.fontSize.lg,marginBottom:r.spacing.sm},children:"No sequences found"}),l.jsx("p",{style:{fontSize:r.fontSize.sm},children:"Try adjusting your search terms"})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{style:{fontSize:r.fontSize.lg,marginBottom:r.spacing.sm},children:"No sequences yet"}),l.jsx("p",{style:{fontSize:r.fontSize.sm},children:"Create your first troubleshooting sequence to get started"})]})}):l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`1px solid ${r.colors.border.light}`},children:[l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Sequence Name"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Key"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Category"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Steps"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Status"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Actions"})]})}),l.jsx("tbody",{children:d.map((R,U)=>l.jsxs("tr",{style:{borderBottom:U<d.length-1?`1px solid ${r.colors.border.light}`:"none",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:ee=>ee.currentTarget.style.backgroundColor=r.colors.background.hover,onMouseLeave:ee=>ee.currentTarget.style.backgroundColor="transparent",onClick:()=>i(`/sequences/${R.sequence_key}`),children:[l.jsxs("td",{style:{padding:r.spacing.md},children:[l.jsx("div",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.accent.primary},children:R.display_name}),R.description&&l.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,marginTop:"2px"},children:R.description})]}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("code",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,backgroundColor:r.colors.background.tertiary,padding:"2px 6px",borderRadius:r.radius.sm,fontFamily:"monospace"},children:R.sequence_key})}),l.jsx("td",{style:{padding:r.spacing.md},children:R.category?l.jsx(Je,{variant:P(R.category),size:"sm",children:R.category}):l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"-"})}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},children:l.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",minWidth:"32px",height:"32px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:R.total_steps||0})}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},onClick:ee=>ee.stopPropagation(),children:l.jsx("button",{onClick:()=>A(R.sequence_key,R.is_active),style:{background:"none",border:"none",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:r.spacing.xs,color:R.is_active?r.colors.accent.success:r.colors.text.tertiary,transition:"color 0.2s"},title:R.is_active?"Active - Click to disable":"Inactive - Click to enable",children:R.is_active?l.jsx(bx,{size:24}):l.jsx(vx,{size:24})})}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},onClick:ee=>ee.stopPropagation(),children:l.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,justifyContent:"center"},children:[l.jsx("button",{onClick:()=>i(`/sequences/${R.sequence_key}`),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.primary,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:r.radius.sm,transition:"background-color 0.2s"},onMouseEnter:ee=>ee.target.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:ee=>ee.target.style.backgroundColor="transparent",title:"Edit sequence",children:l.jsx(eu,{size:18})}),l.jsx("button",{onClick:()=>T(R),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.danger,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:r.radius.sm,transition:"background-color 0.2s"},onMouseEnter:ee=>ee.target.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:ee=>ee.target.style.backgroundColor="transparent",title:"Delete sequence",children:l.jsx(tn,{size:18})})]})})]},R.sequence_key))})]})})})]}),k&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>w(!1),children:l.jsxs("div",{style:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.lg,padding:r.spacing.xl,maxWidth:"500px",width:"90%",boxShadow:r.shadows.xl},onClick:R=>R.stopPropagation(),children:[l.jsx("h2",{style:{margin:`0 0 ${r.spacing.md} 0`,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Delete Sequence"}),l.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.secondary,fontSize:r.fontSize.base,lineHeight:1.6},children:['Are you sure you want to delete the sequence "',l.jsx("strong",{children:C?.display_name}),'"? This action cannot be undone and will remove all steps associated with this sequence.']}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>w(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:R=>R.target.style.backgroundColor=r.colors.background.hover,onMouseLeave:R=>R.target.style.backgroundColor=r.colors.background.tertiary,children:"Cancel"}),l.jsx("button",{onClick:O,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:R=>R.target.style.backgroundColor="#b91c1c",onMouseLeave:R=>R.target.style.backgroundColor=r.colors.accent.danger,children:"Delete"})]})]})}),l.jsx("style",{children:`
          @keyframes spin {
            from {
              transform: rotate(0deg);
            }
            to {
              transform: rotate(360deg);
            }
          }
        `})]})}function PY(){const{user:e,logout:t,hasRole:n}=mn(),i=Ri(),[s,c]=x.useState({sequenceKey:"",displayName:"",description:"",category:"",messageTemplate:"",docUrl:"",docTitle:"",successTriggers:"",failureTriggers:""}),[d,p]=x.useState({}),[m,g]=x.useState(""),[h,v]=x.useState(!1),S=T=>T.split(",").map(O=>O.trim()).filter(O=>O.length>0),j=S(s.successTriggers),k=S(s.failureTriggers),w=(T,O)=>{c(P=>({...P,[T]:O})),d[T]&&p(P=>({...P,[T]:""})),m&&g("")},C=()=>{const T={};return s.sequenceKey?/^[a-z0-9_]+$/.test(s.sequenceKey)||(T.sequenceKey="Sequence key must be lowercase with underscores only"):T.sequenceKey="Sequence key is required",s.displayName||(T.displayName="Display name is required"),s.description||(T.description="Description is required"),s.category||(T.category="Category is required"),s.messageTemplate||(T.messageTemplate="Message template is required"),s.docUrl?/^https?:\/\/.+/.test(s.docUrl)||(T.docUrl="Please enter a valid URL starting with http:// or https://"):T.docUrl="Document URL is required",s.docTitle||(T.docTitle="Document title is required"),j.length===0&&(T.successTriggers="At least one success trigger is required"),k.length===0&&(T.failureTriggers="At least one failure trigger is required"),p(T),Object.keys(T).length===0},_=async T=>{if(T.preventDefault(),!C()){g("Please fix the errors below before submitting");return}v(!0),g("");try{const O=await fetch("/api/sequences",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({key:s.sequenceKey,name:s.displayName,description:s.description,category:s.category,first_step:{message:s.messageTemplate,doc_url:s.docUrl,doc_title:s.docTitle,success_triggers:j,failure_triggers:k}})});if(!O.ok){const R=await O.json();throw new Error(R.error||"Failed to create sequence")}const P=await O.json();i(`/sequences/${s.sequenceKey}`)}catch(O){console.error("Error creating sequence:",O),g(O.message||"Failed to create sequence. Please try again.")}finally{v(!1)}},E=()=>{i("/sequences")},A=(T,O)=>{const R=S(s[T]).filter(U=>U!==O);w(T,R.join(", "))};return l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(Cr,{user:e,onLogout:t,hasRole:n}),l.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[l.jsxs("div",{style:{marginBottom:r.spacing["2xl"]},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[l.jsx(mr,{size:32,color:r.colors.accent.primary,strokeWidth:2}),l.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Create New Sequence"})]}),l.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Define a new troubleshooting sequence with its first step"})]}),m&&l.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.md,backgroundColor:"#fee2e2",border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(fn,{size:20,color:r.colors.accent.danger}),l.jsx("span",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.base},children:m})]}),l.jsxs("form",{onSubmit:_,children:[l.jsx(et,{title:"Sequence Metadata",style:{marginBottom:r.spacing.lg},children:l.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"sequenceKey",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Sequence Key ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{id:"sequenceKey",type:"text",value:s.sequenceKey,onChange:T=>w("sequenceKey",T.target.value),placeholder:"dryer_no_power",disabled:h,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${d.sequenceKey?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:h?r.colors.background.tertiary:r.colors.background.primary,outline:"none",fontFamily:"monospace"},onFocus:T=>!d.sequenceKey&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=d.sequenceKey?r.colors.accent.danger:r.colors.border.light}),d.sequenceKey?l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:d.sequenceKey}):l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"Lowercase letters, numbers, and underscores only (e.g., dryer_no_power)"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"displayName",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Display Name ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{id:"displayName",type:"text",value:s.displayName,onChange:T=>w("displayName",T.target.value),placeholder:"Dryer - No Power",disabled:h,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${d.displayName?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:h?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!d.displayName&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=d.displayName?r.colors.accent.danger:r.colors.border.light}),d.displayName&&l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:d.displayName})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"description",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Description ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("textarea",{id:"description",value:s.description,onChange:T=>w("description",T.target.value),placeholder:"Troubleshooting steps for dryers with no power",rows:3,disabled:h,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${d.description?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:h?r.colors.background.tertiary:r.colors.background.primary,outline:"none",resize:"vertical",fontFamily:"inherit"},onFocus:T=>!d.description&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=d.description?r.colors.accent.danger:r.colors.border.light}),d.description&&l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:d.description})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"category",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Category ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsxs("select",{id:"category",value:s.category,onChange:T=>w("category",T.target.value),disabled:h,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${d.category?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:s.category?r.colors.text.primary:r.colors.text.tertiary,backgroundColor:h?r.colors.background.tertiary:r.colors.background.primary,outline:"none",cursor:"pointer"},onFocus:T=>!d.category&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=d.category?r.colors.accent.danger:r.colors.border.light,children:[l.jsx("option",{value:"",children:"Select a category..."}),l.jsx("option",{value:"Electrical",children:"Electrical"}),l.jsx("option",{value:"Plumbing",children:"Plumbing"}),l.jsx("option",{value:"HVAC",children:"HVAC"}),l.jsx("option",{value:"Appliances",children:"Appliances"}),l.jsx("option",{value:"Mechanical",children:"Mechanical"}),l.jsx("option",{value:"Other",children:"Other"})]}),d.category&&l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:d.category})]})]})}),l.jsx(et,{title:"First Step",style:{marginBottom:r.spacing.lg},children:l.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"messageTemplate",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Message Template ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("textarea",{id:"messageTemplate",value:s.messageTemplate,onChange:T=>w("messageTemplate",T.target.value),placeholder:"Let's check the power. First, verify the outlet: {url}",rows:4,disabled:h,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${d.messageTemplate?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:h?r.colors.background.tertiary:r.colors.background.primary,outline:"none",resize:"vertical",fontFamily:"inherit"},onFocus:T=>!d.messageTemplate&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=d.messageTemplate?r.colors.accent.danger:r.colors.border.light}),d.messageTemplate?l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:d.messageTemplate}):l.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:["Use ","{url}"," placeholder for the document link"]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"docUrl",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Document URL ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{id:"docUrl",type:"url",value:s.docUrl,onChange:T=>w("docUrl",T.target.value),placeholder:"https://docs.example.com/dryer-power",disabled:h,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${d.docUrl?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:h?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!d.docUrl&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=d.docUrl?r.colors.accent.danger:r.colors.border.light}),d.docUrl&&l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:d.docUrl})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"docTitle",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Document Title ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{id:"docTitle",type:"text",value:s.docTitle,onChange:T=>w("docTitle",T.target.value),placeholder:"Check Power Outlet",disabled:h,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${d.docTitle?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:h?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!d.docTitle&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=d.docTitle?r.colors.accent.danger:r.colors.border.light}),d.docTitle&&l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:d.docTitle})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"successTriggers",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Success Triggers ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{id:"successTriggers",type:"text",value:s.successTriggers,onChange:T=>w("successTriggers",T.target.value),placeholder:"FIXED, YES, WORKING, DONE",disabled:h,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${d.successTriggers?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:h?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!d.successTriggers&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=d.successTriggers?r.colors.accent.danger:r.colors.border.light}),d.successTriggers?l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:d.successTriggers}):l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"Comma-separated responses meaning 'problem fixed'"}),j.length>0&&l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,marginTop:r.spacing.sm},children:j.map((T,O)=>l.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.success,color:"#ffffff",borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[T,l.jsx("button",{type:"button",onClick:()=>A("successTriggers",T),disabled:h,style:{background:"none",border:"none",padding:0,cursor:"pointer",display:"flex",alignItems:"center",color:"#ffffff"},children:l.jsx($t,{size:14})})]},O))})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"failureTriggers",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Failure Triggers ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{id:"failureTriggers",type:"text",value:s.failureTriggers,onChange:T=>w("failureTriggers",T.target.value),placeholder:"NO, STILL BROKEN, NOT WORKING, HELP",disabled:h,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${d.failureTriggers?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:h?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!d.failureTriggers&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=d.failureTriggers?r.colors.accent.danger:r.colors.border.light}),d.failureTriggers?l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:d.failureTriggers}):l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"Comma-separated responses meaning 'still broken'"}),k.length>0&&l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,marginTop:r.spacing.sm},children:k.map((T,O)=>l.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[T,l.jsx("button",{type:"button",onClick:()=>A("failureTriggers",T),disabled:h,style:{background:"none",border:"none",padding:0,cursor:"pointer",display:"flex",alignItems:"center",color:"#ffffff"},children:l.jsx($t,{size:14})})]},O))})]})]})}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{type:"button",onClick:E,disabled:h,style:{padding:`${r.spacing.md} ${r.spacing.xl}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:h?"not-allowed":"pointer",transition:"background-color 0.2s",opacity:h?.6:1},onMouseEnter:T=>!h&&(T.target.style.backgroundColor=r.colors.background.hover),onMouseLeave:T=>T.target.style.backgroundColor=r.colors.background.tertiary,children:"Cancel"}),l.jsx("button",{type:"submit",disabled:h,style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.xl}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:h?"not-allowed":"pointer",transition:"background-color 0.2s",opacity:h?.8:1},onMouseEnter:T=>!h&&(T.target.style.backgroundColor=r.colors.accent.primaryHover),onMouseLeave:T=>T.target.style.backgroundColor=r.colors.accent.primary,children:h?l.jsxs(l.Fragment,{children:[l.jsx(Df,{size:20,style:{animation:"spin 1s linear infinite"}}),"Creating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(mr,{size:20}),"Create Sequence"]})})]})]}),l.jsx("style",{children:`
            @keyframes spin {
              from {
                transform: rotate(0deg);
              }
              to {
                transform: rotate(360deg);
              }
            }
          `})]})]})}const $2=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`:null;function ki({children:e,onClose:t,title:n}){return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:r.spacing.lg},onClick:t,children:l.jsxs("div",{style:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.lg,padding:r.spacing.xl,maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:r.shadows.xl},onClick:i=>i.stopPropagation(),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[l.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:n}),l.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.tertiary},children:l.jsx($t,{size:24})})]}),e]})})}function st({label:e,required:t,type:n="text",value:i,onChange:s,helpText:c,options:d,disabled:p}){return l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:[e," ",t&&l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),n==="textarea"?l.jsx("textarea",{value:i,onChange:s,disabled:p,rows:4,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:p?r.colors.background.tertiary:r.colors.background.primary,outline:"none",resize:"vertical",fontFamily:"inherit"}}):n==="select"?l.jsx("select",{value:i,onChange:s,disabled:p,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:p?r.colors.background.tertiary:r.colors.background.primary,outline:"none",cursor:"pointer"},children:d?.map((m,g)=>l.jsx("option",{value:m.value,children:m.label},g))}):l.jsx("input",{type:n,value:i,onChange:s,disabled:p,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:p?r.colors.background.tertiary:r.colors.background.primary,outline:"none"}}),c&&l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:c})]})}function N2({isEdit:e,stepForm:t,allSequences:n,onClose:i,onSubmit:s,handleStepNumChange:c,handleMessageChange:d,handleDocUrlChange:p,handleDocTitleChange:m,handleSuccessTriggersChange:g,handleFailureTriggersChange:h,handleHasHandoffChange:v,handleHandoffTriggerChange:S,handleHandoffSequenceChange:j,handleIsActiveChange:k}){return l.jsx(ki,{onClose:i,title:e?"Edit Step":"Add Step",children:l.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[l.jsx(st,{label:"Step Number",required:!0,type:"number",value:t.stepNum,onChange:c,disabled:e,helpText:e?"Step number cannot be changed":"Enter the step number for this step"}),l.jsx(st,{label:"Message Template",required:!0,type:"textarea",value:t.message,onChange:d,helpText:"Use {url} placeholder for the document link"}),l.jsx(st,{label:"Document URL",required:!0,value:t.docUrl,onChange:p}),l.jsx(st,{label:"Document Title",required:!0,value:t.docTitle,onChange:m}),l.jsx(st,{label:"Success Triggers",required:!0,value:t.successTriggers,onChange:g,helpText:"Comma-separated responses meaning 'problem fixed'"}),l.jsx(st,{label:"Failure Triggers",required:!0,value:t.failureTriggers,onChange:h,helpText:"Comma-separated responses meaning 'still broken'"}),l.jsx("div",{children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:t.hasHandoff,onChange:v}),l.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:"Configure Handoff"})]})}),t.hasHandoff&&l.jsxs(l.Fragment,{children:[l.jsx(st,{label:"Handoff Trigger Word",value:t.handoffTrigger,onChange:S,helpText:"Trigger word to handoff to another sequence"}),l.jsx(st,{label:"Target Sequence",type:"select",value:t.handoffSequenceKey,onChange:j,options:[{value:"",label:"Select a sequence..."},...n.map(w=>({value:w.sequence_key,label:w.display_name}))]})]}),e&&l.jsx("div",{children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:t.isActive,onChange:k}),l.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:"Active"})]})}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:i,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:s,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[e?l.jsx(Ud,{size:16}):l.jsx(mr,{size:16}),e?"Save Changes":"Add Step"]})]})]})})}function L2({stepNum:e,tools:t,parts:n,onAddTool:i,onAddPart:s,onEditTool:c,onDeleteTool:d,onEditPart:p,onDeletePart:m,theme:g,isGeneral:h=!1,sequenceKey:v}){const[S,j]=x.useState(!1),k=t.length+n.length;return k===0&&!h?l.jsx("div",{style:{marginTop:g.spacing.md,paddingTop:g.spacing.md,borderTop:`1px solid ${g.colors.border.light}`},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:g.spacing.sm},children:[l.jsx(mo,{size:14,color:g.colors.text.tertiary}),l.jsx("span",{style:{fontSize:g.fontSize.xs,color:g.colors.text.tertiary},children:"No supplies for this step"}),l.jsxs("button",{onClick:()=>i(e),style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"transparent",border:`1px solid ${g.colors.border.light}`,borderRadius:g.radius.sm,cursor:"pointer",fontSize:g.fontSize.xs,color:g.colors.accent.primary},children:[l.jsx(mr,{size:12}),"Tool"]}),l.jsxs("button",{onClick:()=>s(e),style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"transparent",border:`1px solid ${g.colors.border.light}`,borderRadius:g.radius.sm,cursor:"pointer",fontSize:g.fontSize.xs,color:g.colors.accent.success},children:[l.jsx(mr,{size:12}),"Part"]})]})}):l.jsxs("div",{style:{marginTop:g.spacing.md,paddingTop:g.spacing.md,borderTop:`1px solid ${g.colors.border.light}`},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:k>0?"pointer":"default"},onClick:()=>k>0&&j(!S),children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:g.spacing.sm},children:[l.jsx(mo,{size:14,color:g.colors.text.tertiary}),l.jsx("span",{style:{fontSize:g.fontSize.sm,fontWeight:g.fontWeight.medium,color:g.colors.text.secondary},children:h?"General Supplies":"Supplies"}),k>0&&l.jsx(Je,{variant:h?"primary":"secondary",size:"sm",children:k}),k>0&&(S?l.jsx(Ec,{size:14,color:g.colors.text.tertiary}):l.jsx(Zn,{size:14,color:g.colors.text.tertiary}))]}),l.jsxs("div",{style:{display:"flex",gap:g.spacing.xs,alignItems:"center"},onClick:w=>w.stopPropagation(),children:[v&&l.jsx("a",{href:`/supplies/${v}${e?`?step=${e}`:""}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",fontSize:g.fontSize.xs,color:g.colors.text.tertiary,textDecoration:"none"},title:e?`Preview Step ${e} supplies`:"Preview public supplies page",children:l.jsx(Ti,{size:12})}),l.jsxs("button",{onClick:()=>i(e),style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"transparent",border:`1px solid ${g.colors.border.light}`,borderRadius:g.radius.sm,cursor:"pointer",fontSize:g.fontSize.xs,color:g.colors.accent.primary},children:[l.jsx(mr,{size:12}),"Tool"]}),l.jsxs("button",{onClick:()=>s(e),style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"transparent",border:`1px solid ${g.colors.border.light}`,borderRadius:g.radius.sm,cursor:"pointer",fontSize:g.fontSize.xs,color:g.colors.accent.success},children:[l.jsx(mr,{size:12}),"Part"]})]})]}),S&&k>0&&l.jsxs("div",{style:{marginTop:g.spacing.md},children:[t.length>0&&l.jsxs("div",{style:{marginBottom:n.length>0?g.spacing.md:0},children:[l.jsxs("div",{style:{fontSize:g.fontSize.xs,color:g.colors.text.tertiary,marginBottom:g.spacing.xs,textTransform:"uppercase"},children:["Tools (",t.length,")"]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:g.spacing.xs},children:t.map(w=>l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:g.spacing.sm,backgroundColor:g.colors.background.primary,borderRadius:g.radius.sm,border:`1px solid ${g.colors.border.light}`},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:g.spacing.sm,flex:1},children:[l.jsx("span",{style:{fontSize:g.fontSize.sm,color:g.colors.text.primary},children:w.tool_name}),w.is_required&&l.jsx(Je,{variant:"danger",size:"sm",children:"Required"}),w.tool_link&&l.jsx("a",{href:$2(w.tool_link),target:"_blank",rel:"noopener noreferrer",style:{color:g.colors.accent.primary},children:l.jsx(Ti,{size:12})})]}),l.jsxs("div",{style:{display:"flex",gap:"4px"},children:[l.jsx("button",{onClick:()=>c(w),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:g.colors.text.tertiary},children:l.jsx(Pf,{size:12})}),l.jsx("button",{onClick:()=>d(w),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:g.colors.accent.danger},children:l.jsx(tn,{size:12})})]})]},w.id))})]}),n.length>0&&l.jsxs("div",{children:[l.jsxs("div",{style:{fontSize:g.fontSize.xs,color:g.colors.text.tertiary,marginBottom:g.spacing.xs,textTransform:"uppercase"},children:["Parts (",n.length,")"]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:g.spacing.xs},children:n.map(w=>l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:g.spacing.sm,backgroundColor:g.colors.background.primary,borderRadius:g.radius.sm,border:`1px solid ${g.colors.border.light}`},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:g.spacing.sm,flex:1},children:[l.jsx("span",{style:{fontSize:g.fontSize.sm,color:g.colors.text.primary},children:w.part_name}),w.is_required&&l.jsx(Je,{variant:"danger",size:"sm",children:"Required"}),w.part_number&&l.jsxs(Je,{variant:"default",size:"sm",children:["#",w.part_number]}),w.estimated_price&&l.jsxs("span",{style:{fontSize:g.fontSize.xs,color:g.colors.accent.success},children:["~$",Number(w.estimated_price).toFixed(2)]}),w.part_link&&l.jsx("a",{href:$2(w.part_link),target:"_blank",rel:"noopener noreferrer",style:{color:g.colors.accent.success},children:l.jsx(nO,{size:12})})]}),l.jsxs("div",{style:{display:"flex",gap:"4px"},children:[l.jsx("button",{onClick:()=>p(w),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:g.colors.text.tertiary},children:l.jsx(Pf,{size:12})}),l.jsx("button",{onClick:()=>m(w),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:g.colors.accent.danger},children:l.jsx(tn,{size:12})})]})]},w.id))})]})]})]})}function $Y(){const{key:e}=Lf(),{user:t,logout:n,hasRole:i}=mn(),s=Ri(),[c,d]=x.useState(null),[p,m]=x.useState([]),[g,h]=x.useState([]),[v,S]=x.useState([]),[j,k]=x.useState(!0),[w,C]=x.useState(""),[_,E]=x.useState(""),[A,T]=x.useState(!1),[O,P]=x.useState(!1),[R,U]=x.useState(!1),[ee,fe]=x.useState(!1),[de,re]=x.useState(!1),[Se,he]=x.useState(!1),[ge,F]=x.useState(null),[Y,me]=x.useState(null),[be,Ee]=x.useState({displayName:"",description:"",category:""}),[$,W]=x.useState({stepNum:"",message:"",docUrl:"",docTitle:"",successTriggers:"",failureTriggers:"",hasHandoff:!1,handoffTrigger:"",handoffSequenceKey:"",isActive:!0}),[L,V]=x.useState({tools:[],parts:[]}),[ne,I]=x.useState(!1),[X,Ce]=x.useState(!1),[N,ye]=x.useState(!1),[oe,ue]=x.useState(!1),[Ne,le]=x.useState(!1),[Me,Ae]=x.useState(!1),[We,Ke]=x.useState(!1),[at,J]=x.useState(null),[ze,it]=x.useState(null),[te,H]=x.useState(null),[Oe,Fe]=x.useState(null),[Be,Qe]=x.useState({tool_name:"",tool_description:"",tool_link:"",is_required:!0,sort_order:0,step_num:null}),[Pe,mt]=x.useState({part_name:"",part_number:"",part_description:"",part_link:"",estimated_price:"",is_required:!0,sort_order:0,step_num:null});x.useEffect(()=>{lr(),Xr(),sr(),xt()},[e]);const lr=async(D=!1)=>{D||k(!0),C("");try{const _e=await fetch(`/api/sequences/${e}`,{credentials:"include"});if(!_e.ok)throw _e.status===404?new Error("Sequence not found"):new Error("Failed to fetch sequence details");const Mt=await _e.json();d(Mt),Ee({displayName:Mt.display_name||"",description:Mt.description||"",category:Mt.category||""})}catch(_e){console.error("Error fetching sequence:",_e),C(_e.message)}finally{D||k(!1)}},Xr=async()=>{try{const D=await fetch("/api/sequences",{credentials:"include"});if(D.ok){const _e=await D.json();m(_e.filter(Mt=>Mt.sequence_key!==e))}}catch(D){console.error("Error fetching sequences:",D)}},sr=async()=>{try{const D=await fetch(`/api/patterns?sequence_key=${e}`,{credentials:"include"});if(D.ok){const _e=await D.json();h(_e)}}catch(D){console.error("Error fetching trigger patterns:",D)}},xt=async()=>{I(!0);try{const D=await fetch(`/api/sequences/${e}/supplies`,{credentials:"include"});if(D.ok){const _e=await D.json();V({tools:_e.tools||[],parts:_e.parts||[]})}}catch(D){console.error("Error fetching supplies:",D)}finally{I(!1)}},ir=()=>{Qe({tool_name:"",tool_description:"",tool_link:"",is_required:!0,sort_order:L.tools.length,step_num:null})},xe=(D=null)=>{ir(),Qe(_e=>({..._e,step_num:D})),Ce(!0)},Ye=D=>{J(D),Qe({tool_name:D.tool_name||"",tool_description:D.tool_description||"",tool_link:D.tool_link||"",is_required:D.is_required??!0,sort_order:D.sort_order||0,step_num:D.step_num||null}),ye(!0)},Et=D=>{H(D),ue(!0)},Or=async()=>{try{if(!(await fetch(`/api/sequences/${e}/tools`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Be)})).ok)throw new Error("Failed to add tool");await xt(),Ce(!1),ir(),Vt("Tool added successfully")}catch(D){console.error("Error adding tool:",D),C("Failed to add tool")}},Yt=async()=>{try{if(!(await fetch(`/api/sequences/tools/${at.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Be)})).ok)throw new Error("Failed to update tool");await xt(),ye(!1),J(null),Vt("Tool updated successfully")}catch(D){console.error("Error updating tool:",D),C("Failed to update tool")}},ht=async()=>{try{if(!(await fetch(`/api/sequences/tools/${te.id}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete tool");await xt(),ue(!1),H(null),Vt("Tool deleted successfully")}catch(D){console.error("Error deleting tool:",D),C("Failed to delete tool")}},Z=()=>{mt({part_name:"",part_number:"",part_description:"",part_link:"",estimated_price:"",is_required:!0,sort_order:L.parts.length,step_num:null})},ke=(D=null)=>{Z(),mt(_e=>({..._e,step_num:D})),le(!0)},qe=D=>{it(D),mt({part_name:D.part_name||"",part_number:D.part_number||"",part_description:D.part_description||"",part_link:D.part_link||"",estimated_price:D.estimated_price||"",is_required:D.is_required??!0,sort_order:D.sort_order||0,step_num:D.step_num||null}),Ae(!0)},zt=D=>{Fe(D),Ke(!0)},yr=async()=>{try{if(!(await fetch(`/api/sequences/${e}/parts`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...Pe,estimated_price:Pe.estimated_price?parseFloat(Pe.estimated_price):null})})).ok)throw new Error("Failed to add part");await xt(),le(!1),Z(),Vt("Part added successfully")}catch(D){console.error("Error adding part:",D),C("Failed to add part")}},Dn=async()=>{try{if(!(await fetch(`/api/sequences/parts/${ze.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...Pe,estimated_price:Pe.estimated_price?parseFloat(Pe.estimated_price):null})})).ok)throw new Error("Failed to update part");await xt(),Ae(!1),it(null),Vt("Part updated successfully")}catch(D){console.error("Error updating part:",D),C("Failed to update part")}},Pn=async()=>{try{if(!(await fetch(`/api/sequences/parts/${Oe.id}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete part");await xt(),Ke(!1),Fe(null),Vt("Part deleted successfully")}catch(D){console.error("Error deleting part:",D),C("Failed to delete part")}},nn=async()=>{he(!0);try{const D=await fetch(`/api/sequences/${e}/validate`,{credentials:"include"});if(!D.ok)throw new Error("Failed to validate sequence");const _e=await D.json();_e.errors&&_e.errors.length>0?(S(_e.errors),C("Validation found issues with this sequence")):(S([]),Vt("Sequence validated - no errors found"))}catch(D){console.error("Error validating sequence:",D),C("Failed to validate sequence")}finally{he(!1)}},ca=async()=>{try{if(!(await fetch(`/api/sequences/${e}/toggle`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({is_active:!c.is_active})})).ok)throw new Error("Failed to toggle sequence status");await lr(!0),Vt(`Sequence ${c.is_active?"deactivated":"activated"} successfully`)}catch(D){console.error("Error toggling sequence:",D),C("Failed to toggle sequence status")}},wo=async()=>{try{if(!(await fetch(`/api/sequences/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:be.displayName,description:be.description,category:be.category})})).ok)throw new Error("Failed to update sequence metadata");await lr(!0),T(!1),Vt("Sequence updated successfully")}catch(D){console.error("Error updating metadata:",D),C("Failed to update sequence")}},ii=async()=>{try{if(!(await fetch(`/api/sequences/${e}/steps`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({step_num:parseInt($.stepNum),message:$.message,doc_url:$.docUrl,doc_title:$.docTitle,success_triggers:tt($.successTriggers),failure_triggers:tt($.failureTriggers)})})).ok)throw new Error("Failed to add step");$.hasHandoff&&$.handoffTrigger&&$.handoffSequenceKey&&await Te(parseInt($.stepNum)),await lr(!0),P(!1),oi(),Vt("Step added successfully")}catch(D){console.error("Error adding step:",D),C("Failed to add step")}},B=async()=>{try{if(!(await fetch(`/api/sequences/${e}/steps/${ge.step_num}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:$.message,doc_url:$.docUrl,doc_title:$.docTitle,success_triggers:tt($.successTriggers),failure_triggers:tt($.failureTriggers),handoff_trigger:$.hasHandoff?$.handoffTrigger:null,handoff_sequence_key:$.hasHandoff?$.handoffSequenceKey:null,is_active:$.isActive})})).ok)throw new Error("Failed to update step");await lr(!0),U(!1),F(null),oi(),Vt("Step updated successfully")}catch(D){console.error("Error updating step:",D),C("Failed to update step")}},Te=async D=>{await fetch(`/api/sequences/${e}/steps/${D}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({handoff_trigger:$.handoffTrigger,handoff_sequence_key:$.handoffSequenceKey})})},Ot=async()=>{try{if(!(await fetch(`/api/sequences/${e}/steps/${Y.step_num}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete step");await lr(!0),fe(!1),me(null),Vt("Step deleted successfully")}catch(D){console.error("Error deleting step:",D),C("Failed to delete step")}},_t=async()=>{try{if(!(await fetch(`/api/sequences/${e}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete sequence");s("/sequences")}catch(D){console.error("Error deleting sequence:",D),C("Failed to delete sequence")}},dt=async(D,_e)=>{const Mt=c.steps||[],ai=Mt.findIndex(Ni=>Ni.step_num===D.step_num);if(_e==="up"&&ai>0){const Ni=Mt[ai-1];await wt(D,Ni)}else if(_e==="down"&&ai<Mt.length-1){const Ni=Mt[ai+1];await wt(D,Ni)}},wt=async(D,_e)=>{try{if(!(await fetch(`/api/sequences/${e}/steps/${D.step_num}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:_e.message_template,doc_url:_e.doc_url,doc_title:_e.doc_title,success_triggers:_e.success_triggers,failure_triggers:_e.failure_triggers,handoff_trigger:_e.handoff_trigger,handoff_sequence_key:_e.handoff_sequence_key,is_active:_e.is_active})})).ok)throw new Error("Failed to update first step");if(!(await fetch(`/api/sequences/${e}/steps/${_e.step_num}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:D.message_template,doc_url:D.doc_url,doc_title:D.doc_title,success_triggers:D.success_triggers,failure_triggers:D.failure_triggers,handoff_trigger:D.handoff_trigger,handoff_sequence_key:D.handoff_sequence_key,is_active:D.is_active})})).ok)throw new Error("Failed to update second step");await lr(!0),Vt("Steps reordered successfully")}catch(Mt){console.error("Error swapping steps:",Mt),C("Failed to reorder steps")}},It=async D=>{try{if(!(await fetch(`/api/sequences/${e}/steps/${D.step_num}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({is_active:!D.is_active})})).ok)throw new Error("Failed to toggle step status");await lr(!0),Vt(`Step ${D.is_active?"deactivated":"activated"} successfully`)}catch(_e){console.error("Error toggling step:",_e),C("Failed to toggle step status")}},tt=D=>D.split(",").map(_e=>_e.trim()).filter(_e=>_e.length>0),Vt=D=>{E(D),setTimeout(()=>E(""),3e3)},oi=()=>{const D=c?.steps?.length?Math.max(...c.steps.map(_e=>_e.step_num))+1:1;W({stepNum:D.toString(),message:"",docUrl:"",docTitle:"",successTriggers:"",failureTriggers:"",hasHandoff:!1,handoffTrigger:"",handoffSequenceKey:"",isActive:!0})},bi=D=>{F(D),W({stepNum:D.step_num.toString(),message:D.message_template||"",docUrl:D.doc_url||"",docTitle:D.doc_title||"",successTriggers:(D.success_triggers||[]).join(", "),failureTriggers:(D.failure_triggers||[]).join(", "),hasHandoff:!!D.handoff_trigger,handoffTrigger:D.handoff_trigger||"",handoffSequenceKey:D.handoff_sequence_key||"",isActive:D.is_active!==!1}),U(!0)},Pi=()=>{oi(),P(!0)},ua=D=>({electrical:"primary",plumbing:"warning",hvac:"secondary",appliances:"success",mechanical:"danger"})[D?.toLowerCase()]||"default",G=D=>D<=10?"#1e3a8a":D<=50?"#3b82f6":"#93c5fd",Re=D=>({water:"#3b82f6",generator:"#f59e0b",grooming_equipment:"#8b5cf6",electrical:"#eab308",plumbing:"#06b6d4",hvac:"#ef4444"})[D]||r.colors.accent.primary,He=x.useCallback(D=>W(_e=>({..._e,stepNum:D.target.value})),[]),Ve=x.useCallback(D=>W(_e=>({..._e,message:D.target.value})),[]),Tt=x.useCallback(D=>W(_e=>({..._e,docUrl:D.target.value})),[]),At=x.useCallback(D=>W(_e=>({..._e,docTitle:D.target.value})),[]),rt=x.useCallback(D=>W(_e=>({..._e,successTriggers:D.target.value})),[]),Ct=x.useCallback(D=>W(_e=>({..._e,failureTriggers:D.target.value})),[]),kr=x.useCallback(D=>W(_e=>({..._e,handoffTrigger:D.target.value})),[]),$n=x.useCallback(D=>W(_e=>({..._e,handoffSequenceKey:D.target.value})),[]),$i=x.useCallback(D=>W(_e=>({..._e,hasHandoff:D.target.checked})),[]),tu=x.useCallback(D=>W(_e=>({..._e,isActive:D.target.checked})),[]);if(j)return l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(Cr,{user:t,onLogout:n,hasRole:i}),l.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"],display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx(Df,{size:24,color:r.colors.accent.primary,style:{animation:"spin 1s linear infinite"}}),l.jsx("span",{style:{color:r.colors.text.secondary},children:"Loading sequence..."})]})})]});if(w&&!c)return l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(Cr,{user:t,onLogout:n,hasRole:i}),l.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:l.jsxs("div",{style:{padding:r.spacing.xl,backgroundColor:"#fee2e2",border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx(hi,{size:24,color:r.colors.accent.danger}),l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0,color:r.colors.accent.danger,fontSize:r.fontSize.xl},children:w}),l.jsx("button",{onClick:()=>s("/sequences"),style:{marginTop:r.spacing.md,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Back to Sequences"})]})]})})]});const Nr=[...c?.steps||[]].sort((D,_e)=>D.step_num-_e.step_num);return l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(Cr,{user:t,onLogout:n,hasRole:i}),l.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[_&&l.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.md,backgroundColor:"#d1fae5",border:`1px solid ${r.colors.accent.success}`,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(Ft,{size:20,color:r.colors.accent.success}),l.jsx("span",{style:{color:r.colors.accent.success,fontSize:r.fontSize.base},children:_})]}),w&&c&&l.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.md,backgroundColor:"#fee2e2",border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(hi,{size:20,color:r.colors.accent.danger}),l.jsx("span",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.base},children:w})]}),l.jsxs("button",{onClick:()=>s("/sequences"),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,marginBottom:r.spacing.lg,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:"transparent",color:r.colors.accent.primary,border:"none",cursor:"pointer",fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium},children:[l.jsx(Rf,{size:20}),"Back to Sequences"]}),l.jsx(et,{style:{marginBottom:r.spacing.lg},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:r.spacing.lg},children:[l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.sm},children:[l.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:c?.display_name}),l.jsx("button",{type:"button",onClick:()=>T(!0),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.primary,display:"flex",alignItems:"center"},title:"Edit sequence metadata",children:l.jsx(Pf,{size:20})})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.md},children:[c?.category&&l.jsx(Je,{variant:ua(c.category),children:c.category}),l.jsxs("button",{onClick:ca,style:{background:"none",border:"none",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:r.spacing.xs,color:c?.is_active?r.colors.accent.success:r.colors.text.tertiary},title:c?.is_active?"Active - Click to disable":"Inactive - Click to enable",children:[c?.is_active?l.jsx(bx,{size:24}):l.jsx(vx,{size:24}),l.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:c?.is_active?"Active":"Inactive"})]})]}),l.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,marginBottom:r.spacing.md},children:c?.description}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.lg,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:[l.jsxs("span",{children:["Created: ",c?.created_at?new Date(c.created_at).toLocaleDateString():"N/A"]}),l.jsxs("span",{children:["Updated: ",c?.updated_at?new Date(c.updated_at).toLocaleDateString():"N/A"]}),l.jsxs("span",{children:["Steps: ",Nr.length]})]})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.sm},children:[l.jsxs("button",{onClick:nn,disabled:Se,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.info,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:Se?"not-allowed":"pointer",opacity:Se?.7:1},children:[Se?l.jsx(Df,{size:16,style:{animation:"spin 1s linear infinite"}}):l.jsx(Ft,{size:16}),"Validate Sequence"]}),l.jsxs("button",{onClick:()=>re(!0),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:[l.jsx(tn,{size:16}),"Delete Sequence"]})]})]})}),l.jsxs(et,{style:{marginBottom:r.spacing.lg},children:[l.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:r.spacing.xs},children:[l.jsx(Mc,{size:20,color:r.colors.accent.primary}),l.jsx("h2",{style:{margin:0,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:"Trigger Patterns"})]}),l.jsx("p",{style:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:"Patterns that trigger this sequence"})]}),g.length===0?l.jsxs("div",{style:{textAlign:"center",padding:r.spacing.xl,color:r.colors.text.secondary,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md},children:[l.jsx(Mc,{size:32,style:{marginBottom:r.spacing.sm,opacity:.5}}),l.jsx("p",{style:{margin:0,fontSize:r.fontSize.sm},children:"No trigger patterns configured for this sequence"})]}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:g.map(D=>l.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`},children:l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md},children:[l.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:G(D.priority),color:"#ffffff",borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,flexShrink:0},children:D.priority}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontFamily:"monospace",fontSize:r.fontSize.sm,color:r.colors.text.primary,marginBottom:r.spacing.xs,wordBreak:"break-all"},children:D.pattern}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,flexWrap:"wrap"},children:[l.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:Re(D.category_slug)+"20",color:Re(D.category_slug),borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:D.category_slug}),l.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:"|"}),l.jsx("span",{style:{fontSize:r.fontSize.xs,color:D.is_active?r.colors.status.success:r.colors.text.tertiary,fontWeight:r.fontWeight.medium},children:D.is_active?"Active":"Inactive"}),D.flags&&l.jsxs(l.Fragment,{children:[l.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:"|"}),l.jsxs("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontFamily:"monospace"},children:["flags: ",D.flags]})]})]})]})]})},D.id))}),l.jsxs(xc,{to:"/patterns",style:{display:"flex",alignItems:"center",gap:r.spacing.xs,marginTop:r.spacing.lg,color:r.colors.accent.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,textDecoration:"none"},children:[l.jsx(UF,{size:16}),"Manage All Patterns"]})]}),v.length>0&&l.jsx(et,{style:{marginBottom:r.spacing.lg,backgroundColor:"#fff7ed",border:`1px solid ${r.colors.accent.warning}`},children:l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md},children:[l.jsx(hi,{size:24,color:r.colors.accent.warning}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h3",{style:{margin:`0 0 ${r.spacing.md} 0`,color:r.colors.accent.warning,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.semibold},children:"Validation Errors"}),l.jsx("ul",{style:{margin:0,paddingLeft:r.spacing.lg,color:r.colors.text.primary},children:v.map((D,_e)=>l.jsx("li",{style:{marginBottom:r.spacing.xs},children:D},_e))})]})]})}),l.jsxs(et,{title:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx("span",{children:"Troubleshooting Steps"}),l.jsx(Je,{variant:"primary",size:"sm",children:Nr.length})]}),l.jsxs("a",{href:`/supplies/${e}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,textDecoration:"none"},children:[l.jsx(Ti,{size:14}),"Preview Supplies Page"]})]}),style:{marginBottom:r.spacing.lg},children:[(()=>{const D=L.tools.filter(Mt=>!Mt.step_num),_e=L.parts.filter(Mt=>!Mt.step_num);return D.length>0||_e.length>0,l.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.accent.primary}33`},children:[l.jsx(L2,{stepNum:null,tools:D,parts:_e,onAddTool:xe,onAddPart:ke,onEditTool:Ye,onDeleteTool:Et,onEditPart:qe,onDeletePart:zt,theme:r,isGeneral:!0,sequenceKey:e}),l.jsxs("div",{style:{marginTop:r.spacing.sm,padding:r.spacing.sm,backgroundColor:r.colors.background.primary,borderRadius:r.radius.sm,fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontFamily:"monospace"},children:["Public URL: ",window.location.origin,"/supplies/",e]})]})})(),Nr.length===0?l.jsxs("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:[l.jsx("p",{style:{fontSize:r.fontSize.lg,marginBottom:r.spacing.md},children:"No steps yet"}),l.jsx("p",{style:{fontSize:r.fontSize.sm},children:"Add your first troubleshooting step to get started"})]}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:Nr.map((D,_e)=>l.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`,opacity:D.is_active===!1?.6:1},children:[l.jsxs("div",{style:{display:"flex",gap:r.spacing.lg},children:[l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.primary,color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:r.fontSize.xl,fontWeight:r.fontWeight.bold,flexShrink:0},children:D.step_num}),l.jsxs("div",{style:{flex:1},children:[l.jsx("p",{style:{margin:`0 0 ${r.spacing.md} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base,lineHeight:1.6},children:D.message_template}),D.doc_url&&l.jsxs("a",{href:D.doc_url,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,textDecoration:"none",marginBottom:r.spacing.md},children:[D.doc_title||"View Document",l.jsx(Ti,{size:14})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.sm,marginTop:r.spacing.md},children:[D.success_triggers&&D.success_triggers.length>0&&l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,alignItems:"center"},children:[l.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontWeight:r.fontWeight.medium},children:"Success:"}),D.success_triggers.slice(0,3).map((Mt,ai)=>l.jsx(Je,{variant:"success",size:"sm",children:Mt},ai)),D.success_triggers.length>3&&l.jsxs("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:["+",D.success_triggers.length-3," more"]})]}),D.failure_triggers&&D.failure_triggers.length>0&&l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,alignItems:"center"},children:[l.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontWeight:r.fontWeight.medium},children:"Failure:"}),D.failure_triggers.slice(0,3).map((Mt,ai)=>l.jsx(Je,{variant:"danger",size:"sm",children:Mt},ai)),D.failure_triggers.length>3&&l.jsxs("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:["+",D.failure_triggers.length-3," more"]})]}),D.handoff_trigger&&D.handoff_sequence_key&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginTop:r.spacing.xs},children:[l.jsx(xK,{size:16,color:r.colors.accent.warning}),l.jsxs(Je,{variant:"warning",size:"sm",children:['If "',D.handoff_trigger,'"  ',D.handoff_sequence_key]})]})]})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xs,alignItems:"flex-end"},children:[l.jsxs("div",{style:{display:"flex",gap:r.spacing.xs},children:[l.jsx("button",{onClick:()=>It(D),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:D.is_active===!1?r.colors.text.tertiary:r.colors.accent.success,display:"flex",alignItems:"center"},title:D.is_active===!1?"Activate step":"Deactivate step",children:D.is_active===!1?l.jsx(vx,{size:20}):l.jsx(bx,{size:20})}),l.jsx("button",{type:"button",onClick:()=>bi(D),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.primary},title:"Edit step",children:l.jsx(Pf,{size:18})}),l.jsx("button",{onClick:()=>{me(D),fe(!0)},style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.danger},title:"Delete step",children:l.jsx(tn,{size:18})})]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.xs,marginTop:r.spacing.sm},children:[l.jsx("button",{onClick:()=>dt(D,"up"),disabled:_e===0,style:{background:"none",border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.sm,cursor:_e===0?"not-allowed":"pointer",padding:r.spacing.xs,color:_e===0?r.colors.text.tertiary:r.colors.accent.primary,opacity:_e===0?.5:1},title:"Move up",children:l.jsx(Ec,{size:18})}),l.jsx("button",{onClick:()=>dt(D,"down"),disabled:_e===Nr.length-1,style:{background:"none",border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.sm,cursor:_e===Nr.length-1?"not-allowed":"pointer",padding:r.spacing.xs,color:_e===Nr.length-1?r.colors.text.tertiary:r.colors.accent.primary,opacity:_e===Nr.length-1?.5:1},title:"Move down",children:l.jsx(Zn,{size:18})})]})]})]}),l.jsx(L2,{stepNum:D.step_num,tools:L.tools.filter(Mt=>Mt.step_num===D.step_num),parts:L.parts.filter(Mt=>Mt.step_num===D.step_num),onAddTool:xe,onAddPart:ke,onEditTool:Ye,onDeleteTool:Et,onEditPart:qe,onDeletePart:zt,theme:r,sequenceKey:e})]},D.step_num))}),l.jsxs("button",{onClick:Pi,style:{width:"100%",marginTop:r.spacing.lg,padding:r.spacing.lg,backgroundColor:"transparent",border:`2px dashed ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:r.spacing.sm,color:r.colors.accent.primary,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},onMouseEnter:D=>{D.target.style.backgroundColor=r.colors.background.tertiary,D.target.style.borderColor=r.colors.accent.primary},onMouseLeave:D=>{D.target.style.backgroundColor="transparent",D.target.style.borderColor=r.colors.border.medium},children:[l.jsx(mr,{size:20}),"Add Step"]})]}),A&&l.jsx(jp,{}),O&&l.jsx(N2,{isEdit:!1,stepForm:$,allSequences:p,onClose:()=>P(!1),onSubmit:ii,handleStepNumChange:He,handleMessageChange:Ve,handleDocUrlChange:Tt,handleDocTitleChange:At,handleSuccessTriggersChange:rt,handleFailureTriggersChange:Ct,handleHasHandoffChange:$i,handleHandoffTriggerChange:kr,handleHandoffSequenceChange:$n,handleIsActiveChange:tu}),R&&l.jsx(N2,{isEdit:!0,stepForm:$,allSequences:p,onClose:()=>U(!1),onSubmit:B,handleStepNumChange:He,handleMessageChange:Ve,handleDocUrlChange:Tt,handleDocTitleChange:At,handleSuccessTriggersChange:rt,handleFailureTriggersChange:Ct,handleHasHandoffChange:$i,handleHandoffTriggerChange:kr,handleHandoffSequenceChange:$n,handleIsActiveChange:tu}),ee&&l.jsx(Qa,{}),de&&l.jsx(Za,{}),X&&l.jsx(ki,{onClose:()=>Ce(!1),title:"Add Tool",children:l.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[l.jsx(st,{label:"Tool Name",required:!0,value:Be.tool_name,onChange:D=>Qe({...Be,tool_name:D.target.value})}),l.jsx(st,{label:"Description",type:"textarea",value:Be.tool_description,onChange:D=>Qe({...Be,tool_description:D.target.value})}),l.jsx(st,{label:"Link (optional)",value:Be.tool_link,onChange:D=>Qe({...Be,tool_link:D.target.value}),helpText:"e.g., https://amazon.com/dp/... or www.example.com"}),l.jsx(st,{label:"Required",type:"select",value:Be.is_required?"true":"false",onChange:D=>Qe({...Be,is_required:D.target.value==="true"}),options:[{value:"true",label:"Yes - Required"},{value:"false",label:"No - Optional"}]}),l.jsx(st,{label:"Sort Order",type:"number",value:Be.sort_order,onChange:D=>Qe({...Be,sort_order:parseInt(D.target.value)||0}),helpText:"Lower numbers appear first"}),Be.step_num!==null?l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:"Applies To"}),l.jsxs("div",{style:{padding:r.spacing.sm,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx("div",{style:{width:"20px",height:"20px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.primary,color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.bold},children:Be.step_num}),l.jsxs("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary},children:["Step ",Be.step_num]})]})]}):l.jsx(st,{label:"Applies To Step",type:"select",value:"",onChange:D=>Qe({...Be,step_num:D.target.value===""?null:parseInt(D.target.value)}),options:[{value:"",label:"All Steps (General)"},...Nr.map(D=>({value:D.step_num.toString(),label:`Step ${D.step_num}`}))],helpText:"Which step this tool is needed for"}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>Ce(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:Or,disabled:!Be.tool_name,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:Be.tool_name?"pointer":"not-allowed",opacity:Be.tool_name?1:.5,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(mr,{size:16}),"Add Tool"]})]})]})}),N&&l.jsx(ki,{onClose:()=>ye(!1),title:"Edit Tool",children:l.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[l.jsx(st,{label:"Tool Name",required:!0,value:Be.tool_name,onChange:D=>Qe({...Be,tool_name:D.target.value})}),l.jsx(st,{label:"Description",type:"textarea",value:Be.tool_description,onChange:D=>Qe({...Be,tool_description:D.target.value})}),l.jsx(st,{label:"Link (optional)",value:Be.tool_link,onChange:D=>Qe({...Be,tool_link:D.target.value}),helpText:"e.g., https://amazon.com/dp/... or www.example.com"}),l.jsx(st,{label:"Required",type:"select",value:Be.is_required?"true":"false",onChange:D=>Qe({...Be,is_required:D.target.value==="true"}),options:[{value:"true",label:"Yes - Required"},{value:"false",label:"No - Optional"}]}),l.jsx(st,{label:"Sort Order",type:"number",value:Be.sort_order,onChange:D=>Qe({...Be,sort_order:parseInt(D.target.value)||0}),helpText:"Lower numbers appear first"}),l.jsx(st,{label:"Applies To Step",type:"select",value:Be.step_num===null?"":Be.step_num.toString(),onChange:D=>Qe({...Be,step_num:D.target.value===""?null:parseInt(D.target.value)}),options:[{value:"",label:"All Steps"},...Nr.map(D=>({value:D.step_num.toString(),label:`Step ${D.step_num}`}))],helpText:"Which step this tool is needed for"}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>ye(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:Yt,disabled:!Be.tool_name,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:Be.tool_name?"pointer":"not-allowed",opacity:Be.tool_name?1:.5,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(Ud,{size:16}),"Save Changes"]})]})]})}),oe&&te&&l.jsx(ki,{onClose:()=>ue(!1),title:"Delete Tool",children:l.jsxs("div",{children:[l.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base},children:['Are you sure you want to delete the tool "',l.jsx("strong",{children:te.tool_name}),'"?']}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>ue(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:ht,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(tn,{size:16}),"Delete Tool"]})]})]})}),Ne&&l.jsx(ki,{onClose:()=>le(!1),title:"Add Part",children:l.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[l.jsx(st,{label:"Part Name",required:!0,value:Pe.part_name,onChange:D=>mt({...Pe,part_name:D.target.value})}),l.jsx(st,{label:"Part Number",value:Pe.part_number,onChange:D=>mt({...Pe,part_number:D.target.value}),helpText:"Manufacturer part number"}),l.jsx(st,{label:"Description",type:"textarea",value:Pe.part_description,onChange:D=>mt({...Pe,part_description:D.target.value})}),l.jsx(st,{label:"Buy Link (optional)",value:Pe.part_link,onChange:D=>mt({...Pe,part_link:D.target.value}),helpText:"e.g., https://amazon.com/dp/... or www.example.com"}),l.jsx(st,{label:"Estimated Price",type:"number",value:Pe.estimated_price,onChange:D=>mt({...Pe,estimated_price:D.target.value}),helpText:"Approximate cost in USD"}),l.jsx(st,{label:"Required",type:"select",value:Pe.is_required?"true":"false",onChange:D=>mt({...Pe,is_required:D.target.value==="true"}),options:[{value:"true",label:"Yes - Required"},{value:"false",label:"No - Optional"}]}),l.jsx(st,{label:"Sort Order",type:"number",value:Pe.sort_order,onChange:D=>mt({...Pe,sort_order:parseInt(D.target.value)||0}),helpText:"Lower numbers appear first"}),Pe.step_num!==null?l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:"Applies To"}),l.jsxs("div",{style:{padding:r.spacing.sm,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx("div",{style:{width:"20px",height:"20px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.primary,color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.bold},children:Pe.step_num}),l.jsxs("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary},children:["Step ",Pe.step_num]})]})]}):l.jsx(st,{label:"Applies To Step",type:"select",value:"",onChange:D=>mt({...Pe,step_num:D.target.value===""?null:parseInt(D.target.value)}),options:[{value:"",label:"All Steps (General)"},...Nr.map(D=>({value:D.step_num.toString(),label:`Step ${D.step_num}`}))],helpText:"Which step this part is needed for"}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>le(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:yr,disabled:!Pe.part_name,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.success,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:Pe.part_name?"pointer":"not-allowed",opacity:Pe.part_name?1:.5,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(mr,{size:16}),"Add Part"]})]})]})}),Me&&l.jsx(ki,{onClose:()=>Ae(!1),title:"Edit Part",children:l.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[l.jsx(st,{label:"Part Name",required:!0,value:Pe.part_name,onChange:D=>mt({...Pe,part_name:D.target.value})}),l.jsx(st,{label:"Part Number",value:Pe.part_number,onChange:D=>mt({...Pe,part_number:D.target.value}),helpText:"Manufacturer part number"}),l.jsx(st,{label:"Description",type:"textarea",value:Pe.part_description,onChange:D=>mt({...Pe,part_description:D.target.value})}),l.jsx(st,{label:"Buy Link (optional)",value:Pe.part_link,onChange:D=>mt({...Pe,part_link:D.target.value}),helpText:"e.g., https://amazon.com/dp/... or www.example.com"}),l.jsx(st,{label:"Estimated Price",type:"number",value:Pe.estimated_price,onChange:D=>mt({...Pe,estimated_price:D.target.value}),helpText:"Approximate cost in USD"}),l.jsx(st,{label:"Required",type:"select",value:Pe.is_required?"true":"false",onChange:D=>mt({...Pe,is_required:D.target.value==="true"}),options:[{value:"true",label:"Yes - Required"},{value:"false",label:"No - Optional"}]}),l.jsx(st,{label:"Sort Order",type:"number",value:Pe.sort_order,onChange:D=>mt({...Pe,sort_order:parseInt(D.target.value)||0}),helpText:"Lower numbers appear first"}),l.jsx(st,{label:"Applies To Step",type:"select",value:Pe.step_num===null?"":Pe.step_num.toString(),onChange:D=>mt({...Pe,step_num:D.target.value===""?null:parseInt(D.target.value)}),options:[{value:"",label:"All Steps"},...Nr.map(D=>({value:D.step_num.toString(),label:`Step ${D.step_num}`}))],helpText:"Which step this part is needed for"}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>Ae(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:Dn,disabled:!Pe.part_name,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.success,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:Pe.part_name?"pointer":"not-allowed",opacity:Pe.part_name?1:.5,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(Ud,{size:16}),"Save Changes"]})]})]})}),We&&Oe&&l.jsx(ki,{onClose:()=>Ke(!1),title:"Delete Part",children:l.jsxs("div",{children:[l.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base},children:['Are you sure you want to delete the part "',l.jsx("strong",{children:Oe.part_name}),'"?']}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>Ke(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:Pn,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(tn,{size:16}),"Delete Part"]})]})]})}),l.jsx("style",{children:`
            @keyframes spin {
              from { transform: rotate(0deg); }
              to { transform: rotate(360deg); }
            }
          `})]})]});function jp(){return l.jsx(ki,{onClose:()=>T(!1),title:"Edit Sequence Metadata",children:l.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[l.jsx(st,{label:"Display Name",required:!0,value:be.displayName,onChange:D=>Ee({...be,displayName:D.target.value})}),l.jsx(st,{label:"Description",required:!0,type:"textarea",value:be.description,onChange:D=>Ee({...be,description:D.target.value})}),l.jsx(st,{label:"Category",required:!0,type:"select",value:be.category,onChange:D=>Ee({...be,category:D.target.value}),options:[{value:"",label:"Select a category..."},{value:"Electrical",label:"Electrical"},{value:"Plumbing",label:"Plumbing"},{value:"HVAC",label:"HVAC"},{value:"Appliances",label:"Appliances"},{value:"Mechanical",label:"Mechanical"},{value:"Other",label:"Other"}]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>T(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:wo,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(Ud,{size:16}),"Save Changes"]})]})]})})}function Qa(){return l.jsx(ki,{onClose:()=>fe(!1),title:"Delete Step",children:l.jsxs("div",{children:[l.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base},children:["Are you sure you want to delete step ",Y?.step_num,"? This cannot be undone."]}),Y?.message_template&&l.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,marginBottom:r.spacing.lg},children:l.jsxs("p",{style:{margin:0,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:[Y.message_template.substring(0,100),Y.message_template.length>100?"...":""]})}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>fe(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:Ot,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(tn,{size:16}),"Delete Step"]})]})]})})}function Za(){return l.jsx(ki,{onClose:()=>re(!1),title:"Delete Sequence",children:l.jsxs("div",{children:[l.jsxs("p",{style:{margin:`0 0 ${r.spacing.md} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base},children:['Are you sure you want to delete the entire sequence "',l.jsx("strong",{children:c?.display_name}),'"?']}),l.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.secondary,fontSize:r.fontSize.base},children:["This will delete all ",Nr.length," step",Nr.length!==1?"s":"",". This action cannot be undone."]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>re(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:_t,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(tn,{size:16}),"Delete Sequence"]})]})]})})}}class NY{validatePattern(t){if(!t)return{isValid:!1,hasDoubleEscaping:!1,errors:["Pattern is required"],warnings:[]};const n=[],i=[];let s=!1;/\\\\[bBdDwWsS]/.test(t)&&(s=!0,i.push("Pattern contains double-escaped sequences (e.g., \\\\b). These should be single-escaped (\\b)."));const d=(t.match(/\[/g)||[]).length,p=(t.match(/\]/g)||[]).length;d!==p&&n.push("Unbalanced brackets in pattern");const m=(t.match(/\(/g)||[]).length,g=(t.match(/\)/g)||[]).length;m!==g&&n.push("Unbalanced parentheses in pattern"),t.includes("\\b")&&!s&&i.push("Pattern uses \\b (word boundary). This will be automatically converted to \\y for PostgreSQL compatibility.");try{new RegExp(t)}catch(h){n.push(`Invalid regex syntax: ${h.message}`)}return{isValid:n.length===0,hasDoubleEscaping:s,errors:n,warnings:i}}fixDoubleEscaping(t){return t&&t.replace(/\\\\b/g,"\\b").replace(/\\\\B/g,"\\B").replace(/\\\\d/g,"\\d").replace(/\\\\D/g,"\\D").replace(/\\\\w/g,"\\w").replace(/\\\\W/g,"\\W").replace(/\\\\s/g,"\\s").replace(/\\\\S/g,"\\S").replace(/\\\\t/g,"\\t").replace(/\\\\n/g,"\\n").replace(/\\\\r/g,"\\r")}convertToPostgresPattern(t){return t&&t.replace(/\\b/g,"\\y").replace(/\\B/g,"\\Y")}prepareForDatabase(t){if(!t)return t;let n=t;this.validatePattern(t).hasDoubleEscaping&&(console.log(" Auto-fixing double-escaped pattern"),n=this.fixDoubleEscaping(n)),console.log(" Converting JavaScript regex to PostgreSQL POSIX regex"),n=this.convertToPostgresPattern(n);const s=this.validatePattern(n);return s.isValid?console.log(" Pattern prepared successfully for PostgreSQL"):console.warn(" Final pattern validation failed:",s.errors),n}getExamples(){return[{name:"Simple word match",input:"\\bdryer\\b",prepared:"\\ydryer\\y",description:'Matches "dryer" as a complete word. Word boundaries (\\b) are automatically converted to PostgreSQL syntax (\\y).'},{name:"Multiple conditions",input:"\\bwater\\b.*\\b(leak|leaking)\\b",prepared:"\\ywater\\y.*\\y(leak|leaking)\\y",description:'Matches "water" followed by "leak" or "leaking". All word boundaries converted automatically.'},{name:"Case variations",input:"\\b(ac|air\\s*conditioning)\\b.*\\b(not\\s*working|broken)\\b",prepared:"\\y(ac|air\\s*conditioning)\\y.*\\y(not\\s*working|broken)\\y",description:"Matches AC or air conditioning with various problem phrases."},{name:"Double-escaped (will be fixed)",input:"\\\\btest\\\\b",prepared:"\\ytest\\y",description:"Double-escaped pattern will be auto-fixed and converted."}]}}const W2=new NY;function LY(){const{user:e,logout:t,hasRole:n}=mn(),[i,s]=x.useState([]),[c,d]=x.useState([]),[p,m]=x.useState(!0),[g,h]=x.useState(""),[v,S]=x.useState(""),[j,k]=x.useState(""),[w,C]=x.useState("priority"),[_,E]=x.useState("asc"),[A,T]=x.useState(!1),[O,P]=x.useState(!1),[R,U]=x.useState(!1),[ee,fe]=x.useState(!1),[de,re]=x.useState(null),[Se,he]=x.useState(null),[ge,F]=x.useState({category_slug:"",pattern:"",flags:"i",priority:100,action_type:"sequence",action_key:"",entry_step_id:"",van_makes:"",years:"",van_versions:"",is_active:!0}),[Y,me]=x.useState({valid:!0,error:null,warning:null});x.useEffect(()=>{be(),Ee()},[]);const be=async()=>{m(!0),h("");try{const J=await fetch("/api/patterns",{credentials:"include"});if(!J.ok)throw new Error("Failed to fetch patterns");const ze=await J.json();s(ze)}catch(J){console.error("Error fetching patterns:",J),h(J.message)}finally{m(!1)}},Ee=async()=>{try{const J=await fetch("/api/sequences",{credentials:"include"});if(!J.ok)throw new Error("Failed to fetch sequences");const ze=await J.json();d(ze)}catch(J){console.error("Error fetching sequences:",J)}},$=()=>{F({category_slug:"",pattern:"",flags:"i",priority:100,action_type:"sequence",action_key:"",entry_step_id:"",van_makes:"",years:"",van_versions:"",is_active:!0}),me({valid:!0,error:null,warning:null})},W=(J,ze)=>{if(!J){me({valid:!0,error:null,warning:null});return}try{new RegExp(J,ze),W2.validatePattern(J).hasDoubleEscaping?me({valid:!0,error:null,warning:"Pattern contains double-escaped sequences (e.g., \\\\b instead of \\b). This may not match as expected in PostgreSQL regex."}):me({valid:!0,error:null,warning:null})}catch(it){me({valid:!1,error:`Invalid regex pattern: ${it.message}`,warning:null})}},L=x.useCallback(()=>{F(J=>{const ze=W2.fixDoubleEscaping(J.pattern);return W(ze,J.flags),{...J,pattern:ze}})},[]),V=x.useCallback(J=>{F(ze=>(W(J,ze.flags),{...ze,pattern:J}))},[]),ne=x.useCallback(J=>{F(ze=>(W(ze.pattern,J),{...ze,flags:J}))},[]),I=x.useCallback((J,ze)=>{F(it=>({...it,[J]:ze}))},[]),X=J=>{S(J),setTimeout(()=>S(""),3e3)},Ce=async()=>{if(!Y.valid){h("Please fix the pattern validation errors before saving");return}try{if(!(await fetch("/api/patterns",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...ge,priority:parseInt(ge.priority),entry_step_id:ge.entry_step_id||null,van_makes:ge.van_makes?ge.van_makes.split(",").map(ze=>ze.trim()):null,years:ge.years?ge.years.split(",").map(ze=>parseInt(ze.trim())):null,van_versions:ge.van_versions?ge.van_versions.split(",").map(ze=>ze.trim()):null})})).ok)throw new Error("Failed to create pattern");await be(),P(!1),$(),X("Pattern created successfully")}catch(J){console.error("Error creating pattern:",J),h("Failed to create pattern")}},N=async()=>{if(!Y.valid){h("Please fix the pattern validation errors before saving");return}try{if(!(await fetch(`/api/patterns/${de.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...ge,priority:parseInt(ge.priority),entry_step_id:ge.entry_step_id||null,van_makes:ge.van_makes?ge.van_makes.split(",").map(ze=>ze.trim()):null,years:ge.years?ge.years.split(",").map(ze=>parseInt(ze.trim())):null,van_versions:ge.van_versions?ge.van_versions.split(",").map(ze=>ze.trim()):null})})).ok)throw new Error("Failed to update pattern");await be(),U(!1),re(null),$(),X("Pattern updated successfully")}catch(J){console.error("Error updating pattern:",J),h("Failed to update pattern")}},ye=async()=>{try{if(!(await fetch(`/api/patterns/${Se.id}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete pattern");await be(),fe(!1),he(null),X("Pattern deleted successfully")}catch(J){console.error("Error deleting pattern:",J),h("Failed to delete pattern")}},oe=async J=>{try{if(!(await fetch(`/api/patterns/${J.id}/toggle`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({is_active:!J.is_active})})).ok)throw new Error("Failed to toggle pattern");await be(),X(`Pattern ${J.is_active?"deactivated":"activated"} successfully`)}catch(ze){console.error("Error toggling pattern:",ze),h("Failed to toggle pattern")}},ue=J=>{re(J);const ze=J.pattern||"",it=J.flags||"i";F({category_slug:J.category_slug||"",pattern:ze,flags:it,priority:J.priority||100,action_type:J.action_type||"sequence",action_key:J.action_key||"",entry_step_id:J.entry_step_id||"",van_makes:J.van_makes?J.van_makes.join(", "):"",years:J.years?J.years.join(", "):"",van_versions:J.van_versions?J.van_versions.join(", "):"",is_active:J.is_active}),W(ze,it),U(!0)},Ne=J=>{he(J),fe(!0)},le=J=>({water:"#3b82f6",generator:"#f59e0b",grooming_equipment:"#8b5cf6",electrical:"#eab308",plumbing:"#06b6d4",hvac:"#ef4444"})[J]||r.colors.accent.primary,Me=J=>J<=10?"#1e3a8a":J<=50?"#3b82f6":"#93c5fd",Ae=J=>c.find(it=>it.sequence_key===J)?.display_name||J,We=J=>{w===J?E(_==="asc"?"desc":"asc"):(C(J),E("asc"))},Ke=()=>{let J=[...i];return j&&(J=J.filter(ze=>ze.pattern.toLowerCase().includes(j.toLowerCase())||ze.category_slug.toLowerCase().includes(j.toLowerCase())||Ae(ze.action_key).toLowerCase().includes(j.toLowerCase()))),A&&(J=J.filter(ze=>ze.is_active)),J.sort((ze,it)=>{let te,H;return w==="priority"?(te=ze.priority,H=it.priority):w==="category"?(te=ze.category_slug,H=it.category_slug):w==="created_at"&&(te=new Date(ze.created_at),H=new Date(it.created_at)),_==="asc"?te>H?1:-1:te<H?1:-1}),J},at=x.useMemo(()=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Priority ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"number",value:ge.priority,onChange:J=>I("priority",J.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}},"priority-field"),l.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(fn,{size:12}),"Lower number = higher priority (matched first)"]})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Category Slug ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"text",value:ge.category_slug,onChange:J=>I("category_slug",J.target.value),placeholder:"e.g., water, generator, grooming_equipment",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Pattern ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("textarea",{value:ge.pattern,onChange:J=>V(J.target.value),placeholder:"e.g., (?i)\\bdryer\\b.*(not|won't).*work",rows:3,style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${Y.valid?r.colors.border.medium:r.colors.accent.danger}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontFamily:"monospace"}},"pattern-field"),Y.error&&l.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(fn,{size:12}),Y.error]}),Y.warning&&l.jsxs("div",{style:{marginTop:r.spacing.xs,padding:r.spacing.sm,backgroundColor:r.colors.accent.warning+"10",borderRadius:r.radius.md,border:`1px solid ${r.colors.accent.warning}40`},children:[l.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.warning,display:"flex",alignItems:"center",gap:r.spacing.xs,marginBottom:r.spacing.xs},children:[l.jsx(fn,{size:12}),Y.warning]}),l.jsxs("button",{onClick:L,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.warning,color:"#ffffff",border:"none",borderRadius:r.radius.sm,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:[l.jsx(mo,{size:12}),"Auto-Fix Pattern"]})]}),!Y.error&&!Y.warning&&l.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(fn,{size:12}),"PostgreSQL regex pattern. Use \\b for word boundaries, \\d for digits, \\s for whitespace."]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Regex Flags"}),l.jsx("input",{type:"text",value:ge.flags,onChange:J=>ne(J.target.value),placeholder:"i",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),l.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(fn,{size:12}),"PostgreSQL regex flags. Use 'i' for case-insensitive matching."]})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Triggers Sequence ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsxs("select",{value:ge.action_key,onChange:J=>I("action_key",J.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[l.jsx("option",{value:"",children:"Select a sequence..."}),c.map(J=>l.jsx("option",{value:J.sequence_key,children:J.display_name||J.sequence_key},J.sequence_key))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Entry Step (Optional)"}),l.jsx("input",{type:"text",value:ge.entry_step_id,onChange:J=>I("entry_step_id",J.target.value),placeholder:"Leave empty to start at step 1",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Van Makes (Optional)"}),l.jsx("input",{type:"text",value:ge.van_makes,onChange:J=>I("van_makes",J.target.value),placeholder:"e.g., Ford, Mercedes, Dodge",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs},children:"Comma-separated list"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Van Versions (Optional)"}),l.jsx("input",{type:"text",value:ge.van_versions,onChange:J=>I("van_versions",J.target.value),placeholder:"e.g., Transit, Sprinter, ProMaster",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs},children:"Comma-separated list"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Years (Optional)"}),l.jsx("input",{type:"text",value:ge.years,onChange:J=>I("years",J.target.value),placeholder:"e.g., 2020, 2021, 2022",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs},children:"Comma-separated list of years"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx("input",{type:"checkbox",id:"is_active",checked:ge.is_active,onChange:J=>I("is_active",J.target.checked),style:{width:"16px",height:"16px"}}),l.jsx("label",{htmlFor:"is_active",style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,cursor:"pointer"},children:"Active"})]})]}),[ge,Y,c,V,ne,L,I]);return p?l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(Cr,{user:e,onLogout:t,hasRole:n}),l.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:l.jsx("div",{style:{textAlign:"center",padding:r.spacing["2xl"]},children:l.jsx("p",{style:{color:r.colors.text.secondary},children:"Loading patterns..."})})})]}):l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(Cr,{user:e,onLogout:t,hasRole:n}),l.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[v&&l.jsx("div",{style:{backgroundColor:r.colors.status.success+"20",color:r.colors.status.success,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.status.success}`},children:v}),g&&l.jsx("div",{style:{backgroundColor:r.colors.accent.danger+"20",color:r.colors.accent.danger,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.accent.danger}`},children:g}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:r.spacing.xl},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[l.jsx(Mc,{size:32,color:r.colors.accent.primary,strokeWidth:2}),l.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Trigger Patterns"})]}),l.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Manage regex patterns that trigger troubleshooting sequences"})]}),l.jsxs("button",{onClick:()=>{$(),P(!0)},style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:J=>J.currentTarget.style.backgroundColor=r.colors.accent.secondary,onMouseLeave:J=>J.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[l.jsx(mr,{size:20}),"Create New Pattern"]})]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.lg,flexWrap:"wrap"},children:[l.jsx("div",{style:{flex:1,minWidth:"300px"},children:l.jsxs("div",{style:{position:"relative"},children:[l.jsx(mi,{size:20,style:{position:"absolute",left:r.spacing.sm,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary}}),l.jsx("input",{type:"text",placeholder:"Search patterns, categories, or sequences...",value:j,onChange:J=>k(J.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.sm} ${r.spacing.sm} 40px`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]})}),l.jsx("button",{onClick:()=>T(!A),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:A?r.colors.accent.primary:"transparent",color:A?"#ffffff":r.colors.text.secondary,border:`1px solid ${A?r.colors.accent.primary:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:A?"Show All":"Active Only"})]}),l.jsx(et,{children:Ke().length===0?l.jsxs("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:[l.jsx(Mc,{size:48,style:{marginBottom:r.spacing.md,opacity:.3}}),l.jsx("p",{style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium},children:"No patterns found"}),l.jsx("p",{style:{fontSize:r.fontSize.sm},children:j||A?"Try adjusting your filters":"Create your first pattern to get started"})]}):l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:`2px solid ${r.colors.border.medium}`},children:[l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,cursor:"pointer"},onClick:()=>We("priority"),children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:["Priority",w==="priority"&&(_==="asc"?l.jsx(Vl,{size:14}):l.jsx(Yl,{size:14}))]})}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Pattern"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,cursor:"pointer"},onClick:()=>We("category"),children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:["Category",w==="category"&&(_==="asc"?l.jsx(Vl,{size:14}):l.jsx(Yl,{size:14}))]})}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Triggers Sequence"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Flags"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Status"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"right",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Actions"})]})}),l.jsx("tbody",{children:Ke().map(J=>l.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.2s"},onMouseEnter:ze=>ze.currentTarget.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:ze=>ze.currentTarget.style.backgroundColor="transparent",children:[l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:Me(J.priority),color:"#ffffff",borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold},children:J.priority})}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("div",{style:{fontFamily:"monospace",fontSize:r.fontSize.sm,color:r.colors.text.primary,maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:J.pattern,children:J.pattern})}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:le(J.category_slug)+"20",color:le(J.category_slug),borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:J.category_slug})}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsxs("a",{href:`/sequences/${J.action_key}`,style:{color:r.colors.accent.primary,textDecoration:"none",display:"flex",alignItems:"center",gap:r.spacing.xs,fontSize:r.fontSize.sm},onMouseEnter:ze=>ze.currentTarget.style.textDecoration="underline",onMouseLeave:ze=>ze.currentTarget.style.textDecoration="none",children:[Ae(J.action_key),l.jsx(Ti,{size:14})]})}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontFamily:"monospace"},children:J.flags||"none"})}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("button",{onClick:()=>oe(J),style:{padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:J.is_active?r.colors.status.success+"20":r.colors.text.tertiary+"20",color:J.is_active?r.colors.status.success:r.colors.text.tertiary,border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:J.is_active?"Active":"Inactive"})}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"right"},children:l.jsxs("div",{style:{display:"flex",gap:r.spacing.xs,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>ue(J),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Edit pattern",children:l.jsx(eu,{size:16})}),l.jsx("button",{onClick:()=>Ne(J),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete pattern",children:l.jsx(tn,{size:16})})]})})]},J.id))})]})})}),O&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>P(!1),children:l.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:J=>J.stopPropagation(),children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Create New Pattern"}),l.jsx("button",{onClick:()=>P(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:l.jsx($t,{size:24})})]}),l.jsxs("div",{style:{padding:r.spacing.xl},children:[at,l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[l.jsx("button",{onClick:Ce,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Create Pattern"}),l.jsx("button",{onClick:()=>P(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),R&&de&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>U(!1),children:l.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:J=>J.stopPropagation(),children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Edit Pattern"}),l.jsx("button",{onClick:()=>U(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:l.jsx($t,{size:24})})]}),l.jsxs("div",{style:{padding:r.spacing.xl},children:[at,l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[l.jsx("button",{onClick:N,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Save Changes"}),l.jsx("button",{onClick:()=>{U(!1),Ne(de)},style:{padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Delete"}),l.jsx("button",{onClick:()=>U(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),ee&&Se&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>fe(!1),children:l.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"500px",padding:r.spacing.xl},onClick:J=>J.stopPropagation(),children:[l.jsx("h2",{style:{margin:0,marginBottom:r.spacing.md,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Delete Pattern?"}),l.jsxs("p",{style:{margin:0,marginBottom:r.spacing.lg,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["Are you sure you want to delete the pattern ",l.jsxs("strong",{style:{fontFamily:"monospace"},children:['"',Se.pattern,'"']}),"?"]}),l.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,marginBottom:r.spacing.lg},children:[l.jsxs("p",{style:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[l.jsx("strong",{children:"Triggers:"})," ",Ae(Se.action_key)]}),l.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[l.jsx("strong",{children:"Category:"})," ",Se.category_slug]})]}),l.jsx("p",{style:{margin:0,marginBottom:r.spacing.xl,color:r.colors.accent.danger,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"This action cannot be undone."}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[l.jsx("button",{onClick:ye,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Delete Pattern"}),l.jsx("button",{onClick:()=>fe(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})})]})]})}const Md=43200,B2=1440,I2=Symbol.for("constructDateFrom");function Mb(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&I2 in e?e[I2](t):e instanceof Date?new e.constructor(t):new Date(t)}function na(e,t){return Mb(e,e)}let WY={};function BY(){return WY}function q2(e){const t=na(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Rb(e,...t){const n=Mb.bind(null,e||t.find(i=>typeof i=="object"));return t.map(n)}function Hd(e,t){const n=+na(e)-+na(t);return n<0?-1:n>0?1:n}function IY(e){return Mb(e,Date.now())}function qY(e,t,n){const[i,s]=Rb(n?.in,e,t),c=i.getFullYear()-s.getFullYear(),d=i.getMonth()-s.getMonth();return c*12+d}function UY(e){return t=>{const i=(e?Math[e]:Math.trunc)(t);return i===0?0:i}}function HY(e,t){return+na(e)-+na(t)}function FY(e,t){const n=na(e);return n.setHours(23,59,59,999),n}function KY(e,t){const n=na(e),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function YY(e,t){const n=na(e);return+FY(n)==+KY(n)}function VY(e,t,n){const[i,s,c]=Rb(n?.in,e,e,t),d=Hd(s,c),p=Math.abs(qY(s,c));if(p<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-d*p);let m=Hd(s,c)===-d;YY(i)&&p===1&&Hd(i,c)===1&&(m=!1);const g=d*(p-+m);return g===0?0:g}function GY(e,t,n){const i=HY(e,t)/1e3;return UY(n?.roundingMethod)(i)}const XY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},QY=(e,t,n)=>{let i;const s=XY[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function my(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ZY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},JY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tV={date:my({formats:ZY,defaultWidth:"full"}),time:my({formats:JY,defaultWidth:"full"}),dateTime:my({formats:eV,defaultWidth:"full"})},rV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nV=(e,t,n,i)=>rV[e];function sc(e){return(t,n)=>{const i=n?.context?String(n.context):"standalone";let s;if(i==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,p=n?.width?String(n.width):d;s=e.formattingValues[p]||e.formattingValues[d]}else{const d=e.defaultWidth,p=n?.width?String(n.width):e.defaultWidth;s=e.values[p]||e.values[d]}const c=e.argumentCallback?e.argumentCallback(t):t;return s[c]}}const iV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uV=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},dV={ordinalNumber:uV,era:sc({values:iV,defaultWidth:"wide"}),quarter:sc({values:oV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:sc({values:aV,defaultWidth:"wide"}),day:sc({values:lV,defaultWidth:"wide"}),dayPeriod:sc({values:sV,defaultWidth:"wide",formattingValues:cV,defaultFormattingWidth:"wide"})};function cc(e){return(t,n={})=>{const i=n.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],c=t.match(s);if(!c)return null;const d=c[0],p=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(p)?pV(p,v=>v.test(d)):fV(p,v=>v.test(d));let g;g=e.valueCallback?e.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const h=t.slice(d.length);return{value:g,rest:h}}}function fV(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function pV(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function gV(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const s=i[0],c=t.match(e.parsePattern);if(!c)return null;let d=e.valueCallback?e.valueCallback(c[0]):c[0];d=n.valueCallback?n.valueCallback(d):d;const p=t.slice(s.length);return{value:d,rest:p}}}const mV=/^(\d+)(th|st|nd|rd)?/i,hV=/\d+/i,yV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xV={any:[/^b/i,/^(a|c)/i]},vV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bV={any:[/1/i,/2/i,/3/i,/4/i]},SV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},CV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_V={ordinalNumber:gV({matchPattern:mV,parsePattern:hV,valueCallback:e=>parseInt(e,10)}),era:cc({matchPatterns:yV,defaultMatchWidth:"wide",parsePatterns:xV,defaultParseWidth:"any"}),quarter:cc({matchPatterns:vV,defaultMatchWidth:"wide",parsePatterns:bV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:cc({matchPatterns:SV,defaultMatchWidth:"wide",parsePatterns:jV,defaultParseWidth:"any"}),day:cc({matchPatterns:wV,defaultMatchWidth:"wide",parsePatterns:CV,defaultParseWidth:"any"}),dayPeriod:cc({matchPatterns:kV,defaultMatchWidth:"any",parsePatterns:zV,defaultParseWidth:"any"})},TV={code:"en-US",formatDistance:QY,formatLong:tV,formatRelative:nV,localize:dV,match:_V,options:{weekStartsOn:0,firstWeekContainsDate:1}};function AV(e,t,n){const i=BY(),s=n?.locale??i.locale??TV,c=2520,d=Hd(e,t);if(isNaN(d))throw new RangeError("Invalid time value");const p=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:d}),[m,g]=Rb(n?.in,...d>0?[t,e]:[e,t]),h=GY(g,m),v=(q2(g)-q2(m))/1e3,S=Math.round((h-v)/60);let j;if(S<2)return n?.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,p):h<10?s.formatDistance("lessThanXSeconds",10,p):h<20?s.formatDistance("lessThanXSeconds",20,p):h<40?s.formatDistance("halfAMinute",0,p):h<60?s.formatDistance("lessThanXMinutes",1,p):s.formatDistance("xMinutes",1,p):S===0?s.formatDistance("lessThanXMinutes",1,p):s.formatDistance("xMinutes",S,p);if(S<45)return s.formatDistance("xMinutes",S,p);if(S<90)return s.formatDistance("aboutXHours",1,p);if(S<B2){const k=Math.round(S/60);return s.formatDistance("aboutXHours",k,p)}else{if(S<c)return s.formatDistance("xDays",1,p);if(S<Md){const k=Math.round(S/B2);return s.formatDistance("xDays",k,p)}else if(S<Md*2)return j=Math.round(S/Md),s.formatDistance("aboutXMonths",j,p)}if(j=VY(g,m),j<12){const k=Math.round(S/Md);return s.formatDistance("xMonths",k,p)}else{const k=j%12,w=Math.trunc(j/12);return k<3?s.formatDistance("aboutXYears",w,p):k<9?s.formatDistance("overXYears",w,p):s.formatDistance("almostXYears",w+1,p)}}function EV(e,t){return AV(e,IY(e),t)}const hc=({currentPage:e,totalPages:t,pageSize:n,totalCount:i,onPageChange:s,onPageSizeChange:c,loading:d=!1,showPageSize:p=!0,className:m,style:g={}})=>{const h=i===0?0:(e-1)*n+1,v=Math.min(e*n,i),j=(()=>{const O=[];if(t<=7)for(let R=1;R<=t;R++)O.push(R);else{O.push(1);let R=Math.max(2,e-1),U=Math.min(t-1,e+1);e<=3&&(U=4),e>=t-2&&(R=t-3),R>2&&O.push("...");for(let ee=R;ee<=U;ee++)O.push(ee);U<t-1&&O.push("..."),t>1&&O.push(t)}return O})(),k=()=>{e>1&&!d&&s(e-1)},w=()=>{e<t&&!d&&s(e+1)},C=()=>{e>1&&!d&&s(1)},_=()=>{e<t&&!d&&s(t)},E=O=>{O!=="..."&&O!==e&&!d&&s(O)},A=O=>{const P=parseInt(O.target.value);c(P)};if(i===0)return null;const T={container:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.lg} ${r.spacing.xl}`,borderTop:`1px solid ${r.colors.border.light}`,backgroundColor:r.colors.background.secondary,flexWrap:"wrap",gap:r.spacing.lg,...g},info:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,minWidth:"200px"},infoHighlight:{fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},nav:{display:"flex",alignItems:"center",gap:r.spacing.xs,flex:1,justifyContent:"center"},navButton:O=>({display:"flex",alignItems:"center",justifyContent:"center",padding:r.spacing.sm,minWidth:"36px",height:"36px",backgroundColor:O?r.colors.background.tertiary:r.colors.background.secondary,color:O?r.colors.text.tertiary:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:O?"not-allowed":"pointer",transition:r.transitions.fast,opacity:O?.5:1}),pageButton:O=>({display:"flex",alignItems:"center",justifyContent:"center",padding:r.spacing.sm,minWidth:"36px",height:"36px",backgroundColor:O?r.colors.accent.primary:r.colors.background.secondary,color:O?r.colors.text.inverse:r.colors.text.primary,border:`1px solid ${O?r.colors.accent.primary:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:O?r.fontWeight.semibold:r.fontWeight.medium,cursor:d?"not-allowed":"pointer",transition:r.transitions.fast}),ellipsis:{padding:r.spacing.sm,color:r.colors.text.tertiary,fontSize:r.fontSize.sm,minWidth:"36px",textAlign:"center"},pageSizeContainer:{display:"flex",alignItems:"center",gap:r.spacing.sm,minWidth:"150px",justifyContent:"flex-end"},pageSizeLabel:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,whiteSpace:"nowrap"},pageSizeSelect:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:d?"not-allowed":"pointer",outline:"none"}};return l.jsxs("div",{className:m,style:T.container,children:[l.jsxs("div",{style:T.info,children:["Showing"," ",l.jsxs("span",{style:T.infoHighlight,children:[h,"-",v]})," ","of"," ",l.jsx("span",{style:T.infoHighlight,children:i.toLocaleString()})," ","items"]}),l.jsxs("div",{style:T.nav,children:[t>5&&l.jsx("button",{onClick:C,disabled:e===1||d,style:T.navButton(e===1||d),title:"First page",children:l.jsx(tK,{size:16})}),l.jsx("button",{onClick:k,disabled:e===1||d,style:T.navButton(e===1||d),title:"Previous page",children:l.jsx(QF,{size:16})}),j.map((O,P)=>{if(O==="...")return l.jsx("span",{style:T.ellipsis,children:"..."},`ellipsis-${P}`);const R=O===e;return l.jsx("button",{onClick:()=>E(O),disabled:d,style:T.pageButton(R),onMouseEnter:U=>{!R&&!d&&(U.currentTarget.style.backgroundColor=r.colors.background.tertiary,U.currentTarget.style.borderColor=r.colors.border.medium)},onMouseLeave:U=>{!R&&!d&&(U.currentTarget.style.backgroundColor=r.colors.background.secondary,U.currentTarget.style.borderColor=r.colors.border.light)},children:O},O)}),l.jsx("button",{onClick:w,disabled:e===t||d,style:T.navButton(e===t||d),title:"Next page",children:l.jsx(VE,{size:16})}),t>5&&l.jsx("button",{onClick:_,disabled:e===t||d,style:T.navButton(e===t||d),title:"Last page",children:l.jsx(nK,{size:16})})]}),p&&l.jsxs("div",{style:T.pageSizeContainer,children:[l.jsx("label",{htmlFor:"pageSize",style:T.pageSizeLabel,children:"Per page:"}),l.jsxs("select",{id:"pageSize",value:n,onChange:A,disabled:d,style:T.pageSizeSelect,children:[l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:25,children:"25"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]})]})},sO=x.createContext(null);let OV=0;const MV=({children:e})=>{const[t,n]=x.useState([]),i=x.useCallback(d=>{n(p=>p.filter(m=>m.id!==d))},[]),s=x.useCallback((d,p="info",m=3e3)=>{const g=OV++,h={id:g,message:d,type:p,duration:m};return n(v=>[...v,h]),m>0&&setTimeout(()=>{i(g)},m),g},[i]),c={showToast:s,success:(d,p)=>s(d,"success",p),error:(d,p)=>s(d,"error",p),warning:(d,p)=>s(d,"warning",p),info:(d,p)=>s(d,"info",p),removeToast:i};return l.jsxs(sO.Provider,{value:c,children:[e,l.jsx(RV,{toasts:t,removeToast:i})]})},RV=({toasts:e,removeToast:t})=>l.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 pointer-events-none",children:e.map(n=>l.jsx(DV,{toast:n,onClose:()=>t(n.id)},n.id))}),DV=({toast:e,onClose:t})=>{const{message:n,type:i}=e,c=(()=>{switch(i){case"success":return{icon:Ft,bgColor:"bg-green-50",borderColor:"border-green-500",iconColor:"text-green-600",textColor:"text-green-900"};case"error":return{icon:Oc,bgColor:"bg-red-50",borderColor:"border-red-500",iconColor:"text-red-600",textColor:"text-red-900"};case"warning":return{icon:hi,bgColor:"bg-yellow-50",borderColor:"border-yellow-500",iconColor:"text-yellow-600",textColor:"text-yellow-900"};case"info":default:return{icon:JE,bgColor:"bg-blue-50",borderColor:"border-blue-500",iconColor:"text-blue-600",textColor:"text-blue-900"}}})(),d=c.icon;return l.jsxs("div",{className:`${c.bgColor} ${c.borderColor} border-l-4 rounded-lg shadow-lg p-4 flex items-start gap-3 min-w-[300px] max-w-md pointer-events-auto animate-slide-in`,role:"alert",children:[l.jsx(d,{className:`w-5 h-5 ${c.iconColor} flex-shrink-0 mt-0.5`}),l.jsx("p",{className:`${c.textColor} text-sm font-medium flex-1`,children:n}),l.jsx("button",{onClick:t,className:`${c.iconColor} hover:opacity-70 transition-opacity flex-shrink-0`,"aria-label":"Close notification",children:l.jsx($t,{className:"w-4 h-4"})})]})},bp=()=>{const e=x.useContext(sO);if(!e)throw new Error("useToast must be used within a ToastProvider");return e};if(typeof document<"u"){const e="toast-animations";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.textContent=`
      @keyframes slide-in {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      .animate-slide-in {
        animation: slide-in 0.3s ease-out;
      }
    `,document.head.appendChild(t)}}const uc="",PV=3e4,$V=500,NV=()=>{const e=Ri(),{showToast:t}=bp(),{user:n,logout:i,hasRole:s}=mn(),[c,d]=Bf(),[p,m]=x.useState(c.get("tab")||"active"),[g,h]=x.useState([]),[v,S]=x.useState([]),[j,k]=x.useState(!0),[w,C]=x.useState(null),[_,E]=x.useState(!1),[A,T]=x.useState(null),[O,P]=x.useState(!1),[R,U]=x.useState(parseInt(c.get("unassignedPage"))||1),[ee,fe]=x.useState(parseInt(c.get("unassignedLimit"))||25),[de,re]=x.useState(null),[Se,he]=x.useState(parseInt(c.get("myTicketsPage"))||1),[ge,F]=x.useState(parseInt(c.get("myTicketsLimit"))||25),[Y,me]=x.useState(null),[be,Ee]=x.useState(""),[$,W]=x.useState("priority"),[L,V]=x.useState(""),[ne,I]=x.useState("last_activity"),[X,Ce]=x.useState("all"),[N,ye]=x.useState([]),[oe,ue]=x.useState(parseInt(c.get("closedPage"))||1),[Ne,le]=x.useState(parseInt(c.get("closedLimit"))||25),[Me,Ae]=x.useState(null),[We,Ke]=x.useState(!1),[at,J]=x.useState(c.get("closedStatus")||"all"),[ze,it]=x.useState(c.get("closedSearch")||""),[te,H]=x.useState(c.get("closedSearch")||""),[Oe,Fe]=x.useState(c.get("closedDateFrom")||""),[Be,Qe]=x.useState(c.get("closedDateTo")||""),[Pe,mt]=x.useState(c.get("closedSort")||"closed_date"),[lr]=x.useState("desc"),Xr=x.useRef(null),sr=x.useCallback(async(G=!1)=>{try{G?E(!0):k(!0);const[Re,He]=await Promise.all([fetch(`${uc}/api/tickets/unassigned?page=${R}&limit=${ee}`,{credentials:"include"}),fetch(`${uc}/api/tickets/my-tickets?page=${Se}&limit=${ge}`,{credentials:"include"})]);if(!Re.ok||!He.ok)throw new Error("Failed to fetch tickets");const Ve=await Re.json(),Tt=await He.json();console.log("=== UNASSIGNED TICKETS DATA ==="),console.log("Pagination:",Ve.pagination),console.log("Tickets:",Ve.tickets?.length||0),console.log("=== MY TICKETS DATA ==="),console.log("Pagination:",Tt.pagination),console.log("Tickets:",Tt.tickets?.length||0),h(Ve.tickets||[]),re(Ve.pagination),S(Tt.tickets||[]),me(Tt.pagination)}catch(Re){console.error("Error fetching tickets:",Re),t("Failed to load tickets","error")}finally{k(!1),E(!1)}},[t,R,ee,Se,ge]),xt=x.useCallback(async(G=!1)=>{try{G?E(!0):Ke(!0);const Re=new URLSearchParams;Re.set("page",oe.toString()),Re.set("limit",Ne.toString()),Re.set("sortBy",Pe),Re.set("sortOrder",lr),at&&at!=="all"&&Re.set("status",at),ze&&Re.set("search",ze),Oe&&Re.set("dateFrom",Oe),Be&&Re.set("dateTo",Be);const He=await fetch(`${uc}/api/tickets/closed?${Re.toString()}`,{credentials:"include"});if(!He.ok)throw new Error("Failed to fetch closed tickets");const Ve=await He.json();console.log("=== CLOSED TICKETS DATA ==="),console.log("Pagination:",Ve.pagination),console.log("Tickets:",Ve.tickets?.length||0),ye(Ve.tickets||[]),Ae(Ve.pagination)}catch(Re){console.error("Error fetching closed tickets:",Re),t("Failed to load closed tickets","error")}finally{Ke(!1),E(!1)}},[t,oe,Ne,at,ze,Oe,Be,Pe,lr]);x.useEffect(()=>(Xr.current&&clearTimeout(Xr.current),Xr.current=setTimeout(()=>{it(te),te!==ze&&ue(1)},$V),()=>{Xr.current&&clearTimeout(Xr.current)}),[te]),x.useEffect(()=>{p==="active"?sr():p==="closed"&&xt()},[p,sr,xt]),x.useEffect(()=>{const G=setInterval(()=>{p==="active"?sr(!0):p==="closed"&&xt(!0)},PV);return()=>clearInterval(G)},[p,sr,xt]),x.useEffect(()=>{const G=new URLSearchParams(c);p!=="active"?G.set("tab",p):G.delete("tab"),p==="closed"&&(oe!==1?G.set("closedPage",oe.toString()):G.delete("closedPage"),Ne!==25?G.set("closedLimit",Ne.toString()):G.delete("closedLimit"),at&&at!=="all"?G.set("closedStatus",at):G.delete("closedStatus"),ze?G.set("closedSearch",ze):G.delete("closedSearch"),Oe?G.set("closedDateFrom",Oe):G.delete("closedDateFrom"),Be?G.set("closedDateTo",Be):G.delete("closedDateTo"),Pe&&Pe!=="closed_date"?G.set("closedSort",Pe):G.delete("closedSort")),d(G,{replace:!0})},[p,oe,Ne,at,ze,Oe,Be,Pe,c,d]);const ir=async(G,Re)=>{C(G);try{if(!(await fetch(`${uc}/api/tickets/${G}/assign`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})})).ok)throw new Error("Failed to assign ticket");t(`Ticket #${Re} assigned to you`,"success"),await sr()}catch(He){console.error("Error assigning ticket:",He),t("Failed to assign ticket","error")}finally{C(null)}},xe=()=>{p==="active"?sr(!0):p==="closed"&&xt(!0)},Ye=x.useCallback((G,Re)=>{T(Re.ticket_id),G.dataTransfer.setData("text/plain",JSON.stringify({ticketId:Re.ticket_id,ticketNumber:Re.ticket_number})),G.dataTransfer.effectAllowed="move"},[]),Et=x.useCallback(()=>{T(null),P(!1)},[]),Or=x.useCallback(G=>{G.preventDefault(),G.dataTransfer.dropEffect="move"},[]),Yt=x.useCallback(G=>{G.preventDefault(),P(!0)},[]),ht=x.useCallback(G=>{const Re=G.currentTarget,He=G.relatedTarget;Re.contains(He)||P(!1)},[]),Z=x.useCallback(async G=>{G.preventDefault(),P(!1),T(null);let Re;try{const At=G.dataTransfer.getData("text/plain");if(!At)return;Re=JSON.parse(At)}catch{return}if(!Re||typeof Re.ticketId>"u"||typeof Re.ticketNumber>"u")return;const He=String(Re.ticketId),Ve=String(Re.ticketNumber),Tt=g.find(At=>String(At.ticket_id)===He);if(!Tt){t("Ticket not found","error");return}C(He);try{const At=await fetch(`${uc}/api/tickets/${He}/assign-to-me`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(At.status===409){t(`Ticket #${Ve} is already assigned to another user`,"warning"),await sr();return}if(!At.ok)throw new Error("Failed to assign ticket");const rt=await At.json();h(kr=>kr.filter($n=>String($n.ticket_id)!==He));const Ct={...Tt,assigned_to:n?.id,assigned_to_name:n?.name||n?.username,status:rt.ticket?.status||"assigned"};S(kr=>[Ct,...kr]),re(kr=>kr&&{...kr,totalCount:Math.max(0,(kr.totalCount||1)-1)}),me(kr=>kr&&{...kr,totalCount:(kr.totalCount||0)+1}),t(`Ticket #${Ve} assigned to you`,"success")}catch(At){console.error("Error assigning ticket via drag and drop:",At),t("Failed to assign ticket","error")}finally{C(null)}},[g,n,t,h,S,re,me]),ke=G=>{e(`/tickets/${G}`)},qe=G=>{m(G)},zt=G=>{U(G);const Re=new URLSearchParams(c);Re.set("unassignedPage",G.toString()),d(Re),window.scrollTo({top:0,behavior:"smooth"})},yr=G=>{fe(G),U(1);const Re=new URLSearchParams(c);Re.set("unassignedLimit",G.toString()),Re.set("unassignedPage","1"),d(Re)},Dn=G=>{he(G);const Re=new URLSearchParams(c);Re.set("myTicketsPage",G.toString()),d(Re);const He=document.getElementById("my-tickets-section");He&&He.scrollIntoView({behavior:"smooth",block:"start"})},Pn=G=>{F(G),he(1);const Re=new URLSearchParams(c);Re.set("myTicketsLimit",G.toString()),Re.set("myTicketsPage","1"),d(Re)},nn=G=>{ue(G),window.scrollTo({top:0,behavior:"smooth"})},ca=G=>{le(G),ue(1)},wo=()=>{H(""),it(""),J("all"),Fe(""),Qe(""),mt("closed_date"),ue(1)},ii=te||at!=="all"||Oe||Be||Pe!=="closed_date",B=G=>({open:{color:"blue",icon:Tn,label:"Open"},assigned:{color:"purple",icon:mc,label:"Assigned"},in_progress:{color:"yellow",icon:mo,label:"In Progress"},waiting_customer:{color:"orange",icon:zi,label:"Waiting Customer"},resolved:{color:"green",icon:Ft,label:"Resolved"},closed:{color:"gray",icon:$t,label:"Closed"},cancelled:{color:"red",icon:Oc,label:"Cancelled"}})[G]||{color:"gray",icon:Tn,label:G},Te=G=>({urgent:{color:"red",icon:hi,label:"Urgent"},high:{color:"orange",icon:Vl,label:"High"},normal:{color:"blue",icon:Ka,label:"Normal"},low:{color:"gray",icon:Yl,label:"Low"}})[G]||{color:"gray",icon:Ka,label:G},Ot=G=>G?{high:{color:"red",label:"High"},medium:{color:"yellow",label:"Medium"},low:{color:"green",label:"Low"}}[G]||{color:"gray",label:G}:null,_t=G=>{if(!G)return"N/A";const Re=new Date(G),Ve=new Date-Re,Tt=Math.floor(Ve/6e4),At=Math.floor(Ve/36e5),rt=Math.floor(Ve/864e5);return Tt<1?"Just now":Tt<60?`${Tt} min${Tt>1?"s":""} ago`:At<24?`${At} hour${At>1?"s":""} ago`:rt<7?`${rt} day${rt>1?"s":""} ago`:Re.toLocaleDateString()},dt=G=>{if(!G)return"N/A";try{const Re=new Date(G);return EV(Re,{addSuffix:!0})}catch{return"N/A"}},wt=(G,Re)=>G?G.length>Re?`${G.substring(0,Re)}...`:G:"",It=()=>{let G=g.filter(He=>{const Ve=be.toLowerCase();return He.ticket_number?.toString().includes(Ve)||He.subject?.toLowerCase().includes(Ve)||He.customer_name?.toLowerCase().includes(Ve)||He.customer_phone?.includes(Ve)});const Re={urgent:0,high:1,normal:2,low:3};return G.sort((He,Ve)=>{if($==="priority"){const Tt=(Re[He.priority]||999)-(Re[Ve.priority]||999);return Tt!==0?Tt:new Date(He.created_at)-new Date(Ve.created_at)}else{if($==="created")return new Date(Ve.created_at)-new Date(He.created_at);if($==="customer")return(He.customer_name||"").localeCompare(Ve.customer_name||"")}return 0}),G},tt=()=>{let G=v.filter(He=>{if(X!=="all"&&He.status!==X)return!1;const Ve=L.toLowerCase();return He.ticket_number?.toString().includes(Ve)||He.subject?.toLowerCase().includes(Ve)});const Re={urgent:0,high:1,normal:2,low:3};return G.sort((He,Ve)=>ne==="last_activity"?new Date(Ve.updated_at||Ve.created_at)-new Date(He.updated_at||He.created_at):ne==="status"?(He.status||"").localeCompare(Ve.status||""):ne==="priority"?(Re[He.priority]||999)-(Re[Ve.priority]||999):0),G},Vt=It(),oi=tt(),bi=()=>l.jsxs("tr",{className:"animate-pulse",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-48"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"})})]}),Pi=()=>l.jsxs("tr",{className:"animate-pulse",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-48"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-28"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})})]}),ua=G=>({display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.xl}`,backgroundColor:G?r.colors.accent.primary:"transparent",border:G?"none":`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:G?r.colors.text.inverse:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,cursor:"pointer",transition:r.transitions.normal});return l.jsxs("div",{className:"flex min-h-screen",style:{backgroundColor:r.colors.background.page},children:[l.jsx("div",{role:"status","aria-live":"polite",className:"sr-only",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",overflow:"hidden"},children:A?"Dragging ticket. Drop on My Tickets section to assign it to yourself.":""}),l.jsx(Cr,{user:n,onLogout:i,hasRole:s}),l.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"],position:"relative",zIndex:1},children:[l.jsx("div",{style:{marginBottom:r.spacing["2xl"]},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.accent.primary,borderRadius:r.radius.lg},children:l.jsx(so,{size:24,style:{color:r.colors.text.inverse}})}),l.jsxs("div",{children:[l.jsx("h1",{style:{fontSize:r.fontSize["3xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0,lineHeight:r.lineHeight.tight},children:"Support Tickets"}),l.jsx("p",{style:{marginTop:r.spacing.xs,marginBottom:0,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"Manage and track customer support tickets"})]})]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[l.jsxs("button",{onClick:xe,disabled:_,style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:_?"not-allowed":"pointer",opacity:_?.5:1,transition:r.transitions.fast,height:"40px",boxSizing:"border-box"},onMouseEnter:G=>!_&&(G.currentTarget.style.backgroundColor=r.colors.background.tertiary),onMouseLeave:G=>G.currentTarget.style.backgroundColor=r.colors.background.secondary,children:[l.jsx(Ob,{size:18,className:_?"animate-spin":""}),"Refresh"]}),l.jsxs("button",{onClick:()=>e("/tickets/new"),style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,border:"none",borderRadius:r.radius.md,color:r.colors.text.inverse,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",boxShadow:r.shadows.sm,transition:r.transitions.fast,height:"40px",boxSizing:"border-box"},onMouseEnter:G=>G.currentTarget.style.backgroundColor=r.colors.accent.primaryHover,onMouseLeave:G=>G.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[l.jsx(mr,{size:18}),"Create New Ticket"]})]})]})}),l.jsxs("div",{role:"tablist",style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl,marginBottom:r.spacing.xl},children:[l.jsxs("button",{role:"tab","aria-selected":p==="active","aria-controls":"active-tab-panel",id:"active-tab",onClick:()=>qe("active"),style:ua(p==="active"),onMouseEnter:G=>{p!=="active"&&(G.currentTarget.style.backgroundColor=r.colors.background.hover)},onMouseLeave:G=>{p!=="active"&&(G.currentTarget.style.backgroundColor="transparent")},children:[l.jsx(so,{size:18}),"Active Tickets",(de?.totalCount||0)+(Y?.totalCount||0)>0&&l.jsx(Je,{color:"blue",style:{marginLeft:"4px"},children:(de?.totalCount||0)+(Y?.totalCount||0)})]}),l.jsxs("button",{role:"tab","aria-selected":p==="closed","aria-controls":"closed-tab-panel",id:"closed-tab",onClick:()=>qe("closed"),style:ua(p==="closed"),onMouseEnter:G=>{p!=="closed"&&(G.currentTarget.style.backgroundColor=r.colors.background.hover)},onMouseLeave:G=>{p!=="closed"&&(G.currentTarget.style.backgroundColor="transparent")},children:[l.jsx(D2,{size:18}),"Closed Tickets",Me?.totalCount>0&&l.jsx(Je,{color:"gray",style:{marginLeft:"4px"},children:Me.totalCount})]})]}),p==="active"&&l.jsxs("div",{role:"tabpanel",id:"active-tab-panel","aria-labelledby":"active-tab",children:[l.jsxs(et,{style:{marginBottom:r.spacing["2xl"]},children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.lg},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Unassigned Tickets"}),l.jsx(Je,{color:"blue",children:de?.totalCount||0})]}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:'Drag tickets to "My Tickets" to assign'})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsxs("div",{style:{flex:1,position:"relative",minWidth:"200px"},children:[l.jsx(mi,{size:16,style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"},"aria-hidden":"true"}),l.jsx("input",{type:"text",id:"unassigned-search","aria-label":"Search unassigned tickets by ticket number, customer name, or phone",placeholder:"Search tickets, customer name, or phone",value:be,onChange:G=>Ee(G.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,lineHeight:r.lineHeight.normal,outline:"none",transition:r.transitions.fast,height:"38px",boxSizing:"border-box"}})]}),l.jsxs("select",{id:"unassigned-sort","aria-label":"Sort unassigned tickets",value:$,onChange:G=>W(G.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none",minWidth:"180px",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[l.jsx("option",{value:"priority",children:"Sort by Priority"}),l.jsx("option",{value:"created",children:"Sort by Created Date"}),l.jsx("option",{value:"customer",children:"Sort by Customer Name"})]})]})]}),l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`1px solid ${r.colors.border.light}`},children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"120px",width:"120px"},children:"Ticket #"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"300px"},children:"Subject"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Priority"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Urgency"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Customer"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Created"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Actions"})]})}),l.jsx("tbody",{style:{backgroundColor:r.colors.background.secondary},children:j?l.jsxs(l.Fragment,{children:[l.jsx(bi,{}),l.jsx(bi,{}),l.jsx(bi,{})]}):Vt.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",style:{padding:0},children:l.jsxs("div",{style:{textAlign:"center",padding:`${r.spacing["2xl"]} ${r.spacing.lg}`,backgroundColor:r.colors.background.primary},children:[l.jsx(BK,{size:48,style:{color:r.colors.border.medium,margin:"0 auto",marginBottom:r.spacing.md}}),l.jsx("p",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:"No unassigned tickets"}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"All tickets are assigned!"})]})})}):Vt.map((G,Re)=>{const He=Te(G.priority),Ve=Ot(G.urgency),Tt=He.icon,At=G.unread_customer_comments>0,rt=A===G.ticket_id;return l.jsxs("tr",{draggable:"true",onDragStart:Ct=>Ye(Ct,G),onDragEnd:Et,onClick:()=>ke(G.ticket_id),onKeyDown:Ct=>{(Ct.key==="Enter"||Ct.key===" ")&&(Ct.preventDefault(),ke(G.ticket_id))},tabIndex:0,"aria-label":`View ticket ${G.ticket_number}. Drag to My Tickets to assign.`,style:{cursor:rt?"grabbing":"grab",transition:r.transitions.fast,borderBottom:Re<Vt.length-1?`1px solid ${r.colors.border.light}`:"none",opacity:rt?.5:1,backgroundColor:rt?r.colors.background.tertiary:"transparent"},onMouseEnter:Ct=>{rt||(Ct.currentTarget.style.backgroundColor=r.colors.background.hover)},onMouseLeave:Ct=>{rt||(Ct.currentTarget.style.backgroundColor="transparent")},children:[l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",minWidth:"120px",width:"120px"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(bK,{size:16,style:{color:rt?r.colors.accent.primary:r.colors.text.tertiary,flexShrink:0,cursor:"grab"},"aria-hidden":"true"}),l.jsxs("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.bold,color:r.colors.accent.info},children:["#",G.ticket_number]}),At&&l.jsx("span",{style:{width:"8px",height:"8px",backgroundColor:r.colors.accent.warning,borderRadius:r.radius.full},title:"Unread customer comments"})]})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,minWidth:"300px"},children:l.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:wt(G.subject,60)})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:l.jsxs(Je,{color:He.color,children:[l.jsx(Tt,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),He.label]})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:Ve?l.jsx(Je,{color:Ve.color,children:Ve.label}):l.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"N/A"})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`},children:l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:G.customer_name||"N/A"}),l.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:G.customer_phone||"No phone"})]})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:_t(G.created_at)}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},onClick:Ct=>Ct.stopPropagation(),children:l.jsxs("button",{onClick:()=>ir(G.ticket_id,G.ticket_number),disabled:w===G.ticket_id,style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,border:"none",borderRadius:r.radius.md,cursor:w===G.ticket_id?"not-allowed":"pointer",opacity:w===G.ticket_id?.5:1,transition:r.transitions.fast},onMouseEnter:Ct=>{w!==G.ticket_id&&(Ct.currentTarget.style.backgroundColor=r.colors.accent.primaryHover)},onMouseLeave:Ct=>{Ct.currentTarget.style.backgroundColor=r.colors.accent.primary},children:[l.jsx(SY,{size:16}),w===G.ticket_id?"Assigning...":"Assign to Me"]})})]},G.ticket_id)})})]})}),de&&de.totalCount>0&&l.jsx(hc,{currentPage:de.page,totalPages:de.totalPages,pageSize:de.limit,totalCount:de.totalCount,onPageChange:zt,onPageSizeChange:yr,loading:j||_})]}),l.jsxs(et,{id:"my-tickets-section","aria-dropeffect":A?"move":"none",onDragOver:Or,onDragEnter:Yt,onDragLeave:ht,onDrop:Z,style:{transition:r.transitions.normal,border:O?`2px dashed ${r.colors.accent.primary}`:`1px solid ${r.colors.border.light}`,backgroundColor:O?r.colors.accent.primaryLight:r.colors.background.secondary,boxShadow:O?r.shadows.md:r.shadows.sm},children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.lg},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"My Tickets"}),l.jsx(Je,{color:"purple",children:Y?.totalCount||0}),O&&l.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.accent.primary,fontWeight:r.fontWeight.medium},children:"Drop to assign"})]}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:A?"Drop ticket here to assign to yourself":"Tickets assigned to you"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsxs("div",{style:{flex:1,position:"relative",minWidth:"200px"},children:[l.jsx(mi,{size:16,style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"},"aria-hidden":"true"}),l.jsx("input",{type:"text",id:"my-tickets-search","aria-label":"Search my assigned tickets",placeholder:"Search tickets, customer name, or phone",value:L,onChange:G=>V(G.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,lineHeight:r.lineHeight.normal,outline:"none",transition:r.transitions.fast,height:"38px",boxSizing:"border-box"}})]}),l.jsxs("select",{id:"my-tickets-status-filter","aria-label":"Filter my tickets by status",value:X,onChange:G=>Ce(G.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none",minWidth:"150px",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[l.jsx("option",{value:"all",children:"All Statuses"}),l.jsx("option",{value:"open",children:"Open"}),l.jsx("option",{value:"assigned",children:"Assigned"}),l.jsx("option",{value:"in_progress",children:"In Progress"}),l.jsx("option",{value:"waiting_customer",children:"Waiting Customer"}),l.jsx("option",{value:"resolved",children:"Resolved"})]}),l.jsxs("select",{id:"my-tickets-sort","aria-label":"Sort my tickets",value:ne,onChange:G=>I(G.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none",minWidth:"180px",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[l.jsx("option",{value:"last_activity",children:"Sort by Last Activity"}),l.jsx("option",{value:"status",children:"Sort by Status"}),l.jsx("option",{value:"priority",children:"Sort by Priority"})]})]})]}),l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`1px solid ${r.colors.border.light}`},children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"100px",width:"100px"},children:"Ticket #"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"300px"},children:"Subject"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Status"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Priority"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Customer"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Last Activity"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Unread"})]})}),l.jsx("tbody",{style:{backgroundColor:r.colors.background.secondary},children:j?l.jsxs(l.Fragment,{children:[l.jsx(bi,{}),l.jsx(bi,{}),l.jsx(bi,{})]}):oi.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",style:{padding:0},children:l.jsxs("div",{style:{textAlign:"center",padding:`${r.spacing["2xl"]} ${r.spacing.lg}`,backgroundColor:r.colors.background.primary},children:[l.jsx(so,{size:48,style:{color:r.colors.border.medium,margin:"0 auto",marginBottom:r.spacing.md}}),l.jsx("p",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:"No tickets assigned to you"}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"Assign tickets from the queue above"})]})})}):oi.map((G,Re)=>{const He=B(G.status),Ve=Te(G.priority),Tt=He.icon,At=Ve.icon,rt=G.unread_customer_comments>0;return l.jsxs("tr",{onClick:()=>ke(G.ticket_id),onKeyDown:Ct=>{(Ct.key==="Enter"||Ct.key===" ")&&(Ct.preventDefault(),ke(G.ticket_id))},tabIndex:0,"aria-label":`View ticket ${G.ticket_number}`,style:{cursor:"pointer",transition:r.transitions.fast,backgroundColor:rt?r.colors.accent.warningLight:"transparent",borderBottom:Re<oi.length-1?`1px solid ${r.colors.border.light}`:"none"},onMouseEnter:Ct=>Ct.currentTarget.style.backgroundColor=rt?r.colors.accent.warningLight:r.colors.background.hover,onMouseLeave:Ct=>Ct.currentTarget.style.backgroundColor=rt?r.colors.accent.warningLight:"transparent",children:[l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",minWidth:"100px",width:"100px"},children:l.jsxs("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.bold,color:r.colors.accent.info},children:["#",G.ticket_number]})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,minWidth:"300px"},children:l.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:wt(G.subject,60)})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:l.jsxs(Je,{color:He.color,children:[l.jsx(Tt,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),He.label]})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:l.jsxs(Je,{color:Ve.color,children:[l.jsx(At,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),Ve.label]})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`},children:l.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary},children:G.customer_name||"N/A"})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:_t(G.updated_at||G.created_at)}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:rt&&l.jsx(Je,{color:"orange",children:G.unread_customer_comments})})]},G.ticket_id)})})]})}),Y&&Y.totalCount>0&&l.jsx(hc,{currentPage:Y.page,totalPages:Y.totalPages,pageSize:Y.limit,totalCount:Y.totalCount,onPageChange:Dn,onPageSizeChange:Pn,loading:j||_})]})]}),p==="closed"&&l.jsxs("div",{role:"tabpanel",id:"closed-tab-panel","aria-labelledby":"closed-tab",children:[We&&l.jsx("div",{role:"status","aria-live":"polite",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",overflow:"hidden"},children:"Loading closed tickets..."}),l.jsxs(et,{children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.lg},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Closed Tickets"}),l.jsx(Je,{color:"gray",children:Me?.totalCount||0})]}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:"Resolved, closed, and cancelled tickets"})]}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.md,alignItems:"flex-end"},children:[l.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[l.jsx("label",{htmlFor:"closed-tickets-search",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Search"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(mi,{size:16,"aria-hidden":"true",style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"}}),l.jsx("input",{type:"text",id:"closed-tickets-search",placeholder:"Ticket #, subject, or customer",value:te,onChange:G=>H(G.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,lineHeight:r.lineHeight.normal,outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast}})]})]}),l.jsxs("div",{style:{minWidth:"140px"},children:[l.jsx("label",{htmlFor:"closed-status-filter",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Status"}),l.jsxs("select",{id:"closed-status-filter",value:at,onChange:G=>{J(G.target.value),ue(1)},style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[l.jsx("option",{value:"all",children:"All Closed"}),l.jsx("option",{value:"resolved",children:"Resolved"}),l.jsx("option",{value:"closed",children:"Closed"}),l.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),l.jsxs("div",{style:{minWidth:"150px"},children:[l.jsx("label",{htmlFor:"closed-date-from",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Date From"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(mx,{size:16,"aria-hidden":"true",style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"}}),l.jsx("input",{type:"date",id:"closed-date-from",value:Oe,onChange:G=>{Fe(G.target.value),ue(1)},style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast}})]})]}),l.jsxs("div",{style:{minWidth:"150px"},children:[l.jsx("label",{htmlFor:"closed-date-to",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Date To"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(mx,{size:16,"aria-hidden":"true",style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"}}),l.jsx("input",{type:"date",id:"closed-date-to",value:Be,onChange:G=>{Qe(G.target.value),ue(1)},style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast}})]})]}),l.jsxs("div",{style:{minWidth:"150px"},children:[l.jsx("label",{htmlFor:"closed-sort-by",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Sort By"}),l.jsxs("select",{id:"closed-sort-by",value:Pe,onChange:G=>{mt(G.target.value),ue(1)},style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[l.jsx("option",{value:"closed_date",children:"Closed Date"}),l.jsx("option",{value:"created_at",children:"Created Date"}),l.jsx("option",{value:"priority",children:"Priority"}),l.jsx("option",{value:"ticket_number",children:"Ticket #"})]})]}),ii&&l.jsxs("button",{onClick:wo,style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:"transparent",border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:r.transitions.fast,height:"38px",boxSizing:"border-box"},onMouseEnter:G=>{G.currentTarget.style.backgroundColor=r.colors.background.tertiary,G.currentTarget.style.color=r.colors.text.primary},onMouseLeave:G=>{G.currentTarget.style.backgroundColor="transparent",G.currentTarget.style.color=r.colors.text.secondary},children:[l.jsx(ZE,{size:14}),"Clear Filters"]})]})]}),l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`1px solid ${r.colors.border.light}`},children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"100px",width:"100px"},children:"Ticket #"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"220px"},children:"Subject"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Status"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Priority"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Customer"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Closed"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"180px"},children:"Resolution"})]})}),l.jsx("tbody",{style:{backgroundColor:r.colors.background.secondary},children:We?l.jsxs(l.Fragment,{children:[l.jsx(Pi,{}),l.jsx(Pi,{}),l.jsx(Pi,{}),l.jsx(Pi,{}),l.jsx(Pi,{})]}):N.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",style:{padding:0},children:l.jsxs("div",{style:{textAlign:"center",padding:`${r.spacing["2xl"]} ${r.spacing.lg}`,backgroundColor:r.colors.background.primary},children:[l.jsx(D2,{size:48,style:{color:r.colors.border.medium,margin:"0 auto",marginBottom:r.spacing.md}}),l.jsx("p",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:"No closed tickets found"}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:ii?"Try adjusting your filters to find more tickets":"Closed tickets will appear here once resolved"})]})})}):N.map((G,Re)=>{const He=B(G.status),Ve=Te(G.priority),Tt=He.icon,At=Ve.icon;return l.jsxs("tr",{onClick:()=>ke(G.ticket_id),onKeyDown:rt=>{(rt.key==="Enter"||rt.key===" ")&&(rt.preventDefault(),ke(G.ticket_id))},tabIndex:0,"aria-label":`View ticket ${G.ticket_number}`,style:{cursor:"pointer",transition:r.transitions.fast,borderBottom:Re<N.length-1?`1px solid ${r.colors.border.light}`:"none"},onMouseEnter:rt=>rt.currentTarget.style.backgroundColor=r.colors.background.hover,onMouseLeave:rt=>rt.currentTarget.style.backgroundColor="transparent",children:[l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",minWidth:"100px",width:"100px"},children:l.jsxs("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.bold,color:r.colors.accent.info},children:["#",G.ticket_number]})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,minWidth:"220px"},children:l.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:wt(G.subject,50)})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:l.jsxs(Je,{color:He.color,children:[l.jsx(Tt,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),He.label]})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:l.jsxs(Je,{color:Ve.color,children:[l.jsx(At,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),Ve.label]})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`},children:l.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary},children:G.customer_name||"N/A"})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:dt(G.closed_date||G.updated_at)}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,minWidth:"180px"},children:l.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:wt(G.resolution_text||G.resolution_summary||"-",40)})})]},G.ticket_id)})})]})}),Me&&Me.totalCount>0&&l.jsx(hc,{currentPage:Me.page,totalPages:Me.totalPages,pageSize:Me.limit,totalCount:Me.totalCount,onPageChange:nn,onPageSizeChange:ca,loading:We||_})]})]})]})]})},U2="",H2="convert-sequence-modal-animations";if(typeof document<"u"&&!document.getElementById(H2)){const e=document.createElement("style");e.id=H2,e.textContent=`
    @keyframes skeleton-spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    @keyframes skeleton-shimmer {
      0% { opacity: 0.4; }
      50% { opacity: 0.7; }
      100% { opacity: 0.4; }
    }
    @media (prefers-reduced-motion: reduce) {
      .skeleton-shimmer {
        animation: none !important;
        opacity: 0.5 !important;
      }
      .skeleton-spin {
        animation: none !important;
      }
    }
  `,document.head.appendChild(e)}const LV=["Electrical","Plumbing","HVAC","Appliances","Mechanical","Other"],WV=[{value:"tool",label:"Tool",icon:mo},{value:"video",label:"Video",icon:oO},{value:"documentation",label:"Documentation",icon:QE}],BV=e=>{try{const t=new URL(e);return["http:","https:"].includes(t.protocol)}catch{return!1}},IV=({ticketId:e,ticketNumber:t,onClose:n,onSuccess:i})=>{const s=x.useRef(null),c=x.useRef(null),[d,p]=x.useState(!0),[m,g]=x.useState(null),[h,v]=x.useState(!1),[S,j]=x.useState({sequence_name:"",description:"",category:"Other",keywords:[],steps:[],urls:[]}),[k,w]=x.useState({}),[C,_]=x.useState(!1),[E,A]=x.useState(""),T=x.useRef(null),[O,P]=x.useState(window.innerWidth<768);x.useEffect(()=>{const L=()=>P(window.innerWidth<768);return window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]);const R=x.useCallback(async()=>{T.current&&T.current.abort(),T.current=new AbortController;try{p(!0),g(null);const L=new Promise(X=>setTimeout(X,800)),V=fetch(`${U2}/api/tickets/${e}/generate-sequence`,{method:"POST",credentials:"include",signal:T.current.signal}),[ne]=await Promise.all([V,L]);if(!ne.ok){let X="Failed to generate sequence";try{X=(await ne.json()).error||X}catch{X=`Server error: ${ne.status} ${ne.statusText}`}throw new Error(X)}const I=await ne.json();j({sequence_name:I.sequence_name||"",description:I.description||"",category:I.category||"Other",keywords:I.keywords||[],steps:I.steps||[],urls:I.urls||[]}),I.steps?.length>0&&w({1:!0}),p(!1)}catch(L){if(L.name==="AbortError")return;console.error("Error generating sequence:",L),g(L.message),p(!1)}},[e]);x.useEffect(()=>(R(),()=>{T.current&&T.current.abort(),fe.current&&fe.current.abort()}),[R]),x.useEffect(()=>{d||c.current?.focus()},[d]),x.useEffect(()=>{const L=V=>{V.key==="Escape"&&n()};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[n]);const U=L=>L.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"").substring(0,50),ee=L=>/^[a-z0-9-]{1,50}$/.test(L)&&L.length>0,fe=x.useRef(null),de=async()=>{fe.current&&fe.current.abort(),fe.current=new AbortController;try{v(!0),g(null);const L=U(S.sequence_name);if(!ee(L))throw new Error("Invalid sequence name. Please use letters, numbers, and hyphens only.");const V={ticket_id:e,sequence_key:L,display_name:S.sequence_name,description:S.description,category:S.category,is_active:C,steps:S.steps,urls:S.urls,keywords:S.keywords},ne=await fetch(`${U2}/api/sequences/from-ticket`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(V),signal:fe.current.signal});if(!ne.ok){let X="Failed to create sequence";try{X=(await ne.json()).error||X}catch{X=`Server error: ${ne.status} ${ne.statusText}`}throw new Error(X)}const I=await ne.json();i(L)}catch(L){if(L.name==="AbortError")return;console.error("Error saving sequence:",L),g(L.message),v(!1)}},re=L=>{w(V=>({...V,[L]:!V[L]}))},Se=(L,V,ne)=>{j(I=>({...I,steps:I.steps.map(X=>X.step_num===L?{...X,[V]:ne}:X)}))},he=(L,V,ne)=>{ne.trim()&&j(I=>({...I,steps:I.steps.map(X=>{if(X.step_num===L){const Ce=V==="success"?"success_triggers":"failure_triggers";return{...X,[Ce]:[...X[Ce]||[],ne.trim()]}}return X})}))},ge=(L,V,ne)=>{j(I=>({...I,steps:I.steps.map(X=>{if(X.step_num===L){const Ce=V==="success"?"success_triggers":"failure_triggers";return{...X,[Ce]:X[Ce].filter((N,ye)=>ye!==ne)}}return X})}))},F=()=>{const L=S.steps.length+1;j(V=>({...V,steps:[...V.steps,{step_num:L,message_template:"",success_triggers:[],failure_triggers:[]}]})),w(V=>({...V,[L]:!0}))},Y=L=>{j(V=>({...V,steps:V.steps.filter(ne=>ne.step_num!==L).map((ne,I)=>({...ne,step_num:I+1}))}))},me=(L,V,ne)=>{j(I=>({...I,urls:I.urls.map((X,Ce)=>Ce===L?{...X,[V]:ne}:X)}))},be=L=>{j(V=>({...V,urls:V.urls.filter((ne,I)=>I!==L)}))},Ee=()=>{E.trim()&&(j(L=>({...L,keywords:[...L.keywords,E.trim()]})),A(""))},$=L=>{j(V=>({...V,keywords:V.keywords.filter((ne,I)=>I!==L)}))},W=({stepNum:L,type:V,triggers:ne})=>{const[I,X]=x.useState(""),Ce=V==="success";return l.jsxs("div",{style:{marginBottom:r.spacing.md},children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:Ce?r.colors.accent.success:r.colors.accent.danger,marginBottom:r.spacing.xs,textTransform:"uppercase",letterSpacing:"0.05em"},children:Ce?"Success Triggers":"Failure Triggers"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,marginBottom:r.spacing.sm},children:ne?.map((N,ye)=>l.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:Ce?r.colors.accent.successLight:r.colors.accent.dangerLight,color:Ce?r.colors.accent.success:r.colors.accent.danger,borderRadius:r.radius.full,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:[N,l.jsx("button",{type:"button",onClick:()=>ge(L,V,ye),style:{background:"none",border:"none",padding:0,cursor:"pointer",color:"inherit",display:"flex",alignItems:"center"},"aria-label":`Remove ${N}`,children:l.jsx($t,{size:12})})]},ye))}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.sm},children:[l.jsx("input",{type:"text",value:I,onChange:N=>X(N.target.value),onKeyDown:N=>{N.key==="Enter"&&(N.preventDefault(),he(L,V,I),X(""))},placeholder:`Add ${V} trigger...`,style:{flex:1,padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary}}),l.jsxs("button",{type:"button",onClick:()=>{he(L,V,I),X("")},style:{padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:"none",backgroundColor:Ce?r.colors.accent.success:r.colors.accent.danger,color:r.colors.text.inverse,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[l.jsx(mr,{size:14}),"Add"]})]})]})};return l.jsx("div",{onClick:n,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:r.zIndex.modal,padding:O?0:r.spacing.xl,backdropFilter:"blur(4px)"},children:l.jsxs("div",{ref:s,onClick:L=>L.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"convert-sequence-title",style:{backgroundColor:r.colors.background.secondary,borderRadius:O?0:r.radius.xl,maxWidth:O?"100%":"900px",width:"100%",maxHeight:O?"100vh":"90vh",height:O?"100vh":"auto",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:r.shadows["2xl"]},children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx("div",{style:{width:"44px",height:"44px",borderRadius:r.radius.lg,backgroundColor:`${r.colors.chart.purple}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(xx,{size:22,style:{color:r.colors.chart.purple}})}),l.jsxs("div",{children:[l.jsx("h2",{id:"convert-sequence-title",style:{color:r.colors.text.primary,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,margin:0},children:"Convert to Sequence"}),l.jsxs("p",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm,margin:0},children:["Ticket #",t]})]})]}),l.jsx("button",{ref:c,onClick:n,"aria-label":"Close modal",style:{background:"none",border:"none",padding:r.spacing.sm,cursor:"pointer",borderRadius:r.radius.md,color:r.colors.text.tertiary,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx($t,{size:24})})]}),l.jsx("div",{style:{flex:1,overflow:"auto",padding:r.spacing.xl},children:d?l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xl},children:[l.jsx("div",{role:"status","aria-live":"polite",style:{position:"absolute",width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0},children:"Analyzing ticket with AI. Please wait while we generate sequence steps."}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:r.spacing.lg,gap:r.spacing.md},children:[l.jsx("div",{style:{width:"64px",height:"64px",borderRadius:r.radius.full,backgroundColor:`${r.colors.chart.purple}20`,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Jn,{size:32,className:"skeleton-spin",style:{color:r.colors.chart.purple,animation:"skeleton-spin 1s linear infinite"}})}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("p",{style:{color:r.colors.text.primary,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.semibold,margin:0,marginBottom:r.spacing.xs},children:"Analyzing ticket with AI"}),l.jsx("p",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm,margin:0},children:"Generating sequence steps, keywords, and resources..."})]})]}),l.jsxs("div",{"aria-hidden":"true",children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:r.spacing.lg,marginBottom:r.spacing.xl},children:[l.jsxs("div",{children:[l.jsx("div",{className:"skeleton-shimmer",style:{height:"14px",width:"100px",backgroundColor:r.colors.border.light,borderRadius:r.radius.sm,marginBottom:r.spacing.sm,animation:"skeleton-shimmer 1.5s infinite"}}),l.jsx("div",{className:"skeleton-shimmer",style:{height:"40px",backgroundColor:r.colors.border.light,borderRadius:r.radius.md,animation:"skeleton-shimmer 1.5s infinite"}})]}),l.jsxs("div",{children:[l.jsx("div",{className:"skeleton-shimmer",style:{height:"14px",width:"70px",backgroundColor:r.colors.border.light,borderRadius:r.radius.sm,marginBottom:r.spacing.sm,animation:"skeleton-shimmer 1.5s infinite"}}),l.jsx("div",{className:"skeleton-shimmer",style:{height:"40px",backgroundColor:r.colors.border.light,borderRadius:r.radius.md,animation:"skeleton-shimmer 1.5s infinite"}})]})]}),l.jsxs("div",{style:{marginBottom:r.spacing.xl},children:[l.jsx("div",{className:"skeleton-shimmer",style:{height:"14px",width:"80px",backgroundColor:r.colors.border.light,borderRadius:r.radius.sm,marginBottom:r.spacing.sm,animation:"skeleton-shimmer 1.5s infinite"}}),l.jsx("div",{className:"skeleton-shimmer",style:{height:"80px",backgroundColor:r.colors.border.light,borderRadius:r.radius.md,animation:"skeleton-shimmer 1.5s infinite"}})]}),l.jsxs("div",{style:{marginBottom:r.spacing.xl},children:[l.jsx("div",{className:"skeleton-shimmer",style:{height:"14px",width:"70px",backgroundColor:r.colors.border.light,borderRadius:r.radius.sm,marginBottom:r.spacing.sm,animation:"skeleton-shimmer 1.5s infinite"}}),l.jsx("div",{style:{display:"flex",gap:r.spacing.sm,flexWrap:"wrap"},children:[80,60,90,55].map((L,V)=>l.jsx("div",{className:"skeleton-shimmer",style:{height:"28px",width:`${L}px`,backgroundColor:r.colors.border.light,borderRadius:r.radius.full,animation:"skeleton-shimmer 1.5s infinite",animationDelay:`${V*.1}s`}},V))})]}),l.jsxs("div",{children:[l.jsx("div",{className:"skeleton-shimmer",style:{height:"14px",width:"50px",backgroundColor:r.colors.border.light,borderRadius:r.radius.sm,marginBottom:r.spacing.md,animation:"skeleton-shimmer 1.5s infinite"}}),[48,56,52].map((L,V)=>l.jsx("div",{className:"skeleton-shimmer",style:{height:`${L}px`,backgroundColor:r.colors.border.light,borderRadius:r.radius.lg,marginBottom:r.spacing.md,animation:"skeleton-shimmer 1.5s infinite",animationDelay:`${V*.15}s`}},V))]})]})]}):m&&!S.sequence_name?l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:r.spacing["4xl"],gap:r.spacing.lg},children:[l.jsx(fn,{size:48,style:{color:r.colors.accent.danger}}),l.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.base,textAlign:"center"},children:m}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[l.jsx("button",{onClick:n,style:{padding:`${r.spacing.sm} ${r.spacing.xl}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.secondary,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"Close"}),l.jsxs("button",{onClick:R,style:{padding:`${r.spacing.sm} ${r.spacing.xl}`,borderRadius:r.radius.md,border:"none",backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(Ob,{size:16}),"Try Again"]})]})]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xl},children:[m&&l.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.accent.dangerLight,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(fn,{size:18,style:{color:r.colors.accent.danger}}),l.jsx("span",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.sm},children:m})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:r.spacing.lg},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.sm},children:"Sequence Name *"}),l.jsx("input",{type:"text",value:S.sequence_name,onChange:L=>j(V=>({...V,sequence_name:L.target.value})),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.base,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.sm},children:"Category"}),l.jsx("select",{value:S.category,onChange:L=>j(V=>({...V,category:L.target.value})),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.base,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,cursor:"pointer"},children:LV.map(L=>l.jsx("option",{value:L,children:L},L))})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.sm},children:"Description"}),l.jsx("textarea",{value:S.description,onChange:L=>j(V=>({...V,description:L.target.value})),rows:3,style:{width:"100%",padding:r.spacing.md,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.base,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,resize:"vertical",fontFamily:"inherit"}})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.sm},children:[l.jsx(iO,{size:16}),"Keywords"]}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.sm,marginBottom:r.spacing.sm},children:S.keywords.map((L,V)=>l.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.accent.primaryLight,color:r.colors.accent.primary,borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[L,l.jsx("button",{type:"button",onClick:()=>$(V),style:{background:"none",border:"none",padding:0,cursor:"pointer",color:"inherit",display:"flex",alignItems:"center"},"aria-label":`Remove ${L}`,children:l.jsx($t,{size:14})})]},V))}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.sm},children:[l.jsx("input",{type:"text",value:E,onChange:L=>A(L.target.value),onKeyDown:L=>{L.key==="Enter"&&(L.preventDefault(),Ee())},placeholder:"Add keyword...",style:{flex:1,padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary}}),l.jsxs("button",{type:"button",onClick:Ee,style:{padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:"none",backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[l.jsx(mr,{size:14}),"Add"]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.md},children:[l.jsxs("label",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:["Steps (",S.steps.length,")"]}),l.jsxs("button",{type:"button",onClick:F,style:{padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:"none",backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[l.jsx(mr,{size:14}),"Add Step"]})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:S.steps.map(L=>l.jsxs("div",{style:{border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.lg,backgroundColor:r.colors.background.tertiary,overflow:"hidden"},children:[l.jsxs("div",{role:"button",tabIndex:0,"aria-expanded":k[L.step_num],"aria-controls":`step-content-${L.step_num}`,onClick:()=>re(L.step_num),onKeyDown:V=>{(V.key==="Enter"||V.key===" ")&&(V.preventDefault(),re(L.step_num))},style:{padding:r.spacing.md,display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",backgroundColor:r.colors.background.secondary,outline:"none"},onFocus:V=>{V.currentTarget.style.boxShadow=r.shadows.focus},onBlur:V=>{V.currentTarget.style.boxShadow="none"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx("span",{style:{width:"28px",height:"28px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,display:"flex",alignItems:"center",justifyContent:"center",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold},children:L.step_num}),l.jsxs("span",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,maxWidth:"400px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[L.message_template?.substring(0,60)||"New step...",L.message_template?.length>60?"...":""]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[S.steps.length>1&&l.jsx("button",{type:"button",onClick:V=>{V.stopPropagation(),Y(L.step_num)},style:{padding:r.spacing.sm,borderRadius:r.radius.md,border:"none",backgroundColor:"transparent",color:r.colors.accent.danger,cursor:"pointer",display:"flex",alignItems:"center"},"aria-label":`Remove step ${L.step_num}`,children:l.jsx(tn,{size:16})}),k[L.step_num]?l.jsx(Ec,{size:20,style:{color:r.colors.text.tertiary}}):l.jsx(Zn,{size:20,style:{color:r.colors.text.tertiary}})]})]}),k[L.step_num]&&l.jsxs("div",{id:`step-content-${L.step_num}`,style:{padding:r.spacing.lg},children:[l.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.sm},children:"Message"}),l.jsx("textarea",{value:L.message_template,onChange:V=>Se(L.step_num,"message_template",V.target.value),rows:4,style:{width:"100%",padding:r.spacing.md,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,resize:"vertical",fontFamily:"inherit"}})]}),l.jsx(W,{stepNum:L.step_num,type:"success",triggers:L.success_triggers}),l.jsx(W,{stepNum:L.step_num,type:"failure",triggers:L.failure_triggers})]})]},L.step_num))})]}),S.urls.length>0&&l.jsxs("div",{children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.md},children:[l.jsx(eO,{size:16}),"Extracted URLs (",S.urls.length,")"]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:S.urls.map((L,V)=>l.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,display:"grid",gridTemplateColumns:O?"1fr":"1fr minmax(120px, 150px) auto",gap:r.spacing.md,alignItems:O?"stretch":"center"},children:[l.jsxs("div",{style:{minWidth:0},children:[l.jsx("input",{type:"text",value:L.title,onChange:ne=>me(V,"title",ne.target.value),placeholder:"Title",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,marginBottom:r.spacing.xs}}),BV(L.url)?l.jsx("a",{href:L.url,target:"_blank",rel:"noopener noreferrer",style:{color:r.colors.accent.primary,fontSize:r.fontSize.xs,textDecoration:"none",wordBreak:"break-all"},children:L.url}):l.jsxs("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,wordBreak:"break-all"},children:[L.url," ",l.jsx("span",{style:{color:r.colors.accent.warning},children:"(invalid URL)"})]})]}),l.jsx("select",{value:L.category,onChange:ne=>me(V,"category",ne.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,cursor:"pointer",width:O?"100%":"auto"},children:WV.map(ne=>l.jsx("option",{value:ne.value,children:ne.label},ne.value))}),l.jsx("button",{type:"button",onClick:()=>be(V),style:{padding:r.spacing.sm,borderRadius:r.radius.md,alignSelf:O?"flex-end":"center",border:"none",backgroundColor:"transparent",color:r.colors.accent.danger,cursor:"pointer",display:"flex",alignItems:"center"},"aria-label":"Remove URL",children:l.jsx(tn,{size:16})})]},V))})]})]})}),!d&&!m&&l.jsxs("div",{style:{padding:r.spacing.xl,borderTop:`1px solid ${r.colors.border.light}`,display:"flex",flexDirection:O?"column":"row",alignItems:O?"stretch":"center",justifyContent:"space-between",gap:O?r.spacing.lg:0,backgroundColor:r.colors.background.secondary},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:C,onChange:L=>_(L.target.checked),style:{width:"18px",height:"18px",cursor:"pointer",accentColor:r.colors.accent.primary}}),l.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:"Create as Active"})]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:O?"stretch":"flex-end"},children:[l.jsx("button",{type:"button",onClick:n,style:{padding:`${r.spacing.sm} ${r.spacing.xl}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.secondary,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"Cancel"}),l.jsx("button",{type:"button",onClick:de,disabled:h||!S.sequence_name||S.steps.length===0,style:{padding:`${r.spacing.sm} ${r.spacing.xl}`,borderRadius:r.radius.md,border:"none",backgroundColor:r.colors.chart.purple,color:r.colors.text.inverse,cursor:h||!S.sequence_name||S.steps.length===0?"not-allowed":"pointer",opacity:h||!S.sequence_name||S.steps.length===0?.5:1,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,display:"flex",alignItems:"center",gap:r.spacing.sm},children:h?l.jsxs(l.Fragment,{children:[l.jsx(Jn,{size:16,style:{animation:"spin 1s linear infinite"}}),"Creating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(xx,{size:16}),"Create Sequence"]})})]})]})]})})},ui="",Zr=(e,t=!1)=>{const n={display:"inline-flex",alignItems:"center",justifyContent:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:t?"not-allowed":"pointer",opacity:t?.5:1,transition:`all ${r.transitions.fast}`,border:"none",whiteSpace:"nowrap"},i={primary:{backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse},success:{backgroundColor:r.colors.accent.success,color:r.colors.text.inverse},warning:{backgroundColor:r.colors.accent.warning,color:r.colors.text.inverse},danger:{backgroundColor:r.colors.accent.danger,color:r.colors.text.inverse},secondary:{backgroundColor:r.colors.background.tertiary,color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`},ghost:{backgroundColor:"transparent",color:r.colors.text.secondary},purple:{backgroundColor:r.colors.chart.purple,color:r.colors.text.inverse}};return{...n,...i[e]}},Rd=({icon:e,title:t,badge:n,action:i})=>l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.lg},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[e&&l.jsx(e,{size:18,style:{color:r.colors.text.tertiary}}),l.jsx("h3",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:t}),n!==void 0&&l.jsx(Je,{variant:"primary",size:"sm",soft:!0,children:n})]}),i]}),Dd=({icon:e,label:t,value:n,href:i,isEmail:s})=>{const c=i?l.jsx("a",{href:i,style:{color:r.colors.accent.primary,fontSize:r.fontSize.sm,textDecoration:"none",wordBreak:s?"break-all":"normal",transition:`color ${r.transitions.fast}`},onMouseEnter:d=>d.currentTarget.style.textDecoration="underline",onMouseLeave:d=>d.currentTarget.style.textDecoration="none",children:n}):l.jsx("span",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:n});return l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} 0`},children:[l.jsx(e,{size:18,style:{color:r.colors.text.tertiary,flexShrink:0}}),t&&l.jsxs("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,minWidth:"60px"},children:[t,":"]}),c]})},qV=1e4,UV=`
@keyframes resolutionShine {
  0% {
    background-position: -200% center;
    box-shadow: 0 0 0 0 rgba(5, 150, 105, 0);
  }
  15% {
    box-shadow: 0 0 12px 2px rgba(5, 150, 105, 0.4);
  }
  30% {
    background-position: 200% center;
    box-shadow: 0 0 8px 1px rgba(5, 150, 105, 0.3);
  }
  50% {
    box-shadow: 0 0 0 0 rgba(5, 150, 105, 0);
  }
  65% {
    box-shadow: 0 0 10px 2px rgba(5, 150, 105, 0.35);
  }
  80% {
    box-shadow: 0 0 6px 1px rgba(5, 150, 105, 0.2);
  }
  100% {
    background-position: -200% center;
    box-shadow: 0 0 0 0 rgba(5, 150, 105, 0);
  }
}
`;if(typeof document<"u"){const e="resolution-shine-keyframes";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.textContent=UV,document.head.appendChild(t)}}const HV=()=>{const{uuid:e}=Lf(),t=Ri(),{showToast:n}=bp(),{user:i,logout:s,hasRole:c}=mn(),d=x.useRef(null),p=x.useRef(null),m=x.useRef(null),g=x.useRef(null),h=x.useRef(null),v=x.useRef(null),S=x.useRef(null),j=x.useRef(null),k=x.useRef(0),w=x.useRef(!0),[C,_]=x.useState(null),[E,A]=x.useState(!0),[T,O]=x.useState(!1),[P,R]=x.useState(!1),[U,ee]=x.useState(""),[fe,de]=x.useState(!1),[re,Se]=x.useState(!1),[he,ge]=x.useState(!1),[F,Y]=x.useState(!1),[me,be]=x.useState(0),[Ee,$]=x.useState(!1),[W,L]=x.useState([]),[V,ne]=x.useState({type:null,url:null}),[I,X]=x.useState(!1),[Ce,N]=x.useState([]),[ye,oe]=x.useState(!1),[ue,Ne]=x.useState(!1),[le,Me]=x.useState(!1),[Ae,We]=x.useState(""),[Ke,at]=x.useState(!1),[J,ze]=x.useState(!1),[it,te]=x.useState(!1),[H,Oe]=x.useState(!1),[Fe,Be]=x.useState(window.innerWidth<768),Qe=x.useCallback(async(B=!1)=>{try{B||A(!0);const Te=await fetch(`${ui}/api/tickets/${e}`,{credentials:"include"});if(Te.status===404){n("Ticket not found","error"),t("/tickets");return}if(!Te.ok)throw new Error("Failed to fetch ticket");const Ot=await Te.json();_(Ot);const _t=Ot.comments?.length||0;B&&k.current>0&&_t>k.current&&Y(!0),k.current=_t,be(_t)}catch(Te){console.error("Error fetching ticket:",Te),n("Failed to load ticket","error")}finally{A(!1)}},[e,t,n]),Pe=x.useCallback(async()=>{try{const B=await fetch(`${ui}/api/tickets/${e}/attachments`,{credentials:"include"});if(B.ok){const Te=await B.json();L(Te||[])}}catch(B){console.error("Error fetching attachments:",B)}},[e]),mt=x.useMemo(()=>{const B=new Map;return W.forEach(Te=>{B.has(Te.comment_id)||B.set(Te.comment_id,[]),B.get(Te.comment_id).push(Te)}),B},[W]),lr=x.useCallback(async()=>{oe(!0);try{const B=await fetch(`${ui}/api/tickets/${e}/similar?limit=5`,{credentials:"include"});if(!B.ok){if(B.status===403){n("You do not have permission to view similar tickets","error");return}if(B.status===404){n("Ticket not found","error");return}throw new Error(`Failed to fetch similar tickets: ${B.status}`)}const Te=await B.json();N(Te),X(!0)}catch(B){console.error("Error fetching similar tickets:",B),n("Failed to load similar tickets","error")}finally{oe(!1)}},[e,n]),Xr=x.useCallback(B=>{ee(B),de(!0),X(!1),Ne(!0),setTimeout(()=>{w.current&&Ne(!1)},3e3),setTimeout(()=>{w.current&&p.current?.scrollIntoView({behavior:"smooth",block:"center"})},100),n("Resolution copied - review and submit when ready","success")},[n]);x.useEffect(()=>(w.current=!0,()=>{w.current=!1}),[]),x.useEffect(()=>{Qe(),Pe()},[Qe,Pe]),x.useEffect(()=>{if(Ee)return;const B=setInterval(()=>{Qe(!0)},qV);return()=>clearInterval(B)},[Qe,Ee]),x.useEffect(()=>{C?.id&&fetch(`${ui}/api/tickets/${C.id}/mark-read`,{method:"POST",credentials:"include"}).catch(B=>console.error("Error marking comments read:",B))},[C?.id]),x.useEffect(()=>{const B=Te=>{Te.key==="Escape"&&(le&&!J&&(Me(!1),h.current?.focus()),I&&(X(!1),m.current?.focus()),V.type&&(ne({type:null,url:null}),S.current?.focus()))};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[le,I,V.type,J]),x.useEffect(()=>{if(!I)return;g.current?.focus();const B=Te=>{if(Te.key!=="Tab")return;const Ot=document.getElementById("similar-tickets-modal");if(!Ot)return;const _t=Ot.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),dt=_t[0],wt=_t[_t.length-1];Te.shiftKey&&document.activeElement===dt?(Te.preventDefault(),wt?.focus()):!Te.shiftKey&&document.activeElement===wt&&(Te.preventDefault(),dt?.focus())};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[I]),x.useEffect(()=>{if(!le)return;v.current?.focus();const B=Te=>{if(Te.key!=="Tab")return;const Ot=document.getElementById("resolve-modal");if(!Ot)return;const _t=Ot.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),dt=_t[0],wt=_t[_t.length-1];Te.shiftKey&&document.activeElement===dt?(Te.preventDefault(),wt?.focus()):!Te.shiftKey&&document.activeElement===wt&&(Te.preventDefault(),dt?.focus())};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[le]),x.useEffect(()=>{if(!V.type)return;j.current?.focus();const B=Te=>{if(Te.key!=="Tab")return;const Ot=document.getElementById("lightbox-modal");if(!Ot)return;const _t=Ot.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"]), video'),dt=_t[0],wt=_t[_t.length-1];Te.shiftKey&&document.activeElement===dt?(Te.preventDefault(),wt?.focus()):!Te.shiftKey&&document.activeElement===wt&&(Te.preventDefault(),dt?.focus())};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[V.type]),x.useEffect(()=>{const B=()=>{Be(window.innerWidth<768)};return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const sr=()=>{Y(!1),Qe(),setTimeout(()=>{d.current?.scrollIntoView({behavior:"smooth"})},100)},xt=x.useCallback(async B=>{if(B!==C?.priority){ge(!0);try{if(!(await fetch(`${ui}/api/tickets/${e}/priority`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({priority:B})})).ok)throw new Error("Failed to update priority");n("Priority updated successfully","success"),await Qe()}catch(Te){console.error("Error updating priority:",Te),n("Failed to update priority","error")}finally{ge(!1)}}},[C?.priority,e,n,Qe]),ir=x.useCallback(async B=>{if(B===C?.status){n("Status unchanged","info");return}O(!0);try{if(!(await fetch(`${ui}/api/tickets/${e}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:B})})).ok)throw new Error("Failed to update status");n("Status updated successfully","success"),await Qe()}catch(Te){console.error("Error updating status:",Te),n("Failed to update status","error")}finally{O(!1)}},[C?.status,e,n,Qe]),xe=x.useCallback(async B=>{if(B.preventDefault(),!U.trim()||U.trim().length<10){n("Comment must be at least 10 characters","error");return}Se(!0);try{if(!(await fetch(`${ui}/api/tickets/${e}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({comment_text:U,is_resolution:fe})})).ok)throw new Error("Failed to add comment");if(fe&&C?.status!=="resolved")try{(await fetch(`${ui}/api/tickets/${e}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"resolved",reason:"Resolution comment added"})})).ok?n("Resolution added and ticket resolved","success"):(console.error("Failed to update ticket status to resolved"),n("Resolution added but failed to update ticket status","warning"))}catch(Ot){console.error("Error updating ticket status:",Ot),n("Resolution added but failed to update ticket status","warning")}else n("Comment added successfully","success");ee(""),de(!1),$(!1),await Qe(),setTimeout(()=>{d.current?.scrollIntoView({behavior:"smooth"})},100)}catch(Te){console.error("Error adding comment:",Te),n("Failed to add comment","error")}finally{Se(!1)}},[U,fe,C?.status,e,n,Qe]),Ye=x.useCallback(async()=>{O(!0);try{const B=await fetch(`${ui}/api/tickets/${e}/assign-to-me`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!B.ok){let Te;switch(B.status){case 403:Te="You do not have permission to assign this ticket";break;case 404:Te="Ticket not found. It may have been deleted.";break;case 409:Te="This ticket has already been assigned to someone else";break;default:Te="Failed to assign ticket. Please try again."}throw new Error(Te)}n("Ticket assigned to you","success"),await Qe()}catch(B){console.error("Error assigning ticket:",B),n(B.message||"Failed to assign ticket","error")}finally{O(!1)}},[e,n,Qe]),Et=x.useCallback(()=>{C?.resolution||C?.comments?.some(Te=>Te.is_resolution)?ir("resolved"):(We(""),at(!1),te(!1),Me(!0))},[C?.resolution,C?.comments,ir]),Or=x.useCallback(async()=>{ze(!0);try{if(Ae.trim()&&!Ke&&!it){if(!(await fetch(`${ui}/api/tickets/${e}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({comment_text:Ae,is_resolution:!0})})).ok)throw new Error("Failed to add resolution comment");te(!0)}if(!(await fetch(`${ui}/api/tickets/${e}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"resolved"})})).ok)throw new Error("Failed to update status");n("Ticket resolved successfully","success"),Me(!1),We(""),at(!1),te(!1),await Qe()}catch(B){console.error("Error resolving ticket:",B),it&&B.message==="Failed to update status"?n("Resolution comment saved. Failed to update status - please try again.","error"):n(B.message||"Failed to resolve ticket","error")}finally{ze(!1)}},[Ae,Ke,it,e,n,Qe]),Yt=B=>({open:{variant:"info",icon:Tn,label:"Open"},assigned:{variant:"secondary",icon:mc,label:"Assigned"},in_progress:{variant:"warning",icon:mo,label:"In Progress"},waiting_customer:{variant:"warning",icon:zi,label:"Waiting on Customer"},resolved:{variant:"success",icon:Ft,label:"Resolved"},closed:{variant:"default",icon:$t,label:"Closed"},cancelled:{variant:"danger",icon:Oc,label:"Cancelled"}})[B]||{variant:"default",icon:Tn,label:B},ht=B=>({urgent:{variant:"danger",icon:hi,label:"Urgent"},high:{variant:"warning",icon:Vl,label:"High"},normal:{variant:"info",icon:Ka,label:"Normal"},low:{variant:"default",icon:Yl,label:"Low"}})[B]||{variant:"default",icon:Ka,label:B},Z=B=>B?{high:{variant:"danger",label:"High Urgency",pulse:!0},medium:{variant:"warning",label:"Medium Urgency",pulse:!1},low:{variant:"success",label:"Low Urgency",pulse:!1}}[B]||{variant:"default",label:B,pulse:!1}:null,ke=B=>{if(!B)return"N/A";const Te=new Date(B),_t=new Date-Te,dt=Math.floor(_t/6e4),wt=Math.floor(_t/36e5),It=Math.floor(_t/864e5);return dt<1?"Just now":dt<60?`${dt} min${dt>1?"s":""} ago`:wt<24?`${wt} hour${wt>1?"s":""} ago`:It<7?`${It} day${It>1?"s":""} ago`:Te.toLocaleDateString()+" "+Te.toLocaleTimeString()},qe=B=>B?new Date(B).toLocaleString():"N/A",zt=B=>({customer:"C",tech:"T",system:"S"})[B]||"?",yr={wrapper:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.page},main:{marginLeft:Fe?0:"260px",flex:1,padding:Fe?r.spacing.lg:r.spacing["2xl"],maxWidth:"1400px"}};if(E)return l.jsxs("div",{style:yr.wrapper,children:[l.jsx(Cr,{user:i,onLogout:s,hasRole:c}),l.jsx("div",{style:yr.main,children:l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xl},children:[l.jsx("div",{style:{height:"180px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.xl,animation:"pulse 2s ease-in-out infinite"}}),l.jsx("div",{style:{height:"120px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.xl,animation:"pulse 2s ease-in-out infinite",animationDelay:"0.1s"}}),l.jsx("div",{style:{height:"400px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.xl,animation:"pulse 2s ease-in-out infinite",animationDelay:"0.2s"}})]})})]});if(!C)return l.jsxs("div",{style:yr.wrapper,children:[l.jsx(Cr,{user:i,onLogout:s,hasRole:c}),l.jsx("div",{style:{...yr.main,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{style:{textAlign:"center",maxWidth:"400px"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:r.radius.full,backgroundColor:r.colors.background.tertiary,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",marginBottom:r.spacing.xl},children:l.jsx(fn,{size:40,style:{color:r.colors.text.tertiary}})}),l.jsx("h2",{style:{fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,marginBottom:r.spacing.sm},children:"Ticket Not Found"}),l.jsx("p",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.base,marginBottom:r.spacing.xl,lineHeight:r.lineHeight.relaxed},children:"The ticket you are looking for does not exist or you do not have permission to view it."}),l.jsxs("button",{onClick:()=>t("/tickets"),style:Zr("primary"),onMouseEnter:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primaryHover,onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[l.jsx(Rf,{size:16}),"Back to Tickets"]})]})})]});const Dn=Yt(C.status),Pn=ht(C.priority),nn=Z(C.urgency),ca=Dn.icon,wo=Pn.icon,ii={page:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.page},main:{marginLeft:Fe?0:"260px",flex:1,padding:Fe?r.spacing.lg:r.spacing["2xl"],display:"flex",flexDirection:"column",gap:Fe?r.spacing.lg:r.spacing.xl,maxWidth:"1400px"},newCommentsBanner:{padding:Fe?r.spacing.md:r.spacing.lg,backgroundColor:r.colors.accent.primaryLight,border:`1px solid ${r.colors.accent.primary}20`,borderRadius:r.radius.lg,display:"flex",alignItems:Fe?"flex-start":"center",justifyContent:"space-between",flexDirection:Fe?"column":"row",gap:r.spacing.md}};return l.jsxs("div",{style:ii.page,children:[l.jsx(Cr,{user:i,onLogout:s,hasRole:c}),l.jsxs("div",{style:ii.main,children:[F&&l.jsxs("div",{style:ii.newCommentsBanner,children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(zi,{size:20,style:{color:r.colors.accent.primary}}),l.jsx("span",{style:{color:r.colors.accent.primary,fontWeight:r.fontWeight.medium,fontSize:r.fontSize.sm},children:"New comments available"})]}),l.jsx("button",{onClick:sr,style:Zr("primary"),onMouseEnter:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primaryHover,onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primary,children:"View New Comments"})]}),l.jsx(et,{children:l.jsxs("div",{style:{padding:r.spacing.xl},children:[l.jsxs("button",{onClick:()=>t("/tickets"),style:{...Zr("ghost"),padding:`${r.spacing.xs} 0`,marginBottom:r.spacing.lg,gap:r.spacing.xs},onMouseEnter:B=>B.currentTarget.style.color=r.colors.text.primary,onMouseLeave:B=>B.currentTarget.style.color=r.colors.text.secondary,children:[l.jsx(Rf,{size:16}),"Back to Tickets"]}),l.jsxs("div",{style:{marginBottom:r.spacing.xl},children:[l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexWrap:"wrap",gap:r.spacing.md,marginBottom:r.spacing.sm},children:[l.jsxs("h1",{style:{color:r.colors.text.primary,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,margin:0,lineHeight:r.lineHeight.tight},children:["Ticket #",C.ticket_number]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,flexWrap:"wrap"},children:[l.jsx(Je,{variant:Dn.variant,size:"md",icon:l.jsx(ca,{}),children:Dn.label}),nn&&l.jsx(Je,{variant:nn.variant,size:"md",style:{animation:nn.pulse?"pulse 2s infinite":"none"},children:nn.label})]})]}),l.jsx("h2",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium,margin:0,marginBottom:r.spacing.md,lineHeight:r.lineHeight.normal},children:C.subject}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg,flexWrap:"wrap"},children:[C.van_info&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[l.jsx(ra,{size:14}),l.jsx("span",{children:C.van_info})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[l.jsx(Tn,{size:14}),l.jsxs("span",{children:["Created ",qe(C.created_at)]})]})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:r.spacing.md,paddingTop:r.spacing.lg,borderTop:`1px solid ${r.colors.border.light}`},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"Priority:"}),l.jsxs("div",{style:{position:"relative",display:"inline-flex",alignItems:"center"},children:[l.jsxs("select",{"aria-label":"Priority",value:C.priority,onChange:B=>xt(B.target.value),disabled:he,style:{padding:`${r.spacing.xs} ${r.spacing["2xl"]} ${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:he?"not-allowed":"pointer",opacity:he?.5:1,outline:"none",appearance:"none",transition:`all ${r.transitions.fast}`},onFocus:B=>B.currentTarget.style.borderColor=r.colors.border.focus,onBlur:B=>B.currentTarget.style.borderColor=r.colors.border.medium,children:[l.jsx("option",{value:"low",children:"Low"}),l.jsx("option",{value:"normal",children:"Normal"}),l.jsx("option",{value:"high",children:"High"}),l.jsx("option",{value:"urgent",children:"Urgent"})]}),l.jsx("div",{style:{position:"absolute",right:r.spacing.sm,pointerEvents:"none",display:"flex",alignItems:"center"},children:l.jsx(wo,{size:14,style:{color:Pn.variant==="danger"?r.colors.accent.danger:Pn.variant==="warning"?r.colors.accent.warning:Pn.variant==="info"?r.colors.accent.info:r.colors.text.tertiary}})})]})]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,flexWrap:"wrap"},children:[(!C.assigned_to_name||C.assigned_to_name!==i?.email)&&l.jsxs("button",{onClick:Ye,disabled:T,style:Zr("primary",T),onMouseEnter:B=>!T&&(B.currentTarget.style.backgroundColor=r.colors.accent.primaryHover),onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[l.jsx(mc,{size:16}),T?"Assigning...":C.assigned_to_name?"Reassign to Me":"Assign to Me"]}),C.status!=="in_progress"&&C.status!=="resolved"&&C.status!=="closed"&&l.jsxs("button",{onClick:()=>ir("in_progress"),disabled:T,style:Zr("warning",T),onMouseEnter:B=>!T&&(B.currentTarget.style.opacity="0.9"),onMouseLeave:B=>B.currentTarget.style.opacity=T?"0.5":"1",children:[l.jsx(mo,{size:16}),"Start Work"]}),C.status==="in_progress"&&l.jsxs("button",{onClick:()=>ir("waiting_customer"),disabled:T,style:{...Zr("secondary",T),backgroundColor:r.colors.accent.warningLight,color:r.colors.accent.warning,border:`1px solid ${r.colors.accent.warning}40`},onMouseEnter:B=>!T&&(B.currentTarget.style.backgroundColor=r.colors.accent.warning)&&(B.currentTarget.style.color=r.colors.text.inverse),onMouseLeave:B=>{B.currentTarget.style.backgroundColor=r.colors.accent.warningLight,B.currentTarget.style.color=r.colors.accent.warning},children:[l.jsx(zi,{size:16}),"Waiting on Customer"]}),C.status!=="resolved"&&C.status!=="closed"&&l.jsxs("button",{ref:h,onClick:Et,disabled:T,style:Zr("success",T),onMouseEnter:B=>!T&&(B.currentTarget.style.backgroundColor=r.colors.accent.successHover),onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.accent.success,children:[l.jsx(Ft,{size:16,"aria-hidden":"true"}),"Resolve Ticket"]}),C.status==="resolved"&&l.jsxs("button",{onClick:()=>ir("closed"),disabled:T,style:{...Zr("secondary",T)},onMouseEnter:B=>!T&&(B.currentTarget.style.backgroundColor=r.colors.background.hover),onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.background.tertiary,children:[l.jsx($t,{size:16}),"Close Ticket"]}),l.jsxs("button",{ref:m,onClick:lr,disabled:ye,style:Zr("purple",ye),onMouseEnter:B=>!ye&&(B.currentTarget.style.opacity="0.9"),onMouseLeave:B=>B.currentTarget.style.opacity=ye?"0.5":"1",children:[l.jsx(py,{size:16,"aria-hidden":"true"}),l.jsx("span",{"aria-live":"polite",children:ye?"Searching...":"Suggest Solutions"})]}),["resolved","closed"].includes(C.status)&&l.jsxs("button",{onClick:()=>Oe(!0),style:{...Zr("purple",!1),backgroundColor:r.colors.chart.purple},onMouseEnter:B=>B.currentTarget.style.opacity="0.9",onMouseLeave:B=>B.currentTarget.style.opacity="1",title:"Convert this resolved ticket into a reusable troubleshooting sequence",children:[l.jsx(xx,{size:16,"aria-hidden":"true"}),"Convert to Sequence"]})]})]})]})}),l.jsx(et,{children:l.jsxs("div",{style:{padding:r.spacing.xl},children:[l.jsx(Rd,{icon:Ya,title:"Ticket Details"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:r.spacing.xl},children:[l.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg},children:[l.jsx("h4",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.md},children:"Customer"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xs},children:[l.jsx(Dd,{icon:Ya,value:C.customer_name||"N/A"}),C.customer_phone&&l.jsx(Dd,{icon:cs,value:C.customer_phone,href:`tel:${C.customer_phone}`}),C.customer_email&&l.jsx(Dd,{icon:vp,value:C.customer_email,href:`mailto:${C.customer_email}`,isEmail:!0})]})]}),l.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg},children:[l.jsx("h4",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.md},children:"Vehicle"}),C.van_info?l.jsx(Dd,{icon:ra,value:C.van_info}):l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm,fontStyle:"italic"},children:"No vehicle assigned"})]}),l.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg},children:[l.jsx("h4",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.md},children:"Assigned To"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:r.radius.full,backgroundColor:C.assigned_to_name?r.colors.accent.primaryLight:r.colors.background.hover,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:l.jsx(mc,{size:16,style:{color:C.assigned_to_name?r.colors.accent.primary:r.colors.text.tertiary}})}),l.jsxs("div",{children:[l.jsx("div",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:C.assigned_to_name||"Unassigned"}),C.assigned_at&&l.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs},children:ke(C.assigned_at)})]})]})]})]})]})}),C.description&&C.description!==C.subject&&l.jsx(et,{children:l.jsxs("div",{style:{padding:r.spacing.xl},children:[l.jsx(Rd,{icon:QE,title:"Description"}),l.jsx("div",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,backgroundColor:r.colors.background.tertiary,padding:r.spacing.lg,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.accent.primary}`},children:C.description})]})}),(C.category_name||C.session_id||C.related_ticket_id)&&l.jsx(et,{children:l.jsxs("div",{style:{padding:r.spacing.xl},children:[l.jsx(Rd,{icon:eO,title:"Related"}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.lg,flexWrap:"wrap"},children:[C.category_name&&l.jsx(Je,{variant:"primary",size:"md",soft:!0,children:C.category_name}),C.session_id&&l.jsxs("a",{href:`/sessions/${C.session_id}`,style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,textDecoration:"none",padding:`${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.accent.primaryLight,borderRadius:r.radius.md,transition:`all ${r.transitions.fast}`},onMouseEnter:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primaryMuted,onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primaryLight,children:[l.jsx(Ti,{size:14}),"View Session"]}),C.related_ticket_id&&l.jsxs("a",{href:`/tickets/${C.related_ticket_id}`,style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,textDecoration:"none",padding:`${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.accent.primaryLight,borderRadius:r.radius.md,transition:`all ${r.transitions.fast}`},onMouseEnter:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primaryMuted,onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primaryLight,children:[l.jsx(Ti,{size:14}),"Related Ticket #",C.related_ticket_number]})]})]})}),(C.status==="resolved"||C.status==="closed")&&C.resolution&&l.jsx(et,{style:{backgroundColor:r.colors.accent.successLight,border:`1px solid ${r.colors.accent.success}30`},children:l.jsxs("div",{style:{padding:r.spacing.xl},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:r.spacing.lg},children:[l.jsx("div",{style:{width:"36px",height:"36px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.success,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Ft,{size:20,style:{color:r.colors.text.inverse}})}),l.jsxs("div",{children:[l.jsx("h3",{style:{color:r.colors.accent.success,fontSize:r.fontSize.base,fontWeight:r.fontWeight.semibold,margin:0},children:"Resolution"}),C.resolved_by&&l.jsxs("p",{style:{color:r.colors.accent.success,fontSize:r.fontSize.xs,margin:0,opacity:.8},children:["by ",C.resolved_by," ",C.resolved_at&&` - ${ke(C.resolved_at)}`]})]})]}),l.jsx("div",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,padding:r.spacing.lg,backgroundColor:r.colors.background.secondary,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.accent.success}`},children:C.resolution})]})}),l.jsx(et,{style:{display:"flex",flexDirection:"column",flexGrow:1},children:l.jsxs("div",{style:{padding:r.spacing.xl},children:[l.jsx(Rd,{icon:zi,title:"Activity & Comments",badge:C.comments?.length||0}),l.jsx("div",{style:{maxHeight:"600px",overflowY:"auto",marginBottom:r.spacing.xl,paddingRight:r.spacing.sm},children:C.comments&&C.comments.length>0?l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:[C.comments.map(B=>{const Te=B.author_type==="customer",Ot=B.author_type==="tech";return B.author_type,l.jsx("div",{style:{padding:r.spacing.lg,borderRadius:r.radius.lg,backgroundColor:Te?r.colors.accent.primaryLight:Ot?r.colors.background.secondary:r.colors.accent.warningLight,border:`1px solid ${Te?`${r.colors.accent.primary}20`:Ot?r.colors.border.light:`${r.colors.accent.warning}30`}`,transition:`all ${r.transitions.fast}`},children:l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:r.radius.full,display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.text.inverse,fontWeight:r.fontWeight.bold,fontSize:r.fontSize.sm,backgroundColor:Te?r.colors.accent.info:Ot?r.colors.accent.primary:r.colors.accent.warning,flexShrink:0},children:zt(B.author_type)}),l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:r.spacing.sm,flexWrap:"wrap"},children:[l.jsx("span",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold},children:B.author_name}),l.jsx(Je,{variant:Te?"info":Ot?"primary":"warning",size:"sm",soft:!0,children:Te?"Customer":Ot?"Tech":"System"}),B.is_resolution&&l.jsx(Je,{variant:"success",size:"sm",icon:l.jsx(Ft,{}),children:"Resolution"}),l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs},children:ke(B.created_at)})]}),l.jsx("p",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,margin:0,wordBreak:"break-word"},children:B.comment_text}),(()=>{const _t=mt.get(B.id)||[];return _t.length===0?null:l.jsx("div",{style:{marginTop:r.spacing.md,display:"flex",flexWrap:"wrap",gap:r.spacing.sm},children:_t.map(dt=>{const wt=dt.mime_type?.startsWith("video/"),It=dt.mime_type?.startsWith("image/");return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xs},children:[wt?l.jsxs("div",{role:"button",tabIndex:0,"aria-label":`Play video: ${dt.original_filename||"Video attachment"}`,onClick:tt=>{S.current=tt.currentTarget,ne({type:"video",url:dt.public_url})},onKeyDown:tt=>{(tt.key==="Enter"||tt.key===" ")&&(tt.preventDefault(),S.current=tt.currentTarget,ne({type:"video",url:dt.public_url}))},style:{position:"relative",cursor:"pointer",borderRadius:r.radius.md,overflow:"hidden",border:`1px solid ${r.colors.border.medium}`,transition:`all ${r.transitions.fast}`},onMouseOver:tt=>{tt.currentTarget.style.transform="scale(1.02)",tt.currentTarget.style.boxShadow=r.shadows.md},onMouseOut:tt=>{tt.currentTarget.style.transform="scale(1)",tt.currentTarget.style.boxShadow="none"},children:[l.jsx("video",{src:dt.public_url,"aria-hidden":"true",style:{maxWidth:"280px",maxHeight:"180px",display:"block"}}),l.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",transition:`background-color ${r.transitions.fast}`},children:l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:r.radius.full,backgroundColor:r.colors.background.secondary,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:r.shadows.md},children:l.jsx($f,{size:20,fill:r.colors.accent.primary,color:r.colors.accent.primary})})})]}):It?l.jsx("img",{src:dt.public_url,alt:dt.original_filename||"Attachment",role:"button",tabIndex:0,onClick:tt=>{S.current=tt.currentTarget,ne({type:"image",url:dt.public_url})},onKeyDown:tt=>{(tt.key==="Enter"||tt.key===" ")&&(tt.preventDefault(),S.current=tt.currentTarget,ne({type:"image",url:dt.public_url}))},style:{maxWidth:"180px",maxHeight:"140px",objectFit:"cover",borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,cursor:"pointer",transition:`all ${r.transitions.fast}`},onMouseOver:tt=>{tt.target.style.transform="scale(1.02)",tt.target.style.boxShadow=r.shadows.md},onMouseOut:tt=>{tt.target.style.transform="scale(1)",tt.target.style.boxShadow="none"}}):l.jsxs("a",{href:dt.public_url,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.primaryLight,borderRadius:r.radius.md,textDecoration:"none"},children:[l.jsx(Ti,{size:14}),dt.original_filename||"Download attachment"]}),l.jsxs("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(hx,{size:12}),dt.uploaded_by_type==="customer"?"From customer":"From technician"]})]},dt.id)})})})()]})]})},B.id)}),l.jsx("div",{ref:d})]}):l.jsxs("div",{style:{textAlign:"center",padding:r.spacing["3xl"],color:r.colors.text.tertiary},children:[l.jsx("div",{style:{width:"64px",height:"64px",borderRadius:r.radius.full,backgroundColor:r.colors.background.tertiary,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",marginBottom:r.spacing.lg},children:l.jsx(zi,{size:28,style:{opacity:.4}})}),l.jsx("p",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,margin:0,marginBottom:r.spacing.xs},children:"No activity yet"}),l.jsx("p",{style:{fontSize:r.fontSize.sm,margin:0},children:"Be the first to add a comment"})]})}),l.jsxs("div",{ref:p,style:{paddingTop:r.spacing.xl,borderTop:`1px solid ${r.colors.border.light}`},children:[l.jsx("label",{htmlFor:"comment-textarea",style:{display:"block",fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,fontSize:r.fontSize.sm,marginBottom:r.spacing.md},children:"Add Comment"}),l.jsxs("form",{onSubmit:xe,style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[l.jsxs("div",{children:[l.jsx("textarea",{id:"comment-textarea",value:U,onChange:B=>ee(B.target.value),onFocus:()=>$(!0),placeholder:"Write a comment...",rows:4,maxLength:2e3,required:!0,style:{width:"100%",padding:r.spacing.lg,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.lg,fontSize:r.fontSize.sm,outline:"none",resize:"vertical",fontFamily:"inherit",lineHeight:r.lineHeight.relaxed,transition:`border-color ${r.transitions.fast}`,boxSizing:"border-box"},onFocusCapture:B=>B.currentTarget.style.borderColor=r.colors.border.focus,onBlur:B=>B.currentTarget.style.borderColor=r.colors.border.medium}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:r.spacing.sm},children:[l.jsx("p",{style:{fontSize:r.fontSize.xs,color:U.length<10?r.colors.text.tertiary:r.colors.accent.success,margin:0},children:U.length<10?`${10-U.length} more characters needed`:"Ready to submit"}),l.jsxs("p",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,margin:0},children:[U.length,"/2000"]})]})]}),l.jsxs("div",{onClick:()=>de(!fe),role:"checkbox","aria-checked":fe,tabIndex:0,onKeyDown:B=>{(B.key===" "||B.key==="Enter")&&(B.preventDefault(),de(!fe))},style:{display:"flex",alignItems:"center",gap:r.spacing.md,padding:r.spacing.lg,backgroundColor:fe?r.colors.accent.successLight:r.colors.background.secondary,border:`2px solid ${fe?r.colors.accent.success:r.colors.border.light}`,borderRadius:r.radius.lg,cursor:"pointer",transition:`all ${r.transitions.fast}`,animation:ue?"resolutionShine 1.2s ease-in-out 2":"none",backgroundImage:ue?"linear-gradient(90deg, transparent 0%, rgba(5, 150, 105, 0.15) 25%, rgba(5, 150, 105, 0.3) 50%, rgba(5, 150, 105, 0.15) 75%, transparent 100%)":"none",backgroundSize:ue?"200% 100%":"auto",transform:ue?"scale(1.01)":"scale(1)"},children:[l.jsx("div",{style:{width:"22px",height:"22px",borderRadius:r.radius.sm,border:`2px solid ${fe?r.colors.accent.success:r.colors.border.medium}`,backgroundColor:fe?r.colors.accent.success:"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:`all ${r.transitions.fast}`},children:fe&&l.jsx(Ft,{size:14,style:{color:r.colors.text.inverse}})}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:fe?r.colors.accent.success:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Mark as Resolution"}),l.jsx("div",{style:{fontSize:r.fontSize.xs,color:fe?r.colors.accent.success:r.colors.text.tertiary,lineHeight:r.lineHeight.normal},children:"This comment will be saved as the official resolution for this ticket"})]})]}),l.jsxs("button",{type:"submit",disabled:re||U.trim().length<10,style:{...Zr("primary",re||U.trim().length<10),alignSelf:"flex-start",padding:`${r.spacing.md} ${r.spacing.xl}`},onMouseEnter:B=>!(re||U.trim().length<10)&&(B.currentTarget.style.backgroundColor=r.colors.accent.primaryHover),onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[l.jsx(JK,{size:16}),re?"Adding...":"Add Comment"]})]})]})]})}),C.status_history&&C.status_history.length>0&&l.jsx(et,{children:l.jsxs("div",{style:{padding:r.spacing.xl},children:[l.jsxs("button",{onClick:()=>R(!P),"aria-expanded":P,style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",textAlign:"left",background:"none",border:"none",cursor:"pointer",padding:0},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(Tn,{size:18,style:{color:r.colors.text.tertiary}}),l.jsx("h3",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:"Status History"}),l.jsx(Je,{variant:"default",size:"sm",children:C.status_history.length})]}),l.jsx("div",{style:{width:"28px",height:"28px",borderRadius:r.radius.md,backgroundColor:r.colors.background.tertiary,display:"flex",alignItems:"center",justifyContent:"center",transition:`transform ${r.transitions.fast}`,transform:P?"rotate(180deg)":"rotate(0deg)"},children:l.jsx(Zn,{size:16,style:{color:r.colors.text.tertiary}})})]}),P&&l.jsx("div",{style:{marginTop:r.spacing.xl,display:"flex",flexDirection:"column",gap:r.spacing.sm},children:C.status_history.map((B,Te)=>l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md,padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.border.medium}`},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:r.radius.full,backgroundColor:r.colors.background.secondary,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:l.jsx(Tn,{size:14,style:{color:r.colors.text.tertiary}})}),l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,flexWrap:"wrap",marginBottom:r.spacing.sm},children:[l.jsx(Je,{variant:"default",size:"sm",children:B.from_status}),l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.lg},children:""}),l.jsx(Je,{variant:"primary",size:"sm",soft:!0,children:B.to_status})]}),l.jsxs("p",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,margin:0},children:["by ",B.changed_by_name," - ",ke(B.changed_at)]}),B.reason&&l.jsxs("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontStyle:"italic",margin:0,marginTop:r.spacing.sm,padding:r.spacing.sm,backgroundColor:r.colors.background.secondary,borderRadius:r.radius.md},children:["",B.reason,""]})]})]},Te))})]})})]}),V.type&&l.jsxs("div",{id:"lightbox-modal",onClick:()=>{ne({type:null,url:null}),S.current?.focus()},role:"dialog","aria-modal":"true","aria-label":"Media viewer",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.95)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:r.zIndex.modal+10,cursor:"pointer"},children:[l.jsx("button",{ref:j,onClick:()=>{ne({type:null,url:null}),S.current?.focus()},"aria-label":"Close media viewer",style:{position:"absolute",top:r.spacing.xl,right:r.spacing.xl,backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:r.radius.full,width:"44px",height:"44px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:r.colors.text.inverse,transition:`all ${r.transitions.fast}`},onMouseEnter:B=>B.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)",onMouseLeave:B=>B.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)",children:l.jsx($t,{size:20})}),V.type==="image"?l.jsx("img",{src:V.url,alt:"Full size",onClick:B=>B.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain",borderRadius:r.radius.lg,boxShadow:r.shadows["2xl"]}}):l.jsx("video",{src:V.url,controls:!0,autoPlay:!0,onClick:B=>B.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh",borderRadius:r.radius.lg,boxShadow:r.shadows["2xl"]}})]}),I&&l.jsx("div",{onClick:()=>{X(!1),m.current?.focus()},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:r.zIndex.modal,padding:Fe?0:r.spacing.xl,backdropFilter:"blur(4px)"},children:l.jsxs("div",{id:"similar-tickets-modal",onClick:B=>B.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"similar-tickets-title",style:{backgroundColor:r.colors.background.secondary,borderRadius:Fe?0:r.radius.xl,maxWidth:Fe?"100%":"900px",width:"100%",maxHeight:Fe?"100vh":"85vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:r.shadows["2xl"]},children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:r.colors.background.secondary},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx("div",{style:{width:"44px",height:"44px",borderRadius:r.radius.lg,backgroundColor:`${r.colors.chart.purple}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(py,{size:22,style:{color:r.colors.chart.purple},"aria-hidden":"true"})}),l.jsxs("div",{children:[l.jsx("h2",{id:"similar-tickets-title",style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Suggested Solutions"}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:"Similar resolved tickets that may help"})]})]}),l.jsx("button",{ref:g,onClick:()=>{X(!1),m.current?.focus()},"aria-label":"Close similar tickets modal",style:{backgroundColor:r.colors.background.tertiary,border:"none",cursor:"pointer",color:r.colors.text.secondary,padding:r.spacing.sm,borderRadius:r.radius.md,display:"flex",alignItems:"center",justifyContent:"center",transition:`all ${r.transitions.fast}`},onMouseEnter:B=>{B.currentTarget.style.backgroundColor=r.colors.background.hover,B.currentTarget.style.color=r.colors.text.primary},onMouseLeave:B=>{B.currentTarget.style.backgroundColor=r.colors.background.tertiary,B.currentTarget.style.color=r.colors.text.secondary},children:l.jsx($t,{size:20,"aria-hidden":"true"})})]}),l.jsx("div",{style:{padding:r.spacing.xl,overflowY:"auto",flex:1,backgroundColor:r.colors.background.tertiary},children:Ce.length===0?l.jsxs("div",{style:{textAlign:"center",padding:r.spacing["3xl"],color:r.colors.text.tertiary},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:r.radius.full,backgroundColor:r.colors.background.secondary,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",marginBottom:r.spacing.xl},children:l.jsx(py,{size:36,style:{opacity:.3},"aria-hidden":"true"})}),l.jsx("p",{style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.sm},children:"No similar tickets found"}),l.jsx("p",{style:{fontSize:r.fontSize.sm,margin:0},children:"There are no resolved tickets similar to this one."})]}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:Ce.map(B=>l.jsxs("div",{style:{padding:r.spacing.xl,backgroundColor:r.colors.background.secondary,borderRadius:r.radius.xl,border:`1px solid ${r.colors.border.light}`,boxShadow:r.shadows.sm},children:[l.jsx("div",{style:{marginBottom:r.spacing.lg},children:l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:r.spacing.md,marginBottom:r.spacing.sm},children:[l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:r.spacing.xs},children:[l.jsxs("span",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.bold,color:r.colors.accent.primary},children:["#",B.ticket_number]}),l.jsx(Je,{variant:"success",size:"sm",icon:l.jsx(Ft,{}),children:"Resolved"}),B.category_name&&l.jsx(Je,{variant:"primary",size:"sm",soft:!0,children:B.category_name})]}),l.jsx("h3",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0,lineHeight:r.lineHeight.normal},children:B.subject})]}),l.jsxs("button",{onClick:()=>{X(!1),t(`/tickets/${B.id}`)},"aria-label":`View full details for ticket #${B.ticket_number}`,style:{...Zr("secondary"),padding:`${r.spacing.xs} ${r.spacing.md}`,fontSize:r.fontSize.xs},onMouseEnter:Te=>{Te.currentTarget.style.backgroundColor=r.colors.accent.primary,Te.currentTarget.style.color=r.colors.text.inverse,Te.currentTarget.style.borderColor=r.colors.accent.primary},onMouseLeave:Te=>{Te.currentTarget.style.backgroundColor=r.colors.background.tertiary,Te.currentTarget.style.color=r.colors.text.secondary,Te.currentTarget.style.borderColor=r.colors.border.medium},children:[l.jsx(Ti,{size:12,"aria-hidden":"true"}),"View"]})]})}),B.description&&l.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.border.medium}`},children:[l.jsx("h4",{style:{fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.tertiary,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.sm},children:"Original Issue"}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,margin:0},children:B.description.length>400?B.description.substring(0,400)+"...":B.description})]}),B.resolution?l.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.accent.successLight,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.accent.success}`},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,marginBottom:r.spacing.sm},children:[l.jsx(Ft,{size:16,style:{color:r.colors.accent.success},"aria-hidden":"true"}),l.jsx("h4",{style:{fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.accent.success,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:"Resolution"})]}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,margin:0,marginBottom:r.spacing.lg},children:B.resolution}),l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:r.spacing.md,borderTop:`1px solid ${r.colors.accent.success}30`},children:[B.resolved_at&&l.jsxs("p",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.success,margin:0},children:["Resolved ",ke(B.resolved_at)]}),l.jsxs("button",{onClick:()=>{Xr(B.resolution)},"aria-label":`Use resolution from ticket #${B.ticket_number}`,style:Zr("success"),onMouseEnter:Te=>{Te.currentTarget.style.backgroundColor=r.colors.accent.successHover,Te.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:Te=>{Te.currentTarget.style.backgroundColor=r.colors.accent.success,Te.currentTarget.style.transform="translateY(0)"},children:[l.jsx(Ft,{size:14,"aria-hidden":"true"}),"Use This Solution"]})]})]}):l.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.border.medium}`},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,marginBottom:r.spacing.sm},children:[l.jsx(fn,{size:16,style:{color:r.colors.text.tertiary},"aria-hidden":"true"}),l.jsx("h4",{style:{fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.tertiary,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:"Resolution"})]}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,fontStyle:"italic",margin:0},children:"No resolution recorded for this ticket."}),B.resolved_at&&l.jsxs("p",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,margin:0,marginTop:r.spacing.sm},children:["Closed ",ke(B.resolved_at)]})]})]},B.id))})})]})}),le&&l.jsx("div",{onClick:()=>{J||(Me(!1),h.current?.focus())},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:r.zIndex.modal,padding:r.spacing.xl,backdropFilter:"blur(4px)"},children:l.jsxs("div",{id:"resolve-modal",onClick:B=>B.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"resolve-modal-title",style:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.xl,maxWidth:"520px",width:"100%",overflow:"hidden",boxShadow:r.shadows["2xl"]},children:[l.jsx("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx("div",{style:{width:"44px",height:"44px",borderRadius:r.radius.lg,backgroundColor:r.colors.accent.successLight,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Ft,{size:22,style:{color:r.colors.accent.success},"aria-hidden":"true"})}),l.jsxs("div",{children:[l.jsx("h2",{id:"resolve-modal-title",style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Resolve Ticket"}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:"Document how you resolved this issue"})]})]})}),l.jsxs("div",{style:{padding:r.spacing.xl},children:[l.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[l.jsx("label",{htmlFor:"resolution-textarea",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.sm},children:"Resolution Details"}),l.jsx("textarea",{id:"resolution-textarea",value:Ae,onChange:B=>We(B.target.value),placeholder:"Describe the steps you took to resolve this ticket...","aria-describedby":"resolution-char-count",rows:5,maxLength:2e3,disabled:Ke||J,style:{width:"100%",padding:r.spacing.lg,backgroundColor:Ke?r.colors.background.hover:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.lg,fontSize:r.fontSize.sm,outline:"none",resize:"vertical",fontFamily:"inherit",lineHeight:r.lineHeight.relaxed,opacity:Ke?.5:1,cursor:Ke?"not-allowed":"text",transition:`border-color ${r.transitions.fast}`,boxSizing:"border-box"},onFocus:B=>!Ke&&(B.currentTarget.style.borderColor=r.colors.border.focus),onBlur:B=>B.currentTarget.style.borderColor=r.colors.border.medium}),l.jsxs("p",{id:"resolution-char-count",style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.sm,marginBottom:0,textAlign:"right"},children:[Ae.length,"/2000"]})]}),l.jsxs("div",{role:"checkbox","aria-checked":Ke,"aria-label":"Skip writing a resolution",tabIndex:J?-1:0,onClick:()=>!J&&at(!Ke),onKeyDown:B=>{(B.key===" "||B.key==="Enter")&&!J&&(B.preventDefault(),at(!Ke))},style:{display:"flex",alignItems:"center",gap:r.spacing.md,padding:r.spacing.lg,backgroundColor:Ke?r.colors.background.tertiary:r.colors.background.secondary,border:`1px solid ${Ke?r.colors.accent.primary:r.colors.border.light}`,borderRadius:r.radius.lg,cursor:J?"not-allowed":"pointer",transition:`all ${r.transitions.fast}`},children:[l.jsx("div",{"aria-hidden":"true",style:{width:"20px",height:"20px",borderRadius:r.radius.sm,border:`2px solid ${Ke?r.colors.accent.primary:r.colors.border.medium}`,backgroundColor:Ke?r.colors.accent.primary:"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:`all ${r.transitions.fast}`},children:Ke&&l.jsx(Ft,{size:12,style:{color:r.colors.text.inverse}})}),l.jsx("span",{style:{fontSize:r.fontSize.sm,color:Ke?r.colors.text.primary:r.colors.text.secondary},children:"Resolve without adding resolution notes"})]})]}),l.jsxs("div",{style:{padding:r.spacing.xl,borderTop:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"flex-end",gap:r.spacing.md,backgroundColor:r.colors.background.tertiary},children:[l.jsx("button",{ref:v,onClick:()=>{Me(!1),h.current?.focus()},disabled:J,style:Zr("secondary",J),onMouseEnter:B=>!J&&(B.currentTarget.style.backgroundColor=r.colors.background.hover),onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.background.tertiary,children:"Cancel"}),l.jsxs("button",{onClick:Or,disabled:J||!Ke&&Ae.trim().length===0,style:Zr("success",J||!Ke&&Ae.trim().length===0),onMouseEnter:B=>!(J||!Ke&&Ae.trim().length===0)&&(B.currentTarget.style.backgroundColor=r.colors.accent.successHover),onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.accent.success,children:[l.jsx(Ft,{size:16}),J?"Resolving...":"Resolve Ticket"]})]})]})}),H&&l.jsx(IV,{ticketId:e,ticketNumber:C.ticket_number,onClose:()=>Oe(!1),onSuccess:B=>{Oe(!1),n("Sequence created successfully!","success"),t(`/sequences/${B}`)}})]})},Rl="",FV=1e4,KV=()=>{const{uuid:e}=Lf(),t=x.useRef(null),[n,i]=x.useState(null),[s,c]=x.useState(!0),[d,p]=x.useState(null),[m,g]=x.useState(""),[h,v]=x.useState(""),[S,j]=x.useState(!1),[k,w]=x.useState(!1),[C,_]=x.useState(!1),[E,A]=x.useState(!1),[T,O]=x.useState(""),[P,R]=x.useState(""),[U,ee]=x.useState(!1),[fe,de]=x.useState(""),[re,Se]=x.useState([]),[he,ge]=x.useState(null),[F,Y]=x.useState(null),[me,be]=x.useState(null),[Ee,$]=x.useState(0),[W,L]=x.useState(!1),[V,ne]=x.useState(null),[I,X]=x.useState(""),Ce=x.useRef(null),N=x.useCallback(async(xe=!1)=>{try{xe||c(!0);const Ye=await fetch(`${Rl}/api/tickets/public/${e}`);if(Ye.status===404){p("Ticket not found"),c(!1);return}if(!Ye.ok)throw new Error("Failed to fetch ticket");const Et=await Ye.json();i(Et),p(null)}catch(Ye){console.error("Error fetching ticket:",Ye),p("Failed to load ticket")}finally{c(!1)}},[e]),ye=x.useCallback(async()=>{try{const xe=await fetch(`${Rl}/api/tickets/${e}/attachments`);if(xe.ok){const Ye=await xe.json();Se(Ye||[]),console.log(" Attachments fetched:",Ye?.length||0)}}catch(xe){console.error("Error fetching attachments:",xe)}},[e]),oe=x.useCallback(xe=>re.filter(Ye=>Ye.comment_id===xe),[re]);x.useEffect(()=>{N(),ye()},[N,ye]),x.useEffect(()=>{const xe=setInterval(()=>{N(!0)},FV);return()=>clearInterval(xe)},[N]);const ue=xe=>{de(xe),setTimeout(()=>de(""),5e3)},Ne=async xe=>{if(xe.preventDefault(),!m.trim()||m.trim().length<10){alert("Comment must be at least 10 characters");return}if(!h.trim()){alert("Please enter your name");return}j(!0);try{if(!(await fetch(`${Rl}/api/tickets/public/${e}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comment_text:m,author_name:h})})).ok)throw new Error("Failed to add comment");ue("Comment added successfully!"),g(""),await N(),setTimeout(()=>{t.current?.scrollIntoView({behavior:"smooth"})},100)}catch(Ye){console.error("Error adding comment:",Ye),alert("Failed to add comment. Please try again.")}finally{j(!1)}},le=async()=>{_(!0);try{if(!(await fetch(`${Rl}/api/tickets/public/${e}/resolve`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({resolution:"Customer marked as resolved"})})).ok)throw new Error("Failed to resolve ticket");ue("Ticket marked as resolved!"),w(!1),await N()}catch(xe){console.error("Error resolving ticket:",xe),alert("Failed to mark ticket as resolved. Please try again.")}finally{_(!1)}},Me=async()=>{if(!T.trim()){alert("Please provide a reason for reopening");return}if(!P.trim()){alert("Please enter your name");return}ee(!0);try{const xe=await fetch(`${Rl}/api/tickets/public/${e}/reopen`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:T,reopened_by_name:P})});if(!xe.ok)throw new Error("Failed to reopen ticket");const Ye=await xe.json();ue("Ticket reopened successfully! A new ticket has been created."),A(!1),O(""),R(""),Ye.new_ticket_id&&setTimeout(()=>{window.location.href=`/ticket/${Ye.new_ticket_id}`},2e3)}catch(xe){console.error("Error reopening ticket:",xe),alert("Failed to reopen ticket. Please try again.")}finally{ee(!1)}},Ae=["image/jpeg","image/png","image/gif","image/webp"],We=["video/mp4","video/quicktime","video/webm","video/x-m4v"],Ke=[...Ae,...We],at=xe=>We.includes(xe?.type),J=xe=>{const Ye=xe.target.files?.[0];if(!Ye)return;if(!Ke.includes(Ye.type)){ne("Invalid file type. Only JPEG, PNG, GIF, WebP images and MP4, MOV, WebM videos are allowed."),be(null);return}const Et=at(Ye)?50*1024*1024:10*1024*1024,Or=at(Ye)?"50MB":"10MB";if(Ye.size>Et){ne(`File size exceeds ${Or} limit.`),be(null);return}be(Ye),ne(null)},ze=async()=>{if(!me){ne("Please select a file first");return}if(!I.trim()){ne("Please enter your name");return}L(!0),$(0),ne(null);try{const xe=new FormData;xe.append("file",me),xe.append("author_name",I.trim());const Ye=new XMLHttpRequest;await new Promise((Or,Yt)=>{Ye.upload.addEventListener("progress",ht=>{if(ht.lengthComputable){const Z=Math.round(ht.loaded/ht.total*100);$(Z)}}),Ye.addEventListener("load",()=>{if(Ye.status>=200&&Ye.status<300)Or(JSON.parse(Ye.responseText));else try{const ht=JSON.parse(Ye.responseText);Yt(new Error(ht.error||"Upload failed"))}catch{Yt(new Error("Upload failed"))}}),Ye.addEventListener("error",()=>{Yt(new Error("Network error during upload"))}),Ye.open("POST",`${Rl}/api/tickets/public/${e}/attachments`),Ye.send(xe)}),ue("Photo uploaded successfully!"),be(null),$(0),Ce.current&&(Ce.current.value=""),await Promise.all([N(),ye()]),setTimeout(()=>{t.current?.scrollIntoView({behavior:"smooth"})},100)}catch(xe){console.error("Error uploading file:",xe),ne(xe.message||"Failed to upload file. Please try again.")}finally{L(!1)}},it=()=>{be(null),ne(null),$(0),Ce.current&&(Ce.current.value="")},te=xe=>({open:{color:"blue",icon:Tn,label:"Open"},assigned:{color:"purple",icon:mc,label:"Assigned"},in_progress:{color:"yellow",icon:mo,label:"In Progress"},waiting_customer:{color:"orange",icon:zi,label:"Waiting for You"},resolved:{color:"green",icon:Ft,label:"Resolved"},closed:{color:"gray",icon:$t,label:"Closed"},cancelled:{color:"red",icon:Oc,label:"Cancelled"}})[xe]||{color:"gray",icon:Tn,label:xe},H=xe=>({urgent:{color:"red",icon:hi,label:"Urgent"},high:{color:"orange",icon:Vl,label:"High"},normal:{color:"blue",icon:Ka,label:"Normal"},low:{color:"gray",icon:Yl,label:"Low"}})[xe]||{color:"gray",icon:Ka,label:xe},Oe=xe=>xe?{high:{color:"red",label:"High"},medium:{color:"yellow",label:"Medium"},low:{color:"green",label:"Low"}}[xe]||{color:"gray",label:xe}:null,Fe=xe=>{if(!xe)return"N/A";const Ye=new Date(xe),Or=new Date-Ye,Yt=Math.floor(Or/6e4),ht=Math.floor(Or/36e5),Z=Math.floor(Or/864e5);return Yt<1?"Just now":Yt<60?`${Yt} min${Yt>1?"s":""} ago`:ht<24?`${ht} hour${ht>1?"s":""} ago`:Z<7?`${Z} day${Z>1?"s":""} ago`:Ye.toLocaleDateString()+" "+Ye.toLocaleTimeString()},Be=xe=>({customer:"bg-blue-50",tech:"bg-gray-50",system:"bg-yellow-50"})[xe]||"bg-gray-50",Qe=xe=>({customer:"C",tech:"T",system:"S"})[xe]||"?";if(s)return l.jsx("div",{style:{minHeight:"100vh",backgroundColor:r.colors.background.primary,padding:"2rem"},children:l.jsx("div",{style:{maxWidth:"900px",margin:"0 auto"},children:l.jsxs("div",{className:"animate-pulse space-y-6",children:[l.jsx("div",{style:{height:"100px",backgroundColor:"#e5e7eb",borderRadius:"8px"}}),l.jsx("div",{style:{height:"300px",backgroundColor:"#e5e7eb",borderRadius:"8px"}}),l.jsx("div",{style:{height:"400px",backgroundColor:"#e5e7eb",borderRadius:"8px"}})]})})});if(d||!n)return l.jsx("div",{style:{minHeight:"100vh",backgroundColor:r.colors.background.primary,display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:l.jsxs("div",{style:{textAlign:"center",maxWidth:"500px"},children:[l.jsx(so,{style:{width:"64px",height:"64px",color:"#d1d5db",margin:"0 auto 16px"}}),l.jsx("h1",{style:{color:"#111827",fontSize:"1.875rem",fontWeight:"bold",marginBottom:"12px"},children:"Ticket Not Found"}),l.jsx("p",{style:{color:"#6b7280",fontSize:"1rem",marginBottom:"24px"},children:d||"The ticket you're looking for doesn't exist or the link is invalid."}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"Please check the link and try again, or contact support if you need assistance."})]})});const Pe=te(n.status),mt=H(n.priority),lr=Oe(n.urgency),Xr=Pe.icon,sr=mt.icon,xt=["open","assigned","in_progress","waiting_customer"].includes(n.status),ir=n.status==="closed";return l.jsxs("div",{style:{minHeight:"100vh",backgroundColor:r.colors.background.primary,padding:"1rem"},children:[l.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto"},children:[fe&&l.jsxs("div",{style:{padding:"16px",backgroundColor:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(Ft,{style:{width:"20px",height:"20px",color:"#059669"}}),l.jsx("span",{style:{color:"#065f46",fontSize:"0.875rem",fontWeight:"500"},children:fe})]}),l.jsx("div",{style:{marginBottom:"32px",textAlign:"center"},children:l.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"12px",padding:"16px 24px",backgroundColor:"#1e3a5f",borderRadius:"12px",marginBottom:"24px"},children:[l.jsx(so,{style:{width:"32px",height:"32px",color:"white"}}),l.jsx("h1",{style:{color:"white",fontSize:"1.5rem",fontWeight:"bold",margin:0},children:"MAX Support"})]})}),l.jsx(et,{className:"mb-6",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[l.jsxs("h2",{style:{color:"#111827",fontSize:"2rem",fontWeight:"bold",marginBottom:"12px"},children:["Ticket #",n.ticket_number]}),l.jsxs(Je,{color:Pe.color,style:{fontSize:"1rem",padding:"8px 16px"},children:[l.jsx(Xr,{className:"w-5 h-5 mr-2"}),Pe.label]})]}),l.jsx("h3",{style:{color:"#374151",fontSize:"1.25rem",fontWeight:"600",textAlign:"center",marginTop:"16px"},children:n.subject})]})}),l.jsx(et,{className:"mb-6",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",marginBottom:"20px"},children:"Ticket Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(Ya,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),l.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Customer:"}),l.jsx("span",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"500"},children:n.customer_name||"N/A"})]}),n.customer_phone&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(cs,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),l.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Phone:"}),l.jsx("a",{href:`tel:${n.customer_phone}`,style:{color:"#1e3a5f",fontSize:"0.875rem",textDecoration:"none"},onMouseEnter:xe=>xe.currentTarget.style.textDecoration="underline",onMouseLeave:xe=>xe.currentTarget.style.textDecoration="none",children:n.customer_phone})]}),n.customer_email&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(vp,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),l.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Email:"}),l.jsx("a",{href:`mailto:${n.customer_email}`,style:{color:"#1e3a5f",fontSize:"0.875rem",textDecoration:"none"},onMouseEnter:xe=>xe.currentTarget.style.textDecoration="underline",onMouseLeave:xe=>xe.currentTarget.style.textDecoration="none",children:n.customer_email})]}),n.van_info&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(so,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),l.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Van:"}),l.jsx("span",{style:{color:"#111827",fontSize:"0.875rem"},children:n.van_info})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[l.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Priority:"}),l.jsxs(Je,{color:mt.color,children:[l.jsx(sr,{className:"w-3 h-3 mr-1"}),mt.label]}),lr&&l.jsxs(l.Fragment,{children:[l.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",marginLeft:"16px"},children:"Urgency:"}),l.jsx(Je,{color:lr.color,children:lr.label})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(Tn,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),l.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Created:"}),l.jsx("span",{style:{color:"#111827",fontSize:"0.875rem"},children:new Date(n.created_at).toLocaleString()})]})]}),n.description&&l.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"},children:[l.jsx("h4",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"600",marginBottom:"12px"},children:"Description"}),l.jsx("p",{style:{color:"#374151",fontSize:"0.875rem",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:n.description})]})]})}),l.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"24px",flexWrap:"wrap"},children:[xt&&l.jsxs("button",{onClick:()=>w(!0),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#059669",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",transition:"all 0.2s"},onMouseEnter:xe=>xe.currentTarget.style.backgroundColor="#047857",onMouseLeave:xe=>xe.currentTarget.style.backgroundColor="#059669",children:[l.jsx(Ft,{size:18}),"Mark as Resolved"]}),ir&&l.jsxs("button",{onClick:()=>A(!0),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#ea580c",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",transition:"all 0.2s"},onMouseEnter:xe=>xe.currentTarget.style.backgroundColor="#c2410c",onMouseLeave:xe=>xe.currentTarget.style.backgroundColor="#ea580c",children:[l.jsx(GK,{size:18}),"Reopen Ticket"]})]}),k&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",zIndex:1e3},children:l.jsx(et,{style:{maxWidth:"400px",width:"100%"},children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",marginBottom:"12px"},children:"Mark as Resolved?"}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem",marginBottom:"24px"},children:"Are you sure this issue has been resolved? This will notify our support team."}),l.jsxs("div",{style:{display:"flex",gap:"12px"},children:[l.jsx("button",{onClick:le,disabled:C,style:{flex:1,padding:"10px 16px",backgroundColor:"#059669",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:C?"not-allowed":"pointer",opacity:C?.5:1},children:C?"Resolving...":"Yes, Resolve"}),l.jsx("button",{onClick:()=>w(!1),disabled:C,style:{flex:1,padding:"10px 16px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px",color:"#374151",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer"},children:"Cancel"})]})]})})}),E&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",zIndex:1e3},children:l.jsx(et,{style:{maxWidth:"500px",width:"100%"},children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",marginBottom:"12px"},children:"Reopen Ticket"}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem",marginBottom:"16px"},children:"Please tell us why you're reopening this ticket."}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Your Name"}),l.jsx("input",{type:"text",value:P,onChange:xe=>R(xe.target.value),placeholder:"Enter your name",required:!0,style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Reason for Reopening"}),l.jsx("textarea",{value:T,onChange:xe=>O(xe.target.value),placeholder:"Explain why you need to reopen this ticket...",rows:4,required:!0,style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none",resize:"none"}})]})]}),l.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"24px"},children:[l.jsx("button",{onClick:Me,disabled:U,style:{flex:1,padding:"10px 16px",backgroundColor:"#ea580c",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:U?"not-allowed":"pointer",opacity:U?.5:1},children:U?"Reopening...":"Reopen Ticket"}),l.jsx("button",{onClick:()=>{A(!1),O(""),R("")},disabled:U,style:{flex:1,padding:"10px 16px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px",color:"#374151",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer"},children:"Cancel"})]})]})})}),l.jsx(et,{className:"mb-6",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[l.jsx(zi,{style:{width:"20px",height:"20px",color:"#374151"}}),l.jsx("h3",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Activity Timeline"}),l.jsx(Je,{color:"blue",children:n.comments?.length||0})]}),l.jsxs("div",{className:"space-y-4 mb-6",children:[n.comments&&n.comments.length>0?n.comments.map(xe=>l.jsx("div",{className:`p-4 rounded-lg ${Be(xe.author_type)} border border-gray-200`,children:l.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",flexShrink:0,backgroundColor:xe.author_type==="customer"?"#3b82f6":xe.author_type==="tech"?"#6b7280":"#eab308"},children:Qe(xe.author_type)}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px",flexWrap:"wrap"},children:[l.jsx("span",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"600"},children:xe.author_name}),l.jsx(Je,{color:xe.author_type==="customer"?"blue":xe.author_type==="tech"?"gray":"yellow",children:xe.author_type==="customer"?"Customer":xe.author_type==="tech"?"Support":"System"}),xe.is_resolution&&l.jsxs(Je,{color:"green",children:[l.jsx(Ft,{className:"w-3 h-3 mr-1"}),"Resolution"]})]}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginBottom:"8px"},children:Fe(xe.created_at)}),l.jsx("p",{style:{color:"#374151",fontSize:"0.875rem",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:xe.comment_text}),(()=>{const Ye=oe(xe.id);return Ye.length===0?null:l.jsx("div",{style:{marginTop:"12px",display:"flex",flexWrap:"wrap",gap:"8px"},children:Ye.map(Et=>{const Or=Et.mime_type?.startsWith("video/"),Yt=Et.mime_type?.startsWith("image/");return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[Or?l.jsxs("div",{onClick:()=>Y(Et.public_url),style:{position:"relative",cursor:"pointer",maxWidth:"300px",maxHeight:"200px",borderRadius:"8px",overflow:"hidden",border:"1px solid #e5e7eb",backgroundColor:"#000"},children:[l.jsx("video",{src:Et.public_url,style:{width:"100%",height:"100%",maxHeight:"200px",objectFit:"cover"}}),l.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:"50%",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s, background-color 0.2s"},onMouseOver:ht=>{ht.currentTarget.style.transform="translate(-50%, -50%) scale(1.1)",ht.currentTarget.style.backgroundColor="rgba(59, 130, 246, 0.8)"},onMouseOut:ht=>{ht.currentTarget.style.transform="translate(-50%, -50%)",ht.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.6)"},children:l.jsx($f,{size:24,style:{color:"white",marginLeft:"3px"}})})]}):Yt?l.jsx("img",{src:Et.public_url,alt:Et.original_filename||"Attachment",onClick:()=>ge(Et.public_url),style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s"},onMouseOver:ht=>{ht.target.style.transform="scale(1.02)",ht.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseOut:ht=>{ht.target.style.transform="scale(1)",ht.target.style.boxShadow="none"}}):l.jsx("a",{href:Et.public_url,target:"_blank",rel:"noopener noreferrer",style:{color:"#3b82f6",fontSize:"0.75rem"},children:Et.original_filename||"Download attachment"}),l.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(hx,{size:12}),Et.uploaded_by_type==="customer"?"Photo from customer":"Photo from technician"]})]},Et.id)})})})()]})]})},xe.id)):l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem",textAlign:"center",padding:"32px 0",fontStyle:"italic"},children:"No comments yet. Be the first to add one!"}),l.jsx("div",{ref:t})]}),l.jsxs("div",{style:{paddingTop:"24px",borderTop:"1px solid #e5e7eb"},children:[l.jsx("h4",{style:{color:"#111827",fontSize:"1rem",fontWeight:"600",marginBottom:"16px"},children:"Add a Comment"}),l.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Your Name"}),l.jsx("input",{type:"text",value:h,onChange:xe=>v(xe.target.value),placeholder:"Enter your name",required:!0,style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Comment"}),l.jsx("textarea",{value:m,onChange:xe=>g(xe.target.value),placeholder:"Add a comment...",rows:4,maxLength:2e3,required:!0,style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none",resize:"none"}}),l.jsxs("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px"},children:[m.length,"/2000 characters (minimum 10)"]})]}),l.jsxs("button",{type:"submit",disabled:S||m.trim().length<10||!h.trim(),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#1e3a5f",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:S||m.trim().length<10||!h.trim()?"not-allowed":"pointer",opacity:S||m.trim().length<10||!h.trim()?.5:1,boxShadow:"0 1px 2px rgba(0,0,0,0.05)",transition:"all 0.2s"},onMouseEnter:xe=>{!S&&m.trim().length>=10&&h.trim()&&(xe.currentTarget.style.backgroundColor="#2c5282")},onMouseLeave:xe=>xe.currentTarget.style.backgroundColor="#1e3a5f",children:[l.jsx(zi,{size:18}),S?"Adding Comment...":"Add Comment"]})]}),l.jsxs("div",{style:{marginTop:"32px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"},children:[l.jsxs("h4",{style:{color:"#111827",fontSize:"1rem",fontWeight:"600",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(hx,{size:18}),"Upload Photo or Video"]}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem",marginBottom:"16px"},children:"Share photos or videos related to your issue. Images: JPEG, PNG, GIF, WebP (max 10MB). Videos: MP4, MOV, WebM (max 50MB)"}),l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Your Name"}),l.jsx("input",{type:"text",value:I,onChange:xe=>X(xe.target.value),placeholder:"Enter your name",style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none"}})]}),l.jsx("input",{ref:Ce,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp,video/mp4,video/quicktime,video/webm",onChange:J,style:{display:"none"},id:"photo-upload"}),me?l.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"12px",padding:"16px",backgroundColor:"#fafafa"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"16px",marginBottom:"16px"},children:[at(me)?l.jsxs("div",{style:{width:"120px",height:"100px",borderRadius:"8px",border:"1px solid #e5e7eb",overflow:"hidden",position:"relative",backgroundColor:"#000"},children:[l.jsx("video",{src:URL.createObjectURL(me),style:{width:"100%",height:"100%",objectFit:"cover"}}),l.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx($f,{size:16,style:{color:"white",marginLeft:"2px"}})})]}):l.jsx("img",{src:URL.createObjectURL(me),alt:"Preview",style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb"}}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("p",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"500",marginBottom:"4px",display:"flex",alignItems:"center",gap:"6px"},children:[at(me)&&l.jsx(oO,{size:14,style:{color:"#6b7280"}}),me.name]}),l.jsxs("p",{style:{color:"#6b7280",fontSize:"0.75rem"},children:[(me.size/1024/1024).toFixed(2)," MB"]}),l.jsxs("button",{type:"button",onClick:it,style:{marginTop:"8px",padding:"4px 8px",backgroundColor:"transparent",border:"1px solid #ef4444",borderRadius:"4px",color:"#ef4444",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx($t,{size:12}),"Remove"]})]})]}),W&&l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("div",{style:{height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"},children:l.jsx("div",{style:{height:"100%",width:`${Ee}%`,backgroundColor:"#3b82f6",transition:"width 0.3s ease"}})}),l.jsxs("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px",textAlign:"center"},children:["Uploading... ",Ee,"%"]})]}),l.jsx("button",{type:"button",onClick:ze,disabled:W||!I.trim(),style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",padding:"12px 20px",backgroundColor:"#10b981",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:W||!I.trim()?"not-allowed":"pointer",opacity:W||!I.trim()?.5:1,transition:"all 0.2s"},children:W?l.jsxs(l.Fragment,{children:[l.jsx(Jn,{size:18,style:{animation:"spin 1s linear infinite"}}),"Uploading..."]}):l.jsxs(l.Fragment,{children:[l.jsx(P2,{size:18}),"Upload Photo"]})})]}):l.jsxs("label",{htmlFor:"photo-upload",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"32px",border:"2px dashed #d1d5db",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s",backgroundColor:"#fafafa"},onMouseEnter:xe=>{xe.currentTarget.style.borderColor="#3b82f6",xe.currentTarget.style.backgroundColor="#f0f9ff"},onMouseLeave:xe=>{xe.currentTarget.style.borderColor="#d1d5db",xe.currentTarget.style.backgroundColor="#fafafa"},children:[l.jsx(P2,{size:32,style:{color:"#9ca3af",marginBottom:"12px"}}),l.jsx("span",{style:{color:"#374151",fontSize:"0.875rem",fontWeight:"500"},children:"Click to select a photo or video"}),l.jsx("span",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px"},children:"or drag and drop"})]}),V&&l.jsxs("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#dc2626",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(Oc,{size:16}),V]})]})]})]})}),l.jsx("div",{style:{textAlign:"center",paddingTop:"24px",paddingBottom:"24px",borderTop:"1px solid #e5e7eb"},children:l.jsxs("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:["Need help? Contact MAX Support at ",l.jsx("a",{href:"mailto:support@maxsupport.com",style:{color:"#1e3a5f",textDecoration:"none"},children:"support@maxsupport.com"})]})})]}),he&&l.jsxs("div",{onClick:()=>ge(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,cursor:"pointer"},children:[l.jsx("button",{onClick:()=>ge(null),style:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#ffffff"},children:l.jsx($t,{size:24})}),l.jsx("img",{src:he,alt:"Full size",onClick:xe=>xe.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain",borderRadius:"8px"}})]}),F&&l.jsxs("div",{onClick:()=>Y(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,cursor:"pointer"},children:[l.jsx("button",{onClick:()=>Y(null),style:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#ffffff",zIndex:1e4},children:l.jsx($t,{size:24})}),l.jsx("video",{src:F,controls:!0,autoPlay:!0,onClick:xe=>xe.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh",borderRadius:"8px"}})]})]})},Pd="",YV=()=>{const e=Ri(),{showToast:t}=bp(),{user:n,logout:i,hasRole:s}=mn(),[c,d]=x.useState({owner_name:"",phone:"",email:"",subject:"",description:"",priority:"normal",urgency:"medium",owner_id:"",van_id:"",category_id:""}),[p,m]=x.useState({}),[g,h]=x.useState(!1),[v,S]=x.useState(!1),[j,k]=x.useState(null),[w,C]=x.useState(!1),[_,E]=x.useState([]),[A,T]=x.useState([]),[O,P]=x.useState([]),[R,U]=x.useState(!0),[ee,fe]=x.useState(!0),[de,re]=x.useState(!0),[Se,he]=x.useState(""),[ge,F]=x.useState(!1),[Y,me]=x.useState(""),[be,Ee]=x.useState(!1),$=x.useRef(null),W=x.useRef(null),L=x.useRef(null),V=x.useRef(null),ne=x.useRef(null),[I,X]=x.useState(-1),[Ce,N]=x.useState(-1),ye=x.useRef([]),oe=x.useRef([]),[ue,Ne]=x.useState({top:0,left:0,width:0}),[le,Me]=x.useState({top:0,left:0,width:0}),Ae=x.useRef(null);x.useEffect(()=>{const Z=ke=>{const qe=$.current&&$.current.contains(ke.target),zt=document.getElementById("owner-listbox"),yr=zt&&zt.contains(ke.target);!qe&&!yr&&F(!1)};return ge&&document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[ge]),x.useEffect(()=>{const Z=ke=>{const qe=L.current&&L.current.contains(ke.target),zt=document.getElementById("van-listbox"),yr=zt&&zt.contains(ke.target);!qe&&!yr&&Ee(!1)};return be&&document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[be]),x.useEffect(()=>{v&&Ae.current&&Ae.current.focus()},[v]),x.useEffect(()=>()=>{ne.current&&clearTimeout(ne.current)},[]),x.useEffect(()=>{ge&&X(-1)},[ge]),x.useEffect(()=>{be&&N(-1)},[be]);const We=x.useCallback(async Z=>{U(!0);try{const ke=await fetch(`${Pd}/api/owners?limit=100`,{credentials:"include",signal:Z});if(!ke.ok)throw new Error("Failed to fetch owners");const qe=await ke.json();E(qe.owners||[])}catch(ke){if(ke.name==="AbortError")return;t("Failed to load owners","error")}finally{U(!1)}},[t]),Ke=x.useRef(null),at=x.useCallback(async Z=>{if(!Z){T([]);return}const ke=Z;Ke.current=ke,fe(!0),T([]);try{const qe=await fetch(`${Pd}/api/vans?owner_id=${Z}&limit=100`,{credentials:"include"});if(!qe.ok)throw new Error("Failed to fetch vans");const zt=await qe.json();Ke.current===ke&&T(zt.vans||[])}catch{Ke.current===ke&&t("Failed to load vans","error")}finally{Ke.current===ke&&fe(!1)}},[t]),J=x.useCallback(async Z=>{re(!0);try{const ke=await fetch(`${Pd}/api/categories`,{credentials:"include",signal:Z});if(!ke.ok)throw new Error("Failed to fetch categories");const qe=await ke.json();P(qe.categories||[])}catch(ke){if(ke.name==="AbortError")return}finally{re(!1)}},[]);x.useEffect(()=>{const Z=new AbortController;return We(Z.signal),J(Z.signal),()=>Z.abort()},[We,J]);const ze=x.useMemo(()=>c.owner_id?A:[],[A,c.owner_id,ee]),it=x.useMemo(()=>{if(!Y.trim())return ze;const Z=Y.toLowerCase();return ze.filter(ke=>{const qe=(ke.van_number||"").toLowerCase(),zt=(ke.make||"").toLowerCase(),yr=String(ke.year||"");return qe.includes(Z)||zt.includes(Z)||yr.includes(Z)})},[ze,Y]),te=x.useMemo(()=>c.van_id&&A.find(Z=>Z.id===c.van_id)||null,[A,c.van_id]),H=x.useMemo(()=>c.owner_id&&_.find(Z=>Z.id===c.owner_id)||null,[_,c.owner_id]),Oe=x.useMemo(()=>{if(!Se.trim())return _;const Z=Se.toLowerCase();return _.filter(ke=>{const qe=(ke.name||"").toLowerCase(),zt=(ke.company||"").toLowerCase(),yr=(ke.phone||"").toLowerCase(),Dn=(ke.email||"").toLowerCase();return qe.includes(Z)||zt.includes(Z)||yr.includes(Z)||Dn.includes(Z)})},[_,Se]),Fe=Z=>{const{name:ke,value:qe}=Z.target;d(zt=>({...zt,[ke]:qe})),p[ke]&&m(zt=>({...zt,[ke]:null}))},Be=x.useCallback(()=>{if(W.current){const Z=W.current.getBoundingClientRect();Ne({top:Z.bottom,left:Z.left,width:Z.width})}},[]),Qe=x.useCallback(()=>{if(V.current){const Z=V.current.getBoundingClientRect();Me({top:Z.bottom,left:Z.left,width:Z.width})}},[]),Pe=()=>{ge||Be(),F(!ge)},mt=()=>{be||Qe(),Ee(!be)},lr=Z=>{const ke=_.find(qe=>qe.id===Z);d(qe=>({...qe,owner_id:Z,owner_name:ke?.name||"",phone:ke?.phone||"",email:ke?.email||"",van_id:""})),he(""),F(!1),me(""),Ee(!1),at(Z),p.owner_name&&m(qe=>({...qe,owner_name:null}))},Xr=()=>{d(Z=>({...Z,owner_id:"",owner_name:"",phone:"",email:"",van_id:""})),he(""),me(""),T([])},sr=Z=>{d(ke=>({...ke,van_id:Z})),me(""),Ee(!1),p.van_id&&m(ke=>({...ke,van_id:null}))},xt=()=>{d(Z=>({...Z,van_id:""})),me("")},ir=()=>{const Z={};return c.owner_id||(Z.owner_name="Please select a customer"),c.phone.trim()?/^[\d\s\-\+\(\)]+$/.test(c.phone)||(Z.phone="Invalid phone number format"):Z.phone="Phone number is required - please select a customer",c.email.trim()&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)||(Z.email="Invalid email format")),c.subject.trim()?c.subject.trim().length<5?Z.subject="Subject must be at least 5 characters":c.subject.length>200&&(Z.subject="Subject must be less than 200 characters"):Z.subject="Subject is required",c.description.trim()?c.description.trim().length<20?Z.description="Description must be at least 20 characters":c.description.length>2e3&&(Z.description="Description must be less than 2000 characters"):Z.description="Description is required",m(Z),Object.keys(Z).length===0},xe=async Z=>{if(Z.preventDefault(),!ir()){t("Please fix the errors in the form","error");return}h(!0);try{const ke=await fetch(`${Pd}/api/tickets/create`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({owner_name:c.owner_name.trim(),phone:c.phone.trim(),email:c.email.trim()||null,subject:c.subject.trim(),issue_summary:c.subject.trim(),description:c.description.trim(),priority:c.priority,urgency:c.urgency||null,owner_id:c.owner_id||null,van_id:c.van_id||null,category_id:c.category_id||null})});if(!ke.ok){const yr=await ke.json();throw new Error(yr.error||"Failed to create ticket")}const qe=await ke.json(),zt={id:qe.ticket_id,number:qe.ticket_number,uuid:qe.ticket_id};k(zt),S(!0),t(`Ticket #${qe.ticket_number} created successfully!`,"success")}catch(ke){console.error("Error creating ticket:",ke),t(ke.message||"Failed to create ticket","error")}finally{h(!1)}},Ye=async()=>{if(j){const Z=`${window.location.origin}/ticket/${j.uuid}`;try{await navigator.clipboard.writeText(Z),C(!0),t("Link copied to clipboard!","success"),ne.current&&clearTimeout(ne.current),ne.current=setTimeout(()=>C(!1),3e3)}catch{t("Failed to copy link to clipboard","error")}}},Et=()=>{S(!1),k(null),C(!1),d({owner_name:"",phone:"",email:"",subject:"",description:"",priority:"normal",urgency:"medium",owner_id:"",van_id:"",category_id:""}),he(""),F(!1),m({}),me(""),Ee(!1),T([])},Yt=(Z=>{const ke={urgent:{color:"red",icon:hi,label:"Urgent"},high:{color:"orange",icon:Vl,label:"High"},normal:{color:"blue",icon:Ka,label:"Normal"},low:{color:"gray",icon:Yl,label:"Low"}};return ke[Z]||ke.normal})(c.priority),ht=Yt.icon;return l.jsxs("div",{className:"flex min-h-screen",style:{backgroundColor:"#f9fafb"},children:[l.jsx(Cr,{user:n,onLogout:i,hasRole:s}),l.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:"2rem"},children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("button",{onClick:()=>e("/tickets"),style:{display:"flex",alignItems:"center",gap:"8px",color:"#6b7280",fontSize:"0.875rem",marginBottom:"16px",background:"none",border:"none",cursor:"pointer",transition:"color 0.2s"},onMouseEnter:Z=>Z.currentTarget.style.color="#111827",onMouseLeave:Z=>Z.currentTarget.style.color="#6b7280",children:[l.jsx(Rf,{className:"w-4 h-4"}),"Back to Tickets"]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-[#1e3a5f] rounded-lg",children:l.jsx(mr,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{style:{color:"#111827",fontSize:"1.875rem",fontWeight:"bold",marginBottom:"4px"},children:"Create New Ticket"}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"Create a support ticket for a customer"})]})]})]}),l.jsxs("form",{onSubmit:xe,children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx(et,{children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:[l.jsx(Ya,{style:{width:"20px",height:"20px",color:"#1e3a5f"}}),l.jsx("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Customer Information"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{id:"owner_id-label",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Customer Name ",l.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),l.jsx("span",{className:"sr-only",children:"(required)"})]}),l.jsxs("div",{ref:$,style:{position:"relative"},children:[l.jsx(Ya,{"aria-hidden":"true",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af",pointerEvents:"none",zIndex:1}}),R?l.jsxs("div",{"aria-live":"polite",style:{display:"flex",alignItems:"center",gap:"8px",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[l.jsx(Jn,{"aria-hidden":"true",size:16,style:{animation:"spin 1s linear infinite"}}),"Loading customers..."]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{ref:W,role:"combobox","aria-expanded":ge,"aria-haspopup":"listbox","aria-controls":"owner-listbox","aria-labelledby":"owner_id-label","aria-required":"true","aria-invalid":!!p.owner_name,"aria-describedby":p.owner_name?"owner_id-error":void 0,tabIndex:0,onClick:Pe,onKeyDown:Z=>{Z.key==="Enter"||Z.key===" "?(Z.preventDefault(),Pe()):Z.key==="Escape"&&F(!1)},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${p.owner_name?"#dc2626":ge?"#1e3a5f":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",minHeight:"40px",outline:"none"},children:[H?l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[l.jsxs("span",{style:{color:r.colors.text.primary},children:[H.name,H.company?` (${H.company})`:""]}),l.jsx("button",{type:"button",onClick:Z=>{Z.stopPropagation(),Xr()},"aria-label":"Clear customer selection",style:{background:"none",border:"none",padding:"2px 6px",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center"},children:l.jsx($t,{size:14})})]}):l.jsx("span",{style:{color:r.colors.text.tertiary},children:"Select a customer..."}),l.jsx(Zn,{"aria-hidden":"true",size:16,style:{color:"#9ca3af",transform:ge?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s",flexShrink:0}})]}),ge&&Yd.createPortal(l.jsxs("div",{id:"owner-listbox",role:"listbox","aria-labelledby":"owner_id-label",style:{position:"fixed",top:ue.top,left:ue.left,width:ue.width,backgroundColor:"white",border:"1px solid #1e3a5f",borderRadius:r.radius.md,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:9999,maxHeight:"300px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[l.jsx("div",{style:{padding:"8px",borderBottom:`1px solid ${r.colors.border.light}`},children:l.jsxs("div",{style:{position:"relative"},children:[l.jsx(mi,{size:14,style:{position:"absolute",left:"8px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),l.jsx("input",{type:"text",value:Se,onChange:Z=>he(Z.target.value),onClick:Z=>Z.stopPropagation(),placeholder:"Search customers...","aria-label":"Search customers",style:{width:"100%",padding:"6px 8px 6px 28px",border:`1px solid ${r.colors.border.medium}`,borderRadius:"4px",fontSize:"0.8125rem",outline:"none"},autoFocus:!0})]})}),l.jsx("div",{style:{overflowY:"auto",maxHeight:"220px"},onKeyDown:Z=>{if(Oe.length!==0)if(Z.key==="ArrowDown"){Z.preventDefault();const ke=I<Oe.length-1?I+1:0;X(ke),ye.current[ke]?.focus()}else if(Z.key==="ArrowUp"){Z.preventDefault();const ke=I>0?I-1:Oe.length-1;X(ke),ye.current[ke]?.focus()}else Z.key==="Escape"&&(F(!1),W.current?.focus())},children:Oe.length===0?l.jsx("div",{style:{padding:"12px",textAlign:"center",color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:Se?"No customers match your search":"No customers available"}):Oe.map((Z,ke)=>l.jsxs("div",{ref:qe=>ye.current[ke]=qe,role:"option","aria-selected":c.owner_id===Z.id,tabIndex:-1,onClick:()=>lr(Z.id),onKeyDown:qe=>{(qe.key==="Enter"||qe.key===" ")&&(qe.preventDefault(),lr(Z.id))},onFocus:()=>X(ke),style:{padding:"10px 12px",cursor:"pointer",backgroundColor:I===ke?"#e0e7ff":c.owner_id===Z.id?"#eff6ff":"transparent",borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.15s",outline:"none"},onMouseEnter:qe=>{X(ke),c.owner_id!==Z.id&&(qe.currentTarget.style.backgroundColor="#f9fafb")},onMouseLeave:qe=>{c.owner_id!==Z.id&&I!==ke&&(qe.currentTarget.style.backgroundColor="transparent")},children:[l.jsxs("div",{style:{fontWeight:"500",color:r.colors.text.primary,fontSize:r.fontSize.sm},children:[Z.name,Z.company?` (${Z.company})`:""]}),l.jsxs("div",{style:{color:r.colors.text.tertiary,fontSize:"0.75rem",marginTop:"2px"},children:[Z.phone,Z.email?`  ${Z.email}`:""]})]},Z.id))})]}),document.body)]})]}),p.owner_name&&l.jsx("p",{id:"owner_id-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem",marginTop:"4px"},children:p.owner_name})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"phone",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Phone Number ",l.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),l.jsx("span",{className:"sr-only",children:"(required)"}),H&&c.phone&&l.jsx("span",{style:{color:"#6b7280",fontWeight:"normal",marginLeft:"8px",fontSize:"0.75rem"},children:"(pre-filled, can edit)"})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(cs,{"aria-hidden":"true",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af"}}),l.jsx("input",{id:"phone",type:"tel",name:"phone",value:c.phone,onChange:Fe,"aria-required":"true","aria-invalid":!!p.phone,"aria-describedby":p.phone?"phone-error":void 0,placeholder:"Enter phone number",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${p.phone?"#dc2626":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}})]}),p.phone&&l.jsx("p",{id:"phone-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem",marginTop:"4px"},children:p.phone})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"email",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Email ",l.jsx("span",{style:{color:"#6b7280",fontWeight:"normal"},children:"(optional)"}),H&&c.email&&l.jsx("span",{style:{color:"#6b7280",fontWeight:"normal",marginLeft:"8px",fontSize:"0.75rem"},children:"(pre-filled, can edit)"})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(vp,{"aria-hidden":"true",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af"}}),l.jsx("input",{id:"email",type:"email",name:"email",value:c.email,onChange:Fe,"aria-invalid":!!p.email,"aria-describedby":p.email?"email-error":void 0,placeholder:"Enter email address",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${p.email?"#dc2626":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}})]}),p.email&&l.jsx("p",{id:"email-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem",marginTop:"4px"},children:p.email})]})]})]})}),l.jsx(et,{children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:[l.jsx(ra,{style:{width:"20px",height:"20px",color:"#1e3a5f"}}),l.jsx("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Van Information"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{id:"van_id-label",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Van ",l.jsx("span",{style:{color:"#6b7280",fontWeight:"normal"},children:"(optional)"})]}),l.jsxs("div",{ref:L,style:{position:"relative"},children:[l.jsx(ra,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af",pointerEvents:"none",zIndex:1}}),ee&&c.owner_id?l.jsxs("div",{"aria-live":"polite",style:{display:"flex",alignItems:"center",gap:"8px",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[l.jsx(Jn,{"aria-hidden":"true",size:16,style:{animation:"spin 1s linear infinite"}}),"Loading vans..."]}):c.owner_id?l.jsxs(l.Fragment,{children:[l.jsxs("div",{ref:V,role:"combobox","aria-expanded":be,"aria-haspopup":"listbox","aria-controls":"van-listbox","aria-labelledby":"van_id-label",tabIndex:0,onClick:mt,onKeyDown:Z=>{Z.key==="Enter"||Z.key===" "?(Z.preventDefault(),mt()):Z.key==="Escape"&&Ee(!1)},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${be?"#1e3a5f":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",minHeight:"40px",outline:"none"},children:[te?l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[l.jsxs("span",{style:{color:r.colors.text.primary},children:[te.van_number," - ",te.make," ",te.version," (",te.year,")"]}),l.jsx("button",{type:"button",onClick:Z=>{Z.stopPropagation(),xt()},"aria-label":"Clear van selection",style:{background:"none",border:"none",padding:"2px 6px",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center"},children:l.jsx($t,{size:14})})]}):l.jsx("span",{style:{color:r.colors.text.tertiary},children:ze.length===0?"No vans for this owner":"Select a van..."}),l.jsx(Zn,{"aria-hidden":"true",size:16,style:{color:"#9ca3af",transform:be?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s",flexShrink:0}})]}),be&&ze.length>0&&Yd.createPortal(l.jsxs("div",{id:"van-listbox",role:"listbox","aria-labelledby":"van_id-label",style:{position:"fixed",top:le.top,left:le.left,width:le.width,backgroundColor:"white",border:"1px solid #1e3a5f",borderRadius:r.radius.md,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:9999,maxHeight:"280px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[l.jsx("div",{style:{padding:"8px",borderBottom:`1px solid ${r.colors.border.light}`},children:l.jsxs("div",{style:{position:"relative"},children:[l.jsx(mi,{size:14,style:{position:"absolute",left:"8px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),l.jsx("input",{type:"text",value:Y,onChange:Z=>me(Z.target.value),onClick:Z=>Z.stopPropagation(),placeholder:"Search vans...","aria-label":"Search vans",style:{width:"100%",padding:"6px 8px 6px 28px",border:`1px solid ${r.colors.border.medium}`,borderRadius:"4px",fontSize:"0.8125rem",outline:"none"},autoFocus:!0})]})}),l.jsx("div",{style:{overflowY:"auto",maxHeight:"220px"},onKeyDown:Z=>{if(it.length!==0)if(Z.key==="ArrowDown"){Z.preventDefault();const ke=Ce<it.length-1?Ce+1:0;N(ke),oe.current[ke]?.focus()}else if(Z.key==="ArrowUp"){Z.preventDefault();const ke=Ce>0?Ce-1:it.length-1;N(ke),oe.current[ke]?.focus()}else Z.key==="Escape"&&(Ee(!1),V.current?.focus())},children:it.length===0?l.jsx("div",{style:{padding:"12px",textAlign:"center",color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"No vans match your search"}):it.map((Z,ke)=>l.jsxs("div",{ref:qe=>oe.current[ke]=qe,role:"option","aria-selected":c.van_id===Z.id,tabIndex:-1,onClick:()=>sr(Z.id),onKeyDown:qe=>{(qe.key==="Enter"||qe.key===" ")&&(qe.preventDefault(),sr(Z.id))},onFocus:()=>N(ke),style:{padding:"10px 12px",cursor:"pointer",backgroundColor:Ce===ke?"#e0e7ff":c.van_id===Z.id?"#eff6ff":"transparent",borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.15s",outline:"none"},onMouseEnter:qe=>{N(ke),c.van_id!==Z.id&&(qe.currentTarget.style.backgroundColor="#f9fafb")},onMouseLeave:qe=>{c.van_id!==Z.id&&Ce!==ke&&(qe.currentTarget.style.backgroundColor="transparent")},children:[l.jsx("div",{style:{fontWeight:"500",color:r.colors.text.primary,fontSize:r.fontSize.sm},children:Z.van_number}),l.jsxs("div",{style:{color:r.colors.text.tertiary,fontSize:"0.75rem",marginTop:"2px"},children:[Z.make," ",Z.version," - ",Z.year]})]},Z.id))})]}),document.body)]}):l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:"#f3f4f6",border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.tertiary,fontSize:r.fontSize.sm,cursor:"not-allowed"},children:[l.jsx("span",{children:"Select a customer first"}),l.jsx(Zn,{size:16,style:{color:"#9ca3af"}})]})]}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px"},children:c.owner_id?ze.length===0?"This customer has no registered vans":`${ze.length} van${ze.length!==1?"s":""} available for this customer`:"Select a customer in Customer Information to see available vans"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"category_id",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Category ",l.jsx("span",{style:{color:"#6b7280",fontWeight:"normal"},children:"(optional)"})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(iO,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af",pointerEvents:"none",zIndex:1}}),de?l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[l.jsx(Jn,{size:16,style:{animation:"spin 1s linear infinite"}}),"Loading categories..."]}):l.jsxs("select",{id:"category_id",name:"category_id",value:c.category_id,onChange:Fe,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,color:c.category_id?r.colors.text.primary:r.colors.text.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none",cursor:"pointer",appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},children:[l.jsx("option",{value:"",children:"Select a category..."}),O.map(Z=>l.jsx("option",{value:Z.id,children:Z.name},Z.id))]}),l.jsx(Zn,{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af",pointerEvents:"none"}})]}),O.length===0&&!de&&l.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px"},children:"No categories available"})]})]})]})})]}),l.jsx("div",{className:"space-y-6",children:l.jsx(et,{children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:[l.jsx(so,{style:{width:"20px",height:"20px",color:"#1e3a5f"}}),l.jsx("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Ticket Details"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"subject",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Subject ",l.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),l.jsx("span",{className:"sr-only",children:"(required)"})]}),l.jsx("input",{id:"subject",type:"text",name:"subject",value:c.subject,onChange:Fe,placeholder:"Brief description of the issue",maxLength:200,required:!0,"aria-required":"true","aria-invalid":!!p.subject,"aria-describedby":p.subject?"subject-error":"subject-hint",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${p.subject?"#dc2626":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"4px"},children:p.subject?l.jsx("p",{id:"subject-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem"},children:p.subject}):l.jsxs("p",{id:"subject-hint",style:{color:"#6b7280",fontSize:"0.75rem"},children:[c.subject.length,"/200 characters"]})})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"description",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Description ",l.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),l.jsx("span",{className:"sr-only",children:"(required)"})]}),l.jsx("textarea",{id:"description",name:"description",value:c.description,onChange:Fe,placeholder:"Describe the issue in detail...",rows:6,maxLength:2e3,required:!0,"aria-required":"true","aria-invalid":!!p.description,"aria-describedby":p.description?"description-error":"description-hint",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${p.description?"#dc2626":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none",resize:"vertical"}}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"4px"},children:p.description?l.jsx("p",{id:"description-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem"},children:p.description}):l.jsxs("p",{id:"description-hint",style:{color:"#6b7280",fontSize:"0.75rem"},children:[c.description.length,"/2000 characters (minimum 20)"]})})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"priority",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Priority ",l.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),l.jsx("span",{className:"sr-only",children:"(required)"})]}),l.jsxs("select",{id:"priority",name:"priority",value:c.priority,onChange:Fe,required:!0,"aria-required":"true",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none"},children:[l.jsx("option",{value:"low",children:"Low"}),l.jsx("option",{value:"normal",children:"Normal"}),l.jsx("option",{value:"high",children:"High"}),l.jsx("option",{value:"urgent",children:"Urgent"})]}),l.jsx("div",{style:{marginTop:"8px"},children:l.jsxs(Je,{color:Yt.color,children:[l.jsx(ht,{className:"w-3 h-3 mr-1"}),Yt.label]})})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"urgency",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Urgency ",l.jsx("span",{style:{color:"#6b7280",fontWeight:"normal"},children:"(optional)"})]}),l.jsxs("select",{id:"urgency",name:"urgency",value:c.urgency,onChange:Fe,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none"},children:[l.jsx("option",{value:"low",children:"Low"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"high",children:"High"})]})]})]})]})})})]}),l.jsxs("div",{style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[l.jsx("button",{type:"button",onClick:()=>e("/tickets"),style:{padding:"12px 20px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px",color:"#374151",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:Z=>Z.currentTarget.style.backgroundColor="#f9fafb",onMouseLeave:Z=>Z.currentTarget.style.backgroundColor="white",children:"Cancel"}),l.jsxs("button",{type:"submit",disabled:g,style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",backgroundColor:"#1e3a5f",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:g?"not-allowed":"pointer",opacity:g?.5:1,boxShadow:"0 1px 2px rgba(0,0,0,0.05)",transition:"all 0.2s"},onMouseEnter:Z=>!g&&(Z.currentTarget.style.backgroundColor="#2c5282"),onMouseLeave:Z=>Z.currentTarget.style.backgroundColor="#1e3a5f",children:[l.jsx(mr,{size:18}),g?"Creating Ticket...":"Create Ticket"]})]})]}),v&&j&&l.jsx("div",{ref:Ae,role:"dialog","aria-modal":"true","aria-labelledby":"success-modal-title",tabIndex:-1,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",zIndex:1e3,outline:"none"},onKeyDown:Z=>{Z.key==="Escape"&&Et()},children:l.jsx(et,{style:{maxWidth:"600px",width:"100%"},children:l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[l.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#d1fae5",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:l.jsx(Ft,{style:{width:"32px",height:"32px",color:"#059669"}})}),l.jsxs("h2",{id:"success-modal-title",style:{color:"#111827",fontSize:"1.5rem",fontWeight:"bold",marginBottom:"8px"},children:["Ticket #",j.number," Created!"]}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"The support ticket has been created successfully"})]}),l.jsxs("div",{style:{padding:"16px",backgroundColor:"#f9fafb",borderRadius:"8px",marginBottom:"24px"},children:[l.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"600",marginBottom:"8px"},children:"Customer Link (share with customer)"}),l.jsxs("div",{style:{display:"flex",gap:"8px"},children:[l.jsx("input",{type:"text",value:`${window.location.origin}/ticket/${j.uuid}`,readOnly:!0,style:{flex:1,padding:"10px 12px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem",color:"#111827"}}),l.jsx("button",{onClick:Ye,style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 16px",backgroundColor:w?"#059669":"#1e3a5f",border:"none",borderRadius:"6px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",whiteSpace:"nowrap",transition:"all 0.2s"},children:w?l.jsxs(l.Fragment,{children:[l.jsx(Ft,{size:16}),"Copied!"]}):l.jsxs(l.Fragment,{children:[l.jsx(XE,{size:16}),"Copy"]})})]})]}),l.jsxs("div",{style:{display:"flex",gap:"12px"},children:[l.jsx("button",{onClick:()=>e(`/tickets/${j.id}`),style:{flex:1,padding:"12px 20px",backgroundColor:"#1e3a5f",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:Z=>Z.currentTarget.style.backgroundColor="#2c5282",onMouseLeave:Z=>Z.currentTarget.style.backgroundColor="#1e3a5f",children:"View Ticket"}),l.jsx("button",{onClick:Et,style:{flex:1,padding:"12px 20px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px",color:"#374151",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:Z=>Z.currentTarget.style.backgroundColor="#f9fafb",onMouseLeave:Z=>Z.currentTarget.style.backgroundColor="white",children:"Create Another"})]})]})})})]})]})},VV="",cO=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`:null,GV=()=>{const{sequenceKey:e}=Lf(),[t]=Bf(),n=t.get("step"),i=n?parseInt(n,10):null,[s,c]=x.useState(null),[d,p]=x.useState(!0),[m,g]=x.useState(null);if(x.useEffect(()=>{e&&(async()=>{try{p(!0);const P=await fetch(`${VV}/api/sequences/${e}/supplies`);if(P.status===404){g("Sequence not found"),p(!1);return}if(!P.ok)throw new Error("Failed to fetch supplies");const R=await P.json();c(R),g(null)}catch(P){console.error("Error fetching supplies:",P),g("Failed to load supplies information")}finally{p(!1)}})()},[e]),d)return l.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f8fafc",padding:"1rem"},children:l.jsx("div",{style:{maxWidth:"600px",margin:"0 auto"},children:l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsx("div",{style:{height:"80px",backgroundColor:"#e5e7eb",borderRadius:"12px"}}),l.jsx("div",{style:{height:"200px",backgroundColor:"#e5e7eb",borderRadius:"12px"}}),l.jsx("div",{style:{height:"200px",backgroundColor:"#e5e7eb",borderRadius:"12px"}})]})})});if(m||!s)return l.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f8fafc",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:l.jsxs("div",{style:{textAlign:"center",maxWidth:"400px"},children:[l.jsx(fn,{style:{width:"48px",height:"48px",color:"#d1d5db",margin:"0 auto 16px"}}),l.jsx("h1",{style:{color:"#111827",fontSize:"1.5rem",fontWeight:"bold",marginBottom:"12px"},children:"Not Found"}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:m||"The supplies information you're looking for doesn't exist."})]})});let h=s.tools||[],v=s.parts||[];i!==null&&(h=h.filter(O=>O.step_num===i||!O.step_num),v=v.filter(O=>O.step_num===i||!O.step_num));const S=h.length>0,j=v.length>0,k=!S&&!j,w=h.filter(O=>!O.step_num),C=v.filter(O=>!O.step_num),_=[...new Set([...h.filter(O=>O.step_num).map(O=>O.step_num),...v.filter(O=>O.step_num).map(O=>O.step_num)])].sort((O,P)=>O-P),E=w.length>0||C.length>0,A=_.length>0,T=i===null&&A;return l.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f8fafc",padding:"1rem"},children:l.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem",padding:"1rem"},children:[l.jsx("h1",{style:{color:"#1e3a5f",fontSize:"1.5rem",fontWeight:"700",marginBottom:"0.5rem"},children:i!==null?`Step ${i} Supplies`:"Supplies Needed"}),s.sequence_name&&l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:s.sequence_name})]}),k&&l.jsx(et,{children:l.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[l.jsx(Ft,{style:{width:"48px",height:"48px",color:"#10b981",margin:"0 auto 16px"}}),l.jsx("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",marginBottom:"8px"},children:"No Special Supplies Needed"}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"You can complete this repair without any special tools or replacement parts."})]})}),E&&l.jsx(et,{style:{marginBottom:"1rem"},children:l.jsxs("div",{style:{padding:"1rem"},children:[T&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:"2px solid #1e3a5f"},children:[l.jsx("h2",{style:{color:"#1e3a5f",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"General Supplies"}),l.jsx(Je,{color:"blue",children:w.length+C.length})]}),l.jsx(F2,{tools:w,parts:C,showStepHeaders:T})]})}),_.map(O=>{const P=s.tools?.filter(U=>U.step_num===O)||[],R=s.parts?.filter(U=>U.step_num===O)||[];return l.jsx(et,{style:{marginBottom:"1rem"},children:l.jsxs("div",{style:{padding:"1rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:"2px solid #5a8aa3"},children:[l.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",backgroundColor:"#1e3a5f",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",fontWeight:"700"},children:O}),l.jsxs("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:["Step ",O," Supplies"]}),l.jsx(Je,{color:"blue",children:P.length+R.length})]}),l.jsx(F2,{tools:P,parts:R,showStepHeaders:!0})]})},O)}),!k&&l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",padding:"1rem",backgroundColor:"#eff6ff",borderRadius:"8px",marginBottom:"1rem"},children:[l.jsx(JE,{style:{width:"16px",height:"16px",color:"#3b82f6",flexShrink:0,marginTop:"2px"}}),l.jsx("p",{style:{color:"#1e40af",fontSize:"0.75rem",margin:0,lineHeight:"1.5"},children:"Having the right tools and parts ready before you start will help you complete the repair more efficiently."})]}),l.jsx("div",{style:{textAlign:"center",padding:"1rem",borderTop:"1px solid #e5e7eb"},children:l.jsx("p",{style:{color:"#9ca3af",fontSize:"0.75rem"},children:"MAX Van Support"})})]})})},F2=({tools:e,parts:t,showStepHeaders:n})=>{const i=e.filter(g=>g.is_required),s=e.filter(g=>!g.is_required),c=t.filter(g=>g.is_required),d=t.filter(g=>!g.is_required),p=e.length>0,m=t.length>0;return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[p&&l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"0.75rem",paddingBottom:"0.5rem",borderBottom:"1px solid #e5e7eb"},children:[l.jsx(mo,{style:{width:"18px",height:"18px",color:"#1e3a5f"}}),l.jsx("h3",{style:{color:"#111827",fontSize:"1rem",fontWeight:"600",margin:0},children:"Tools"}),l.jsx(Je,{color:"blue",children:e.length})]}),i.length>0&&l.jsxs("div",{style:{marginBottom:s.length>0?"1rem":0},children:[s.length>0&&l.jsx("p",{style:{color:"#dc2626",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Required"}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:i.map(g=>l.jsx(K2,{tool:g},g.id))})]}),s.length>0&&l.jsxs("div",{children:[l.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Optional"}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:s.map(g=>l.jsx(K2,{tool:g},g.id))})]})]}),m&&l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"0.75rem",paddingBottom:"0.5rem",borderBottom:"1px solid #e5e7eb"},children:[l.jsx(LK,{style:{width:"18px",height:"18px",color:"#10b981"}}),l.jsx("h3",{style:{color:"#111827",fontSize:"1rem",fontWeight:"600",margin:0},children:"Replacement Parts"}),l.jsx(Je,{color:"green",children:t.length})]}),c.length>0&&l.jsxs("div",{style:{marginBottom:d.length>0?"1rem":0},children:[d.length>0&&l.jsx("p",{style:{color:"#dc2626",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Required"}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:c.map(g=>l.jsx(Y2,{part:g},g.id))})]}),d.length>0&&l.jsxs("div",{children:[l.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Optional"}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:d.map(g=>l.jsx(Y2,{part:g},g.id))})]})]})]})},K2=({tool:e})=>l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[l.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:e.is_required?"#fef2f2":"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.is_required?l.jsx(Ft,{size:14,style:{color:"#dc2626"}}):l.jsx(GE,{size:14,style:{color:"#9ca3af"}})}),l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsx("p",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"500",margin:0,marginBottom:e.tool_description?"4px":0},children:e.tool_name}),e.tool_description&&l.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",margin:0,lineHeight:"1.4"},children:e.tool_description})]}),e.tool_link&&l.jsxs("a",{href:cO(e.tool_link),target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 10px",backgroundColor:"#1e3a5f",color:"white",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"500",textDecoration:"none",flexShrink:0},children:["View",l.jsx(Ti,{size:12})]})]}),Y2=({part:e})=>{const t=n=>n?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n):null;return l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[l.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:e.is_required?"#fef2f2":"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.is_required?l.jsx(Ft,{size:14,style:{color:"#dc2626"}}):l.jsx(GE,{size:14,style:{color:"#9ca3af"}})}),l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsx("p",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"500",margin:0,marginBottom:"4px"},children:e.part_name}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",alignItems:"center"},children:[e.part_number&&l.jsxs("span",{style:{color:"#6b7280",fontSize:"0.75rem",backgroundColor:"#e5e7eb",padding:"2px 6px",borderRadius:"4px"},children:["#",e.part_number]}),e.estimated_price&&l.jsxs("span",{style:{color:"#059669",fontSize:"0.75rem",fontWeight:"500"},children:["~",t(e.estimated_price)]})]}),e.part_description&&l.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",margin:0,marginTop:"4px",lineHeight:"1.4"},children:e.part_description})]}),e.part_link&&l.jsxs("a",{href:cO(e.part_link),target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 10px",backgroundColor:"#10b981",color:"white",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"500",textDecoration:"none",flexShrink:0},children:["Buy",l.jsx(nO,{size:12})]})]})},hy="",XV=3e4,yy={active:5,waiting:30},QV=[{value:"recent",label:"Most Recent Activity"},{value:"oldest",label:"Oldest First"},{value:"longest_wait",label:"Longest Wait"},{value:"step",label:"By Step Number"},{value:"van",label:"By Van Number"}],ZV=()=>{Ri();const{showToast:e}=bp(),{user:t,logout:n,hasRole:i}=mn(),[s,c]=x.useState([]),[d,p]=x.useState(!0),[m,g]=x.useState(!1),[h,v]=x.useState(!0),[S,j]=x.useState(new Set),[k,w]=x.useState(null),[C,_]=x.useState(null),[E,A]=x.useState("all"),[T,O]=x.useState("recent"),[P,R]=x.useState(new Set),[U,ee]=x.useState({}),[fe,de]=x.useState(new Set),re=x.useCallback(async(I=!1)=>{try{I?g(!0):p(!0);const X=await fetch(`${hy}/api/sequences/active`,{credentials:"include"});if(!X.ok)throw new Error("Failed to fetch active sequences");const Ce=await X.json();c(Ce||[])}catch(X){console.error("Error fetching active sequences:",X),e("Failed to load active sequences","error")}finally{p(!1),g(!1)}},[e]);x.useEffect(()=>{re()},[re]),x.useEffect(()=>{if(!h)return;const I=setInterval(()=>{re(!0)},XV);return()=>clearInterval(I)},[re,h]);const Se=x.useMemo(()=>{const I=new Set;return s.forEach(X=>{X.sequence_name?I.add(X.sequence_name):X.sequence_key&&I.add(X.sequence_key)}),Array.from(I).sort()},[s]),he=x.useMemo(()=>{const I=s.length,X=s.filter(N=>(N.minutes_since_last_interaction||0)>yy.waiting).length,Ce=I>0?Math.round(s.reduce((N,ye)=>N+(ye.minutes_since_last_interaction||0),0)/I):0;return{total:I,needsAttention:X,avgTime:Ce}},[s]),ge=x.useMemo(()=>{let I=[...s];switch(E!=="all"&&(I=I.filter(X=>X.sequence_name===E||X.sequence_key===E)),T){case"recent":I.sort((X,Ce)=>new Date(Ce.last_interaction||0)-new Date(X.last_interaction||0));break;case"oldest":I.sort((X,Ce)=>new Date(X.last_interaction||0)-new Date(Ce.last_interaction||0));break;case"longest_wait":I.sort((X,Ce)=>(Ce.minutes_since_last_interaction||0)-(X.minutes_since_last_interaction||0));break;case"step":I.sort((X,Ce)=>(Ce.current_step||0)-(X.current_step||0));break;case"van":I.sort((X,Ce)=>{const N=X.van_number||"",ye=Ce.van_number||"";return N.toString().localeCompare(ye.toString(),void 0,{numeric:!0})});break}return I},[s,E,T]),F=I=>I<yy.active?{label:"Active",color:"green",dotColor:r.colors.accent.success}:I<yy.waiting?{label:"Waiting",color:"yellow",dotColor:r.colors.accent.warning}:{label:"Needs Attention",color:"red",dotColor:r.colors.accent.danger},Y=I=>{if(!I)return"N/A";const X=new Date(I),N=new Date-X,ye=Math.floor(N/6e4),oe=Math.floor(ye/60),ue=Math.floor(oe/24);return ye<1?"Just now":ye<60?`${ye}m ago`:oe<24?`${oe}h ${ye%60}m ago`:`${ue}d ${oe%24}h ago`},me=I=>{j(X=>{const Ce=new Set(X);return Ce.has(I)?Ce.delete(I):Ce.add(I),Ce})},be=async I=>{if(!U[I]){de(X=>new Set(X).add(I));try{const X=await fetch(`${hy}/api/sequences/${I}/messages`,{credentials:"include"});if(!X.ok)throw new Error("Failed to fetch messages");const Ce=await X.json();ee(N=>({...N,[I]:Ce||[]}))}catch(X){console.error("Error fetching messages:",X),e("Failed to load messages","error")}finally{de(X=>{const Ce=new Set(X);return Ce.delete(I),Ce})}}},Ee=(I,X)=>{X.stopPropagation(),R(Ce=>{const N=new Set(Ce);return N.has(I)?N.delete(I):(N.add(I),U[I]||be(I)),N})},$=(I,X)=>{X.stopPropagation();const Ce=I.replace(/\D/g,"");navigator.clipboard.writeText(Ce).then(()=>{e("Phone number copied!","success")}).catch(()=>{e("Failed to copy phone number","error")})},W=async(I,X=!1)=>{w(I.id),_(null);try{const Ce=await fetch(`${hy}/api/sequences/${I.id}/close`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"closed",createTicket:X,closedBy:t?.email||"tech"})});if(!Ce.ok)throw new Error("Failed to close sequence");const N=await Ce.json();N.success?(X&&N.ticketNumber?e(`Sequence closed. Ticket #${N.ticketNumber} created.`,"success"):e("Sequence closed successfully","success"),c(ye=>ye.filter(oe=>oe.id!==I.id))):e(N.message||"Failed to close sequence","error")}catch(Ce){console.error("Error closing sequence:",Ce),e("Failed to close sequence","error")}finally{w(null)}},L=(I,X)=>{_({sequence:I,createTicket:X,title:X?"Close & Create Ticket":"Close Sequence",message:X?`Close this sequence and create a support ticket for ${I.phone_number}?`:`Close this sequence for ${I.phone_number}? This cannot be undone.`})},V=I=>{if(!I)return"Unknown";const X=I.replace(/\D/g,"");return X.length===10?`(${X.slice(0,3)}) ${X.slice(3,6)}-${X.slice(6)}`:X.length===11&&X.startsWith("1")?`+1 (${X.slice(1,4)}) ${X.slice(4,7)}-${X.slice(7)}`:I},ne=I=>I?new Date(I).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return d?l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(Cr,{user:t,onLogout:n,hasRole:i}),l.jsx("div",{style:{flex:1,marginLeft:"260px",padding:r.spacing.xl},children:l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:l.jsx(Jn,{size:48,style:{color:r.colors.accent.primary,animation:"spin 1s linear infinite"}})})})]}):l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(Cr,{user:t,onLogout:n,hasRole:i}),l.jsxs("div",{style:{flex:1,marginLeft:"260px",padding:r.spacing.xl},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx(yx,{size:28,style:{color:r.colors.accent.primary}}),l.jsx("h1",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Active Sequences"}),l.jsx(Je,{color:"blue",children:s.length})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsxs("button",{onClick:()=>v(!h),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:h?r.colors.accent.primary:"transparent",color:h?"#fff":r.colors.text.secondary,border:`1px solid ${h?r.colors.accent.primary:r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},title:h?"Auto-refresh enabled (30s)":"Auto-refresh disabled",children:[h?l.jsx($f,{size:16}):l.jsx(qK,{size:16}),"Auto-refresh"]}),l.jsxs("button",{onClick:()=>re(!0),disabled:m,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:m?"not-allowed":"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,opacity:m?.6:1,transition:"all 0.2s"},children:[l.jsx(Ob,{size:16,style:{animation:m?"spin 1s linear infinite":"none"}}),"Refresh"]})]})]}),l.jsx(et,{style:{marginBottom:r.spacing.lg},children:l.jsxs("div",{style:{padding:r.spacing.md,display:"flex",alignItems:"center",justifyContent:"center",gap:r.spacing.xl},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(yx,{size:18,style:{color:r.colors.accent.primary}}),l.jsxs("span",{style:{color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:[he.total," active"]})]}),l.jsx("div",{style:{width:"1px",height:"20px",backgroundColor:r.colors.border.light}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(fn,{size:18,style:{color:he.needsAttention>0?r.colors.accent.danger:r.colors.text.tertiary}}),l.jsxs("span",{style:{color:he.needsAttention>0?r.colors.accent.danger:r.colors.text.secondary,fontWeight:he.needsAttention>0?r.fontWeight.semibold:r.fontWeight.normal},children:[he.needsAttention," waiting >30min"]})]}),l.jsx("div",{style:{width:"1px",height:"20px",backgroundColor:r.colors.border.light}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(Tn,{size:18,style:{color:r.colors.text.tertiary}}),l.jsxs("span",{style:{color:r.colors.text.secondary},children:["Avg time: ",he.avgTime," min"]})]})]})}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.lg,alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(ZE,{size:16,style:{color:r.colors.text.tertiary}}),l.jsxs("select",{value:E,onChange:I=>A(I.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",minWidth:"180px"},children:[l.jsx("option",{value:"all",children:"All Sequences"}),Se.map(I=>l.jsx("option",{value:I,children:I},I))]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(FF,{size:16,style:{color:r.colors.text.tertiary}}),l.jsx("select",{value:T,onChange:I=>O(I.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",minWidth:"180px"},children:QV.map(I=>l.jsx("option",{value:I.value,children:I.label},I.value))})]}),E!=="all"&&l.jsxs("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:["Showing ",ge.length," of ",s.length]})]}),ge.length===0&&l.jsx(et,{children:l.jsxs("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:[l.jsx(Ft,{size:48,style:{color:r.colors.accent.success,marginBottom:r.spacing.md}}),l.jsx("h3",{style:{margin:0,marginBottom:r.spacing.sm,color:r.colors.text.primary,fontSize:r.fontSize.lg},children:E!=="all"?"No Matching Sequences":"No Active Sequences"}),l.jsx("p",{style:{margin:0,fontSize:r.fontSize.sm},children:E!=="all"?"No sequences match the selected filter.":"There are no customers currently going through troubleshooting sequences."})]})}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:ge.map(I=>{const X=F(I.minutes_since_last_interaction||0),Ce=S.has(I.id),N=k===I.id,ye=P.has(I.id),oe=fe.has(I.id),ue=U[I.id]||[];return l.jsx(et,{style:{opacity:N?.6:1},children:l.jsxs("div",{style:{padding:r.spacing.lg},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg,cursor:"pointer"},onClick:()=>me(I.id),children:[l.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:X.dotColor,flexShrink:0}}),l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:"4px"},children:[l.jsx(cs,{size:14,style:{color:r.colors.text.tertiary}}),l.jsxs("button",{onClick:Ne=>$(I.phone_number,Ne),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,background:"none",border:"none",padding:0,cursor:"pointer",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.base},title:"Click to copy phone number",children:[V(I.phone_number),l.jsx(XE,{size:12,style:{color:r.colors.text.tertiary}})]}),I.owner_name&&l.jsxs("span",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["(",I.owner_name,")"]})]}),I.van_number&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(ra,{size:14,style:{color:r.colors.text.tertiary}}),l.jsxs("span",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["Van #",I.van_number,I.van_make&&` - ${I.van_make}`,I.van_version&&` ${I.van_version}`,I.van_year&&` ${I.van_year}`]})]})]}),l.jsxs("div",{style:{textAlign:"center",minWidth:"150px"},children:[l.jsx("div",{style:{color:r.colors.text.primary,fontWeight:r.fontWeight.medium,fontSize:r.fontSize.sm},children:I.sequence_name||I.sequence_key}),l.jsxs("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs},children:["Step ",I.current_step]})]}),l.jsxs("div",{style:{textAlign:"right",minWidth:"120px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,justifyContent:"flex-end"},children:[l.jsx(Tn,{size:14,style:{color:r.colors.text.tertiary}}),l.jsx("span",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:Y(I.last_interaction)})]}),l.jsx(Je,{color:X.color,size:"sm",style:{marginTop:"4px"},children:X.label})]}),l.jsx("div",{style:{flexShrink:0},children:Ce?l.jsx(Ec,{size:20,style:{color:r.colors.text.tertiary}}):l.jsx(Zn,{size:20,style:{color:r.colors.text.tertiary}})})]}),Ce&&l.jsxs("div",{style:{marginTop:r.spacing.lg,paddingTop:r.spacing.lg,borderTop:`1px solid ${r.colors.border.light}`},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:r.spacing.md,marginBottom:r.spacing.lg},children:[I.sequence_description&&l.jsxs("div",{children:[l.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Description"}),l.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:I.sequence_description})]}),l.jsxs("div",{children:[l.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Started"}),l.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:I.started_at?new Date(I.started_at).toLocaleString():"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Last Interaction"}),l.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:I.last_interaction?new Date(I.last_interaction).toLocaleString():"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Handoff Count"}),l.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:I.handoff_count||0})]}),I.owner_phone&&l.jsxs("div",{children:[l.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Owner Phone"}),l.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:V(I.owner_phone)})]})]}),l.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[l.jsxs("button",{onClick:Ne=>Ee(I.id,Ne),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:ye?r.colors.background.tertiary:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},children:[l.jsx(zi,{size:16}),ye?"Hide Messages":"View Messages",ye?l.jsx(Ec,{size:14}):l.jsx(Zn,{size:14})]}),ye&&l.jsx("div",{style:{marginTop:r.spacing.md,padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,maxHeight:"400px",overflowY:"auto"},children:oe?l.jsx("div",{style:{display:"flex",justifyContent:"center",padding:r.spacing.lg},children:l.jsx(Jn,{size:24,style:{color:r.colors.accent.primary,animation:"spin 1s linear infinite"}})}):ue.length===0?l.jsx("div",{style:{textAlign:"center",color:r.colors.text.tertiary,padding:r.spacing.lg},children:"No messages found"}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.sm},children:ue.map(Ne=>{const le=Ne.direction==="outbound";return l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:le?"flex-start":"flex-end"},children:[l.jsx("div",{style:{maxWidth:"80%",padding:r.spacing.sm,borderRadius:r.radius.md,backgroundColor:le?r.colors.background.secondary:r.colors.accent.primary,color:le?r.colors.text.primary:"#fff",fontSize:r.fontSize.sm,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:Ne.message_body}),l.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:"2px"},children:[ne(Ne.created_at),le?" (System)":" (Customer)"]})]},Ne.id)})})})]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,justifyContent:"flex-end"},children:[l.jsxs("button",{onClick:Ne=>{Ne.stopPropagation(),L(I,!1)},disabled:N,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:N?"not-allowed":"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},children:[l.jsx($t,{size:16}),"Close Sequence"]}),l.jsxs("button",{onClick:Ne=>{Ne.stopPropagation(),L(I,!0)},disabled:N,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.primary,color:"#fff",border:"none",borderRadius:r.radius.md,cursor:N?"not-allowed":"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},children:[N?l.jsx(Jn,{size:16,style:{animation:"spin 1s linear infinite"}}):l.jsx(so,{size:16}),"Close & Create Ticket"]})]})]})]})},I.id)})}),C&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:l.jsx(et,{style:{width:"400px",maxWidth:"90vw"},children:l.jsxs("div",{style:{padding:r.spacing.xl},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.lg},children:[l.jsx(fn,{size:24,style:{color:r.colors.accent.warning}}),l.jsx("h3",{style:{margin:0,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:C.title})]}),l.jsx("p",{style:{margin:0,marginBottom:r.spacing.xl,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:C.message}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>_(null),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"Cancel"}),l.jsx("button",{onClick:()=>W(C.sequence,C.createTicket),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:C.createTicket?r.colors.accent.primary:r.colors.accent.danger,color:"#fff",border:"none",borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:C.createTicket?"Create Ticket":"Close"})]})]})})})]})]})},Fd=e=>{if(!e)return{valid:!1,error:"Phone number is required"};const t=e.replace(/\D/g,"");return t.length===10||t.length===11&&t[0]==="1"?{valid:!0,formatted:uO(t)}:{valid:!1,error:"Phone number must be 10 digits"}},uO=e=>{const t=e.replace(/\D/g,"");if(t.length===11&&t[0]==="1"){const n=t.slice(1,4),i=t.slice(4,7),s=t.slice(7,11);return`+1 (${n}) ${i}-${s}`}if(t.length===10){const n=t.slice(0,3),i=t.slice(3,6),s=t.slice(6,10);return`+1 (${n}) ${i}-${s}`}return e},dO=e=>e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?{valid:!0}:{valid:!1,error:"Invalid email format"}:{valid:!1,error:"Email is required"},JV=e=>{if(!e)return{valid:!1,error:"Year is required"};const t=new Date().getFullYear(),n=parseInt(e,10);return isNaN(n)?{valid:!1,error:"Year must be a number"}:n<2e3?{valid:!1,error:"Year must be 2000 or later"}:n>t+1?{valid:!1,error:`Year cannot be later than ${t+1}`}:{valid:!0}},eG=e=>!e||e.trim()===""?{valid:!1,error:"Van number is required"}:{valid:!0},tG=e=>{if(!e||e.trim()==="")return{valid:!0};const t=e.toUpperCase();return t.length!==17?{valid:!1,error:"VIN must be exactly 17 characters"}:/[IOQ]/.test(t)?{valid:!1,error:"VIN cannot contain letters I, O, or Q"}:{valid:!0}},fO=e=>!e||e.trim()===""?{valid:!1,error:"Name is required"}:e.trim().length<2?{valid:!1,error:"Name must be at least 2 characters"}:{valid:!0},rG=e=>{const t=["Ford","Mercedes"];return e?t.includes(e)?{valid:!0}:{valid:!1,error:"Make must be Ford or Mercedes"}:{valid:!1,error:"Make is required"}},nG=e=>{const t=["3000","4000"];return e?t.includes(e)?{valid:!0}:{valid:!1,error:"Version must be 3000 or 4000"}:{valid:!1,error:"Version is required"}};function iG(){const{user:e,logout:t,hasRole:n}=mn(),[i,s]=Bf(),[c,d]=x.useState([]),[p,m]=x.useState([]),[g,h]=x.useState(!0),[v,S]=x.useState(""),[j,k]=x.useState(""),[w,C]=x.useState(""),[_,E]=x.useState(""),[A,T]=x.useState(""),[O,P]=x.useState(""),[R,U]=x.useState(""),[ee,fe]=x.useState(parseInt(i.get("page"))||1),[de,re]=x.useState(parseInt(i.get("limit"))||25),[Se,he]=x.useState(null),[ge,F]=x.useState(!1),[Y,me]=x.useState(!1),[be,Ee]=x.useState(!1),[$,W]=x.useState(null),[L,V]=x.useState(null),[ne,I]=x.useState({van_number:"",make:"",version:"",year:new Date().getFullYear(),vin:"",owner_id:""}),[X,Ce]=x.useState({});x.useEffect(()=>{const H=setTimeout(()=>{if(E(w),w!==_){fe(1);const Oe=new URLSearchParams(i);Oe.set("page","1"),s(Oe)}},500);return()=>clearTimeout(H)},[w]);const N=x.useCallback(async()=>{h(!0),S("");try{const H=new URLSearchParams({page:ee.toString(),limit:de.toString()});_&&_.trim()!==""&&H.append("search",_.trim());const Oe=await fetch(`/api/vans?${H.toString()}`,{credentials:"include"});if(!Oe.ok)throw new Error("Failed to fetch vans");const Fe=await Oe.json();d(Fe.vans||[]),he(Fe.pagination),console.log(" Vans fetched:",Fe.vans?.length||0,"Pagination:",Fe.pagination)}catch(H){console.error("Error fetching vans:",H),S(H.message)}finally{h(!1)}},[ee,de,_]),ye=x.useCallback(async()=>{try{const H=await fetch("/api/owners?limit=100",{credentials:"include"});if(!H.ok)throw new Error("Failed to fetch owners");const Oe=await H.json();m(Oe.owners||Oe)}catch(H){console.error("Error fetching owners:",H)}},[]);x.useEffect(()=>{N(),ye()},[N,ye]);const oe=x.useCallback(()=>{I({van_number:"",make:"",version:"",year:new Date().getFullYear(),vin:"",owner_id:""}),Ce({})},[]),ue=x.useCallback(()=>{const H={},Oe=eG(ne.van_number);Oe.valid||(H.van_number=Oe.error);const Fe=rG(ne.make);Fe.valid||(H.make=Fe.error);const Be=nG(ne.version);Be.valid||(H.version=Be.error);const Qe=JV(ne.year);if(Qe.valid||(H.year=Qe.error),ne.vin){const Pe=tG(ne.vin);Pe.valid||(H.vin=Pe.error)}return ne.owner_id||(H.owner_id="Owner is required"),Ce(H),Object.keys(H).length===0},[ne]),Ne=x.useCallback((H,Oe)=>{I(Fe=>({...Fe,[H]:Oe}))},[]),le=x.useCallback(H=>{k(H),setTimeout(()=>k(""),3e3)},[]),Me=x.useCallback(async()=>{if(console.log(" handleCreateVan called"),console.log(" vanForm:",ne),!ue()){S("Please fix validation errors");return}try{console.log(" Submitting to API...");const H=await fetch("/api/vans",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(ne)});console.log(" Response status:",H.status);const Oe=await H.json();if(console.log(" Response data:",Oe),!H.ok)throw new Error(Oe.error||"Failed to create van");await N(),F(!1),oe(),le("Van created successfully")}catch(H){console.error(" Error creating van:",H),S(H.message)}},[ne,ue,oe,le]),Ae=x.useCallback(async()=>{if(console.log(" handleUpdateVan called"),console.log(" editingVan:",$),console.log(" vanForm:",ne),!ue()){console.log(" Validation failed"),S("Please fix validation errors");return}try{console.log(" Submitting to API...");const H=await fetch(`/api/vans/${$.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(ne)});console.log(" Response status:",H.status);const Oe=await H.json();if(console.log(" Response data:",Oe),!H.ok)throw new Error(Oe.error||"Failed to update van");await N(),me(!1),W(null),oe(),le("Van updated successfully")}catch(H){console.error(" Error updating van:",H),S(H.message)}},[$,ne,ue,oe,le]),We=x.useCallback(async()=>{try{console.log(" handleDeleteVan called"),console.log(" deletingVan:",L),console.log(" Checking for dependencies...");const H=await fetch(`/api/vans/${L.id}/check-dependencies`,{credentials:"include"});if(!H.ok)throw new Error("Failed to check van dependencies");const Oe=await H.json();if(console.log(" Dependency check result:",Oe),Oe.hasDependencies){const Qe=`Cannot delete van ${L.van_number}. ${Oe.message}. You cannot delete vans with historical data to maintain analytics integrity.`;console.log(" Cannot delete - has dependencies:",Qe),S(Qe),Ee(!1),V(null);return}console.log(" No dependencies found, proceeding with deletion...");const Fe=await fetch(`/api/vans/${L.id}`,{method:"DELETE",credentials:"include"});if(console.log(" Response status:",Fe.status),!Fe.ok){const Qe=await Fe.json();throw new Error(Qe.error||"Failed to delete van")}const Be=await Fe.json();console.log(" Response data:",Be),await N(),Ee(!1),V(null),le(`Van ${L.van_number} deleted successfully!`)}catch(H){console.error(" Error deleting van:",H),S(H.message)}},[L,le]),Ke=x.useCallback(H=>{W(H),I({van_number:H.van_number||"",make:H.make||"",version:H.version||"",year:H.year||new Date().getFullYear(),vin:H.vin||"",owner_id:H.owner_id||""}),Ce({}),me(!0)},[]),at=x.useCallback(H=>{V(H),Ee(!0)},[]),J=x.useCallback(H=>{fe(H);const Oe=new URLSearchParams(i);Oe.set("page",H.toString()),s(Oe),window.scrollTo({top:0,behavior:"smooth"})},[i,s]),ze=x.useCallback(H=>{re(H),fe(1);const Oe=new URLSearchParams(i);Oe.set("limit",H.toString()),Oe.set("page","1"),s(Oe)},[i,s]),it=x.useMemo(()=>{let H=[...c];return A&&(H=H.filter(Oe=>Oe.make===A)),O&&(H=H.filter(Oe=>Oe.year>=parseInt(O))),R&&(H=H.filter(Oe=>Oe.year<=parseInt(R))),H},[c,A,O,R]),te=x.useMemo(()=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Van Number ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"text",value:ne.van_number,onChange:H=>Ne("van_number",H.target.value.toUpperCase()),placeholder:"e.g., VAN001",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${X.van_number?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,textTransform:"uppercase"}}),X.van_number&&l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:X.van_number})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Make ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsxs("select",{value:ne.make,onChange:H=>Ne("make",H.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${X.make?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[l.jsx("option",{value:"",children:"Select make..."}),l.jsx("option",{value:"Ford",children:"Ford"}),l.jsx("option",{value:"Mercedes",children:"Mercedes"})]}),X.make&&l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:X.make})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Version ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsxs("select",{value:ne.version,onChange:H=>Ne("version",H.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${X.version?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[l.jsx("option",{value:"",children:"Select version..."}),l.jsx("option",{value:"3000",children:"3000"}),l.jsx("option",{value:"4000",children:"4000"})]}),X.version&&l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:X.version})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Year ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"number",value:ne.year,onChange:H=>Ne("year",H.target.value),min:"2000",max:new Date().getFullYear()+1,style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${X.year?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),X.year&&l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:X.year})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"VIN (Optional)"}),l.jsx("input",{type:"text",value:ne.vin,onChange:H=>Ne("vin",H.target.value.toUpperCase()),placeholder:"17-character VIN",maxLength:17,style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${X.vin?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontFamily:"monospace",textTransform:"uppercase"}}),X.vin&&l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:X.vin})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Owner ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsxs("select",{value:ne.owner_id,onChange:H=>Ne("owner_id",H.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${X.owner_id?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[l.jsx("option",{value:"",children:"Select owner..."}),p.map(H=>l.jsxs("option",{value:H.id,children:[H.name," - ",H.phone]},H.id))]}),X.owner_id&&l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:X.owner_id})]})]}),[ne,X,p,Ne]);return g?l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(Cr,{user:e,onLogout:t,hasRole:n}),l.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:l.jsx("div",{style:{textAlign:"center",padding:r.spacing["2xl"]},children:l.jsx("p",{style:{color:r.colors.text.secondary},children:"Loading vans..."})})})]}):l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(Cr,{user:e,onLogout:t,hasRole:n}),l.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[j&&l.jsx("div",{style:{backgroundColor:r.colors.status.success+"20",color:r.colors.status.success,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.status.success}`},children:j}),v&&l.jsx("div",{style:{backgroundColor:r.colors.accent.danger+"20",color:r.colors.accent.danger,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.accent.danger}`},children:v}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:r.spacing.xl},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[l.jsx(ra,{size:32,color:r.colors.accent.primary,strokeWidth:2}),l.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Vans"}),Se&&Se.totalCount>0&&l.jsx("span",{style:{backgroundColor:r.colors.accent.primary,color:"#ffffff",padding:`${r.spacing.xs} ${r.spacing.sm}`,borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:Se.totalCount})]}),l.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Manage mobile grooming vans and their owners"})]}),n("admin")&&l.jsxs("button",{onClick:()=>{oe(),F(!0)},style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:H=>H.currentTarget.style.backgroundColor=r.colors.accent.secondary,onMouseLeave:H=>H.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[l.jsx(mr,{size:20}),"Add New Van"]})]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.lg,flexWrap:"wrap"},children:[l.jsx("div",{style:{flex:1,minWidth:"300px"},children:l.jsxs("div",{style:{position:"relative"},children:[l.jsx(mi,{size:20,style:{position:"absolute",left:r.spacing.sm,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary}}),l.jsx("input",{type:"text",placeholder:"Search by van number, make, or owner...",value:w,onChange:H=>C(H.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.sm} ${r.spacing.sm} 40px`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]})}),l.jsxs("select",{value:A,onChange:H=>T(H.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[l.jsx("option",{value:"",children:"All Makes"}),l.jsx("option",{value:"Ford",children:"Ford"}),l.jsx("option",{value:"Mercedes",children:"Mercedes"})]}),l.jsx("input",{type:"number",placeholder:"Year from",value:O,onChange:H=>P(H.target.value),style:{padding:`${r.spacing.sm}`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,width:"120px"}}),l.jsx("input",{type:"number",placeholder:"Year to",value:R,onChange:H=>U(H.target.value),style:{padding:`${r.spacing.sm}`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,width:"120px"}})]}),l.jsx(et,{children:it.length===0&&!g?l.jsxs("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:[l.jsx(ra,{size:48,style:{marginBottom:r.spacing.md,opacity:.3}}),l.jsx("p",{style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium},children:"No vans found"}),l.jsx("p",{style:{fontSize:r.fontSize.sm},children:w||A||O||R?"Try adjusting your filters":"Add your first van to get started"})]}):l.jsxs("div",{style:{overflowX:"auto"},children:[l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:`2px solid ${r.colors.border.medium}`},children:[l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Van Number"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Make"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Version"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Year"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Owner"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"right",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Actions"})]})}),l.jsx("tbody",{children:it.map(H=>l.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.2s"},onMouseEnter:Oe=>Oe.currentTarget.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:Oe=>Oe.currentTarget.style.backgroundColor="transparent",children:[l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("div",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:H.van_number})}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.primary+"20",color:r.colors.accent.primary,borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:H.make})}),l.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:H.version||"-"}),l.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:H.year}),l.jsx("td",{style:{padding:r.spacing.md},children:H.owner?l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,fontWeight:r.fontWeight.medium},children:H.owner.name}),l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:H.owner.phone})]}):l.jsx("span",{style:{color:r.colors.text.tertiary},children:"-"})}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"right"},children:n("admin")&&l.jsxs("div",{style:{display:"flex",gap:r.spacing.xs,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>Ke(H),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Edit van",children:l.jsx(eu,{size:16})}),l.jsx("button",{onClick:()=>at(H),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete van",children:l.jsx(tn,{size:16})})]})})]},H.id))})]}),Se&&Se.totalCount>0&&l.jsx(hc,{currentPage:Se.page,totalPages:Se.totalPages,pageSize:Se.limit,totalCount:Se.totalCount,onPageChange:J,onPageSizeChange:ze,loading:g})]})}),ge&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>F(!1),children:l.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:H=>H.stopPropagation(),children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Add New Van"}),l.jsx("button",{onClick:()=>F(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:l.jsx($t,{size:24})})]}),l.jsxs("div",{style:{padding:r.spacing.xl},children:[te,l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[l.jsx("button",{onClick:Me,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Create Van"}),l.jsx("button",{onClick:()=>F(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),Y&&$&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>me(!1),children:l.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:H=>H.stopPropagation(),children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Edit Van"}),l.jsx("button",{onClick:()=>me(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:l.jsx($t,{size:24})})]}),l.jsxs("div",{style:{padding:r.spacing.xl},children:[te,l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[l.jsx("button",{onClick:Ae,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Save Changes"}),l.jsx("button",{onClick:()=>me(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),be&&L&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>Ee(!1),children:l.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"500px",padding:r.spacing.xl},onClick:H=>H.stopPropagation(),children:[l.jsx("h2",{style:{margin:0,marginBottom:r.spacing.md,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Delete Van?"}),l.jsxs("p",{style:{margin:0,marginBottom:r.spacing.lg,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["Are you sure you want to delete van ",l.jsx("strong",{children:L.van_number}),"?"]}),l.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,marginBottom:r.spacing.lg},children:[l.jsxs("p",{style:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[l.jsx("strong",{children:"Make:"})," ",L.make," ",L.version]}),l.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[l.jsx("strong",{children:"Year:"})," ",L.year]}),l.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[l.jsx("strong",{children:"Owner:"})," ",L.owner?.name]})]}),l.jsx("p",{style:{margin:0,marginBottom:r.spacing.xl,color:r.colors.accent.danger,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"This action cannot be undone."}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[l.jsx("button",{onClick:We,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Delete Van"}),l.jsx("button",{onClick:()=>Ee(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})})]})]})}function oG(){const{user:e,logout:t,hasRole:n}=mn(),[i,s]=Bf(),[c,d]=x.useState([]),[p,m]=x.useState(!0),[g,h]=x.useState(""),[v,S]=x.useState(""),[j,k]=x.useState(""),[w,C]=x.useState(""),[_,E]=x.useState(parseInt(i.get("page"))||1),[A,T]=x.useState(parseInt(i.get("limit"))||25),[O,P]=x.useState(null),[R,U]=x.useState(!1),[ee,fe]=x.useState(!1),[de,re]=x.useState(!1),[Se,he]=x.useState(null),[ge,F]=x.useState(null),[Y,me]=x.useState({name:"",company:"",phone:"",email:""}),[be,Ee]=x.useState({});x.useEffect(()=>{const le=setTimeout(()=>{if(C(j),j!==w){E(1);const Me=new URLSearchParams(i);Me.set("page","1"),s(Me)}},500);return()=>clearTimeout(le)},[j]);const $=x.useCallback(async()=>{m(!0),h("");try{const le=new URLSearchParams({page:_.toString(),limit:A.toString()});w&&w.trim()!==""&&le.append("search",w.trim());const Me=await fetch(`/api/owners?${le.toString()}`,{credentials:"include"});if(!Me.ok)throw new Error("Failed to fetch owners");const Ae=await Me.json();d(Ae.owners||[]),P(Ae.pagination),console.log(" Owners fetched:",Ae.owners?.length||0,"Pagination:",Ae.pagination)}catch(le){console.error("Error fetching owners:",le),h(le.message)}finally{m(!1)}},[_,A,w]);x.useEffect(()=>{$()},[$]);const W=x.useCallback(()=>{me({name:"",company:"",phone:"",email:""}),Ee({})},[]),L=x.useCallback(()=>{const le={},Me=fO(Y.name);Me.valid||(le.name=Me.error);const Ae=Fd(Y.phone);Ae.valid||(le.phone=Ae.error);const We=dO(Y.email);return We.valid||(le.email=We.error),Ee(le),Object.keys(le).length===0},[Y]),V=x.useCallback((le,Me)=>{me(Ae=>({...Ae,[le]:Me}))},[]),ne=x.useCallback(le=>{S(le),setTimeout(()=>S(""),3e3)},[]),I=x.useCallback(async()=>{if(console.log(" handleCreateOwner called"),console.log(" ownerForm:",Y),!L()){h("Please fix validation errors");return}try{const le=Fd(Y.phone),Me={...Y,phone:le.formatted||Y.phone};console.log(" Submitting to API...");const Ae=await fetch("/api/owners",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Me)});console.log(" Response status:",Ae.status);const We=await Ae.json();if(console.log(" Response data:",We),!Ae.ok)throw new Error(We.error||"Failed to create owner");await $(),U(!1),W(),ne("Owner created successfully")}catch(le){console.error(" Error creating owner:",le),h(le.message)}},[Y,L,W,ne]),X=x.useCallback(async()=>{if(console.log(" handleUpdateOwner called"),console.log(" editingOwner:",Se),console.log(" ownerForm:",Y),!L()){console.log(" Validation failed"),h("Please fix validation errors");return}try{const le=Fd(Y.phone),Me={...Y,phone:le.formatted||Y.phone};console.log(" Submitting to API...");const Ae=await fetch(`/api/owners/${Se.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Me)});console.log(" Response status:",Ae.status);const We=await Ae.json();if(console.log(" Response data:",We),!Ae.ok)throw new Error(We.error||"Failed to update owner");await $(),fe(!1),he(null),W(),ne("Owner updated successfully")}catch(le){console.error(" Error updating owner:",le),h(le.message)}},[Se,Y,L,W,ne]),Ce=x.useCallback(async()=>{try{console.log(" handleDeleteOwner called"),console.log(" deletingOwner:",ge),console.log(" Checking for dependencies...");const le=await fetch(`/api/owners/${ge.id}/check-dependencies`,{credentials:"include"});if(!le.ok)throw new Error("Failed to check owner dependencies");const Me=await le.json();if(console.log(" Dependency check result:",Me),Me.hasDependencies){const Ke=`Cannot delete ${ge.name}. ${Me.message}. You cannot delete owners with historical data to maintain system integrity.`;console.log(" Cannot delete - has dependencies:",Ke),h(Ke),re(!1),F(null);return}console.log(" No dependencies found, proceeding with deletion...");const Ae=await fetch(`/api/owners/${ge.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"});if(console.log(" Response status:",Ae.status),!Ae.ok){const Ke=await Ae.json();throw new Error(Ke.error||"Failed to delete owner")}const We=await Ae.json();console.log(" Response data:",We),await $(),re(!1),F(null),ne(`Owner ${ge.name} deleted successfully!`)}catch(le){console.error(" Error deleting owner:",le),h(le.message)}},[ge,ne]),N=x.useCallback(le=>{he(le),me({name:le.name||"",company:le.company||"",phone:le.phone||"",email:le.email||""}),Ee({}),fe(!0)},[]),ye=x.useCallback(le=>{F(le),re(!0)},[]),oe=x.useCallback(le=>{E(le);const Me=new URLSearchParams(i);Me.set("page",le.toString()),s(Me),window.scrollTo({top:0,behavior:"smooth"})},[i,s]),ue=x.useCallback(le=>{T(le),E(1);const Me=new URLSearchParams(i);Me.set("limit",le.toString()),Me.set("page","1"),s(Me)},[i,s]),Ne=x.useMemo(()=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Name ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"text",value:Y.name,onChange:le=>V("name",le.target.value),placeholder:"Enter owner name",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${be.name?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),be.name&&l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:be.name})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Company"}),l.jsx("input",{type:"text",value:Y.company,onChange:le=>V("company",le.target.value),placeholder:"Company name (optional)",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Phone ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"tel",value:Y.phone,onChange:le=>V("phone",le.target.value),placeholder:"(555) 123-4567",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${be.phone?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),be.phone&&l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:be.phone})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Email ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"email",value:Y.email,onChange:le=>V("email",le.target.value),placeholder:"owner@example.com",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${be.email?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),be.email&&l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:be.email})]})]}),[Y,be,V]);return p?l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(Cr,{user:e,onLogout:t,hasRole:n}),l.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:l.jsx("div",{style:{textAlign:"center",padding:r.spacing["2xl"]},children:l.jsx("p",{style:{color:r.colors.text.secondary},children:"Loading owners..."})})})]}):l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(Cr,{user:e,onLogout:t,hasRole:n}),l.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[v&&l.jsx("div",{style:{backgroundColor:r.colors.status.success+"20",color:r.colors.status.success,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.status.success}`},children:v}),g&&l.jsx("div",{style:{backgroundColor:r.colors.accent.danger+"20",color:r.colors.accent.danger,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.accent.danger}`},children:g}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:r.spacing.xl},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[l.jsx(Sx,{size:32,color:r.colors.accent.primary,strokeWidth:2}),l.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Owners"}),O&&O.totalCount>0&&l.jsx("span",{style:{padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.primary+"20",color:r.colors.accent.primary,borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold},children:O.totalCount})]}),l.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Manage van owners and their contact information"})]}),n("admin")&&l.jsxs("button",{onClick:()=>{W(),U(!0)},style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:le=>le.currentTarget.style.backgroundColor=r.colors.accent.secondary,onMouseLeave:le=>le.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[l.jsx(mr,{size:20}),"Add New Owner"]})]}),l.jsx("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.lg,flexWrap:"wrap"},children:l.jsx("div",{style:{flex:1,minWidth:"300px"},children:l.jsxs("div",{style:{position:"relative"},children:[l.jsx(mi,{size:20,style:{position:"absolute",left:r.spacing.sm,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary}}),l.jsx("input",{type:"text",placeholder:"Search by name, company, phone, or email...",value:j,onChange:le=>k(le.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.sm} ${r.spacing.sm} 40px`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]})})}),l.jsx(et,{children:c.length===0&&!p?l.jsxs("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:[l.jsx(Sx,{size:48,style:{marginBottom:r.spacing.md,opacity:.3}}),l.jsx("p",{style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium},children:"No owners found"}),l.jsx("p",{style:{fontSize:r.fontSize.sm},children:j?"Try adjusting your search":"Add your first owner to get started"})]}):l.jsxs("div",{style:{overflowX:"auto"},children:[l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:`2px solid ${r.colors.border.medium}`},children:[l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Name"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Company"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Phone"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Email"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Vans"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"right",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Actions"})]})}),l.jsx("tbody",{children:c.map(le=>l.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.2s"},onMouseEnter:Me=>Me.currentTarget.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:Me=>Me.currentTarget.style.backgroundColor="transparent",children:[l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("div",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:le.name})}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:le.company||"-"})}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:le.phone})}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:le.email})}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},children:l.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:le.van_count>0?r.colors.accent.primary+"20":r.colors.background.tertiary,color:le.van_count>0?r.colors.accent.primary:r.colors.text.tertiary,borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:le.van_count||0})}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"right"},children:n("admin")&&l.jsxs("div",{style:{display:"flex",gap:r.spacing.xs,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>N(le),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Edit owner",children:l.jsx(eu,{size:16})}),l.jsx("button",{onClick:()=>ye(le),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete owner",children:l.jsx(tn,{size:16})})]})})]},le.id))})]}),O&&O.totalCount>0&&l.jsx(hc,{currentPage:O.page,totalPages:O.totalPages,pageSize:O.limit,totalCount:O.totalCount,onPageChange:oe,onPageSizeChange:ue,loading:p})]})}),R&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>U(!1),children:l.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:le=>le.stopPropagation(),children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Add New Owner"}),l.jsx("button",{onClick:()=>U(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:l.jsx($t,{size:24})})]}),l.jsxs("div",{style:{padding:r.spacing.xl},children:[Ne,l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[l.jsx("button",{onClick:I,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Create Owner"}),l.jsx("button",{onClick:()=>U(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),ee&&Se&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>fe(!1),children:l.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:le=>le.stopPropagation(),children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Edit Owner"}),l.jsx("button",{onClick:()=>fe(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:l.jsx($t,{size:24})})]}),l.jsxs("div",{style:{padding:r.spacing.xl},children:[Ne,Se.van_count>0&&l.jsx("div",{style:{marginTop:r.spacing.lg,padding:r.spacing.md,backgroundColor:r.colors.accent.warning+"10",borderRadius:r.radius.md,border:`1px solid ${r.colors.accent.warning}40`},children:l.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.warning,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(hi,{size:14}),"This owner has ",Se.van_count," van(s). Changes will affect all associated vans."]})}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[l.jsx("button",{onClick:X,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Save Changes"}),l.jsx("button",{onClick:()=>fe(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),de&&ge&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>re(!1),children:l.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"500px",padding:r.spacing.xl},onClick:le=>le.stopPropagation(),children:[l.jsx("h2",{style:{margin:0,marginBottom:r.spacing.md,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Delete Owner?"}),l.jsxs("p",{style:{margin:0,marginBottom:r.spacing.lg,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["Are you sure you want to delete ",l.jsx("strong",{children:ge.name}),"?"]}),l.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,marginBottom:r.spacing.lg},children:[l.jsxs("p",{style:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[l.jsx("strong",{children:"Email:"})," ",ge.email]}),l.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[l.jsx("strong",{children:"Phone:"})," ",ge.phone]}),ge.company&&l.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[l.jsx("strong",{children:"Company:"})," ",ge.company]})]}),l.jsx("p",{style:{margin:0,marginBottom:r.spacing.xl,color:r.colors.accent.danger,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"This action cannot be undone."}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[l.jsx("button",{onClick:Ce,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Delete Owner"}),l.jsx("button",{onClick:()=>re(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})})]})]})}function aG(){const{user:e,logout:t,hasPermission:n,hasRole:i}=mn(),[s,c]=x.useState([]),[d,p]=x.useState([]),[m,g]=x.useState(!0),[h,v]=x.useState(""),[S,j]=x.useState(""),[k,w]=x.useState(""),[C,_]=x.useState(""),[E,A]=x.useState("all"),[T,O]=x.useState(!1),[P,R]=x.useState(!1),[U,ee]=x.useState(!1),[fe,de]=x.useState(!1),[re,Se]=x.useState(null),[he,ge]=x.useState(null),[F,Y]=x.useState(null),[me,be]=x.useState(""),[Ee,$]=x.useState(""),[W,L]=x.useState({email:"",password:"",full_name:"",phone:"",role_name:""}),[V,ne]=x.useState({});x.useEffect(()=>{I(),X()},[]);const I=async()=>{g(!0),v("");try{console.log(" Fetching users...");const te=await fetch("/api/users",{credentials:"include"});if(!te.ok)throw new Error("Failed to fetch users");const H=await te.json();console.log(" Users data:",H),c(H)}catch(te){console.error(" Error fetching users:",te),v(te.message)}finally{g(!1)}},X=async()=>{try{console.log(" Fetching roles...");const te=await fetch("/api/roles",{credentials:"include"});if(!te.ok){p([{name:"admin",description:"Full system access"},{name:"manager",description:"Management access"},{name:"technician",description:"Technical access"},{name:"viewer",description:"Read-only access"}]);return}const H=await te.json();console.log(" Roles data:",H),p(H)}catch(te){console.error(" Error fetching roles:",te),p([{name:"admin",description:"Full system access"},{name:"manager",description:"Management access"},{name:"technician",description:"Technical access"},{name:"viewer",description:"Read-only access"}])}},Ce=x.useCallback(()=>{L({email:"",password:"",full_name:"",phone:"",role_name:""}),ne({})},[]),N=x.useCallback((te=!1)=>{const H={},Oe=dO(W.email);if(Oe.valid||(H.email=Oe.error),!te&&!W.password&&(H.password="Password is required"),!te&&W.password&&W.password.length<6&&(H.password="Password must be at least 6 characters"),W.full_name){const Fe=fO(W.full_name);Fe.valid||(H.full_name=Fe.error)}if(W.phone){const Fe=Fd(W.phone);Fe.valid||(H.phone=Fe.error)}return W.role_name||(H.role_name="Role is required"),ne(H),Object.keys(H).length===0},[W]),ye=x.useCallback((te,H)=>{L(Oe=>({...Oe,[te]:H})),ne(Oe=>({...Oe,[te]:""}))},[]),oe=x.useCallback(te=>{j(te),setTimeout(()=>j(""),3e3)},[]),ue=x.useCallback(async()=>{if(console.log(" handleCreateUser called"),console.log(" userForm:",W),!N(!1)){v("Please fix validation errors"),setTimeout(()=>v(""),5e3);return}if(W.role_name==="admin"&&!window.confirm(" You are creating an admin user with full system access. Are you sure?")){console.log(" Admin user creation cancelled by user");return}try{console.log(" Submitting to API...");const te=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(W)});console.log(" Response status:",te.status);const H=await te.json();if(console.log(" Response data:",H),!te.ok)throw new Error(H.error||"Failed to create user");await I(),O(!1),Ce(),oe("User created successfully")}catch(te){console.error(" Error creating user:",te),v(te.message),setTimeout(()=>v(""),5e3)}},[W,N,Ce,oe]),Ne=x.useCallback(async()=>{if(console.log(" handleUpdateUser called"),console.log(" editingUser:",re),console.log(" userForm:",W),!N(!0)){console.log(" Validation failed"),v("Please fix validation errors"),setTimeout(()=>v(""),5e3);return}if(re.id===e.id&&W.role_name!==re.role?.name){v("Cannot modify your own role"),setTimeout(()=>v(""),5e3);return}if(W.role_name==="admin"&&re.role?.name!=="admin"&&!window.confirm(" You are assigning admin role with full system access. Are you sure?")){console.log(" Admin role assignment cancelled by user");return}try{console.log(" Submitting to API...");const{password:te,...H}=W,Oe=await fetch(`/api/users/${re.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(H)});console.log(" Response status:",Oe.status);const Fe=await Oe.json();if(console.log(" Response data:",Fe),!Oe.ok)throw new Error(Fe.error||"Failed to update user");await I(),R(!1),Se(null),Ce(),oe("User updated successfully")}catch(te){console.error(" Error updating user:",te),v(te.message),setTimeout(()=>v(""),5e3)}},[re,W,N,Ce,oe,e]),le=x.useCallback(async()=>{try{if(console.log(" handleDeactivateUser called"),console.log(" deactivatingUser:",he),he.id===e.id){v("Cannot deactivate your own account"),setTimeout(()=>v(""),5e3),ee(!1),ge(null);return}console.log(" Sending deactivation request...");const te=await fetch(`/api/users/${he.id}`,{method:"DELETE",credentials:"include"});if(console.log(" Response status:",te.status),!te.ok){const Oe=await te.json();throw new Error(Oe.error||"Failed to deactivate user")}const H=await te.json();console.log(" Response data:",H),await I(),ee(!1),ge(null),oe(`User ${he.email} deactivated successfully!`)}catch(te){console.error(" Error deactivating user:",te),v(te.message),setTimeout(()=>v(""),5e3)}},[he,oe,e]),Me=x.useCallback(te=>{Se(te),L({email:te.email||"",password:"",full_name:te.full_name||"",phone:te.phone||"",role_name:te.role?.name||""}),ne({}),R(!0)},[]),Ae=x.useCallback(te=>{ge(te),ee(!0)},[]),We=x.useCallback(te=>{Y(te),be(""),$(""),de(!0)},[]),Ke=x.useCallback(async()=>{try{if(console.log(" handleResetPassword called"),console.log(" resettingUser:",F),$(""),!me||me.length<6){$("Password must be at least 6 characters");return}console.log(" Sending password reset request...");const te=await fetch(`/api/users/${F.id}/reset-password`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({new_password:me})});console.log(" Response status:",te.status);const H=await te.json();if(console.log(" Response data:",H),!te.ok)throw new Error(H.error||"Failed to reset password");oe(`Password reset successfully for ${F.email}`),de(!1),Y(null),be(""),$("")}catch(te){console.error(" Error resetting password:",te),$(te.message||"Failed to reset password")}},[F,me,oe]),at=x.useCallback(te=>{if(!te)return"Never";const H=new Date(te),Oe=new Date,Fe=Oe-H,Be=Math.floor(Fe/6e4),Qe=Math.floor(Fe/36e5),Pe=Math.floor(Fe/864e5);return Be<1?"Just now":Be<60?`${Be}m ago`:Qe<24?`${Qe}h ago`:Pe<7?`${Pe}d ago`:H.toLocaleDateString("en-US",{month:"short",day:"numeric",year:H.getFullYear()!==Oe.getFullYear()?"numeric":void 0})},[]),J=x.useMemo(()=>{let te=[...s];return k&&(te=te.filter(H=>H.email.toLowerCase().includes(k.toLowerCase())||H.full_name&&H.full_name.toLowerCase().includes(k.toLowerCase())||H.phone&&H.phone.includes(k))),C&&(te=te.filter(H=>H.role?.name===C)),E==="active"?te=te.filter(H=>H.is_active):E==="inactive"&&(te=te.filter(H=>!H.is_active)),te},[s,k,C,E]),ze=x.useMemo(()=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Email ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"email",value:W.email,onChange:te=>ye("email",te.target.value),placeholder:"user@example.com",disabled:!!re,style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${V.email?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:re?r.colors.background.secondary:r.colors.background.primary,color:r.colors.text.primary,outline:"none",transition:"border-color 0.2s"}}),V.email&&l.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:V.email})]}),!re&&l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Password ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"password",value:W.password,onChange:te=>ye("password",te.target.value),placeholder:"Minimum 6 characters",style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${V.password?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",transition:"border-color 0.2s"}}),V.password&&l.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:V.password})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Full Name"}),l.jsx("input",{type:"text",value:W.full_name,onChange:te=>ye("full_name",te.target.value),placeholder:"John Doe",style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${V.full_name?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",transition:"border-color 0.2s"}}),V.full_name&&l.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:V.full_name})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Phone"}),l.jsx("input",{type:"tel",value:W.phone,onChange:te=>ye("phone",uO(te.target.value)),placeholder:"(555) 123-4567",style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${V.phone?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",transition:"border-color 0.2s"}}),V.phone&&l.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:V.phone})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Role ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsxs("select",{value:W.role_name,onChange:te=>ye("role_name",te.target.value),disabled:re&&re.id===e.id,style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${V.role_name?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:re&&re.id===e.id?r.colors.background.secondary:r.colors.background.primary,color:r.colors.text.primary,outline:"none",cursor:re&&re.id===e.id?"not-allowed":"pointer"},children:[l.jsx("option",{value:"",children:"Select role..."}),d.map(te=>l.jsxs("option",{value:te.name,children:[te.name.charAt(0).toUpperCase()+te.name.slice(1)," - ",te.description]},te.name))]}),V.role_name&&l.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:V.role_name}),re&&re.id===e.id&&l.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:" You cannot change your own role"})]})]}),[W,V,ye,d,re,e]),it=n("manage_users");return l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(Cr,{user:e,onLogout:t,hasRole:i}),l.jsxs("main",{style:{flex:1,padding:r.spacing.xl,marginLeft:"240px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.xl},children:[l.jsxs("div",{children:[l.jsx("h1",{style:{fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0,marginBottom:r.spacing.xs},children:"User Management"}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,margin:0},children:"Manage system users and role assignments"})]}),it&&l.jsxs("button",{onClick:()=>{Ce(),O(!0)},style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"white",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:te=>{te.target.style.backgroundColor=r.colors.accent.primaryDark,te.target.style.transform="translateY(-1px)"},onMouseLeave:te=>{te.target.style.backgroundColor=r.colors.accent.primary,te.target.style.transform="translateY(0)"},children:[l.jsx(mr,{size:16}),"Add User"]})]}),h&&l.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.accent.dangerLight,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,marginBottom:r.spacing.lg,color:r.colors.accent.danger,fontSize:r.fontSize.sm},children:h}),S&&l.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.accent.successLight,border:`1px solid ${r.colors.accent.success}`,borderRadius:r.radius.md,marginBottom:r.spacing.lg,color:r.colors.accent.success,fontSize:r.fontSize.sm},children:S}),l.jsx(et,{style:{marginBottom:r.spacing.lg},children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gap:r.spacing.md},children:[l.jsxs("div",{style:{position:"relative"},children:[l.jsx(mi,{size:16,style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.secondary}}),l.jsx("input",{type:"text",placeholder:"Search by email, name, or phone...",value:k,onChange:te=>w(te.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"36px",fontSize:r.fontSize.sm,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none"}})]}),l.jsxs("select",{value:C,onChange:te=>_(te.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,fontSize:r.fontSize.sm,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",cursor:"pointer"},children:[l.jsx("option",{value:"",children:"All Roles"}),d.map(te=>l.jsx("option",{value:te.name,children:te.name.charAt(0).toUpperCase()+te.name.slice(1)},te.name))]}),l.jsxs("select",{value:E,onChange:te=>A(te.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,fontSize:r.fontSize.sm,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",cursor:"pointer"},children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"active",children:"Active Only"}),l.jsx("option",{value:"inactive",children:"Inactive Only"})]})]})}),l.jsx(et,{children:m?l.jsx("div",{style:{textAlign:"center",padding:r.spacing.xl,color:r.colors.text.secondary},children:"Loading users..."}):J.length===0?l.jsxs("div",{style:{textAlign:"center",padding:r.spacing.xl,color:r.colors.text.secondary},children:[l.jsx(Sx,{size:48,style:{marginBottom:r.spacing.md,opacity:.5}}),l.jsx("p",{children:"No users found"})]}):l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`},children:[l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Email"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Name"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Phone"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Role"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Last Login"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Status"}),it&&l.jsx("th",{style:{padding:r.spacing.md,textAlign:"right",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Actions"})]})}),l.jsx("tbody",{children:J.map(te=>l.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`,opacity:te.is_active?1:.5,backgroundColor:te.is_active?"transparent":r.colors.background.secondary},children:[l.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(vp,{size:14,style:{color:r.colors.text.secondary}}),te.email,te.id===e.id&&l.jsx("span",{style:{fontSize:r.fontSize.xs,padding:"2px 6px",backgroundColor:r.colors.accent.primaryLight,color:r.colors.accent.primary,borderRadius:r.radius.sm},children:"You"})]})}),l.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(Ya,{size:14,style:{color:r.colors.text.secondary}}),te.full_name||"-"]})}),l.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(cs,{size:14,style:{color:r.colors.text.secondary}}),te.phone||"-"]})}),l.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(rO,{size:14,style:{color:r.colors.text.secondary}}),l.jsx("span",{style:{padding:"4px 8px",backgroundColor:te.role?.name==="admin"?r.colors.accent.dangerLight:r.colors.accent.primaryLight,color:te.role?.name==="admin"?r.colors.accent.danger:r.colors.accent.primary,borderRadius:r.radius.sm,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:te.role?.name?te.role.name.charAt(0).toUpperCase()+te.role.name.slice(1):"No Role"})]})}),l.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:at(te.last_login)}),l.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:l.jsx("span",{style:{padding:"4px 8px",backgroundColor:te.is_active?r.colors.accent.successLight:r.colors.background.secondary,color:te.is_active?r.colors.accent.success:r.colors.text.secondary,borderRadius:r.radius.sm,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:te.is_active?"Active":"Inactive"})}),it&&l.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,textAlign:"right"},children:l.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>Me(te),style:{padding:r.spacing.sm,backgroundColor:"transparent",border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.sm,cursor:"pointer",display:"flex",alignItems:"center",color:r.colors.text.secondary,transition:"all 0.2s"},onMouseEnter:H=>{H.target.style.borderColor=r.colors.accent.primary,H.target.style.color=r.colors.accent.primary},onMouseLeave:H=>{H.target.style.borderColor=r.colors.border.light,H.target.style.color=r.colors.text.secondary},children:l.jsx(eu,{size:14})}),te.id!==e.id&&l.jsx("button",{onClick:()=>We(te),style:{padding:r.spacing.sm,backgroundColor:"transparent",border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.sm,cursor:"pointer",display:"flex",alignItems:"center",color:r.colors.text.secondary,transition:"all 0.2s"},onMouseEnter:H=>{H.target.style.borderColor=r.colors.accent.warning,H.target.style.color=r.colors.accent.warning},onMouseLeave:H=>{H.target.style.borderColor=r.colors.border.light,H.target.style.color=r.colors.text.secondary},title:"Reset password",children:l.jsx(wK,{size:14})}),te.is_active&&te.id!==e.id&&l.jsx("button",{onClick:()=>Ae(te),style:{padding:r.spacing.sm,backgroundColor:"transparent",border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.sm,cursor:"pointer",display:"flex",alignItems:"center",color:r.colors.text.secondary,transition:"all 0.2s"},onMouseEnter:H=>{H.target.style.borderColor=r.colors.accent.danger,H.target.style.color=r.colors.accent.danger},onMouseLeave:H=>{H.target.style.borderColor=r.colors.border.light,H.target.style.color=r.colors.text.secondary},children:l.jsx(tn,{size:14})})]})})]},te.id))})]})})}),T&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:l.jsxs("div",{style:{backgroundColor:r.colors.background.primary,borderRadius:r.radius.lg,padding:r.spacing.xl,width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[l.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Create New User"}),l.jsx("button",{onClick:()=>{O(!1),Ce()},style:{padding:r.spacing.xs,backgroundColor:"transparent",border:"none",cursor:"pointer",color:r.colors.text.secondary},children:l.jsx($t,{size:20})})]}),ze,l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[l.jsx("button",{onClick:ue,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"white",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Create User"}),l.jsx("button",{onClick:()=>{O(!1),Ce()},style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})}),P&&re&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:l.jsxs("div",{style:{backgroundColor:r.colors.background.primary,borderRadius:r.radius.lg,padding:r.spacing.xl,width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[l.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Edit User"}),l.jsx("button",{onClick:()=>{R(!1),Se(null),Ce()},style:{padding:r.spacing.xs,backgroundColor:"transparent",border:"none",cursor:"pointer",color:r.colors.text.secondary},children:l.jsx($t,{size:20})})]}),ze,l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[l.jsx("button",{onClick:Ne,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"white",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Save Changes"}),l.jsx("button",{onClick:()=>{R(!1),Se(null),Ce()},style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})}),U&&he&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:l.jsxs("div",{style:{backgroundColor:r.colors.background.primary,borderRadius:r.radius.lg,padding:r.spacing.xl,width:"90%",maxWidth:"400px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md,marginBottom:r.spacing.lg},children:[l.jsx(hi,{size:24,style:{color:r.colors.accent.warning,flexShrink:0}}),l.jsxs("div",{children:[l.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0,marginBottom:r.spacing.sm},children:"Deactivate User"}),l.jsxs("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,margin:0},children:["Are you sure you want to deactivate user ",l.jsx("strong",{children:he.email}),"? They will no longer be able to access the system."]})]})]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[l.jsx("button",{onClick:le,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.danger,color:"white",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Deactivate"}),l.jsx("button",{onClick:()=>{ee(!1),ge(null)},style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})}),fe&&F&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:l.jsxs("div",{style:{backgroundColor:r.colors.background.primary,borderRadius:r.radius.lg,padding:r.spacing.xl,width:"90%",maxWidth:"400px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[l.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Reset Password"}),l.jsx("button",{onClick:()=>{de(!1),Y(null),be(""),$("")},style:{padding:r.spacing.xs,backgroundColor:"transparent",border:"none",cursor:"pointer",color:r.colors.text.secondary},children:l.jsx($t,{size:20})})]}),l.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[l.jsxs("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,marginBottom:r.spacing.lg},children:["Reset password for ",l.jsx("strong",{children:F.email})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["New Password ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"password",value:me,onChange:te=>be(te.target.value),placeholder:"Enter new password (min 6 characters)",style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${Ee?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none"}}),Ee&&l.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:Ee})]})]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.md},children:[l.jsx("button",{onClick:Ke,disabled:!me,style:{flex:1,padding:r.spacing.md,backgroundColor:me?r.colors.accent.warning:r.colors.background.secondary,color:me?"white":r.colors.text.secondary,border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:me?"pointer":"not-allowed",opacity:me?1:.5},children:"Reset Password"}),l.jsx("button",{onClick:()=>{de(!1),Y(null),be(""),$("")},style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.xs,padding:r.spacing.sm,backgroundColor:r.colors.background.secondary,borderRadius:r.radius.sm},children:[l.jsx(hi,{size:14,style:{color:r.colors.text.secondary,flexShrink:0,marginTop:"2px"}}),l.jsx("p",{style:{fontSize:r.fontSize.xs,color:r.colors.text.secondary,margin:0},children:"The user will need to use this new password on their next login."})]})]})})]})]})}function di({children:e,requireAdmin:t=!1,requireManager:n=!1,requireViewer:i=!1}){const{isAuthenticated:s,authLoading:c,hasRole:d}=mn();return c?l.jsx("div",{children:"Loading..."}):s?t&&!d("admin")?l.jsx(fd,{to:"/",replace:!0}):n&&!(d("manager")||d("admin"))?l.jsx(fd,{to:"/",replace:!0}):i&&!(d("viewer")||d("manager")||d("admin"))?l.jsx(fd,{to:"/",replace:!0}):e:l.jsx(fd,{to:"/",replace:!0})}AR.createRoot(document.getElementById("root")).render(l.jsx(x.StrictMode,{children:l.jsx(UD,{children:l.jsx(_Y,{children:l.jsx(MV,{children:l.jsxs(vD,{children:[l.jsx(Jr,{path:"/",element:l.jsx(RY,{})}),l.jsx(Jr,{path:"/sequences",element:l.jsx(di,{requireViewer:!0,children:l.jsx(DY,{})})}),l.jsx(Jr,{path:"/sequences/create",element:l.jsx(di,{requireManager:!0,children:l.jsx(PY,{})})}),l.jsx(Jr,{path:"/sequences/:key",element:l.jsx(di,{requireManager:!0,children:l.jsx($Y,{})})}),l.jsx(Jr,{path:"/patterns",element:l.jsx(di,{requireManager:!0,children:l.jsx(LY,{})})}),l.jsx(Jr,{path:"/tickets",element:l.jsx(di,{requireManager:!0,children:l.jsx(NV,{})})}),l.jsx(Jr,{path:"/active-sequences",element:l.jsx(di,{requireManager:!0,children:l.jsx(ZV,{})})}),l.jsx(Jr,{path:"/tickets/new",element:l.jsx(di,{requireManager:!0,children:l.jsx(YV,{})})}),l.jsx(Jr,{path:"/tickets/:uuid",element:l.jsx(di,{requireManager:!0,children:l.jsx(HV,{})})}),l.jsx(Jr,{path:"/ticket/:uuid",element:l.jsx(KV,{})}),l.jsx(Jr,{path:"/supplies/:sequenceKey",element:l.jsx(GV,{})}),l.jsx(Jr,{path:"/vans",element:l.jsx(di,{requireViewer:!0,children:l.jsx(iG,{})})}),l.jsx(Jr,{path:"/owners",element:l.jsx(di,{requireViewer:!0,children:l.jsx(oG,{})})}),l.jsx(Jr,{path:"/users",element:l.jsx(di,{requireManager:!0,children:l.jsx(aG,{})})})]})})})})}));
