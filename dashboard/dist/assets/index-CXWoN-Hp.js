function fD(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const c=Object.getOwnPropertyDescriptor(i,s);c&&Object.defineProperty(e,s,c.get?c:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();function ma(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ah={exports:{}},Qs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mj;function pD(){if(mj)return Qs;mj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,c){var d=null;if(c!==void 0&&(d=""+c),s.key!==void 0&&(d=""+s.key),"key"in s){c={};for(var p in s)p!=="key"&&(c[p]=s[p])}else c=s;return s=c.ref,{$$typeof:e,type:i,key:d,ref:s!==void 0?s:null,props:c}}return Qs.Fragment=t,Qs.jsx=n,Qs.jsxs=n,Qs}var yj;function gD(){return yj||(yj=1,Ah.exports=pD()),Ah.exports}var l=gD(),Eh={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xj;function hD(){if(xj)return tt;xj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function j($){return $===null||typeof $!="object"?null:($=S&&$[S]||$["@@iterator"],typeof $=="function"?$:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function _($,L,ue){this.props=$,this.context=L,this.refs=C,this.updater=ue||k}_.prototype.isReactComponent={},_.prototype.setState=function($,L){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,L,"setState")},_.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function E(){}E.prototype=_.prototype;function A($,L,ue){this.props=$,this.context=L,this.refs=C,this.updater=ue||k}var T=A.prototype=new E;T.constructor=A,w(T,_.prototype),T.isPureReactComponent=!0;var O=Array.isArray;function P(){}var D={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function Q($,L,ue){var xe=ue.ref;return{$$typeof:e,type:$,key:L,ref:xe!==void 0?xe:null,props:ue}}function fe($,L){return Q($.type,L,$.props)}function ce($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function Z($){var L={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ue){return L[ue]})}var Se=/\/+/g;function he($,L){return typeof $=="object"&&$!==null&&$.key!=null?Z(""+$.key):L.toString(36)}function pe($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(P,P):($.status="pending",$.then(function(L){$.status==="pending"&&($.status="fulfilled",$.value=L)},function(L){$.status==="pending"&&($.status="rejected",$.reason=L)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function U($,L,ue,xe,ye){var K=typeof $;(K==="undefined"||K==="boolean")&&($=null);var le=!1;if($===null)le=!0;else switch(K){case"bigint":case"string":case"number":le=!0;break;case"object":switch($.$$typeof){case e:case t:le=!0;break;case m:return le=$._init,U(le($._payload),L,ue,xe,ye)}}if(le)return ye=ye($),le=xe===""?"."+he($,0):xe,O(ye)?(ue="",le!=null&&(ue=le.replace(Se,"$&/")+"/"),U(ye,L,ue,"",function(ve){return ve})):ye!=null&&(ce(ye)&&(ye=fe(ye,ue+(ye.key==null||$&&$.key===ye.key?"":(""+ye.key).replace(Se,"$&/")+"/")+le)),L.push(ye)),1;le=0;var ke=xe===""?".":xe+":";if(O($))for(var N=0;N<$.length;N++)xe=$[N],K=ke+he(xe,N),le+=U(xe,L,ue,K,ye);else if(N=j($),typeof N=="function")for($=N.call($),N=0;!(xe=$.next()).done;)xe=xe.value,K=ke+he(xe,N++),le+=U(xe,L,ue,K,ye);else if(K==="object"){if(typeof $.then=="function")return U(pe($),L,ue,xe,ye);throw L=String($),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return le}function F($,L,ue){if($==null)return $;var xe=[],ye=0;return U($,xe,"","",function(K){return L.call(ue,K,ye++)}),xe}function ge($){if($._status===-1){var L=$._result;L=L(),L.then(function(ue){($._status===0||$._status===-1)&&($._status=1,$._result=ue)},function(ue){($._status===0||$._status===-1)&&($._status=2,$._result=ue)}),$._status===-1&&($._status=0,$._result=L)}if($._status===1)return $._result.default;throw $._result}var je=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},Oe={map:F,forEach:function($,L,ue){F($,function(){L.apply(this,arguments)},ue)},count:function($){var L=0;return F($,function(){L++}),L},toArray:function($){return F($,function(L){return L})||[]},only:function($){if(!ce($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return tt.Activity=v,tt.Children=Oe,tt.Component=_,tt.Fragment=n,tt.Profiler=s,tt.PureComponent=A,tt.StrictMode=i,tt.Suspense=h,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,tt.__COMPILER_RUNTIME={__proto__:null,c:function($){return D.H.useMemoCache($)}},tt.cache=function($){return function(){return $.apply(null,arguments)}},tt.cacheSignal=function(){return null},tt.cloneElement=function($,L,ue){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var xe=w({},$.props),ye=$.key;if(L!=null)for(K in L.key!==void 0&&(ye=""+L.key),L)!I.call(L,K)||K==="key"||K==="__self"||K==="__source"||K==="ref"&&L.ref===void 0||(xe[K]=L[K]);var K=arguments.length-2;if(K===1)xe.children=ue;else if(1<K){for(var le=Array(K),ke=0;ke<K;ke++)le[ke]=arguments[ke+2];xe.children=le}return Q($.type,ye,xe)},tt.createContext=function($){return $={$$typeof:d,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:c,_context:$},$},tt.createElement=function($,L,ue){var xe,ye={},K=null;if(L!=null)for(xe in L.key!==void 0&&(K=""+L.key),L)I.call(L,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(ye[xe]=L[xe]);var le=arguments.length-2;if(le===1)ye.children=ue;else if(1<le){for(var ke=Array(le),N=0;N<le;N++)ke[N]=arguments[N+2];ye.children=ke}if($&&$.defaultProps)for(xe in le=$.defaultProps,le)ye[xe]===void 0&&(ye[xe]=le[xe]);return Q($,K,ye)},tt.createRef=function(){return{current:null}},tt.forwardRef=function($){return{$$typeof:p,render:$}},tt.isValidElement=ce,tt.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:ge}},tt.memo=function($,L){return{$$typeof:g,type:$,compare:L===void 0?null:L}},tt.startTransition=function($){var L=D.T,ue={};D.T=ue;try{var xe=$(),ye=D.S;ye!==null&&ye(ue,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(P,je)}catch(K){je(K)}finally{L!==null&&ue.types!==null&&(L.types=ue.types),D.T=L}},tt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},tt.use=function($){return D.H.use($)},tt.useActionState=function($,L,ue){return D.H.useActionState($,L,ue)},tt.useCallback=function($,L){return D.H.useCallback($,L)},tt.useContext=function($){return D.H.useContext($)},tt.useDebugValue=function(){},tt.useDeferredValue=function($,L){return D.H.useDeferredValue($,L)},tt.useEffect=function($,L){return D.H.useEffect($,L)},tt.useEffectEvent=function($){return D.H.useEffectEvent($)},tt.useId=function(){return D.H.useId()},tt.useImperativeHandle=function($,L,ue){return D.H.useImperativeHandle($,L,ue)},tt.useInsertionEffect=function($,L){return D.H.useInsertionEffect($,L)},tt.useLayoutEffect=function($,L){return D.H.useLayoutEffect($,L)},tt.useMemo=function($,L){return D.H.useMemo($,L)},tt.useOptimistic=function($,L){return D.H.useOptimistic($,L)},tt.useReducer=function($,L,ue){return D.H.useReducer($,L,ue)},tt.useRef=function($){return D.H.useRef($)},tt.useState=function($){return D.H.useState($)},tt.useSyncExternalStore=function($,L,ue){return D.H.useSyncExternalStore($,L,ue)},tt.useTransition=function(){return D.H.useTransition()},tt.version="19.2.0",tt}var vj;function Gl(){return vj||(vj=1,Eh.exports=hD()),Eh.exports}var x=Gl();const fi=ma(x),mD=fD({__proto__:null,default:fi},[x]);var Oh={exports:{}},Zs={},Mh={exports:{}},Dh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bj;function yD(){return bj||(bj=1,(function(e){function t(U,F){var ge=U.length;U.push(F);e:for(;0<ge;){var je=ge-1>>>1,Oe=U[je];if(0<s(Oe,F))U[je]=F,U[ge]=Oe,ge=je;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var F=U[0],ge=U.pop();if(ge!==F){U[0]=ge;e:for(var je=0,Oe=U.length,$=Oe>>>1;je<$;){var L=2*(je+1)-1,ue=U[L],xe=L+1,ye=U[xe];if(0>s(ue,ge))xe<Oe&&0>s(ye,ue)?(U[je]=ye,U[xe]=ge,je=xe):(U[je]=ue,U[L]=ge,je=L);else if(xe<Oe&&0>s(ye,ge))U[je]=ye,U[xe]=ge,je=xe;else break e}}return F}function s(U,F){var ge=U.sortIndex-F.sortIndex;return ge!==0?ge:U.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();e.unstable_now=function(){return d.now()-p}}var h=[],g=[],m=1,v=null,S=3,j=!1,k=!1,w=!1,C=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function T(U){for(var F=n(g);F!==null;){if(F.callback===null)i(g);else if(F.startTime<=U)i(g),F.sortIndex=F.expirationTime,t(h,F);else break;F=n(g)}}function O(U){if(w=!1,T(U),!k)if(n(h)!==null)k=!0,P||(P=!0,Z());else{var F=n(g);F!==null&&pe(O,F.startTime-U)}}var P=!1,D=-1,I=5,Q=-1;function fe(){return C?!0:!(e.unstable_now()-Q<I)}function ce(){if(C=!1,P){var U=e.unstable_now();Q=U;var F=!0;try{e:{k=!1,w&&(w=!1,E(D),D=-1),j=!0;var ge=S;try{t:{for(T(U),v=n(h);v!==null&&!(v.expirationTime>U&&fe());){var je=v.callback;if(typeof je=="function"){v.callback=null,S=v.priorityLevel;var Oe=je(v.expirationTime<=U);if(U=e.unstable_now(),typeof Oe=="function"){v.callback=Oe,T(U),F=!0;break t}v===n(h)&&i(h),T(U)}else i(h);v=n(h)}if(v!==null)F=!0;else{var $=n(g);$!==null&&pe(O,$.startTime-U),F=!1}}break e}finally{v=null,S=ge,j=!1}F=void 0}}finally{F?Z():P=!1}}}var Z;if(typeof A=="function")Z=function(){A(ce)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,he=Se.port2;Se.port1.onmessage=ce,Z=function(){he.postMessage(null)}}else Z=function(){_(ce,0)};function pe(U,F){D=_(function(){U(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(U){switch(S){case 1:case 2:case 3:var F=3;break;default:F=S}var ge=S;S=F;try{return U()}finally{S=ge}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(U,F){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ge=S;S=U;try{return F()}finally{S=ge}},e.unstable_scheduleCallback=function(U,F,ge){var je=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?je+ge:je):ge=je,U){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ge+Oe,U={id:m++,callback:F,priorityLevel:U,startTime:ge,expirationTime:Oe,sortIndex:-1},ge>je?(U.sortIndex=ge,t(g,U),n(h)===null&&U===n(g)&&(w?(E(D),D=-1):w=!0,pe(O,ge-je))):(U.sortIndex=Oe,t(h,U),k||j||(k=!0,P||(P=!0,Z()))),U},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(U){var F=S;return function(){var ge=S;S=F;try{return U.apply(this,arguments)}finally{S=ge}}}})(Dh)),Dh}var Sj;function xD(){return Sj||(Sj=1,Mh.exports=yD()),Mh.exports}var Rh={exports:{}},Hr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jj;function vD(){if(jj)return Hr;jj=1;var e=Gl();function t(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(h,g,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:h,containerInfo:g,implementation:m}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Hr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Hr.createPortal=function(h,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(h,g,null,m)},Hr.flushSync=function(h){var g=d.T,m=i.p;try{if(d.T=null,i.p=2,h)return h()}finally{d.T=g,i.p=m,i.d.f()}},Hr.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(h,g))},Hr.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Hr.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var m=g.as,v=p(m,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?i.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:j}):m==="script"&&i.d.X(h,{crossOrigin:v,integrity:S,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Hr.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=p(g.as,g.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(h)},Hr.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,v=p(m,g.crossOrigin);i.d.L(h,m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Hr.preloadModule=function(h,g){if(typeof h=="string")if(g){var m=p(g.as,g.crossOrigin);i.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(h)},Hr.requestFormReset=function(h){i.d.r(h)},Hr.unstable_batchedUpdates=function(h,g){return h(g)},Hr.useFormState=function(h,g,m){return d.H.useFormState(h,g,m)},Hr.useFormStatus=function(){return d.H.useHostTransitionStatus()},Hr.version="19.2.0",Hr}var wj;function H2(){if(wj)return Rh.exports;wj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Rh.exports=vD(),Rh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cj;function bD(){if(Cj)return Zs;Cj=1;var e=xD(),t=Gl(),n=H2();function i(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function c(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function d(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function p(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function h(a){if(c(a)!==a)throw Error(i(188))}function g(a){var o=a.alternate;if(!o){if(o=c(a),o===null)throw Error(i(188));return o!==a?null:a}for(var u=a,f=o;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return h(y),a;if(b===f)return h(y),o;b=b.sibling}throw Error(i(188))}if(u.return!==f.return)u=y,f=b;else{for(var z=!1,M=y.child;M;){if(M===u){z=!0,u=y,f=b;break}if(M===f){z=!0,f=y,u=b;break}M=M.sibling}if(!z){for(M=b.child;M;){if(M===u){z=!0,u=b,f=y;break}if(M===f){z=!0,f=b,u=y;break}M=M.sibling}if(!z)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?a:o}function m(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=m(a),o!==null)return o;a=a.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function Z(a){return a===null||typeof a!="object"?null:(a=ce&&a[ce]||a["@@iterator"],typeof a=="function"?a:null)}var Se=Symbol.for("react.client.reference");function he(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Se?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case _:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList";case Q:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case k:return"Portal";case A:return a.displayName||"Context";case E:return(a._context.displayName||"Context")+".Consumer";case T:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case D:return o=a.displayName||null,o!==null?o:he(a.type)||"Memo";case I:o=a._payload,a=a._init;try{return he(a(o))}catch{}}return null}var pe=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},je=[],Oe=-1;function $(a){return{current:a}}function L(a){0>Oe||(a.current=je[Oe],je[Oe]=null,Oe--)}function ue(a,o){Oe++,je[Oe]=a.current,a.current=o}var xe=$(null),ye=$(null),K=$(null),le=$(null);function ke(a,o){switch(ue(K,o),ue(ye,a),ue(xe,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?WS(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=WS(o),a=BS(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}L(xe),ue(xe,a)}function N(){L(xe),L(ye),L(K)}function ve(a){a.memoizedState!==null&&ue(le,a);var o=xe.current,u=BS(o,a.type);o!==u&&(ue(ye,a),ue(xe,u))}function ee(a){ye.current===a&&(L(xe),L(ye)),le.current===a&&(L(le),Ys._currentValue=ge)}var se,Ne;function re(a){if(se===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);se=o&&o[1]||"",Ne=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+a+Ne}var Ee=!1;function ze(a,o){if(!a||Ee)return"";Ee=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(de){var ae=de}Reflect.construct(a,[],we)}else{try{we.call()}catch(de){ae=de}a.call(we.prototype)}}else{try{throw Error()}catch(de){ae=de}(we=a())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(de){if(de&&ae&&typeof de.stack=="string")return[de.stack,ae.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),z=b[0],M=b[1];if(z&&M){var W=z.split(`
`),ne=M.split(`
`);for(y=f=0;f<W.length&&!W[f].includes("DetermineComponentFrameRoot");)f++;for(;y<ne.length&&!ne[y].includes("DetermineComponentFrameRoot");)y++;if(f===W.length||y===ne.length)for(f=W.length-1,y=ne.length-1;1<=f&&0<=y&&W[f]!==ne[y];)y--;for(;1<=f&&0<=y;f--,y--)if(W[f]!==ne[y]){if(f!==1||y!==1)do if(f--,y--,0>y||W[f]!==ne[y]){var me=`
`+W[f].replace(" at new "," at ");return a.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",a.displayName)),me}while(1<=f&&0<=y);break}}}finally{Ee=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?re(u):""}function $e(a,o){switch(a.tag){case 26:case 27:case 5:return re(a.type);case 16:return re("Lazy");case 13:return a.child!==o&&o!==null?re("Suspense Fallback"):re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return ze(a.type,!1);case 11:return ze(a.type.render,!1);case 1:return ze(a.type,!0);case 31:return re("Activity");default:return""}}function Ye(a){try{var o="",u=null;do o+=$e(a,u),u=a,a=a.return;while(a);return o}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Ze=Object.prototype.hasOwnProperty,X=e.unstable_scheduleCallback,Te=e.unstable_cancelCallback,ot=e.unstable_shouldYield,J=e.unstable_requestPaint,q=e.unstable_now,Me=e.unstable_getCurrentPriorityLevel,He=e.unstable_ImmediatePriority,Be=e.unstable_UserBlockingPriority,at=e.unstable_NormalPriority,Pe=e.unstable_LowPriority,mt=e.unstable_IdlePriority,nr=e.log,Jr=e.unstable_setDisableYieldValue,$t=null,yt=null;function ie(a){if(typeof nr=="function"&&Jr(a),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode($t,a)}catch{}}var V=Math.clz32?Math.clz32:Nt,Ae=Math.log,et=Math.LN2;function Nt(a){return a>>>=0,a===0?32:31-(Ae(a)/et|0)|0}var er=256,st=262144,Rr=4194304;function Sr(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Vr(a,o,u){var f=a.pendingLanes;if(f===0)return 0;var y=0,b=a.suspendedLanes,z=a.pingedLanes;a=a.warmLanes;var M=f&134217727;return M!==0?(f=M&~b,f!==0?y=Sr(f):(z&=M,z!==0?y=Sr(z):u||(u=M&~a,u!==0&&(y=Sr(u))))):(M=f&~b,M!==0?y=Sr(M):z!==0?y=Sr(z):u||(u=f&~a,u!==0&&(y=Sr(u)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:y}function en(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function xi(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ei(){var a=Rr;return Rr<<=1,(Rr&62914560)===0&&(Rr=4194304),a}function Pi(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function ti(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function $i(a,o,u,f,y,b){var z=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var M=a.entanglements,W=a.expirationTimes,ne=a.hiddenUpdates;for(u=z&~u;0<u;){var me=31-V(u),we=1<<me;M[me]=0,W[me]=-1;var ae=ne[me];if(ae!==null)for(ne[me]=null,me=0;me<ae.length;me++){var de=ae[me];de!==null&&(de.lane&=-536870913)}u&=~we}f!==0&&B(a,f,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(z&~o))}function B(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var f=31-V(o);a.entangledLanes|=o,a.entanglements[f]=a.entanglements[f]|1073741824|u&261930}function _e(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var f=31-V(u),y=1<<f;y&o|a[f]&o&&(a[f]|=o),u&=~y}}function _t(a,o){var u=o&-o;return u=(u&42)!==0?1:xt(u),(u&(a.suspendedLanes|o))!==0?0:u}function xt(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function dt(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ir(){var a=F.p;return a!==0?a:(a=window.event,a===void 0?32:cj(a.type))}function pn(a,o){var u=F.p;try{return F.p=a,o()}finally{F.p=u}}var rt=Math.random().toString(36).slice(2),sr="__reactFiber$"+rt,cr="__reactProps$"+rt,Ht="__reactContainer$"+rt,ri="__reactEvents$"+rt,vi="__reactListeners$"+rt,Ni="__reactHandles$"+rt,co="__reactResources$"+rt,Y="__reactMarker$"+rt;function De(a){delete a[sr],delete a[cr],delete a[ri],delete a[vi],delete a[Ni]}function Ue(a){var o=a[sr];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Ht]||u[sr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=YS(a);a!==null;){if(u=a[sr])return u;a=YS(a)}return o}a=u,u=a.parentNode}return null}function Fe(a){if(a=a[sr]||a[Ht]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function kt(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(i(33))}function zt(a){var o=a[co];return o||(o=a[co]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Je(a){a[Y]=!0}var wt=new Set,jr={};function Dn(a,o){Li(a,o),Li(a+"Capture",o)}function Li(a,o){for(jr[a]=o,a=0;a<o.length;a++)wt.add(o[a])}var eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sp={},Pr={};function jp(a){return Ze.call(Pr,a)?!0:Ze.call(Sp,a)?!1:eu.test(a)?Pr[a]=!0:(Sp[a]=!0,!1)}function Qo(a,o,u){if(jp(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Zo(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function R(a,o,u,f){if(f===null)a.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+f)}}function Ce(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Tt(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ni(a,o,u){var f=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,b=f.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(z){u=""+z,b.call(this,z)}}),Object.defineProperty(a,o,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(z){u=""+z},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Wi(a){if(!a._valueTracker){var o=Tt(a)?"checked":"value";a._valueTracker=ni(a,o,""+a[o])}}function Mb(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return a&&(f=Tt(a)?a.checked?"true":"false":a.value),a=f,a!==u?(o.setValue(a),!0):!1}function tu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var oO=/[\n"\\]/g;function Rn(a){return a.replace(oO,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function wp(a,o,u,f,y,b,z,M){a.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?a.type=z:a.removeAttribute("type"),o!=null?z==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Ce(o)):a.value!==""+Ce(o)&&(a.value=""+Ce(o)):z!=="submit"&&z!=="reset"||a.removeAttribute("value"),o!=null?Cp(a,z,Ce(o)):u!=null?Cp(a,z,Ce(u)):f!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.name=""+Ce(M):a.removeAttribute("name")}function Db(a,o,u,f,y,b,z,M){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){Wi(a);return}u=u!=null?""+Ce(u):"",o=o!=null?""+Ce(o):u,M||o===a.value||(a.value=o),a.defaultValue=o}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=M?a.checked:!!f,a.defaultChecked=!!f,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(a.name=z),Wi(a)}function Cp(a,o,u){o==="number"&&tu(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Jo(a,o,u,f){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&f&&(a[u].defaultSelected=!0)}else{for(u=""+Ce(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,f&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function Rb(a,o,u){if(o!=null&&(o=""+Ce(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Ce(u):""}function Pb(a,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(i(92));if(pe(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=Ce(o),a.defaultValue=u,f=a.textContent,f===u&&f!==""&&f!==null&&(a.value=f),Wi(a)}function el(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var lO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $b(a,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":f?a.setProperty(o,u):typeof u!="number"||u===0||lO.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Nb(a,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(a=a.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var y in o)f=o[y],o.hasOwnProperty(y)&&u[y]!==f&&$b(a,y,f)}else for(var b in o)o.hasOwnProperty(b)&&$b(a,b,o[b])}function kp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ru(a){return cO.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Bi(){}var zp=null;function _p(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var tl=null,rl=null;function Lb(a){var o=Fe(a);if(o&&(a=o.stateNode)){var u=a[cr]||null;e:switch(a=o.stateNode,o.type){case"input":if(wp(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Rn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==a&&f.form===a.form){var y=f[cr]||null;if(!y)throw Error(i(90));wp(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===a.form&&Mb(f)}break e;case"textarea":Rb(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Jo(a,!!u.multiple,o,!1)}}}var Tp=!1;function Wb(a,o,u){if(Tp)return a(o,u);Tp=!0;try{var f=a(o);return f}finally{if(Tp=!1,(tl!==null||rl!==null)&&(Uu(),tl&&(o=tl,a=rl,rl=tl=null,Lb(o),a)))for(o=0;o<a.length;o++)Lb(a[o])}}function us(a,o){var u=a.stateNode;if(u===null)return null;var f=u[cr]||null;if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ap=!1;if(Ii)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){Ap=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{Ap=!1}var wa=null,Ep=null,nu=null;function Bb(){if(nu)return nu;var a,o=Ep,u=o.length,f,y="value"in wa?wa.value:wa.textContent,b=y.length;for(a=0;a<u&&o[a]===y[a];a++);var z=u-a;for(f=1;f<=z&&o[u-f]===y[b-f];f++);return nu=y.slice(a,1<f?1-f:void 0)}function iu(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function au(){return!0}function Ib(){return!1}function tn(a){function o(u,f,y,b,z){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=z,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(u=a[M],this[M]=u?u(b):b[M]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?au:Ib,this.isPropagationStopped=Ib,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=au)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=au)},persist:function(){},isPersistent:au}),o}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ou=tn(uo),fs=v({},uo,{view:0,detail:0}),uO=tn(fs),Op,Mp,ps,lu=v({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rp,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ps&&(ps&&a.type==="mousemove"?(Op=a.screenX-ps.screenX,Mp=a.screenY-ps.screenY):Mp=Op=0,ps=a),Op)},movementY:function(a){return"movementY"in a?a.movementY:Mp}}),qb=tn(lu),dO=v({},lu,{dataTransfer:0}),fO=tn(dO),pO=v({},fs,{relatedTarget:0}),Dp=tn(pO),gO=v({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),hO=tn(gO),mO=v({},uo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),yO=tn(mO),xO=v({},uo,{data:0}),Ub=tn(xO),vO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jO(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=SO[a])?!!o[a]:!1}function Rp(){return jO}var wO=v({},fs,{key:function(a){if(a.key){var o=vO[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=iu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?bO[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rp,charCode:function(a){return a.type==="keypress"?iu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?iu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),CO=tn(wO),kO=v({},lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hb=tn(kO),zO=v({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rp}),_O=tn(zO),TO=v({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),AO=tn(TO),EO=v({},lu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),OO=tn(EO),MO=v({},uo,{newState:0,oldState:0}),DO=tn(MO),RO=[9,13,27,32],Pp=Ii&&"CompositionEvent"in window,gs=null;Ii&&"documentMode"in document&&(gs=document.documentMode);var PO=Ii&&"TextEvent"in window&&!gs,Fb=Ii&&(!Pp||gs&&8<gs&&11>=gs),Kb=" ",Yb=!1;function Vb(a,o){switch(a){case"keyup":return RO.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gb(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var nl=!1;function $O(a,o){switch(a){case"compositionend":return Gb(o);case"keypress":return o.which!==32?null:(Yb=!0,Kb);case"textInput":return a=o.data,a===Kb&&Yb?null:a;default:return null}}function NO(a,o){if(nl)return a==="compositionend"||!Pp&&Vb(a,o)?(a=Bb(),nu=Ep=wa=null,nl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Fb&&o.locale!=="ko"?null:o.data;default:return null}}var LO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xb(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!LO[a.type]:o==="textarea"}function Qb(a,o,u,f){tl?rl?rl.push(f):rl=[f]:tl=f,o=Xu(o,"onChange"),0<o.length&&(u=new ou("onChange","change",null,u,f),a.push({event:u,listeners:o}))}var hs=null,ms=null;function WO(a){DS(a,0)}function su(a){var o=kt(a);if(Mb(o))return a}function Zb(a,o){if(a==="change")return o}var Jb=!1;if(Ii){var $p;if(Ii){var Np="oninput"in document;if(!Np){var e0=document.createElement("div");e0.setAttribute("oninput","return;"),Np=typeof e0.oninput=="function"}$p=Np}else $p=!1;Jb=$p&&(!document.documentMode||9<document.documentMode)}function t0(){hs&&(hs.detachEvent("onpropertychange",r0),ms=hs=null)}function r0(a){if(a.propertyName==="value"&&su(ms)){var o=[];Qb(o,ms,a,_p(a)),Wb(WO,o)}}function BO(a,o,u){a==="focusin"?(t0(),hs=o,ms=u,hs.attachEvent("onpropertychange",r0)):a==="focusout"&&t0()}function IO(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return su(ms)}function qO(a,o){if(a==="click")return su(o)}function UO(a,o){if(a==="input"||a==="change")return su(o)}function HO(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var gn=typeof Object.is=="function"?Object.is:HO;function ys(a,o){if(gn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!Ze.call(o,y)||!gn(a[y],o[y]))return!1}return!0}function n0(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function i0(a,o){var u=n0(a);a=0;for(var f;u;){if(u.nodeType===3){if(f=a+u.textContent.length,a<=o&&f>=o)return{node:u,offset:o-a};a=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=n0(u)}}function a0(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?a0(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function o0(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=tu(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=tu(a.document)}return o}function Lp(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var FO=Ii&&"documentMode"in document&&11>=document.documentMode,il=null,Wp=null,xs=null,Bp=!1;function l0(a,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Bp||il==null||il!==tu(f)||(f=il,"selectionStart"in f&&Lp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),xs&&ys(xs,f)||(xs=f,f=Xu(Wp,"onSelect"),0<f.length&&(o=new ou("onSelect","select",null,o,u),a.push({event:o,listeners:f}),o.target=il)))}function fo(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var al={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionrun:fo("Transition","TransitionRun"),transitionstart:fo("Transition","TransitionStart"),transitioncancel:fo("Transition","TransitionCancel"),transitionend:fo("Transition","TransitionEnd")},Ip={},s0={};Ii&&(s0=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function po(a){if(Ip[a])return Ip[a];if(!al[a])return a;var o=al[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in s0)return Ip[a]=o[u];return a}var c0=po("animationend"),u0=po("animationiteration"),d0=po("animationstart"),KO=po("transitionrun"),YO=po("transitionstart"),VO=po("transitioncancel"),f0=po("transitionend"),p0=new Map,qp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qp.push("scrollEnd");function ii(a,o){p0.set(a,o),Dn(o,[a])}var cu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Pn=[],ol=0,Up=0;function uu(){for(var a=ol,o=Up=ol=0;o<a;){var u=Pn[o];Pn[o++]=null;var f=Pn[o];Pn[o++]=null;var y=Pn[o];Pn[o++]=null;var b=Pn[o];if(Pn[o++]=null,f!==null&&y!==null){var z=f.pending;z===null?y.next=y:(y.next=z.next,z.next=y),f.pending=y}b!==0&&g0(u,y,b)}}function du(a,o,u,f){Pn[ol++]=a,Pn[ol++]=o,Pn[ol++]=u,Pn[ol++]=f,Up|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function Hp(a,o,u,f){return du(a,o,u,f),fu(a)}function go(a,o){return du(a,null,null,o),fu(a)}function g0(a,o,u){a.lanes|=u;var f=a.alternate;f!==null&&(f.lanes|=u);for(var y=!1,b=a.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&o!==null&&(y=31-V(u),a=b.hiddenUpdates,f=a[y],f===null?a[y]=[o]:f.push(o),o.lane=u|536870912),b):null}function fu(a){if(50<Bs)throw Bs=0,Jg=null,Error(i(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var ll={};function GO(a,o,u,f){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(a,o,u,f){return new GO(a,o,u,f)}function Fp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function qi(a,o){var u=a.alternate;return u===null?(u=hn(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function h0(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function pu(a,o,u,f,y,b){var z=0;if(f=a,typeof a=="function")Fp(a)&&(z=1);else if(typeof a=="string")z=eD(a,u,xe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case Q:return a=hn(31,u,o,y),a.elementType=Q,a.lanes=b,a;case w:return ho(u.children,y,b,o);case C:z=8,y|=24;break;case _:return a=hn(12,u,o,y|2),a.elementType=_,a.lanes=b,a;case O:return a=hn(13,u,o,y),a.elementType=O,a.lanes=b,a;case P:return a=hn(19,u,o,y),a.elementType=P,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:z=10;break e;case E:z=9;break e;case T:z=11;break e;case D:z=14;break e;case I:z=16,f=null;break e}z=29,u=Error(i(130,a===null?"null":typeof a,"")),f=null}return o=hn(z,u,o,y),o.elementType=a,o.type=f,o.lanes=b,o}function ho(a,o,u,f){return a=hn(7,a,f,o),a.lanes=u,a}function Kp(a,o,u){return a=hn(6,a,null,o),a.lanes=u,a}function m0(a){var o=hn(18,null,null,0);return o.stateNode=a,o}function Yp(a,o,u){return o=hn(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var y0=new WeakMap;function $n(a,o){if(typeof a=="object"&&a!==null){var u=y0.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Ye(o)},y0.set(a,o),o)}return{value:a,source:o,stack:Ye(o)}}var sl=[],cl=0,gu=null,vs=0,Nn=[],Ln=0,Ca=null,bi=1,Si="";function Ui(a,o){sl[cl++]=vs,sl[cl++]=gu,gu=a,vs=o}function x0(a,o,u){Nn[Ln++]=bi,Nn[Ln++]=Si,Nn[Ln++]=Ca,Ca=a;var f=bi;a=Si;var y=32-V(f)-1;f&=~(1<<y),u+=1;var b=32-V(o)+y;if(30<b){var z=y-y%5;b=(f&(1<<z)-1).toString(32),f>>=z,y-=z,bi=1<<32-V(o)+y|u<<y|f,Si=b+a}else bi=1<<b|u<<y|f,Si=a}function Vp(a){a.return!==null&&(Ui(a,1),x0(a,1,0))}function Gp(a){for(;a===gu;)gu=sl[--cl],sl[cl]=null,vs=sl[--cl],sl[cl]=null;for(;a===Ca;)Ca=Nn[--Ln],Nn[Ln]=null,Si=Nn[--Ln],Nn[Ln]=null,bi=Nn[--Ln],Nn[Ln]=null}function v0(a,o){Nn[Ln++]=bi,Nn[Ln++]=Si,Nn[Ln++]=Ca,bi=o.id,Si=o.overflow,Ca=a}var $r=null,Ft=null,gt=!1,ka=null,Wn=!1,Xp=Error(i(519));function za(a){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bs($n(o,a)),Xp}function b0(a){var o=a.stateNode,u=a.type,f=a.memoizedProps;switch(o[sr]=a,o[cr]=f,u){case"dialog":ut("cancel",o),ut("close",o);break;case"iframe":case"object":case"embed":ut("load",o);break;case"video":case"audio":for(u=0;u<qs.length;u++)ut(qs[u],o);break;case"source":ut("error",o);break;case"img":case"image":case"link":ut("error",o),ut("load",o);break;case"details":ut("toggle",o);break;case"input":ut("invalid",o),Db(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":ut("invalid",o);break;case"textarea":ut("invalid",o),Pb(o,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||NS(o.textContent,u)?(f.popover!=null&&(ut("beforetoggle",o),ut("toggle",o)),f.onScroll!=null&&ut("scroll",o),f.onScrollEnd!=null&&ut("scrollend",o),f.onClick!=null&&(o.onclick=Bi),o=!0):o=!1,o||za(a,!0)}function S0(a){for($r=a.return;$r;)switch($r.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:$r=$r.return}}function ul(a){if(a!==$r)return!1;if(!gt)return S0(a),gt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||gh(a.type,a.memoizedProps)),u=!u),u&&Ft&&za(a),S0(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Ft=KS(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Ft=KS(a)}else o===27?(o=Ft,Ba(a.type)?(a=vh,vh=null,Ft=a):Ft=o):Ft=$r?In(a.stateNode.nextSibling):null;return!0}function mo(){Ft=$r=null,gt=!1}function Qp(){var a=ka;return a!==null&&(on===null?on=a:on.push.apply(on,a),ka=null),a}function bs(a){ka===null?ka=[a]:ka.push(a)}var Zp=$(null),yo=null,Hi=null;function _a(a,o,u){ue(Zp,o._currentValue),o._currentValue=u}function Fi(a){a._currentValue=Zp.current,L(Zp)}function Jp(a,o,u){for(;a!==null;){var f=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),a===u)break;a=a.return}}function eg(a,o,u,f){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var z=y.child;b=b.firstContext;e:for(;b!==null;){var M=b;b=y;for(var W=0;W<o.length;W++)if(M.context===o[W]){b.lanes|=u,M=b.alternate,M!==null&&(M.lanes|=u),Jp(b.return,u,a),f||(z=null);break e}b=M.next}}else if(y.tag===18){if(z=y.return,z===null)throw Error(i(341));z.lanes|=u,b=z.alternate,b!==null&&(b.lanes|=u),Jp(z,u,a),z=null}else z=y.child;if(z!==null)z.return=y;else for(z=y;z!==null;){if(z===a){z=null;break}if(y=z.sibling,y!==null){y.return=z.return,z=y;break}z=z.return}y=z}}function dl(a,o,u,f){a=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var z=y.alternate;if(z===null)throw Error(i(387));if(z=z.memoizedProps,z!==null){var M=y.type;gn(y.pendingProps.value,z.value)||(a!==null?a.push(M):a=[M])}}else if(y===le.current){if(z=y.alternate,z===null)throw Error(i(387));z.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Ys):a=[Ys])}y=y.return}a!==null&&eg(o,a,u,f),o.flags|=262144}function hu(a){for(a=a.firstContext;a!==null;){if(!gn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function xo(a){yo=a,Hi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Nr(a){return j0(yo,a)}function mu(a,o){return yo===null&&xo(a),j0(a,o)}function j0(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Hi===null){if(a===null)throw Error(i(308));Hi=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Hi=Hi.next=o;return u}var XO=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,f){a.push(f)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},QO=e.unstable_scheduleCallback,ZO=e.unstable_NormalPriority,gr={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tg(){return{controller:new XO,data:new Map,refCount:0}}function Ss(a){a.refCount--,a.refCount===0&&QO(ZO,function(){a.controller.abort()})}var js=null,rg=0,fl=0,pl=null;function JO(a,o){if(js===null){var u=js=[];rg=0,fl=ah(),pl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return rg++,o.then(w0,w0),o}function w0(){if(--rg===0&&js!==null){pl!==null&&(pl.status="fulfilled");var a=js;js=null,fl=0,pl=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function eM(a,o){var u=[],f={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){f.status="fulfilled",f.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(f.status="rejected",f.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),f}var C0=U.S;U.S=function(a,o){lS=q(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&JO(a,o),C0!==null&&C0(a,o)};var vo=$(null);function ng(){var a=vo.current;return a!==null?a:Lt.pooledCache}function yu(a,o){o===null?ue(vo,vo.current):ue(vo,o.pool)}function k0(){var a=ng();return a===null?null:{parent:gr._currentValue,pool:a}}var gl=Error(i(460)),ig=Error(i(474)),xu=Error(i(542)),vu={then:function(){}};function z0(a){return a=a.status,a==="fulfilled"||a==="rejected"}function _0(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Bi,Bi),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,A0(a),a;default:if(typeof o.status=="string")o.then(Bi,Bi);else{if(a=Lt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=o,a.status="pending",a.then(function(f){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=f}},function(f){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,A0(a),a}throw So=o,gl}}function bo(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(So=u,gl):u}}var So=null;function T0(){if(So===null)throw Error(i(459));var a=So;return So=null,a}function A0(a){if(a===gl||a===xu)throw Error(i(483))}var hl=null,ws=0;function bu(a){var o=ws;return ws+=1,hl===null&&(hl=[]),_0(hl,a,o)}function Cs(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Su(a,o){throw o.$$typeof===S?Error(i(525)):(a=Object.prototype.toString.call(o),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function E0(a){function o(G,H){if(a){var te=G.deletions;te===null?(G.deletions=[H],G.flags|=16):te.push(H)}}function u(G,H){if(!a)return null;for(;H!==null;)o(G,H),H=H.sibling;return null}function f(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function y(G,H){return G=qi(G,H),G.index=0,G.sibling=null,G}function b(G,H,te){return G.index=te,a?(te=G.alternate,te!==null?(te=te.index,te<H?(G.flags|=67108866,H):te):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function z(G){return a&&G.alternate===null&&(G.flags|=67108866),G}function M(G,H,te,be){return H===null||H.tag!==6?(H=Kp(te,G.mode,be),H.return=G,H):(H=y(H,te),H.return=G,H)}function W(G,H,te,be){var Ve=te.type;return Ve===w?me(G,H,te.props.children,be,te.key):H!==null&&(H.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===I&&bo(Ve)===H.type)?(H=y(H,te.props),Cs(H,te),H.return=G,H):(H=pu(te.type,te.key,te.props,null,G.mode,be),Cs(H,te),H.return=G,H)}function ne(G,H,te,be){return H===null||H.tag!==4||H.stateNode.containerInfo!==te.containerInfo||H.stateNode.implementation!==te.implementation?(H=Yp(te,G.mode,be),H.return=G,H):(H=y(H,te.children||[]),H.return=G,H)}function me(G,H,te,be,Ve){return H===null||H.tag!==7?(H=ho(te,G.mode,be,Ve),H.return=G,H):(H=y(H,te),H.return=G,H)}function we(G,H,te){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Kp(""+H,G.mode,te),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case j:return te=pu(H.type,H.key,H.props,null,G.mode,te),Cs(te,H),te.return=G,te;case k:return H=Yp(H,G.mode,te),H.return=G,H;case I:return H=bo(H),we(G,H,te)}if(pe(H)||Z(H))return H=ho(H,G.mode,te,null),H.return=G,H;if(typeof H.then=="function")return we(G,bu(H),te);if(H.$$typeof===A)return we(G,mu(G,H),te);Su(G,H)}return null}function ae(G,H,te,be){var Ve=H!==null?H.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Ve!==null?null:M(G,H,""+te,be);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case j:return te.key===Ve?W(G,H,te,be):null;case k:return te.key===Ve?ne(G,H,te,be):null;case I:return te=bo(te),ae(G,H,te,be)}if(pe(te)||Z(te))return Ve!==null?null:me(G,H,te,be,null);if(typeof te.then=="function")return ae(G,H,bu(te),be);if(te.$$typeof===A)return ae(G,H,mu(G,te),be);Su(G,te)}return null}function de(G,H,te,be,Ve){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return G=G.get(te)||null,M(H,G,""+be,Ve);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case j:return G=G.get(be.key===null?te:be.key)||null,W(H,G,be,Ve);case k:return G=G.get(be.key===null?te:be.key)||null,ne(H,G,be,Ve);case I:return be=bo(be),de(G,H,te,be,Ve)}if(pe(be)||Z(be))return G=G.get(te)||null,me(H,G,be,Ve,null);if(typeof be.then=="function")return de(G,H,te,bu(be),Ve);if(be.$$typeof===A)return de(G,H,te,mu(H,be),Ve);Su(H,be)}return null}function We(G,H,te,be){for(var Ve=null,vt=null,qe=H,it=H=0,pt=null;qe!==null&&it<te.length;it++){qe.index>it?(pt=qe,qe=null):pt=qe.sibling;var bt=ae(G,qe,te[it],be);if(bt===null){qe===null&&(qe=pt);break}a&&qe&&bt.alternate===null&&o(G,qe),H=b(bt,H,it),vt===null?Ve=bt:vt.sibling=bt,vt=bt,qe=pt}if(it===te.length)return u(G,qe),gt&&Ui(G,it),Ve;if(qe===null){for(;it<te.length;it++)qe=we(G,te[it],be),qe!==null&&(H=b(qe,H,it),vt===null?Ve=qe:vt.sibling=qe,vt=qe);return gt&&Ui(G,it),Ve}for(qe=f(qe);it<te.length;it++)pt=de(qe,G,it,te[it],be),pt!==null&&(a&&pt.alternate!==null&&qe.delete(pt.key===null?it:pt.key),H=b(pt,H,it),vt===null?Ve=pt:vt.sibling=pt,vt=pt);return a&&qe.forEach(function(Fa){return o(G,Fa)}),gt&&Ui(G,it),Ve}function Ge(G,H,te,be){if(te==null)throw Error(i(151));for(var Ve=null,vt=null,qe=H,it=H=0,pt=null,bt=te.next();qe!==null&&!bt.done;it++,bt=te.next()){qe.index>it?(pt=qe,qe=null):pt=qe.sibling;var Fa=ae(G,qe,bt.value,be);if(Fa===null){qe===null&&(qe=pt);break}a&&qe&&Fa.alternate===null&&o(G,qe),H=b(Fa,H,it),vt===null?Ve=Fa:vt.sibling=Fa,vt=Fa,qe=pt}if(bt.done)return u(G,qe),gt&&Ui(G,it),Ve;if(qe===null){for(;!bt.done;it++,bt=te.next())bt=we(G,bt.value,be),bt!==null&&(H=b(bt,H,it),vt===null?Ve=bt:vt.sibling=bt,vt=bt);return gt&&Ui(G,it),Ve}for(qe=f(qe);!bt.done;it++,bt=te.next())bt=de(qe,G,it,bt.value,be),bt!==null&&(a&&bt.alternate!==null&&qe.delete(bt.key===null?it:bt.key),H=b(bt,H,it),vt===null?Ve=bt:vt.sibling=bt,vt=bt);return a&&qe.forEach(function(dD){return o(G,dD)}),gt&&Ui(G,it),Ve}function Rt(G,H,te,be){if(typeof te=="object"&&te!==null&&te.type===w&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case j:e:{for(var Ve=te.key;H!==null;){if(H.key===Ve){if(Ve=te.type,Ve===w){if(H.tag===7){u(G,H.sibling),be=y(H,te.props.children),be.return=G,G=be;break e}}else if(H.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===I&&bo(Ve)===H.type){u(G,H.sibling),be=y(H,te.props),Cs(be,te),be.return=G,G=be;break e}u(G,H);break}else o(G,H);H=H.sibling}te.type===w?(be=ho(te.props.children,G.mode,be,te.key),be.return=G,G=be):(be=pu(te.type,te.key,te.props,null,G.mode,be),Cs(be,te),be.return=G,G=be)}return z(G);case k:e:{for(Ve=te.key;H!==null;){if(H.key===Ve)if(H.tag===4&&H.stateNode.containerInfo===te.containerInfo&&H.stateNode.implementation===te.implementation){u(G,H.sibling),be=y(H,te.children||[]),be.return=G,G=be;break e}else{u(G,H);break}else o(G,H);H=H.sibling}be=Yp(te,G.mode,be),be.return=G,G=be}return z(G);case I:return te=bo(te),Rt(G,H,te,be)}if(pe(te))return We(G,H,te,be);if(Z(te)){if(Ve=Z(te),typeof Ve!="function")throw Error(i(150));return te=Ve.call(te),Ge(G,H,te,be)}if(typeof te.then=="function")return Rt(G,H,bu(te),be);if(te.$$typeof===A)return Rt(G,H,mu(G,te),be);Su(G,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,H!==null&&H.tag===6?(u(G,H.sibling),be=y(H,te),be.return=G,G=be):(u(G,H),be=Kp(te,G.mode,be),be.return=G,G=be),z(G)):u(G,H)}return function(G,H,te,be){try{ws=0;var Ve=Rt(G,H,te,be);return hl=null,Ve}catch(qe){if(qe===gl||qe===xu)throw qe;var vt=hn(29,qe,null,G.mode);return vt.lanes=be,vt.return=G,vt}finally{}}}var jo=E0(!0),O0=E0(!1),Ta=!1;function ag(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function og(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Aa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ea(a,o,u){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(Ct&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,o=fu(a),g0(a,null,u),o}return du(a,f,o,u),fu(a)}function ks(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=a.pendingLanes,u|=f,o.lanes=u,_e(a,u)}}function lg(a,o){var u=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var z={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=z:b=b.next=z,u=u.next}while(u!==null);b===null?y=b=o:b=b.next=o}else y=b=o;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var sg=!1;function zs(){if(sg){var a=pl;if(a!==null)throw a}}function _s(a,o,u,f){sg=!1;var y=a.updateQueue;Ta=!1;var b=y.firstBaseUpdate,z=y.lastBaseUpdate,M=y.shared.pending;if(M!==null){y.shared.pending=null;var W=M,ne=W.next;W.next=null,z===null?b=ne:z.next=ne,z=W;var me=a.alternate;me!==null&&(me=me.updateQueue,M=me.lastBaseUpdate,M!==z&&(M===null?me.firstBaseUpdate=ne:M.next=ne,me.lastBaseUpdate=W))}if(b!==null){var we=y.baseState;z=0,me=ne=W=null,M=b;do{var ae=M.lane&-536870913,de=ae!==M.lane;if(de?(ft&ae)===ae:(f&ae)===ae){ae!==0&&ae===fl&&(sg=!0),me!==null&&(me=me.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var We=a,Ge=M;ae=o;var Rt=u;switch(Ge.tag){case 1:if(We=Ge.payload,typeof We=="function"){we=We.call(Rt,we,ae);break e}we=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Ge.payload,ae=typeof We=="function"?We.call(Rt,we,ae):We,ae==null)break e;we=v({},we,ae);break e;case 2:Ta=!0}}ae=M.callback,ae!==null&&(a.flags|=64,de&&(a.flags|=8192),de=y.callbacks,de===null?y.callbacks=[ae]:de.push(ae))}else de={lane:ae,tag:M.tag,payload:M.payload,callback:M.callback,next:null},me===null?(ne=me=de,W=we):me=me.next=de,z|=ae;if(M=M.next,M===null){if(M=y.shared.pending,M===null)break;de=M,M=de.next,de.next=null,y.lastBaseUpdate=de,y.shared.pending=null}}while(!0);me===null&&(W=we),y.baseState=W,y.firstBaseUpdate=ne,y.lastBaseUpdate=me,b===null&&(y.shared.lanes=0),Pa|=z,a.lanes=z,a.memoizedState=we}}function M0(a,o){if(typeof a!="function")throw Error(i(191,a));a.call(o)}function D0(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)M0(u[a],o)}var ml=$(null),ju=$(0);function R0(a,o){a=ea,ue(ju,a),ue(ml,o),ea=a|o.baseLanes}function cg(){ue(ju,ea),ue(ml,ml.current)}function ug(){ea=ju.current,L(ml),L(ju)}var mn=$(null),Bn=null;function Oa(a){var o=a.alternate;ue(ur,ur.current&1),ue(mn,a),Bn===null&&(o===null||ml.current!==null||o.memoizedState!==null)&&(Bn=a)}function dg(a){ue(ur,ur.current),ue(mn,a),Bn===null&&(Bn=a)}function P0(a){a.tag===22?(ue(ur,ur.current),ue(mn,a),Bn===null&&(Bn=a)):Ma()}function Ma(){ue(ur,ur.current),ue(mn,mn.current)}function yn(a){L(mn),Bn===a&&(Bn=null),L(ur)}var ur=$(0);function wu(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||yh(u)||xh(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ki=0,nt=null,Mt=null,hr=null,Cu=!1,yl=!1,wo=!1,ku=0,Ts=0,xl=null,tM=0;function ar(){throw Error(i(321))}function fg(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!gn(a[u],o[u]))return!1;return!0}function pg(a,o,u,f,y,b){return Ki=b,nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,U.H=a===null||a.memoizedState===null?x1:Tg,wo=!1,b=u(f,y),wo=!1,yl&&(b=N0(o,u,f,y)),$0(a),b}function $0(a){U.H=Os;var o=Mt!==null&&Mt.next!==null;if(Ki=0,hr=Mt=nt=null,Cu=!1,Ts=0,xl=null,o)throw Error(i(300));a===null||mr||(a=a.dependencies,a!==null&&hu(a)&&(mr=!0))}function N0(a,o,u,f){nt=a;var y=0;do{if(yl&&(xl=null),Ts=0,yl=!1,25<=y)throw Error(i(301));if(y+=1,hr=Mt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}U.H=v1,b=o(u,f)}while(yl);return b}function rM(){var a=U.H,o=a.useState()[0];return o=typeof o.then=="function"?As(o):o,a=a.useState()[0],(Mt!==null?Mt.memoizedState:null)!==a&&(nt.flags|=1024),o}function gg(){var a=ku!==0;return ku=0,a}function hg(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function mg(a){if(Cu){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Cu=!1}Ki=0,hr=Mt=nt=null,yl=!1,Ts=ku=0,xl=null}function Gr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?nt.memoizedState=hr=a:hr=hr.next=a,hr}function dr(){if(Mt===null){var a=nt.alternate;a=a!==null?a.memoizedState:null}else a=Mt.next;var o=hr===null?nt.memoizedState:hr.next;if(o!==null)hr=o,Mt=a;else{if(a===null)throw nt.alternate===null?Error(i(467)):Error(i(310));Mt=a,a={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},hr===null?nt.memoizedState=hr=a:hr=hr.next=a}return hr}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function As(a){var o=Ts;return Ts+=1,xl===null&&(xl=[]),a=_0(xl,a,o),o=nt,(hr===null?o.memoizedState:hr.next)===null&&(o=o.alternate,U.H=o===null||o.memoizedState===null?x1:Tg),a}function _u(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return As(a);if(a.$$typeof===A)return Nr(a)}throw Error(i(438,String(a)))}function yg(a){var o=null,u=nt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=nt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=zu(),nt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),f=0;f<a;f++)u[f]=fe;return o.index++,u}function Yi(a,o){return typeof o=="function"?o(a):o}function Tu(a){var o=dr();return xg(o,Mt,a)}function xg(a,o,u){var f=a.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var y=a.baseQueue,b=f.pending;if(b!==null){if(y!==null){var z=y.next;y.next=b.next,b.next=z}o.baseQueue=y=b,f.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{o=y.next;var M=z=null,W=null,ne=o,me=!1;do{var we=ne.lane&-536870913;if(we!==ne.lane?(ft&we)===we:(Ki&we)===we){var ae=ne.revertLane;if(ae===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),we===fl&&(me=!0);else if((Ki&ae)===ae){ne=ne.next,ae===fl&&(me=!0);continue}else we={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},W===null?(M=W=we,z=b):W=W.next=we,nt.lanes|=ae,Pa|=ae;we=ne.action,wo&&u(b,we),b=ne.hasEagerState?ne.eagerState:u(b,we)}else ae={lane:we,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},W===null?(M=W=ae,z=b):W=W.next=ae,nt.lanes|=we,Pa|=we;ne=ne.next}while(ne!==null&&ne!==o);if(W===null?z=b:W.next=M,!gn(b,a.memoizedState)&&(mr=!0,me&&(u=pl,u!==null)))throw u;a.memoizedState=b,a.baseState=z,a.baseQueue=W,f.lastRenderedState=b}return y===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function vg(a){var o=dr(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var f=u.dispatch,y=u.pending,b=o.memoizedState;if(y!==null){u.pending=null;var z=y=y.next;do b=a(b,z.action),z=z.next;while(z!==y);gn(b,o.memoizedState)||(mr=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,f]}function L0(a,o,u){var f=nt,y=dr(),b=gt;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=o();var z=!gn((Mt||y).memoizedState,u);if(z&&(y.memoizedState=u,mr=!0),y=y.queue,jg(I0.bind(null,f,y,a),[a]),y.getSnapshot!==o||z||hr!==null&&hr.memoizedState.tag&1){if(f.flags|=2048,vl(9,{destroy:void 0},B0.bind(null,f,y,u,o),null),Lt===null)throw Error(i(349));b||(Ki&127)!==0||W0(f,o,u)}return u}function W0(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=nt.updateQueue,o===null?(o=zu(),nt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function B0(a,o,u,f){o.value=u,o.getSnapshot=f,q0(o)&&U0(a)}function I0(a,o,u){return u(function(){q0(o)&&U0(a)})}function q0(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!gn(a,u)}catch{return!0}}function U0(a){var o=go(a,2);o!==null&&ln(o,a,2)}function bg(a){var o=Gr();if(typeof a=="function"){var u=a;if(a=u(),wo){ie(!0);try{u()}finally{ie(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},o}function H0(a,o,u,f){return a.baseState=u,xg(a,Mt,typeof f=="function"?f:Yi)}function nM(a,o,u,f,y){if(Ou(a))throw Error(i(485));if(a=o.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){b.listeners.push(z)}};U.T!==null?u(!0):b.isTransition=!1,f(b),u=o.pending,u===null?(b.next=o.pending=b,F0(o,b)):(b.next=u.next,o.pending=u.next=b)}}function F0(a,o){var u=o.action,f=o.payload,y=a.state;if(o.isTransition){var b=U.T,z={};U.T=z;try{var M=u(y,f),W=U.S;W!==null&&W(z,M),K0(a,o,M)}catch(ne){Sg(a,o,ne)}finally{b!==null&&z.types!==null&&(b.types=z.types),U.T=b}}else try{b=u(y,f),K0(a,o,b)}catch(ne){Sg(a,o,ne)}}function K0(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Y0(a,o,f)},function(f){return Sg(a,o,f)}):Y0(a,o,u)}function Y0(a,o,u){o.status="fulfilled",o.value=u,V0(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,F0(a,u)))}function Sg(a,o,u){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,V0(o),o=o.next;while(o!==f)}a.action=null}function V0(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function G0(a,o){return o}function X0(a,o){if(gt){var u=Lt.formState;if(u!==null){e:{var f=nt;if(gt){if(Ft){t:{for(var y=Ft,b=Wn;y.nodeType!==8;){if(!b){y=null;break t}if(y=In(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Ft=In(y.nextSibling),f=y.data==="F!";break e}}za(f)}f=!1}f&&(o=u[0])}}return u=Gr(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G0,lastRenderedState:o},u.queue=f,u=h1.bind(null,nt,f),f.dispatch=u,f=bg(!1),b=_g.bind(null,nt,!1,f.queue),f=Gr(),y={state:o,dispatch:null,action:a,pending:null},f.queue=y,u=nM.bind(null,nt,y,b,u),y.dispatch=u,f.memoizedState=a,[o,u,!1]}function Q0(a){var o=dr();return Z0(o,Mt,a)}function Z0(a,o,u){if(o=xg(a,o,G0)[0],a=Tu(Yi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=As(o)}catch(z){throw z===gl?xu:z}else f=o;o=dr();var y=o.queue,b=y.dispatch;return u!==o.memoizedState&&(nt.flags|=2048,vl(9,{destroy:void 0},iM.bind(null,y,u),null)),[f,b,a]}function iM(a,o){a.action=o}function J0(a){var o=dr(),u=Mt;if(u!==null)return Z0(o,u,a);dr(),o=o.memoizedState,u=dr();var f=u.queue.dispatch;return u.memoizedState=a,[o,f,!1]}function vl(a,o,u,f){return a={tag:a,create:u,deps:f,inst:o,next:null},o=nt.updateQueue,o===null&&(o=zu(),nt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(f=u.next,u.next=a,a.next=f,o.lastEffect=a),a}function e1(){return dr().memoizedState}function Au(a,o,u,f){var y=Gr();nt.flags|=a,y.memoizedState=vl(1|o,{destroy:void 0},u,f===void 0?null:f)}function Eu(a,o,u,f){var y=dr();f=f===void 0?null:f;var b=y.memoizedState.inst;Mt!==null&&f!==null&&fg(f,Mt.memoizedState.deps)?y.memoizedState=vl(o,b,u,f):(nt.flags|=a,y.memoizedState=vl(1|o,b,u,f))}function t1(a,o){Au(8390656,8,a,o)}function jg(a,o){Eu(2048,8,a,o)}function aM(a){nt.flags|=4;var o=nt.updateQueue;if(o===null)o=zu(),nt.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function r1(a){var o=dr().memoizedState;return aM({ref:o,nextImpl:a}),function(){if((Ct&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function n1(a,o){return Eu(4,2,a,o)}function i1(a,o){return Eu(4,4,a,o)}function a1(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function o1(a,o,u){u=u!=null?u.concat([a]):null,Eu(4,4,a1.bind(null,o,a),u)}function wg(){}function l1(a,o){var u=dr();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&fg(o,f[1])?f[0]:(u.memoizedState=[a,o],a)}function s1(a,o){var u=dr();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&fg(o,f[1]))return f[0];if(f=a(),wo){ie(!0);try{a()}finally{ie(!1)}}return u.memoizedState=[f,o],f}function Cg(a,o,u){return u===void 0||(Ki&1073741824)!==0&&(ft&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=cS(),nt.lanes|=a,Pa|=a,u)}function c1(a,o,u,f){return gn(u,o)?u:ml.current!==null?(a=Cg(a,u,f),gn(a,o)||(mr=!0),a):(Ki&42)===0||(Ki&1073741824)!==0&&(ft&261930)===0?(mr=!0,a.memoizedState=u):(a=cS(),nt.lanes|=a,Pa|=a,o)}function u1(a,o,u,f,y){var b=F.p;F.p=b!==0&&8>b?b:8;var z=U.T,M={};U.T=M,_g(a,!1,o,u);try{var W=y(),ne=U.S;if(ne!==null&&ne(M,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var me=eM(W,f);Es(a,o,me,bn(a))}else Es(a,o,f,bn(a))}catch(we){Es(a,o,{then:function(){},status:"rejected",reason:we},bn())}finally{F.p=b,z!==null&&M.types!==null&&(z.types=M.types),U.T=z}}function oM(){}function kg(a,o,u,f){if(a.tag!==5)throw Error(i(476));var y=d1(a).queue;u1(a,y,o,ge,u===null?oM:function(){return f1(a),u(f)})}function d1(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ge},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function f1(a){var o=d1(a);o.next===null&&(o=a.alternate.memoizedState),Es(a,o.next.queue,{},bn())}function zg(){return Nr(Ys)}function p1(){return dr().memoizedState}function g1(){return dr().memoizedState}function lM(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=bn();a=Aa(u);var f=Ea(o,a,u);f!==null&&(ln(f,o,u),ks(f,o,u)),o={cache:tg()},a.payload=o;return}o=o.return}}function sM(a,o,u){var f=bn();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ou(a)?m1(o,u):(u=Hp(a,o,u,f),u!==null&&(ln(u,a,f),y1(u,o,f)))}function h1(a,o,u){var f=bn();Es(a,o,u,f)}function Es(a,o,u,f){var y={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ou(a))m1(o,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var z=o.lastRenderedState,M=b(z,u);if(y.hasEagerState=!0,y.eagerState=M,gn(M,z))return du(a,o,y,0),Lt===null&&uu(),!1}catch{}finally{}if(u=Hp(a,o,y,f),u!==null)return ln(u,a,f),y1(u,o,f),!0}return!1}function _g(a,o,u,f){if(f={lane:2,revertLane:ah(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Ou(a)){if(o)throw Error(i(479))}else o=Hp(a,u,f,2),o!==null&&ln(o,a,2)}function Ou(a){var o=a.alternate;return a===nt||o!==null&&o===nt}function m1(a,o){yl=Cu=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function y1(a,o,u){if((u&4194048)!==0){var f=o.lanes;f&=a.pendingLanes,u|=f,o.lanes=u,_e(a,u)}}var Os={readContext:Nr,use:_u,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useLayoutEffect:ar,useInsertionEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useSyncExternalStore:ar,useId:ar,useHostTransitionStatus:ar,useFormState:ar,useActionState:ar,useOptimistic:ar,useMemoCache:ar,useCacheRefresh:ar};Os.useEffectEvent=ar;var x1={readContext:Nr,use:_u,useCallback:function(a,o){return Gr().memoizedState=[a,o===void 0?null:o],a},useContext:Nr,useEffect:t1,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Au(4194308,4,a1.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Au(4194308,4,a,o)},useInsertionEffect:function(a,o){Au(4,2,a,o)},useMemo:function(a,o){var u=Gr();o=o===void 0?null:o;var f=a();if(wo){ie(!0);try{a()}finally{ie(!1)}}return u.memoizedState=[f,o],f},useReducer:function(a,o,u){var f=Gr();if(u!==void 0){var y=u(o);if(wo){ie(!0);try{u(o)}finally{ie(!1)}}}else y=o;return f.memoizedState=f.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},f.queue=a,a=a.dispatch=sM.bind(null,nt,a),[f.memoizedState,a]},useRef:function(a){var o=Gr();return a={current:a},o.memoizedState=a},useState:function(a){a=bg(a);var o=a.queue,u=h1.bind(null,nt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:wg,useDeferredValue:function(a,o){var u=Gr();return Cg(u,a,o)},useTransition:function(){var a=bg(!1);return a=u1.bind(null,nt,a.queue,!0,!1),Gr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var f=nt,y=Gr();if(gt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),Lt===null)throw Error(i(349));(ft&127)!==0||W0(f,o,u)}y.memoizedState=u;var b={value:u,getSnapshot:o};return y.queue=b,t1(I0.bind(null,f,b,a),[a]),f.flags|=2048,vl(9,{destroy:void 0},B0.bind(null,f,b,u,o),null),u},useId:function(){var a=Gr(),o=Lt.identifierPrefix;if(gt){var u=Si,f=bi;u=(f&~(1<<32-V(f)-1)).toString(32)+u,o="_"+o+"R_"+u,u=ku++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=tM++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:zg,useFormState:X0,useActionState:X0,useOptimistic:function(a){var o=Gr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=_g.bind(null,nt,!0,u),u.dispatch=o,[a,o]},useMemoCache:yg,useCacheRefresh:function(){return Gr().memoizedState=lM.bind(null,nt)},useEffectEvent:function(a){var o=Gr(),u={impl:a};return o.memoizedState=u,function(){if((Ct&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},Tg={readContext:Nr,use:_u,useCallback:l1,useContext:Nr,useEffect:jg,useImperativeHandle:o1,useInsertionEffect:n1,useLayoutEffect:i1,useMemo:s1,useReducer:Tu,useRef:e1,useState:function(){return Tu(Yi)},useDebugValue:wg,useDeferredValue:function(a,o){var u=dr();return c1(u,Mt.memoizedState,a,o)},useTransition:function(){var a=Tu(Yi)[0],o=dr().memoizedState;return[typeof a=="boolean"?a:As(a),o]},useSyncExternalStore:L0,useId:p1,useHostTransitionStatus:zg,useFormState:Q0,useActionState:Q0,useOptimistic:function(a,o){var u=dr();return H0(u,Mt,a,o)},useMemoCache:yg,useCacheRefresh:g1};Tg.useEffectEvent=r1;var v1={readContext:Nr,use:_u,useCallback:l1,useContext:Nr,useEffect:jg,useImperativeHandle:o1,useInsertionEffect:n1,useLayoutEffect:i1,useMemo:s1,useReducer:vg,useRef:e1,useState:function(){return vg(Yi)},useDebugValue:wg,useDeferredValue:function(a,o){var u=dr();return Mt===null?Cg(u,a,o):c1(u,Mt.memoizedState,a,o)},useTransition:function(){var a=vg(Yi)[0],o=dr().memoizedState;return[typeof a=="boolean"?a:As(a),o]},useSyncExternalStore:L0,useId:p1,useHostTransitionStatus:zg,useFormState:J0,useActionState:J0,useOptimistic:function(a,o){var u=dr();return Mt!==null?H0(u,Mt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:yg,useCacheRefresh:g1};v1.useEffectEvent=r1;function Ag(a,o,u,f){o=a.memoizedState,u=u(f,o),u=u==null?o:v({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Eg={enqueueSetState:function(a,o,u){a=a._reactInternals;var f=bn(),y=Aa(f);y.payload=o,u!=null&&(y.callback=u),o=Ea(a,y,f),o!==null&&(ln(o,a,f),ks(o,a,f))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var f=bn(),y=Aa(f);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Ea(a,y,f),o!==null&&(ln(o,a,f),ks(o,a,f))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=bn(),f=Aa(u);f.tag=2,o!=null&&(f.callback=o),o=Ea(a,f,u),o!==null&&(ln(o,a,u),ks(o,a,u))}};function b1(a,o,u,f,y,b,z){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,b,z):o.prototype&&o.prototype.isPureReactComponent?!ys(u,f)||!ys(y,b):!0}function S1(a,o,u,f){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==a&&Eg.enqueueReplaceState(o,o.state,null)}function Co(a,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(a=a.defaultProps){u===o&&(u=v({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}function j1(a){cu(a)}function w1(a){console.error(a)}function C1(a){cu(a)}function Mu(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function k1(a,o,u){try{var f=a.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Og(a,o,u){return u=Aa(u),u.tag=3,u.payload={element:null},u.callback=function(){Mu(a,o)},u}function z1(a){return a=Aa(a),a.tag=3,a}function _1(a,o,u,f){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=f.value;a.payload=function(){return y(b)},a.callback=function(){k1(o,u,f)}}var z=u.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(a.callback=function(){k1(o,u,f),typeof y!="function"&&($a===null?$a=new Set([this]):$a.add(this));var M=f.stack;this.componentDidCatch(f.value,{componentStack:M!==null?M:""})})}function cM(a,o,u,f,y){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&dl(o,u,y,!0),u=mn.current,u!==null){switch(u.tag){case 31:case 13:return Bn===null?Hu():u.alternate===null&&or===0&&(or=3),u.flags&=-257,u.flags|=65536,u.lanes=y,f===vu?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),rh(a,f,y)),!1;case 22:return u.flags|=65536,f===vu?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),rh(a,f,y)),!1}throw Error(i(435,u.tag))}return rh(a,f,y),Hu(),!1}if(gt)return o=mn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,f!==Xp&&(a=Error(i(422),{cause:f}),bs($n(a,u)))):(f!==Xp&&(o=Error(i(423),{cause:f}),bs($n(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,f=$n(f,u),y=Og(a.stateNode,f,y),lg(a,y),or!==4&&(or=2)),!1;var b=Error(i(520),{cause:f});if(b=$n(b,u),Ws===null?Ws=[b]:Ws.push(b),or!==4&&(or=2),o===null)return!0;f=$n(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=Og(u.stateNode,f,a),lg(u,a),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&($a===null||!$a.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=z1(y),_1(y,a,u,f),lg(u,y),!1}u=u.return}while(u!==null);return!1}var Mg=Error(i(461)),mr=!1;function Lr(a,o,u,f){o.child=a===null?O0(o,null,u,f):jo(o,a.child,u,f)}function T1(a,o,u,f,y){u=u.render;var b=o.ref;if("ref"in f){var z={};for(var M in f)M!=="ref"&&(z[M]=f[M])}else z=f;return xo(o),f=pg(a,o,u,z,b,y),M=gg(),a!==null&&!mr?(hg(a,o,y),Vi(a,o,y)):(gt&&M&&Vp(o),o.flags|=1,Lr(a,o,f,y),o.child)}function A1(a,o,u,f,y){if(a===null){var b=u.type;return typeof b=="function"&&!Fp(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,E1(a,o,b,f,y)):(a=pu(u.type,null,f,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!Bg(a,y)){var z=b.memoizedProps;if(u=u.compare,u=u!==null?u:ys,u(z,f)&&a.ref===o.ref)return Vi(a,o,y)}return o.flags|=1,a=qi(b,f),a.ref=o.ref,a.return=o,o.child=a}function E1(a,o,u,f,y){if(a!==null){var b=a.memoizedProps;if(ys(b,f)&&a.ref===o.ref)if(mr=!1,o.pendingProps=f=b,Bg(a,y))(a.flags&131072)!==0&&(mr=!0);else return o.lanes=a.lanes,Vi(a,o,y)}return Dg(a,o,u,f,y)}function O1(a,o,u,f){var y=f.children,b=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,a!==null){for(f=o.child=a.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~b}else f=0,o.child=null;return M1(a,o,b,u,f)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&yu(o,b!==null?b.cachePool:null),b!==null?R0(o,b):cg(),P0(o);else return f=o.lanes=536870912,M1(a,o,b!==null?b.baseLanes|u:u,u,f)}else b!==null?(yu(o,b.cachePool),R0(o,b),Ma(),o.memoizedState=null):(a!==null&&yu(o,null),cg(),Ma());return Lr(a,o,y,u),o.child}function Ms(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function M1(a,o,u,f,y){var b=ng();return b=b===null?null:{parent:gr._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},a!==null&&yu(o,null),cg(),P0(o),a!==null&&dl(a,o,f,!0),o.childLanes=y,null}function Du(a,o){return o=Pu({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function D1(a,o,u){return jo(o,a.child,null,u),a=Du(o,o.pendingProps),a.flags|=2,yn(o),o.memoizedState=null,a}function uM(a,o,u){var f=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(gt){if(f.mode==="hidden")return a=Du(o,f),o.lanes=536870912,Ms(null,a);if(dg(o),(a=Ft)?(a=FS(a,Wn),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Ca!==null?{id:bi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},u=m0(a),u.return=o,o.child=u,$r=o,Ft=null)):a=null,a===null)throw za(o);return o.lanes=536870912,null}return Du(o,f)}var b=a.memoizedState;if(b!==null){var z=b.dehydrated;if(dg(o),y)if(o.flags&256)o.flags&=-257,o=D1(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(i(558));else if(mr||dl(a,o,u,!1),y=(u&a.childLanes)!==0,mr||y){if(f=Lt,f!==null&&(z=_t(f,u),z!==0&&z!==b.retryLane))throw b.retryLane=z,go(a,z),ln(f,a,z),Mg;Hu(),o=D1(a,o,u)}else a=b.treeContext,Ft=In(z.nextSibling),$r=o,gt=!0,ka=null,Wn=!1,a!==null&&v0(o,a),o=Du(o,f),o.flags|=4096;return o}return a=qi(a.child,{mode:f.mode,children:f.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Ru(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function Dg(a,o,u,f,y){return xo(o),u=pg(a,o,u,f,void 0,y),f=gg(),a!==null&&!mr?(hg(a,o,y),Vi(a,o,y)):(gt&&f&&Vp(o),o.flags|=1,Lr(a,o,u,y),o.child)}function R1(a,o,u,f,y,b){return xo(o),o.updateQueue=null,u=N0(o,f,u,y),$0(a),f=gg(),a!==null&&!mr?(hg(a,o,b),Vi(a,o,b)):(gt&&f&&Vp(o),o.flags|=1,Lr(a,o,u,b),o.child)}function P1(a,o,u,f,y){if(xo(o),o.stateNode===null){var b=ll,z=u.contextType;typeof z=="object"&&z!==null&&(b=Nr(z)),b=new u(f,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Eg,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=f,b.state=o.memoizedState,b.refs={},ag(o),z=u.contextType,b.context=typeof z=="object"&&z!==null?Nr(z):ll,b.state=o.memoizedState,z=u.getDerivedStateFromProps,typeof z=="function"&&(Ag(o,u,z,f),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(z=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),z!==b.state&&Eg.enqueueReplaceState(b,b.state,null),_s(o,f,b,y),zs(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(a===null){b=o.stateNode;var M=o.memoizedProps,W=Co(u,M);b.props=W;var ne=b.context,me=u.contextType;z=ll,typeof me=="object"&&me!==null&&(z=Nr(me));var we=u.getDerivedStateFromProps;me=typeof we=="function"||typeof b.getSnapshotBeforeUpdate=="function",M=o.pendingProps!==M,me||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M||ne!==z)&&S1(o,b,f,z),Ta=!1;var ae=o.memoizedState;b.state=ae,_s(o,f,b,y),zs(),ne=o.memoizedState,M||ae!==ne||Ta?(typeof we=="function"&&(Ag(o,u,we,f),ne=o.memoizedState),(W=Ta||b1(o,u,W,f,ae,ne,z))?(me||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=ne),b.props=f,b.state=ne,b.context=z,f=W):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{b=o.stateNode,og(a,o),z=o.memoizedProps,me=Co(u,z),b.props=me,we=o.pendingProps,ae=b.context,ne=u.contextType,W=ll,typeof ne=="object"&&ne!==null&&(W=Nr(ne)),M=u.getDerivedStateFromProps,(ne=typeof M=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(z!==we||ae!==W)&&S1(o,b,f,W),Ta=!1,ae=o.memoizedState,b.state=ae,_s(o,f,b,y),zs();var de=o.memoizedState;z!==we||ae!==de||Ta||a!==null&&a.dependencies!==null&&hu(a.dependencies)?(typeof M=="function"&&(Ag(o,u,M,f),de=o.memoizedState),(me=Ta||b1(o,u,me,f,ae,de,W)||a!==null&&a.dependencies!==null&&hu(a.dependencies))?(ne||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,de,W),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,de,W)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||z===a.memoizedProps&&ae===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&ae===a.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=de),b.props=f,b.state=de,b.context=W,f=me):(typeof b.componentDidUpdate!="function"||z===a.memoizedProps&&ae===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&ae===a.memoizedState||(o.flags|=1024),f=!1)}return b=f,Ru(a,o),f=(o.flags&128)!==0,b||f?(b=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&f?(o.child=jo(o,a.child,null,y),o.child=jo(o,null,u,y)):Lr(a,o,u,y),o.memoizedState=b.state,a=o.child):a=Vi(a,o,y),a}function $1(a,o,u,f){return mo(),o.flags|=256,Lr(a,o,u,f),o.child}var Rg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pg(a){return{baseLanes:a,cachePool:k0()}}function $g(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=vn),a}function N1(a,o,u){var f=o.pendingProps,y=!1,b=(o.flags&128)!==0,z;if((z=b)||(z=a!==null&&a.memoizedState===null?!1:(ur.current&2)!==0),z&&(y=!0,o.flags&=-129),z=(o.flags&32)!==0,o.flags&=-33,a===null){if(gt){if(y?Oa(o):Ma(),(a=Ft)?(a=FS(a,Wn),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Ca!==null?{id:bi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},u=m0(a),u.return=o,o.child=u,$r=o,Ft=null)):a=null,a===null)throw za(o);return xh(a)?o.lanes=32:o.lanes=536870912,null}var M=f.children;return f=f.fallback,y?(Ma(),y=o.mode,M=Pu({mode:"hidden",children:M},y),f=ho(f,y,u,null),M.return=o,f.return=o,M.sibling=f,o.child=M,f=o.child,f.memoizedState=Pg(u),f.childLanes=$g(a,z,u),o.memoizedState=Rg,Ms(null,f)):(Oa(o),Ng(o,M))}var W=a.memoizedState;if(W!==null&&(M=W.dehydrated,M!==null)){if(b)o.flags&256?(Oa(o),o.flags&=-257,o=Lg(a,o,u)):o.memoizedState!==null?(Ma(),o.child=a.child,o.flags|=128,o=null):(Ma(),M=f.fallback,y=o.mode,f=Pu({mode:"visible",children:f.children},y),M=ho(M,y,u,null),M.flags|=2,f.return=o,M.return=o,f.sibling=M,o.child=f,jo(o,a.child,null,u),f=o.child,f.memoizedState=Pg(u),f.childLanes=$g(a,z,u),o.memoizedState=Rg,o=Ms(null,f));else if(Oa(o),xh(M)){if(z=M.nextSibling&&M.nextSibling.dataset,z)var ne=z.dgst;z=ne,f=Error(i(419)),f.stack="",f.digest=z,bs({value:f,source:null,stack:null}),o=Lg(a,o,u)}else if(mr||dl(a,o,u,!1),z=(u&a.childLanes)!==0,mr||z){if(z=Lt,z!==null&&(f=_t(z,u),f!==0&&f!==W.retryLane))throw W.retryLane=f,go(a,f),ln(z,a,f),Mg;yh(M)||Hu(),o=Lg(a,o,u)}else yh(M)?(o.flags|=192,o.child=a.child,o=null):(a=W.treeContext,Ft=In(M.nextSibling),$r=o,gt=!0,ka=null,Wn=!1,a!==null&&v0(o,a),o=Ng(o,f.children),o.flags|=4096);return o}return y?(Ma(),M=f.fallback,y=o.mode,W=a.child,ne=W.sibling,f=qi(W,{mode:"hidden",children:f.children}),f.subtreeFlags=W.subtreeFlags&65011712,ne!==null?M=qi(ne,M):(M=ho(M,y,u,null),M.flags|=2),M.return=o,f.return=o,f.sibling=M,o.child=f,Ms(null,f),f=o.child,M=a.child.memoizedState,M===null?M=Pg(u):(y=M.cachePool,y!==null?(W=gr._currentValue,y=y.parent!==W?{parent:W,pool:W}:y):y=k0(),M={baseLanes:M.baseLanes|u,cachePool:y}),f.memoizedState=M,f.childLanes=$g(a,z,u),o.memoizedState=Rg,Ms(a.child,f)):(Oa(o),u=a.child,a=u.sibling,u=qi(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,a!==null&&(z=o.deletions,z===null?(o.deletions=[a],o.flags|=16):z.push(a)),o.child=u,o.memoizedState=null,u)}function Ng(a,o){return o=Pu({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Pu(a,o){return a=hn(22,a,null,o),a.lanes=0,a}function Lg(a,o,u){return jo(o,a.child,null,u),a=Ng(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function L1(a,o,u){a.lanes|=o;var f=a.alternate;f!==null&&(f.lanes|=o),Jp(a.return,o,u)}function Wg(a,o,u,f,y,b){var z=a.memoizedState;z===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y,treeForkCount:b}:(z.isBackwards=o,z.rendering=null,z.renderingStartTime=0,z.last=f,z.tail=u,z.tailMode=y,z.treeForkCount=b)}function W1(a,o,u){var f=o.pendingProps,y=f.revealOrder,b=f.tail;f=f.children;var z=ur.current,M=(z&2)!==0;if(M?(z=z&1|2,o.flags|=128):z&=1,ue(ur,z),Lr(a,o,f,u),f=gt?vs:0,!M&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&L1(a,u,o);else if(a.tag===19)L1(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&wu(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Wg(o,!1,y,u,b,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&wu(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}Wg(o,!0,u,null,b,f);break;case"together":Wg(o,!1,null,null,void 0,f);break;default:o.memoizedState=null}return o.child}function Vi(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Pa|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(dl(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(i(153));if(o.child!==null){for(a=o.child,u=qi(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=qi(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function Bg(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&hu(a)))}function dM(a,o,u){switch(o.tag){case 3:ke(o,o.stateNode.containerInfo),_a(o,gr,a.memoizedState.cache),mo();break;case 27:case 5:ve(o);break;case 4:ke(o,o.stateNode.containerInfo);break;case 10:_a(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,dg(o),null;break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Oa(o),o.flags|=128,null):(u&o.child.childLanes)!==0?N1(a,o,u):(Oa(o),a=Vi(a,o,u),a!==null?a.sibling:null);Oa(o);break;case 19:var y=(a.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(dl(a,o,u,!1),f=(u&o.childLanes)!==0),y){if(f)return W1(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ue(ur,ur.current),f)break;return null;case 22:return o.lanes=0,O1(a,o,u,o.pendingProps);case 24:_a(o,gr,a.memoizedState.cache)}return Vi(a,o,u)}function B1(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)mr=!0;else{if(!Bg(a,u)&&(o.flags&128)===0)return mr=!1,dM(a,o,u);mr=(a.flags&131072)!==0}else mr=!1,gt&&(o.flags&1048576)!==0&&x0(o,vs,o.index);switch(o.lanes=0,o.tag){case 16:e:{var f=o.pendingProps;if(a=bo(o.elementType),o.type=a,typeof a=="function")Fp(a)?(f=Co(a,f),o.tag=1,o=P1(null,o,a,f,u)):(o.tag=0,o=Dg(null,o,a,f,u));else{if(a!=null){var y=a.$$typeof;if(y===T){o.tag=11,o=T1(null,o,a,f,u);break e}else if(y===D){o.tag=14,o=A1(null,o,a,f,u);break e}}throw o=he(a)||a,Error(i(306,o,""))}}return o;case 0:return Dg(a,o,o.type,o.pendingProps,u);case 1:return f=o.type,y=Co(f,o.pendingProps),P1(a,o,f,y,u);case 3:e:{if(ke(o,o.stateNode.containerInfo),a===null)throw Error(i(387));f=o.pendingProps;var b=o.memoizedState;y=b.element,og(a,o),_s(o,f,null,u);var z=o.memoizedState;if(f=z.cache,_a(o,gr,f),f!==b.cache&&eg(o,[gr],u,!0),zs(),f=z.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:z.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=$1(a,o,f,u);break e}else if(f!==y){y=$n(Error(i(424)),o),bs(y),o=$1(a,o,f,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ft=In(a.firstChild),$r=o,gt=!0,ka=null,Wn=!0,u=O0(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(mo(),f===y){o=Vi(a,o,u);break e}Lr(a,o,f,u)}o=o.child}return o;case 26:return Ru(a,o),a===null?(u=QS(o.type,null,o.pendingProps,null))?o.memoizedState=u:gt||(u=o.type,a=o.pendingProps,f=Qu(K.current).createElement(u),f[sr]=o,f[cr]=a,Wr(f,u,a),Je(f),o.stateNode=f):o.memoizedState=QS(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return ve(o),a===null&&gt&&(f=o.stateNode=VS(o.type,o.pendingProps,K.current),$r=o,Wn=!0,y=Ft,Ba(o.type)?(vh=y,Ft=In(f.firstChild)):Ft=y),Lr(a,o,o.pendingProps.children,u),Ru(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&gt&&((y=f=Ft)&&(f=IM(f,o.type,o.pendingProps,Wn),f!==null?(o.stateNode=f,$r=o,Ft=In(f.firstChild),Wn=!1,y=!0):y=!1),y||za(o)),ve(o),y=o.type,b=o.pendingProps,z=a!==null?a.memoizedProps:null,f=b.children,gh(y,b)?f=null:z!==null&&gh(y,z)&&(o.flags|=32),o.memoizedState!==null&&(y=pg(a,o,rM,null,null,u),Ys._currentValue=y),Ru(a,o),Lr(a,o,f,u),o.child;case 6:return a===null&&gt&&((a=u=Ft)&&(u=qM(u,o.pendingProps,Wn),u!==null?(o.stateNode=u,$r=o,Ft=null,a=!0):a=!1),a||za(o)),null;case 13:return N1(a,o,u);case 4:return ke(o,o.stateNode.containerInfo),f=o.pendingProps,a===null?o.child=jo(o,null,f,u):Lr(a,o,f,u),o.child;case 11:return T1(a,o,o.type,o.pendingProps,u);case 7:return Lr(a,o,o.pendingProps,u),o.child;case 8:return Lr(a,o,o.pendingProps.children,u),o.child;case 12:return Lr(a,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,_a(o,o.type,f.value),Lr(a,o,f.children,u),o.child;case 9:return y=o.type._context,f=o.pendingProps.children,xo(o),y=Nr(y),f=f(y),o.flags|=1,Lr(a,o,f,u),o.child;case 14:return A1(a,o,o.type,o.pendingProps,u);case 15:return E1(a,o,o.type,o.pendingProps,u);case 19:return W1(a,o,u);case 31:return uM(a,o,u);case 22:return O1(a,o,u,o.pendingProps);case 24:return xo(o),f=Nr(gr),a===null?(y=ng(),y===null&&(y=Lt,b=tg(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),o.memoizedState={parent:f,cache:y},ag(o),_a(o,gr,y)):((a.lanes&u)!==0&&(og(a,o),_s(o,null,null,u),zs()),y=a.memoizedState,b=o.memoizedState,y.parent!==f?(y={parent:f,cache:f},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),_a(o,gr,f)):(f=b.cache,_a(o,gr,f),f!==y.cache&&eg(o,[gr],u,!0))),Lr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Gi(a){a.flags|=4}function Ig(a,o,u,f,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(pS())a.flags|=8192;else throw So=vu,ig}else a.flags&=-16777217}function I1(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!rj(o))if(pS())a.flags|=8192;else throw So=vu,ig}function $u(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?ei():536870912,a.lanes|=o,wl|=o)}function Ds(a,o){if(!gt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Kt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,f=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=f,a.childLanes=u,o}function fM(a,o,u){var f=o.pendingProps;switch(Gp(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(o),null;case 1:return Kt(o),null;case 3:return u=o.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Fi(gr),N(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(ul(o)?Gi(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Qp())),Kt(o),null;case 26:var y=o.type,b=o.memoizedState;return a===null?(Gi(o),b!==null?(Kt(o),I1(o,b)):(Kt(o),Ig(o,y,null,f,u))):b?b!==a.memoizedState?(Gi(o),Kt(o),I1(o,b)):(Kt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==f&&Gi(o),Kt(o),Ig(o,y,a,f,u)),null;case 27:if(ee(o),u=K.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==f&&Gi(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Kt(o),null}a=xe.current,ul(o)?b0(o):(a=VS(y,f,u),o.stateNode=a,Gi(o))}return Kt(o),null;case 5:if(ee(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==f&&Gi(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Kt(o),null}if(b=xe.current,ul(o))b0(o);else{var z=Qu(K.current);switch(b){case 1:b=z.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=z.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=z.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=z.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=z.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof f.is=="string"?z.createElement("select",{is:f.is}):z.createElement("select"),f.multiple?b.multiple=!0:f.size&&(b.size=f.size);break;default:b=typeof f.is=="string"?z.createElement(y,{is:f.is}):z.createElement(y)}}b[sr]=o,b[cr]=f;e:for(z=o.child;z!==null;){if(z.tag===5||z.tag===6)b.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===o)break e;for(;z.sibling===null;){if(z.return===null||z.return===o)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}o.stateNode=b;e:switch(Wr(b,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Gi(o)}}return Kt(o),Ig(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==f&&Gi(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(a=K.current,ul(o)){if(a=o.stateNode,u=o.memoizedProps,f=null,y=$r,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}a[sr]=o,a=!!(a.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||NS(a.nodeValue,u)),a||za(o,!0)}else a=Qu(a).createTextNode(f),a[sr]=o,o.stateNode=a}return Kt(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(f=ul(o),u!==null){if(a===null){if(!f)throw Error(i(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[sr]=o}else mo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),a=!1}else u=Qp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(yn(o),o):(yn(o),null);if((o.flags&128)!==0)throw Error(i(558))}return Kt(o),null;case 13:if(f=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=ul(o),f!==null&&f.dehydrated!==null){if(a===null){if(!y)throw Error(i(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[sr]=o}else mo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),y=!1}else y=Qp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(yn(o),o):(yn(o),null)}return yn(o),(o.flags&128)!==0?(o.lanes=u,o):(u=f!==null,a=a!==null&&a.memoizedState!==null,u&&(f=o.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),$u(o,o.updateQueue),Kt(o),null);case 4:return N(),a===null&&ch(o.stateNode.containerInfo),Kt(o),null;case 10:return Fi(o.type),Kt(o),null;case 19:if(L(ur),f=o.memoizedState,f===null)return Kt(o),null;if(y=(o.flags&128)!==0,b=f.rendering,b===null)if(y)Ds(f,!1);else{if(or!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=wu(a),b!==null){for(o.flags|=128,Ds(f,!1),a=b.updateQueue,o.updateQueue=a,$u(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)h0(u,a),u=u.sibling;return ue(ur,ur.current&1|2),gt&&Ui(o,f.treeForkCount),o.child}a=a.sibling}f.tail!==null&&q()>Iu&&(o.flags|=128,y=!0,Ds(f,!1),o.lanes=4194304)}else{if(!y)if(a=wu(b),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,$u(o,a),Ds(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!gt)return Kt(o),null}else 2*q()-f.renderingStartTime>Iu&&u!==536870912&&(o.flags|=128,y=!0,Ds(f,!1),o.lanes=4194304);f.isBackwards?(b.sibling=o.child,o.child=b):(a=f.last,a!==null?a.sibling=b:o.child=b,f.last=b)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=q(),a.sibling=null,u=ur.current,ue(ur,y?u&1|2:u&1),gt&&Ui(o,f.treeForkCount),a):(Kt(o),null);case 22:case 23:return yn(o),ug(),f=o.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(Kt(o),o.subtreeFlags&6&&(o.flags|=8192)):Kt(o),u=o.updateQueue,u!==null&&$u(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),a!==null&&L(vo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Fi(gr),Kt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function pM(a,o){switch(Gp(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Fi(gr),N(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return ee(o),null;case 31:if(o.memoizedState!==null){if(yn(o),o.alternate===null)throw Error(i(340));mo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(yn(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(i(340));mo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return L(ur),null;case 4:return N(),null;case 10:return Fi(o.type),null;case 22:case 23:return yn(o),ug(),a!==null&&L(vo),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Fi(gr),null;case 25:return null;default:return null}}function q1(a,o){switch(Gp(o),o.tag){case 3:Fi(gr),N();break;case 26:case 27:case 5:ee(o);break;case 4:N();break;case 31:o.memoizedState!==null&&yn(o);break;case 13:yn(o);break;case 19:L(ur);break;case 10:Fi(o.type);break;case 22:case 23:yn(o),ug(),a!==null&&L(vo);break;case 24:Fi(gr)}}function Rs(a,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&a)===a){f=void 0;var b=u.create,z=u.inst;f=b(),z.destroy=f}u=u.next}while(u!==y)}}catch(M){Et(o,o.return,M)}}function Da(a,o,u){try{var f=o.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var b=y.next;f=b;do{if((f.tag&a)===a){var z=f.inst,M=z.destroy;if(M!==void 0){z.destroy=void 0,y=o;var W=u,ne=M;try{ne()}catch(me){Et(y,W,me)}}}f=f.next}while(f!==b)}}catch(me){Et(o,o.return,me)}}function U1(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{D0(o,u)}catch(f){Et(a,a.return,f)}}}function H1(a,o,u){u.props=Co(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(f){Et(a,o,f)}}function Ps(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof u=="function"?a.refCleanup=u(f):u.current=f}}catch(y){Et(a,o,y)}}function ji(a,o){var u=a.ref,f=a.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(y){Et(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Et(a,o,y)}else u.current=null}function F1(a){var o=a.type,u=a.memoizedProps,f=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(y){Et(a,a.return,y)}}function qg(a,o,u){try{var f=a.stateNode;PM(f,a.type,u,o),f[cr]=o}catch(y){Et(a,a.return,y)}}function K1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ba(a.type)||a.tag===4}function Ug(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||K1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ba(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Hg(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Bi));else if(f!==4&&(f===27&&Ba(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(Hg(a,o,u),a=a.sibling;a!==null;)Hg(a,o,u),a=a.sibling}function Nu(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(f!==4&&(f===27&&Ba(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Nu(a,o,u),a=a.sibling;a!==null;)Nu(a,o,u),a=a.sibling}function Y1(a){var o=a.stateNode,u=a.memoizedProps;try{for(var f=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Wr(o,f,u),o[sr]=a,o[cr]=u}catch(b){Et(a,a.return,b)}}var Xi=!1,yr=!1,Fg=!1,V1=typeof WeakSet=="function"?WeakSet:Set,Tr=null;function gM(a,o){if(a=a.containerInfo,fh=id,a=o0(a),Lp(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var z=0,M=-1,W=-1,ne=0,me=0,we=a,ae=null;t:for(;;){for(var de;we!==u||y!==0&&we.nodeType!==3||(M=z+y),we!==b||f!==0&&we.nodeType!==3||(W=z+f),we.nodeType===3&&(z+=we.nodeValue.length),(de=we.firstChild)!==null;)ae=we,we=de;for(;;){if(we===a)break t;if(ae===u&&++ne===y&&(M=z),ae===b&&++me===f&&(W=z),(de=we.nextSibling)!==null)break;we=ae,ae=we.parentNode}we=de}u=M===-1||W===-1?null:{start:M,end:W}}else u=null}u=u||{start:0,end:0}}else u=null;for(ph={focusedElem:a,selectionRange:u},id=!1,Tr=o;Tr!==null;)if(o=Tr,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Tr=a;else for(;Tr!==null;){switch(o=Tr,b=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)y=a[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=o,y=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var We=Co(u.type,y);a=f.getSnapshotBeforeUpdate(We,b),f.__reactInternalSnapshotBeforeUpdate=a}catch(Ge){Et(u,u.return,Ge)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)mh(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":mh(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=o.sibling,a!==null){a.return=o.return,Tr=a;break}Tr=o.return}}function G1(a,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Zi(a,u),f&4&&Rs(5,u);break;case 1:if(Zi(a,u),f&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(z){Et(u,u.return,z)}else{var y=Co(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(z){Et(u,u.return,z)}}f&64&&U1(u),f&512&&Ps(u,u.return);break;case 3:if(Zi(a,u),f&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{D0(a,o)}catch(z){Et(u,u.return,z)}}break;case 27:o===null&&f&4&&Y1(u);case 26:case 5:Zi(a,u),o===null&&f&4&&F1(u),f&512&&Ps(u,u.return);break;case 12:Zi(a,u);break;case 31:Zi(a,u),f&4&&Z1(a,u);break;case 13:Zi(a,u),f&4&&J1(a,u),f&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=wM.bind(null,u),UM(a,u))));break;case 22:if(f=u.memoizedState!==null||Xi,!f){o=o!==null&&o.memoizedState!==null||yr,y=Xi;var b=yr;Xi=f,(yr=o)&&!b?Ji(a,u,(u.subtreeFlags&8772)!==0):Zi(a,u),Xi=y,yr=b}break;case 30:break;default:Zi(a,u)}}function X1(a){var o=a.alternate;o!==null&&(a.alternate=null,X1(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&De(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Vt=null,rn=!1;function Qi(a,o,u){for(u=u.child;u!==null;)Q1(a,o,u),u=u.sibling}function Q1(a,o,u){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount($t,u)}catch{}switch(u.tag){case 26:yr||ji(u,o),Qi(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:yr||ji(u,o);var f=Vt,y=rn;Ba(u.type)&&(Vt=u.stateNode,rn=!1),Qi(a,o,u),Hs(u.stateNode),Vt=f,rn=y;break;case 5:yr||ji(u,o);case 6:if(f=Vt,y=rn,Vt=null,Qi(a,o,u),Vt=f,rn=y,Vt!==null)if(rn)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(u.stateNode)}catch(b){Et(u,o,b)}else try{Vt.removeChild(u.stateNode)}catch(b){Et(u,o,b)}break;case 18:Vt!==null&&(rn?(a=Vt,US(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Ol(a)):US(Vt,u.stateNode));break;case 4:f=Vt,y=rn,Vt=u.stateNode.containerInfo,rn=!0,Qi(a,o,u),Vt=f,rn=y;break;case 0:case 11:case 14:case 15:Da(2,u,o),yr||Da(4,u,o),Qi(a,o,u);break;case 1:yr||(ji(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&H1(u,o,f)),Qi(a,o,u);break;case 21:Qi(a,o,u);break;case 22:yr=(f=yr)||u.memoizedState!==null,Qi(a,o,u),yr=f;break;default:Qi(a,o,u)}}function Z1(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Ol(a)}catch(u){Et(o,o.return,u)}}}function J1(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ol(a)}catch(u){Et(o,o.return,u)}}function hM(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new V1),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new V1),o;default:throw Error(i(435,a.tag))}}function Lu(a,o){var u=hM(a);o.forEach(function(f){if(!u.has(f)){u.add(f);var y=CM.bind(null,a,f);f.then(y,y)}})}function nn(a,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f],b=a,z=o,M=z;e:for(;M!==null;){switch(M.tag){case 27:if(Ba(M.type)){Vt=M.stateNode,rn=!1;break e}break;case 5:Vt=M.stateNode,rn=!1;break e;case 3:case 4:Vt=M.stateNode.containerInfo,rn=!0;break e}M=M.return}if(Vt===null)throw Error(i(160));Q1(b,z,y),Vt=null,rn=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)eS(o,a),o=o.sibling}var ai=null;function eS(a,o){var u=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:nn(o,a),an(a),f&4&&(Da(3,a,a.return),Rs(3,a),Da(5,a,a.return));break;case 1:nn(o,a),an(a),f&512&&(yr||u===null||ji(u,u.return)),f&64&&Xi&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var y=ai;if(nn(o,a),an(a),f&512&&(yr||u===null||ji(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=a.memoizedState,u===null)if(f===null)if(a.stateNode===null){e:{f=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Y]||b[sr]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(f),y.head.insertBefore(b,y.querySelector("head > title"))),Wr(b,f,u),b[sr]=a,Je(b),f=b;break e;case"link":var z=ej("link","href",y).get(f+(u.href||""));if(z){for(var M=0;M<z.length;M++)if(b=z[M],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){z.splice(M,1);break t}}b=y.createElement(f),Wr(b,f,u),y.head.appendChild(b);break;case"meta":if(z=ej("meta","content",y).get(f+(u.content||""))){for(M=0;M<z.length;M++)if(b=z[M],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){z.splice(M,1);break t}}b=y.createElement(f),Wr(b,f,u),y.head.appendChild(b);break;default:throw Error(i(468,f))}b[sr]=a,Je(b),f=b}a.stateNode=f}else tj(y,a.type,a.stateNode);else a.stateNode=JS(y,f,a.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?tj(y,a.type,a.stateNode):JS(y,f,a.memoizedProps)):f===null&&a.stateNode!==null&&qg(a,a.memoizedProps,u.memoizedProps)}break;case 27:nn(o,a),an(a),f&512&&(yr||u===null||ji(u,u.return)),u!==null&&f&4&&qg(a,a.memoizedProps,u.memoizedProps);break;case 5:if(nn(o,a),an(a),f&512&&(yr||u===null||ji(u,u.return)),a.flags&32){y=a.stateNode;try{el(y,"")}catch(We){Et(a,a.return,We)}}f&4&&a.stateNode!=null&&(y=a.memoizedProps,qg(a,y,u!==null?u.memoizedProps:y)),f&1024&&(Fg=!0);break;case 6:if(nn(o,a),an(a),f&4){if(a.stateNode===null)throw Error(i(162));f=a.memoizedProps,u=a.stateNode;try{u.nodeValue=f}catch(We){Et(a,a.return,We)}}break;case 3:if(ed=null,y=ai,ai=Zu(o.containerInfo),nn(o,a),ai=y,an(a),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Ol(o.containerInfo)}catch(We){Et(a,a.return,We)}Fg&&(Fg=!1,tS(a));break;case 4:f=ai,ai=Zu(a.stateNode.containerInfo),nn(o,a),an(a),ai=f;break;case 12:nn(o,a),an(a);break;case 31:nn(o,a),an(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Lu(a,f)));break;case 13:nn(o,a),an(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Bu=q()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Lu(a,f)));break;case 22:y=a.memoizedState!==null;var W=u!==null&&u.memoizedState!==null,ne=Xi,me=yr;if(Xi=ne||y,yr=me||W,nn(o,a),yr=me,Xi=ne,an(a),f&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||W||Xi||yr||ko(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){W=u=o;try{if(b=W.stateNode,y)z=b.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{M=W.stateNode;var we=W.memoizedProps.style,ae=we!=null&&we.hasOwnProperty("display")?we.display:null;M.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(We){Et(W,W.return,We)}}}else if(o.tag===6){if(u===null){W=o;try{W.stateNode.nodeValue=y?"":W.memoizedProps}catch(We){Et(W,W.return,We)}}}else if(o.tag===18){if(u===null){W=o;try{var de=W.stateNode;y?HS(de,!0):HS(W.stateNode,!1)}catch(We){Et(W,W.return,We)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=a.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Lu(a,u))));break;case 19:nn(o,a),an(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Lu(a,f)));break;case 30:break;case 21:break;default:nn(o,a),an(a)}}function an(a){var o=a.flags;if(o&2){try{for(var u,f=a.return;f!==null;){if(K1(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var y=u.stateNode,b=Ug(a);Nu(a,b,y);break;case 5:var z=u.stateNode;u.flags&32&&(el(z,""),u.flags&=-33);var M=Ug(a);Nu(a,M,z);break;case 3:case 4:var W=u.stateNode.containerInfo,ne=Ug(a);Hg(a,ne,W);break;default:throw Error(i(161))}}catch(me){Et(a,a.return,me)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function tS(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;tS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Zi(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)G1(a,o.alternate,o),o=o.sibling}function ko(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Da(4,o,o.return),ko(o);break;case 1:ji(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&H1(o,o.return,u),ko(o);break;case 27:Hs(o.stateNode);case 26:case 5:ji(o,o.return),ko(o);break;case 22:o.memoizedState===null&&ko(o);break;case 30:ko(o);break;default:ko(o)}a=a.sibling}}function Ji(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,y=a,b=o,z=b.flags;switch(b.tag){case 0:case 11:case 15:Ji(y,b,u),Rs(4,b);break;case 1:if(Ji(y,b,u),f=b,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ne){Et(f,f.return,ne)}if(f=b,y=f.updateQueue,y!==null){var M=f.stateNode;try{var W=y.shared.hiddenCallbacks;if(W!==null)for(y.shared.hiddenCallbacks=null,y=0;y<W.length;y++)M0(W[y],M)}catch(ne){Et(f,f.return,ne)}}u&&z&64&&U1(b),Ps(b,b.return);break;case 27:Y1(b);case 26:case 5:Ji(y,b,u),u&&f===null&&z&4&&F1(b),Ps(b,b.return);break;case 12:Ji(y,b,u);break;case 31:Ji(y,b,u),u&&z&4&&Z1(y,b);break;case 13:Ji(y,b,u),u&&z&4&&J1(y,b);break;case 22:b.memoizedState===null&&Ji(y,b,u),Ps(b,b.return);break;case 30:break;default:Ji(y,b,u)}o=o.sibling}}function Kg(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Ss(u))}function Yg(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Ss(a))}function oi(a,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)rS(a,o,u,f),o=o.sibling}function rS(a,o,u,f){var y=o.flags;switch(o.tag){case 0:case 11:case 15:oi(a,o,u,f),y&2048&&Rs(9,o);break;case 1:oi(a,o,u,f);break;case 3:oi(a,o,u,f),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Ss(a)));break;case 12:if(y&2048){oi(a,o,u,f),a=o.stateNode;try{var b=o.memoizedProps,z=b.id,M=b.onPostCommit;typeof M=="function"&&M(z,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(W){Et(o,o.return,W)}}else oi(a,o,u,f);break;case 31:oi(a,o,u,f);break;case 13:oi(a,o,u,f);break;case 23:break;case 22:b=o.stateNode,z=o.alternate,o.memoizedState!==null?b._visibility&2?oi(a,o,u,f):$s(a,o):b._visibility&2?oi(a,o,u,f):(b._visibility|=2,bl(a,o,u,f,(o.subtreeFlags&10256)!==0||!1)),y&2048&&Kg(z,o);break;case 24:oi(a,o,u,f),y&2048&&Yg(o.alternate,o);break;default:oi(a,o,u,f)}}function bl(a,o,u,f,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=a,z=o,M=u,W=f,ne=z.flags;switch(z.tag){case 0:case 11:case 15:bl(b,z,M,W,y),Rs(8,z);break;case 23:break;case 22:var me=z.stateNode;z.memoizedState!==null?me._visibility&2?bl(b,z,M,W,y):$s(b,z):(me._visibility|=2,bl(b,z,M,W,y)),y&&ne&2048&&Kg(z.alternate,z);break;case 24:bl(b,z,M,W,y),y&&ne&2048&&Yg(z.alternate,z);break;default:bl(b,z,M,W,y)}o=o.sibling}}function $s(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,f=o,y=f.flags;switch(f.tag){case 22:$s(u,f),y&2048&&Kg(f.alternate,f);break;case 24:$s(u,f),y&2048&&Yg(f.alternate,f);break;default:$s(u,f)}o=o.sibling}}var Ns=8192;function Sl(a,o,u){if(a.subtreeFlags&Ns)for(a=a.child;a!==null;)nS(a,o,u),a=a.sibling}function nS(a,o,u){switch(a.tag){case 26:Sl(a,o,u),a.flags&Ns&&a.memoizedState!==null&&tD(u,ai,a.memoizedState,a.memoizedProps);break;case 5:Sl(a,o,u);break;case 3:case 4:var f=ai;ai=Zu(a.stateNode.containerInfo),Sl(a,o,u),ai=f;break;case 22:a.memoizedState===null&&(f=a.alternate,f!==null&&f.memoizedState!==null?(f=Ns,Ns=16777216,Sl(a,o,u),Ns=f):Sl(a,o,u));break;default:Sl(a,o,u)}}function iS(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Ls(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];Tr=f,oS(f,a)}iS(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)aS(a),a=a.sibling}function aS(a){switch(a.tag){case 0:case 11:case 15:Ls(a),a.flags&2048&&Da(9,a,a.return);break;case 3:Ls(a);break;case 12:Ls(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Wu(a)):Ls(a);break;default:Ls(a)}}function Wu(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];Tr=f,oS(f,a)}iS(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Da(8,o,o.return),Wu(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Wu(o));break;default:Wu(o)}a=a.sibling}}function oS(a,o){for(;Tr!==null;){var u=Tr;switch(u.tag){case 0:case 11:case 15:Da(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ss(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Tr=f;else e:for(u=a;Tr!==null;){f=Tr;var y=f.sibling,b=f.return;if(X1(f),f===u){Tr=null;break e}if(y!==null){y.return=b,Tr=y;break e}Tr=b}}}var mM={getCacheForType:function(a){var o=Nr(gr),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return Nr(gr).controller.signal}},yM=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Lt=null,ct=null,ft=0,At=0,xn=null,Ra=!1,jl=!1,Vg=!1,ea=0,or=0,Pa=0,zo=0,Gg=0,vn=0,wl=0,Ws=null,on=null,Xg=!1,Bu=0,lS=0,Iu=1/0,qu=null,$a=null,wr=0,Na=null,Cl=null,ta=0,Qg=0,Zg=null,sS=null,Bs=0,Jg=null;function bn(){return(Ct&2)!==0&&ft!==0?ft&-ft:U.T!==null?ah():ir()}function cS(){if(vn===0)if((ft&536870912)===0||gt){var a=st;st<<=1,(st&3932160)===0&&(st=262144),vn=a}else vn=536870912;return a=mn.current,a!==null&&(a.flags|=32),vn}function ln(a,o,u){(a===Lt&&(At===2||At===9)||a.cancelPendingCommit!==null)&&(kl(a,0),La(a,ft,vn,!1)),ti(a,u),((Ct&2)===0||a!==Lt)&&(a===Lt&&((Ct&2)===0&&(zo|=u),or===4&&La(a,ft,vn,!1)),wi(a))}function uS(a,o,u){if((Ct&6)!==0)throw Error(i(327));var f=!u&&(o&127)===0&&(o&a.expiredLanes)===0||en(a,o),y=f?bM(a,o):th(a,o,!0),b=f;do{if(y===0){jl&&!f&&La(a,o,0,!1);break}else{if(u=a.current.alternate,b&&!xM(u)){y=th(a,o,!1),b=!1;continue}if(y===2){if(b=o,a.errorRecoveryDisabledLanes&b)var z=0;else z=a.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){o=z;e:{var M=a;y=Ws;var W=M.current.memoizedState.isDehydrated;if(W&&(kl(M,z).flags|=256),z=th(M,z,!1),z!==2){if(Vg&&!W){M.errorRecoveryDisabledLanes|=b,zo|=b,y=4;break e}b=on,on=y,b!==null&&(on===null?on=b:on.push.apply(on,b))}y=z}if(b=!1,y!==2)continue}}if(y===1){kl(a,0),La(a,o,0,!0);break}e:{switch(f=a,b=y,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:La(f,o,vn,!Ra);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(y=Bu+300-q(),10<y)){if(La(f,o,vn,!Ra),Vr(f,0,!0)!==0)break e;ta=o,f.timeoutHandle=IS(dS.bind(null,f,u,on,qu,Xg,o,vn,zo,wl,Ra,b,"Throttled",-0,0),y);break e}dS(f,u,on,qu,Xg,o,vn,zo,wl,Ra,b,null,-0,0)}}break}while(!0);wi(a)}function dS(a,o,u,f,y,b,z,M,W,ne,me,we,ae,de){if(a.timeoutHandle=-1,we=o.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bi},nS(o,b,we);var We=(b&62914560)===b?Bu-q():(b&4194048)===b?lS-q():0;if(We=rD(we,We),We!==null){ta=b,a.cancelPendingCommit=We(vS.bind(null,a,o,b,u,f,y,z,M,W,me,we,null,ae,de)),La(a,b,z,!ne);return}}vS(a,o,b,u,f,y,z,M,W)}function xM(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var y=u[f],b=y.getSnapshot;y=y.value;try{if(!gn(b(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function La(a,o,u,f){o&=~Gg,o&=~zo,a.suspendedLanes|=o,a.pingedLanes&=~o,f&&(a.warmLanes|=o),f=a.expirationTimes;for(var y=o;0<y;){var b=31-V(y),z=1<<b;f[b]=-1,y&=~z}u!==0&&B(a,u,o)}function Uu(){return(Ct&6)===0?(Is(0),!1):!0}function eh(){if(ct!==null){if(At===0)var a=ct.return;else a=ct,Hi=yo=null,mg(a),hl=null,ws=0,a=ct;for(;a!==null;)q1(a.alternate,a),a=a.return;ct=null}}function kl(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,LM(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),ta=0,eh(),Lt=a,ct=u=qi(a.current,null),ft=o,At=0,xn=null,Ra=!1,jl=en(a,o),Vg=!1,wl=vn=Gg=zo=Pa=or=0,on=Ws=null,Xg=!1,(o&8)!==0&&(o|=o&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=o;0<f;){var y=31-V(f),b=1<<y;o|=a[y],f&=~b}return ea=o,uu(),u}function fS(a,o){nt=null,U.H=Os,o===gl||o===xu?(o=T0(),At=3):o===ig?(o=T0(),At=4):At=o===Mg?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,xn=o,ct===null&&(or=1,Mu(a,$n(o,a.current)))}function pS(){var a=mn.current;return a===null?!0:(ft&4194048)===ft?Bn===null:(ft&62914560)===ft||(ft&536870912)!==0?a===Bn:!1}function gS(){var a=U.H;return U.H=Os,a===null?Os:a}function hS(){var a=U.A;return U.A=mM,a}function Hu(){or=4,Ra||(ft&4194048)!==ft&&mn.current!==null||(jl=!0),(Pa&134217727)===0&&(zo&134217727)===0||Lt===null||La(Lt,ft,vn,!1)}function th(a,o,u){var f=Ct;Ct|=2;var y=gS(),b=hS();(Lt!==a||ft!==o)&&(qu=null,kl(a,o)),o=!1;var z=or;e:do try{if(At!==0&&ct!==null){var M=ct,W=xn;switch(At){case 8:eh(),z=6;break e;case 3:case 2:case 9:case 6:mn.current===null&&(o=!0);var ne=At;if(At=0,xn=null,zl(a,M,W,ne),u&&jl){z=0;break e}break;default:ne=At,At=0,xn=null,zl(a,M,W,ne)}}vM(),z=or;break}catch(me){fS(a,me)}while(!0);return o&&a.shellSuspendCounter++,Hi=yo=null,Ct=f,U.H=y,U.A=b,ct===null&&(Lt=null,ft=0,uu()),z}function vM(){for(;ct!==null;)mS(ct)}function bM(a,o){var u=Ct;Ct|=2;var f=gS(),y=hS();Lt!==a||ft!==o?(qu=null,Iu=q()+500,kl(a,o)):jl=en(a,o);e:do try{if(At!==0&&ct!==null){o=ct;var b=xn;t:switch(At){case 1:At=0,xn=null,zl(a,o,b,1);break;case 2:case 9:if(z0(b)){At=0,xn=null,yS(o);break}o=function(){At!==2&&At!==9||Lt!==a||(At=7),wi(a)},b.then(o,o);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:z0(b)?(At=0,xn=null,yS(o)):(At=0,xn=null,zl(a,o,b,7));break;case 5:var z=null;switch(ct.tag){case 26:z=ct.memoizedState;case 5:case 27:var M=ct;if(z?rj(z):M.stateNode.complete){At=0,xn=null;var W=M.sibling;if(W!==null)ct=W;else{var ne=M.return;ne!==null?(ct=ne,Fu(ne)):ct=null}break t}}At=0,xn=null,zl(a,o,b,5);break;case 6:At=0,xn=null,zl(a,o,b,6);break;case 8:eh(),or=6;break e;default:throw Error(i(462))}}SM();break}catch(me){fS(a,me)}while(!0);return Hi=yo=null,U.H=f,U.A=y,Ct=u,ct!==null?0:(Lt=null,ft=0,uu(),or)}function SM(){for(;ct!==null&&!ot();)mS(ct)}function mS(a){var o=B1(a.alternate,a,ea);a.memoizedProps=a.pendingProps,o===null?Fu(a):ct=o}function yS(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=R1(u,o,o.pendingProps,o.type,void 0,ft);break;case 11:o=R1(u,o,o.pendingProps,o.type.render,o.ref,ft);break;case 5:mg(o);default:q1(u,o),o=ct=h0(o,ea),o=B1(u,o,ea)}a.memoizedProps=a.pendingProps,o===null?Fu(a):ct=o}function zl(a,o,u,f){Hi=yo=null,mg(o),hl=null,ws=0;var y=o.return;try{if(cM(a,y,o,u,ft)){or=1,Mu(a,$n(u,a.current)),ct=null;return}}catch(b){if(y!==null)throw ct=y,b;or=1,Mu(a,$n(u,a.current)),ct=null;return}o.flags&32768?(gt||f===1?a=!0:jl||(ft&536870912)!==0?a=!1:(Ra=a=!0,(f===2||f===9||f===3||f===6)&&(f=mn.current,f!==null&&f.tag===13&&(f.flags|=16384))),xS(o,a)):Fu(o)}function Fu(a){var o=a;do{if((o.flags&32768)!==0){xS(o,Ra);return}a=o.return;var u=fM(o.alternate,o,ea);if(u!==null){ct=u;return}if(o=o.sibling,o!==null){ct=o;return}ct=o=a}while(o!==null);or===0&&(or=5)}function xS(a,o){do{var u=pM(a.alternate,a);if(u!==null){u.flags&=32767,ct=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){ct=a;return}ct=a=u}while(a!==null);or=6,ct=null}function vS(a,o,u,f,y,b,z,M,W){a.cancelPendingCommit=null;do Ku();while(wr!==0);if((Ct&6)!==0)throw Error(i(327));if(o!==null){if(o===a.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=Up,$i(a,u,b,z,M,W),a===Lt&&(ct=Lt=null,ft=0),Cl=o,Na=a,ta=u,Qg=b,Zg=y,sS=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,kM(at,function(){return CS(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=U.T,U.T=null,y=F.p,F.p=2,z=Ct,Ct|=4;try{gM(a,o,u)}finally{Ct=z,F.p=y,U.T=f}}wr=1,bS(),SS(),jS()}}function bS(){if(wr===1){wr=0;var a=Na,o=Cl,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=U.T,U.T=null;var f=F.p;F.p=2;var y=Ct;Ct|=4;try{eS(o,a);var b=ph,z=o0(a.containerInfo),M=b.focusedElem,W=b.selectionRange;if(z!==M&&M&&M.ownerDocument&&a0(M.ownerDocument.documentElement,M)){if(W!==null&&Lp(M)){var ne=W.start,me=W.end;if(me===void 0&&(me=ne),"selectionStart"in M)M.selectionStart=ne,M.selectionEnd=Math.min(me,M.value.length);else{var we=M.ownerDocument||document,ae=we&&we.defaultView||window;if(ae.getSelection){var de=ae.getSelection(),We=M.textContent.length,Ge=Math.min(W.start,We),Rt=W.end===void 0?Ge:Math.min(W.end,We);!de.extend&&Ge>Rt&&(z=Rt,Rt=Ge,Ge=z);var G=i0(M,Ge),H=i0(M,Rt);if(G&&H&&(de.rangeCount!==1||de.anchorNode!==G.node||de.anchorOffset!==G.offset||de.focusNode!==H.node||de.focusOffset!==H.offset)){var te=we.createRange();te.setStart(G.node,G.offset),de.removeAllRanges(),Ge>Rt?(de.addRange(te),de.extend(H.node,H.offset)):(te.setEnd(H.node,H.offset),de.addRange(te))}}}}for(we=[],de=M;de=de.parentNode;)de.nodeType===1&&we.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<we.length;M++){var be=we[M];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}id=!!fh,ph=fh=null}finally{Ct=y,F.p=f,U.T=u}}a.current=o,wr=2}}function SS(){if(wr===2){wr=0;var a=Na,o=Cl,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=U.T,U.T=null;var f=F.p;F.p=2;var y=Ct;Ct|=4;try{G1(a,o.alternate,o)}finally{Ct=y,F.p=f,U.T=u}}wr=3}}function jS(){if(wr===4||wr===3){wr=0,J();var a=Na,o=Cl,u=ta,f=sS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?wr=5:(wr=0,Cl=Na=null,wS(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&($a=null),dt(u),o=o.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot($t,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=U.T,y=F.p,F.p=2,U.T=null;try{for(var b=a.onRecoverableError,z=0;z<f.length;z++){var M=f[z];b(M.value,{componentStack:M.stack})}}finally{U.T=o,F.p=y}}(ta&3)!==0&&Ku(),wi(a),y=a.pendingLanes,(u&261930)!==0&&(y&42)!==0?a===Jg?Bs++:(Bs=0,Jg=a):Bs=0,Is(0)}}function wS(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Ss(o)))}function Ku(){return bS(),SS(),jS(),CS()}function CS(){if(wr!==5)return!1;var a=Na,o=Qg;Qg=0;var u=dt(ta),f=U.T,y=F.p;try{F.p=32>u?32:u,U.T=null,u=Zg,Zg=null;var b=Na,z=ta;if(wr=0,Cl=Na=null,ta=0,(Ct&6)!==0)throw Error(i(331));var M=Ct;if(Ct|=4,aS(b.current),rS(b,b.current,z,u),Ct=M,Is(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot($t,b)}catch{}return!0}finally{F.p=y,U.T=f,wS(a,o)}}function kS(a,o,u){o=$n(u,o),o=Og(a.stateNode,o,2),a=Ea(a,o,2),a!==null&&(ti(a,2),wi(a))}function Et(a,o,u){if(a.tag===3)kS(a,a,u);else for(;o!==null;){if(o.tag===3){kS(o,a,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&($a===null||!$a.has(f))){a=$n(u,a),u=z1(2),f=Ea(o,u,2),f!==null&&(_1(u,f,o,a),ti(f,2),wi(f));break}}o=o.return}}function rh(a,o,u){var f=a.pingCache;if(f===null){f=a.pingCache=new yM;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(u)||(Vg=!0,y.add(u),a=jM.bind(null,a,o,u),o.then(a,a))}function jM(a,o,u){var f=a.pingCache;f!==null&&f.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Lt===a&&(ft&u)===u&&(or===4||or===3&&(ft&62914560)===ft&&300>q()-Bu?(Ct&2)===0&&kl(a,0):Gg|=u,wl===ft&&(wl=0)),wi(a)}function zS(a,o){o===0&&(o=ei()),a=go(a,o),a!==null&&(ti(a,o),wi(a))}function wM(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),zS(a,u)}function CM(a,o){var u=0;switch(a.tag){case 31:case 13:var f=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),zS(a,u)}function kM(a,o){return X(a,o)}var Yu=null,_l=null,nh=!1,Vu=!1,ih=!1,Wa=0;function wi(a){a!==_l&&a.next===null&&(_l===null?Yu=_l=a:_l=_l.next=a),Vu=!0,nh||(nh=!0,_M())}function Is(a,o){if(!ih&&Vu){ih=!0;do for(var u=!1,f=Yu;f!==null;){if(a!==0){var y=f.pendingLanes;if(y===0)var b=0;else{var z=f.suspendedLanes,M=f.pingedLanes;b=(1<<31-V(42|a)+1)-1,b&=y&~(z&~M),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,ES(f,b))}else b=ft,b=Vr(f,f===Lt?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||en(f,b)||(u=!0,ES(f,b));f=f.next}while(u);ih=!1}}function zM(){_S()}function _S(){Vu=nh=!1;var a=0;Wa!==0&&NM()&&(a=Wa);for(var o=q(),u=null,f=Yu;f!==null;){var y=f.next,b=TS(f,o);b===0?(f.next=null,u===null?Yu=y:u.next=y,y===null&&(_l=u)):(u=f,(a!==0||(b&3)!==0)&&(Vu=!0)),f=y}wr!==0&&wr!==5||Is(a),Wa!==0&&(Wa=0)}function TS(a,o){for(var u=a.suspendedLanes,f=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var z=31-V(b),M=1<<z,W=y[z];W===-1?((M&u)===0||(M&f)!==0)&&(y[z]=xi(M,o)):W<=o&&(a.expiredLanes|=M),b&=~M}if(o=Lt,u=ft,u=Vr(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,u===0||a===o&&(At===2||At===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&Te(f),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||en(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(f!==null&&Te(f),dt(u)){case 2:case 8:u=Be;break;case 32:u=at;break;case 268435456:u=mt;break;default:u=at}return f=AS.bind(null,a),u=X(u,f),a.callbackPriority=o,a.callbackNode=u,o}return f!==null&&f!==null&&Te(f),a.callbackPriority=2,a.callbackNode=null,2}function AS(a,o){if(wr!==0&&wr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Ku()&&a.callbackNode!==u)return null;var f=ft;return f=Vr(a,a===Lt?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(uS(a,f,o),TS(a,q()),a.callbackNode!=null&&a.callbackNode===u?AS.bind(null,a):null)}function ES(a,o){if(Ku())return null;uS(a,o,!0)}function _M(){WM(function(){(Ct&6)!==0?X(He,zM):_S()})}function ah(){if(Wa===0){var a=fl;a===0&&(a=er,er<<=1,(er&261888)===0&&(er=256)),Wa=a}return Wa}function OS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ru(""+a)}function MS(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function TM(a,o,u,f,y){if(o==="submit"&&u&&u.stateNode===y){var b=OS((y[cr]||null).action),z=f.submitter;z&&(o=(o=z[cr]||null)?OS(o.formAction):z.getAttribute("formAction"),o!==null&&(b=o,z=null));var M=new ou("action","action",null,f,y);a.push({event:M,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Wa!==0){var W=z?MS(y,z):new FormData(y);kg(u,{pending:!0,data:W,method:y.method,action:b},null,W)}}else typeof b=="function"&&(M.preventDefault(),W=z?MS(y,z):new FormData(y),kg(u,{pending:!0,data:W,method:y.method,action:b},b,W))},currentTarget:y}]})}}for(var oh=0;oh<qp.length;oh++){var lh=qp[oh],AM=lh.toLowerCase(),EM=lh[0].toUpperCase()+lh.slice(1);ii(AM,"on"+EM)}ii(c0,"onAnimationEnd"),ii(u0,"onAnimationIteration"),ii(d0,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(KO,"onTransitionRun"),ii(YO,"onTransitionStart"),ii(VO,"onTransitionCancel"),ii(f0,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qs));function DS(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var f=a[u],y=f.event;f=f.listeners;e:{var b=void 0;if(o)for(var z=f.length-1;0<=z;z--){var M=f[z],W=M.instance,ne=M.currentTarget;if(M=M.listener,W!==b&&y.isPropagationStopped())break e;b=M,y.currentTarget=ne;try{b(y)}catch(me){cu(me)}y.currentTarget=null,b=W}else for(z=0;z<f.length;z++){if(M=f[z],W=M.instance,ne=M.currentTarget,M=M.listener,W!==b&&y.isPropagationStopped())break e;b=M,y.currentTarget=ne;try{b(y)}catch(me){cu(me)}y.currentTarget=null,b=W}}}}function ut(a,o){var u=o[ri];u===void 0&&(u=o[ri]=new Set);var f=a+"__bubble";u.has(f)||(RS(o,a,2,!1),u.add(f))}function sh(a,o,u){var f=0;o&&(f|=4),RS(u,a,f,o)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function ch(a){if(!a[Gu]){a[Gu]=!0,wt.forEach(function(u){u!=="selectionchange"&&(OM.has(u)||sh(u,!1,a),sh(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Gu]||(o[Gu]=!0,sh("selectionchange",!1,o))}}function RS(a,o,u,f){switch(cj(o)){case 2:var y=aD;break;case 8:y=oD;break;default:y=Ch}u=y.bind(null,o,u,a),y=void 0,!Ap||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function uh(a,o,u,f,y){var b=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var z=f.tag;if(z===3||z===4){var M=f.stateNode.containerInfo;if(M===y)break;if(z===4)for(z=f.return;z!==null;){var W=z.tag;if((W===3||W===4)&&z.stateNode.containerInfo===y)return;z=z.return}for(;M!==null;){if(z=Ue(M),z===null)return;if(W=z.tag,W===5||W===6||W===26||W===27){f=b=z;continue e}M=M.parentNode}}f=f.return}Wb(function(){var ne=b,me=_p(u),we=[];e:{var ae=p0.get(a);if(ae!==void 0){var de=ou,We=a;switch(a){case"keypress":if(iu(u)===0)break e;case"keydown":case"keyup":de=CO;break;case"focusin":We="focus",de=Dp;break;case"focusout":We="blur",de=Dp;break;case"beforeblur":case"afterblur":de=Dp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=qb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=fO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=_O;break;case c0:case u0:case d0:de=hO;break;case f0:de=AO;break;case"scroll":case"scrollend":de=uO;break;case"wheel":de=OO;break;case"copy":case"cut":case"paste":de=yO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Hb;break;case"toggle":case"beforetoggle":de=DO}var Ge=(o&4)!==0,Rt=!Ge&&(a==="scroll"||a==="scrollend"),G=Ge?ae!==null?ae+"Capture":null:ae;Ge=[];for(var H=ne,te;H!==null;){var be=H;if(te=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||te===null||G===null||(be=us(H,G),be!=null&&Ge.push(Us(H,be,te))),Rt)break;H=H.return}0<Ge.length&&(ae=new de(ae,We,null,u,me),we.push({event:ae,listeners:Ge}))}}if((o&7)===0){e:{if(ae=a==="mouseover"||a==="pointerover",de=a==="mouseout"||a==="pointerout",ae&&u!==zp&&(We=u.relatedTarget||u.fromElement)&&(Ue(We)||We[Ht]))break e;if((de||ae)&&(ae=me.window===me?me:(ae=me.ownerDocument)?ae.defaultView||ae.parentWindow:window,de?(We=u.relatedTarget||u.toElement,de=ne,We=We?Ue(We):null,We!==null&&(Rt=c(We),Ge=We.tag,We!==Rt||Ge!==5&&Ge!==27&&Ge!==6)&&(We=null)):(de=null,We=ne),de!==We)){if(Ge=qb,be="onMouseLeave",G="onMouseEnter",H="mouse",(a==="pointerout"||a==="pointerover")&&(Ge=Hb,be="onPointerLeave",G="onPointerEnter",H="pointer"),Rt=de==null?ae:kt(de),te=We==null?ae:kt(We),ae=new Ge(be,H+"leave",de,u,me),ae.target=Rt,ae.relatedTarget=te,be=null,Ue(me)===ne&&(Ge=new Ge(G,H+"enter",We,u,me),Ge.target=te,Ge.relatedTarget=Rt,be=Ge),Rt=be,de&&We)t:{for(Ge=MM,G=de,H=We,te=0,be=G;be;be=Ge(be))te++;be=0;for(var Ve=H;Ve;Ve=Ge(Ve))be++;for(;0<te-be;)G=Ge(G),te--;for(;0<be-te;)H=Ge(H),be--;for(;te--;){if(G===H||H!==null&&G===H.alternate){Ge=G;break t}G=Ge(G),H=Ge(H)}Ge=null}else Ge=null;de!==null&&PS(we,ae,de,Ge,!1),We!==null&&Rt!==null&&PS(we,Rt,We,Ge,!0)}}e:{if(ae=ne?kt(ne):window,de=ae.nodeName&&ae.nodeName.toLowerCase(),de==="select"||de==="input"&&ae.type==="file")var vt=Zb;else if(Xb(ae))if(Jb)vt=UO;else{vt=IO;var qe=BO}else de=ae.nodeName,!de||de.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ne&&kp(ne.elementType)&&(vt=Zb):vt=qO;if(vt&&(vt=vt(a,ne))){Qb(we,vt,u,me);break e}qe&&qe(a,ae,ne),a==="focusout"&&ne&&ae.type==="number"&&ne.memoizedProps.value!=null&&Cp(ae,"number",ae.value)}switch(qe=ne?kt(ne):window,a){case"focusin":(Xb(qe)||qe.contentEditable==="true")&&(il=qe,Wp=ne,xs=null);break;case"focusout":xs=Wp=il=null;break;case"mousedown":Bp=!0;break;case"contextmenu":case"mouseup":case"dragend":Bp=!1,l0(we,u,me);break;case"selectionchange":if(FO)break;case"keydown":case"keyup":l0(we,u,me)}var it;if(Pp)e:{switch(a){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else nl?Vb(a,u)&&(pt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(pt="onCompositionStart");pt&&(Fb&&u.locale!=="ko"&&(nl||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&nl&&(it=Bb()):(wa=me,Ep="value"in wa?wa.value:wa.textContent,nl=!0)),qe=Xu(ne,pt),0<qe.length&&(pt=new Ub(pt,a,null,u,me),we.push({event:pt,listeners:qe}),it?pt.data=it:(it=Gb(u),it!==null&&(pt.data=it)))),(it=PO?$O(a,u):NO(a,u))&&(pt=Xu(ne,"onBeforeInput"),0<pt.length&&(qe=new Ub("onBeforeInput","beforeinput",null,u,me),we.push({event:qe,listeners:pt}),qe.data=it)),TM(we,a,ne,u,me)}DS(we,o)})}function Us(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Xu(a,o){for(var u=o+"Capture",f=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=us(a,u),y!=null&&f.unshift(Us(a,y,b)),y=us(a,o),y!=null&&f.push(Us(a,y,b))),a.tag===3)return f;a=a.return}return[]}function MM(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function PS(a,o,u,f,y){for(var b=o._reactName,z=[];u!==null&&u!==f;){var M=u,W=M.alternate,ne=M.stateNode;if(M=M.tag,W!==null&&W===f)break;M!==5&&M!==26&&M!==27||ne===null||(W=ne,y?(ne=us(u,b),ne!=null&&z.unshift(Us(u,ne,W))):y||(ne=us(u,b),ne!=null&&z.push(Us(u,ne,W)))),u=u.return}z.length!==0&&a.push({event:o,listeners:z})}var DM=/\r\n?/g,RM=/\u0000|\uFFFD/g;function $S(a){return(typeof a=="string"?a:""+a).replace(DM,`
`).replace(RM,"")}function NS(a,o){return o=$S(o),$S(a)===o}function Dt(a,o,u,f,y,b){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||el(a,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&el(a,""+f);break;case"className":Zo(a,"class",f);break;case"tabIndex":Zo(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Zo(a,u,f);break;case"style":Nb(a,f,b);break;case"data":if(o!=="object"){Zo(a,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=ru(""+f),a.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&Dt(a,o,"name",y.name,y,null),Dt(a,o,"formEncType",y.formEncType,y,null),Dt(a,o,"formMethod",y.formMethod,y,null),Dt(a,o,"formTarget",y.formTarget,y,null)):(Dt(a,o,"encType",y.encType,y,null),Dt(a,o,"method",y.method,y,null),Dt(a,o,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=ru(""+f),a.setAttribute(u,f);break;case"onClick":f!=null&&(a.onclick=Bi);break;case"onScroll":f!=null&&ut("scroll",a);break;case"onScrollEnd":f!=null&&ut("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}u=ru(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""+f):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":f===!0?a.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,f):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(u,f):a.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(u):a.setAttribute(u,f);break;case"popover":ut("beforetoggle",a),ut("toggle",a),Qo(a,"popover",f);break;case"xlinkActuate":R(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":R(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":R(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":R(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":R(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":R(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":R(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":R(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":R(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Qo(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=sO.get(u)||u,Qo(a,u,f))}}function dh(a,o,u,f,y,b){switch(u){case"style":Nb(a,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"children":typeof f=="string"?el(a,f):(typeof f=="number"||typeof f=="bigint")&&el(a,""+f);break;case"onScroll":f!=null&&ut("scroll",a);break;case"onScrollEnd":f!=null&&ut("scrollend",a);break;case"onClick":f!=null&&(a.onclick=Bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jr.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),b=a[cr]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(o,b,y),typeof f=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,f,y);break e}u in a?a[u]=f:f===!0?a.setAttribute(u,""):Qo(a,u,f)}}}function Wr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",a),ut("load",a);var f=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var z=u[b];if(z!=null)switch(b){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Dt(a,o,b,z,u,null)}}y&&Dt(a,o,"srcSet",u.srcSet,u,null),f&&Dt(a,o,"src",u.src,u,null);return;case"input":ut("invalid",a);var M=b=z=y=null,W=null,ne=null;for(f in u)if(u.hasOwnProperty(f)){var me=u[f];if(me!=null)switch(f){case"name":y=me;break;case"type":z=me;break;case"checked":W=me;break;case"defaultChecked":ne=me;break;case"value":b=me;break;case"defaultValue":M=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,o));break;default:Dt(a,o,f,me,u,null)}}Db(a,b,M,W,ne,z,y,!1);return;case"select":ut("invalid",a),f=z=b=null;for(y in u)if(u.hasOwnProperty(y)&&(M=u[y],M!=null))switch(y){case"value":b=M;break;case"defaultValue":z=M;break;case"multiple":f=M;default:Dt(a,o,y,M,u,null)}o=b,u=z,a.multiple=!!f,o!=null?Jo(a,!!f,o,!1):u!=null&&Jo(a,!!f,u,!0);return;case"textarea":ut("invalid",a),b=y=f=null;for(z in u)if(u.hasOwnProperty(z)&&(M=u[z],M!=null))switch(z){case"value":f=M;break;case"defaultValue":y=M;break;case"children":b=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(91));break;default:Dt(a,o,z,M,u,null)}Pb(a,f,y,b);return;case"option":for(W in u)if(u.hasOwnProperty(W)&&(f=u[W],f!=null))switch(W){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Dt(a,o,W,f,u,null)}return;case"dialog":ut("beforetoggle",a),ut("toggle",a),ut("cancel",a),ut("close",a);break;case"iframe":case"object":ut("load",a);break;case"video":case"audio":for(f=0;f<qs.length;f++)ut(qs[f],a);break;case"image":ut("error",a),ut("load",a);break;case"details":ut("toggle",a);break;case"embed":case"source":case"link":ut("error",a),ut("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in u)if(u.hasOwnProperty(ne)&&(f=u[ne],f!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Dt(a,o,ne,f,u,null)}return;default:if(kp(o)){for(me in u)u.hasOwnProperty(me)&&(f=u[me],f!==void 0&&dh(a,o,me,f,u,void 0));return}}for(M in u)u.hasOwnProperty(M)&&(f=u[M],f!=null&&Dt(a,o,M,f,u,null))}function PM(a,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,z=null,M=null,W=null,ne=null,me=null;for(de in u){var we=u[de];if(u.hasOwnProperty(de)&&we!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":W=we;default:f.hasOwnProperty(de)||Dt(a,o,de,null,f,we)}}for(var ae in f){var de=f[ae];if(we=u[ae],f.hasOwnProperty(ae)&&(de!=null||we!=null))switch(ae){case"type":b=de;break;case"name":y=de;break;case"checked":ne=de;break;case"defaultChecked":me=de;break;case"value":z=de;break;case"defaultValue":M=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,o));break;default:de!==we&&Dt(a,o,ae,de,f,we)}}wp(a,z,M,W,ne,me,b,y);return;case"select":de=z=M=ae=null;for(b in u)if(W=u[b],u.hasOwnProperty(b)&&W!=null)switch(b){case"value":break;case"multiple":de=W;default:f.hasOwnProperty(b)||Dt(a,o,b,null,f,W)}for(y in f)if(b=f[y],W=u[y],f.hasOwnProperty(y)&&(b!=null||W!=null))switch(y){case"value":ae=b;break;case"defaultValue":M=b;break;case"multiple":z=b;default:b!==W&&Dt(a,o,y,b,f,W)}o=M,u=z,f=de,ae!=null?Jo(a,!!u,ae,!1):!!f!=!!u&&(o!=null?Jo(a,!!u,o,!0):Jo(a,!!u,u?[]:"",!1));return;case"textarea":de=ae=null;for(M in u)if(y=u[M],u.hasOwnProperty(M)&&y!=null&&!f.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Dt(a,o,M,null,f,y)}for(z in f)if(y=f[z],b=u[z],f.hasOwnProperty(z)&&(y!=null||b!=null))switch(z){case"value":ae=y;break;case"defaultValue":de=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==b&&Dt(a,o,z,y,f,b)}Rb(a,ae,de);return;case"option":for(var We in u)if(ae=u[We],u.hasOwnProperty(We)&&ae!=null&&!f.hasOwnProperty(We))switch(We){case"selected":a.selected=!1;break;default:Dt(a,o,We,null,f,ae)}for(W in f)if(ae=f[W],de=u[W],f.hasOwnProperty(W)&&ae!==de&&(ae!=null||de!=null))switch(W){case"selected":a.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:Dt(a,o,W,ae,f,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in u)ae=u[Ge],u.hasOwnProperty(Ge)&&ae!=null&&!f.hasOwnProperty(Ge)&&Dt(a,o,Ge,null,f,ae);for(ne in f)if(ae=f[ne],de=u[ne],f.hasOwnProperty(ne)&&ae!==de&&(ae!=null||de!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,o));break;default:Dt(a,o,ne,ae,f,de)}return;default:if(kp(o)){for(var Rt in u)ae=u[Rt],u.hasOwnProperty(Rt)&&ae!==void 0&&!f.hasOwnProperty(Rt)&&dh(a,o,Rt,void 0,f,ae);for(me in f)ae=f[me],de=u[me],!f.hasOwnProperty(me)||ae===de||ae===void 0&&de===void 0||dh(a,o,me,ae,f,de);return}}for(var G in u)ae=u[G],u.hasOwnProperty(G)&&ae!=null&&!f.hasOwnProperty(G)&&Dt(a,o,G,null,f,ae);for(we in f)ae=f[we],de=u[we],!f.hasOwnProperty(we)||ae===de||ae==null&&de==null||Dt(a,o,we,ae,f,de)}function LS(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $M(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var y=u[f],b=y.transferSize,z=y.initiatorType,M=y.duration;if(b&&M&&LS(z)){for(z=0,M=y.responseEnd,f+=1;f<u.length;f++){var W=u[f],ne=W.startTime;if(ne>M)break;var me=W.transferSize,we=W.initiatorType;me&&LS(we)&&(W=W.responseEnd,z+=me*(W<M?1:(M-ne)/(W-ne)))}if(--f,o+=8*(b+z)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var fh=null,ph=null;function Qu(a){return a.nodeType===9?a:a.ownerDocument}function WS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function BS(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function gh(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var hh=null;function NM(){var a=window.event;return a&&a.type==="popstate"?a===hh?!1:(hh=a,!0):(hh=null,!1)}var IS=typeof setTimeout=="function"?setTimeout:void 0,LM=typeof clearTimeout=="function"?clearTimeout:void 0,qS=typeof Promise=="function"?Promise:void 0,WM=typeof queueMicrotask=="function"?queueMicrotask:typeof qS<"u"?function(a){return qS.resolve(null).then(a).catch(BM)}:IS;function BM(a){setTimeout(function(){throw a})}function Ba(a){return a==="head"}function US(a,o){var u=o,f=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(f===0){a.removeChild(y),Ol(o);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")Hs(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Hs(u);for(var b=u.firstChild;b;){var z=b.nextSibling,M=b.nodeName;b[Y]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=z}}else u==="body"&&Hs(a.ownerDocument.body);u=y}while(u);Ol(o)}function HS(a,o){var u=a;a=0;do{var f=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=f}while(u)}function mh(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":mh(u),De(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function IM(a,o,u,f){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[Y])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=In(a.nextSibling),a===null)break}return null}function qM(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=In(a.nextSibling),a===null))return null;return a}function FS(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=In(a.nextSibling),a===null))return null;return a}function yh(a){return a.data==="$?"||a.data==="$~"}function xh(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function UM(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function In(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var vh=null;function KS(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return In(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function YS(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function VS(a,o,u){switch(o=Qu(u),a){case"html":if(a=o.documentElement,!a)throw Error(i(452));return a;case"head":if(a=o.head,!a)throw Error(i(453));return a;case"body":if(a=o.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Hs(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);De(a)}var qn=new Map,GS=new Set;function Zu(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ra=F.d;F.d={f:HM,r:FM,D:KM,C:YM,L:VM,m:GM,X:QM,S:XM,M:ZM};function HM(){var a=ra.f(),o=Uu();return a||o}function FM(a){var o=Fe(a);o!==null&&o.tag===5&&o.type==="form"?f1(o):ra.r(a)}var Tl=typeof document>"u"?null:document;function XS(a,o,u){var f=Tl;if(f&&typeof o=="string"&&o){var y=Rn(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),GS.has(y)||(GS.add(y),a={rel:a,crossOrigin:u,href:o},f.querySelector(y)===null&&(o=f.createElement("link"),Wr(o,"link",a),Je(o),f.head.appendChild(o)))}}function KM(a){ra.D(a),XS("dns-prefetch",a,null)}function YM(a,o){ra.C(a,o),XS("preconnect",a,o)}function VM(a,o,u){ra.L(a,o,u);var f=Tl;if(f&&a&&o){var y='link[rel="preload"][as="'+Rn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Rn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Rn(u.imageSizes)+'"]')):y+='[href="'+Rn(a)+'"]';var b=y;switch(o){case"style":b=Al(a);break;case"script":b=El(a)}qn.has(b)||(a=v({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),qn.set(b,a),f.querySelector(y)!==null||o==="style"&&f.querySelector(Fs(b))||o==="script"&&f.querySelector(Ks(b))||(o=f.createElement("link"),Wr(o,"link",a),Je(o),f.head.appendChild(o)))}}function GM(a,o){ra.m(a,o);var u=Tl;if(u&&a){var f=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Rn(f)+'"][href="'+Rn(a)+'"]',b=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=El(a)}if(!qn.has(b)&&(a=v({rel:"modulepreload",href:a},o),qn.set(b,a),u.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Ks(b)))return}f=u.createElement("link"),Wr(f,"link",a),Je(f),u.head.appendChild(f)}}}function XM(a,o,u){ra.S(a,o,u);var f=Tl;if(f&&a){var y=zt(f).hoistableStyles,b=Al(a);o=o||"default";var z=y.get(b);if(!z){var M={loading:0,preload:null};if(z=f.querySelector(Fs(b)))M.loading=5;else{a=v({rel:"stylesheet",href:a,"data-precedence":o},u),(u=qn.get(b))&&bh(a,u);var W=z=f.createElement("link");Je(W),Wr(W,"link",a),W._p=new Promise(function(ne,me){W.onload=ne,W.onerror=me}),W.addEventListener("load",function(){M.loading|=1}),W.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Ju(z,o,f)}z={type:"stylesheet",instance:z,count:1,state:M},y.set(b,z)}}}function QM(a,o){ra.X(a,o);var u=Tl;if(u&&a){var f=zt(u).hoistableScripts,y=El(a),b=f.get(y);b||(b=u.querySelector(Ks(y)),b||(a=v({src:a,async:!0},o),(o=qn.get(y))&&Sh(a,o),b=u.createElement("script"),Je(b),Wr(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function ZM(a,o){ra.M(a,o);var u=Tl;if(u&&a){var f=zt(u).hoistableScripts,y=El(a),b=f.get(y);b||(b=u.querySelector(Ks(y)),b||(a=v({src:a,async:!0,type:"module"},o),(o=qn.get(y))&&Sh(a,o),b=u.createElement("script"),Je(b),Wr(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function QS(a,o,u,f){var y=(y=K.current)?Zu(y):null;if(!y)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Al(u.href),u=zt(y).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Al(u.href);var b=zt(y).hoistableStyles,z=b.get(a);if(z||(y=y.ownerDocument||y,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,z),(b=y.querySelector(Fs(a)))&&!b._p&&(z.instance=b,z.state.loading=5),qn.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},qn.set(a,u),b||JM(y,a,u,z.state))),o&&f===null)throw Error(i(528,""));return z}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=El(u),u=zt(y).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Al(a){return'href="'+Rn(a)+'"'}function Fs(a){return'link[rel="stylesheet"]['+a+"]"}function ZS(a){return v({},a,{"data-precedence":a.precedence,precedence:null})}function JM(a,o,u,f){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=a.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Wr(o,"link",u),Je(o),a.head.appendChild(o))}function El(a){return'[src="'+Rn(a)+'"]'}function Ks(a){return"script[async]"+a}function JS(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=a.querySelector('style[data-href~="'+Rn(u.href)+'"]');if(f)return o.instance=f,Je(f),f;var y=v({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),Je(f),Wr(f,"style",y),Ju(f,u.precedence,a),o.instance=f;case"stylesheet":y=Al(u.href);var b=a.querySelector(Fs(y));if(b)return o.state.loading|=4,o.instance=b,Je(b),b;f=ZS(u),(y=qn.get(y))&&bh(f,y),b=(a.ownerDocument||a).createElement("link"),Je(b);var z=b;return z._p=new Promise(function(M,W){z.onload=M,z.onerror=W}),Wr(b,"link",f),o.state.loading|=4,Ju(b,u.precedence,a),o.instance=b;case"script":return b=El(u.src),(y=a.querySelector(Ks(b)))?(o.instance=y,Je(y),y):(f=u,(y=qn.get(b))&&(f=v({},u),Sh(f,y)),a=a.ownerDocument||a,y=a.createElement("script"),Je(y),Wr(y,"link",f),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Ju(f,u.precedence,a));return o.instance}function Ju(a,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,b=y,z=0;z<f.length;z++){var M=f[z];if(M.dataset.precedence===o)b=M;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function bh(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Sh(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var ed=null;function ej(a,o,u){if(ed===null){var f=new Map,y=ed=new Map;y.set(u,f)}else y=ed,f=y.get(u),f||(f=new Map,y.set(u,f));if(f.has(a))return f;for(f.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var b=u[y];if(!(b[Y]||b[sr]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var z=b.getAttribute(o)||"";z=a+z;var M=f.get(z);M?M.push(b):f.set(z,[b])}}return f}function tj(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function eD(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function rj(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function tD(a,o,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Al(f.href),b=o.querySelector(Fs(y));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=td.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=b,Je(b);return}b=o.ownerDocument||o,f=ZS(f),(y=qn.get(y))&&bh(f,y),b=b.createElement("link"),Je(b);var z=b;z._p=new Promise(function(M,W){z.onload=M,z.onerror=W}),Wr(b,"link",f),u.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=td.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var jh=0;function rD(a,o){return a.stylesheets&&a.count===0&&nd(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var f=setTimeout(function(){if(a.stylesheets&&nd(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+o);0<a.imgBytes&&jh===0&&(jh=62500*$M());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&nd(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>jh?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function td(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var rd=null;function nd(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,rd=new Map,o.forEach(nD,a),rd=null,td.call(a))}function nD(a,o){if(!(o.state.loading&4)){var u=rd.get(a);if(u)var f=u.get(null);else{u=new Map,rd.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var z=y[b];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(u.set(z.dataset.precedence,z),f=z)}f&&u.set(null,f)}y=o.instance,z=y.getAttribute("data-precedence"),b=u.get(z)||f,b===f&&u.set(null,y),u.set(z,y),this.count++,f=td.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var Ys={$$typeof:A,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function iD(a,o,u,f,y,b,z,M,W){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function nj(a,o,u,f,y,b,z,M,W,ne,me,we){return a=new iD(a,o,u,z,W,ne,me,we,M),o=1,b===!0&&(o|=24),b=hn(3,null,null,o),a.current=b,b.stateNode=a,o=tg(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:o},ag(b),a}function ij(a){return a?(a=ll,a):ll}function aj(a,o,u,f,y,b){y=ij(y),f.context===null?f.context=y:f.pendingContext=y,f=Aa(o),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=Ea(a,f,o),u!==null&&(ln(u,a,o),ks(u,a,o))}function oj(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function wh(a,o){oj(a,o),(a=a.alternate)&&oj(a,o)}function lj(a){if(a.tag===13||a.tag===31){var o=go(a,67108864);o!==null&&ln(o,a,67108864),wh(a,67108864)}}function sj(a){if(a.tag===13||a.tag===31){var o=bn();o=xt(o);var u=go(a,o);u!==null&&ln(u,a,o),wh(a,o)}}var id=!0;function aD(a,o,u,f){var y=U.T;U.T=null;var b=F.p;try{F.p=2,Ch(a,o,u,f)}finally{F.p=b,U.T=y}}function oD(a,o,u,f){var y=U.T;U.T=null;var b=F.p;try{F.p=8,Ch(a,o,u,f)}finally{F.p=b,U.T=y}}function Ch(a,o,u,f){if(id){var y=kh(f);if(y===null)uh(a,o,f,ad,u),uj(a,f);else if(sD(y,a,o,u,f))f.stopPropagation();else if(uj(a,f),o&4&&-1<lD.indexOf(a)){for(;y!==null;){var b=Fe(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var z=Sr(b.pendingLanes);if(z!==0){var M=b;for(M.pendingLanes|=2,M.entangledLanes|=2;z;){var W=1<<31-V(z);M.entanglements[1]|=W,z&=~W}wi(b),(Ct&6)===0&&(Iu=q()+500,Is(0))}}break;case 31:case 13:M=go(b,2),M!==null&&ln(M,b,2),Uu(),wh(b,2)}if(b=kh(f),b===null&&uh(a,o,f,ad,u),b===y)break;y=b}y!==null&&f.stopPropagation()}else uh(a,o,f,null,u)}}function kh(a){return a=_p(a),zh(a)}var ad=null;function zh(a){if(ad=null,a=Ue(a),a!==null){var o=c(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=d(o),a!==null)return a;a=null}else if(u===31){if(a=p(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return ad=a,null}function cj(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case He:return 2;case Be:return 8;case at:case Pe:return 32;case mt:return 268435456;default:return 32}default:return 32}}var _h=!1,Ia=null,qa=null,Ua=null,Vs=new Map,Gs=new Map,Ha=[],lD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uj(a,o){switch(a){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":Vs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(o.pointerId)}}function Xs(a,o,u,f,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},o!==null&&(o=Fe(o),o!==null&&lj(o)),a):(a.eventSystemFlags|=f,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function sD(a,o,u,f,y){switch(o){case"focusin":return Ia=Xs(Ia,a,o,u,f,y),!0;case"dragenter":return qa=Xs(qa,a,o,u,f,y),!0;case"mouseover":return Ua=Xs(Ua,a,o,u,f,y),!0;case"pointerover":var b=y.pointerId;return Vs.set(b,Xs(Vs.get(b)||null,a,o,u,f,y)),!0;case"gotpointercapture":return b=y.pointerId,Gs.set(b,Xs(Gs.get(b)||null,a,o,u,f,y)),!0}return!1}function dj(a){var o=Ue(a.target);if(o!==null){var u=c(o);if(u!==null){if(o=u.tag,o===13){if(o=d(u),o!==null){a.blockedOn=o,pn(a.priority,function(){sj(u)});return}}else if(o===31){if(o=p(u),o!==null){a.blockedOn=o,pn(a.priority,function(){sj(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function od(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=kh(a.nativeEvent);if(u===null){u=a.nativeEvent;var f=new u.constructor(u.type,u);zp=f,u.target.dispatchEvent(f),zp=null}else return o=Fe(u),o!==null&&lj(o),a.blockedOn=u,!1;o.shift()}return!0}function fj(a,o,u){od(a)&&u.delete(o)}function cD(){_h=!1,Ia!==null&&od(Ia)&&(Ia=null),qa!==null&&od(qa)&&(qa=null),Ua!==null&&od(Ua)&&(Ua=null),Vs.forEach(fj),Gs.forEach(fj)}function ld(a,o){a.blockedOn===o&&(a.blockedOn=null,_h||(_h=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,cD)))}var sd=null;function pj(a){sd!==a&&(sd=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){sd===a&&(sd=null);for(var o=0;o<a.length;o+=3){var u=a[o],f=a[o+1],y=a[o+2];if(typeof f!="function"){if(zh(f||u)===null)continue;break}var b=Fe(u);b!==null&&(a.splice(o,3),o-=3,kg(b,{pending:!0,data:y,method:u.method,action:f},f,y))}}))}function Ol(a){function o(W){return ld(W,a)}Ia!==null&&ld(Ia,a),qa!==null&&ld(qa,a),Ua!==null&&ld(Ua,a),Vs.forEach(o),Gs.forEach(o);for(var u=0;u<Ha.length;u++){var f=Ha[u];f.blockedOn===a&&(f.blockedOn=null)}for(;0<Ha.length&&(u=Ha[0],u.blockedOn===null);)dj(u),u.blockedOn===null&&Ha.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var y=u[f],b=u[f+1],z=y[cr]||null;if(typeof b=="function")z||pj(u);else if(z){var M=null;if(b&&b.hasAttribute("formAction")){if(y=b,z=b[cr]||null)M=z.formAction;else if(zh(y)!==null)continue}else M=z.action;typeof M=="function"?u[f+1]=M:(u.splice(f,3),f-=3),pj(u)}}}function gj(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(z){return y=z})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Th(a){this._internalRoot=a}cd.prototype.render=Th.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,f=bn();aj(u,f,a,o,null,null)},cd.prototype.unmount=Th.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;aj(a.current,2,null,a,null,null),Uu(),o[Ht]=null}};function cd(a){this._internalRoot=a}cd.prototype.unstable_scheduleHydration=function(a){if(a){var o=ir();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Ha.length&&o!==0&&o<Ha[u].priority;u++);Ha.splice(u,0,a),u===0&&dj(a)}};var hj=t.version;if(hj!=="19.2.0")throw Error(i(527,hj,"19.2.0"));F.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=g(o),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var uD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{$t=ud.inject(uD),yt=ud}catch{}}return Zs.createRoot=function(a,o){if(!s(a))throw Error(i(299));var u=!1,f="",y=j1,b=w1,z=C1;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(z=o.onRecoverableError)),o=nj(a,1,!1,null,null,u,f,null,y,b,z,gj),a[Ht]=o.current,ch(a),new Th(o)},Zs.hydrateRoot=function(a,o,u){if(!s(a))throw Error(i(299));var f=!1,y="",b=j1,z=w1,M=C1,W=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(z=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.formState!==void 0&&(W=u.formState)),o=nj(a,1,!0,o,u??null,f,y,W,b,z,M,gj),o.context=ij(null),u=o.current,f=bn(),f=xt(f),y=Aa(f),y.callback=null,Ea(u,y,f),u=f,o.current.lanes=u,ti(o,u),wi(o),a[Ht]=o.current,ch(a),new cd(o)},Zs.version="19.2.0",Zs}var kj;function SD(){if(kj)return Oh.exports;kj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Oh.exports=bD(),Oh.exports}var jD=SD();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zj="popstate";function wD(e={}){function t(i,s){let{pathname:c,search:d,hash:p}=i.location;return xy("",{pathname:c,search:d,hash:p},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:yc(s)}return kD(t,n,null,e)}function Qt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function CD(){return Math.random().toString(36).substring(2,10)}function _j(e,t){return{usr:e.state,key:e.key,idx:t}}function xy(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Xl(t):t,state:n,key:t&&t.key||i||CD()}}function yc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Xl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function kD(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:c=!1}=i,d=s.history,p="POP",h=null,g=m();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function m(){return(d.state||{idx:null}).idx}function v(){p="POP";let C=m(),_=C==null?null:C-g;g=C,h&&h({action:p,location:w.location,delta:_})}function S(C,_){p="PUSH";let E=xy(w.location,C,_);g=m()+1;let A=_j(E,g),T=w.createHref(E);try{d.pushState(A,"",T)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(T)}c&&h&&h({action:p,location:w.location,delta:1})}function j(C,_){p="REPLACE";let E=xy(w.location,C,_);g=m();let A=_j(E,g),T=w.createHref(E);d.replaceState(A,"",T),c&&h&&h({action:p,location:w.location,delta:0})}function k(C){return zD(C)}let w={get action(){return p},get location(){return e(s,d)},listen(C){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(zj,v),h=C,()=>{s.removeEventListener(zj,v),h=null}},createHref(C){return t(s,C)},createURL:k,encodeLocation(C){let _=k(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:S,replace:j,go(C){return d.go(C)}};return w}function zD(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qt(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:yc(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function F2(e,t,n="/"){return _D(e,t,n,!1)}function _D(e,t,n,i){let s=typeof t=="string"?Xl(t):t,c=da(s.pathname||"/",n);if(c==null)return null;let d=K2(e);TD(d);let p=null;for(let h=0;p==null&&h<d.length;++h){let g=WD(c);p=ND(d[h],g,i)}return p}function K2(e,t=[],n=[],i="",s=!1){let c=(d,p,h=s,g)=>{let m={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&h)return;Qt(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let v=la([i,m.relativePath]),S=n.concat(m);d.children&&d.children.length>0&&(Qt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),K2(d.children,t,S,v,h)),!(d.path==null&&!d.index)&&t.push({path:v,score:PD(v,d.index),routesMeta:S})};return e.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let h of Y2(d.path))c(d,p,!0,h)}),t}function Y2(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return s?[c,""]:[c];let d=Y2(i.join("/")),p=[];return p.push(...d.map(h=>h===""?c:[c,h].join("/"))),s&&p.push(...d),p.map(h=>e.startsWith("/")&&h===""?"/":h)}function TD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$D(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var AD=/^:[\w-]+$/,ED=3,OD=2,MD=1,DD=10,RD=-2,Tj=e=>e==="*";function PD(e,t){let n=e.split("/"),i=n.length;return n.some(Tj)&&(i+=RD),t&&(i+=OD),n.filter(s=>!Tj(s)).reduce((s,c)=>s+(AD.test(c)?ED:c===""?MD:DD),i)}function $D(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function ND(e,t,n=!1){let{routesMeta:i}=e,s={},c="/",d=[];for(let p=0;p<i.length;++p){let h=i[p],g=p===i.length-1,m=c==="/"?t:t.slice(c.length)||"/",v=Fd({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},m),S=h.route;if(!v&&g&&n&&!i[i.length-1].route.index&&(v=Fd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!v)return null;Object.assign(s,v.params),d.push({params:s,pathname:la([c,v.pathname]),pathnameBase:UD(la([c,v.pathnameBase])),route:S}),v.pathnameBase!=="/"&&(c=la([c,v.pathnameBase]))}return d}function Fd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=LD(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let c=s[0],d=c.replace(/(.)\/+$/,"$1"),p=s.slice(1);return{params:i.reduce((g,{paramName:m,isOptional:v},S)=>{if(m==="*"){let k=p[S]||"";d=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const j=p[S];return v&&!j?g[m]=void 0:g[m]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:e}}function LD(e,t=!1,n=!0){Xn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,h)=>(i.push({paramName:p,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function WD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function da(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function BD(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?Xl(e):e;return{pathname:n?n.startsWith("/")?n:ID(n,t):t,search:HD(i),hash:FD(s)}}function ID(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ph(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jx(e){let t=qD(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function wx(e,t,n,i=!1){let s;typeof e=="string"?s=Xl(e):(s={...e},Qt(!s.pathname||!s.pathname.includes("?"),Ph("?","pathname","search",s)),Qt(!s.pathname||!s.pathname.includes("#"),Ph("#","pathname","hash",s)),Qt(!s.search||!s.search.includes("#"),Ph("#","search","hash",s)));let c=e===""||s.pathname==="",d=c?"/":s.pathname,p;if(d==null)p=n;else{let v=t.length-1;if(!i&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),v-=1;s.pathname=S.join("/")}p=v>=0?t[v]:"/"}let h=BD(s,p),g=d&&d!=="/"&&d.endsWith("/"),m=(c||d===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(g||m)&&(h.pathname+="/"),h}var la=e=>e.join("/").replace(/\/\/+/g,"/"),UD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),HD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,FD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function KD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var V2=["POST","PUT","PATCH","DELETE"];new Set(V2);var YD=["GET",...V2];new Set(YD);var Ql=x.createContext(null);Ql.displayName="DataRouter";var Nf=x.createContext(null);Nf.displayName="DataRouterState";x.createContext(!1);var G2=x.createContext({isTransitioning:!1});G2.displayName="ViewTransition";var VD=x.createContext(new Map);VD.displayName="Fetchers";var GD=x.createContext(null);GD.displayName="Await";var hi=x.createContext(null);hi.displayName="Navigation";var Mc=x.createContext(null);Mc.displayName="Location";var mi=x.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var Cx=x.createContext(null);Cx.displayName="RouteError";function XD(e,{relative:t}={}){Qt(Zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=x.useContext(hi),{hash:s,pathname:c,search:d}=Dc(e,{relative:t}),p=c;return n!=="/"&&(p=c==="/"?n:la([n,c])),i.createHref({pathname:p,search:d,hash:s})}function Zl(){return x.useContext(Mc)!=null}function Mi(){return Qt(Zl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Mc).location}var X2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q2(e){x.useContext(hi).static||x.useLayoutEffect(e)}function Di(){let{isDataRoute:e}=x.useContext(mi);return e?cR():QD()}function QD(){Qt(Zl(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Ql),{basename:t,navigator:n}=x.useContext(hi),{matches:i}=x.useContext(mi),{pathname:s}=Mi(),c=JSON.stringify(jx(i)),d=x.useRef(!1);return Q2(()=>{d.current=!0}),x.useCallback((h,g={})=>{if(Xn(d.current,X2),!d.current)return;if(typeof h=="number"){n.go(h);return}let m=wx(h,JSON.parse(c),s,g.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:la([t,m.pathname])),(g.replace?n.replace:n.push)(m,g.state,g)},[t,n,c,s,e])}x.createContext(null);function Lf(){let{matches:e}=x.useContext(mi),t=e[e.length-1];return t?t.params:{}}function Dc(e,{relative:t}={}){let{matches:n}=x.useContext(mi),{pathname:i}=Mi(),s=JSON.stringify(jx(n));return x.useMemo(()=>wx(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function ZD(e,t){return Z2(e,t)}function Z2(e,t,n,i,s){Qt(Zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=x.useContext(hi),{matches:d}=x.useContext(mi),p=d[d.length-1],h=p?p.params:{},g=p?p.pathname:"/",m=p?p.pathnameBase:"/",v=p&&p.route;{let E=v&&v.path||"";J2(g,!v||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let S=Mi(),j;if(t){let E=typeof t=="string"?Xl(t):t;Qt(m==="/"||E.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${E.pathname}" was given in the \`location\` prop.`),j=E}else j=S;let k=j.pathname||"/",w=k;if(m!=="/"){let E=m.replace(/^\//,"").split("/");w="/"+k.replace(/^\//,"").split("/").slice(E.length).join("/")}let C=F2(e,{pathname:w});Xn(v||C!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Xn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=nR(C&&C.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:la([m,c.encodeLocation?c.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?m:la([m,c.encodeLocation?c.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),d,n,i,s);return t&&_?x.createElement(Mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},_):_}function JD(){let e=sR(),t=KD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:c},"ErrorBoundary")," or"," ",x.createElement("code",{style:c},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:s},n):null,d)}var eR=x.createElement(JD,null),tR=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(mi.Provider,{value:this.props.routeContext},x.createElement(Cx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rR({routeContext:e,match:t,children:n}){let i=x.useContext(Ql);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(mi.Provider,{value:e},n)}function nR(e,t=[],n=null,i=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,d=n?.errors;if(d!=null){let g=c.findIndex(m=>m.route.id&&d?.[m.route.id]!==void 0);Qt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let p=!1,h=-1;if(n)for(let g=0;g<c.length;g++){let m=c[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=g),m.route.id){let{loaderData:v,errors:S}=n,j=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!S||S[m.route.id]===void 0);if(m.route.lazy||j){p=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((g,m,v)=>{let S,j=!1,k=null,w=null;n&&(S=d&&m.route.id?d[m.route.id]:void 0,k=m.route.errorElement||eR,p&&(h<0&&v===0?(J2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,w=null):h===v&&(j=!0,w=m.route.hydrateFallbackElement||null)));let C=t.concat(c.slice(0,v+1)),_=()=>{let E;return S?E=k:j?E=w:m.route.Component?E=x.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=g,x.createElement(rR,{match:m,routeContext:{outlet:g,matches:C,isDataRoute:n!=null},children:E})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?x.createElement(tR,{location:n.location,revalidation:n.revalidation,component:k,error:S,children:_(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:i}):_()},null)}function kx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iR(e){let t=x.useContext(Ql);return Qt(t,kx(e)),t}function aR(e){let t=x.useContext(Nf);return Qt(t,kx(e)),t}function oR(e){let t=x.useContext(mi);return Qt(t,kx(e)),t}function zx(e){let t=oR(e),n=t.matches[t.matches.length-1];return Qt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function lR(){return zx("useRouteId")}function sR(){let e=x.useContext(Cx),t=aR("useRouteError"),n=zx("useRouteError");return e!==void 0?e:t.errors?.[n]}function cR(){let{router:e}=iR("useNavigate"),t=zx("useNavigate"),n=x.useRef(!1);return Q2(()=>{n.current=!0}),x.useCallback(async(s,c={})=>{Xn(n.current,X2),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...c}))},[e,t])}var Aj={};function J2(e,t,n){!t&&!Aj[e]&&(Aj[e]=!0,Xn(!1,n))}x.memo(uR);function uR({routes:e,future:t,state:n,unstable_onError:i}){return Z2(e,void 0,n,i,t)}function dd({to:e,replace:t,state:n,relative:i}){Qt(Zl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=x.useContext(hi);Xn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=x.useContext(mi),{pathname:d}=Mi(),p=Di(),h=wx(e,jx(c),d,i==="path"),g=JSON.stringify(h);return x.useEffect(()=>{p(JSON.parse(g),{replace:t,state:n,relative:i})},[p,g,i,t,n]),null}function Xr(e){Qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dR({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:c=!1}){Qt(!Zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),p=x.useMemo(()=>({basename:d,navigator:s,static:c,future:{}}),[d,s,c]);typeof n=="string"&&(n=Xl(n));let{pathname:h="/",search:g="",hash:m="",state:v=null,key:S="default"}=n,j=x.useMemo(()=>{let k=da(h,d);return k==null?null:{location:{pathname:k,search:g,hash:m,state:v,key:S},navigationType:i}},[d,h,g,m,v,S,i]);return Xn(j!=null,`<Router basename="${d}"> is not able to match the URL "${h}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:x.createElement(hi.Provider,{value:p},x.createElement(Mc.Provider,{children:t,value:j}))}function fR({children:e,location:t}){return ZD(vy(e),t)}function vy(e,t=[]){let n=[];return x.Children.forEach(e,(i,s)=>{if(!x.isValidElement(i))return;let c=[...t,s];if(i.type===x.Fragment){n.push.apply(n,vy(i.props.children,c));return}Qt(i.type===Xr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=vy(i.props.children,c)),n.push(d)}),n}var Pd="get",$d="application/x-www-form-urlencoded";function Wf(e){return e!=null&&typeof e.tagName=="string"}function pR(e){return Wf(e)&&e.tagName.toLowerCase()==="button"}function gR(e){return Wf(e)&&e.tagName.toLowerCase()==="form"}function hR(e){return Wf(e)&&e.tagName.toLowerCase()==="input"}function mR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yR(e,t){return e.button===0&&(!t||t==="_self")&&!mR(e)}function by(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function xR(e,t){let n=by(e);return t&&t.forEach((i,s)=>{n.has(s)||t.getAll(s).forEach(c=>{n.append(s,c)})}),n}var fd=null;function vR(){if(fd===null)try{new FormData(document.createElement("form"),0),fd=!1}catch{fd=!0}return fd}var bR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $h(e){return e!=null&&!bR.has(e)?(Xn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$d}"`),null):e}function SR(e,t){let n,i,s,c,d;if(gR(e)){let p=e.getAttribute("action");i=p?da(p,t):null,n=e.getAttribute("method")||Pd,s=$h(e.getAttribute("enctype"))||$d,c=new FormData(e)}else if(pR(e)||hR(e)&&(e.type==="submit"||e.type==="image")){let p=e.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||p.getAttribute("action");if(i=h?da(h,t):null,n=e.getAttribute("formmethod")||p.getAttribute("method")||Pd,s=$h(e.getAttribute("formenctype"))||$h(p.getAttribute("enctype"))||$d,c=new FormData(p,e),!vR()){let{name:g,type:m,value:v}=e;if(m==="image"){let S=g?`${g}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else g&&c.append(g,v)}}else{if(Wf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pd,i=null,s=$d,d=e}return c&&s==="text/plain"&&(d=c,c=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _x(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jR(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&da(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function wR(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function kR(e,t,n){let i=await Promise.all(e.map(async s=>{let c=t.routes[s.route.id];if(c){let d=await wR(c,n);return d.links?d.links():[]}return[]}));return AR(i.flat(1).filter(CR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Ej(e,t,n,i,s,c){let d=(h,g)=>n[g]?h.route.id!==n[g].route.id:!0,p=(h,g)=>n[g].pathname!==h.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==h.params["*"];return c==="assets"?t.filter((h,g)=>d(h,g)||p(h,g)):c==="data"?t.filter((h,g)=>{let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(d(h,g)||p(h,g))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function zR(e,t,{includeHydrateFallback:n}={}){return _R(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let c=[s.module];return s.clientActionModule&&(c=c.concat(s.clientActionModule)),s.clientLoaderModule&&(c=c.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(c=c.concat(s.hydrateFallbackModule)),s.imports&&(c=c.concat(s.imports)),c}).flat(1))}function _R(e){return[...new Set(e)]}function TR(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function AR(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let c=JSON.stringify(TR(s));return n.has(c)||(n.add(c),i.push({key:c,link:s})),i},[])}function ez(){let e=x.useContext(Ql);return _x(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ER(){let e=x.useContext(Nf);return _x(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Tx=x.createContext(void 0);Tx.displayName="FrameworkContext";function tz(){let e=x.useContext(Tx);return _x(e,"You must render this element inside a <HydratedRouter> element"),e}function OR(e,t){let n=x.useContext(Tx),[i,s]=x.useState(!1),[c,d]=x.useState(!1),{onFocus:p,onBlur:h,onMouseEnter:g,onMouseLeave:m,onTouchStart:v}=t,S=x.useRef(null);x.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let w=_=>{_.forEach(E=>{d(E.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return S.current&&C.observe(S.current),()=>{C.disconnect()}}},[e]),x.useEffect(()=>{if(i){let w=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(w)}}},[i]);let j=()=>{s(!0)},k=()=>{s(!1),d(!1)};return n?e!=="intent"?[c,S,{}]:[c,S,{onFocus:Js(p,j),onBlur:Js(h,k),onMouseEnter:Js(g,j),onMouseLeave:Js(m,k),onTouchStart:Js(v,j)}]:[!1,S,{}]}function Js(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function MR({page:e,...t}){let{router:n}=ez(),i=x.useMemo(()=>F2(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?x.createElement(RR,{page:e,matches:i,...t}):null}function DR(e){let{manifest:t,routeModules:n}=tz(),[i,s]=x.useState([]);return x.useEffect(()=>{let c=!1;return kR(e,t,n).then(d=>{c||s(d)}),()=>{c=!0}},[e,t,n]),i}function RR({page:e,matches:t,...n}){let i=Mi(),{manifest:s,routeModules:c}=tz(),{basename:d}=ez(),{loaderData:p,matches:h}=ER(),g=x.useMemo(()=>Ej(e,t,h,s,i,"data"),[e,t,h,s,i]),m=x.useMemo(()=>Ej(e,t,h,s,i,"assets"),[e,t,h,s,i]),v=x.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let k=new Set,w=!1;if(t.forEach(_=>{let E=s.routes[_.route.id];!E||!E.hasLoader||(!g.some(A=>A.route.id===_.route.id)&&_.route.id in p&&c[_.route.id]?.shouldRevalidate||E.hasClientLoader?w=!0:k.add(_.route.id))}),k.size===0)return[];let C=jR(e,d,"data");return w&&k.size>0&&C.searchParams.set("_routes",t.filter(_=>k.has(_.route.id)).map(_=>_.route.id).join(",")),[C.pathname+C.search]},[d,p,i,s,g,t,e,c]),S=x.useMemo(()=>zR(m,s),[m,s]),j=DR(m);return x.createElement(x.Fragment,null,v.map(k=>x.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),S.map(k=>x.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),j.map(({key:k,link:w})=>x.createElement("link",{key:k,nonce:n.nonce,...w})))}function PR(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var rz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rz&&(window.__reactRouterVersion="7.9.4")}catch{}function $R({basename:e,children:t,window:n}){let i=x.useRef();i.current==null&&(i.current=wD({window:n,v5Compat:!0}));let s=i.current,[c,d]=x.useState({action:s.action,location:s.location}),p=x.useCallback(h=>{x.startTransition(()=>d(h))},[d]);return x.useLayoutEffect(()=>s.listen(p),[s,p]),x.createElement(dR,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:s})}var nz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xc=x.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:c,replace:d,state:p,target:h,to:g,preventScrollReset:m,viewTransition:v,...S},j){let{basename:k}=x.useContext(hi),w=typeof g=="string"&&nz.test(g),C,_=!1;if(typeof g=="string"&&w&&(C=g,rz))try{let Q=new URL(window.location.href),fe=g.startsWith("//")?new URL(Q.protocol+g):new URL(g),ce=da(fe.pathname,k);fe.origin===Q.origin&&ce!=null?g=ce+fe.search+fe.hash:_=!0}catch{Xn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=XD(g,{relative:s}),[A,T,O]=OR(i,S),P=BR(g,{replace:d,state:p,target:h,preventScrollReset:m,relative:s,viewTransition:v});function D(Q){t&&t(Q),Q.defaultPrevented||P(Q)}let I=x.createElement("a",{...S,...O,href:C||E,onClick:_||c?t:D,ref:PR(j,T),target:h,"data-discover":!w&&n==="render"?"true":void 0});return A&&!w?x.createElement(x.Fragment,null,I,x.createElement(MR,{page:E})):I});xc.displayName="Link";var NR=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:c,to:d,viewTransition:p,children:h,...g},m){let v=Dc(d,{relative:g.relative}),S=Mi(),j=x.useContext(Nf),{navigator:k,basename:w}=x.useContext(hi),C=j!=null&&FR(v)&&p===!0,_=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,E=S.pathname,A=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(E=E.toLowerCase(),A=A?A.toLowerCase():null,_=_.toLowerCase()),A&&w&&(A=da(A,w)||A);const T=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let O=E===_||!s&&E.startsWith(_)&&E.charAt(T)==="/",P=A!=null&&(A===_||!s&&A.startsWith(_)&&A.charAt(_.length)==="/"),D={isActive:O,isPending:P,isTransitioning:C},I=O?t:void 0,Q;typeof i=="function"?Q=i(D):Q=[i,O?"active":null,P?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let fe=typeof c=="function"?c(D):c;return x.createElement(xc,{...g,"aria-current":I,className:Q,ref:m,style:fe,to:d,viewTransition:p},typeof h=="function"?h(D):h)});NR.displayName="NavLink";var LR=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:c,method:d=Pd,action:p,onSubmit:h,relative:g,preventScrollReset:m,viewTransition:v,...S},j)=>{let k=UR(),w=HR(p,{relative:g}),C=d.toLowerCase()==="get"?"get":"post",_=typeof p=="string"&&nz.test(p),E=A=>{if(h&&h(A),A.defaultPrevented)return;A.preventDefault();let T=A.nativeEvent.submitter,O=T?.getAttribute("formmethod")||d;k(T||A.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:s,state:c,relative:g,preventScrollReset:m,viewTransition:v})};return x.createElement("form",{ref:j,method:C,action:w,onSubmit:i?h:E,...S,"data-discover":!_&&e==="render"?"true":void 0})});LR.displayName="Form";function WR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iz(e){let t=x.useContext(Ql);return Qt(t,WR(e)),t}function BR(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:c,viewTransition:d}={}){let p=Di(),h=Mi(),g=Dc(e,{relative:c});return x.useCallback(m=>{if(yR(m,t)){m.preventDefault();let v=n!==void 0?n:yc(h)===yc(g);p(e,{replace:v,state:i,preventScrollReset:s,relative:c,viewTransition:d})}},[h,p,g,n,i,t,e,s,c,d])}function Bf(e){Xn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(by(e)),n=x.useRef(!1),i=Mi(),s=x.useMemo(()=>xR(i.search,n.current?null:t.current),[i.search]),c=Di(),d=x.useCallback((p,h)=>{const g=by(typeof p=="function"?p(new URLSearchParams(s)):p);n.current=!0,c("?"+g,h)},[c,s]);return[s,d]}var IR=0,qR=()=>`__${String(++IR)}__`;function UR(){let{router:e}=iz("useSubmit"),{basename:t}=x.useContext(hi),n=lR();return x.useCallback(async(i,s={})=>{let{action:c,method:d,encType:p,formData:h,body:g}=SR(i,t);if(s.navigate===!1){let m=s.fetcherKey||qR();await e.fetch(m,n,s.action||c,{preventScrollReset:s.preventScrollReset,formData:h,body:g,formMethod:s.method||d,formEncType:s.encType||p,flushSync:s.flushSync})}else await e.navigate(s.action||c,{preventScrollReset:s.preventScrollReset,formData:h,body:g,formMethod:s.method||d,formEncType:s.encType||p,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function HR(e,{relative:t}={}){let{basename:n}=x.useContext(hi),i=x.useContext(mi);Qt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),c={...Dc(e||".",{relative:t})},d=Mi();if(e==null){c.search=d.search;let p=new URLSearchParams(c.search),h=p.getAll("index");if(h.some(m=>m==="")){p.delete("index"),h.filter(v=>v).forEach(v=>p.append("index",v));let m=p.toString();c.search=m?`?${m}`:""}}return(!e||e===".")&&s.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:la([n,c.pathname])),yc(c)}function FR(e,{relative:t}={}){let n=x.useContext(G2);Qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=iz("useViewTransitionState"),s=Dc(e,{relative:t});if(!n.isTransitioning)return!1;let c=da(n.currentLocation.pathname,i)||n.currentLocation.pathname,d=da(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Fd(s.pathname,d)!=null||Fd(s.pathname,c)!=null}var Kd=H2();function az(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=az(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function St(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=az(e))&&(i&&(i+=" "),i+=t);return i}var Nh={},Lh={},Oj;function KR(){return Oj||(Oj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Lh)),Lh}var Wh={},Mj;function oz(){return Mj||(Mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Wh)),Wh}var Bh={},Dj;function lz(){return Dj||(Dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Bh)),Bh}var Ih={},Rj;function Ax(){return Rj||(Rj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const i=[],s=n.length;if(s===0)return i;let c=0,d="",p="",h=!1;for(n.charCodeAt(0)===46&&(i.push(""),c++);c<s;){const g=n[c];p?g==="\\"&&c+1<s?(c++,d+=n[c]):g===p?p="":d+=g:h?g==='"'||g==="'"?p=g:g==="]"?(h=!1,i.push(d),d=""):d+=g:g==="["?(h=!0,d&&(i.push(d),d="")):g==="."?d&&(i.push(d),d=""):d+=g,c++}return d&&i.push(d),i}e.toPath=t})(Ih)),Ih}var Pj;function Ex(){return Pj||(Pj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KR(),n=oz(),i=lz(),s=Ax();function c(p,h,g){if(p==null)return g;switch(typeof h){case"string":{if(t.isUnsafeProperty(h))return g;const m=p[h];return m===void 0?n.isDeepKey(h)?c(p,s.toPath(h),g):g:m}case"number":case"symbol":{typeof h=="number"&&(h=i.toKey(h));const m=p[h];return m===void 0?g:m}default:{if(Array.isArray(h))return d(p,h,g);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),t.isUnsafeProperty(h))return g;const m=p[h];return m===void 0?g:m}}}function d(p,h,g){if(h.length===0)return g;let m=p;for(let v=0;v<h.length;v++){if(m==null||t.isUnsafeProperty(h[v]))return g;m=m[h[v]]}return m===void 0?g:m}e.get=c})(Nh)),Nh}var qh,$j;function YR(){return $j||($j=1,qh=Ex().get),qh}var VR=YR();const Bo=ma(VR);var Uh={exports:{}},Pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nj;function GR(){if(Nj)return Pt;Nj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.view_transition"),j=Symbol.for("react.client.reference");function k(w){if(typeof w=="object"&&w!==null){var C=w.$$typeof;switch(C){case e:switch(w=w.type,w){case n:case s:case i:case h:case g:case S:return w;default:switch(w=w&&w.$$typeof,w){case d:case p:case v:case m:return w;case c:return w;default:return C}}case t:return C}}}return Pt.ContextConsumer=c,Pt.ContextProvider=d,Pt.Element=e,Pt.ForwardRef=p,Pt.Fragment=n,Pt.Lazy=v,Pt.Memo=m,Pt.Portal=t,Pt.Profiler=s,Pt.StrictMode=i,Pt.Suspense=h,Pt.SuspenseList=g,Pt.isContextConsumer=function(w){return k(w)===c},Pt.isContextProvider=function(w){return k(w)===d},Pt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Pt.isForwardRef=function(w){return k(w)===p},Pt.isFragment=function(w){return k(w)===n},Pt.isLazy=function(w){return k(w)===v},Pt.isMemo=function(w){return k(w)===m},Pt.isPortal=function(w){return k(w)===t},Pt.isProfiler=function(w){return k(w)===s},Pt.isStrictMode=function(w){return k(w)===i},Pt.isSuspense=function(w){return k(w)===h},Pt.isSuspenseList=function(w){return k(w)===g},Pt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===s||w===i||w===h||w===g||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===m||w.$$typeof===d||w.$$typeof===c||w.$$typeof===p||w.$$typeof===j||w.getModuleId!==void 0)},Pt.typeOf=k,Pt}var Lj;function XR(){return Lj||(Lj=1,Uh.exports=GR()),Uh.exports}var QR=XR(),Er=e=>e===0?0:e>0?1:-1,An=e=>typeof e=="number"&&e!=+e,Oo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ke=e=>(typeof e=="number"||e instanceof Number)&&!An(e),Ei=e=>Ke(e)||typeof e=="string",ZR=0,vc=e=>{var t=++ZR;return"".concat(e||"").concat(t)},Yr=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ke(t)&&typeof t!="string")return i;var c;if(Oo(t)){if(n==null)return i;var d=t.indexOf("%");c=n*parseFloat(t.slice(0,d))/100}else c=+t;return An(c)&&(c=i),s&&n!=null&&c>n&&(c=n),c},sz=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},i=0;i<t;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1};function lr(e,t,n){return Ke(e)&&Ke(t)?e+n*(t-e):t}function cz(e,t,n){if(!(!e||!e.length))return e.find(i=>i&&(typeof t=="function"?t(i):Bo(i,t))===n)}var Zt=e=>e===null||typeof e>"u",Rc=e=>Zt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),JR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ox(e){if(typeof e!="string")return!1;var t=JR;return t.includes(e)}var eP=["viewBox","children"],Wj=["points","pathLength"],Hh={svg:eP,polygon:Wj,polyline:Wj},Mx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{Ox(s)&&(i[s]=(c=>n[s](n,c)))}),i},tP=(e,t,n)=>i=>(e(t,n,i),null),Pc=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var i=null;return Object.keys(e).forEach(s=>{var c=e[s];Ox(s)&&typeof c=="function"&&(i||(i={}),i[s]=tP(c,t,n))}),i},rP=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function uz(e){if(typeof e!="string")return!1;var t=rP;return t.includes(e)}function Ri(e){var t=Object.entries(e).filter(n=>{var[i]=n;return uz(i)});return Object.fromEntries(t)}var Bj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Ij=null,Fh=null,dz=e=>{if(e===Ij&&Array.isArray(Fh))return Fh;var t=[];return x.Children.forEach(e,n=>{Zt(n)||(QR.isFragment(n)?t=t.concat(dz(n.props.children)):t.push(n))}),Fh=t,Ij=e,t};function Dx(e,t){var n=[],i=[];return Array.isArray(t)?i=t.map(s=>Bj(s)):i=[Bj(t)],dz(e).forEach(s=>{var c=Bo(s,"type.displayName")||Bo(s,"type.name");i.indexOf(c)!==-1&&n.push(s)}),n}var fz=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,nP=(e,t,n,i)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var c=(s=i&&Hh?.[i])!==null&&s!==void 0?s:[],d=t.startsWith("data-"),p=typeof e!="function"&&(!!i&&c.includes(t)||uz(t)),h=!!n&&Ox(t);return d||p||h},tr=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(x.isValidElement(e)&&(i=e.props),typeof i!="object"&&typeof i!="function")return null;var s={};return Object.keys(i).forEach(c=>{var d;nP((d=i)===null||d===void 0?void 0:d[c],c,t,n)&&(s[c]=i[c])}),s},iP=["children","width","height","viewBox","className","style","title","desc"];function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sy.apply(null,arguments)}function aP(e,t){if(e==null)return{};var n,i,s=oP(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function oP(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Rx=x.forwardRef((e,t)=>{var{children:n,width:i,height:s,viewBox:c,className:d,style:p,title:h,desc:g}=e,m=aP(e,iP),v=c||{width:i,height:s,x:0,y:0},S=St("recharts-surface",d);return x.createElement("svg",Sy({},tr(m,!0,"svg"),{className:S,width:i,height:s,style:p,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:t}),x.createElement("title",null,h),x.createElement("desc",null,g),n)}),lP=["children","className"];function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jy.apply(null,arguments)}function sP(e,t){if(e==null)return{};var n,i,s=cP(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function cP(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var qr=x.forwardRef((e,t)=>{var{children:n,className:i}=e,s=sP(e,lP),c=St("recharts-layer",i);return x.createElement("g",jy({className:c},tr(s,!0),{ref:t}),n)}),pz=x.createContext(null),uP=()=>x.useContext(pz);function Bt(e){return function(){return e}}const gz=Math.cos,Yd=Math.sin,yi=Math.sqrt,Vd=Math.PI,If=2*Vd,wy=Math.PI,Cy=2*wy,To=1e-6,dP=Cy-To;function hz(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function fP(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return hz;const n=10**t;return function(i){this._+=i[0];for(let s=1,c=i.length;s<c;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}class pP{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?hz:fP(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,s){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(t,n,i,s,c,d){this._append`C${+t},${+n},${+i},${+s},${this._x1=+c},${this._y1=+d}`}arcTo(t,n,i,s,c){if(t=+t,n=+n,i=+i,s=+s,c=+c,c<0)throw new Error(`negative radius: ${c}`);let d=this._x1,p=this._y1,h=i-t,g=s-n,m=d-t,v=p-n,S=m*m+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(S>To)if(!(Math.abs(v*h-g*m)>To)||!c)this._append`L${this._x1=t},${this._y1=n}`;else{let j=i-d,k=s-p,w=h*h+g*g,C=j*j+k*k,_=Math.sqrt(w),E=Math.sqrt(S),A=c*Math.tan((wy-Math.acos((w+S-C)/(2*_*E)))/2),T=A/E,O=A/_;Math.abs(T-1)>To&&this._append`L${t+T*m},${n+T*v}`,this._append`A${c},${c},0,0,${+(v*j>m*k)},${this._x1=t+O*h},${this._y1=n+O*g}`}}arc(t,n,i,s,c,d){if(t=+t,n=+n,i=+i,d=!!d,i<0)throw new Error(`negative radius: ${i}`);let p=i*Math.cos(s),h=i*Math.sin(s),g=t+p,m=n+h,v=1^d,S=d?s-c:c-s;this._x1===null?this._append`M${g},${m}`:(Math.abs(this._x1-g)>To||Math.abs(this._y1-m)>To)&&this._append`L${g},${m}`,i&&(S<0&&(S=S%Cy+Cy),S>dP?this._append`A${i},${i},0,1,${v},${t-p},${n-h}A${i},${i},0,1,${v},${this._x1=g},${this._y1=m}`:S>To&&this._append`A${i},${i},0,${+(S>=wy)},${v},${this._x1=t+i*Math.cos(c)},${this._y1=n+i*Math.sin(c)}`)}rect(t,n,i,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function Px(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new pP(t)}function $x(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function mz(e){this._context=e}mz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qf(e){return new mz(e)}function yz(e){return e[0]}function xz(e){return e[1]}function vz(e,t){var n=Bt(!0),i=null,s=qf,c=null,d=Px(p);e=typeof e=="function"?e:e===void 0?yz:Bt(e),t=typeof t=="function"?t:t===void 0?xz:Bt(t);function p(h){var g,m=(h=$x(h)).length,v,S=!1,j;for(i==null&&(c=s(j=d())),g=0;g<=m;++g)!(g<m&&n(v=h[g],g,h))===S&&((S=!S)?c.lineStart():c.lineEnd()),S&&c.point(+e(v,g,h),+t(v,g,h));if(j)return c=null,j+""||null}return p.x=function(h){return arguments.length?(e=typeof h=="function"?h:Bt(+h),p):e},p.y=function(h){return arguments.length?(t=typeof h=="function"?h:Bt(+h),p):t},p.defined=function(h){return arguments.length?(n=typeof h=="function"?h:Bt(!!h),p):n},p.curve=function(h){return arguments.length?(s=h,i!=null&&(c=s(i)),p):s},p.context=function(h){return arguments.length?(h==null?i=c=null:c=s(i=h),p):i},p}function pd(e,t,n){var i=null,s=Bt(!0),c=null,d=qf,p=null,h=Px(g);e=typeof e=="function"?e:e===void 0?yz:Bt(+e),t=typeof t=="function"?t:Bt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?xz:Bt(+n);function g(v){var S,j,k,w=(v=$x(v)).length,C,_=!1,E,A=new Array(w),T=new Array(w);for(c==null&&(p=d(E=h())),S=0;S<=w;++S){if(!(S<w&&s(C=v[S],S,v))===_)if(_=!_)j=S,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),k=S-1;k>=j;--k)p.point(A[k],T[k]);p.lineEnd(),p.areaEnd()}_&&(A[S]=+e(C,S,v),T[S]=+t(C,S,v),p.point(i?+i(C,S,v):A[S],n?+n(C,S,v):T[S]))}if(E)return p=null,E+""||null}function m(){return vz().defined(s).curve(d).context(c)}return g.x=function(v){return arguments.length?(e=typeof v=="function"?v:Bt(+v),i=null,g):e},g.x0=function(v){return arguments.length?(e=typeof v=="function"?v:Bt(+v),g):e},g.x1=function(v){return arguments.length?(i=v==null?null:typeof v=="function"?v:Bt(+v),g):i},g.y=function(v){return arguments.length?(t=typeof v=="function"?v:Bt(+v),n=null,g):t},g.y0=function(v){return arguments.length?(t=typeof v=="function"?v:Bt(+v),g):t},g.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:Bt(+v),g):n},g.lineX0=g.lineY0=function(){return m().x(e).y(t)},g.lineY1=function(){return m().x(e).y(n)},g.lineX1=function(){return m().x(i).y(t)},g.defined=function(v){return arguments.length?(s=typeof v=="function"?v:Bt(!!v),g):s},g.curve=function(v){return arguments.length?(d=v,c!=null&&(p=d(c)),g):d},g.context=function(v){return arguments.length?(v==null?c=p=null:p=d(c=v),g):c},g}class bz{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function gP(e){return new bz(e,!0)}function hP(e){return new bz(e,!1)}const Nx={draw(e,t){const n=yi(t/Vd);e.moveTo(n,0),e.arc(0,0,n,0,If)}},mP={draw(e,t){const n=yi(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Sz=yi(1/3),yP=Sz*2,xP={draw(e,t){const n=yi(t/yP),i=n*Sz;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},vP={draw(e,t){const n=yi(t),i=-n/2;e.rect(i,i,n,n)}},bP=.8908130915292852,jz=Yd(Vd/10)/Yd(7*Vd/10),SP=Yd(If/10)*jz,jP=-gz(If/10)*jz,wP={draw(e,t){const n=yi(t*bP),i=SP*n,s=jP*n;e.moveTo(0,-n),e.lineTo(i,s);for(let c=1;c<5;++c){const d=If*c/5,p=gz(d),h=Yd(d);e.lineTo(h*n,-p*n),e.lineTo(p*i-h*s,h*i+p*s)}e.closePath()}},Kh=yi(3),CP={draw(e,t){const n=-yi(t/(Kh*3));e.moveTo(0,n*2),e.lineTo(-Kh*n,-n),e.lineTo(Kh*n,-n),e.closePath()}},Un=-.5,Hn=yi(3)/2,ky=1/yi(12),kP=(ky/2+1)*3,zP={draw(e,t){const n=yi(t/kP),i=n/2,s=n*ky,c=i,d=n*ky+n,p=-c,h=d;e.moveTo(i,s),e.lineTo(c,d),e.lineTo(p,h),e.lineTo(Un*i-Hn*s,Hn*i+Un*s),e.lineTo(Un*c-Hn*d,Hn*c+Un*d),e.lineTo(Un*p-Hn*h,Hn*p+Un*h),e.lineTo(Un*i+Hn*s,Un*s-Hn*i),e.lineTo(Un*c+Hn*d,Un*d-Hn*c),e.lineTo(Un*p+Hn*h,Un*h-Hn*p),e.closePath()}};function _P(e,t){let n=null,i=Px(s);e=typeof e=="function"?e:Bt(e||Nx),t=typeof t=="function"?t:Bt(t===void 0?64:+t);function s(){let c;if(n||(n=c=i()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),c)return n=null,c+""||null}return s.type=function(c){return arguments.length?(e=typeof c=="function"?c:Bt(c),s):e},s.size=function(c){return arguments.length?(t=typeof c=="function"?c:Bt(+c),s):t},s.context=function(c){return arguments.length?(n=c??null,s):n},s}function Gd(){}function Xd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function wz(e){this._context=e}wz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function TP(e){return new wz(e)}function Cz(e){this._context=e}Cz.prototype={areaStart:Gd,areaEnd:Gd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AP(e){return new Cz(e)}function kz(e){this._context=e}kz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EP(e){return new kz(e)}function zz(e){this._context=e}zz.prototype={areaStart:Gd,areaEnd:Gd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function OP(e){return new zz(e)}function qj(e){return e<0?-1:1}function Uj(e,t,n){var i=e._x1-e._x0,s=t-e._x1,c=(e._y1-e._y0)/(i||s<0&&-0),d=(n-e._y1)/(s||i<0&&-0),p=(c*s+d*i)/(i+s);return(qj(c)+qj(d))*Math.min(Math.abs(c),Math.abs(d),.5*Math.abs(p))||0}function Hj(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Yh(e,t,n){var i=e._x0,s=e._y0,c=e._x1,d=e._y1,p=(c-i)/3;e._context.bezierCurveTo(i+p,s+p*t,c-p,d-p*n,c,d)}function Qd(e){this._context=e}Qd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yh(this,this._t0,Hj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Yh(this,Hj(this,n=Uj(this,e,t)),n);break;default:Yh(this,this._t0,n=Uj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function _z(e){this._context=new Tz(e)}(_z.prototype=Object.create(Qd.prototype)).point=function(e,t){Qd.prototype.point.call(this,t,e)};function Tz(e){this._context=e}Tz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,s,c){this._context.bezierCurveTo(t,e,i,n,c,s)}};function MP(e){return new Qd(e)}function DP(e){return new _z(e)}function Az(e){this._context=e}Az.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=Fj(e),s=Fj(t),c=0,d=1;d<n;++c,++d)this._context.bezierCurveTo(i[0][c],s[0][c],i[1][c],s[1][c],e[d],t[d]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Fj(e){var t,n=e.length-1,i,s=new Array(n),c=new Array(n),d=new Array(n);for(s[0]=0,c[0]=2,d[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,c[t]=4,d[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,c[n-1]=7,d[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=s[t]/c[t-1],c[t]-=i,d[t]-=i*d[t-1];for(s[n-1]=d[n-1]/c[n-1],t=n-2;t>=0;--t)s[t]=(d[t]-s[t+1])/c[t];for(c[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)c[t]=2*e[t+1]-s[t+1];return[s,c]}function RP(e){return new Az(e)}function Uf(e,t){this._context=e,this._t=t}Uf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function PP(e){return new Uf(e,.5)}function $P(e){return new Uf(e,0)}function NP(e){return new Uf(e,1)}function Nl(e,t){if((d=e.length)>1)for(var n=1,i,s,c=e[t[0]],d,p=c.length;n<d;++n)for(s=c,c=e[t[n]],i=0;i<p;++i)c[i][1]+=c[i][0]=isNaN(s[i][1])?s[i][0]:s[i][1]}function zy(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function LP(e,t){return e[t]}function WP(e){const t=[];return t.key=e,t}function BP(){var e=Bt([]),t=zy,n=Nl,i=LP;function s(c){var d=Array.from(e.apply(this,arguments),WP),p,h=d.length,g=-1,m;for(const v of c)for(p=0,++g;p<h;++p)(d[p][g]=[0,+i(v,d[p].key,g,c)]).data=v;for(p=0,m=$x(t(d));p<h;++p)d[m[p]].index=p;return n(d,m),d}return s.keys=function(c){return arguments.length?(e=typeof c=="function"?c:Bt(Array.from(c)),s):e},s.value=function(c){return arguments.length?(i=typeof c=="function"?c:Bt(+c),s):i},s.order=function(c){return arguments.length?(t=c==null?zy:typeof c=="function"?c:Bt(Array.from(c)),s):t},s.offset=function(c){return arguments.length?(n=c??Nl,s):n},s}function IP(e,t){if((i=e.length)>0){for(var n,i,s=0,c=e[0].length,d;s<c;++s){for(d=n=0;n<i;++n)d+=e[n][s][1]||0;if(d)for(n=0;n<i;++n)e[n][s][1]/=d}Nl(e,t)}}function qP(e,t){if((s=e.length)>0){for(var n=0,i=e[t[0]],s,c=i.length;n<c;++n){for(var d=0,p=0;d<s;++d)p+=e[d][n][1]||0;i[n][1]+=i[n][0]=-p/2}Nl(e,t)}}function UP(e,t){if(!(!((d=e.length)>0)||!((c=(s=e[t[0]]).length)>0))){for(var n=0,i=1,s,c,d;i<c;++i){for(var p=0,h=0,g=0;p<d;++p){for(var m=e[t[p]],v=m[i][1]||0,S=m[i-1][1]||0,j=(v-S)/2,k=0;k<p;++k){var w=e[t[k]],C=w[i][1]||0,_=w[i-1][1]||0;j+=C-_}h+=v,g+=j*v}s[i-1][1]+=s[i-1][0]=n,h&&(n-=g/h)}s[i-1][1]+=s[i-1][0]=n,Nl(e,t)}}var HP=["type","size","sizeType"];function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_y.apply(null,arguments)}function Kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Yj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(n),!0).forEach(function(i){FP(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function FP(e,t,n){return(t=KP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KP(e){var t=YP(e,"string");return typeof t=="symbol"?t:t+""}function YP(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VP(e,t){if(e==null)return{};var n,i,s=GP(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function GP(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Ez={symbolCircle:Nx,symbolCross:mP,symbolDiamond:xP,symbolSquare:vP,symbolStar:wP,symbolTriangle:CP,symbolWye:zP},XP=Math.PI/180,QP=e=>{var t="symbol".concat(Rc(e));return Ez[t]||Nx},ZP=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*XP;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},JP=(e,t)=>{Ez["symbol".concat(Rc(e))]=t},Lx=e=>{var{type:t="circle",size:n=64,sizeType:i="area"}=e,s=VP(e,HP),c=Yj(Yj({},s),{},{type:t,size:n,sizeType:i}),d="circle";typeof t=="string"&&(d=t);var p=()=>{var S=QP(d),j=_P().type(S).size(ZP(n,i,d));return j()},{className:h,cx:g,cy:m}=c,v=tr(c,!0);return g===+g&&m===+m&&n===+n?x.createElement("path",_y({},v,{className:St("recharts-symbols",h),transform:"translate(".concat(g,", ").concat(m,")"),d:p()})):null};Lx.registerSymbol=JP;function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ty.apply(null,arguments)}function Vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function e5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(n),!0).forEach(function(i){Wx(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Wx(e,t,n){return(t=t5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t5(e){var t=r5(e,"string");return typeof t=="symbol"?t:t+""}function r5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fn=32;class Bx extends x.PureComponent{renderIcon(t,n){var{inactiveColor:i}=this.props,s=Fn/2,c=Fn/6,d=Fn/3,p=t.inactive?i:t.color,h=n??t.type;if(h==="none")return null;if(h==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:p,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:Fn,y2:s,className:"recharts-legend-icon"});if(h==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:p,d:"M0,".concat(s,"h").concat(d,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*d,",").concat(s,`
            H`).concat(Fn,"M").concat(2*d,",").concat(s,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(d,",").concat(s),className:"recharts-legend-icon"});if(h==="rect")return x.createElement("path",{stroke:"none",fill:p,d:"M0,".concat(Fn/8,"h").concat(Fn,"v").concat(Fn*3/4,"h").concat(-Fn,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var g=e5({},t);return delete g.legendIcon,x.cloneElement(t.legendIcon,g)}return x.createElement(Lx,{fill:p,cx:s,cy:s,size:Fn,sizeType:"diameter",type:h})}renderItems(){var{payload:t,iconSize:n,layout:i,formatter:s,inactiveColor:c,iconType:d}=this.props,p={x:0,y:0,width:Fn,height:Fn},h={display:i==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((m,v)=>{var S=m.formatter||s,j=St({"recharts-legend-item":!0,["legend-item-".concat(v)]:!0,inactive:m.inactive});if(m.type==="none")return null;var k=m.inactive?c:m.color,w=S?S(m.value,m,v):m.value;return x.createElement("li",Ty({className:j,style:h,key:"legend-item-".concat(v)},Pc(this.props,m,v)),x.createElement(Rx,{width:n,height:n,viewBox:p,style:g,"aria-label":"".concat(w," legend icon")},this.renderIcon(m,d)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},w))})}render(){var{payload:t,layout:n,align:i}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}Wx(Bx,"displayName","Legend");Wx(Bx,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Vh={},Gh={},Gj;function n5(){return Gj||(Gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i){const s=new Map;for(let c=0;c<n.length;c++){const d=n[c],p=i(d);s.has(p)||s.set(p,d)}return Array.from(s.values())}e.uniqBy=t})(Gh)),Gh}var Xh={},Xj;function Oz(){return Xj||(Xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Xh)),Xh}var Qh={},Zh={},Jh={},Qj;function i5(){return Qj||(Qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Jh)),Jh}var Zj;function Ix(){return Zj||(Zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i5();function n(i){return i!=null&&typeof i!="function"&&t.isLength(i.length)}e.isArrayLike=n})(Zh)),Zh}var em={},Jj;function a5(){return Jj||(Jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(em)),em}var ew;function o5(){return ew||(ew=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ix(),n=a5();function i(s){return n.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=i})(Qh)),Qh}var tm={},rm={},tw;function l5(){return tw||(tw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ex();function n(i){return function(s){return t.get(s,i)}}e.property=n})(rm)),rm}var nm={},im={},am={},om={},rw;function Mz(){return rw||(rw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(om)),om}var lm={},nw;function Dz(){return nw||(nw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(lm)),lm}var sm={},iw;function Rz(){return iw||(iw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}e.eq=t})(sm)),sm}var aw;function s5(){return aw||(aw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qx(),n=Mz(),i=Dz(),s=Rz();function c(v,S,j){return typeof j!="function"?t.isMatch(v,S):d(v,S,function k(w,C,_,E,A,T){const O=j(w,C,_,E,A,T);return O!==void 0?!!O:d(w,C,k,T)},new Map)}function d(v,S,j,k){if(S===v)return!0;switch(typeof S){case"object":return p(v,S,j,k);case"function":return Object.keys(S).length>0?d(v,{...S},j,k):s.eq(v,S);default:return n.isObject(v)?typeof S=="string"?S==="":!0:s.eq(v,S)}}function p(v,S,j,k){if(S==null)return!0;if(Array.isArray(S))return g(v,S,j,k);if(S instanceof Map)return h(v,S,j,k);if(S instanceof Set)return m(v,S,j,k);const w=Object.keys(S);if(v==null)return w.length===0;if(w.length===0)return!0;if(k&&k.has(S))return k.get(S)===v;k&&k.set(S,v);try{for(let C=0;C<w.length;C++){const _=w[C];if(!i.isPrimitive(v)&&!(_ in v)||S[_]===void 0&&v[_]!==void 0||S[_]===null&&v[_]!==null||!j(v[_],S[_],_,v,S,k))return!1}return!0}finally{k&&k.delete(S)}}function h(v,S,j,k){if(S.size===0)return!0;if(!(v instanceof Map))return!1;for(const[w,C]of S.entries()){const _=v.get(w);if(j(_,C,w,v,S,k)===!1)return!1}return!0}function g(v,S,j,k){if(S.length===0)return!0;if(!Array.isArray(v))return!1;const w=new Set;for(let C=0;C<S.length;C++){const _=S[C];let E=!1;for(let A=0;A<v.length;A++){if(w.has(A))continue;const T=v[A];let O=!1;if(j(T,_,C,v,S,k)&&(O=!0),O){w.add(A),E=!0;break}}if(!E)return!1}return!0}function m(v,S,j,k){return S.size===0?!0:v instanceof Set?g([...v],[...S],j,k):!1}e.isMatchWith=c,e.isSetMatch=m})(am)),am}var ow;function qx(){return ow||(ow=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s5();function n(i,s){return t.isMatchWith(i,s,()=>{})}e.isMatch=n})(im)),im}var cm={},um={},dm={},lw;function c5(){return lw||(lw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(i=>Object.prototype.propertyIsEnumerable.call(n,i))}e.getSymbols=t})(dm)),dm}var fm={},sw;function Pz(){return sw||(sw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(fm)),fm}var pm={},cw;function $z(){return cw||(cw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",i="[object Number]",s="[object Boolean]",c="[object Arguments]",d="[object Symbol]",p="[object Date]",h="[object Map]",g="[object Set]",m="[object Array]",v="[object Function]",S="[object ArrayBuffer]",j="[object Object]",k="[object Error]",w="[object DataView]",C="[object Uint8Array]",_="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]",T="[object BigUint64Array]",O="[object Int8Array]",P="[object Int16Array]",D="[object Int32Array]",I="[object BigInt64Array]",Q="[object Float32Array]",fe="[object Float64Array]";e.argumentsTag=c,e.arrayBufferTag=S,e.arrayTag=m,e.bigInt64ArrayTag=I,e.bigUint64ArrayTag=T,e.booleanTag=s,e.dataViewTag=w,e.dateTag=p,e.errorTag=k,e.float32ArrayTag=Q,e.float64ArrayTag=fe,e.functionTag=v,e.int16ArrayTag=P,e.int32ArrayTag=D,e.int8ArrayTag=O,e.mapTag=h,e.numberTag=i,e.objectTag=j,e.regexpTag=t,e.setTag=g,e.stringTag=n,e.symbolTag=d,e.uint16ArrayTag=E,e.uint32ArrayTag=A,e.uint8ArrayTag=C,e.uint8ClampedArrayTag=_})(pm)),pm}var gm={},uw;function u5(){return uw||(uw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(gm)),gm}var dw;function Nz(){return dw||(dw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c5(),n=Pz(),i=$z(),s=Dz(),c=u5();function d(m,v){return p(m,void 0,m,new Map,v)}function p(m,v,S,j=new Map,k=void 0){const w=k?.(m,v,S,j);if(w!==void 0)return w;if(s.isPrimitive(m))return m;if(j.has(m))return j.get(m);if(Array.isArray(m)){const C=new Array(m.length);j.set(m,C);for(let _=0;_<m.length;_++)C[_]=p(m[_],_,S,j,k);return Object.hasOwn(m,"index")&&(C.index=m.index),Object.hasOwn(m,"input")&&(C.input=m.input),C}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const C=new RegExp(m.source,m.flags);return C.lastIndex=m.lastIndex,C}if(m instanceof Map){const C=new Map;j.set(m,C);for(const[_,E]of m)C.set(_,p(E,_,S,j,k));return C}if(m instanceof Set){const C=new Set;j.set(m,C);for(const _ of m)C.add(p(_,void 0,S,j,k));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(c.isTypedArray(m)){const C=new(Object.getPrototypeOf(m)).constructor(m.length);j.set(m,C);for(let _=0;_<m.length;_++)C[_]=p(m[_],_,S,j,k);return C}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const C=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return j.set(m,C),h(C,m,S,j,k),C}if(typeof File<"u"&&m instanceof File){const C=new File([m],m.name,{type:m.type});return j.set(m,C),h(C,m,S,j,k),C}if(m instanceof Blob){const C=new Blob([m],{type:m.type});return j.set(m,C),h(C,m,S,j,k),C}if(m instanceof Error){const C=new m.constructor;return j.set(m,C),C.message=m.message,C.name=m.name,C.stack=m.stack,C.cause=m.cause,h(C,m,S,j,k),C}if(typeof m=="object"&&g(m)){const C=Object.create(Object.getPrototypeOf(m));return j.set(m,C),h(C,m,S,j,k),C}return m}function h(m,v,S=m,j,k){const w=[...Object.keys(v),...t.getSymbols(v)];for(let C=0;C<w.length;C++){const _=w[C],E=Object.getOwnPropertyDescriptor(m,_);(E==null||E.writable)&&(m[_]=p(v[_],_,S,j,k))}}function g(m){switch(n.getTag(m)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=d,e.cloneDeepWithImpl=p,e.copyProperties=h})(um)),um}var fw;function d5(){return fw||(fw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nz();function n(i){return t.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}e.cloneDeep=n})(cm)),cm}var pw;function f5(){return pw||(pw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qx(),n=d5();function i(s){return s=n.cloneDeep(s),c=>t.isMatch(c,s)}e.matches=i})(nm)),nm}var hm={},mm={},ym={},gw;function p5(){return gw||(gw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nz(),n=$z();function i(s,c){return t.cloneDeepWith(s,(d,p,h,g)=>{const m=c?.(d,p,h,g);if(m!==void 0)return m;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new s.constructor(s?.valueOf());return t.copyProperties(v,s),v}case n.argumentsTag:{const v={};return t.copyProperties(v,s),v.length=s.length,v[Symbol.iterator]=s[Symbol.iterator],v}default:return}})}e.cloneDeepWith=i})(ym)),ym}var hw;function g5(){return hw||(hw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p5();function n(i){return t.cloneDeepWith(i)}e.cloneDeep=n})(mm)),mm}var xm={},vm={},mw;function Lz(){return mw||(mw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(i,s=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<s;case"symbol":return!1;case"string":return t.test(i)}}e.isIndex=n})(vm)),vm}var bm={},yw;function h5(){return yw||(yw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pz();function n(i){return i!==null&&typeof i=="object"&&t.getTag(i)==="[object Arguments]"}e.isArguments=n})(bm)),bm}var xw;function m5(){return xw||(xw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oz(),n=Lz(),i=h5(),s=Ax();function c(d,p){let h;if(Array.isArray(p)?h=p:typeof p=="string"&&t.isDeepKey(p)&&d?.[p]==null?h=s.toPath(p):h=[p],h.length===0)return!1;let g=d;for(let m=0;m<h.length;m++){const v=h[m];if((g==null||!Object.hasOwn(g,v))&&!((Array.isArray(g)||i.isArguments(g))&&n.isIndex(v)&&v<g.length))return!1;g=g[v]}return!0}e.has=c})(xm)),xm}var vw;function y5(){return vw||(vw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qx(),n=lz(),i=g5(),s=Ex(),c=m5();function d(p,h){switch(typeof p){case"object":{Object.is(p?.valueOf(),-0)&&(p="-0");break}case"number":{p=n.toKey(p);break}}return h=i.cloneDeep(h),function(g){const m=s.get(g,p);return m===void 0?c.has(g,p):h===void 0?m===void 0:t.isMatch(m,h)}}e.matchesProperty=d})(hm)),hm}var bw;function x5(){return bw||(bw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oz(),n=l5(),i=f5(),s=y5();function c(d){if(d==null)return t.identity;switch(typeof d){case"function":return d;case"object":return Array.isArray(d)&&d.length===2?s.matchesProperty(d[0],d[1]):i.matches(d);case"string":case"symbol":case"number":return n.property(d)}}e.iteratee=c})(tm)),tm}var Sw;function v5(){return Sw||(Sw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n5(),n=Oz(),i=o5(),s=x5();function c(d,p=n.identity){return i.isArrayLikeObject(d)?t.uniqBy(Array.from(d),s.iteratee(p)):[]}e.uniqBy=c})(Vh)),Vh}var Sm,jw;function b5(){return jw||(jw=1,Sm=v5().uniqBy),Sm}var S5=b5();const ww=ma(S5);function Wz(e,t,n){return t===!0?ww(e,n):typeof t=="function"?ww(e,t):e}var jm={exports:{}},wm={},Cm={exports:{}},km={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw;function j5(){if(Cw)return km;Cw=1;var e=Gl();function t(v,S){return v===S&&(v!==0||1/v===1/S)||v!==v&&S!==S}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,s=e.useEffect,c=e.useLayoutEffect,d=e.useDebugValue;function p(v,S){var j=S(),k=i({inst:{value:j,getSnapshot:S}}),w=k[0].inst,C=k[1];return c(function(){w.value=j,w.getSnapshot=S,h(w)&&C({inst:w})},[v,j,S]),s(function(){return h(w)&&C({inst:w}),v(function(){h(w)&&C({inst:w})})},[v]),d(j),j}function h(v){var S=v.getSnapshot;v=v.value;try{var j=S();return!n(v,j)}catch{return!0}}function g(v,S){return S()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:p;return km.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,km}var kw;function w5(){return kw||(kw=1,Cm.exports=j5()),Cm.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function C5(){if(zw)return wm;zw=1;var e=Gl(),t=w5();function n(g,m){return g===m&&(g!==0||1/g===1/m)||g!==g&&m!==m}var i=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,c=e.useRef,d=e.useEffect,p=e.useMemo,h=e.useDebugValue;return wm.useSyncExternalStoreWithSelector=function(g,m,v,S,j){var k=c(null);if(k.current===null){var w={hasValue:!1,value:null};k.current=w}else w=k.current;k=p(function(){function _(P){if(!E){if(E=!0,A=P,P=S(P),j!==void 0&&w.hasValue){var D=w.value;if(j(D,P))return T=D}return T=P}if(D=T,i(A,P))return D;var I=S(P);return j!==void 0&&j(D,I)?(A=P,D):(A=P,T=I)}var E=!1,A,T,O=v===void 0?null:v;return[function(){return _(m())},O===null?void 0:function(){return _(O())}]},[m,v,S,j]);var C=s(g,k[0],k[1]);return d(function(){w.hasValue=!0,w.value=C},[C]),h(C),C},wm}var _w;function k5(){return _w||(_w=1,jm.exports=C5()),jm.exports}var z5=k5(),Ux=x.createContext(null),_5=e=>e,rr=()=>{var e=x.useContext(Ux);return e?e.store.dispatch:_5},Nd=()=>{},T5=()=>Nd,A5=(e,t)=>e===t;function Ie(e){var t=x.useContext(Ux);return z5.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:T5,t?t.store.getState:Nd,t?t.store.getState:Nd,t?e:Nd,A5)}function E5(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function O5(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function M5(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${t}[${n}]`)}}var Tw=e=>Array.isArray(e)?e:[e];function D5(e){const t=Array.isArray(e[0])?e[0]:e;return M5(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function R5(e,t){const n=[],{length:i}=e;for(let s=0;s<i;s++)n.push(e[s].apply(null,t));return n}var P5=class{constructor(e){this.value=e}deref(){return this.value}},$5=typeof WeakRef<"u"?WeakRef:P5,N5=0,Aw=1;function gd(){return{s:N5,v:void 0,o:null,p:null}}function Bz(e,t={}){let n=gd();const{resultEqualityCheck:i}=t;let s,c=0;function d(){let p=n;const{length:h}=arguments;for(let v=0,S=h;v<S;v++){const j=arguments[v];if(typeof j=="function"||typeof j=="object"&&j!==null){let k=p.o;k===null&&(p.o=k=new WeakMap);const w=k.get(j);w===void 0?(p=gd(),k.set(j,p)):p=w}else{let k=p.p;k===null&&(p.p=k=new Map);const w=k.get(j);w===void 0?(p=gd(),k.set(j,p)):p=w}}const g=p;let m;if(p.s===Aw)m=p.v;else if(m=e.apply(null,arguments),c++,i){const v=s?.deref?.()??s;v!=null&&i(v,m)&&(m=v,c!==0&&c--),s=typeof m=="object"&&m!==null||typeof m=="function"?new $5(m):m}return g.s=Aw,g.v=m,m}return d.clearCache=()=>{n=gd(),d.resetResultsCount()},d.resultsCount=()=>c,d.resetResultsCount=()=>{c=0},d}function L5(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,i=(...s)=>{let c=0,d=0,p,h={},g=s.pop();typeof g=="object"&&(h=g,g=s.pop()),E5(g,`createSelector expects an output function after the inputs, but received: [${typeof g}]`);const m={...n,...h},{memoize:v,memoizeOptions:S=[],argsMemoize:j=Bz,argsMemoizeOptions:k=[]}=m,w=Tw(S),C=Tw(k),_=D5(s),E=v(function(){return c++,g.apply(null,arguments)},...w),A=j(function(){d++;const O=R5(_,arguments);return p=E.apply(null,O),p},...C);return Object.assign(A,{resultFunc:g,memoizedResultFunc:E,dependencies:_,dependencyRecomputations:()=>d,resetDependencyRecomputations:()=>{d=0},lastResult:()=>p,recomputations:()=>c,resetRecomputations:()=>{c=0},memoize:v,argsMemoize:j})};return Object.assign(i,{withTypes:()=>i}),i}var oe=L5(Bz),W5=Object.assign((e,t=oe)=>{O5(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),i=n.map(c=>e[c]);return t(i,(...c)=>c.reduce((d,p,h)=>(d[n[h]]=p,d),{}))},{withTypes:()=>W5}),zm={},_m={},Tm={},Ew;function B5(){return Ew||(Ew=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,s,c)=>{if(i!==s){const d=t(i),p=t(s);if(d===p&&d===0){if(i<s)return c==="desc"?1:-1;if(i>s)return c==="desc"?-1:1}return c==="desc"?p-d:d-p}return 0};e.compareValues=n})(Tm)),Tm}var Am={},Em={},Ow;function Iz(){return Ow||(Ow=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Em)),Em}var Mw;function I5(){return Mw||(Mw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iz(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function s(c,d){return Array.isArray(c)?!1:typeof c=="number"||typeof c=="boolean"||c==null||t.isSymbol(c)?!0:typeof c=="string"&&(i.test(c)||!n.test(c))||d!=null&&Object.hasOwn(d,c)}e.isKey=s})(Am)),Am}var Dw;function q5(){return Dw||(Dw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B5(),n=I5(),i=Ax();function s(c,d,p,h){if(c==null)return[];p=h?void 0:p,Array.isArray(c)||(c=Object.values(c)),Array.isArray(d)||(d=d==null?[null]:[d]),d.length===0&&(d=[null]),Array.isArray(p)||(p=p==null?[]:[p]),p=p.map(j=>String(j));const g=(j,k)=>{let w=j;for(let C=0;C<k.length&&w!=null;++C)w=w[k[C]];return w},m=(j,k)=>k==null||j==null?k:typeof j=="object"&&"key"in j?Object.hasOwn(k,j.key)?k[j.key]:g(k,j.path):typeof j=="function"?j(k):Array.isArray(j)?g(k,j):typeof k=="object"?k[j]:k,v=d.map(j=>(Array.isArray(j)&&j.length===1&&(j=j[0]),j==null||typeof j=="function"||Array.isArray(j)||n.isKey(j)?j:{key:j,path:i.toPath(j)}));return c.map(j=>({original:j,criteria:v.map(k=>m(k,j))})).slice().sort((j,k)=>{for(let w=0;w<v.length;w++){const C=t.compareValues(j.criteria[w],k.criteria[w],p[w]);if(C!==0)return C}return 0}).map(j=>j.original)}e.orderBy=s})(_m)),_m}var Om={},Rw;function U5(){return Rw||(Rw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i=1){const s=[],c=Math.floor(i),d=(p,h)=>{for(let g=0;g<p.length;g++){const m=p[g];Array.isArray(m)&&h<c?d(m,h+1):s.push(m)}};return d(n,0),s}e.flatten=t})(Om)),Om}var Mm={},Pw;function qz(){return Pw||(Pw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lz(),n=Ix(),i=Mz(),s=Rz();function c(d,p,h){return i.isObject(h)&&(typeof p=="number"&&n.isArrayLike(h)&&t.isIndex(p)&&p<h.length||typeof p=="string"&&p in h)?s.eq(h[p],d):!1}e.isIterateeCall=c})(Mm)),Mm}var $w;function H5(){return $w||($w=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q5(),n=U5(),i=qz();function s(c,...d){const p=d.length;return p>1&&i.isIterateeCall(c,d[0],d[1])?d=[]:p>2&&i.isIterateeCall(d[0],d[1],d[2])&&(d=[d[0]]),t.orderBy(c,n.flatten(d),["asc"])}e.sortBy=s})(zm)),zm}var Dm,Nw;function F5(){return Nw||(Nw=1,Dm=H5().sortBy),Dm}var K5=F5();const Hf=ma(K5);var Uz=e=>e.legend.settings,Y5=e=>e.legend.size,V5=e=>e.legend.payload,G5=oe([V5,Uz],(e,t)=>{var{itemSorter:n}=t,i=e.flat(1);return n?Hf(i,n):i});function X5(){return Ie(G5)}var hd=1;function Hz(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),i=x.useCallback(s=>{if(s!=null){var c=s.getBoundingClientRect(),d={height:c.height,left:c.left,top:c.top,width:c.width};(Math.abs(d.height-t.height)>hd||Math.abs(d.left-t.left)>hd||Math.abs(d.top-t.top)>hd||Math.abs(d.width-t.width)>hd)&&n({height:d.height,left:d.left,top:d.top,width:d.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,i]}function Br(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Q5=typeof Symbol=="function"&&Symbol.observable||"@@observable",Lw=Q5,Rm=()=>Math.random().toString(36).substring(7).split("").join("."),Z5={INIT:`@@redux/INIT${Rm()}`,REPLACE:`@@redux/REPLACE${Rm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Rm()}`},Zd=Z5;function Hx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Fz(e,t,n){if(typeof e!="function")throw new Error(Br(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Br(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Br(1));return n(Fz)(e,t)}let i=e,s=t,c=new Map,d=c,p=0,h=!1;function g(){d===c&&(d=new Map,c.forEach((C,_)=>{d.set(_,C)}))}function m(){if(h)throw new Error(Br(3));return s}function v(C){if(typeof C!="function")throw new Error(Br(4));if(h)throw new Error(Br(5));let _=!0;g();const E=p++;return d.set(E,C),function(){if(_){if(h)throw new Error(Br(6));_=!1,g(),d.delete(E),c=null}}}function S(C){if(!Hx(C))throw new Error(Br(7));if(typeof C.type>"u")throw new Error(Br(8));if(typeof C.type!="string")throw new Error(Br(17));if(h)throw new Error(Br(9));try{h=!0,s=i(s,C)}finally{h=!1}return(c=d).forEach(E=>{E()}),C}function j(C){if(typeof C!="function")throw new Error(Br(10));i=C,S({type:Zd.REPLACE})}function k(){const C=v;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Br(11));function E(){const T=_;T.next&&T.next(m())}return E(),{unsubscribe:C(E)}},[Lw](){return this}}}return S({type:Zd.INIT}),{dispatch:S,subscribe:v,getState:m,replaceReducer:j,[Lw]:k}}function J5(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Zd.INIT})>"u")throw new Error(Br(12));if(typeof n(void 0,{type:Zd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Br(13))})}function Kz(e){const t=Object.keys(e),n={};for(let c=0;c<t.length;c++){const d=t[c];typeof e[d]=="function"&&(n[d]=e[d])}const i=Object.keys(n);let s;try{J5(n)}catch(c){s=c}return function(d={},p){if(s)throw s;let h=!1;const g={};for(let m=0;m<i.length;m++){const v=i[m],S=n[v],j=d[v],k=S(j,p);if(typeof k>"u")throw p&&p.type,new Error(Br(14));g[v]=k,h=h||k!==j}return h=h||i.length!==Object.keys(d).length,h?g:d}}function Jd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function e$(...e){return t=>(n,i)=>{const s=t(n,i);let c=()=>{throw new Error(Br(15))};const d={getState:s.getState,dispatch:(h,...g)=>c(h,...g)},p=e.map(h=>h(d));return c=Jd(...p)(s.dispatch),{...s,dispatch:c}}}function Yz(e){return Hx(e)&&"type"in e&&typeof e.type=="string"}var Vz=Symbol.for("immer-nothing"),Ww=Symbol.for("immer-draftable"),En=Symbol.for("immer-state");function ci(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ll=Object.getPrototypeOf;function Io(e){return!!e&&!!e[En]}function fa(e){return e?Gz(e)||Array.isArray(e)||!!e[Ww]||!!e.constructor?.[Ww]||$c(e)||Kf(e):!1}var t$=Object.prototype.constructor.toString();function Gz(e){if(!e||typeof e!="object")return!1;const t=Ll(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===t$}function ef(e,t){Ff(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,i)=>t(i,n,e))}function Ff(e){const t=e[En];return t?t.type_:Array.isArray(e)?1:$c(e)?2:Kf(e)?3:0}function Ay(e,t){return Ff(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Xz(e,t,n){const i=Ff(e);i===2?e.set(t,n):i===3?e.add(n):e[t]=n}function r$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function $c(e){return e instanceof Map}function Kf(e){return e instanceof Set}function Ao(e){return e.copy_||e.base_}function Ey(e,t){if($c(e))return new Map(e);if(Kf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Gz(e);if(t===!0||t==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(e);delete i[En];let s=Reflect.ownKeys(i);for(let c=0;c<s.length;c++){const d=s[c],p=i[d];p.writable===!1&&(p.writable=!0,p.configurable=!0),(p.get||p.set)&&(i[d]={configurable:!0,writable:!0,enumerable:p.enumerable,value:e[d]})}return Object.create(Ll(e),i)}else{const i=Ll(e);if(i!==null&&n)return{...e};const s=Object.create(i);return Object.assign(s,e)}}function Fx(e,t=!1){return Yf(e)||Io(e)||!fa(e)||(Ff(e)>1&&Object.defineProperties(e,{set:{value:md},add:{value:md},clear:{value:md},delete:{value:md}}),Object.freeze(e),t&&Object.values(e).forEach(n=>Fx(n,!0))),e}function md(){ci(2)}function Yf(e){return Object.isFrozen(e)}var n$={};function qo(e){const t=n$[e];return t||ci(0,e),t}var bc;function Qz(){return bc}function i$(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Bw(e,t){t&&(qo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Oy(e){My(e),e.drafts_.forEach(a$),e.drafts_=null}function My(e){e===bc&&(bc=e.parent_)}function Iw(e){return bc=i$(bc,e)}function a$(e){const t=e[En];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function qw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[En].modified_&&(Oy(t),ci(4)),fa(e)&&(e=tf(t,e),t.parent_||rf(t,e)),t.patches_&&qo("Patches").generateReplacementPatches_(n[En].base_,e,t.patches_,t.inversePatches_)):e=tf(t,n,[]),Oy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Vz?e:void 0}function tf(e,t,n){if(Yf(t))return t;const i=t[En];if(!i)return ef(t,(s,c)=>Uw(e,i,t,s,c,n)),t;if(i.scope_!==e)return t;if(!i.modified_)return rf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let c=s,d=!1;i.type_===3&&(c=new Set(s),s.clear(),d=!0),ef(c,(p,h)=>Uw(e,i,s,p,h,n,d)),rf(e,s,!1),n&&e.patches_&&qo("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function Uw(e,t,n,i,s,c,d){if(Io(s)){const p=c&&t&&t.type_!==3&&!Ay(t.assigned_,i)?c.concat(i):void 0,h=tf(e,s,p);if(Xz(n,i,h),Io(h))e.canAutoFreeze_=!1;else return}else d&&n.add(s);if(fa(s)&&!Yf(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;tf(e,s),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&($c(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&rf(e,s)}}function rf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Fx(t,n)}function o$(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:Qz(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=i,c=Kx;n&&(s=[i],c=Sc);const{revoke:d,proxy:p}=Proxy.revocable(s,c);return i.draft_=p,i.revoke_=d,p}var Kx={get(e,t){if(t===En)return e;const n=Ao(e);if(!Ay(n,t))return l$(e,n,t);const i=n[t];return e.finalized_||!fa(i)?i:i===Pm(e.base_,t)?($m(e),e.copy_[t]=Ry(i,e)):i},has(e,t){return t in Ao(e)},ownKeys(e){return Reflect.ownKeys(Ao(e))},set(e,t,n){const i=Zz(Ao(e),t);if(i?.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const s=Pm(Ao(e),t),c=s?.[En];if(c&&c.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(r$(n,s)&&(n!==void 0||Ay(e.base_,t)))return!0;$m(e),Dy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Pm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,$m(e),Dy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ao(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:i.enumerable,value:n[t]}},defineProperty(){ci(11)},getPrototypeOf(e){return Ll(e.base_)},setPrototypeOf(){ci(12)}},Sc={};ef(Kx,(e,t)=>{Sc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Sc.deleteProperty=function(e,t){return Sc.set.call(this,e,t,void 0)};Sc.set=function(e,t,n){return Kx.set.call(this,e[0],t,n,e[0])};function Pm(e,t){const n=e[En];return(n?Ao(n):e)[t]}function l$(e,t,n){const i=Zz(t,n);return i?"value"in i?i.value:i.get?.call(e.draft_):void 0}function Zz(e,t){if(!(t in e))return;let n=Ll(e);for(;n;){const i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Ll(n)}}function Dy(e){e.modified_||(e.modified_=!0,e.parent_&&Dy(e.parent_))}function $m(e){e.copy_||(e.copy_=Ey(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var s$=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,i)=>{if(typeof t=="function"&&typeof n!="function"){const c=n;n=t;const d=this;return function(h=c,...g){return d.produce(h,m=>n.call(this,m,...g))}}typeof n!="function"&&ci(6),i!==void 0&&typeof i!="function"&&ci(7);let s;if(fa(t)){const c=Iw(this),d=Ry(t,void 0);let p=!0;try{s=n(d),p=!1}finally{p?Oy(c):My(c)}return Bw(c,i),qw(s,c)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===Vz&&(s=void 0),this.autoFreeze_&&Fx(s,!0),i){const c=[],d=[];qo("Patches").generateReplacementPatches_(t,s,c,d),i(c,d)}return s}else ci(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(d,...p)=>this.produceWithPatches(d,h=>t(h,...p));let i,s;return[this.produce(t,n,(d,p)=>{i=d,s=p}),i,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){fa(e)||ci(8),Io(e)&&(e=sa(e));const t=Iw(this),n=Ry(e,void 0);return n[En].isManual_=!0,My(t),n}finishDraft(e,t){const n=e&&e[En];(!n||!n.isManual_)&&ci(9);const{scope_:i}=n;return Bw(i,t),qw(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const i=qo("Patches").applyPatches_;return Io(e)?i(e,t):this.produce(e,s=>i(s,t))}};function Ry(e,t){const n=$c(e)?qo("MapSet").proxyMap_(e,t):Kf(e)?qo("MapSet").proxySet_(e,t):o$(e,t);return(t?t.scope_:Qz()).drafts_.push(n),n}function sa(e){return Io(e)||ci(10,e),Jz(e)}function Jz(e){if(!fa(e)||Yf(e))return e;const t=e[En];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ey(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Ey(e,!0);return ef(n,(i,s)=>{Xz(n,i,Jz(s))}),t&&(t.finalized_=!1),n}var c$=new s$,e_=c$.produce;function t_(e){return({dispatch:n,getState:i})=>s=>c=>typeof c=="function"?c(n,i,e):s(c)}var u$=t_(),d$=t_,f$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Jd:Jd.apply(null,arguments)};function Qn(e,t){function n(...i){if(t){let s=t(...i);if(!s)throw new Error(Tn(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:i[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=i=>Yz(i)&&i.type===e,n}var r_=class dc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,dc.prototype)}static get[Symbol.species](){return dc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new dc(...t[0].concat(this)):new dc(...t.concat(this))}};function Hw(e){return fa(e)?e_(e,()=>{}):e}function yd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function p$(e){return typeof e=="boolean"}var g$=()=>function(t){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:s=!0,actionCreatorCheck:c=!0}=t??{};let d=new r_;return n&&(p$(n)?d.push(u$):d.push(d$(n.extraArgument))),d},h$="RTK_autoBatch",Fw=e=>t=>{setTimeout(t,e)},m$=(e={type:"raf"})=>t=>(...n)=>{const i=t(...n);let s=!0,c=!1,d=!1;const p=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Fw(10):e.type==="callback"?e.queueNotification:Fw(e.timeout),g=()=>{d=!1,c&&(c=!1,p.forEach(m=>m()))};return Object.assign({},i,{subscribe(m){const v=()=>s&&m(),S=i.subscribe(v);return p.add(m),()=>{S(),p.delete(m)}},dispatch(m){try{return s=!m?.meta?.[h$],c=!s,c&&(d||(d=!0,h(g))),i.dispatch(m)}finally{s=!0}}})},y$=e=>function(n){const{autoBatch:i=!0}=n??{};let s=new r_(e);return i&&s.push(m$(typeof i=="object"?i:void 0)),s};function x$(e){const t=g$(),{reducer:n=void 0,middleware:i,devTools:s=!0,preloadedState:c=void 0,enhancers:d=void 0}=e||{};let p;if(typeof n=="function")p=n;else if(Hx(n))p=Kz(n);else throw new Error(Tn(1));let h;typeof i=="function"?h=i(t):h=t();let g=Jd;s&&(g=f$({trace:!1,...typeof s=="object"&&s}));const m=e$(...h),v=y$(m);let S=typeof d=="function"?d(v):v();const j=g(...S);return Fz(p,c,j)}function n_(e){const t={},n=[];let i;const s={addCase(c,d){const p=typeof c=="string"?c:c.type;if(!p)throw new Error(Tn(28));if(p in t)throw new Error(Tn(29));return t[p]=d,s},addAsyncThunk(c,d){return d.pending&&(t[c.pending.type]=d.pending),d.rejected&&(t[c.rejected.type]=d.rejected),d.fulfilled&&(t[c.fulfilled.type]=d.fulfilled),d.settled&&n.push({matcher:c.settled,reducer:d.settled}),s},addMatcher(c,d){return n.push({matcher:c,reducer:d}),s},addDefaultCase(c){return i=c,s}};return e(s),[t,n,i]}function v$(e){return typeof e=="function"}function b$(e,t){let[n,i,s]=n_(t),c;if(v$(e))c=()=>Hw(e());else{const p=Hw(e);c=()=>p}function d(p=c(),h){let g=[n[h.type],...i.filter(({matcher:m})=>m(h)).map(({reducer:m})=>m)];return g.filter(m=>!!m).length===0&&(g=[s]),g.reduce((m,v)=>{if(v)if(Io(m)){const j=v(m,h);return j===void 0?m:j}else{if(fa(m))return e_(m,S=>v(S,h));{const S=v(m,h);if(S===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return m},p)}return d.getInitialState=c,d}var S$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",j$=(e=21)=>{let t="",n=e;for(;n--;)t+=S$[Math.random()*64|0];return t},w$=Symbol.for("rtk-slice-createasyncthunk");function C$(e,t){return`${e}/${t}`}function k$({creators:e}={}){const t=e?.asyncThunk?.[w$];return function(i){const{name:s,reducerPath:c=s}=i;if(!s)throw new Error(Tn(11));const d=(typeof i.reducers=="function"?i.reducers(_$()):i.reducers)||{},p=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(A,T){const O=typeof A=="string"?A:A.type;if(!O)throw new Error(Tn(12));if(O in h.sliceCaseReducersByType)throw new Error(Tn(13));return h.sliceCaseReducersByType[O]=T,g},addMatcher(A,T){return h.sliceMatchers.push({matcher:A,reducer:T}),g},exposeAction(A,T){return h.actionCreators[A]=T,g},exposeCaseReducer(A,T){return h.sliceCaseReducersByName[A]=T,g}};p.forEach(A=>{const T=d[A],O={reducerName:A,type:C$(s,A),createNotation:typeof i.reducers=="function"};A$(T)?O$(O,T,g,t):T$(O,T,g)});function m(){const[A={},T=[],O=void 0]=typeof i.extraReducers=="function"?n_(i.extraReducers):[i.extraReducers],P={...A,...h.sliceCaseReducersByType};return b$(i.initialState,D=>{for(let I in P)D.addCase(I,P[I]);for(let I of h.sliceMatchers)D.addMatcher(I.matcher,I.reducer);for(let I of T)D.addMatcher(I.matcher,I.reducer);O&&D.addDefaultCase(O)})}const v=A=>A,S=new Map,j=new WeakMap;let k;function w(A,T){return k||(k=m()),k(A,T)}function C(){return k||(k=m()),k.getInitialState()}function _(A,T=!1){function O(D){let I=D[A];return typeof I>"u"&&T&&(I=yd(j,O,C)),I}function P(D=v){const I=yd(S,T,()=>new WeakMap);return yd(I,D,()=>{const Q={};for(const[fe,ce]of Object.entries(i.selectors??{}))Q[fe]=z$(ce,D,()=>yd(j,D,C),T);return Q})}return{reducerPath:A,getSelectors:P,get selectors(){return P(O)},selectSlice:O}}const E={name:s,reducer:w,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:C,..._(c),injectInto(A,{reducerPath:T,...O}={}){const P=T??c;return A.inject({reducerPath:P,reducer:w},O),{...E,..._(P,!0)}}};return E}}function z$(e,t,n,i){function s(c,...d){let p=t(c);return typeof p>"u"&&i&&(p=n()),e(p,...d)}return s.unwrapped=e,s}var Mn=k$();function _$(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function T$({type:e,reducerName:t,createNotation:n},i,s){let c,d;if("reducer"in i){if(n&&!E$(i))throw new Error(Tn(17));c=i.reducer,d=i.prepare}else c=i;s.addCase(e,c).exposeCaseReducer(t,c).exposeAction(t,d?Qn(e,d):Qn(e))}function A$(e){return e._reducerDefinitionType==="asyncThunk"}function E$(e){return e._reducerDefinitionType==="reducerWithPrepare"}function O$({type:e,reducerName:t},n,i,s){if(!s)throw new Error(Tn(18));const{payloadCreator:c,fulfilled:d,pending:p,rejected:h,settled:g,options:m}=n,v=s(e,c,m);i.exposeAction(t,v),d&&i.addCase(v.fulfilled,d),p&&i.addCase(v.pending,p),h&&i.addCase(v.rejected,h),g&&i.addMatcher(v.settled,g),i.exposeCaseReducer(t,{fulfilled:d||xd,pending:p||xd,rejected:h||xd,settled:g||xd})}function xd(){}var M$="task",i_="listener",a_="completed",Yx="cancelled",D$=`task-${Yx}`,R$=`task-${a_}`,Py=`${i_}-${Yx}`,P$=`${i_}-${a_}`,Vf=class{constructor(e){this.code=e,this.message=`${M$} ${Yx} (reason: ${e})`}name="TaskAbortError";message},Vx=(e,t)=>{if(typeof e!="function")throw new TypeError(Tn(32))},nf=()=>{},o_=(e,t=nf)=>(e.catch(t),e),l_=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),$o=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},No=e=>{if(e.aborted){const{reason:t}=e;throw new Vf(t)}};function s_(e,t){let n=nf;return new Promise((i,s)=>{const c=()=>s(new Vf(e.reason));if(e.aborted){c();return}n=l_(e,c),t.finally(()=>n()).then(i,s)}).finally(()=>{n=nf})}var $$=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Vf?"cancelled":"rejected",error:n}}finally{t?.()}},af=e=>t=>o_(s_(e,t).then(n=>(No(e),n))),c_=e=>{const t=af(e);return n=>t(new Promise(i=>setTimeout(i,n)))},{assign:Pl}=Object,Kw={},Gf="listenerMiddleware",N$=(e,t)=>{const n=i=>l_(e,()=>$o(i,e.reason));return(i,s)=>{Vx(i);const c=new AbortController;n(c);const d=$$(async()=>{No(e),No(c.signal);const p=await i({pause:af(c.signal),delay:c_(c.signal),signal:c.signal});return No(c.signal),p},()=>$o(c,R$));return s?.autoJoin&&t.push(d.catch(nf)),{result:af(e)(d),cancel(){$o(c,D$)}}}},L$=(e,t)=>{const n=async(i,s)=>{No(t);let c=()=>{};const p=[new Promise((h,g)=>{let m=e({predicate:i,effect:(v,S)=>{S.unsubscribe(),h([v,S.getState(),S.getOriginalState()])}});c=()=>{m(),g()}})];s!=null&&p.push(new Promise(h=>setTimeout(h,s,null)));try{const h=await s_(t,Promise.race(p));return No(t),h}finally{c()}};return(i,s)=>o_(n(i,s))},u_=e=>{let{type:t,actionCreator:n,matcher:i,predicate:s,effect:c}=e;if(t)s=Qn(t).match;else if(n)t=n.type,s=n.match;else if(i)s=i;else if(!s)throw new Error(Tn(21));return Vx(c),{predicate:s,type:t,effect:c}},d_=Pl(e=>{const{type:t,predicate:n,effect:i}=u_(e);return{id:j$(),effect:i,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Tn(22))}}},{withTypes:()=>d_}),Yw=(e,t)=>{const{type:n,effect:i,predicate:s}=u_(t);return Array.from(e.values()).find(c=>(typeof n=="string"?c.type===n:c.predicate===s)&&c.effect===i)},$y=e=>{e.pending.forEach(t=>{$o(t,Py)})},W$=e=>()=>{e.forEach($y),e.clear()},Vw=(e,t,n)=>{try{e(t,n)}catch(i){setTimeout(()=>{throw i},0)}},f_=Pl(Qn(`${Gf}/add`),{withTypes:()=>f_}),B$=Qn(`${Gf}/removeAll`),p_=Pl(Qn(`${Gf}/remove`),{withTypes:()=>p_}),I$=(...e)=>{console.error(`${Gf}/error`,...e)},Nc=(e={})=>{const t=new Map,{extra:n,onError:i=I$}=e;Vx(i);const s=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),v=>{m.unsubscribe(),v?.cancelActive&&$y(m)}),c=m=>{const v=Yw(t,m)??d_(m);return s(v)};Pl(c,{withTypes:()=>c});const d=m=>{const v=Yw(t,m);return v&&(v.unsubscribe(),m.cancelActive&&$y(v)),!!v};Pl(d,{withTypes:()=>d});const p=async(m,v,S,j)=>{const k=new AbortController,w=L$(c,k.signal),C=[];try{m.pending.add(k),await Promise.resolve(m.effect(v,Pl({},S,{getOriginalState:j,condition:(_,E)=>w(_,E).then(Boolean),take:w,delay:c_(k.signal),pause:af(k.signal),extra:n,signal:k.signal,fork:N$(k.signal,C),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((_,E,A)=>{_!==k&&($o(_,Py),A.delete(_))})},cancel:()=>{$o(k,Py),m.pending.delete(k)},throwIfCancelled:()=>{No(k.signal)}})))}catch(_){_ instanceof Vf||Vw(i,_,{raisedBy:"effect"})}finally{await Promise.all(C),$o(k,P$),m.pending.delete(k)}},h=W$(t);return{middleware:m=>v=>S=>{if(!Yz(S))return v(S);if(f_.match(S))return c(S.payload);if(B$.match(S)){h();return}if(p_.match(S))return d(S.payload);let j=m.getState();const k=()=>{if(j===Kw)throw new Error(Tn(23));return j};let w;try{if(w=v(S),t.size>0){const C=m.getState(),_=Array.from(t.values());for(const E of _){let A=!1;try{A=E.predicate(S,C,j)}catch(T){A=!1,Vw(i,T,{raisedBy:"predicate"})}A&&p(E,S,m,k)}}}finally{j=Kw}return w},startListening:c,stopListening:d,clearListeners:h}};function Tn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var q$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},g_=Mn({name:"chartLayout",initialState:q$,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,i,s,c;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(i=t.payload.right)!==null&&i!==void 0?i:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(c=t.payload.left)!==null&&c!==void 0?c:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:U$,setLayout:H$,setChartSize:F$,setScale:K$}=g_.actions,Y$=g_.reducer;function Gw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Xw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(n),!0).forEach(function(i){V$(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gw(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function V$(e,t,n){return(t=G$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G$(e){var t=X$(e,"string");return typeof t=="symbol"?t:t+""}function X$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var of=Math.PI/180,Q$=e=>e*180/Math.PI,xr=(e,t,n,i)=>({x:e+Math.cos(-of*i)*n,y:t+Math.sin(-of*i)*n}),h_=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},Z$=(e,t)=>{var{x:n,y:i}=e,{x:s,y:c}=t;return Math.sqrt((n-s)**2+(i-c)**2)},J$=(e,t)=>{var{x:n,y:i}=e,{cx:s,cy:c}=t,d=Z$({x:n,y:i},{x:s,y:c});if(d<=0)return{radius:d,angle:0};var p=(n-s)/d,h=Math.acos(p);return i>c&&(h=2*Math.PI-h),{radius:d,angle:Q$(h),angleInRadian:h}},e4=e=>{var{startAngle:t,endAngle:n}=e,i=Math.floor(t/360),s=Math.floor(n/360),c=Math.min(i,s);return{startAngle:t-c*360,endAngle:n-c*360}},t4=(e,t)=>{var{startAngle:n,endAngle:i}=t,s=Math.floor(n/360),c=Math.floor(i/360),d=Math.min(s,c);return e+d*360},r4=(e,t)=>{var{x:n,y:i}=e,{radius:s,angle:c}=J$({x:n,y:i},t),{innerRadius:d,outerRadius:p}=t;if(s<d||s>p||s===0)return null;var{startAngle:h,endAngle:g}=e4(t),m=c,v;if(h<=g){for(;m>g;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=g}else{for(;m>h;)m-=360;for(;m<g;)m+=360;v=m>=g&&m<=h}return v?Xw(Xw({},t),{},{radius:s,angle:t4(m,t)}):null};function m_(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(n),!0).forEach(function(i){n4(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qw(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function n4(e,t,n){return(t=i4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i4(e){var t=a4(e,"string");return typeof t=="symbol"?t:t+""}function a4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qt(e,t,n){return Zt(e)||Zt(t)?n:Ei(t)?Bo(e,t,n):typeof t=="function"?t(e):n}var o4=(e,t,n,i,s)=>{var c,d=-1,p=(c=t?.length)!==null&&c!==void 0?c:0;if(p<=1||e==null)return 0;if(i==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var h=0;h<p;h++){var g=h>0?n[h-1].coordinate:n[p-1].coordinate,m=n[h].coordinate,v=h>=p-1?n[0].coordinate:n[h+1].coordinate,S=void 0;if(Er(m-g)!==Er(v-m)){var j=[];if(Er(v-m)===Er(s[1]-s[0])){S=v;var k=m+s[1]-s[0];j[0]=Math.min(k,(k+g)/2),j[1]=Math.max(k,(k+g)/2)}else{S=g;var w=v+s[1]-s[0];j[0]=Math.min(m,(w+m)/2),j[1]=Math.max(m,(w+m)/2)}var C=[Math.min(m,(S+m)/2),Math.max(m,(S+m)/2)];if(e>C[0]&&e<=C[1]||e>=j[0]&&e<=j[1]){({index:d}=n[h]);break}}else{var _=Math.min(g,v),E=Math.max(g,v);if(e>(_+m)/2&&e<=(E+m)/2){({index:d}=n[h]);break}}}else if(t){for(var A=0;A<p;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<p-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===p-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:d}=t[A]);break}}return d},l4=(e,t,n)=>{if(t&&n){var{width:i,height:s}=n,{align:c,verticalAlign:d,layout:p}=t;if((p==="vertical"||p==="horizontal"&&d==="middle")&&c!=="center"&&Ke(e[c]))return Yn(Yn({},e),{},{[c]:e[c]+(i||0)});if((p==="horizontal"||p==="vertical"&&c==="center")&&d!=="middle"&&Ke(e[d]))return Yn(Yn({},e),{},{[d]:e[d]+(s||0)})}return e},io=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",y_=(e,t,n,i)=>{if(i)return e.map(p=>p.coordinate);var s,c,d=e.map(p=>(p.coordinate===t&&(s=!0),p.coordinate===n&&(c=!0),p.coordinate));return s||d.push(t),c||d.push(n),d},x_=(e,t,n)=>{if(!e)return null;var{duplicateDomain:i,type:s,range:c,scale:d,realScaleType:p,isCategorical:h,categoricalDomain:g,tickCount:m,ticks:v,niceTicks:S,axisType:j}=e;if(!d)return null;var k=p==="scaleBand"&&d.bandwidth?d.bandwidth()/2:2,w=s==="category"&&d.bandwidth?d.bandwidth()/k:0;if(w=j==="angleAxis"&&c&&c.length>=2?Er(c[0]-c[1])*2*w:w,v||S){var C=(v||S||[]).map((_,E)=>{var A=i?i.indexOf(_):_;return{coordinate:d(A)+w,value:_,offset:w,index:E}});return C.filter(_=>!An(_.coordinate))}return h&&g?g.map((_,E)=>({coordinate:d(_)+w,value:_,index:E,offset:w})):d.ticks&&m!=null?d.ticks(m).map((_,E)=>({coordinate:d(_)+w,value:_,offset:w,index:E})):d.domain().map((_,E)=>({coordinate:d(_)+w,value:i?i[_]:_,index:E,offset:w}))},Zw=1e-4,s4=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,i=e.range(),s=Math.min(i[0],i[1])-Zw,c=Math.max(i[0],i[1])+Zw,d=e(t[0]),p=e(t[n-1]);(d<s||d>c||p<s||p>c)&&e.domain([t[0],t[n-1]])}},c4=(e,t)=>{if(!t||t.length!==2||!Ke(t[0])||!Ke(t[1]))return e;var n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Ke(e[0])||e[0]<n)&&(s[0]=n),(!Ke(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},u4=e=>{var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,c=0,d=0;d<t;++d){var p=An(e[d][n][1])?e[d][n][0]:e[d][n][1];p>=0?(e[d][n][0]=s,e[d][n][1]=s+p,s=e[d][n][1]):(e[d][n][0]=c,e[d][n][1]=c+p,c=e[d][n][1])}},d4=e=>{var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,c=0;c<t;++c){var d=An(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=s,e[c][n][1]=s+d,s=e[c][n][1]):(e[c][n][0]=0,e[c][n][1]=0)}},f4={sign:u4,expand:IP,none:Nl,silhouette:qP,wiggle:UP,positive:d4},p4=(e,t,n)=>{var i=f4[n],s=BP().keys(t).value((c,d)=>+qt(c,d,0)).order(zy).offset(i);return s(e)};function g4(e){return e==null?void 0:String(e)}function Jw(e){var{axis:t,ticks:n,bandSize:i,entry:s,index:c,dataKey:d}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Zt(s[t.dataKey])){var p=cz(n,"value",s[t.dataKey]);if(p)return p.coordinate+i/2}return n[c]?n[c].coordinate+i/2:null}var h=qt(s,Zt(d)?t.dataKey:d);return Zt(h)?null:t.scale(h)}var eC=e=>{var{axis:t,ticks:n,offset:i,bandSize:s,entry:c,index:d}=e;if(t.type==="category")return n[d]?n[d].coordinate+i:null;var p=qt(c,t.dataKey,t.scale.domain()[d]);return Zt(p)?null:t.scale(p)-s/2+i},h4=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},m4=e=>{var t=e.flat(2).filter(Ke);return[Math.min(...t),Math.max(...t)]},y4=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],x4=(e,t,n)=>{if(e!=null)return y4(Object.keys(e).reduce((i,s)=>{var c=e[s],{stackedData:d}=c,p=d.reduce((h,g)=>{var m=m_(g,t,n),v=m4(m);return[Math.min(h[0],v[0]),Math.max(h[1],v[1])]},[1/0,-1/0]);return[Math.min(p[0],i[0]),Math.max(p[1],i[1])]},[1/0,-1/0]))},tC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jc=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&t&&t.length>=2){for(var s=Hf(t,m=>m.coordinate),c=1/0,d=1,p=s.length;d<p;d++){var h=s[d],g=s[d-1];c=Math.min((h.coordinate||0)-(g.coordinate||0),c)}return c===1/0?0:c}return n?void 0:0};function nC(e){var{tooltipEntrySettings:t,dataKey:n,payload:i,value:s,name:c}=e;return Yn(Yn({},t),{},{dataKey:n,payload:i,value:s,name:c})}function Jl(e,t){if(e)return String(e);if(typeof t=="string")return t}function v4(e,t,n,i,s){if(n==="horizontal"||n==="vertical"){var c=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return c?{x:e,y:t}:null}return i?r4({x:e,y:t},i):null}var b4=(e,t,n,i)=>{var s=t.find(g=>g&&g.index===n);if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var c=s.coordinate,{radius:d}=i;return Yn(Yn(Yn({},i),xr(i.cx,i.cy,d,c)),{},{angle:c,radius:d})}var p=s.coordinate,{angle:h}=i;return Yn(Yn(Yn({},i),xr(i.cx,i.cy,p,h)),{},{angle:h,radius:p})}return{x:0,y:0}},S4=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,ya=e=>e.layout.width,xa=e=>e.layout.height,j4=e=>e.layout.scale,v_=e=>e.layout.margin,Xf=oe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Qf=oe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),b_="data-recharts-item-index",S_="data-recharts-item-data-key",Lc=60;function iC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function vd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(n),!0).forEach(function(i){w4(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function w4(e,t,n){return(t=C4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C4(e){var t=k4(e,"string");return typeof t=="symbol"?t:t+""}function k4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z4=e=>e.brush.height;function _4(e){var t=Qf(e);return t.reduce((n,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var s=typeof i.width=="number"?i.width:Lc;return n+s}return n},0)}function T4(e){var t=Qf(e);return t.reduce((n,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var s=typeof i.width=="number"?i.width:Lc;return n+s}return n},0)}function A4(e){var t=Xf(e);return t.reduce((n,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?n+i.height:n,0)}function E4(e){var t=Xf(e);return t.reduce((n,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?n+i.height:n,0)}var kr=oe([ya,xa,v_,z4,_4,T4,A4,E4,Uz,Y5],(e,t,n,i,s,c,d,p,h,g)=>{var m={left:(n.left||0)+s,right:(n.right||0)+c},v={top:(n.top||0)+d,bottom:(n.bottom||0)+p},S=vd(vd({},v),m),j=S.bottom;S.bottom+=i,S=l4(S,h,g);var k=e-S.left-S.right,w=t-S.top-S.bottom;return vd(vd({brushBottom:j},S),{},{width:Math.max(k,0),height:Math.max(w,0)})}),O4=oe(kr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Gx=oe(ya,xa,(e,t)=>({x:0,y:0,width:e,height:t})),M4=x.createContext(null),dn=()=>x.useContext(M4)!=null,Zf=e=>e.brush,Jf=oe([Zf,kr,v_],(e,t,n)=>({height:e.height,x:Ke(e.x)?e.x:t.left,y:Ke(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Ke(e.width)?e.width:t.width})),Xx=()=>{var e,t=dn(),n=Ie(O4),i=Ie(Jf),s=(e=Ie(Zf))===null||e===void 0?void 0:e.padding;return!t||!i||!s?n:{width:i.width-s.left-s.right,height:i.height-s.top-s.bottom,x:s.left,y:s.top}},D4={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},j_=()=>{var e;return(e=Ie(kr))!==null&&e!==void 0?e:D4},Qx=()=>Ie(ya),Zx=()=>Ie(xa),R4=()=>Ie(e=>e.layout.margin),ht=e=>e.layout.layoutType,ep=()=>Ie(ht),P4={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},w_=Mn({name:"legend",initialState:P4,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=sa(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:aC,setLegendSettings:$4,addLegendPayload:C_,removeLegendPayload:k_}=w_.actions,N4=w_.reducer,L4=["contextPayload"];function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ny.apply(null,arguments)}function oC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Wl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(n),!0).forEach(function(i){Jx(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Jx(e,t,n){return(t=W4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W4(e){var t=B4(e,"string");return typeof t=="symbol"?t:t+""}function B4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I4(e,t){if(e==null)return{};var n,i,s=q4(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function q4(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function U4(e){return e.value}function H4(e){var{contextPayload:t}=e,n=I4(e,L4),i=Wz(t,e.payloadUniqBy,U4),s=Wl(Wl({},n),{},{payload:i});return x.isValidElement(e.content)?x.cloneElement(e.content,s):typeof e.content=="function"?x.createElement(e.content,s):x.createElement(Bx,s)}function F4(e,t,n,i,s,c){var{layout:d,align:p,verticalAlign:h}=t,g,m;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(p==="center"&&d==="vertical"?g={left:((i||0)-c.width)/2}:g=p==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(h==="middle"?m={top:((s||0)-c.height)/2}:m=h==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Wl(Wl({},g),m)}function K4(e){var t=rr();return x.useEffect(()=>{t($4(e))},[t,e]),null}function Y4(e){var t=rr();return x.useEffect(()=>(t(aC(e)),()=>{t(aC({width:0,height:0}))}),[t,e]),null}function V4(e){var t=X5(),n=uP(),i=R4(),{width:s,height:c,wrapperStyle:d,portal:p}=e,[h,g]=Hz([t]),m=Qx(),v=Zx();if(m==null||v==null)return null;var S=m-(i.left||0)-(i.right||0),j=Mo.getWidthOrHeight(e.layout,c,s,S),k=p?d:Wl(Wl({position:"absolute",width:j?.width||s||"auto",height:j?.height||c||"auto"},F4(d,e,i,m,v,h)),d),w=p??n;if(w==null)return null;var C=x.createElement("div",{className:"recharts-legend-wrapper",style:k,ref:g},x.createElement(K4,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(Y4,{width:h.width,height:h.height}),x.createElement(H4,Ny({},e,j,{margin:i,chartWidth:m,chartHeight:v,contextPayload:t})));return Kd.createPortal(C,w)}class Mo extends x.PureComponent{static getWidthOrHeight(t,n,i,s){return t==="vertical"&&Ke(n)?{height:n}:t==="horizontal"?{width:i||s}:null}render(){return x.createElement(V4,this.props)}}Jx(Mo,"displayName","Legend");Jx(Mo,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ly.apply(null,arguments)}function lC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Nm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(n),!0).forEach(function(i){G4(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function G4(e,t,n){return(t=X4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X4(e){var t=Q4(e,"string");return typeof t=="symbol"?t:t+""}function Q4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z4(e){return Array.isArray(e)&&Ei(e[0])&&Ei(e[1])?e.join(" ~ "):e}var J4=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:i={},labelStyle:s={},payload:c,formatter:d,itemSorter:p,wrapperClassName:h,labelClassName:g,label:m,labelFormatter:v,accessibilityLayer:S=!1}=e,j=()=>{if(c&&c.length){var O={padding:0,margin:0},P=(p?Hf(c,p):c).map((D,I)=>{if(D.type==="none")return null;var Q=D.formatter||d||Z4,{value:fe,name:ce}=D,Z=fe,Se=ce;if(Q){var he=Q(fe,ce,D,I,c);if(Array.isArray(he))[Z,Se]=he;else if(he!=null)Z=he;else return null}var pe=Nm({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},i);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:pe},Ei(Se)?x.createElement("span",{className:"recharts-tooltip-item-name"},Se):null,Ei(Se)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},Z),x.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:O},P)}return null},k=Nm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=Nm({margin:0},s),C=!Zt(m),_=C?m:"",E=St("recharts-default-tooltip",h),A=St("recharts-tooltip-label",g);C&&v&&c!==void 0&&c!==null&&(_=v(m,c));var T=S?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Ly({className:E,style:k},T),x.createElement("p",{className:A,style:w},x.isValidElement(_)?_:"".concat(_)),j())},ec="recharts-tooltip-wrapper",e3={visibility:"hidden"};function t3(e){var{coordinate:t,translateX:n,translateY:i}=e;return St(ec,{["".concat(ec,"-right")]:Ke(n)&&t&&Ke(t.x)&&n>=t.x,["".concat(ec,"-left")]:Ke(n)&&t&&Ke(t.x)&&n<t.x,["".concat(ec,"-bottom")]:Ke(i)&&t&&Ke(t.y)&&i>=t.y,["".concat(ec,"-top")]:Ke(i)&&t&&Ke(t.y)&&i<t.y})}function sC(e){var{allowEscapeViewBox:t,coordinate:n,key:i,offsetTopLeft:s,position:c,reverseDirection:d,tooltipDimension:p,viewBox:h,viewBoxDimension:g}=e;if(c&&Ke(c[i]))return c[i];var m=n[i]-p-(s>0?s:0),v=n[i]+s;if(t[i])return d[i]?m:v;var S=h[i];if(S==null)return 0;if(d[i]){var j=m,k=S;return j<k?Math.max(v,S):Math.max(m,S)}if(g==null)return 0;var w=v+p,C=S+g;return w>C?Math.max(m,S):Math.max(v,S)}function r3(e){var{translateX:t,translateY:n,useTranslate3d:i}=e;return{transform:i?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function n3(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:i,position:s,reverseDirection:c,tooltipBox:d,useTranslate3d:p,viewBox:h}=e,g,m,v;return d.height>0&&d.width>0&&n?(m=sC({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:i,position:s,reverseDirection:c,tooltipDimension:d.width,viewBox:h,viewBoxDimension:h.width}),v=sC({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:i,position:s,reverseDirection:c,tooltipDimension:d.height,viewBox:h,viewBoxDimension:h.height}),g=r3({translateX:m,translateY:v,useTranslate3d:p})):g=e3,{cssProperties:g,cssClasses:t3({translateX:m,translateY:v,coordinate:n})}}function cC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(n),!0).forEach(function(i){Wy(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Wy(e,t,n){return(t=i3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i3(e){var t=a3(e,"string");return typeof t=="symbol"?t:t+""}function a3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class o3 extends x.PureComponent{constructor(){super(...arguments),Wy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Wy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,i,s,c;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0,y:(s=(c=this.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,children:c,coordinate:d,hasPayload:p,isAnimationActive:h,offset:g,position:m,reverseDirection:v,useTranslate3d:S,viewBox:j,wrapperStyle:k,lastBoundingBox:w,innerRef:C,hasPortalFromProps:_}=this.props,{cssClasses:E,cssProperties:A}=n3({allowEscapeViewBox:n,coordinate:d,offsetTopLeft:g,position:m,reverseDirection:v,tooltipBox:{height:w.height,width:w.width},useTranslate3d:S,viewBox:j}),T=_?{}:bd(bd({transition:h&&t?"transform ".concat(i,"ms ").concat(s):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&p?"visible":"hidden",position:"absolute",top:0,left:0}),O=bd(bd({},T),{},{visibility:!this.state.dismissed&&t&&p?"visible":"hidden"},k);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:O,ref:C},c)}}var l3=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ao={devToolsEnabled:!1,isSsr:l3()},z_=()=>Ie(e=>e.rootProps.accessibilityLayer);function On(e){return Number.isFinite(e)}function Bl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},By.apply(null,arguments)}function uC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function dC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(n),!0).forEach(function(i){s3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function s3(e,t,n){return(t=c3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c3(e){var t=u3(e,"string");return typeof t=="symbol"?t:t+""}function u3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fC={curveBasisClosed:AP,curveBasisOpen:EP,curveBasis:TP,curveBumpX:gP,curveBumpY:hP,curveLinearClosed:OP,curveLinear:qf,curveMonotoneX:MP,curveMonotoneY:DP,curveNatural:RP,curveStep:PP,curveStepAfter:NP,curveStepBefore:$P},Sd=e=>On(e.x)&&On(e.y),tc=e=>e.x,rc=e=>e.y,d3=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Rc(e));return(n==="curveMonotone"||n==="curveBump")&&t?fC["".concat(n).concat(t==="vertical"?"Y":"X")]:fC[n]||qf},f3=e=>{var{type:t="linear",points:n=[],baseLine:i,layout:s,connectNulls:c=!1}=e,d=d3(t,s),p=c?n.filter(Sd):n,h;if(Array.isArray(i)){var g=c?i.filter(v=>Sd(v)):i,m=p.map((v,S)=>dC(dC({},v),{},{base:g[S]}));return s==="vertical"?h=pd().y(rc).x1(tc).x0(v=>v.base.x):h=pd().x(tc).y1(rc).y0(v=>v.base.y),h.defined(Sd).curve(d),h(m)}return s==="vertical"&&Ke(i)?h=pd().y(rc).x1(tc).x0(i):Ke(i)?h=pd().x(tc).y1(rc).y0(i):h=vz().x(tc).y(rc),h.defined(Sd).curve(d),h(p)},ev=e=>{var{className:t,points:n,path:i,pathRef:s}=e;if((!n||!n.length)&&!i)return null;var c=n&&n.length?f3(e):i;return x.createElement("path",By({},Ri(e),Mx(e),{className:St("recharts-curve",t),d:c===null?void 0:c,ref:s}))},p3=["x","y","top","left","width","height","className"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Iy.apply(null,arguments)}function pC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function g3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(n),!0).forEach(function(i){h3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function h3(e,t,n){return(t=m3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m3(e){var t=y3(e,"string");return typeof t=="symbol"?t:t+""}function y3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x3(e,t){if(e==null)return{};var n,i,s=v3(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function v3(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var b3=(e,t,n,i,s,c)=>"M".concat(e,",").concat(s,"v").concat(i,"M").concat(c,",").concat(t,"h").concat(n),S3=e=>{var{x:t=0,y:n=0,top:i=0,left:s=0,width:c=0,height:d=0,className:p}=e,h=x3(e,p3),g=g3({x:t,y:n,top:i,left:s,width:c,height:d},h);return!Ke(t)||!Ke(n)||!Ke(c)||!Ke(d)||!Ke(i)||!Ke(s)?null:x.createElement("path",Iy({},tr(g,!0),{className:St("recharts-cross",p),d:b3(t,n,c,d,i,s)}))};function j3(e,t,n,i){var s=i/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?i:n.width-1,height:e==="horizontal"?n.height-1:i}}function gC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function w3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(n),!0).forEach(function(i){C3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function C3(e,t,n){return(t=k3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k3(e){var t=z3(e,"string");return typeof t=="symbol"?t:t+""}function z3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ur(e,t){var n=w3({},e),i=t,s=Object.keys(t),c=s.reduce((d,p)=>(d[p]===void 0&&i[p]!==void 0&&(d[p]=i[p]),d),n);return c}function _3(){}function hC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function mC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(n),!0).forEach(function(i){T3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function T3(e,t,n){return(t=A3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A3(e){var t=E3(e,"string");return typeof t=="symbol"?t:t+""}function E3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O3=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),__=(e,t,n)=>e.map(i=>"".concat(O3(i)," ").concat(t,"ms ").concat(n)).join(","),M3=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,i)=>n.filter(s=>i.includes(s))),wc=(e,t)=>Object.keys(t).reduce((n,i)=>mC(mC({},n),{},{[i]:e(i,t[i])}),{});function yC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(n),!0).forEach(function(i){D3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function D3(e,t,n){return(t=R3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R3(e){var t=P3(e,"string");return typeof t=="symbol"?t:t+""}function P3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lf=(e,t,n)=>e+(t-e)*n,qy=e=>{var{from:t,to:n}=e;return t!==n},T_=(e,t,n)=>{var i=wc((s,c)=>{if(qy(c)){var[d,p]=e(c.from,c.to,c.velocity);return Ir(Ir({},c),{},{from:d,velocity:p})}return c},t);return n<1?wc((s,c)=>qy(c)?Ir(Ir({},c),{},{velocity:lf(c.velocity,i[s].velocity,n),from:lf(c.from,i[s].from,n)}):c,t):T_(e,i,n-1)};function $3(e,t,n,i,s,c){var d,p=i.reduce((S,j)=>Ir(Ir({},S),{},{[j]:{from:e[j],velocity:0,to:t[j]}}),{}),h=()=>wc((S,j)=>j.from,p),g=()=>!Object.values(p).filter(qy).length,m=null,v=S=>{d||(d=S);var j=S-d,k=j/n.dt;p=T_(n,p,k),s(Ir(Ir(Ir({},e),t),h())),d=S,g()||(m=c.setTimeout(v))};return()=>(m=c.setTimeout(v),()=>{m()})}function N3(e,t,n,i,s,c,d){var p=null,h=s.reduce((v,S)=>Ir(Ir({},v),{},{[S]:[e[S],t[S]]}),{}),g,m=v=>{g||(g=v);var S=(v-g)/i,j=wc((w,C)=>lf(...C,n(S)),h);if(c(Ir(Ir(Ir({},e),t),j)),S<1)p=d.setTimeout(m);else{var k=wc((w,C)=>lf(...C,n(1)),h);c(Ir(Ir(Ir({},e),t),k))}};return()=>(p=d.setTimeout(m),()=>{p()})}const L3=(e,t,n,i,s,c)=>{var d=M3(e,t);return n.isStepper===!0?$3(e,t,n,d,s,c):N3(e,t,n,i,d,s,c)};var sf=1e-4,A_=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],E_=(e,t)=>e.map((n,i)=>n*t**i).reduce((n,i)=>n+i),xC=(e,t)=>n=>{var i=A_(e,t);return E_(i,n)},W3=(e,t)=>n=>{var i=A_(e,t),s=[...i.map((c,d)=>c*d).slice(1),0];return E_(s,n)},vC=function(){for(var t,n,i,s,c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];if(d.length===1)switch(d[0]){case"linear":[t,i,n,s]=[0,0,1,1];break;case"ease":[t,i,n,s]=[.25,.1,.25,1];break;case"ease-in":[t,i,n,s]=[.42,0,1,1];break;case"ease-out":[t,i,n,s]=[.42,0,.58,1];break;case"ease-in-out":[t,i,n,s]=[0,0,.58,1];break;default:{var h=d[0].split("(");h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4&&([t,i,n,s]=h[1].split(")")[0].split(",").map(k=>parseFloat(k)))}}else d.length===4&&([t,i,n,s]=d);var g=xC(t,n),m=xC(i,s),v=W3(t,n),S=k=>k>1?1:k<0?0:k,j=k=>{for(var w=k>1?1:k,C=w,_=0;_<8;++_){var E=g(C)-w,A=v(C);if(Math.abs(E-w)<sf||A<sf)return m(C);C=S(C-E/A)}return m(C)};return j.isStepper=!1,j},B3=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:s=17}=t,c=(d,p,h)=>{var g=-(d-p)*n,m=h*i,v=h+(g-m)*s/1e3,S=h*s/1e3+d;return Math.abs(S-p)<sf&&Math.abs(v)<sf?[p,0]:[S,v]};return c.isStepper=!0,c.dt=s,c},I3=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vC(e);case"spring":return B3();default:if(e.split("(")[0]==="cubic-bezier")return vC(e)}return typeof e=="function"?e:null};function q3(e){var t,n=()=>null,i=!1,s=null,c=d=>{if(!i){if(Array.isArray(d)){if(!d.length)return;var p=d,[h,...g]=p;if(typeof h=="number"){s=e.setTimeout(c.bind(null,g),h);return}c(h),s=e.setTimeout(c.bind(null,g));return}typeof d=="string"&&(t=d,n(t)),typeof d=="object"&&(t=d,n(t)),typeof d=="function"&&d()}};return{stop:()=>{i=!0},start:d=>{i=!1,s&&(s(),s=null),c(d)},subscribe:d=>(n=d,()=>{n=()=>null}),getTimeoutController:()=>e}}class U3{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),s=null,c=d=>{d-i>=n?t(d):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(c))};return s=requestAnimationFrame(c),()=>{cancelAnimationFrame(s)}}}function H3(){return q3(new U3)}var F3=x.createContext(H3);function K3(e,t){var n=x.useContext(F3);return x.useMemo(()=>t??n(e),[e,t,n])}var Y3={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},bC={t:0},Lm={t:1};function Wc(e){var t=Ur(e,Y3),{isActive:n,canBegin:i,duration:s,easing:c,begin:d,onAnimationEnd:p,onAnimationStart:h,children:g}=t,m=K3(t.animationId,t.animationManager),[v,S]=x.useState(n?bC:Lm),j=x.useRef(null);return x.useEffect(()=>{n||S(Lm)},[n]),x.useEffect(()=>{if(!n||!i)return _3;var k=L3(bC,Lm,I3(c),s,S,m.getTimeoutController()),w=()=>{j.current=k()};return m.start([h,d,w,s,p]),()=>{m.stop(),j.current&&j.current(),p()}},[n,i,s,c,d,h,p,m]),g(v.t)}function Bc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(vc(t)),i=x.useRef(e);return i.current!==e&&(n.current=vc(t),i.current=e),n.current}function SC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function jC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(n),!0).forEach(function(i){V3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function V3(e,t,n){return(t=G3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G3(e){var t=X3(e,"string");return typeof t=="symbol"?t:t+""}function X3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cf.apply(null,arguments)}var wC=(e,t,n,i,s)=>{var c=Math.min(Math.abs(n)/2,Math.abs(i)/2),d=i>=0?1:-1,p=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,g;if(c>0&&s instanceof Array){for(var m=[0,0,0,0],v=0,S=4;v<S;v++)m[v]=s[v]>c?c:s[v];g="M".concat(e,",").concat(t+d*m[0]),m[0]>0&&(g+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(e+p*m[0],",").concat(t)),g+="L ".concat(e+n-p*m[1],",").concat(t),m[1]>0&&(g+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(t+d*m[1])),g+="L ".concat(e+n,",").concat(t+i-d*m[2]),m[2]>0&&(g+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(e+n-p*m[2],",").concat(t+i)),g+="L ".concat(e+p*m[3],",").concat(t+i),m[3]>0&&(g+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(t+i-d*m[3])),g+="Z"}else if(c>0&&s===+s&&s>0){var j=Math.min(c,s);g="M ".concat(e,",").concat(t+d*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(e+p*j,",").concat(t,`
            L `).concat(e+n-p*j,",").concat(t,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(e+n,",").concat(t+d*j,`
            L `).concat(e+n,",").concat(t+i-d*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(e+n-p*j,",").concat(t+i,`
            L `).concat(e+p*j,",").concat(t+i,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(e,",").concat(t+i-d*j," Z")}else g="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return g},Q3={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},O_=e=>{var t=Ur(e,Q3),n=x.useRef(null),[i,s]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var he=n.current.getTotalLength();he&&s(he)}catch{}},[]);var{x:c,y:d,width:p,height:h,radius:g,className:m}=t,{animationEasing:v,animationDuration:S,animationBegin:j,isAnimationActive:k,isUpdateAnimationActive:w}=t,C=x.useRef(p),_=x.useRef(h),E=x.useRef(c),A=x.useRef(d),T=x.useMemo(()=>({x:c,y:d,width:p,height:h,radius:g}),[c,d,p,h,g]),O=Bc(T,"rectangle-");if(c!==+c||d!==+d||p!==+p||h!==+h||p===0||h===0)return null;var P=St("recharts-rectangle",m);if(!w)return x.createElement("path",cf({},tr(t,!0),{className:P,d:wC(c,d,p,h,g)}));var D=C.current,I=_.current,Q=E.current,fe=A.current,ce="0px ".concat(i===-1?1:i,"px"),Z="".concat(i,"px 0px"),Se=__(["strokeDasharray"],S,typeof v=="string"?v:void 0);return x.createElement(Wc,{animationId:O,key:O,canBegin:i>0,duration:S,easing:v,isActive:w,begin:j},he=>{var pe=lr(D,p,he),U=lr(I,h,he),F=lr(Q,c,he),ge=lr(fe,d,he);n.current&&(C.current=pe,_.current=U,E.current=F,A.current=ge);var je;return k?he>0?je={transition:Se,strokeDasharray:Z}:je={strokeDasharray:ce}:je={strokeDasharray:Z},x.createElement("path",cf({},tr(t,!0),{className:P,d:wC(F,ge,pe,U,g),ref:n,style:jC(jC({},je),t.style)}))})};function M_(e){var{cx:t,cy:n,radius:i,startAngle:s,endAngle:c}=e,d=xr(t,n,i,s),p=xr(t,n,i,c);return{points:[d,p],cx:t,cy:n,radius:i,startAngle:s,endAngle:c}}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Uy.apply(null,arguments)}var Z3=(e,t)=>{var n=Er(t-e),i=Math.min(Math.abs(t-e),359.999);return n*i},jd=e=>{var{cx:t,cy:n,radius:i,angle:s,sign:c,isExternal:d,cornerRadius:p,cornerIsExternal:h}=e,g=p*(d?1:-1)+i,m=Math.asin(p/g)/of,v=h?s:s+c*m,S=xr(t,n,g,v),j=xr(t,n,i,v),k=h?s-c*m:s,w=xr(t,n,g*Math.cos(m*of),k);return{center:S,circleTangency:j,lineTangency:w,theta:m}},D_=e=>{var{cx:t,cy:n,innerRadius:i,outerRadius:s,startAngle:c,endAngle:d}=e,p=Z3(c,d),h=c+p,g=xr(t,n,s,c),m=xr(t,n,s,h),v="M ".concat(g.x,",").concat(g.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(p)>180),",").concat(+(c>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var S=xr(t,n,i,c),j=xr(t,n,i,h);v+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(p)>180),",").concat(+(c<=h),`,
            `).concat(S.x,",").concat(S.y," Z")}else v+="L ".concat(t,",").concat(n," Z");return v},J3=e=>{var{cx:t,cy:n,innerRadius:i,outerRadius:s,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:p,startAngle:h,endAngle:g}=e,m=Er(g-h),{circleTangency:v,lineTangency:S,theta:j}=jd({cx:t,cy:n,radius:s,angle:h,sign:m,cornerRadius:c,cornerIsExternal:p}),{circleTangency:k,lineTangency:w,theta:C}=jd({cx:t,cy:n,radius:s,angle:g,sign:-m,cornerRadius:c,cornerIsExternal:p}),_=p?Math.abs(h-g):Math.abs(h-g)-j-C;if(_<0)return d?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):D_({cx:t,cy:n,innerRadius:i,outerRadius:s,startAngle:h,endAngle:g});var E="M ".concat(S.x,",").concat(S.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var{circleTangency:A,lineTangency:T,theta:O}=jd({cx:t,cy:n,radius:i,angle:h,sign:m,isExternal:!0,cornerRadius:c,cornerIsExternal:p}),{circleTangency:P,lineTangency:D,theta:I}=jd({cx:t,cy:n,radius:i,angle:g,sign:-m,isExternal:!0,cornerRadius:c,cornerIsExternal:p}),Q=p?Math.abs(h-g):Math.abs(h-g)-O-I;if(Q<0&&c===0)return"".concat(E,"L").concat(t,",").concat(n,"Z");E+="L".concat(D.x,",").concat(D.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(m>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(t,",").concat(n,"Z");return E},e6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},R_=e=>{var t=Ur(e,e6),{cx:n,cy:i,innerRadius:s,outerRadius:c,cornerRadius:d,forceCornerRadius:p,cornerIsExternal:h,startAngle:g,endAngle:m,className:v}=t;if(c<s||g===m)return null;var S=St("recharts-sector",v),j=c-s,k=Yr(d,j,0,!0),w;return k>0&&Math.abs(g-m)<360?w=J3({cx:n,cy:i,innerRadius:s,outerRadius:c,cornerRadius:Math.min(k,j/2),forceCornerRadius:p,cornerIsExternal:h,startAngle:g,endAngle:m}):w=D_({cx:n,cy:i,innerRadius:s,outerRadius:c,startAngle:g,endAngle:m}),x.createElement("path",Uy({},tr(t,!0),{className:S,d:w}))};function t6(e,t,n){var i,s,c,d;if(e==="horizontal")i=t.x,c=i,s=n.top,d=n.top+n.height;else if(e==="vertical")s=t.y,d=s,i=n.left,c=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:p,cy:h,innerRadius:g,outerRadius:m,angle:v}=t,S=xr(p,h,g,v),j=xr(p,h,m,v);i=S.x,s=S.y,c=j.x,d=j.y}else return M_(t);return[{x:i,y:s},{x:c,y:d}]}var Wm={},Bm={},Im={},CC;function r6(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iz();function n(i){return t.isSymbol(i)?NaN:Number(i)}e.toNumber=n})(Im)),Im}var kC;function n6(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r6();function n(i){return i?(i=t.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}e.toFinite=n})(Bm)),Bm}var zC;function i6(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qz(),n=n6();function i(s,c,d){d&&typeof d!="number"&&t.isIterateeCall(s,c,d)&&(c=d=void 0),s=n.toFinite(s),c===void 0?(c=s,s=0):c=n.toFinite(c),d=d===void 0?s<c?1:-1:n.toFinite(d);const p=Math.max(Math.ceil((c-s)/(d||1)),0),h=new Array(p);for(let g=0;g<p;g++)h[g]=s,s+=d;return h}e.range=i})(Wm)),Wm}var qm,_C;function a6(){return _C||(_C=1,qm=i6().range),qm}var o6=a6();const P_=ma(o6);function Ga(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function l6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tv(e){let t,n,i;e.length!==2?(t=Ga,n=(p,h)=>Ga(e(p),h),i=(p,h)=>e(p)-h):(t=e===Ga||e===l6?e:s6,n=e,i=e);function s(p,h,g=0,m=p.length){if(g<m){if(t(h,h)!==0)return m;do{const v=g+m>>>1;n(p[v],h)<0?g=v+1:m=v}while(g<m)}return g}function c(p,h,g=0,m=p.length){if(g<m){if(t(h,h)!==0)return m;do{const v=g+m>>>1;n(p[v],h)<=0?g=v+1:m=v}while(g<m)}return g}function d(p,h,g=0,m=p.length){const v=s(p,h,g,m-1);return v>g&&i(p[v-1],h)>-i(p[v],h)?v-1:v}return{left:s,center:d,right:c}}function s6(){return 0}function $_(e){return e===null?NaN:+e}function*c6(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const u6=tv(Ga),Ic=u6.right;tv($_).center;class TC extends Map{constructor(t,n=p6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,s]of t)this.set(i,s)}get(t){return super.get(AC(this,t))}has(t){return super.has(AC(this,t))}set(t,n){return super.set(d6(this,t),n)}delete(t){return super.delete(f6(this,t))}}function AC({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function d6({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function f6({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function p6(e){return e!==null&&typeof e=="object"?e.valueOf():e}function g6(e=Ga){if(e===Ga)return N_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function N_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const h6=Math.sqrt(50),m6=Math.sqrt(10),y6=Math.sqrt(2);function uf(e,t,n){const i=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(i)),c=i/Math.pow(10,s),d=c>=h6?10:c>=m6?5:c>=y6?2:1;let p,h,g;return s<0?(g=Math.pow(10,-s)/d,p=Math.round(e*g),h=Math.round(t*g),p/g<e&&++p,h/g>t&&--h,g=-g):(g=Math.pow(10,s)*d,p=Math.round(e/g),h=Math.round(t/g),p*g<e&&++p,h*g>t&&--h),h<p&&.5<=n&&n<2?uf(e,t,n*2):[p,h,g]}function Hy(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[s,c,d]=i?uf(t,e,n):uf(e,t,n);if(!(c>=s))return[];const p=c-s+1,h=new Array(p);if(i)if(d<0)for(let g=0;g<p;++g)h[g]=(c-g)/-d;else for(let g=0;g<p;++g)h[g]=(c-g)*d;else if(d<0)for(let g=0;g<p;++g)h[g]=(s+g)/-d;else for(let g=0;g<p;++g)h[g]=(s+g)*d;return h}function Fy(e,t,n){return t=+t,e=+e,n=+n,uf(e,t,n)[2]}function Ky(e,t,n){t=+t,e=+e,n=+n;const i=t<e,s=i?Fy(t,e,n):Fy(e,t,n);return(i?-1:1)*(s<0?1/-s:s)}function EC(e,t){let n;for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function OC(e,t){let n;for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function L_(e,t,n=0,i=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(s=s===void 0?N_:g6(s);i>n;){if(i-n>600){const h=i-n+1,g=t-n+1,m=Math.log(h),v=.5*Math.exp(2*m/3),S=.5*Math.sqrt(m*v*(h-v)/h)*(g-h/2<0?-1:1),j=Math.max(n,Math.floor(t-g*v/h+S)),k=Math.min(i,Math.floor(t+(h-g)*v/h+S));L_(e,t,j,k,s)}const c=e[t];let d=n,p=i;for(nc(e,n,t),s(e[i],c)>0&&nc(e,n,i);d<p;){for(nc(e,d,p),++d,--p;s(e[d],c)<0;)++d;for(;s(e[p],c)>0;)--p}s(e[n],c)===0?nc(e,n,p):(++p,nc(e,p,i)),p<=t&&(n=p+1),t<=p&&(i=p-1)}return e}function nc(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function x6(e,t,n){if(e=Float64Array.from(c6(e)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return OC(e);if(t>=1)return EC(e);var i,s=(i-1)*t,c=Math.floor(s),d=EC(L_(e,c).subarray(0,c+1)),p=OC(e.subarray(c+1));return d+(p-d)*(s-c)}}function v6(e,t,n=$_){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,s=(i-1)*t,c=Math.floor(s),d=+n(e[c],c,e),p=+n(e[c+1],c+1,e);return d+(p-d)*(s-c)}}function b6(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var i=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,c=new Array(s);++i<s;)c[i]=e+i*n;return c}function Jn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function va(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Yy=Symbol("implicit");function rv(){var e=new TC,t=[],n=[],i=Yy;function s(c){let d=e.get(c);if(d===void 0){if(i!==Yy)return i;e.set(c,d=t.push(c)-1)}return n[d%n.length]}return s.domain=function(c){if(!arguments.length)return t.slice();t=[],e=new TC;for(const d of c)e.has(d)||e.set(d,t.push(d)-1);return s},s.range=function(c){return arguments.length?(n=Array.from(c),s):n.slice()},s.unknown=function(c){return arguments.length?(i=c,s):i},s.copy=function(){return rv(t,n).unknown(i)},Jn.apply(s,arguments),s}function nv(){var e=rv().unknown(void 0),t=e.domain,n=e.range,i=0,s=1,c,d,p=!1,h=0,g=0,m=.5;delete e.unknown;function v(){var S=t().length,j=s<i,k=j?s:i,w=j?i:s;c=(w-k)/Math.max(1,S-h+g*2),p&&(c=Math.floor(c)),k+=(w-k-c*(S-h))*m,d=c*(1-h),p&&(k=Math.round(k),d=Math.round(d));var C=b6(S).map(function(_){return k+c*_});return n(j?C.reverse():C)}return e.domain=function(S){return arguments.length?(t(S),v()):t()},e.range=function(S){return arguments.length?([i,s]=S,i=+i,s=+s,v()):[i,s]},e.rangeRound=function(S){return[i,s]=S,i=+i,s=+s,p=!0,v()},e.bandwidth=function(){return d},e.step=function(){return c},e.round=function(S){return arguments.length?(p=!!S,v()):p},e.padding=function(S){return arguments.length?(h=Math.min(1,g=+S),v()):h},e.paddingInner=function(S){return arguments.length?(h=Math.min(1,S),v()):h},e.paddingOuter=function(S){return arguments.length?(g=+S,v()):g},e.align=function(S){return arguments.length?(m=Math.max(0,Math.min(1,S)),v()):m},e.copy=function(){return nv(t(),[i,s]).round(p).paddingInner(h).paddingOuter(g).align(m)},Jn.apply(v(),arguments)}function W_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return W_(t())},e}function S6(){return W_(nv.apply(null,arguments).paddingInner(1))}function iv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function B_(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function qc(){}var Cc=.7,df=1/Cc,$l="\\s*([+-]?\\d+)\\s*",kc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",j6=/^#([0-9a-f]{3,8})$/,w6=new RegExp(`^rgb\\(${$l},${$l},${$l}\\)$`),C6=new RegExp(`^rgb\\(${Ti},${Ti},${Ti}\\)$`),k6=new RegExp(`^rgba\\(${$l},${$l},${$l},${kc}\\)$`),z6=new RegExp(`^rgba\\(${Ti},${Ti},${Ti},${kc}\\)$`),_6=new RegExp(`^hsl\\(${kc},${Ti},${Ti}\\)$`),T6=new RegExp(`^hsla\\(${kc},${Ti},${Ti},${kc}\\)$`),MC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iv(qc,zc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:DC,formatHex:DC,formatHex8:A6,formatHsl:E6,formatRgb:RC,toString:RC});function DC(){return this.rgb().formatHex()}function A6(){return this.rgb().formatHex8()}function E6(){return I_(this).formatHsl()}function RC(){return this.rgb().formatRgb()}function zc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=j6.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?PC(t):n===3?new un(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?wd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?wd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=w6.exec(e))?new un(t[1],t[2],t[3],1):(t=C6.exec(e))?new un(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=k6.exec(e))?wd(t[1],t[2],t[3],t[4]):(t=z6.exec(e))?wd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_6.exec(e))?LC(t[1],t[2]/100,t[3]/100,1):(t=T6.exec(e))?LC(t[1],t[2]/100,t[3]/100,t[4]):MC.hasOwnProperty(e)?PC(MC[e]):e==="transparent"?new un(NaN,NaN,NaN,0):null}function PC(e){return new un(e>>16&255,e>>8&255,e&255,1)}function wd(e,t,n,i){return i<=0&&(e=t=n=NaN),new un(e,t,n,i)}function O6(e){return e instanceof qc||(e=zc(e)),e?(e=e.rgb(),new un(e.r,e.g,e.b,e.opacity)):new un}function Vy(e,t,n,i){return arguments.length===1?O6(e):new un(e,t,n,i??1)}function un(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}iv(un,Vy,B_(qc,{brighter(e){return e=e==null?df:Math.pow(df,e),new un(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cc:Math.pow(Cc,e),new un(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new un(Lo(this.r),Lo(this.g),Lo(this.b),ff(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$C,formatHex:$C,formatHex8:M6,formatRgb:NC,toString:NC}));function $C(){return`#${Do(this.r)}${Do(this.g)}${Do(this.b)}`}function M6(){return`#${Do(this.r)}${Do(this.g)}${Do(this.b)}${Do((isNaN(this.opacity)?1:this.opacity)*255)}`}function NC(){const e=ff(this.opacity);return`${e===1?"rgb(":"rgba("}${Lo(this.r)}, ${Lo(this.g)}, ${Lo(this.b)}${e===1?")":`, ${e})`}`}function ff(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Lo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Do(e){return e=Lo(e),(e<16?"0":"")+e.toString(16)}function LC(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ui(e,t,n,i)}function I_(e){if(e instanceof ui)return new ui(e.h,e.s,e.l,e.opacity);if(e instanceof qc||(e=zc(e)),!e)return new ui;if(e instanceof ui)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(t,n,i),c=Math.max(t,n,i),d=NaN,p=c-s,h=(c+s)/2;return p?(t===c?d=(n-i)/p+(n<i)*6:n===c?d=(i-t)/p+2:d=(t-n)/p+4,p/=h<.5?c+s:2-c-s,d*=60):p=h>0&&h<1?0:d,new ui(d,p,h,e.opacity)}function D6(e,t,n,i){return arguments.length===1?I_(e):new ui(e,t,n,i??1)}function ui(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}iv(ui,D6,B_(qc,{brighter(e){return e=e==null?df:Math.pow(df,e),new ui(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cc:Math.pow(Cc,e),new ui(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,s=2*n-i;return new un(Um(e>=240?e-240:e+120,s,i),Um(e,s,i),Um(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new ui(WC(this.h),Cd(this.s),Cd(this.l),ff(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ff(this.opacity);return`${e===1?"hsl(":"hsla("}${WC(this.h)}, ${Cd(this.s)*100}%, ${Cd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function WC(e){return e=(e||0)%360,e<0?e+360:e}function Cd(e){return Math.max(0,Math.min(1,e||0))}function Um(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const av=e=>()=>e;function R6(e,t){return function(n){return e+n*t}}function P6(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function $6(e){return(e=+e)==1?q_:function(t,n){return n-t?P6(t,n,e):av(isNaN(t)?n:t)}}function q_(e,t){var n=t-e;return n?R6(e,n):av(isNaN(e)?t:e)}const BC=(function e(t){var n=$6(t);function i(s,c){var d=n((s=Vy(s)).r,(c=Vy(c)).r),p=n(s.g,c.g),h=n(s.b,c.b),g=q_(s.opacity,c.opacity);return function(m){return s.r=d(m),s.g=p(m),s.b=h(m),s.opacity=g(m),s+""}}return i.gamma=e,i})(1);function N6(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),s;return function(c){for(s=0;s<n;++s)i[s]=e[s]*(1-c)+t[s]*c;return i}}function L6(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function W6(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,s=new Array(i),c=new Array(n),d;for(d=0;d<i;++d)s[d]=es(e[d],t[d]);for(;d<n;++d)c[d]=t[d];return function(p){for(d=0;d<i;++d)c[d]=s[d](p);return c}}function B6(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function pf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function I6(e,t){var n={},i={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=es(e[s],t[s]):i[s]=t[s];return function(c){for(s in n)i[s]=n[s](c);return i}}var Gy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hm=new RegExp(Gy.source,"g");function q6(e){return function(){return e}}function U6(e){return function(t){return e(t)+""}}function H6(e,t){var n=Gy.lastIndex=Hm.lastIndex=0,i,s,c,d=-1,p=[],h=[];for(e=e+"",t=t+"";(i=Gy.exec(e))&&(s=Hm.exec(t));)(c=s.index)>n&&(c=t.slice(n,c),p[d]?p[d]+=c:p[++d]=c),(i=i[0])===(s=s[0])?p[d]?p[d]+=s:p[++d]=s:(p[++d]=null,h.push({i:d,x:pf(i,s)})),n=Hm.lastIndex;return n<t.length&&(c=t.slice(n),p[d]?p[d]+=c:p[++d]=c),p.length<2?h[0]?U6(h[0].x):q6(t):(t=h.length,function(g){for(var m=0,v;m<t;++m)p[(v=h[m]).i]=v.x(g);return p.join("")})}function es(e,t){var n=typeof t,i;return t==null||n==="boolean"?av(t):(n==="number"?pf:n==="string"?(i=zc(t))?(t=i,BC):H6:t instanceof zc?BC:t instanceof Date?B6:L6(t)?N6:Array.isArray(t)?W6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?I6:pf)(e,t)}function ov(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function F6(e,t){t===void 0&&(t=e,e=es);for(var n=0,i=t.length-1,s=t[0],c=new Array(i<0?0:i);n<i;)c[n]=e(s,s=t[++n]);return function(d){var p=Math.max(0,Math.min(i-1,Math.floor(d*=i)));return c[p](d-p)}}function K6(e){return function(){return e}}function gf(e){return+e}var IC=[0,1];function Zr(e){return e}function Xy(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:K6(isNaN(t)?NaN:.5)}function Y6(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function V6(e,t,n){var i=e[0],s=e[1],c=t[0],d=t[1];return s<i?(i=Xy(s,i),c=n(d,c)):(i=Xy(i,s),c=n(c,d)),function(p){return c(i(p))}}function G6(e,t,n){var i=Math.min(e.length,t.length)-1,s=new Array(i),c=new Array(i),d=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++d<i;)s[d]=Xy(e[d],e[d+1]),c[d]=n(t[d],t[d+1]);return function(p){var h=Ic(e,p,1,i)-1;return c[h](s[h](p))}}function Uc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function tp(){var e=IC,t=IC,n=es,i,s,c,d=Zr,p,h,g;function m(){var S=Math.min(e.length,t.length);return d!==Zr&&(d=Y6(e[0],e[S-1])),p=S>2?G6:V6,h=g=null,v}function v(S){return S==null||isNaN(S=+S)?c:(h||(h=p(e.map(i),t,n)))(i(d(S)))}return v.invert=function(S){return d(s((g||(g=p(t,e.map(i),pf)))(S)))},v.domain=function(S){return arguments.length?(e=Array.from(S,gf),m()):e.slice()},v.range=function(S){return arguments.length?(t=Array.from(S),m()):t.slice()},v.rangeRound=function(S){return t=Array.from(S),n=ov,m()},v.clamp=function(S){return arguments.length?(d=S?!0:Zr,m()):d!==Zr},v.interpolate=function(S){return arguments.length?(n=S,m()):n},v.unknown=function(S){return arguments.length?(c=S,v):c},function(S,j){return i=S,s=j,m()}}function lv(){return tp()(Zr,Zr)}function X6(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function hf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Il(e){return e=hf(Math.abs(e)),e?e[1]:NaN}function Q6(e,t){return function(n,i){for(var s=n.length,c=[],d=0,p=e[0],h=0;s>0&&p>0&&(h+p+1>i&&(p=Math.max(1,i-h)),c.push(n.substring(s-=p,s+p)),!((h+=p+1)>i));)p=e[d=(d+1)%e.length];return c.reverse().join(t)}}function Z6(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var J6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _c(e){if(!(t=J6.exec(e)))throw new Error("invalid format: "+e);var t;return new sv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_c.prototype=sv.prototype;function sv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eN(e){e:for(var t=e.length,n=1,i=-1,s;n<t;++n)switch(e[n]){case".":i=s=n;break;case"0":i===0&&(i=n),s=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(s+1):e}var U_;function tN(e,t){var n=hf(e,t);if(!n)return e+"";var i=n[0],s=n[1],c=s-(U_=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,d=i.length;return c===d?i:c>d?i+new Array(c-d+1).join("0"):c>0?i.slice(0,c)+"."+i.slice(c):"0."+new Array(1-c).join("0")+hf(e,Math.max(0,t+c-1))[0]}function qC(e,t){var n=hf(e,t);if(!n)return e+"";var i=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}const UC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:X6,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>qC(e*100,t),r:qC,s:tN,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function HC(e){return e}var FC=Array.prototype.map,KC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rN(e){var t=e.grouping===void 0||e.thousands===void 0?HC:Q6(FC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",c=e.numerals===void 0?HC:Z6(FC.call(e.numerals,String)),d=e.percent===void 0?"%":e.percent+"",p=e.minus===void 0?"":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function g(v){v=_c(v);var S=v.fill,j=v.align,k=v.sign,w=v.symbol,C=v.zero,_=v.width,E=v.comma,A=v.precision,T=v.trim,O=v.type;O==="n"?(E=!0,O="g"):UC[O]||(A===void 0&&(A=12),T=!0,O="g"),(C||S==="0"&&j==="=")&&(C=!0,S="0",j="=");var P=w==="$"?n:w==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",D=w==="$"?i:/[%p]/.test(O)?d:"",I=UC[O],Q=/[defgprs%]/.test(O);A=A===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function fe(ce){var Z=P,Se=D,he,pe,U;if(O==="c")Se=I(ce)+Se,ce="";else{ce=+ce;var F=ce<0||1/ce<0;if(ce=isNaN(ce)?h:I(Math.abs(ce),A),T&&(ce=eN(ce)),F&&+ce==0&&k!=="+"&&(F=!1),Z=(F?k==="("?k:p:k==="-"||k==="("?"":k)+Z,Se=(O==="s"?KC[8+U_/3]:"")+Se+(F&&k==="("?")":""),Q){for(he=-1,pe=ce.length;++he<pe;)if(U=ce.charCodeAt(he),48>U||U>57){Se=(U===46?s+ce.slice(he+1):ce.slice(he))+Se,ce=ce.slice(0,he);break}}}E&&!C&&(ce=t(ce,1/0));var ge=Z.length+ce.length+Se.length,je=ge<_?new Array(_-ge+1).join(S):"";switch(E&&C&&(ce=t(je+ce,je.length?_-Se.length:1/0),je=""),j){case"<":ce=Z+ce+Se+je;break;case"=":ce=Z+je+ce+Se;break;case"^":ce=je.slice(0,ge=je.length>>1)+Z+ce+Se+je.slice(ge);break;default:ce=je+Z+ce+Se;break}return c(ce)}return fe.toString=function(){return v+""},fe}function m(v,S){var j=g((v=_c(v),v.type="f",v)),k=Math.max(-8,Math.min(8,Math.floor(Il(S)/3)))*3,w=Math.pow(10,-k),C=KC[8+k/3];return function(_){return j(w*_)+C}}return{format:g,formatPrefix:m}}var kd,cv,H_;nN({thousands:",",grouping:[3],currency:["$",""]});function nN(e){return kd=rN(e),cv=kd.format,H_=kd.formatPrefix,kd}function iN(e){return Math.max(0,-Il(Math.abs(e)))}function aN(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Il(t)/3)))*3-Il(Math.abs(e)))}function oN(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Il(t)-Il(e))+1}function F_(e,t,n,i){var s=Ky(e,t,n),c;switch(i=_c(i??",f"),i.type){case"s":{var d=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(c=aN(s,d))&&(i.precision=c),H_(i,d)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(c=oN(s,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=c-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(c=iN(s))&&(i.precision=c-(i.type==="%")*2);break}}return cv(i)}function oo(e){var t=e.domain;return e.ticks=function(n){var i=t();return Hy(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var s=t();return F_(s[0],s[s.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),s=0,c=i.length-1,d=i[s],p=i[c],h,g,m=10;for(p<d&&(g=d,d=p,p=g,g=s,s=c,c=g);m-- >0;){if(g=Fy(d,p,n),g===h)return i[s]=d,i[c]=p,t(i);if(g>0)d=Math.floor(d/g)*g,p=Math.ceil(p/g)*g;else if(g<0)d=Math.ceil(d*g)/g,p=Math.floor(p*g)/g;else break;h=g}return e},e}function K_(){var e=lv();return e.copy=function(){return Uc(e,K_())},Jn.apply(e,arguments),oo(e)}function Y_(e){var t;function n(i){return i==null||isNaN(i=+i)?t:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(e=Array.from(i,gf),n):e.slice()},n.unknown=function(i){return arguments.length?(t=i,n):t},n.copy=function(){return Y_(e).unknown(t)},e=arguments.length?Array.from(e,gf):[0,1],oo(n)}function V_(e,t){e=e.slice();var n=0,i=e.length-1,s=e[n],c=e[i],d;return c<s&&(d=n,n=i,i=d,d=s,s=c,c=d),e[n]=t.floor(s),e[i]=t.ceil(c),e}function YC(e){return Math.log(e)}function VC(e){return Math.exp(e)}function lN(e){return-Math.log(-e)}function sN(e){return-Math.exp(-e)}function cN(e){return isFinite(e)?+("1e"+e):e<0?0:e}function uN(e){return e===10?cN:e===Math.E?Math.exp:t=>Math.pow(e,t)}function dN(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function GC(e){return(t,n)=>-e(-t,n)}function uv(e){const t=e(YC,VC),n=t.domain;let i=10,s,c;function d(){return s=dN(i),c=uN(i),n()[0]<0?(s=GC(s),c=GC(c),e(lN,sN)):e(YC,VC),t}return t.base=function(p){return arguments.length?(i=+p,d()):i},t.domain=function(p){return arguments.length?(n(p),d()):n()},t.ticks=p=>{const h=n();let g=h[0],m=h[h.length-1];const v=m<g;v&&([g,m]=[m,g]);let S=s(g),j=s(m),k,w;const C=p==null?10:+p;let _=[];if(!(i%1)&&j-S<C){if(S=Math.floor(S),j=Math.ceil(j),g>0){for(;S<=j;++S)for(k=1;k<i;++k)if(w=S<0?k/c(-S):k*c(S),!(w<g)){if(w>m)break;_.push(w)}}else for(;S<=j;++S)for(k=i-1;k>=1;--k)if(w=S>0?k/c(-S):k*c(S),!(w<g)){if(w>m)break;_.push(w)}_.length*2<C&&(_=Hy(g,m,C))}else _=Hy(S,j,Math.min(j-S,C)).map(c);return v?_.reverse():_},t.tickFormat=(p,h)=>{if(p==null&&(p=10),h==null&&(h=i===10?"s":","),typeof h!="function"&&(!(i%1)&&(h=_c(h)).precision==null&&(h.trim=!0),h=cv(h)),p===1/0)return h;const g=Math.max(1,i*p/t.ticks().length);return m=>{let v=m/c(Math.round(s(m)));return v*i<i-.5&&(v*=i),v<=g?h(m):""}},t.nice=()=>n(V_(n(),{floor:p=>c(Math.floor(s(p))),ceil:p=>c(Math.ceil(s(p)))})),t}function G_(){const e=uv(tp()).domain([1,10]);return e.copy=()=>Uc(e,G_()).base(e.base()),Jn.apply(e,arguments),e}function XC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function QC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function dv(e){var t=1,n=e(XC(t),QC(t));return n.constant=function(i){return arguments.length?e(XC(t=+i),QC(t)):t},oo(n)}function X_(){var e=dv(tp());return e.copy=function(){return Uc(e,X_()).constant(e.constant())},Jn.apply(e,arguments)}function ZC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function fN(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pN(e){return e<0?-e*e:e*e}function fv(e){var t=e(Zr,Zr),n=1;function i(){return n===1?e(Zr,Zr):n===.5?e(fN,pN):e(ZC(n),ZC(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,i()):n},oo(t)}function pv(){var e=fv(tp());return e.copy=function(){return Uc(e,pv()).exponent(e.exponent())},Jn.apply(e,arguments),e}function gN(){return pv.apply(null,arguments).exponent(.5)}function JC(e){return Math.sign(e)*e*e}function hN(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Q_(){var e=lv(),t=[0,1],n=!1,i;function s(c){var d=hN(e(c));return isNaN(d)?i:n?Math.round(d):d}return s.invert=function(c){return e.invert(JC(c))},s.domain=function(c){return arguments.length?(e.domain(c),s):e.domain()},s.range=function(c){return arguments.length?(e.range((t=Array.from(c,gf)).map(JC)),s):t.slice()},s.rangeRound=function(c){return s.range(c).round(!0)},s.round=function(c){return arguments.length?(n=!!c,s):n},s.clamp=function(c){return arguments.length?(e.clamp(c),s):e.clamp()},s.unknown=function(c){return arguments.length?(i=c,s):i},s.copy=function(){return Q_(e.domain(),t).round(n).clamp(e.clamp()).unknown(i)},Jn.apply(s,arguments),oo(s)}function Z_(){var e=[],t=[],n=[],i;function s(){var d=0,p=Math.max(1,t.length);for(n=new Array(p-1);++d<p;)n[d-1]=v6(e,d/p);return c}function c(d){return d==null||isNaN(d=+d)?i:t[Ic(n,d)]}return c.invertExtent=function(d){var p=t.indexOf(d);return p<0?[NaN,NaN]:[p>0?n[p-1]:e[0],p<n.length?n[p]:e[e.length-1]]},c.domain=function(d){if(!arguments.length)return e.slice();e=[];for(let p of d)p!=null&&!isNaN(p=+p)&&e.push(p);return e.sort(Ga),s()},c.range=function(d){return arguments.length?(t=Array.from(d),s()):t.slice()},c.unknown=function(d){return arguments.length?(i=d,c):i},c.quantiles=function(){return n.slice()},c.copy=function(){return Z_().domain(e).range(t).unknown(i)},Jn.apply(c,arguments)}function J_(){var e=0,t=1,n=1,i=[.5],s=[0,1],c;function d(h){return h!=null&&h<=h?s[Ic(i,h,0,n)]:c}function p(){var h=-1;for(i=new Array(n);++h<n;)i[h]=((h+1)*t-(h-n)*e)/(n+1);return d}return d.domain=function(h){return arguments.length?([e,t]=h,e=+e,t=+t,p()):[e,t]},d.range=function(h){return arguments.length?(n=(s=Array.from(h)).length-1,p()):s.slice()},d.invertExtent=function(h){var g=s.indexOf(h);return g<0?[NaN,NaN]:g<1?[e,i[0]]:g>=n?[i[n-1],t]:[i[g-1],i[g]]},d.unknown=function(h){return arguments.length&&(c=h),d},d.thresholds=function(){return i.slice()},d.copy=function(){return J_().domain([e,t]).range(s).unknown(c)},Jn.apply(oo(d),arguments)}function eT(){var e=[.5],t=[0,1],n,i=1;function s(c){return c!=null&&c<=c?t[Ic(e,c,0,i)]:n}return s.domain=function(c){return arguments.length?(e=Array.from(c),i=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(c){return arguments.length?(t=Array.from(c),i=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(c){var d=t.indexOf(c);return[e[d-1],e[d]]},s.unknown=function(c){return arguments.length?(n=c,s):n},s.copy=function(){return eT().domain(e).range(t).unknown(n)},Jn.apply(s,arguments)}const Fm=new Date,Km=new Date;function zr(e,t,n,i){function s(c){return e(c=arguments.length===0?new Date:new Date(+c)),c}return s.floor=c=>(e(c=new Date(+c)),c),s.ceil=c=>(e(c=new Date(c-1)),t(c,1),e(c),c),s.round=c=>{const d=s(c),p=s.ceil(c);return c-d<p-c?d:p},s.offset=(c,d)=>(t(c=new Date(+c),d==null?1:Math.floor(d)),c),s.range=(c,d,p)=>{const h=[];if(c=s.ceil(c),p=p==null?1:Math.floor(p),!(c<d)||!(p>0))return h;let g;do h.push(g=new Date(+c)),t(c,p),e(c);while(g<c&&c<d);return h},s.filter=c=>zr(d=>{if(d>=d)for(;e(d),!c(d);)d.setTime(d-1)},(d,p)=>{if(d>=d)if(p<0)for(;++p<=0;)for(;t(d,-1),!c(d););else for(;--p>=0;)for(;t(d,1),!c(d););}),n&&(s.count=(c,d)=>(Fm.setTime(+c),Km.setTime(+d),e(Fm),e(Km),Math.floor(n(Fm,Km))),s.every=c=>(c=Math.floor(c),!isFinite(c)||!(c>0)?null:c>1?s.filter(i?d=>i(d)%c===0:d=>s.count(0,d)%c===0):s)),s}const mf=zr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);mf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?zr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):mf);mf.range;const aa=1e3,Gn=aa*60,oa=Gn*60,pa=oa*24,gv=pa*7,ek=pa*30,Ym=pa*365,Ro=zr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getUTCSeconds());Ro.range;const hv=zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*aa)},(e,t)=>{e.setTime(+e+t*Gn)},(e,t)=>(t-e)/Gn,e=>e.getMinutes());hv.range;const mv=zr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Gn)},(e,t)=>(t-e)/Gn,e=>e.getUTCMinutes());mv.range;const yv=zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*aa-e.getMinutes()*Gn)},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getHours());yv.range;const xv=zr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getUTCHours());xv.range;const Hc=zr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gn)/pa,e=>e.getDate()-1);Hc.range;const rp=zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pa,e=>e.getUTCDate()-1);rp.range;const tT=zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pa,e=>Math.floor(e/pa));tT.range;function Vo(e){return zr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Gn)/gv)}const np=Vo(0),yf=Vo(1),mN=Vo(2),yN=Vo(3),ql=Vo(4),xN=Vo(5),vN=Vo(6);np.range;yf.range;mN.range;yN.range;ql.range;xN.range;vN.range;function Go(e){return zr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/gv)}const ip=Go(0),xf=Go(1),bN=Go(2),SN=Go(3),Ul=Go(4),jN=Go(5),wN=Go(6);ip.range;xf.range;bN.range;SN.range;Ul.range;jN.range;wN.range;const vv=zr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vv.range;const bv=zr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());bv.range;const ga=zr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ga.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ga.range;const ha=zr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ha.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ha.range;function rT(e,t,n,i,s,c){const d=[[Ro,1,aa],[Ro,5,5*aa],[Ro,15,15*aa],[Ro,30,30*aa],[c,1,Gn],[c,5,5*Gn],[c,15,15*Gn],[c,30,30*Gn],[s,1,oa],[s,3,3*oa],[s,6,6*oa],[s,12,12*oa],[i,1,pa],[i,2,2*pa],[n,1,gv],[t,1,ek],[t,3,3*ek],[e,1,Ym]];function p(g,m,v){const S=m<g;S&&([g,m]=[m,g]);const j=v&&typeof v.range=="function"?v:h(g,m,v),k=j?j.range(g,+m+1):[];return S?k.reverse():k}function h(g,m,v){const S=Math.abs(m-g)/v,j=tv(([,,C])=>C).right(d,S);if(j===d.length)return e.every(Ky(g/Ym,m/Ym,v));if(j===0)return mf.every(Math.max(Ky(g,m,v),1));const[k,w]=d[S/d[j-1][2]<d[j][2]/S?j-1:j];return k.every(w)}return[p,h]}const[CN,kN]=rT(ha,bv,ip,tT,xv,mv),[zN,_N]=rT(ga,vv,np,Hc,yv,hv);function Vm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ic(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function TN(e){var t=e.dateTime,n=e.date,i=e.time,s=e.periods,c=e.days,d=e.shortDays,p=e.months,h=e.shortMonths,g=ac(s),m=oc(s),v=ac(c),S=oc(c),j=ac(d),k=oc(d),w=ac(p),C=oc(p),_=ac(h),E=oc(h),A={a:F,A:ge,b:je,B:Oe,c:null,d:ok,e:ok,f:QN,g:l8,G:c8,H:VN,I:GN,j:XN,L:nT,m:ZN,M:JN,p:$,q:L,Q:ck,s:uk,S:e8,u:t8,U:r8,V:n8,w:i8,W:a8,x:null,X:null,y:o8,Y:s8,Z:u8,"%":sk},T={a:ue,A:xe,b:ye,B:K,c:null,d:lk,e:lk,f:g8,g:C8,G:z8,H:d8,I:f8,j:p8,L:aT,m:h8,M:m8,p:le,q:ke,Q:ck,s:uk,S:y8,u:x8,U:v8,V:b8,w:S8,W:j8,x:null,X:null,y:w8,Y:k8,Z:_8,"%":sk},O={a:fe,A:ce,b:Z,B:Se,c:he,d:ik,e:ik,f:HN,g:nk,G:rk,H:ak,I:ak,j:BN,L:UN,m:WN,M:IN,p:Q,q:LN,Q:KN,s:YN,S:qN,u:DN,U:RN,V:PN,w:MN,W:$N,x:pe,X:U,y:nk,Y:rk,Z:NN,"%":FN};A.x=P(n,A),A.X=P(i,A),A.c=P(t,A),T.x=P(n,T),T.X=P(i,T),T.c=P(t,T);function P(N,ve){return function(ee){var se=[],Ne=-1,re=0,Ee=N.length,ze,$e,Ye;for(ee instanceof Date||(ee=new Date(+ee));++Ne<Ee;)N.charCodeAt(Ne)===37&&(se.push(N.slice(re,Ne)),($e=tk[ze=N.charAt(++Ne)])!=null?ze=N.charAt(++Ne):$e=ze==="e"?" ":"0",(Ye=ve[ze])&&(ze=Ye(ee,$e)),se.push(ze),re=Ne+1);return se.push(N.slice(re,Ne)),se.join("")}}function D(N,ve){return function(ee){var se=ic(1900,void 0,1),Ne=I(se,N,ee+="",0),re,Ee;if(Ne!=ee.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(ve&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(re=Gm(ic(se.y,0,1)),Ee=re.getUTCDay(),re=Ee>4||Ee===0?xf.ceil(re):xf(re),re=rp.offset(re,(se.V-1)*7),se.y=re.getUTCFullYear(),se.m=re.getUTCMonth(),se.d=re.getUTCDate()+(se.w+6)%7):(re=Vm(ic(se.y,0,1)),Ee=re.getDay(),re=Ee>4||Ee===0?yf.ceil(re):yf(re),re=Hc.offset(re,(se.V-1)*7),se.y=re.getFullYear(),se.m=re.getMonth(),se.d=re.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),Ee="Z"in se?Gm(ic(se.y,0,1)).getUTCDay():Vm(ic(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(Ee+5)%7:se.w+se.U*7-(Ee+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,Gm(se)):Vm(se)}}function I(N,ve,ee,se){for(var Ne=0,re=ve.length,Ee=ee.length,ze,$e;Ne<re;){if(se>=Ee)return-1;if(ze=ve.charCodeAt(Ne++),ze===37){if(ze=ve.charAt(Ne++),$e=O[ze in tk?ve.charAt(Ne++):ze],!$e||(se=$e(N,ee,se))<0)return-1}else if(ze!=ee.charCodeAt(se++))return-1}return se}function Q(N,ve,ee){var se=g.exec(ve.slice(ee));return se?(N.p=m.get(se[0].toLowerCase()),ee+se[0].length):-1}function fe(N,ve,ee){var se=j.exec(ve.slice(ee));return se?(N.w=k.get(se[0].toLowerCase()),ee+se[0].length):-1}function ce(N,ve,ee){var se=v.exec(ve.slice(ee));return se?(N.w=S.get(se[0].toLowerCase()),ee+se[0].length):-1}function Z(N,ve,ee){var se=_.exec(ve.slice(ee));return se?(N.m=E.get(se[0].toLowerCase()),ee+se[0].length):-1}function Se(N,ve,ee){var se=w.exec(ve.slice(ee));return se?(N.m=C.get(se[0].toLowerCase()),ee+se[0].length):-1}function he(N,ve,ee){return I(N,t,ve,ee)}function pe(N,ve,ee){return I(N,n,ve,ee)}function U(N,ve,ee){return I(N,i,ve,ee)}function F(N){return d[N.getDay()]}function ge(N){return c[N.getDay()]}function je(N){return h[N.getMonth()]}function Oe(N){return p[N.getMonth()]}function $(N){return s[+(N.getHours()>=12)]}function L(N){return 1+~~(N.getMonth()/3)}function ue(N){return d[N.getUTCDay()]}function xe(N){return c[N.getUTCDay()]}function ye(N){return h[N.getUTCMonth()]}function K(N){return p[N.getUTCMonth()]}function le(N){return s[+(N.getUTCHours()>=12)]}function ke(N){return 1+~~(N.getUTCMonth()/3)}return{format:function(N){var ve=P(N+="",A);return ve.toString=function(){return N},ve},parse:function(N){var ve=D(N+="",!1);return ve.toString=function(){return N},ve},utcFormat:function(N){var ve=P(N+="",T);return ve.toString=function(){return N},ve},utcParse:function(N){var ve=D(N+="",!0);return ve.toString=function(){return N},ve}}}var tk={"-":"",_:" ",0:"0"},Mr=/^\s*\d+/,AN=/^%/,EN=/[\\^$*+?|[\]().{}]/g;function jt(e,t,n){var i=e<0?"-":"",s=(i?-e:e)+"",c=s.length;return i+(c<n?new Array(n-c+1).join(t)+s:s)}function ON(e){return e.replace(EN,"\\$&")}function ac(e){return new RegExp("^(?:"+e.map(ON).join("|")+")","i")}function oc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function MN(e,t,n){var i=Mr.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function DN(e,t,n){var i=Mr.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function RN(e,t,n){var i=Mr.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function PN(e,t,n){var i=Mr.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function $N(e,t,n){var i=Mr.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function rk(e,t,n){var i=Mr.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function nk(e,t,n){var i=Mr.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function NN(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function LN(e,t,n){var i=Mr.exec(t.slice(n,n+1));return i?(e.q=i[0]*3-3,n+i[0].length):-1}function WN(e,t,n){var i=Mr.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function ik(e,t,n){var i=Mr.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function BN(e,t,n){var i=Mr.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function ak(e,t,n){var i=Mr.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function IN(e,t,n){var i=Mr.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function qN(e,t,n){var i=Mr.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function UN(e,t,n){var i=Mr.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function HN(e,t,n){var i=Mr.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function FN(e,t,n){var i=AN.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function KN(e,t,n){var i=Mr.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function YN(e,t,n){var i=Mr.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function ok(e,t){return jt(e.getDate(),t,2)}function VN(e,t){return jt(e.getHours(),t,2)}function GN(e,t){return jt(e.getHours()%12||12,t,2)}function XN(e,t){return jt(1+Hc.count(ga(e),e),t,3)}function nT(e,t){return jt(e.getMilliseconds(),t,3)}function QN(e,t){return nT(e,t)+"000"}function ZN(e,t){return jt(e.getMonth()+1,t,2)}function JN(e,t){return jt(e.getMinutes(),t,2)}function e8(e,t){return jt(e.getSeconds(),t,2)}function t8(e){var t=e.getDay();return t===0?7:t}function r8(e,t){return jt(np.count(ga(e)-1,e),t,2)}function iT(e){var t=e.getDay();return t>=4||t===0?ql(e):ql.ceil(e)}function n8(e,t){return e=iT(e),jt(ql.count(ga(e),e)+(ga(e).getDay()===4),t,2)}function i8(e){return e.getDay()}function a8(e,t){return jt(yf.count(ga(e)-1,e),t,2)}function o8(e,t){return jt(e.getFullYear()%100,t,2)}function l8(e,t){return e=iT(e),jt(e.getFullYear()%100,t,2)}function s8(e,t){return jt(e.getFullYear()%1e4,t,4)}function c8(e,t){var n=e.getDay();return e=n>=4||n===0?ql(e):ql.ceil(e),jt(e.getFullYear()%1e4,t,4)}function u8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+jt(t/60|0,"0",2)+jt(t%60,"0",2)}function lk(e,t){return jt(e.getUTCDate(),t,2)}function d8(e,t){return jt(e.getUTCHours(),t,2)}function f8(e,t){return jt(e.getUTCHours()%12||12,t,2)}function p8(e,t){return jt(1+rp.count(ha(e),e),t,3)}function aT(e,t){return jt(e.getUTCMilliseconds(),t,3)}function g8(e,t){return aT(e,t)+"000"}function h8(e,t){return jt(e.getUTCMonth()+1,t,2)}function m8(e,t){return jt(e.getUTCMinutes(),t,2)}function y8(e,t){return jt(e.getUTCSeconds(),t,2)}function x8(e){var t=e.getUTCDay();return t===0?7:t}function v8(e,t){return jt(ip.count(ha(e)-1,e),t,2)}function oT(e){var t=e.getUTCDay();return t>=4||t===0?Ul(e):Ul.ceil(e)}function b8(e,t){return e=oT(e),jt(Ul.count(ha(e),e)+(ha(e).getUTCDay()===4),t,2)}function S8(e){return e.getUTCDay()}function j8(e,t){return jt(xf.count(ha(e)-1,e),t,2)}function w8(e,t){return jt(e.getUTCFullYear()%100,t,2)}function C8(e,t){return e=oT(e),jt(e.getUTCFullYear()%100,t,2)}function k8(e,t){return jt(e.getUTCFullYear()%1e4,t,4)}function z8(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ul(e):Ul.ceil(e),jt(e.getUTCFullYear()%1e4,t,4)}function _8(){return"+0000"}function sk(){return"%"}function ck(e){return+e}function uk(e){return Math.floor(+e/1e3)}var Ml,lT,sT;T8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function T8(e){return Ml=TN(e),lT=Ml.format,Ml.parse,sT=Ml.utcFormat,Ml.utcParse,Ml}function A8(e){return new Date(e)}function E8(e){return e instanceof Date?+e:+new Date(+e)}function Sv(e,t,n,i,s,c,d,p,h,g){var m=lv(),v=m.invert,S=m.domain,j=g(".%L"),k=g(":%S"),w=g("%I:%M"),C=g("%I %p"),_=g("%a %d"),E=g("%b %d"),A=g("%B"),T=g("%Y");function O(P){return(h(P)<P?j:p(P)<P?k:d(P)<P?w:c(P)<P?C:i(P)<P?s(P)<P?_:E:n(P)<P?A:T)(P)}return m.invert=function(P){return new Date(v(P))},m.domain=function(P){return arguments.length?S(Array.from(P,E8)):S().map(A8)},m.ticks=function(P){var D=S();return e(D[0],D[D.length-1],P??10)},m.tickFormat=function(P,D){return D==null?O:g(D)},m.nice=function(P){var D=S();return(!P||typeof P.range!="function")&&(P=t(D[0],D[D.length-1],P??10)),P?S(V_(D,P)):m},m.copy=function(){return Uc(m,Sv(e,t,n,i,s,c,d,p,h,g))},m}function O8(){return Jn.apply(Sv(zN,_N,ga,vv,np,Hc,yv,hv,Ro,lT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function M8(){return Jn.apply(Sv(CN,kN,ha,bv,ip,rp,xv,mv,Ro,sT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ap(){var e=0,t=1,n,i,s,c,d=Zr,p=!1,h;function g(v){return v==null||isNaN(v=+v)?h:d(s===0?.5:(v=(c(v)-n)*s,p?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([e,t]=v,n=c(e=+e),i=c(t=+t),s=n===i?0:1/(i-n),g):[e,t]},g.clamp=function(v){return arguments.length?(p=!!v,g):p},g.interpolator=function(v){return arguments.length?(d=v,g):d};function m(v){return function(S){var j,k;return arguments.length?([j,k]=S,d=v(j,k),g):[d(0),d(1)]}}return g.range=m(es),g.rangeRound=m(ov),g.unknown=function(v){return arguments.length?(h=v,g):h},function(v){return c=v,n=v(e),i=v(t),s=n===i?0:1/(i-n),g}}function lo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cT(){var e=oo(ap()(Zr));return e.copy=function(){return lo(e,cT())},va.apply(e,arguments)}function uT(){var e=uv(ap()).domain([1,10]);return e.copy=function(){return lo(e,uT()).base(e.base())},va.apply(e,arguments)}function dT(){var e=dv(ap());return e.copy=function(){return lo(e,dT()).constant(e.constant())},va.apply(e,arguments)}function jv(){var e=fv(ap());return e.copy=function(){return lo(e,jv()).exponent(e.exponent())},va.apply(e,arguments)}function D8(){return jv.apply(null,arguments).exponent(.5)}function fT(){var e=[],t=Zr;function n(i){if(i!=null&&!isNaN(i=+i))return t((Ic(e,i,1)-1)/(e.length-1))}return n.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ga),n},n.interpolator=function(i){return arguments.length?(t=i,n):t},n.range=function(){return e.map((i,s)=>t(s/(e.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(s,c)=>x6(e,c/i))},n.copy=function(){return fT(t).domain(e)},va.apply(n,arguments)}function op(){var e=0,t=.5,n=1,i=1,s,c,d,p,h,g=Zr,m,v=!1,S;function j(w){return isNaN(w=+w)?S:(w=.5+((w=+m(w))-c)*(i*w<i*c?p:h),g(v?Math.max(0,Math.min(1,w)):w))}j.domain=function(w){return arguments.length?([e,t,n]=w,s=m(e=+e),c=m(t=+t),d=m(n=+n),p=s===c?0:.5/(c-s),h=c===d?0:.5/(d-c),i=c<s?-1:1,j):[e,t,n]},j.clamp=function(w){return arguments.length?(v=!!w,j):v},j.interpolator=function(w){return arguments.length?(g=w,j):g};function k(w){return function(C){var _,E,A;return arguments.length?([_,E,A]=C,g=F6(w,[_,E,A]),j):[g(0),g(.5),g(1)]}}return j.range=k(es),j.rangeRound=k(ov),j.unknown=function(w){return arguments.length?(S=w,j):S},function(w){return m=w,s=w(e),c=w(t),d=w(n),p=s===c?0:.5/(c-s),h=c===d?0:.5/(d-c),i=c<s?-1:1,j}}function pT(){var e=oo(op()(Zr));return e.copy=function(){return lo(e,pT())},va.apply(e,arguments)}function gT(){var e=uv(op()).domain([.1,1,10]);return e.copy=function(){return lo(e,gT()).base(e.base())},va.apply(e,arguments)}function hT(){var e=dv(op());return e.copy=function(){return lo(e,hT()).constant(e.constant())},va.apply(e,arguments)}function wv(){var e=fv(op());return e.copy=function(){return lo(e,wv()).exponent(e.exponent())},va.apply(e,arguments)}function R8(){return wv.apply(null,arguments).exponent(.5)}const fc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nv,scaleDiverging:pT,scaleDivergingLog:gT,scaleDivergingPow:wv,scaleDivergingSqrt:R8,scaleDivergingSymlog:hT,scaleIdentity:Y_,scaleImplicit:Yy,scaleLinear:K_,scaleLog:G_,scaleOrdinal:rv,scalePoint:S6,scalePow:pv,scaleQuantile:Z_,scaleQuantize:J_,scaleRadial:Q_,scaleSequential:cT,scaleSequentialLog:uT,scaleSequentialPow:jv,scaleSequentialQuantile:fT,scaleSequentialSqrt:D8,scaleSequentialSymlog:dT,scaleSqrt:gN,scaleSymlog:X_,scaleThreshold:eT,scaleTime:O8,scaleUtc:M8,tickFormat:F_},Symbol.toStringTag,{value:"Module"}));var so=e=>e.chartData,Cv=oe([so],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),lp=(e,t,n,i)=>i?Cv(e):so(e);function Hl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(On(t)&&On(n))return!0}return!1}function dk(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function P8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,i]=e,s,c;if(On(n))s=n;else if(typeof n=="function")return;if(On(i))c=i;else if(typeof i=="function")return;var d=[s,c];if(Hl(d))return d}}function $8(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var i=e(t,n);if(Hl(i))return dk(i,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[s,c]=e,d,p;if(s==="auto")t!=null&&(d=Math.min(...t));else if(Ke(s))d=s;else if(typeof s=="function")try{t!=null&&(d=s(t?.[0]))}catch{}else if(typeof s=="string"&&tC.test(s)){var h=tC.exec(s);if(h==null||t==null)d=void 0;else{var g=+h[1];d=t[0]-g}}else d=t?.[0];if(c==="auto")t!=null&&(p=Math.max(...t));else if(Ke(c))p=c;else if(typeof c=="function")try{t!=null&&(p=c(t?.[1]))}catch{}else if(typeof c=="string"&&rC.test(c)){var m=rC.exec(c);if(m==null||t==null)p=void 0;else{var v=+m[1];p=t[1]+v}}else p=t?.[1];var S=[d,p];if(Hl(S))return t==null?S:dk(S,t,n)}}}var ts=1e9,N8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zv,Xt=!0,Zn="[DecimalError] ",Wo=Zn+"Invalid argument: ",kv=Zn+"Exponent out of range: ",rs=Math.floor,Eo=Math.pow,L8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zn,Ar=1e7,Yt=7,mT=9007199254740991,vf=rs(mT/Yt),Le={};Le.absoluteValue=Le.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Le.comparedTo=Le.cmp=function(e){var t,n,i,s,c=this;if(e=new c.constructor(e),c.s!==e.s)return c.s||-e.s;if(c.e!==e.e)return c.e>e.e^c.s<0?1:-1;for(i=c.d.length,s=e.d.length,t=0,n=i<s?i:s;t<n;++t)if(c.d[t]!==e.d[t])return c.d[t]>e.d[t]^c.s<0?1:-1;return i===s?0:i>s^c.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Yt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Le.dividedBy=Le.div=function(e){return ca(this,new this.constructor(e))};Le.dividedToIntegerBy=Le.idiv=function(e){var t=this,n=t.constructor;return Wt(ca(t,new n(e),0,1),n.precision)};Le.equals=Le.eq=function(e){return!this.cmp(e)};Le.exponent=function(){return vr(this)};Le.greaterThan=Le.gt=function(e){return this.cmp(e)>0};Le.greaterThanOrEqualTo=Le.gte=function(e){return this.cmp(e)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(e){return this.cmp(e)<0};Le.lessThanOrEqualTo=Le.lte=function(e){return this.cmp(e)<1};Le.logarithm=Le.log=function(e){var t,n=this,i=n.constructor,s=i.precision,c=s+5;if(e===void 0)e=new i(10);else if(e=new i(e),e.s<1||e.eq(zn))throw Error(Zn+"NaN");if(n.s<1)throw Error(Zn+(n.s?"NaN":"-Infinity"));return n.eq(zn)?new i(0):(Xt=!1,t=ca(Tc(n,c),Tc(e,c),c),Xt=!0,Wt(t,s))};Le.minus=Le.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vT(t,e):yT(t,(e.s=-e.s,e))};Le.modulo=Le.mod=function(e){var t,n=this,i=n.constructor,s=i.precision;if(e=new i(e),!e.s)throw Error(Zn+"NaN");return n.s?(Xt=!1,t=ca(n,e,0,1).times(e),Xt=!0,n.minus(t)):Wt(new i(n),s)};Le.naturalExponential=Le.exp=function(){return xT(this)};Le.naturalLogarithm=Le.ln=function(){return Tc(this)};Le.negated=Le.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Le.plus=Le.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yT(t,e):vT(t,(e.s=-e.s,e))};Le.precision=Le.sd=function(e){var t,n,i,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wo+e);if(t=vr(s)+1,i=s.d.length-1,n=i*Yt+1,i=s.d[i],i){for(;i%10==0;i/=10)n--;for(i=s.d[0];i>=10;i/=10)n++}return e&&t>n?t:n};Le.squareRoot=Le.sqrt=function(){var e,t,n,i,s,c,d,p=this,h=p.constructor;if(p.s<1){if(!p.s)return new h(0);throw Error(Zn+"NaN")}for(e=vr(p),Xt=!1,s=Math.sqrt(+p),s==0||s==1/0?(t=zi(p.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=rs((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),i=new h(t)):i=new h(s.toString()),n=h.precision,s=d=n+3;;)if(c=i,i=c.plus(ca(p,c,d+2)).times(.5),zi(c.d).slice(0,d)===(t=zi(i.d)).slice(0,d)){if(t=t.slice(d-3,d+1),s==d&&t=="4999"){if(Wt(c,n+1,0),c.times(c).eq(p)){i=c;break}}else if(t!="9999")break;d+=4}return Xt=!0,Wt(i,n)};Le.times=Le.mul=function(e){var t,n,i,s,c,d,p,h,g,m=this,v=m.constructor,S=m.d,j=(e=new v(e)).d;if(!m.s||!e.s)return new v(0);for(e.s*=m.s,n=m.e+e.e,h=S.length,g=j.length,h<g&&(c=S,S=j,j=c,d=h,h=g,g=d),c=[],d=h+g,i=d;i--;)c.push(0);for(i=g;--i>=0;){for(t=0,s=h+i;s>i;)p=c[s]+j[i]*S[s-i-1]+t,c[s--]=p%Ar|0,t=p/Ar|0;c[s]=(c[s]+t)%Ar|0}for(;!c[--d];)c.pop();return t?++n:c.shift(),e.d=c,e.e=n,Xt?Wt(e,v.precision):e};Le.toDecimalPlaces=Le.todp=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(Oi(e,0,ts),t===void 0?t=i.rounding:Oi(t,0,8),Wt(n,e+vr(n)+1,t))};Le.toExponential=function(e,t){var n,i=this,s=i.constructor;return e===void 0?n=Uo(i,!0):(Oi(e,0,ts),t===void 0?t=s.rounding:Oi(t,0,8),i=Wt(new s(i),e+1,t),n=Uo(i,!0,e+1)),n};Le.toFixed=function(e,t){var n,i,s=this,c=s.constructor;return e===void 0?Uo(s):(Oi(e,0,ts),t===void 0?t=c.rounding:Oi(t,0,8),i=Wt(new c(s),e+vr(s)+1,t),n=Uo(i.abs(),!1,e+vr(i)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Le.toInteger=Le.toint=function(){var e=this,t=e.constructor;return Wt(new t(e),vr(e)+1,t.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(e){var t,n,i,s,c,d,p=this,h=p.constructor,g=12,m=+(e=new h(e));if(!e.s)return new h(zn);if(p=new h(p),!p.s){if(e.s<1)throw Error(Zn+"Infinity");return p}if(p.eq(zn))return p;if(i=h.precision,e.eq(zn))return Wt(p,i);if(t=e.e,n=e.d.length-1,d=t>=n,c=p.s,d){if((n=m<0?-m:m)<=mT){for(s=new h(zn),t=Math.ceil(i/Yt+4),Xt=!1;n%2&&(s=s.times(p),pk(s.d,t)),n=rs(n/2),n!==0;)p=p.times(p),pk(p.d,t);return Xt=!0,e.s<0?new h(zn).div(s):Wt(s,i)}}else if(c<0)throw Error(Zn+"NaN");return c=c<0&&e.d[Math.max(t,n)]&1?-1:1,p.s=1,Xt=!1,s=e.times(Tc(p,i+g)),Xt=!0,s=xT(s),s.s=c,s};Le.toPrecision=function(e,t){var n,i,s=this,c=s.constructor;return e===void 0?(n=vr(s),i=Uo(s,n<=c.toExpNeg||n>=c.toExpPos)):(Oi(e,1,ts),t===void 0?t=c.rounding:Oi(t,0,8),s=Wt(new c(s),e,t),n=vr(s),i=Uo(s,e<=n||n<=c.toExpNeg,e)),i};Le.toSignificantDigits=Le.tosd=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):(Oi(e,1,ts),t===void 0?t=i.rounding:Oi(t,0,8)),Wt(new i(n),e,t)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=vr(e),n=e.constructor;return Uo(e,t<=n.toExpNeg||t>=n.toExpPos)};function yT(e,t){var n,i,s,c,d,p,h,g,m=e.constructor,v=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),Xt?Wt(t,v):t;if(h=e.d,g=t.d,d=e.e,s=t.e,h=h.slice(),c=d-s,c){for(c<0?(i=h,c=-c,p=g.length):(i=g,s=d,p=h.length),d=Math.ceil(v/Yt),p=d>p?d+1:p+1,c>p&&(c=p,i.length=1),i.reverse();c--;)i.push(0);i.reverse()}for(p=h.length,c=g.length,p-c<0&&(c=p,i=g,g=h,h=i),n=0;c;)n=(h[--c]=h[c]+g[c]+n)/Ar|0,h[c]%=Ar;for(n&&(h.unshift(n),++s),p=h.length;h[--p]==0;)h.pop();return t.d=h,t.e=s,Xt?Wt(t,v):t}function Oi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Wo+e)}function zi(e){var t,n,i,s=e.length-1,c="",d=e[0];if(s>0){for(c+=d,t=1;t<s;t++)i=e[t]+"",n=Yt-i.length,n&&(c+=Ka(n)),c+=i;d=e[t],i=d+"",n=Yt-i.length,n&&(c+=Ka(n))}else if(d===0)return"0";for(;d%10===0;)d/=10;return c+d}var ca=(function(){function e(i,s){var c,d=0,p=i.length;for(i=i.slice();p--;)c=i[p]*s+d,i[p]=c%Ar|0,d=c/Ar|0;return d&&i.unshift(d),i}function t(i,s,c,d){var p,h;if(c!=d)h=c>d?1:-1;else for(p=h=0;p<c;p++)if(i[p]!=s[p]){h=i[p]>s[p]?1:-1;break}return h}function n(i,s,c){for(var d=0;c--;)i[c]-=d,d=i[c]<s[c]?1:0,i[c]=d*Ar+i[c]-s[c];for(;!i[0]&&i.length>1;)i.shift()}return function(i,s,c,d){var p,h,g,m,v,S,j,k,w,C,_,E,A,T,O,P,D,I,Q=i.constructor,fe=i.s==s.s?1:-1,ce=i.d,Z=s.d;if(!i.s)return new Q(i);if(!s.s)throw Error(Zn+"Division by zero");for(h=i.e-s.e,D=Z.length,O=ce.length,j=new Q(fe),k=j.d=[],g=0;Z[g]==(ce[g]||0);)++g;if(Z[g]>(ce[g]||0)&&--h,c==null?E=c=Q.precision:d?E=c+(vr(i)-vr(s))+1:E=c,E<0)return new Q(0);if(E=E/Yt+2|0,g=0,D==1)for(m=0,Z=Z[0],E++;(g<O||m)&&E--;g++)A=m*Ar+(ce[g]||0),k[g]=A/Z|0,m=A%Z|0;else{for(m=Ar/(Z[0]+1)|0,m>1&&(Z=e(Z,m),ce=e(ce,m),D=Z.length,O=ce.length),T=D,w=ce.slice(0,D),C=w.length;C<D;)w[C++]=0;I=Z.slice(),I.unshift(0),P=Z[0],Z[1]>=Ar/2&&++P;do m=0,p=t(Z,w,D,C),p<0?(_=w[0],D!=C&&(_=_*Ar+(w[1]||0)),m=_/P|0,m>1?(m>=Ar&&(m=Ar-1),v=e(Z,m),S=v.length,C=w.length,p=t(v,w,S,C),p==1&&(m--,n(v,D<S?I:Z,S))):(m==0&&(p=m=1),v=Z.slice()),S=v.length,S<C&&v.unshift(0),n(w,v,C),p==-1&&(C=w.length,p=t(Z,w,D,C),p<1&&(m++,n(w,D<C?I:Z,C))),C=w.length):p===0&&(m++,w=[0]),k[g++]=m,p&&w[0]?w[C++]=ce[T]||0:(w=[ce[T]],C=1);while((T++<O||w[0]!==void 0)&&E--)}return k[0]||k.shift(),j.e=h,Wt(j,d?c+vr(j)+1:c)}})();function xT(e,t){var n,i,s,c,d,p,h=0,g=0,m=e.constructor,v=m.precision;if(vr(e)>16)throw Error(kv+vr(e));if(!e.s)return new m(zn);for(Xt=!1,p=v,d=new m(.03125);e.abs().gte(.1);)e=e.times(d),g+=5;for(i=Math.log(Eo(2,g))/Math.LN10*2+5|0,p+=i,n=s=c=new m(zn),m.precision=p;;){if(s=Wt(s.times(e),p),n=n.times(++h),d=c.plus(ca(s,n,p)),zi(d.d).slice(0,p)===zi(c.d).slice(0,p)){for(;g--;)c=Wt(c.times(c),p);return m.precision=v,t==null?(Xt=!0,Wt(c,v)):c}c=d}}function vr(e){for(var t=e.e*Yt,n=e.d[0];n>=10;n/=10)t++;return t}function Xm(e,t,n){if(t>e.LN10.sd())throw Xt=!0,n&&(e.precision=n),Error(Zn+"LN10 precision limit exceeded");return Wt(new e(e.LN10),t)}function Ka(e){for(var t="";e--;)t+="0";return t}function Tc(e,t){var n,i,s,c,d,p,h,g,m,v=1,S=10,j=e,k=j.d,w=j.constructor,C=w.precision;if(j.s<1)throw Error(Zn+(j.s?"NaN":"-Infinity"));if(j.eq(zn))return new w(0);if(t==null?(Xt=!1,g=C):g=t,j.eq(10))return t==null&&(Xt=!0),Xm(w,g);if(g+=S,w.precision=g,n=zi(k),i=n.charAt(0),c=vr(j),Math.abs(c)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)j=j.times(e),n=zi(j.d),i=n.charAt(0),v++;c=vr(j),i>1?(j=new w("0."+n),c++):j=new w(i+"."+n.slice(1))}else return h=Xm(w,g+2,C).times(c+""),j=Tc(new w(i+"."+n.slice(1)),g-S).plus(h),w.precision=C,t==null?(Xt=!0,Wt(j,C)):j;for(p=d=j=ca(j.minus(zn),j.plus(zn),g),m=Wt(j.times(j),g),s=3;;){if(d=Wt(d.times(m),g),h=p.plus(ca(d,new w(s),g)),zi(h.d).slice(0,g)===zi(p.d).slice(0,g))return p=p.times(2),c!==0&&(p=p.plus(Xm(w,g+2,C).times(c+""))),p=ca(p,new w(v),g),w.precision=C,t==null?(Xt=!0,Wt(p,C)):p;p=h,s+=2}}function fk(e,t){var n,i,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;)++i;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(i,s),t){if(s-=i,n=n-i-1,e.e=rs(n/Yt),e.d=[],i=(n+1)%Yt,n<0&&(i+=Yt),i<s){for(i&&e.d.push(+t.slice(0,i)),s-=Yt;i<s;)e.d.push(+t.slice(i,i+=Yt));t=t.slice(i),i=Yt-t.length}else i-=s;for(;i--;)t+="0";if(e.d.push(+t),Xt&&(e.e>vf||e.e<-vf))throw Error(kv+n)}else e.s=0,e.e=0,e.d=[0];return e}function Wt(e,t,n){var i,s,c,d,p,h,g,m,v=e.d;for(d=1,c=v[0];c>=10;c/=10)d++;if(i=t-d,i<0)i+=Yt,s=t,g=v[m=0];else{if(m=Math.ceil((i+1)/Yt),c=v.length,m>=c)return e;for(g=c=v[m],d=1;c>=10;c/=10)d++;i%=Yt,s=i-Yt+d}if(n!==void 0&&(c=Eo(10,d-s-1),p=g/c%10|0,h=t<0||v[m+1]!==void 0||g%c,h=n<4?(p||h)&&(n==0||n==(e.s<0?3:2)):p>5||p==5&&(n==4||h||n==6&&(i>0?s>0?g/Eo(10,d-s):0:v[m-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return h?(c=vr(e),v.length=1,t=t-c-1,v[0]=Eo(10,(Yt-t%Yt)%Yt),e.e=rs(-t/Yt)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(i==0?(v.length=m,c=1,m--):(v.length=m+1,c=Eo(10,Yt-i),v[m]=s>0?(g/Eo(10,d-s)%Eo(10,s)|0)*c:0),h)for(;;)if(m==0){(v[0]+=c)==Ar&&(v[0]=1,++e.e);break}else{if(v[m]+=c,v[m]!=Ar)break;v[m--]=0,c=1}for(i=v.length;v[--i]===0;)v.pop();if(Xt&&(e.e>vf||e.e<-vf))throw Error(kv+vr(e));return e}function vT(e,t){var n,i,s,c,d,p,h,g,m,v,S=e.constructor,j=S.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new S(e),Xt?Wt(t,j):t;if(h=e.d,v=t.d,i=t.e,g=e.e,h=h.slice(),d=g-i,d){for(m=d<0,m?(n=h,d=-d,p=v.length):(n=v,i=g,p=h.length),s=Math.max(Math.ceil(j/Yt),p)+2,d>s&&(d=s,n.length=1),n.reverse(),s=d;s--;)n.push(0);n.reverse()}else{for(s=h.length,p=v.length,m=s<p,m&&(p=s),s=0;s<p;s++)if(h[s]!=v[s]){m=h[s]<v[s];break}d=0}for(m&&(n=h,h=v,v=n,t.s=-t.s),p=h.length,s=v.length-p;s>0;--s)h[p++]=0;for(s=v.length;s>d;){if(h[--s]<v[s]){for(c=s;c&&h[--c]===0;)h[c]=Ar-1;--h[c],h[s]+=Ar}h[s]-=v[s]}for(;h[--p]===0;)h.pop();for(;h[0]===0;h.shift())--i;return h[0]?(t.d=h,t.e=i,Xt?Wt(t,j):t):new S(0)}function Uo(e,t,n){var i,s=vr(e),c=zi(e.d),d=c.length;return t?(n&&(i=n-d)>0?c=c.charAt(0)+"."+c.slice(1)+Ka(i):d>1&&(c=c.charAt(0)+"."+c.slice(1)),c=c+(s<0?"e":"e+")+s):s<0?(c="0."+Ka(-s-1)+c,n&&(i=n-d)>0&&(c+=Ka(i))):s>=d?(c+=Ka(s+1-d),n&&(i=n-s-1)>0&&(c=c+"."+Ka(i))):((i=s+1)<d&&(c=c.slice(0,i)+"."+c.slice(i)),n&&(i=n-d)>0&&(s+1===d&&(c+="."),c+=Ka(i))),e.s<0?"-"+c:c}function pk(e,t){if(e.length>t)return e.length=t,!0}function bT(e){var t,n,i;function s(c){var d=this;if(!(d instanceof s))return new s(c);if(d.constructor=s,c instanceof s){d.s=c.s,d.e=c.e,d.d=(c=c.d)?c.slice():c;return}if(typeof c=="number"){if(c*0!==0)throw Error(Wo+c);if(c>0)d.s=1;else if(c<0)c=-c,d.s=-1;else{d.s=0,d.e=0,d.d=[0];return}if(c===~~c&&c<1e7){d.e=0,d.d=[c];return}return fk(d,c.toString())}else if(typeof c!="string")throw Error(Wo+c);if(c.charCodeAt(0)===45?(c=c.slice(1),d.s=-1):d.s=1,L8.test(c))fk(d,c);else throw Error(Wo+c)}if(s.prototype=Le,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=bT,s.config=s.set=W8,e===void 0&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return s.config(e),s}function W8(e){if(!e||typeof e!="object")throw Error(Zn+"Object expected");var t,n,i,s=["precision",1,ts,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((i=e[n=s[t]])!==void 0)if(rs(i)===i&&i>=s[t+1]&&i<=s[t+2])this[n]=i;else throw Error(Wo+n+": "+i);if((i=e[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(Wo+n+": "+i);return this}var zv=bT(N8);zn=new zv(1);const Ot=zv;var B8=e=>e,ST={},jT=e=>e===ST,gk=e=>function t(){return arguments.length===0||arguments.length===1&&jT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},wT=(e,t)=>e===1?t:gk(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var c=i.filter(d=>d!==ST).length;return c>=e?t(...i):wT(e-c,gk(function(){for(var d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];var g=i.map(m=>jT(m)?p.shift():m);return t(...g,...p)}))}),sp=e=>wT(e.length,e),Qy=(e,t)=>{for(var n=[],i=e;i<t;++i)n[i-e]=i;return n},I8=sp((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),q8=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.length)return B8;var s=n.reverse(),c=s[0],d=s.slice(1);return function(){return d.reduce((p,h)=>h(p),c(...arguments))}},Zy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),CT=e=>{var t=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return t&&s.every((d,p)=>{var h;return d===((h=t)===null||h===void 0?void 0:h[p])})||(t=s,n=e(...s)),n}};function kT(e){var t;return e===0?t=1:t=Math.floor(new Ot(e).abs().log(10).toNumber())+1,t}function zT(e,t,n){for(var i=new Ot(e),s=0,c=[];i.lt(t)&&s<1e5;)c.push(i.toNumber()),i=i.add(n),s++;return c}sp((e,t,n)=>{var i=+e,s=+t;return i+n*(s-i)});sp((e,t,n)=>{var i=t-+e;return i=i||1/0,(n-e)/i});sp((e,t,n)=>{var i=t-+e;return i=i||1/0,Math.max(0,Math.min(1,(n-e)/i))});var _T=e=>{var[t,n]=e,[i,s]=[t,n];return t>n&&([i,s]=[n,t]),[i,s]},TT=(e,t,n)=>{if(e.lte(0))return new Ot(0);var i=kT(e.toNumber()),s=new Ot(10).pow(i),c=e.div(s),d=i!==1?.05:.1,p=new Ot(Math.ceil(c.div(d).toNumber())).add(n).mul(d),h=p.mul(s);return t?new Ot(h.toNumber()):new Ot(Math.ceil(h.toNumber()))},U8=(e,t,n)=>{var i=new Ot(1),s=new Ot(e);if(!s.isint()&&n){var c=Math.abs(e);c<1?(i=new Ot(10).pow(kT(e)-1),s=new Ot(Math.floor(s.div(i).toNumber())).mul(i)):c>1&&(s=new Ot(Math.floor(e)))}else e===0?s=new Ot(Math.floor((t-1)/2)):n||(s=new Ot(Math.floor(e)));var d=Math.floor((t-1)/2),p=q8(I8(h=>s.add(new Ot(h-d).mul(i)).toNumber()),Qy);return p(0,t)},AT=function(t,n,i,s){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(i-1)))return{step:new Ot(0),tickMin:new Ot(0),tickMax:new Ot(0)};var d=TT(new Ot(n).sub(t).div(i-1),s,c),p;t<=0&&n>=0?p=new Ot(0):(p=new Ot(t).add(n).div(2),p=p.sub(new Ot(p).mod(d)));var h=Math.ceil(p.sub(t).div(d).toNumber()),g=Math.ceil(new Ot(n).sub(p).div(d).toNumber()),m=h+g+1;return m>i?AT(t,n,i,s,c+1):(m<i&&(g=n>0?g+(i-m):g,h=n>0?h:h+(i-m)),{step:d,tickMin:p.sub(new Ot(h).mul(d)),tickMax:p.add(new Ot(g).mul(d))})};function H8(e){var[t,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[d,p]=_T([t,n]);if(d===-1/0||p===1/0){var h=p===1/0?[d,...Qy(0,i-1).map(()=>1/0)]:[...Qy(0,i-1).map(()=>-1/0),p];return t>n?Zy(h):h}if(d===p)return U8(d,i,s);var{step:g,tickMin:m,tickMax:v}=AT(d,p,c,s,0),S=zT(m,v.add(new Ot(.1).mul(g)),g);return t>n?Zy(S):S}function F8(e,t){var[n,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=_T([n,i]);if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var p=Math.max(t,2),h=TT(new Ot(d).sub(c).div(p-1),s,0),g=[...zT(new Ot(c),new Ot(d),h),d];return s===!1&&(g=g.map(m=>Math.round(m))),n>i?Zy(g):g}var K8=CT(H8),Y8=CT(F8),ET=e=>e.rootProps.maxBarSize,V8=e=>e.rootProps.barGap,OT=e=>e.rootProps.barCategoryGap,G8=e=>e.rootProps.barSize,Fc=e=>e.rootProps.stackOffset,_v=e=>e.options.chartName,Tv=e=>e.rootProps.syncId,MT=e=>e.rootProps.syncMethod,Av=e=>e.options.eventEmitter,na={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},wn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},cp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},X8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:na.angleAxisId,includeHidden:!1,name:void 0,reversed:na.reversed,scale:na.scale,tick:na.tick,tickCount:void 0,ticks:void 0,type:na.type,unit:void 0},Q8={allowDataOverflow:wn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:wn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:wn.scale,tick:wn.tick,tickCount:wn.tickCount,ticks:void 0,type:wn.type,unit:void 0},Z8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:na.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:na.scale,tick:na.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},J8={allowDataOverflow:wn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:wn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:wn.scale,tick:wn.tick,tickCount:wn.tickCount,ticks:void 0,type:"category",unit:void 0},Ev=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Z8:X8,Ov=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?J8:Q8,up=e=>e.polarOptions,Mv=oe([ya,xa,kr],h_),DT=oe([up,Mv],(e,t)=>{if(e!=null)return Yr(e.innerRadius,t,0)}),RT=oe([up,Mv],(e,t)=>{if(e!=null)return Yr(e.outerRadius,t,t*.8)}),eL=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},PT=oe([up],eL);oe([Ev,PT],cp);var $T=oe([Mv,DT,RT],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});oe([Ov,$T],cp);var NT=oe([ht,up,DT,RT,ya,xa],(e,t,n,i,s,c)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||i==null)){var{cx:d,cy:p,startAngle:h,endAngle:g}=t;return{cx:Yr(d,s,s/2),cy:Yr(p,c,c/2),innerRadius:n,outerRadius:i,startAngle:h,endAngle:g,clockWise:!1}}}),Jt=(e,t)=>t,Kc=(e,t,n)=>n;function Dv(e){return e?.id}var _r=e=>{var t=ht(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ns=e=>e.tooltip.settings.axisId,Dr=e=>{var t=_r(e),n=ns(e);return Yc(e,t,n)},LT=oe([Dr],e=>e?.dataKey);function WT(e,t,n){var{chartData:i=[]}=t,{allowDuplicatedCategory:s,dataKey:c}=n,d=new Map;return e.forEach(p=>{var h,g=(h=p.data)!==null&&h!==void 0?h:i;if(!(g==null||g.length===0)){var m=Dv(p);g.forEach((v,S)=>{var j=c==null||s?S:String(qt(v,c,null)),k=qt(v,p.dataKey,0),w;d.has(j)?w=d.get(j):w={},Object.assign(w,{[m]:k}),d.set(j,w)})}}),Array.from(d.values())}function dp(e){return e.stackId!=null&&e.dataKey!=null}function hk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function bf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(n),!0).forEach(function(i){tL(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function tL(e,t,n){return(t=rL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rL(e){var t=nL(e,"string");return typeof t=="symbol"?t:t+""}function nL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jy=[0,"auto"],Sn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},BT=(e,t)=>e.cartesianAxis.xAxis[t],ba=(e,t)=>{var n=BT(e,t);return n??Sn},jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Jy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Lc},IT=(e,t)=>e.cartesianAxis.yAxis[t],Sa=(e,t)=>{var n=IT(e,t);return n??jn},iL={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Rv=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??iL},pr=(e,t,n)=>{switch(t){case"xAxis":return ba(e,n);case"yAxis":return Sa(e,n);case"zAxis":return Rv(e,n);case"angleAxis":return Ev(e,n);case"radiusAxis":return Ov(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},aL=(e,t,n)=>{switch(t){case"xAxis":return ba(e,n);case"yAxis":return Sa(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Yc=(e,t,n)=>{switch(t){case"xAxis":return ba(e,n);case"yAxis":return Sa(e,n);case"angleAxis":return Ev(e,n);case"radiusAxis":return Ov(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},qT=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Pv(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var fp=e=>e.graphicalItems.cartesianItems,oL=oe([Jt,Kc],Pv),$v=(e,t,n)=>e.filter(n).filter(i=>t?.includeHidden===!0?!0:!i.hide),Vc=oe([fp,pr,oL],$v),UT=oe([Vc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(dp)),HT=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),FT=oe([Vc],HT),Nv=e=>e.map(t=>t.data).filter(Boolean).flat(1),lL=oe([Vc],Nv),Lv=(e,t)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:s}=t;return e.length>0?e:n.slice(i,s+1)},Wv=oe([lL,lp],Lv),Bv=(e,t,n)=>t?.dataKey!=null?e.map(i=>({value:qt(i,t.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>e.map(s=>({value:qt(s,i)}))):e.map(i=>({value:i})),pp=oe([Wv,pr,Vc],Bv);function KT(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Xo(e){return e.filter(t=>Ei(t)||t instanceof Date).map(Number).filter(t=>An(t)===!1)}function sL(e,t,n){return!n||typeof t!="number"||An(t)?[]:n.length?Xo(n.flatMap(i=>{var s=qt(e,i.dataKey),c,d;if(Array.isArray(s)?[c,d]=s:c=d=s,!(!On(c)||!On(d)))return[t-c,t+d]})):[]}var cL=oe([UT,lp,Dr],WT),YT=(e,t,n)=>{var i={},s=t.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),i);return Object.fromEntries(Object.entries(s).map(c=>{var[d,p]=c,h=p.map(Dv);return[d,{stackedData:p4(e,h,n),graphicalItems:p}]}))},ex=oe([cL,UT,Fc],YT),VT=(e,t,n)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(n!=="zAxis"){var c=x4(e,i,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},uL=oe([ex,so,Jt],VT),GT=(e,t,n,i,s)=>n.length>0?e.flatMap(c=>n.flatMap(d=>{var p,h,g=(p=i[d.id])===null||p===void 0?void 0:p.filter(v=>KT(s,v)),m=qt(c,(h=t.dataKey)!==null&&h!==void 0?h:d.dataKey);return{value:m,errorDomain:sL(c,m,g)}})).filter(Boolean):t?.dataKey!=null?e.map(c=>({value:qt(c,t.dataKey),errorDomain:[]})):e.map(c=>({value:c,errorDomain:[]})),gp=e=>e.errorBars,XT=(e,t,n)=>e.flatMap(i=>t[i.id]).filter(Boolean).filter(i=>KT(n,i));oe([FT,gp,Jt],XT);var dL=oe([Wv,pr,FT,gp,Jt],GT);function fL(e){var{value:t}=e;if(Ei(t)||t instanceof Date)return t}var mk=e=>{var t=e.flatMap(i=>[i.value,i.errorDomain]).flat(1),n=Xo(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},pL=(e,t,n)=>{var i=e.map(fL).filter(s=>s!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&sz(i))?P_(0,e.length):t.allowDuplicatedCategory?i:Array.from(new Set(i))},Iv=e=>{var t;if(e==null||!("domain"in e))return Jy;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Xo(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Jy},Sf=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=n.filter(Boolean);if(s.length!==0){var c=s.flat(),d=Math.min(...c),p=Math.max(...c);return[d,p]}},QT=e=>e.referenceElements.dots,is=(e,t,n)=>e.filter(i=>i.ifOverflow==="extendDomain").filter(i=>t==="xAxis"?i.xAxisId===n:i.yAxisId===n),gL=oe([QT,Jt,Kc],is),ZT=e=>e.referenceElements.areas,hL=oe([ZT,Jt,Kc],is),JT=e=>e.referenceElements.lines,mL=oe([JT,Jt,Kc],is),eA=(e,t)=>{var n=Xo(e.map(i=>t==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yL=oe(gL,Jt,eA),tA=(e,t)=>{var n=Xo(e.flatMap(i=>[t==="xAxis"?i.x1:i.y1,t==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},xL=oe([hL,Jt],tA),rA=(e,t)=>{var n=Xo(e.map(i=>t==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vL=oe(mL,Jt,rA),bL=oe(yL,vL,xL,(e,t,n)=>Sf(e,n,t)),nA=oe([pr],Iv),qv=(e,t,n,i,s,c,d)=>{var p=P8(t,e.allowDataOverflow);if(p!=null)return p;var h=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",g=h?Sf(n,s,mk(i)):Sf(s,mk(i));return $8(t,g,e.allowDataOverflow)},SL=oe([pr,nA,uL,dL,bL,ht,Jt],qv),jL=[0,1],Uv=(e,t,n,i,s,c,d)=>{if(!((e==null||n==null||n.length===0)&&d===void 0)){var{dataKey:p,type:h}=e,g=io(t,c);return g&&p==null?P_(0,n.length):h==="category"?pL(i,e,g):s==="expand"?jL:d}},Hv=oe([pr,ht,Wv,pp,Fc,Jt,SL],Uv),iA=(e,t,n,i,s)=>{if(e!=null){var{scale:c,type:d}=e;if(c==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":d==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!n)?"point":d==="category"?"band":"linear";if(typeof c=="string"){var p="scale".concat(Rc(c));return p in fc?p:"point"}}},as=oe([pr,ht,qT,_v,Jt],iA);function wL(e){if(e!=null){if(e in fc)return fc[e]();var t="scale".concat(Rc(e));if(t in fc)return fc[t]()}}function Fv(e,t,n,i){if(!(n==null||i==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(i);var s=wL(t);if(s!=null){var c=s.domain(n).range(i);return s4(c),c}}}var Kv=(e,t,n)=>{var i=Iv(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&Hl(e))return K8(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Hl(e))return Y8(e,t.tickCount,t.allowDecimals)}},Yv=oe([Hv,Yc,as],Kv),Vv=(e,t,n,i)=>{if(i!=="angleAxis"&&e?.type==="number"&&Hl(t)&&Array.isArray(n)&&n.length>0){var s=t[0],c=n[0],d=t[1],p=n[n.length-1];return[Math.min(s,c),Math.max(d,p)]}return t},CL=oe([pr,Hv,Yv,Jt],Vv),kL=oe(pp,pr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,i=Array.from(Xo(e.map(p=>p.value))).sort((p,h)=>p-h);if(i.length<2)return 1/0;var s=i[i.length-1]-i[0];if(s===0)return 1/0;for(var c=0;c<i.length-1;c++){var d=i[c+1]-i[c];n=Math.min(n,d)}return n/s}}),aA=oe(kL,ht,OT,kr,(e,t,n,i)=>i,(e,t,n,i,s)=>{if(!On(e))return 0;var c=t==="vertical"?i.height:i.width;if(s==="gap")return e*c/2;if(s==="no-gap"){var d=Yr(n,e*c),p=e*c/2;return p-d-(p-d)/c*d}return 0}),zL=(e,t)=>{var n=ba(e,t);return n==null||typeof n.padding!="string"?0:aA(e,"xAxis",t,n.padding)},_L=(e,t)=>{var n=Sa(e,t);return n==null||typeof n.padding!="string"?0:aA(e,"yAxis",t,n.padding)},TL=oe(ba,zL,(e,t)=>{var n,i;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((n=s.left)!==null&&n!==void 0?n:0)+t,right:((i=s.right)!==null&&i!==void 0?i:0)+t}}),AL=oe(Sa,_L,(e,t)=>{var n,i;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((n=s.top)!==null&&n!==void 0?n:0)+t,bottom:((i=s.bottom)!==null&&i!==void 0?i:0)+t}}),EL=oe([kr,TL,Jf,Zf,(e,t,n)=>n],(e,t,n,i,s)=>{var{padding:c}=i;return s?[c.left,n.width-c.right]:[e.left+t.left,e.left+e.width-t.right]}),OL=oe([kr,ht,AL,Jf,Zf,(e,t,n)=>n],(e,t,n,i,s,c)=>{var{padding:d}=s;return c?[i.height-d.bottom,d.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Gc=(e,t,n,i)=>{var s;switch(t){case"xAxis":return EL(e,n,i);case"yAxis":return OL(e,n,i);case"zAxis":return(s=Rv(e,n))===null||s===void 0?void 0:s.range;case"angleAxis":return PT(e);case"radiusAxis":return $T(e,n);default:return}},oA=oe([pr,Gc],cp),os=oe([pr,as,CL,oA],Fv);oe([Vc,gp,Jt],XT);function lA(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var hp=(e,t)=>t,mp=(e,t,n)=>n,ML=oe(Xf,hp,mp,(e,t,n)=>e.filter(i=>i.orientation===t).filter(i=>i.mirror===n).sort(lA)),DL=oe(Qf,hp,mp,(e,t,n)=>e.filter(i=>i.orientation===t).filter(i=>i.mirror===n).sort(lA)),sA=(e,t)=>({width:e.width,height:t.height}),RL=(e,t)=>{var n=typeof t.width=="number"?t.width:Lc;return{width:n,height:e.height}},cA=oe(kr,ba,sA),PL=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},$L=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},NL=oe(xa,kr,ML,hp,mp,(e,t,n,i,s)=>{var c={},d;return n.forEach(p=>{var h=sA(t,p);d==null&&(d=PL(t,i,e));var g=i==="top"&&!s||i==="bottom"&&s;c[p.id]=d-Number(g)*h.height,d+=(g?-1:1)*h.height}),c}),LL=oe(ya,kr,DL,hp,mp,(e,t,n,i,s)=>{var c={},d;return n.forEach(p=>{var h=RL(t,p);d==null&&(d=$L(t,i,e));var g=i==="left"&&!s||i==="right"&&s;c[p.id]=d-Number(g)*h.width,d+=(g?-1:1)*h.width}),c}),WL=(e,t)=>{var n=ba(e,t);if(n!=null)return NL(e,n.orientation,n.mirror)},BL=oe([kr,ba,WL,(e,t)=>t],(e,t,n,i)=>{if(t!=null){var s=n?.[i];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),IL=(e,t)=>{var n=Sa(e,t);if(n!=null)return LL(e,n.orientation,n.mirror)},qL=oe([kr,Sa,IL,(e,t)=>t],(e,t,n,i)=>{if(t!=null){var s=n?.[i];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),uA=oe(kr,Sa,(e,t)=>{var n=typeof t.width=="number"?t.width:Lc;return{width:n,height:e.height}}),yk=(e,t,n)=>{switch(t){case"xAxis":return cA(e,n).width;case"yAxis":return uA(e,n).height;default:return}},dA=(e,t,n,i)=>{if(n!=null){var{allowDuplicatedCategory:s,type:c,dataKey:d}=n,p=io(e,i),h=t.map(g=>g.value);if(d&&p&&c==="category"&&s&&sz(h))return h}},Gv=oe([ht,pp,pr,Jt],dA),fA=(e,t,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:c}=n,d=io(e,i);if(d&&(s==="number"||c!=="auto"))return t.map(p=>p.value)}},Xv=oe([ht,pp,Yc,Jt],fA),xk=oe([ht,aL,as,os,Gv,Xv,Gc,Yv,Jt],(e,t,n,i,s,c,d,p,h)=>{if(t==null)return null;var g=io(e,h);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:h,categoricalDomain:c,duplicateDomain:s,isCategorical:g,niceTicks:p,range:d,realScaleType:n,scale:i}}),UL=(e,t,n,i,s,c,d,p,h)=>{if(!(t==null||i==null)){var g=io(e,h),{type:m,ticks:v,tickCount:S}=t,j=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,k=m==="category"&&i.bandwidth?i.bandwidth()/j:0;k=h==="angleAxis"&&c!=null&&c.length>=2?Er(c[0]-c[1])*2*k:k;var w=v||s;if(w){var C=w.map((_,E)=>{var A=d?d.indexOf(_):_;return{index:E,coordinate:i(A)+k,value:_,offset:k}});return C.filter(_=>!An(_.coordinate))}return g&&p?p.map((_,E)=>({coordinate:i(_)+k,value:_,index:E,offset:k})):i.ticks?i.ticks(S).map(_=>({coordinate:i(_)+k,value:_,offset:k})):i.domain().map((_,E)=>({coordinate:i(_)+k,value:d?d[_]:_,index:E,offset:k}))}},pA=oe([ht,Yc,as,os,Yv,Gc,Gv,Xv,Jt],UL),HL=(e,t,n,i,s,c,d)=>{if(!(t==null||n==null||i==null||i[0]===i[1])){var p=io(e,d),{tickCount:h}=t,g=0;return g=d==="angleAxis"&&i?.length>=2?Er(i[0]-i[1])*2*g:g,p&&c?c.map((m,v)=>({coordinate:n(m)+g,value:m,index:v,offset:g})):n.ticks?n.ticks(h).map(m=>({coordinate:n(m)+g,value:m,offset:g})):n.domain().map((m,v)=>({coordinate:n(m)+g,value:s?s[m]:m,index:v,offset:g}))}},Xa=oe([ht,Yc,os,Gc,Gv,Xv,Jt],HL),Qa=oe(pr,os,(e,t)=>{if(!(e==null||t==null))return bf(bf({},e),{},{scale:t})}),FL=oe([pr,as,Hv,oA],Fv);oe((e,t,n)=>Rv(e,n),FL,(e,t)=>{if(!(e==null||t==null))return bf(bf({},e),{},{scale:t})});var KL=oe([ht,Xf,Qf],(e,t,n)=>{switch(e){case"horizontal":return t.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),gA=e=>e.options.defaultTooltipEventType,hA=e=>e.options.validateTooltipEventTypes;function mA(e,t,n){if(e==null)return t;var i=e?"axis":"item";return n==null?t:n.includes(i)?i:t}function Qv(e,t){var n=gA(e),i=hA(e);return mA(t,n,i)}function YL(e){return Ie(t=>Qv(t,e))}var yA=(e,t)=>{var n,i=Number(t);if(!(An(i)||t==null))return i>=0?e==null||(n=e[i])===null||n===void 0?void 0:n.value:void 0},VL=e=>e.tooltip.settings,Va={active:!1,index:null,dataKey:void 0,coordinate:void 0},GL={itemInteraction:{click:Va,hover:Va},axisInteraction:{click:Va,hover:Va},keyboardInteraction:Va,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},xA=Mn({name:"tooltip",initialState:GL,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=sa(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:XL,removeTooltipEntrySettings:QL,setTooltipSettingsState:ZL,setActiveMouseOverItemIndex:vA,mouseLeaveItem:JL,mouseLeaveChart:bA,setActiveClickItemIndex:eW,setMouseOverAxisIndex:SA,setMouseClickAxisIndex:tW,setSyncInteraction:tx,setKeyboardInteraction:rx}=xA.actions,rW=xA.reducer;function vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(n),!0).forEach(function(i){nW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function nW(e,t,n){return(t=iW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iW(e){var t=aW(e,"string");return typeof t=="symbol"?t:t+""}function aW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oW(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function lW(e){return e.index!=null}var jA=(e,t,n,i)=>{if(t==null)return Va;var s=oW(e,t,n);if(s==null)return Va;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var c=e.settings.active===!0;if(lW(s)){if(c)return zd(zd({},s),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i};return zd(zd({},Va),{},{coordinate:s.coordinate})},Zv=(e,t)=>{var n=e?.index;if(n==null)return null;var i=Number(n);if(!On(i))return n;var s=0,c=1/0;return t.length>0&&(c=t.length-1),String(Math.max(s,Math.min(i,c)))},wA=(e,t,n,i,s,c,d,p)=>{if(!(c==null||p==null)){var h=d[0],g=h==null?void 0:p(h.positions,c);if(g!=null)return g;var m=s?.[Number(c)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(i.top+t)/2};default:return{x:(i.left+e)/2,y:m.coordinate}}}},CA=(e,t,n,i)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return n==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&i!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(c=>{var d;return((d=c.settings)===null||d===void 0?void 0:d.dataKey)===s})},Xc=e=>e.options.tooltipPayloadSearcher,ls=e=>e.tooltip;function bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Sk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(n),!0).forEach(function(i){sW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function sW(e,t,n){return(t=cW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cW(e){var t=uW(e,"string");return typeof t=="symbol"?t:t+""}function uW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dW(e,t){return e??t}var kA=(e,t,n,i,s,c,d)=>{if(!(t==null||c==null)){var{chartData:p,computedData:h,dataStartIndex:g,dataEndIndex:m}=n,v=[];return e.reduce((S,j)=>{var k,{dataDefinedOnItem:w,settings:C}=j,_=dW(w,p),E=Array.isArray(_)?m_(_,g,m):_,A=(k=C?.dataKey)!==null&&k!==void 0?k:i,T=C?.nameKey,O;if(i&&Array.isArray(E)&&!Array.isArray(E[0])&&d==="axis"?O=cz(E,i,s):O=c(E,t,h,T),Array.isArray(O))O.forEach(D=>{var I=Sk(Sk({},C),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});S.push(nC({tooltipEntrySettings:I,dataKey:D.dataKey,payload:D.payload,value:qt(D.payload,D.dataKey),name:D.name}))});else{var P;S.push(nC({tooltipEntrySettings:C,dataKey:A,payload:O,value:qt(O,A),name:(P=qt(O,T))!==null&&P!==void 0?P:C?.name}))}return S},v)}},Jv=oe([Dr,ht,qT,_v,_r],iA),fW=oe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),pW=oe([_r,ns],Pv),Qc=oe([fW,Dr,pW],$v),gW=oe([Qc],e=>e.filter(dp)),hW=oe([Qc],Nv),ss=oe([hW,so],Lv),mW=oe([gW,so,Dr],WT),eb=oe([ss,Dr,Qc],Bv),yW=oe([Dr],Iv),xW=oe([Qc],e=>e.filter(dp)),vW=oe([mW,xW,Fc],YT),bW=oe([vW,so,_r],VT),SW=oe([Qc],HT),jW=oe([ss,Dr,SW,gp,_r],GT),wW=oe([QT,_r,ns],is),CW=oe([wW,_r],eA),kW=oe([ZT,_r,ns],is),zW=oe([kW,_r],tA),_W=oe([JT,_r,ns],is),TW=oe([_W,_r],rA),AW=oe([CW,TW,zW],Sf),EW=oe([Dr,yW,bW,jW,AW,ht,_r],qv),zA=oe([Dr,ht,ss,eb,Fc,_r,EW],Uv),OW=oe([zA,Dr,Jv],Kv),MW=oe([Dr,zA,OW,_r],Vv),_A=e=>{var t=_r(e),n=ns(e),i=!1;return Gc(e,t,n,i)},TA=oe([Dr,_A],cp),AA=oe([Dr,Jv,MW,TA],Fv),DW=oe([ht,eb,Dr,_r],dA),RW=oe([ht,eb,Dr,_r],fA),PW=(e,t,n,i,s,c,d,p)=>{if(t){var{type:h}=t,g=io(e,p);if(i){var m=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,v=h==="category"&&i.bandwidth?i.bandwidth()/m:0;return v=p==="angleAxis"&&s!=null&&s?.length>=2?Er(s[0]-s[1])*2*v:v,g&&d?d.map((S,j)=>({coordinate:i(S)+v,value:S,index:j,offset:v})):i.domain().map((S,j)=>({coordinate:i(S)+v,value:c?c[S]:S,index:j,offset:v}))}}},ja=oe([ht,Dr,Jv,AA,_A,DW,RW,_r],PW),tb=oe([gA,hA,VL],(e,t,n)=>mA(n.shared,e,t)),EA=e=>e.tooltip.settings.trigger,rb=e=>e.tooltip.settings.defaultIndex,yp=oe([ls,tb,EA,rb],jA),Za=oe([yp,ss],Zv),OA=oe([ja,Za],yA),MA=oe([yp],e=>{if(e)return e.dataKey}),DA=oe([ls,tb,EA,rb],CA),$W=oe([ya,xa,ht,kr,ja,rb,DA,Xc],wA),NW=oe([yp,$W],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),LW=oe([yp],e=>e.active),WW=oe([DA,Za,so,LT,OA,Xc,tb],kA),BW=oe([WW],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function wk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(n),!0).forEach(function(i){IW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function IW(e,t,n){return(t=qW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qW(e){var t=UW(e,"string");return typeof t=="symbol"?t:t+""}function UW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HW=()=>Ie(Dr),FW=()=>{var e=HW(),t=Ie(ja),n=Ie(AA);return jc(wk(wk({},e),{},{scale:n}),t)},KW=()=>Ie(_v),nb=(e,t)=>t,RA=(e,t,n)=>n,ib=(e,t,n,i)=>i,YW=oe(ja,e=>Hf(e,t=>t.coordinate)),ab=oe([ls,nb,RA,ib],jA),PA=oe([ab,ss],Zv),VW=(e,t,n)=>{if(t!=null){var i=ls(e);return t==="axis"?n==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:n==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},$A=oe([ls,nb,RA,ib],CA),jf=oe([ya,xa,ht,kr,ja,ib,$A,Xc],wA),GW=oe([ab,jf],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),NA=oe(ja,PA,yA),XW=oe([$A,PA,so,LT,NA,Xc,nb],kA),QW=oe([ab],e=>({isActive:e.active,activeIndex:e.index})),ZW=(e,t,n,i,s,c,d,p)=>{if(!(!e||!t||!i||!s||!c)){var h=v4(e.chartX,e.chartY,t,n,p);if(h){var g=S4(h,t),m=o4(g,d,c,i,s),v=b4(t,c,m,h);return{activeIndex:String(m),activeCoordinate:v}}}};function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},nx.apply(null,arguments)}function Ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function _d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(n),!0).forEach(function(i){JW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function JW(e,t,n){return(t=eB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eB(e){var t=tB(e,"string");return typeof t=="symbol"?t:t+""}function tB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rB(e){var{coordinate:t,payload:n,index:i,offset:s,tooltipAxisBandSize:c,layout:d,cursor:p,tooltipEventType:h,chartName:g}=e,m=t,v=n,S=i;if(!p||!m||g!=="ScatterChart"&&h!=="axis")return null;var j,k;if(g==="ScatterChart")j=m,k=S3;else if(g==="BarChart")j=j3(d,m,s,c),k=O_;else if(d==="radial"){var{cx:w,cy:C,radius:_,startAngle:E,endAngle:A}=M_(m);j={cx:w,cy:C,startAngle:E,endAngle:A,innerRadius:_,outerRadius:_},k=R_}else j={points:t6(d,m,s)},k=ev;var T=typeof p=="object"&&"className"in p?p.className:void 0,O=_d(_d(_d(_d({stroke:"#ccc",pointerEvents:"none"},s),j),tr(p,!1)),{},{payload:v,payloadIndex:S,className:St("recharts-tooltip-cursor",T)});return x.isValidElement(p)?x.cloneElement(p,O):x.createElement(k,O)}function nB(e){var t=FW(),n=j_(),i=ep(),s=KW();return x.createElement(rB,nx({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:i,tooltipAxisBandSize:t,chartName:s}))}var LA=x.createContext(null),iB=()=>x.useContext(LA),Qm={exports:{}},kk;function aB(){return kk||(kk=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function s(h,g,m){this.fn=h,this.context=g,this.once=m||!1}function c(h,g,m,v,S){if(typeof m!="function")throw new TypeError("The listener must be a function");var j=new s(m,v||h,S),k=n?n+g:g;return h._events[k]?h._events[k].fn?h._events[k]=[h._events[k],j]:h._events[k].push(j):(h._events[k]=j,h._eventsCount++),h}function d(h,g){--h._eventsCount===0?h._events=new i:delete h._events[g]}function p(){this._events=new i,this._eventsCount=0}p.prototype.eventNames=function(){var g=[],m,v;if(this._eventsCount===0)return g;for(v in m=this._events)t.call(m,v)&&g.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(m)):g},p.prototype.listeners=function(g){var m=n?n+g:g,v=this._events[m];if(!v)return[];if(v.fn)return[v.fn];for(var S=0,j=v.length,k=new Array(j);S<j;S++)k[S]=v[S].fn;return k},p.prototype.listenerCount=function(g){var m=n?n+g:g,v=this._events[m];return v?v.fn?1:v.length:0},p.prototype.emit=function(g,m,v,S,j,k){var w=n?n+g:g;if(!this._events[w])return!1;var C=this._events[w],_=arguments.length,E,A;if(C.fn){switch(C.once&&this.removeListener(g,C.fn,void 0,!0),_){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,m),!0;case 3:return C.fn.call(C.context,m,v),!0;case 4:return C.fn.call(C.context,m,v,S),!0;case 5:return C.fn.call(C.context,m,v,S,j),!0;case 6:return C.fn.call(C.context,m,v,S,j,k),!0}for(A=1,E=new Array(_-1);A<_;A++)E[A-1]=arguments[A];C.fn.apply(C.context,E)}else{var T=C.length,O;for(A=0;A<T;A++)switch(C[A].once&&this.removeListener(g,C[A].fn,void 0,!0),_){case 1:C[A].fn.call(C[A].context);break;case 2:C[A].fn.call(C[A].context,m);break;case 3:C[A].fn.call(C[A].context,m,v);break;case 4:C[A].fn.call(C[A].context,m,v,S);break;default:if(!E)for(O=1,E=new Array(_-1);O<_;O++)E[O-1]=arguments[O];C[A].fn.apply(C[A].context,E)}}return!0},p.prototype.on=function(g,m,v){return c(this,g,m,v,!1)},p.prototype.once=function(g,m,v){return c(this,g,m,v,!0)},p.prototype.removeListener=function(g,m,v,S){var j=n?n+g:g;if(!this._events[j])return this;if(!m)return d(this,j),this;var k=this._events[j];if(k.fn)k.fn===m&&(!S||k.once)&&(!v||k.context===v)&&d(this,j);else{for(var w=0,C=[],_=k.length;w<_;w++)(k[w].fn!==m||S&&!k[w].once||v&&k[w].context!==v)&&C.push(k[w]);C.length?this._events[j]=C.length===1?C[0]:C:d(this,j)}return this},p.prototype.removeAllListeners=function(g){var m;return g?(m=n?n+g:g,this._events[m]&&d(this,m)):(this._events=new i,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prefixed=n,p.EventEmitter=p,e.exports=p})(Qm)),Qm.exports}var oB=aB();const lB=ma(oB);var Ac=new lB,ix="recharts.syncEvent.tooltip",zk="recharts.syncEvent.brush";function ob(e,t){if(t){var n=Number.parseInt(t,10);if(!An(n))return e?.[n]}}var sB={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},WA=Mn({name:"options",initialState:sB,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),cB=WA.reducer,{createEventEmitter:uB}=WA.actions;function dB(e){return e.tooltip.syncInteraction}var fB={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},BA=Mn({name:"chartData",initialState:fB,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:i}=t.payload;n!=null&&(e.dataStartIndex=n),i!=null&&(e.dataEndIndex=i)}}}),{setChartData:_k,setDataStartEndIndexes:pB,setComputedData:JV}=BA.actions,gB=BA.reducer,hB=["x","y"];function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function _o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(n),!0).forEach(function(i){mB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function mB(e,t,n){return(t=yB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yB(e){var t=xB(e,"string");return typeof t=="symbol"?t:t+""}function xB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vB(e,t){if(e==null)return{};var n,i,s=bB(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function bB(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var IA=()=>{};function SB(){var e=Ie(Tv),t=Ie(Av),n=rr(),i=Ie(MT),s=Ie(ja),c=ep(),d=Xx(),p=Ie(h=>h.rootProps.className);x.useEffect(()=>{if(e==null)return IA;var h=(g,m,v)=>{if(t!==v&&e===g){if(i==="index"){var S;if(d&&m!==null&&m!==void 0&&(S=m.payload)!==null&&S!==void 0&&S.coordinate){var j=m.payload.coordinate,{x:k,y:w}=j,C=vB(j,hB),_=_o(_o(_o({},C),typeof k=="number"&&{x:Math.max(d.x,Math.min(k,d.x+d.width))}),typeof w=="number"&&{y:Math.max(d.y,Math.min(w,d.y+d.height))}),E=_o(_o({},m),{},{payload:_o(_o({},m.payload),{},{coordinate:_})});n(E)}else n(m);return}if(s!=null){var A;if(typeof i=="function"){var T={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},O=i(s,T);A=s[O]}else i==="value"&&(A=s.find(Se=>String(Se.value)===m.payload.label));var{coordinate:P}=m.payload;if(A==null||m.payload.active===!1||P==null||d==null){n(tx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:D,y:I}=P,Q=Math.min(D,d.x+d.width),fe=Math.min(I,d.y+d.height),ce={x:c==="horizontal"?A.coordinate:Q,y:c==="horizontal"?fe:A.coordinate},Z=tx({active:m.payload.active,coordinate:ce,dataKey:m.payload.dataKey,index:String(A.index),label:m.payload.label});n(Z)}}};return Ac.on(ix,h),()=>{Ac.off(ix,h)}},[p,n,t,e,i,s,c,d])}function jB(){var e=Ie(Tv),t=Ie(Av),n=rr();x.useEffect(()=>{if(e==null)return IA;var i=(s,c,d)=>{t!==d&&e===s&&n(pB(c))};return Ac.on(zk,i),()=>{Ac.off(zk,i)}},[n,t,e])}function wB(){var e=rr();x.useEffect(()=>{e(uB())},[e]),SB(),jB()}function CB(e,t,n,i,s,c){var d=Ie(S=>VW(S,e,t)),p=Ie(Av),h=Ie(Tv),g=Ie(MT),m=Ie(dB),v=m?.active;x.useEffect(()=>{if(!v&&h!=null&&p!=null){var S=tx({active:c,coordinate:n,dataKey:d,index:s,label:typeof i=="number"?String(i):i});Ac.emit(ix,h,S,p)}},[v,n,d,s,i,p,h,g,c])}function Ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ek(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(n),!0).forEach(function(i){kB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function kB(e,t,n){return(t=zB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zB(e){var t=_B(e,"string");return typeof t=="symbol"?t:t+""}function _B(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TB(e){return e.dataKey}function AB(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(J4,t)}var Ok=[],EB={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ao.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Td(e){var t=Ur(e,EB),{active:n,allowEscapeViewBox:i,animationDuration:s,animationEasing:c,content:d,filterNull:p,isAnimationActive:h,offset:g,payloadUniqBy:m,position:v,reverseDirection:S,useTranslate3d:j,wrapperStyle:k,cursor:w,shared:C,trigger:_,defaultIndex:E,portal:A,axisId:T}=t,O=rr(),P=typeof E=="number"?String(E):E;x.useEffect(()=>{O(ZL({shared:C,trigger:_,axisId:T,active:n,defaultIndex:P}))},[O,C,_,T,n,P]);var D=Xx(),I=z_(),Q=YL(C),{activeIndex:fe,isActive:ce}=Ie(ye=>QW(ye,Q,_,P)),Z=Ie(ye=>XW(ye,Q,_,P)),Se=Ie(ye=>NA(ye,Q,_,P)),he=Ie(ye=>GW(ye,Q,_,P)),pe=Z,U=iB(),F=n??ce,[ge,je]=Hz([pe,F]),Oe=Q==="axis"?Se:void 0;CB(Q,_,he,Oe,fe,F);var $=A??U;if($==null)return null;var L=pe??Ok;F||(L=Ok),p&&L.length&&(L=Wz(pe.filter(ye=>ye.value!=null&&(ye.hide!==!0||t.includeHidden)),m,TB));var ue=L.length>0,xe=x.createElement(o3,{allowEscapeViewBox:i,animationDuration:s,animationEasing:c,isAnimationActive:h,active:F,coordinate:he,hasPayload:ue,offset:g,position:v,reverseDirection:S,useTranslate3d:j,viewBox:D,wrapperStyle:k,lastBoundingBox:ge,innerRef:je,hasPortalFromProps:!!A},AB(d,Ek(Ek({},t),{},{payload:L,label:Oe,active:F,coordinate:he,accessibilityLayer:I})));return x.createElement(x.Fragment,null,Kd.createPortal(xe,$),F&&x.createElement(nB,{cursor:w,tooltipEventType:Q,coordinate:he,payload:pe,index:fe}))}var Zm={},Jm={},ey={},Mk;function OB(){return Mk||(Mk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i,{signal:s,edges:c}={}){let d,p=null;const h=c!=null&&c.includes("leading"),g=c==null||c.includes("trailing"),m=()=>{p!==null&&(n.apply(d,p),d=void 0,p=null)},v=()=>{g&&m(),w()};let S=null;const j=()=>{S!=null&&clearTimeout(S),S=setTimeout(()=>{S=null,v()},i)},k=()=>{S!==null&&(clearTimeout(S),S=null)},w=()=>{k(),d=void 0,p=null},C=()=>{m()},_=function(...E){if(s?.aborted)return;d=this,p=E;const A=S==null;j(),h&&A&&m()};return _.schedule=j,_.cancel=w,_.flush=C,s?.addEventListener("abort",w,{once:!0}),_}e.debounce=t})(ey)),ey}var Dk;function MB(){return Dk||(Dk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OB();function n(i,s=0,c={}){typeof c!="object"&&(c={});const{leading:d=!1,trailing:p=!0,maxWait:h}=c,g=Array(2);d&&(g[0]="leading"),p&&(g[1]="trailing");let m,v=null;const S=t.debounce(function(...w){m=i.apply(this,w),v=null},s,{edges:g}),j=function(...w){return h!=null&&(v===null&&(v=Date.now()),Date.now()-v>=h)?(m=i.apply(this,w),v=Date.now(),S.cancel(),S.schedule(),m):(S.apply(this,w),m)},k=()=>(S.flush(),m);return j.cancel=S.cancel,j.flush=k,j}e.debounce=n})(Jm)),Jm}var Rk;function DB(){return Rk||(Rk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MB();function n(i,s=0,c={}){const{leading:d=!0,trailing:p=!0}=c;return t.debounce(i,s,{leading:d,maxWait:s,trailing:p})}e.throttle=n})(Zm)),Zm}var ty,Pk;function RB(){return Pk||(Pk=1,ty=DB().throttle),ty}var PB=RB();const $B=ma(PB);var pc=function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),c=2;c<i;c++)s[c-2]=arguments[c]};function $k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function ry(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(n),!0).forEach(function(i){NB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function NB(e,t,n){return(t=LB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LB(e){var t=WB(e,"string");return typeof t=="symbol"?t:t+""}function WB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ad=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:i={width:-1,height:-1},width:s="100%",height:c="100%",minWidth:d=0,minHeight:p,maxHeight:h,children:g,debounce:m=0,id:v,className:S,onResize:j,style:k={}}=e,w=x.useRef(null),C=x.useRef();C.current=j,x.useImperativeHandle(t,()=>w.current);var[_,E]=x.useState({containerWidth:i.width,containerHeight:i.height}),A=x.useCallback((O,P)=>{E(D=>{var I=Math.round(O),Q=Math.round(P);return D.containerWidth===I&&D.containerHeight===Q?D:{containerWidth:I,containerHeight:Q}})},[]);x.useEffect(()=>{var O=Q=>{var fe,{width:ce,height:Z}=Q[0].contentRect;A(ce,Z),(fe=C.current)===null||fe===void 0||fe.call(C,ce,Z)};m>0&&(O=$B(O,m,{trailing:!0,leading:!1}));var P=new ResizeObserver(O),{width:D,height:I}=w.current.getBoundingClientRect();return A(D,I),P.observe(w.current),()=>{P.disconnect()}},[A,m]);var T=x.useMemo(()=>{var{containerWidth:O,containerHeight:P}=_;if(O<0||P<0)return null;pc(Oo(s)||Oo(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),pc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=Oo(s)?O:s,I=Oo(c)?P:c;return n&&n>0&&(D?I=D/n:I&&(D=I*n),h&&I>h&&(I=h)),pc(D>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,I,s,c,d,p,n),x.Children.map(g,Q=>x.cloneElement(Q,{width:D,height:I,style:ry({width:D,height:I},Q.props.style)}))},[n,g,c,h,p,d,_,s]);return x.createElement("div",{id:v?"".concat(v):void 0,className:St("recharts-responsive-container",S),style:ry(ry({},k),{},{width:s,height:c,minWidth:d,minHeight:p,maxHeight:h}),ref:w},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},T))}),Fl=e=>null;Fl.displayName="Cell";function BB(e,t,n){return(t=IB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IB(e){var t=qB(e,"string");return typeof t=="symbol"?t:t+""}function qB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class UB{constructor(t){BB(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function HB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(n),!0).forEach(function(i){FB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function FB(e,t,n){return(t=KB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KB(e){var t=YB(e,"string");return typeof t=="symbol"?t:t+""}function YB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VB={cacheSize:2e3,enableCache:!0},qA=HB({},VB),Lk=new UB(qA.cacheSize),GB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Wk="recharts_measurement_span";function XB(e,t){var n=t.fontSize||"",i=t.fontFamily||"",s=t.fontWeight||"",c=t.fontStyle||"",d=t.letterSpacing||"",p=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(c,"|").concat(d,"|").concat(p)}var Bk=(e,t)=>{try{var n=document.getElementById(Wk);n||(n=document.createElement("span"),n.setAttribute("id",Wk),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,GB,t),n.textContent="".concat(e);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},gc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ao.isSsr)return{width:0,height:0};if(!qA.enableCache)return Bk(t,n);var i=XB(t,n),s=Lk.get(i);if(s)return s;var c=Bk(t,n);return Lk.set(i,c),c},Ik=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QB=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ZB=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},JB=Object.keys(UA),Rl="NaN";function eI(e,t){return e*UA[t]}class cn{static parse(t){var n,[,i,s]=(n=ZB.exec(t))!==null&&n!==void 0?n:[];return new cn(parseFloat(i),s??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,An(t)&&(this.unit=""),n!==""&&!QB.test(n)&&(this.num=NaN,this.unit=""),JB.includes(n)&&(this.num=eI(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new cn(NaN,""):new cn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new cn(NaN,""):new cn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new cn(NaN,""):new cn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new cn(NaN,""):new cn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return An(this.num)}}function HA(e){if(e.includes(Rl))return Rl;for(var t=e;t.includes("*")||t.includes("/");){var n,[,i,s,c]=(n=Ik.exec(t))!==null&&n!==void 0?n:[],d=cn.parse(i??""),p=cn.parse(c??""),h=s==="*"?d.multiply(p):d.divide(p);if(h.isNaN())return Rl;t=t.replace(Ik,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var g,[,m,v,S]=(g=qk.exec(t))!==null&&g!==void 0?g:[],j=cn.parse(m??""),k=cn.parse(S??""),w=v==="+"?j.add(k):j.subtract(k);if(w.isNaN())return Rl;t=t.replace(qk,w.toString())}return t}var Uk=/\(([^()]*)\)/;function tI(e){for(var t=e,n;(n=Uk.exec(t))!=null;){var[,i]=n;t=t.replace(Uk,HA(i))}return t}function rI(e){var t=e.replace(/\s+/g,"");return t=tI(t),t=HA(t),t}function nI(e){try{return rI(e)}catch{return Rl}}function ny(e){var t=nI(e.slice(5,-1));return t===Rl?"":t}var iI=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],aI=["dx","dy","angle","className","breakAll"];function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ax.apply(null,arguments)}function Hk(e,t){if(e==null)return{};var n,i,s=oI(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function oI(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var FA=/[ \f\n\r\t\v\u2028\u2029]+/,KA=e=>{var{children:t,breakAll:n,style:i}=e;try{var s=[];Zt(t)||(n?s=t.toString().split(""):s=t.toString().split(FA));var c=s.map(p=>({word:p,width:gc(p,i).width})),d=n?0:gc("",i).width;return{wordsWithComputedWidth:c,spaceWidth:d}}catch{return null}},lI=(e,t,n,i,s)=>{var{maxLines:c,children:d,style:p,breakAll:h}=e,g=Ke(c),m=d,v=function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ce.reduce((Z,Se)=>{var{word:he,width:pe}=Se,U=Z[Z.length-1];if(U&&(i==null||s||U.width+pe+n<Number(i)))U.words.push(he),U.width+=pe+n;else{var F={words:[he],width:pe};Z.push(F)}return Z},[])},S=v(t),j=fe=>fe.reduce((ce,Z)=>ce.width>Z.width?ce:Z);if(!g||s)return S;var k=S.length>c||j(S).width>Number(i);if(!k)return S;for(var w="",C=fe=>{var ce=m.slice(0,fe),Z=KA({breakAll:h,style:p,children:ce+w}).wordsWithComputedWidth,Se=v(Z),he=Se.length>c||j(Se).width>Number(i);return[he,Se]},_=0,E=m.length-1,A=0,T;_<=E&&A<=m.length-1;){var O=Math.floor((_+E)/2),P=O-1,[D,I]=C(P),[Q]=C(O);if(!D&&!Q&&(_=O+1),D&&Q&&(E=O-1),!D&&Q){T=I;break}A++}return T||S},Fk=e=>{var t=Zt(e)?[]:e.toString().split(FA);return[{words:t}]},sI=e=>{var{width:t,scaleToFit:n,children:i,style:s,breakAll:c,maxLines:d}=e;if((t||n)&&!ao.isSsr){var p,h,g=KA({breakAll:c,children:i,style:s});if(g){var{wordsWithComputedWidth:m,spaceWidth:v}=g;p=m,h=v}else return Fk(i);return lI({breakAll:c,children:i,maxLines:d,style:s},p,h,t,n)}return Fk(i)},Kk="#808080",xp=x.forwardRef((e,t)=>{var{x:n=0,y:i=0,lineHeight:s="1em",capHeight:c="0.71em",scaleToFit:d=!1,textAnchor:p="start",verticalAnchor:h="end",fill:g=Kk}=e,m=Hk(e,iI),v=x.useMemo(()=>sI({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:d,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,d,m.style,m.width]),{dx:S,dy:j,angle:k,className:w,breakAll:C}=m,_=Hk(m,aI);if(!Ei(n)||!Ei(i)||v.length===0)return null;var E=n+(Ke(S)?S:0),A=i+(Ke(j)?j:0),T;switch(h){case"start":T=ny("calc(".concat(c,")"));break;case"middle":T=ny("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:T=ny("calc(".concat(v.length-1," * -").concat(s,")"));break}var O=[];if(d){var P=v[0].width,{width:D}=m;O.push("scale(".concat(Ke(D)?D/P:1,")"))}return k&&O.push("rotate(".concat(k,", ").concat(E,", ").concat(A,")")),O.length&&(_.transform=O.join(" ")),x.createElement("text",ax({},tr(_,!0),{ref:t,x:E,y:A,className:St("recharts-text",w),textAnchor:p,fill:g.includes("url")?Kk:g}),v.map((I,Q)=>{var fe=I.words.join(C?"":" ");return x.createElement("tspan",{x:E,dy:Q===0?T:s,key:"".concat(fe,"-").concat(Q)},fe)}))});xp.displayName="Text";var cI=["labelRef"];function uI(e,t){if(e==null)return{};var n,i,s=dI(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function dI(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(n),!0).forEach(function(i){fI(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function fI(e,t,n){return(t=pI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pI(e){var t=gI(e,"string");return typeof t=="symbol"?t:t+""}function gI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ia.apply(null,arguments)}var YA=x.createContext(null),hI=e=>{var{x:t,y:n,width:i,height:s,children:c}=e,d=x.useMemo(()=>({x:t,y:n,width:i,height:s}),[t,n,i,s]);return x.createElement(YA.Provider,{value:d},c)},VA=()=>{var e=x.useContext(YA),t=Xx();return e||t},mI=x.createContext(null),yI=()=>{var e=x.useContext(mI),t=Ie(NT);return e||t},xI=e=>{var{value:t,formatter:n}=e,i=Zt(e.children)?t:e.children;return typeof n=="function"?n(i):i},lb=e=>e!=null&&typeof e=="function",vI=(e,t)=>{var n=Er(t-e),i=Math.min(Math.abs(t-e),360);return n*i},bI=(e,t,n,i,s)=>{var{offset:c,className:d}=e,{cx:p,cy:h,innerRadius:g,outerRadius:m,startAngle:v,endAngle:S,clockWise:j}=s,k=(g+m)/2,w=vI(v,S),C=w>=0?1:-1,_,E;switch(t){case"insideStart":_=v+C*c,E=j;break;case"insideEnd":_=S-C*c,E=!j;break;case"end":_=S+C*c,E=j;break;default:throw new Error("Unsupported position ".concat(t))}E=w<=0?E:!E;var A=xr(p,h,k,_),T=xr(p,h,k,_+(E?1:-1)*359),O="M".concat(A.x,",").concat(A.y,`
    A`).concat(k,",").concat(k,",0,1,").concat(E?0:1,`,
    `).concat(T.x,",").concat(T.y),P=Zt(e.id)?vc("recharts-radial-line-"):e.id;return x.createElement("text",ia({},i,{dominantBaseline:"central",className:St("recharts-radial-bar-label",d)}),x.createElement("defs",null,x.createElement("path",{id:P,d:O})),x.createElement("textPath",{xlinkHref:"#".concat(P)},n))},SI=(e,t,n)=>{var{cx:i,cy:s,innerRadius:c,outerRadius:d,startAngle:p,endAngle:h}=e,g=(p+h)/2;if(n==="outside"){var{x:m,y:v}=xr(i,s,d+t,g);return{x:m,y:v,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var S=(c+d)/2,{x:j,y:k}=xr(i,s,S,g);return{x:j,y:k,textAnchor:"middle",verticalAnchor:"middle"}},GA=e=>"cx"in e&&Ke(e.cx),jI=(e,t)=>{var{parentViewBox:n,offset:i,position:s}=e,c;n!=null&&!GA(n)&&(c=n);var{x:d,y:p,width:h,height:g}=t,m=g>=0?1:-1,v=m*i,S=m>0?"end":"start",j=m>0?"start":"end",k=h>=0?1:-1,w=k*i,C=k>0?"end":"start",_=k>0?"start":"end";if(s==="top"){var E={x:d+h/2,y:p-m*i,textAnchor:"middle",verticalAnchor:S};return fr(fr({},E),c?{height:Math.max(p-c.y,0),width:h}:{})}if(s==="bottom"){var A={x:d+h/2,y:p+g+v,textAnchor:"middle",verticalAnchor:j};return fr(fr({},A),c?{height:Math.max(c.y+c.height-(p+g),0),width:h}:{})}if(s==="left"){var T={x:d-w,y:p+g/2,textAnchor:C,verticalAnchor:"middle"};return fr(fr({},T),c?{width:Math.max(T.x-c.x,0),height:g}:{})}if(s==="right"){var O={x:d+h+w,y:p+g/2,textAnchor:_,verticalAnchor:"middle"};return fr(fr({},O),c?{width:Math.max(c.x+c.width-O.x,0),height:g}:{})}var P=c?{width:h,height:g}:{};return s==="insideLeft"?fr({x:d+w,y:p+g/2,textAnchor:_,verticalAnchor:"middle"},P):s==="insideRight"?fr({x:d+h-w,y:p+g/2,textAnchor:C,verticalAnchor:"middle"},P):s==="insideTop"?fr({x:d+h/2,y:p+v,textAnchor:"middle",verticalAnchor:j},P):s==="insideBottom"?fr({x:d+h/2,y:p+g-v,textAnchor:"middle",verticalAnchor:S},P):s==="insideTopLeft"?fr({x:d+w,y:p+v,textAnchor:_,verticalAnchor:j},P):s==="insideTopRight"?fr({x:d+h-w,y:p+v,textAnchor:C,verticalAnchor:j},P):s==="insideBottomLeft"?fr({x:d+w,y:p+g-v,textAnchor:_,verticalAnchor:S},P):s==="insideBottomRight"?fr({x:d+h-w,y:p+g-v,textAnchor:C,verticalAnchor:S},P):s&&typeof s=="object"&&(Ke(s.x)||Oo(s.x))&&(Ke(s.y)||Oo(s.y))?fr({x:d+Yr(s.x,h),y:p+Yr(s.y,g),textAnchor:"end",verticalAnchor:"end"},P):fr({x:d+h/2,y:p+g/2,textAnchor:"middle",verticalAnchor:"middle"},P)},wI={offset:5};function Ya(e){var t=Ur(e,wI),{viewBox:n,position:i,value:s,children:c,content:d,className:p="",textBreakAll:h,labelRef:g}=t,m=yI(),v=VA(),S=i==="center"?v:m??v,j=n||S;if(!j||Zt(s)&&Zt(c)&&!x.isValidElement(d)&&typeof d!="function")return null;var k=fr(fr({},t),{},{viewBox:j});if(x.isValidElement(d)){var{labelRef:w}=k,C=uI(k,cI);return x.cloneElement(d,C)}var _;if(typeof d=="function"){if(_=x.createElement(d,k),x.isValidElement(_))return _}else _=xI(t);var E=GA(j),A=tr(t,!0);if(E&&(i==="insideStart"||i==="insideEnd"||i==="end"))return bI(t,i,_,A,j);var T=E?SI(j,t.offset,t.position):jI(t,j);return x.createElement(xp,ia({ref:g,className:St("recharts-label",p)},A,T,{breakAll:h}),_)}Ya.displayName="Label";var CI=(e,t,n)=>{if(!e)return null;var i={viewBox:t,labelRef:n};return e===!0?x.createElement(Ya,ia({key:"label-implicit"},i)):Ei(e)?x.createElement(Ya,ia({key:"label-implicit",value:e},i)):x.isValidElement(e)?e.type===Ya?x.cloneElement(e,fr({key:"label-implicit"},i)):x.createElement(Ya,ia({key:"label-implicit",content:e},i)):lb(e)?x.createElement(Ya,ia({key:"label-implicit",content:e},i)):e&&typeof e=="object"?x.createElement(Ya,ia({},e,{key:"label-implicit"},i)):null};function kI(e){var{label:t}=e,n=VA();return CI(t,n)||null}var iy={},ay={},Vk;function zI(){return Vk||(Vk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(ay)),ay}var oy={},Gk;function _I(){return Gk||(Gk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(oy)),oy}var Xk;function TI(){return Xk||(Xk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zI(),n=_I(),i=Ix();function s(c){if(i.isArrayLike(c))return t.last(n.toArray(c))}e.last=s})(iy)),iy}var ly,Qk;function AI(){return Qk||(Qk=1,ly=TI().last),ly}var EI=AI();const OI=ma(EI);var MI=["valueAccessor"],DI=["dataKey","clockWise","id","textBreakAll"];function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wf.apply(null,arguments)}function Zk(e,t){if(e==null)return{};var n,i,s=RI(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function RI(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var PI=e=>Array.isArray(e.value)?OI(e.value):e.value,XA=x.createContext(void 0),QA=XA.Provider,ZA=x.createContext(void 0),$I=ZA.Provider;function NI(){return x.useContext(XA)}function LI(){return x.useContext(ZA)}function Ld(e){var{valueAccessor:t=PI}=e,n=Zk(e,MI),{dataKey:i,clockWise:s,id:c,textBreakAll:d}=n,p=Zk(n,DI),h=NI(),g=LI(),m=h||g;return!m||!m.length?null:x.createElement(qr,{className:"recharts-label-list"},m.map((v,S)=>{var j,k=Zt(i)?t(v,S):qt(v&&v.payload,i),w=Zt(c)?{}:{id:"".concat(c,"-").concat(S)};return x.createElement(Ya,wf({},tr(v,!0),p,w,{fill:(j=n.fill)!==null&&j!==void 0?j:v.fill,parentViewBox:v.parentViewBox,value:k,textBreakAll:d,viewBox:v.viewBox,key:"label-".concat(S),index:S}))}))}Ld.displayName="LabelList";function sb(e){var{label:t}=e;return t?t===!0?x.createElement(Ld,{key:"labelList-implicit"}):x.isValidElement(t)||lb(t)?x.createElement(Ld,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Ld,wf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ox.apply(null,arguments)}var JA=e=>{var{cx:t,cy:n,r:i,className:s}=e,c=St("recharts-dot",s);return t===+t&&n===+n&&i===+i?x.createElement("circle",ox({},Ri(e),Mx(e),{className:c,cx:t,cy:n,r:i})):null},eE=e=>e.graphicalItems.polarItems,WI=oe([Jt,Kc],Pv),cb=oe([eE,pr,WI],$v),BI=oe([cb],Nv),ub=oe([BI,Cv],Lv),II=oe([ub,pr,cb],Bv),qI=oe([ub,pr,cb],(e,t,n)=>n.length>0?e.flatMap(i=>n.flatMap(s=>{var c,d=qt(i,(c=t.dataKey)!==null&&c!==void 0?c:s.dataKey);return{value:d,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(i=>({value:qt(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]}))),Jk=()=>{},UI=oe([pr,nA,Jk,qI,Jk,ht,Jt],qv),tE=oe([pr,ht,ub,II,Fc,Jt,UI],Uv),HI=oe([tE,pr,as],Kv);oe([pr,tE,HI,Jt],Vv);var FI={radiusAxis:{},angleAxis:{}},rE=Mn({name:"polarAxis",initialState:FI,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:eG,removeRadiusAxis:tG,addAngleAxis:rG,removeAngleAxis:nG}=rE.actions,KI=rE.reducer;function e2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function t2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(n),!0).forEach(function(i){YI(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function YI(e,t,n){return(t=VI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VI(e){var t=GI(e,"string");return typeof t=="symbol"?t:t+""}function GI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XI=(e,t)=>t,db=oe([eE,XI],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),QI=[],fb=(e,t,n)=>n?.length===0?QI:n,nE=oe([Cv,db,fb],(e,t,n)=>{var{chartData:i}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=i,(!s||!s.length)&&n!=null&&(s=n.map(c=>t2(t2({},t.presentationProps),c.props))),s!=null)return s}}),ZI=oe([nE,db,fb],(e,t,n)=>{if(!(e==null||t==null))return e.map((i,s)=>{var c,d=qt(i,t.nameKey,t.name),p;return n!=null&&(c=n[s])!==null&&c!==void 0&&(c=c.props)!==null&&c!==void 0&&c.fill?p=n[s].props.fill:typeof i=="object"&&i!=null&&"fill"in i?p=i.fill:p=t.fill,{value:Jl(d,t.dataKey),color:p,payload:i,type:t.legendType}})}),JI=oe([nE,db,fb,kr],(e,t,n,i)=>{if(!(t==null||e==null))return X7({offset:i,pieSettings:t,displayedData:e,cells:n})}),sy={},r2;function e7(){return r2||(r2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${s}]`}let i=n;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(n)===i}e.isPlainObject=t})(sy)),sy}var cy,n2;function t7(){return n2||(n2=1,cy=e7().isPlainObject),cy}var r7=t7();const n7=ma(r7);function i2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function a2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(n),!0).forEach(function(i){i7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function i7(e,t,n){return(t=a7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a7(e){var t=o7(e,"string");return typeof t=="symbol"?t:t+""}function o7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cf.apply(null,arguments)}var o2=(e,t,n,i,s)=>{var c=n-i,d;return d="M ".concat(e,",").concat(t),d+="L ".concat(e+n,",").concat(t),d+="L ".concat(e+n-c/2,",").concat(t+s),d+="L ".concat(e+n-c/2-i,",").concat(t+s),d+="L ".concat(e,",").concat(t," Z"),d},l7={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},s7=e=>{var t=Ur(e,l7),{x:n,y:i,upperWidth:s,lowerWidth:c,height:d,className:p}=t,{animationEasing:h,animationDuration:g,animationBegin:m,isUpdateAnimationActive:v}=t,S=x.useRef(),[j,k]=x.useState(-1),w=x.useRef(s),C=x.useRef(c),_=x.useRef(d),E=x.useRef(n),A=x.useRef(i),T=Bc(e,"trapezoid-");if(x.useEffect(()=>{if(S.current&&S.current.getTotalLength)try{var he=S.current.getTotalLength();he&&k(he)}catch{}},[]),n!==+n||i!==+i||s!==+s||c!==+c||d!==+d||s===0&&c===0||d===0)return null;var O=St("recharts-trapezoid",p);if(!v)return x.createElement("g",null,x.createElement("path",Cf({},tr(t,!0),{className:O,d:o2(n,i,s,c,d)})));var P=w.current,D=C.current,I=_.current,Q=E.current,fe=A.current,ce="0px ".concat(j===-1?1:j,"px"),Z="".concat(j,"px 0px"),Se=__(["strokeDasharray"],g,h);return x.createElement(Wc,{animationId:T,key:T,canBegin:j>0,duration:g,easing:h,isActive:v,begin:m},he=>{var pe=lr(P,s,he),U=lr(D,c,he),F=lr(I,d,he),ge=lr(Q,n,he),je=lr(fe,i,he);S.current&&(w.current=pe,C.current=U,_.current=F,E.current=ge,A.current=je);var Oe=he>0?{transition:Se,strokeDasharray:Z}:{strokeDasharray:ce};return x.createElement("path",Cf({},tr(t,!0),{className:O,d:o2(ge,je,pe,U,F),ref:S,style:a2(a2({},Oe),t.style)}))})},c7=["option","shapeType","propTransformer","activeClassName","isActive"];function u7(e,t){if(e==null)return{};var n,i,s=d7(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function d7(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function l2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function kf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(n),!0).forEach(function(i){f7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function f7(e,t,n){return(t=p7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p7(e){var t=g7(e,"string");return typeof t=="symbol"?t:t+""}function g7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h7(e,t){return kf(kf({},t),e)}function m7(e,t){return e==="symbols"}function s2(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(O_,n);case"trapezoid":return x.createElement(s7,n);case"sector":return x.createElement(R_,n);case"symbols":if(m7(t))return x.createElement(Lx,n);break;default:return null}}function y7(e){return x.isValidElement(e)?e.props:e}function iE(e){var{option:t,shapeType:n,propTransformer:i=h7,activeClassName:s="recharts-active-shape",isActive:c}=e,d=u7(e,c7),p;if(x.isValidElement(t))p=x.cloneElement(t,kf(kf({},d),y7(t)));else if(typeof t=="function")p=t(d);else if(n7(t)&&typeof t!="boolean"){var h=i(t,d);p=x.createElement(s2,{shapeType:n,elementProps:h})}else{var g=d;p=x.createElement(s2,{shapeType:n,elementProps:g})}return c?x.createElement(qr,{className:s},p):p}var pb=(e,t)=>{var n=rr();return(i,s)=>c=>{e?.(i,s,c),n(vA({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition}))}},gb=e=>{var t=rr();return(n,i)=>s=>{e?.(n,i,s),t(JL())}},hb=(e,t)=>{var n=rr();return(i,s)=>c=>{e?.(i,s,c),n(eW({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition}))}};function mb(e){var{fn:t,args:n}=e,i=rr(),s=dn();return x.useEffect(()=>{if(!s){var c=t(n);return i(XL(c)),()=>{i(QL(c))}}},[t,n,i,s]),null}var aE=()=>{};function oE(e){var{legendPayload:t}=e,n=rr(),i=dn();return x.useEffect(()=>i?aE:(n(C_(t)),()=>{n(k_(t))}),[n,i,t]),null}function x7(e){var{legendPayload:t}=e,n=rr(),i=Ie(ht);return x.useEffect(()=>i!=="centric"&&i!=="radial"?aE:(n(C_(t)),()=>{n(k_(t))}),[n,i,t]),null}var uy,v7=()=>{var[e]=x.useState(()=>vc("uid-"));return e},b7=(uy=mD.useId)!==null&&uy!==void 0?uy:v7;function S7(e,t){var n=b7();return t||(e?"".concat(e,"-").concat(n):n)}var j7=x.createContext(void 0),yb=e=>{var{id:t,type:n,children:i}=e,s=S7("recharts-".concat(n),t);return x.createElement(j7.Provider,{value:s},i(s))},w7={cartesianItems:[],polarItems:[]},lE=Mn({name:"graphicalItems",initialState:w7,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:i}=t.payload,s=sa(e).cartesianItems.indexOf(n);s>-1&&(e.cartesianItems[s]=i)},removeCartesianGraphicalItem(e,t){var n=sa(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=sa(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:C7,replaceCartesianGraphicalItem:k7,removeCartesianGraphicalItem:z7,addPolarGraphicalItem:_7,removePolarGraphicalItem:T7}=lE.actions,A7=lE.reducer;function sE(e){var t=rr(),n=x.useRef(null);return x.useEffect(()=>{n.current===null?t(C7(e)):n.current!==e&&t(k7({prev:n.current,next:e})),n.current=e},[t,e]),x.useEffect(()=>()=>{n.current&&(t(z7(n.current)),n.current=null)},[t]),null}function E7(e){var t=rr();return x.useEffect(()=>(t(_7(e)),()=>{t(T7(e))}),[t,e]),null}var O7=["onMouseEnter","onClick","onMouseLeave"],M7=["id"],D7=["id"];function xb(e,t){if(e==null)return{};var n,i,s=R7(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function R7(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function c2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(n),!0).forEach(function(i){P7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function P7(e,t,n){return(t=$7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $7(e){var t=N7(e,"string");return typeof t=="symbol"?t:t+""}function N7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ja(){return Ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ja.apply(null,arguments)}function L7(e){var t=x.useMemo(()=>Dx(e.children,Fl),[e.children]),n=Ie(i=>ZI(i,e.id,t));return n==null?null:x.createElement(x7,{legendPayload:n})}function W7(e){var{dataKey:t,nameKey:n,sectors:i,stroke:s,strokeWidth:c,fill:d,name:p,hide:h,tooltipType:g}=e;return{dataDefinedOnItem:i.map(m=>m.tooltipPayload),positions:i.map(m=>m.tooltipPosition),settings:{stroke:s,strokeWidth:c,fill:d,dataKey:t,nameKey:n,name:Jl(p,t),hide:h,type:g,color:d,unit:""}}}var B7=(e,t)=>e>t?"start":e<t?"end":"middle",I7=(e,t,n)=>Yr(typeof t=="function"?t(e):t,n,n*.8),q7=(e,t,n)=>{var{top:i,left:s,width:c,height:d}=t,p=h_(c,d),h=s+Yr(e.cx,c,c/2),g=i+Yr(e.cy,d,d/2),m=Yr(e.innerRadius,p,0),v=I7(n,e.outerRadius,p),S=e.maxRadius||Math.sqrt(c*c+d*d)/2;return{cx:h,cy:g,innerRadius:m,outerRadius:v,maxRadius:S}},U7=(e,t)=>{var n=Er(t-e),i=Math.min(Math.abs(t-e),360);return n*i};function H7(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var F7=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var n=St("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(ev,Ja({},t,{type:"linear",className:n}))},K7=(e,t,n)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var i=n;if(typeof e=="function"&&(i=e(t),x.isValidElement(i)))return i;var s=St("recharts-pie-label-text",H7(e));return x.createElement(xp,Ja({},t,{alignmentBaseline:"middle",className:s}),i)};function Y7(e){var{sectors:t,props:n,showLabels:i}=e,{label:s,labelLine:c,dataKey:d}=n;if(!i||!s||!t)return null;var p=Ri(n),h=tr(s,!1),g=tr(c,!1),m=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,v=t.map((S,j)=>{var k=(S.startAngle+S.endAngle)/2,w=xr(S.cx,S.cy,S.outerRadius+m,k),C=Gt(Gt(Gt(Gt({},p),S),{},{stroke:"none"},h),{},{index:j,textAnchor:B7(w.x,S.cx)},w),_=Gt(Gt(Gt(Gt({},p),S),{},{fill:"none",stroke:S.fill},g),{},{index:j,points:[xr(S.cx,S.cy,S.outerRadius,k),w],key:"line"});return x.createElement(qr,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(j)},c&&F7(c,_),K7(s,C,qt(S,d)))});return x.createElement(qr,{className:"recharts-pie-labels"},v)}function V7(e){var{sectors:t,props:n,showLabels:i}=e,{label:s}=n;return typeof s=="object"&&s!=null&&"position"in s?x.createElement(sb,{label:s}):x.createElement(Y7,{sectors:t,props:n,showLabels:i})}function G7(e){var{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:s}=e,c=Ie(Za),{onMouseEnter:d,onClick:p,onMouseLeave:h}=s,g=xb(s,O7),m=pb(d,s.dataKey),v=gb(h),S=hb(p,s.dataKey);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((j,k)=>{if(j?.startAngle===0&&j?.endAngle===0&&t.length!==1)return null;var w=n&&String(k)===c,C=c?i:null,_=w?n:C,E=Gt(Gt({},j),{},{stroke:j.stroke,tabIndex:-1,[b_]:k,[S_]:s.dataKey});return x.createElement(qr,Ja({tabIndex:-1,className:"recharts-pie-sector"},Pc(g,j,k),{onMouseEnter:m(j,k),onMouseLeave:v(j,k),onClick:S(j,k),key:"sector-".concat(j?.startAngle,"-").concat(j?.endAngle,"-").concat(j.midAngle,"-").concat(k)}),x.createElement(iE,Ja({option:_,isActive:w,shapeType:"sector"},E)))}))}function X7(e){var t,{pieSettings:n,displayedData:i,cells:s,offset:c}=e,{cornerRadius:d,startAngle:p,endAngle:h,dataKey:g,nameKey:m,tooltipType:v}=n,S=Math.abs(n.minAngle),j=U7(p,h),k=Math.abs(j),w=i.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,C=i.filter(P=>qt(P,g,0)!==0).length,_=(k>=360?C:C-1)*w,E=k-C*S-_,A=i.reduce((P,D)=>{var I=qt(D,g,0);return P+(Ke(I)?I:0)},0),T;if(A>0){var O;T=i.map((P,D)=>{var I=qt(P,g,0),Q=qt(P,m,D),fe=q7(n,c,P),ce=(Ke(I)?I:0)/A,Z,Se=Gt(Gt({},P),s&&s[D]&&s[D].props);D?Z=O.endAngle+Er(j)*w*(I!==0?1:0):Z=p;var he=Z+Er(j)*((I!==0?S:0)+ce*E),pe=(Z+he)/2,U=(fe.innerRadius+fe.outerRadius)/2,F=[{name:Q,value:I,payload:Se,dataKey:g,type:v}],ge=xr(fe.cx,fe.cy,U,pe);return O=Gt(Gt(Gt(Gt({},n.presentationProps),{},{percent:ce,cornerRadius:d,name:Q,tooltipPayload:F,midAngle:pe,middleRadius:U,tooltipPosition:ge},Se),fe),{},{value:I,startAngle:Z,endAngle:he,payload:Se,paddingAngle:Er(j)*w}),O})}return T}function Q7(e){var{showLabels:t,sectors:n,children:i}=e,s=x.useMemo(()=>!t||!n?[]:n.map(c=>({value:c.value,payload:c.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:c.cx,cy:c.cy,innerRadius:c.innerRadius,outerRadius:c.outerRadius,startAngle:c.startAngle,endAngle:c.endAngle,clockWise:!1},fill:c.fill})),[n,t]);return x.createElement($I,{value:t?s:void 0},i)}function Z7(e){var{props:t,previousSectorsRef:n}=e,{sectors:i,isAnimationActive:s,animationBegin:c,animationDuration:d,animationEasing:p,activeShape:h,inactiveShape:g,onAnimationStart:m,onAnimationEnd:v}=t,S=Bc(t,"recharts-pie-"),j=n.current,[k,w]=x.useState(!1),C=x.useCallback(()=>{typeof v=="function"&&v(),w(!1)},[v]),_=x.useCallback(()=>{typeof m=="function"&&m(),w(!0)},[m]);return x.createElement(Q7,{showLabels:!k,sectors:i},x.createElement(Wc,{animationId:S,begin:c,duration:d,isActive:s,easing:p,onAnimationStart:_,onAnimationEnd:C,key:S},E=>{var A=[],T=i&&i[0],O=T?.startAngle;return i?.forEach((P,D)=>{var I=j&&j[D],Q=D>0?Bo(P,"paddingAngle",0):0;if(I){var fe=lr(I.endAngle-I.startAngle,P.endAngle-P.startAngle,E),ce=Gt(Gt({},P),{},{startAngle:O+Q,endAngle:O+fe+Q});A.push(ce),O=ce.endAngle}else{var{endAngle:Z,startAngle:Se}=P,he=lr(0,Z-Se,E),pe=Gt(Gt({},P),{},{startAngle:O+Q,endAngle:O+he+Q});A.push(pe),O=pe.endAngle}}),n.current=A,x.createElement(qr,null,x.createElement(G7,{sectors:A,activeShape:h,inactiveShape:g,allOtherPieProps:t}))}),x.createElement(V7,{showLabels:!k,sectors:i,props:t}),t.children)}var J7={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ao.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function eq(e){var{id:t}=e,n=xb(e,M7),{hide:i,className:s,rootTabIndex:c}=e,d=x.useMemo(()=>Dx(e.children,Fl),[e.children]),p=Ie(m=>JI(m,t,d)),h=x.useRef(null),g=St("recharts-pie",s);return i||p==null?(h.current=null,x.createElement(qr,{tabIndex:c,className:g})):x.createElement(x.Fragment,null,x.createElement(mb,{fn:W7,args:Gt(Gt({},e),{},{sectors:p})}),x.createElement(qr,{tabIndex:c,className:g},x.createElement(Z7,{props:Gt(Gt({},n),{},{sectors:p}),previousSectorsRef:h})))}function cE(e){var t=Ur(e,J7),{id:n}=t,i=xb(t,D7),s=Ri(i);return x.createElement(yb,{id:n,type:"pie"},c=>x.createElement(x.Fragment,null,x.createElement(E7,{type:"pie",id:c,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),x.createElement(L7,Ja({},i,{id:c})),x.createElement(eq,Ja({},i,{id:c}))))}cE.displayName="Pie";function u2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function d2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(n),!0).forEach(function(i){tq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function tq(e,t,n){return(t=rq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rq(e){var t=nq(e,"string");return typeof t=="symbol"?t:t+""}function nq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iq={xAxis:{},yAxis:{},zAxis:{}},uE=Mn({name:"cartesianAxis",initialState:iq,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:i}=t.payload;e.yAxis[n]&&(e.yAxis[n]=d2(d2({},e.yAxis[n]),{},{width:i}))}}}),{addXAxis:aq,removeXAxis:oq,addYAxis:lq,removeYAxis:sq,addZAxis:iG,removeZAxis:aG,updateYAxisWidth:cq}=uE.actions,uq=uE.reducer,dq=oe([kr],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),fq=oe([dq,ya,xa],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),vb=()=>Ie(fq),pq=()=>Ie(BW);function f2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function p2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(n),!0).forEach(function(i){gq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function gq(e,t,n){return(t=hq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hq(e){var t=mq(e,"string");return typeof t=="symbol"?t:t+""}function mq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yq=e=>{var{point:t,childIndex:n,mainColor:i,activeDot:s,dataKey:c}=e;if(s===!1||t.x==null||t.y==null)return null;var d=p2(p2({index:n,dataKey:c,cx:t.x,cy:t.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},tr(s,!1)),Mx(s)),p;return x.isValidElement(s)?p=x.cloneElement(s,d):typeof s=="function"?p=s(d):p=x.createElement(JA,d),x.createElement(qr,{className:"recharts-active-dot"},p)};function xq(e){var{points:t,mainColor:n,activeDot:i,itemDataKey:s}=e,c=Ie(Za),d=pq();if(t==null||d==null)return null;var p=t.find(h=>d.includes(h.payload));return Zt(p)?null:yq({point:p,childIndex:Number(c),mainColor:n,dataKey:s,activeDot:i})}var vq="Invariant failed";function bq(e,t){throw new Error(vq)}var Sq=["x","y"];function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lx.apply(null,arguments)}function g2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(n),!0).forEach(function(i){jq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function jq(e,t,n){return(t=wq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wq(e){var t=Cq(e,"string");return typeof t=="symbol"?t:t+""}function Cq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kq(e,t){if(e==null)return{};var n,i,s=zq(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function zq(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function _q(e,t){var{x:n,y:i}=e,s=kq(e,Sq),c="".concat(n),d=parseInt(c,10),p="".concat(i),h=parseInt(p,10),g="".concat(t.height||s.height),m=parseInt(g,10),v="".concat(t.width||s.width),S=parseInt(v,10);return lc(lc(lc(lc(lc({},t),s),d?{x:d}:{}),h?{y:h}:{}),{},{height:m,width:S,name:t.name,radius:t.radius})}function bb(e){return x.createElement(iE,lx({shapeType:"rectangle",propTransformer:_q,activeClassName:"recharts-active-bar"},e))}var Tq=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,s)=>{if(Ke(t))return t;var c=Ke(i)||Zt(i);return c?t(i,s):(c||bq(),n)}},Aq={},dE=Mn({name:"errorBars",initialState:Aq,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:i}=t.payload;e[n]||(e[n]=[]),e[n].push(i)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:i,next:s}=t.payload;e[n]&&(e[n]=e[n].map(c=>c.dataKey===i.dataKey&&c.direction===i.direction?s:c))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:i}=t.payload;e[n]&&(e[n]=e[n].filter(s=>s.dataKey!==i.dataKey||s.direction!==i.direction))}}}),{addErrorBar:oG,replaceErrorBar:lG,removeErrorBar:sG}=dE.actions,Eq=dE.reducer,Oq=["children"];function Mq(e,t){if(e==null)return{};var n,i,s=Dq(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Dq(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Rq={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Pq=x.createContext(Rq);function fE(e){var{children:t}=e,n=Mq(e,Oq);return x.createElement(Pq.Provider,{value:n},t)}function Sb(e,t){var n,i,s=Ie(g=>ba(g,e)),c=Ie(g=>Sa(g,t)),d=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:Sn.allowDataOverflow,p=(i=c?.allowDataOverflow)!==null&&i!==void 0?i:jn.allowDataOverflow,h=d||p;return{needClip:h,needClipX:d,needClipY:p}}function pE(e){var{xAxisId:t,yAxisId:n,clipPathId:i}=e,s=vb(),{needClipX:c,needClipY:d,needClip:p}=Sb(t,n);if(!p)return null;var{x:h,y:g,width:m,height:v}=s;return x.createElement("clipPath",{id:"clipPath-".concat(i)},x.createElement("rect",{x:c?h:h-m/2,y:d?g:g-v/2,width:c?m:m*2,height:d?v:v*2}))}var $q=["onMouseEnter","onMouseLeave","onClick"],Nq=["value","background","tooltipPosition"],Lq=["id"],Wq=["onMouseEnter","onClick","onMouseLeave"];function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},eo.apply(null,arguments)}function h2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(n),!0).forEach(function(i){Bq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Bq(e,t,n){return(t=Iq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iq(e){var t=qq(e,"string");return typeof t=="symbol"?t:t+""}function qq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zf(e,t){if(e==null)return{};var n,i,s=Uq(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Uq(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Hq=e=>{var{dataKey:t,name:n,fill:i,legendType:s,hide:c}=e;return[{inactive:c,dataKey:t,type:s,color:i,value:Jl(n,t),payload:e}]};function Fq(e){var{dataKey:t,stroke:n,strokeWidth:i,fill:s,name:c,hide:d,unit:p}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:Jl(c,t),hide:d,type:e.tooltipType,color:e.fill,unit:p}}}function Kq(e){var t=Ie(Za),{data:n,dataKey:i,background:s,allOtherBarProps:c}=e,{onMouseEnter:d,onMouseLeave:p,onClick:h}=c,g=zf(c,$q),m=pb(d,i),v=gb(p),S=hb(h,i);if(!s||n==null)return null;var j=tr(s,!1);return x.createElement(x.Fragment,null,n.map((k,w)=>{var{value:C,background:_,tooltipPosition:E}=k,A=zf(k,Nq);if(!_)return null;var T=m(k,w),O=v(k,w),P=S(k,w),D=Qr(Qr(Qr(Qr(Qr({option:s,isActive:String(w)===t},A),{},{fill:"#eee"},_),j),Pc(g,k,w)),{},{onMouseEnter:T,onMouseLeave:O,onClick:P,dataKey:i,index:w,className:"recharts-bar-background-rectangle"});return x.createElement(bb,eo({key:"background-bar-".concat(D.index)},D))}))}function Yq(e){var{showLabels:t,children:n,rects:i}=e,s=i?.map(c=>{var d={x:c.x,y:c.y,width:c.width,height:c.height};return Qr(Qr({},d),{},{value:c.value,payload:c.payload,parentViewBox:c.parentViewBox,viewBox:d,fill:c.fill})});return x.createElement(QA,{value:t?s:void 0},n)}function Vq(e){var{shape:t,activeBar:n,baseProps:i,entry:s,index:c,dataKey:d}=e,p=Ie(Za),h=Ie(MA),g=n&&String(c)===p&&(h==null||d===h),m=g?n:t;return x.createElement(bb,eo({},i,s,{isActive:g,option:m,index:c,dataKey:d}))}function Gq(e){var{shape:t,baseProps:n,entry:i,index:s,dataKey:c}=e;return x.createElement(bb,eo({},n,i,{isActive:!1,option:t,index:s,dataKey:c}))}function Xq(e){var{data:t,props:n}=e,i=Ri(n),{id:s}=i,c=zf(i,Lq),{shape:d,dataKey:p,activeBar:h}=n,{onMouseEnter:g,onClick:m,onMouseLeave:v}=n,S=zf(n,Wq),j=pb(g,p),k=gb(v),w=hb(m,p);return t?x.createElement(x.Fragment,null,t.map((C,_)=>x.createElement(qr,eo({className:"recharts-bar-rectangle"},Pc(S,C,_),{onMouseEnter:j(C,_),onMouseLeave:k(C,_),onClick:w(C,_),key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(_)}),h?x.createElement(Vq,{shape:d,activeBar:h,baseProps:c,entry:C,index:_,dataKey:p}):x.createElement(Gq,{shape:d,baseProps:c,entry:C,index:_,dataKey:p})))):null}function Qq(e){var{props:t,previousRectanglesRef:n}=e,{data:i,layout:s,isAnimationActive:c,animationBegin:d,animationDuration:p,animationEasing:h,onAnimationEnd:g,onAnimationStart:m}=t,v=n.current,S=Bc(t,"recharts-bar-"),[j,k]=x.useState(!1),w=!j,C=x.useCallback(()=>{typeof g=="function"&&g(),k(!1)},[g]),_=x.useCallback(()=>{typeof m=="function"&&m(),k(!0)},[m]);return x.createElement(Yq,{showLabels:w,rects:i},x.createElement(Wc,{animationId:S,begin:d,duration:p,isActive:c,easing:h,onAnimationEnd:C,onAnimationStart:_,key:S},E=>{var A=E===1?i:i?.map((T,O)=>{var P=v&&v[O];if(P)return Qr(Qr({},T),{},{x:lr(P.x,T.x,E),y:lr(P.y,T.y,E),width:lr(P.width,T.width,E),height:lr(P.height,T.height,E)});if(s==="horizontal"){var D=lr(0,T.height,E);return Qr(Qr({},T),{},{y:T.y+T.height-D,height:D})}var I=lr(0,T.width,E);return Qr(Qr({},T),{},{width:I})});return E>0&&(n.current=A??null),A==null?null:x.createElement(qr,null,x.createElement(Xq,{props:t,data:A}))}),x.createElement(sb,{label:t.label}),t.children)}function Zq(e){var t=x.useRef(null);return x.createElement(Qq,{previousRectanglesRef:t,props:e})}var gE=0,Jq=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:qt(e,t)}};class e9 extends x.PureComponent{render(){var{hide:t,data:n,dataKey:i,className:s,xAxisId:c,yAxisId:d,needClip:p,background:h,id:g}=this.props;if(t||n==null)return null;var m=St("recharts-bar",s),v=g;return x.createElement(qr,{className:m,id:g},p&&x.createElement("defs",null,x.createElement(pE,{clipPathId:v,xAxisId:c,yAxisId:d})),x.createElement(qr,{className:"recharts-bar-rectangles",clipPath:p?"url(#clipPath-".concat(v,")"):void 0},x.createElement(Kq,{data:n,dataKey:i,background:h,allOtherBarProps:this.props}),x.createElement(Zq,this.props)))}}var t9={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ao.isSsr,legendType:"rect",minPointSize:gE,xAxisId:0,yAxisId:0};function r9(e){var{xAxisId:t,yAxisId:n,hide:i,legendType:s,minPointSize:c,activeBar:d,animationBegin:p,animationDuration:h,animationEasing:g,isAnimationActive:m}=e,{needClip:v}=Sb(t,n),S=ep(),j=dn(),k=Dx(e.children,Fl),w=Ie(E=>E9(E,t,n,j,e.id,k));if(S!=="vertical"&&S!=="horizontal")return null;var C,_=w?.[0];return _==null||_.height==null||_.width==null?C=0:C=S==="vertical"?_.height/2:_.width/2,x.createElement(fE,{xAxisId:t,yAxisId:n,data:w,dataPointFormatter:Jq,errorBarOffset:C},x.createElement(e9,eo({},e,{layout:S,needClip:v,data:w,xAxisId:t,yAxisId:n,hide:i,legendType:s,minPointSize:c,activeBar:d,animationBegin:p,animationDuration:h,animationEasing:g,isAnimationActive:m})))}function n9(e){var{layout:t,barSettings:{dataKey:n,minPointSize:i},pos:s,bandSize:c,xAxis:d,yAxis:p,xAxisTicks:h,yAxisTicks:g,stackedData:m,displayedData:v,offset:S,cells:j,parentViewBox:k}=e,w=t==="horizontal"?p:d,C=m?w.scale.domain():null,_=h4({numericAxis:w});return v.map((E,A)=>{var T,O,P,D,I,Q;m?T=c4(m[A],C):(T=qt(E,n),Array.isArray(T)||(T=[_,T]));var fe=Tq(i,gE)(T[1],A);if(t==="horizontal"){var ce,[Z,Se]=[p.scale(T[0]),p.scale(T[1])];O=eC({axis:d,ticks:h,bandSize:c,offset:s.offset,entry:E,index:A}),P=(ce=Se??Z)!==null&&ce!==void 0?ce:void 0,D=s.size;var he=Z-Se;if(I=An(he)?0:he,Q={x:O,y:S.top,width:D,height:S.height},Math.abs(fe)>0&&Math.abs(I)<Math.abs(fe)){var pe=Er(I||fe)*(Math.abs(fe)-Math.abs(I));P-=pe,I+=pe}}else{var[U,F]=[d.scale(T[0]),d.scale(T[1])];if(O=U,P=eC({axis:p,ticks:g,bandSize:c,offset:s.offset,entry:E,index:A}),D=F-U,I=s.size,Q={x:S.left,y:P,width:S.width,height:I},Math.abs(fe)>0&&Math.abs(D)<Math.abs(fe)){var ge=Er(D||fe)*(Math.abs(fe)-Math.abs(D));D+=ge}}if(O==null||P==null||D==null||I==null)return null;var je=Qr(Qr({},E),{},{x:O,y:P,width:D,height:I,value:m?T:T[1],payload:E,background:Q,tooltipPosition:{x:O+D/2,y:P+I/2},parentViewBox:k},j&&j[A]&&j[A].props);return je}).filter(Boolean)}function i9(e){var t=Ur(e,t9),n=dn();return x.createElement(yb,{id:t.id,type:"bar"},i=>x.createElement(x.Fragment,null,x.createElement(oE,{legendPayload:Hq(t)}),x.createElement(mb,{fn:Fq,args:t}),x.createElement(sE,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:g4(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),x.createElement(r9,eo({},t,{id:i}))))}var sx=x.memo(i9);sx.displayName="Bar";function m2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ed(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(n),!0).forEach(function(i){a9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function a9(e,t,n){return(t=o9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o9(e){var t=l9(e,"string");return typeof t=="symbol"?t:t+""}function l9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s9=(e,t)=>t,c9=(e,t,n)=>n,u9=(e,t,n,i)=>i,d9=(e,t,n,i,s)=>s,Zc=oe([fp,d9],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),f9=oe([Zc],e=>e?.maxBarSize),p9=(e,t,n,i,s,c)=>c,y2=(e,t,n)=>{var i=n??e;if(!Zt(i))return Yr(i,t,0)},g9=oe([ht,fp,s9,c9,u9],(e,t,n,i,s)=>t.filter(c=>e==="horizontal"?c.xAxisId===n:c.yAxisId===i).filter(c=>c.isPanorama===s).filter(c=>c.hide===!1).filter(c=>c.type==="bar")),h9=(e,t,n,i)=>{var s=ht(e);return s==="horizontal"?ex(e,"yAxis",n,i):ex(e,"xAxis",t,i)},m9=(e,t,n)=>{var i=ht(e);return i==="horizontal"?yk(e,"xAxis",t):yk(e,"yAxis",n)},y9=(e,t,n)=>{var i={},s=e.filter(dp),c=e.filter(g=>g.stackId==null),d=s.reduce((g,m)=>(g[m.stackId]||(g[m.stackId]=[]),g[m.stackId].push(m),g),i),p=Object.entries(d).map(g=>{var[m,v]=g,S=v.map(k=>k.dataKey),j=y2(t,n,v[0].barSize);return{stackId:m,dataKeys:S,barSize:j}}),h=c.map(g=>{var m=[g.dataKey].filter(S=>S!=null),v=y2(t,n,g.barSize);return{stackId:void 0,dataKeys:m,barSize:v}});return[...p,...h]},x9=oe([g9,G8,m9],y9),v9=(e,t,n,i,s)=>{var c,d,p=Zc(e,t,n,i,s);if(p!=null){var h=ht(e),g=ET(e),{maxBarSize:m}=p,v=Zt(m)?g:m,S,j;return h==="horizontal"?(S=Qa(e,"xAxis",t,i),j=Xa(e,"xAxis",t,i)):(S=Qa(e,"yAxis",n,i),j=Xa(e,"yAxis",n,i)),(c=(d=jc(S,j,!0))!==null&&d!==void 0?d:v)!==null&&c!==void 0?c:0}},hE=(e,t,n,i)=>{var s=ht(e),c,d;return s==="horizontal"?(c=Qa(e,"xAxis",t,i),d=Xa(e,"xAxis",t,i)):(c=Qa(e,"yAxis",n,i),d=Xa(e,"yAxis",n,i)),jc(c,d)};function b9(e,t,n,i,s){var c=i.length;if(!(c<1)){var d=Yr(e,n,0,!0),p,h=[];if(On(i[0].barSize)){var g=!1,m=n/c,v=i.reduce((_,E)=>_+(E.barSize||0),0);v+=(c-1)*d,v>=n&&(v-=(c-1)*d,d=0),v>=n&&m>0&&(g=!0,m*=.9,v=c*m);var S=(n-v)/2>>0,j={offset:S-d,size:0};p=i.reduce((_,E)=>{var A,T={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:j.offset+j.size+d,size:g?m:(A=E.barSize)!==null&&A!==void 0?A:0}},O=[..._,T];return j=O[O.length-1].position,O},h)}else{var k=Yr(t,n,0,!0);n-2*k-(c-1)*d<=0&&(d=0);var w=(n-2*k-(c-1)*d)/c;w>1&&(w>>=0);var C=On(s)?Math.min(w,s):w;p=i.reduce((_,E,A)=>[..._,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:k+(w+d)*A+(w-C)/2,size:C}}],h)}return p}}var S9=(e,t,n,i,s,c,d)=>{var p=Zt(d)?t:d,h=b9(n,i,s!==c?s:c,e,p);return s!==c&&h!=null&&(h=h.map(g=>Ed(Ed({},g),{},{position:Ed(Ed({},g.position),{},{offset:g.position.offset-s/2})}))),h},j9=oe([x9,ET,V8,OT,v9,hE,f9],S9),w9=(e,t,n,i)=>Qa(e,"xAxis",t,i),C9=(e,t,n,i)=>Qa(e,"yAxis",n,i),k9=(e,t,n,i)=>Xa(e,"xAxis",t,i),z9=(e,t,n,i)=>Xa(e,"yAxis",n,i),_9=oe([j9,Zc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(i=>i.stackId===t.stackId&&t.dataKey!=null&&i.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),T9=(e,t)=>{var n=Dv(t);if(!(!e||n==null||t==null)){var{stackId:i}=t;if(i!=null){var s=e[i];if(s){var{stackedData:c}=s;if(c)return c.find(d=>d.key===n)}}}},A9=oe([h9,Zc],T9),E9=oe([kr,Gx,w9,C9,k9,z9,_9,ht,lp,hE,A9,Zc,p9],(e,t,n,i,s,c,d,p,h,g,m,v,S)=>{var{chartData:j,dataStartIndex:k,dataEndIndex:w}=h;if(!(v==null||d==null||t==null||p!=="horizontal"&&p!=="vertical"||n==null||i==null||s==null||c==null||g==null)){var{data:C}=v,_;if(C!=null&&C.length>0?_=C:_=j?.slice(k,w+1),_!=null)return n9({layout:p,barSettings:v,pos:d,parentViewBox:t,bandSize:g,xAxis:n,yAxis:i,xAxisTicks:s,yAxisTicks:c,stackedData:m,displayedData:_,offset:e,cells:S})}}),mE=e=>{var{chartData:t}=e,n=rr(),i=dn();return x.useEffect(()=>i?()=>{}:(n(_k(t)),()=>{n(_k(void 0))}),[t,n,i]),null},x2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},yE=Mn({name:"brush",initialState:x2,reducers:{setBrushSettings(e,t){return t.payload==null?x2:t.payload}}}),{setBrushSettings:cG}=yE.actions,O9=yE.reducer;function M9(e,t,n){return(t=D9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D9(e){var t=R9(e,"string");return typeof t=="symbol"?t:t+""}function R9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jb{static create(t){return new jb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(i)switch(i){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(t)+c}default:return this.scale(t)}if(n){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+d}return this.scale(t)}}isInRange(t){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?t>=i&&t<=s:t>=s&&t<=i}}M9(jb,"EPS",1e-4);function P9(e){return(e%180+180)%180}var $9=function(t){var{width:n,height:i}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=P9(s),d=c*Math.PI/180,p=Math.atan(i/n),h=d>p&&d<Math.PI-p?i/Math.sin(d):n/Math.cos(d);return Math.abs(h)},N9={dots:[],areas:[],lines:[]},xE=Mn({name:"referenceElements",initialState:N9,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=sa(e).dots.findIndex(i=>i===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=sa(e).areas.findIndex(i=>i===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=sa(e).lines.findIndex(i=>i===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:uG,removeDot:dG,addArea:fG,removeArea:pG,addLine:gG,removeLine:hG}=xE.actions,L9=xE.reducer,W9=x.createContext(void 0),B9=e=>{var{children:t}=e,[n]=x.useState("".concat(vc("recharts"),"-clip")),i=vb();if(i==null)return null;var{x:s,y:c,width:d,height:p}=i;return x.createElement(W9.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:s,y:c,height:p,width:d}))),t)};function Kl(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var i in t)if({}.hasOwnProperty.call(t,i)&&!{}.hasOwnProperty.call(e,i))return!1;return!0}function vE(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var i=[],s=0;s<e.length;s+=t)i.push(e[s]);return i}function I9(e,t,n){var i={width:e.width+t.width,height:e.height+t.height};return $9(i,n)}function q9(e,t,n){var i=n==="width",{x:s,y:c,width:d,height:p}=e;return t===1?{start:i?s:c,end:i?s+d:c+p}:{start:i?s+d:c+p,end:i?s:c}}function _f(e,t,n,i,s){if(e*t<e*i||e*t>e*s)return!1;var c=n();return e*(t-e*c/2-i)>=0&&e*(t+e*c/2-s)<=0}function U9(e,t){return vE(e,t+1)}function H9(e,t,n,i,s){for(var c=(i||[]).slice(),{start:d,end:p}=t,h=0,g=1,m=d,v=function(){var k=i?.[h];if(k===void 0)return{v:vE(i,g)};var w=h,C,_=()=>(C===void 0&&(C=n(k,w)),C),E=k.coordinate,A=h===0||_f(e,E,_,m,p);A||(h=0,m=d,g+=1),A&&(m=E+e*(_()/2+s),h+=g)},S;g<=c.length;)if(S=v(),S)return S.v;return[]}function v2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(n),!0).forEach(function(i){F9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function F9(e,t,n){return(t=K9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K9(e){var t=Y9(e,"string");return typeof t=="symbol"?t:t+""}function Y9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V9(e,t,n,i,s){for(var c=(i||[]).slice(),d=c.length,{start:p}=t,{end:h}=t,g=function(S){var j=c[S],k,w=()=>(k===void 0&&(k=n(j,S)),k);if(S===d-1){var C=e*(j.coordinate+e*w()/2-h);c[S]=j=Fr(Fr({},j),{},{tickCoord:C>0?j.coordinate-C*e:j.coordinate})}else c[S]=j=Fr(Fr({},j),{},{tickCoord:j.coordinate});var _=_f(e,j.tickCoord,w,p,h);_&&(h=j.tickCoord-e*(w()/2+s),c[S]=Fr(Fr({},j),{},{isShow:!0}))},m=d-1;m>=0;m--)g(m);return c}function G9(e,t,n,i,s,c){var d=(i||[]).slice(),p=d.length,{start:h,end:g}=t;if(c){var m=i[p-1],v=n(m,p-1),S=e*(m.coordinate+e*v/2-g);d[p-1]=m=Fr(Fr({},m),{},{tickCoord:S>0?m.coordinate-S*e:m.coordinate});var j=_f(e,m.tickCoord,()=>v,h,g);j&&(g=m.tickCoord-e*(v/2+s),d[p-1]=Fr(Fr({},m),{},{isShow:!0}))}for(var k=c?p-1:p,w=function(E){var A=d[E],T,O=()=>(T===void 0&&(T=n(A,E)),T);if(E===0){var P=e*(A.coordinate-e*O()/2-h);d[E]=A=Fr(Fr({},A),{},{tickCoord:P<0?A.coordinate-P*e:A.coordinate})}else d[E]=A=Fr(Fr({},A),{},{tickCoord:A.coordinate});var D=_f(e,A.tickCoord,O,h,g);D&&(h=A.tickCoord+e*(O()/2+s),d[E]=Fr(Fr({},A),{},{isShow:!0}))},C=0;C<k;C++)w(C);return d}function wb(e,t,n){var{tick:i,ticks:s,viewBox:c,minTickGap:d,orientation:p,interval:h,tickFormatter:g,unit:m,angle:v}=e;if(!s||!s.length||!i)return[];if(Ke(h)||ao.isSsr){var S;return(S=U9(s,Ke(h)?h:0))!==null&&S!==void 0?S:[]}var j=[],k=p==="top"||p==="bottom"?"width":"height",w=m&&k==="width"?gc(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},C=(A,T)=>{var O=typeof g=="function"?g(A.value,T):A.value;return k==="width"?I9(gc(O,{fontSize:t,letterSpacing:n}),w,v):gc(O,{fontSize:t,letterSpacing:n})[k]},_=s.length>=2?Er(s[1].coordinate-s[0].coordinate):1,E=q9(c,_,k);return h==="equidistantPreserveStart"?H9(_,E,C,s,d):(h==="preserveStart"||h==="preserveStartEnd"?j=G9(_,E,C,s,d,h==="preserveStartEnd"):j=V9(_,E,C,s,d),j.filter(A=>A.isShow))}var X9=e=>{var{ticks:t,label:n,labelGapWithTick:i=5,tickSize:s=0,tickMargin:c=0}=e,d=0;if(t){t.forEach(m=>{if(m){var v=m.getBoundingClientRect();v.width>d&&(d=v.width)}});var p=n?n.getBoundingClientRect().width:0,h=s+c,g=d+h+p+(n?i:0);return Math.round(g)}return 0},Q9=["axisLine","width","height","className","hide","ticks"],Z9=["viewBox"],J9=["viewBox"];function cx(e,t){if(e==null)return{};var n,i,s=eU(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function eU(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ho.apply(null,arguments)}function b2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(n),!0).forEach(function(i){tU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function tU(e,t,n){return(t=rU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rU(e){var t=nU(e,"string");return typeof t=="symbol"?t:t+""}function nU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cb={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function iU(e){var{x:t,y:n,width:i,height:s,orientation:c,mirror:d,axisLine:p,otherSvgProps:h}=e;if(!p)return null;var g=Cr(Cr(Cr({},h),tr(p,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);g=Cr(Cr({},g),{},{x1:t,y1:n+m*s,x2:t+i,y2:n+m*s})}else{var v=+(c==="left"&&!d||c==="right"&&d);g=Cr(Cr({},g),{},{x1:t+v*i,y1:n,x2:t+v*i,y2:n+s})}return x.createElement("line",Ho({},g,{className:St("recharts-cartesian-axis-line",Bo(p,"className"))}))}function aU(e,t,n,i,s,c,d,p,h){var g,m,v,S,j,k,w=p?-1:1,C=e.tickSize||d,_=Ke(e.tickCoord)?e.tickCoord:e.coordinate;switch(c){case"top":g=m=e.coordinate,S=n+ +!p*s,v=S-w*C,k=v-w*h,j=_;break;case"left":v=S=e.coordinate,m=t+ +!p*i,g=m-w*C,j=g-w*h,k=_;break;case"right":v=S=e.coordinate,m=t+ +p*i,g=m+w*C,j=g+w*h,k=_;break;default:g=m=e.coordinate,S=n+ +p*s,v=S+w*C,k=v+w*h,j=_;break}return{line:{x1:g,y1:v,x2:m,y2:S},tick:{x:j,y:k}}}function oU(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function lU(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function sU(e){var{option:t,tickProps:n,value:i}=e,s,c=St(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))s=x.cloneElement(t,Cr(Cr({},n),{},{className:c}));else if(typeof t=="function")s=t(Cr(Cr({},n),{},{className:c}));else{var d="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(d=St(d,t?.className)),s=x.createElement(xp,Ho({},n,{className:d}),i)}return s}function cU(e){var{ticks:t=[],tick:n,tickLine:i,stroke:s,tickFormatter:c,unit:d,padding:p,tickTextProps:h,orientation:g,mirror:m,x:v,y:S,width:j,height:k,tickSize:w,tickMargin:C,fontSize:_,letterSpacing:E,getTicksConfig:A,events:T}=e,O=wb(Cr(Cr({},A),{},{ticks:t}),_,E),P=oU(g,m),D=lU(g,m),I=Ri(A),Q=tr(n,!1),fe=Cr(Cr({},I),{},{fill:"none"},tr(i,!1)),ce=O.map((Z,Se)=>{var{line:he,tick:pe}=aU(Z,v,S,j,k,g,w,m,C),U=Cr(Cr(Cr(Cr({textAnchor:P,verticalAnchor:D},I),{},{stroke:"none",fill:s},Q),pe),{},{index:Se,payload:Z,visibleTicksCount:O.length,tickFormatter:c,padding:p},h);return x.createElement(qr,Ho({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Z.value,"-").concat(Z.coordinate,"-").concat(Z.tickCoord)},Pc(T,Z,Se)),i&&x.createElement("line",Ho({},fe,he,{className:St("recharts-cartesian-axis-tick-line",Bo(i,"className"))})),n&&x.createElement(sU,{option:n,tickProps:U,value:"".concat(typeof c=="function"?c(Z.value,Se):Z.value).concat(d||"")}))});return ce.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},ce):null}var uU=x.forwardRef((e,t)=>{var{axisLine:n,width:i,height:s,className:c,hide:d,ticks:p}=e,h=cx(e,Q9),[g,m]=x.useState(""),[v,S]=x.useState(""),j=x.useRef([]);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return X9({ticks:j.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var k=x.useCallback(w=>{if(w){var C=w.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=Array.from(C);var _=C[0];if(_){var E=window.getComputedStyle(_),A=E.fontSize,T=E.letterSpacing;(A!==g||T!==v)&&(m(A),S(T))}}},[g,v]);return d||i!=null&&i<=0||s!=null&&s<=0?null:x.createElement(qr,{className:St("recharts-cartesian-axis",c),ref:k},x.createElement(iU,{x:e.x,y:e.y,width:i,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ri(e)}),x.createElement(cU,{ticks:p,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:g,letterSpacing:v,getTicksConfig:e,events:h}),x.createElement(hI,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(kI,{label:e.label}),e.children))}),dU=x.memo(uU,(e,t)=>{var{viewBox:n}=e,i=cx(e,Z9),{viewBox:s}=t,c=cx(t,J9);return Kl(n,s)&&Kl(i,c)}),kb=x.forwardRef((e,t)=>{var n=Ur(e,Cb);return x.createElement(dU,Ho({},n,{ref:t}))});kb.displayName="CartesianAxis";var fU=["x1","y1","x2","y2","key"],pU=["offset"],gU=["xAxisId","yAxisId"],hU=["xAxisId","yAxisId"];function S2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(n),!0).forEach(function(i){mU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function mU(e,t,n){return(t=yU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yU(e){var t=xU(e,"string");return typeof t=="symbol"?t:t+""}function xU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Po.apply(null,arguments)}function Tf(e,t){if(e==null)return{};var n,i,s=vU(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function vU(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var bU=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:i,y:s,width:c,height:d,ry:p}=e;return x.createElement("rect",{x:i,y:s,ry:p,width:c,height:d,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function bE(e,t){var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:i,y1:s,x2:c,y2:d,key:p}=t,h=Tf(t,fU),g=Ri(h),{offset:m}=g,v=Tf(g,pU);n=x.createElement("line",Po({},v,{x1:i,y1:s,x2:c,y2:d,fill:"none",key:p}))}return n}function SU(e){var{x:t,width:n,horizontal:i=!0,horizontalPoints:s}=e;if(!i||!s||!s.length)return null;var{xAxisId:c,yAxisId:d}=e,p=Tf(e,gU),h=s.map((g,m)=>{var v=Kr(Kr({},p),{},{x1:t,y1:g,x2:t+n,y2:g,key:"line-".concat(m),index:m});return bE(i,v)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function jU(e){var{y:t,height:n,vertical:i=!0,verticalPoints:s}=e;if(!i||!s||!s.length)return null;var{xAxisId:c,yAxisId:d}=e,p=Tf(e,hU),h=s.map((g,m)=>{var v=Kr(Kr({},p),{},{x1:g,y1:t,x2:g,y2:t+n,key:"line-".concat(m),index:m});return bE(i,v)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function wU(e){var{horizontalFill:t,fillOpacity:n,x:i,y:s,width:c,height:d,horizontalPoints:p,horizontal:h=!0}=e;if(!h||!t||!t.length)return null;var g=p.map(v=>Math.round(v+s-s)).sort((v,S)=>v-S);s!==g[0]&&g.unshift(0);var m=g.map((v,S)=>{var j=!g[S+1],k=j?s+d-v:g[S+1]-v;if(k<=0)return null;var w=S%t.length;return x.createElement("rect",{key:"react-".concat(S),y:v,x:i,height:k,width:c,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function CU(e){var{vertical:t=!0,verticalFill:n,fillOpacity:i,x:s,y:c,width:d,height:p,verticalPoints:h}=e;if(!t||!n||!n.length)return null;var g=h.map(v=>Math.round(v+s-s)).sort((v,S)=>v-S);s!==g[0]&&g.unshift(0);var m=g.map((v,S)=>{var j=!g[S+1],k=j?s+d-v:g[S+1]-v;if(k<=0)return null;var w=S%n.length;return x.createElement("rect",{key:"react-".concat(S),x:v,y:c,width:k,height:p,stroke:"none",fill:n[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var kU=(e,t)=>{var{xAxis:n,width:i,height:s,offset:c}=e;return y_(wb(Kr(Kr(Kr({},Cb),n),{},{ticks:x_(n),viewBox:{x:0,y:0,width:i,height:s}})),c.left,c.left+c.width,t)},zU=(e,t)=>{var{yAxis:n,width:i,height:s,offset:c}=e;return y_(wb(Kr(Kr(Kr({},Cb),n),{},{ticks:x_(n),viewBox:{x:0,y:0,width:i,height:s}})),c.top,c.top+c.height,t)},_U={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Wd(e){var t=Qx(),n=Zx(),i=j_(),s=Kr(Kr({},Ur(e,_U)),{},{x:Ke(e.x)?e.x:i.left,y:Ke(e.y)?e.y:i.top,width:Ke(e.width)?e.width:i.width,height:Ke(e.height)?e.height:i.height}),{xAxisId:c,yAxisId:d,x:p,y:h,width:g,height:m,syncWithTicks:v,horizontalValues:S,verticalValues:j}=s,k=dn(),w=Ie(Q=>xk(Q,"xAxis",c,k)),C=Ie(Q=>xk(Q,"yAxis",d,k));if(!Ke(g)||g<=0||!Ke(m)||m<=0||!Ke(p)||p!==+p||!Ke(h)||h!==+h)return null;var _=s.verticalCoordinatesGenerator||kU,E=s.horizontalCoordinatesGenerator||zU,{horizontalPoints:A,verticalPoints:T}=s;if((!A||!A.length)&&typeof E=="function"){var O=S&&S.length,P=E({yAxis:C?Kr(Kr({},C),{},{ticks:O?S:C.ticks}):void 0,width:t,height:n,offset:i},O?!0:v);pc(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(A=P)}if((!T||!T.length)&&typeof _=="function"){var D=j&&j.length,I=_({xAxis:w?Kr(Kr({},w),{},{ticks:D?j:w.ticks}):void 0,width:t,height:n,offset:i},D?!0:v);pc(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(T=I)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(bU,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),x.createElement(wU,Po({},s,{horizontalPoints:A})),x.createElement(CU,Po({},s,{verticalPoints:T})),x.createElement(SU,Po({},s,{offset:i,horizontalPoints:A,xAxis:w,yAxis:C})),x.createElement(jU,Po({},s,{offset:i,verticalPoints:T,xAxis:w,yAxis:C})))}Wd.displayName="CartesianGrid";var SE=(e,t,n,i)=>Qa(e,"xAxis",t,i),jE=(e,t,n,i)=>Xa(e,"xAxis",t,i),wE=(e,t,n,i)=>Qa(e,"yAxis",n,i),CE=(e,t,n,i)=>Xa(e,"yAxis",n,i),TU=oe([ht,SE,wE,jE,CE],(e,t,n,i,s)=>io(e,"xAxis")?jc(t,i,!1):jc(n,s,!1)),AU=(e,t,n,i,s)=>s;function EU(e){return e.type==="line"}var OU=oe([fp,AU],(e,t)=>e.filter(EU).find(n=>n.id===t)),MU=oe([ht,SE,wE,jE,CE,OU,TU,lp],(e,t,n,i,s,c,d,p)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:m}=p;if(!(c==null||t==null||n==null||i==null||s==null||i.length===0||s.length===0||d==null)){var{dataKey:v,data:S}=c,j;if(S!=null&&S.length>0?j=S:j=h?.slice(g,m+1),j!=null)return eH({layout:e,xAxis:t,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:v,bandSize:d,displayedData:j})}}),DU=["id"],RU=["type","layout","connectNulls","needClip"],PU=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function j2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(n),!0).forEach(function(i){$U(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function $U(e,t,n){return(t=NU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NU(e){var t=LU(e,"string");return typeof t=="symbol"?t:t+""}function LU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zb(e,t){if(e==null)return{};var n,i,s=WU(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function WU(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fo.apply(null,arguments)}var BU=e=>{var{dataKey:t,name:n,stroke:i,legendType:s,hide:c}=e;return[{inactive:c,dataKey:t,type:s,color:i,value:Jl(n,t),payload:e}]};function IU(e){var{dataKey:t,data:n,stroke:i,strokeWidth:s,fill:c,name:d,hide:p,unit:h}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:i,strokeWidth:s,fill:c,dataKey:t,nameKey:void 0,name:Jl(d,t),hide:p,type:e.tooltipType,color:e.stroke,unit:h}}}var kE=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function qU(e,t){for(var n=e.length%2!==0?[...e,0]:e,i=[],s=0;s<t;++s)i=[...i,...n];return i}var UU=(e,t,n)=>{var i=n.reduce((v,S)=>v+S);if(!i)return kE(t,e);for(var s=Math.floor(e/i),c=e%i,d=t-e,p=[],h=0,g=0;h<n.length;g+=n[h],++h)if(g+n[h]>c){p=[...n.slice(0,h),c-g];break}var m=p.length%2===0?[0,d]:[d];return[...qU(n,s),...p,...m].map(v=>"".concat(v,"px")).join(", ")};function HU(e,t){var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var i=St("recharts-line-dot",typeof e!="boolean"?e.className:"");n=x.createElement(JA,Fo({},t,{className:i}))}return n}function FU(e,t){return e==null?!1:t?!0:e.length===1}function KU(e){var{clipPathId:t,points:n,props:i}=e,{dot:s,dataKey:c,needClip:d}=i;if(!FU(n,s))return null;var{id:p}=i,h=zb(i,DU),g=fz(s),m=Ri(h),v=tr(s,!0),S=n.map((k,w)=>{var C=Cn(Cn(Cn({key:"dot-".concat(w),r:3},m),v),{},{index:w,cx:k.x,cy:k.y,dataKey:c,value:k.value,payload:k.payload,points:n});return HU(s,C)}),j={clipPath:d?"url(#clipPath-".concat(g?"":"dots-").concat(t,")"):void 0};return x.createElement(qr,Fo({className:"recharts-line-dots",key:"dots"},j),S)}function YU(e){var{showLabels:t,children:n,points:i}=e,s=x.useMemo(()=>i?.map(c=>{var d={x:c.x,y:c.y,width:0,height:0};return Cn(Cn({},d),{},{value:c.value,payload:c.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[i]);return x.createElement(QA,{value:t?s:null},n)}function w2(e){var{clipPathId:t,pathRef:n,points:i,strokeDasharray:s,props:c}=e,{type:d,layout:p,connectNulls:h,needClip:g}=c,m=zb(c,RU),v=Cn(Cn({},tr(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:g?"url(#clipPath-".concat(t,")"):void 0,points:i,type:d,layout:p,connectNulls:h,strokeDasharray:s??c.strokeDasharray});return x.createElement(x.Fragment,null,i?.length>1&&x.createElement(ev,Fo({},v,{pathRef:n})),x.createElement(KU,{points:i,clipPathId:t,props:c}))}function VU(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function GU(e){var{clipPathId:t,props:n,pathRef:i,previousPointsRef:s,longestAnimatedLengthRef:c}=e,{points:d,strokeDasharray:p,isAnimationActive:h,animationBegin:g,animationDuration:m,animationEasing:v,animateNewValues:S,width:j,height:k,onAnimationEnd:w,onAnimationStart:C}=n,_=s.current,E=Bc(n,"recharts-line-"),[A,T]=x.useState(!1),O=!A,P=x.useCallback(()=>{typeof w=="function"&&w(),T(!1)},[w]),D=x.useCallback(()=>{typeof C=="function"&&C(),T(!0)},[C]),I=VU(i.current),Q=c.current;return x.createElement(YU,{points:d,showLabels:O},n.children,x.createElement(Wc,{animationId:E,begin:g,duration:m,isActive:h,easing:v,onAnimationEnd:P,onAnimationStart:D,key:E},fe=>{var ce=lr(Q,I+Q,fe),Z=Math.min(ce,I),Se;if(h)if(p){var he="".concat(p).split(/[,\s]+/gim).map(F=>parseFloat(F));Se=UU(Z,I,he)}else Se=kE(I,Z);else Se=p==null?void 0:String(p);if(_){var pe=_.length/d.length,U=fe===1?d:d.map((F,ge)=>{var je=Math.floor(ge*pe);if(_[je]){var Oe=_[je];return Cn(Cn({},F),{},{x:lr(Oe.x,F.x,fe),y:lr(Oe.y,F.y,fe)})}return S?Cn(Cn({},F),{},{x:lr(j*2,F.x,fe),y:lr(k/2,F.y,fe)}):Cn(Cn({},F),{},{x:F.x,y:F.y})});return s.current=U,x.createElement(w2,{props:n,points:U,clipPathId:t,pathRef:i,strokeDasharray:Se})}return fe>0&&I>0&&(s.current=d,c.current=Z),x.createElement(w2,{props:n,points:d,clipPathId:t,pathRef:i,strokeDasharray:Se})}),x.createElement(sb,{label:n.label}))}function XU(e){var{clipPathId:t,props:n}=e,i=x.useRef(null),s=x.useRef(0),c=x.useRef(null);return x.createElement(GU,{props:n,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:s,pathRef:c})}var QU=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:qt(e.payload,t)});class ZU extends x.Component{render(){var t,{hide:n,dot:i,points:s,className:c,xAxisId:d,yAxisId:p,top:h,left:g,width:m,height:v,id:S,needClip:j}=this.props;if(n)return null;var k=St("recharts-line",c),w=S,{r:C=3,strokeWidth:_=2}=(t=tr(i,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},E=fz(i),A=C*2+_;return x.createElement(x.Fragment,null,x.createElement(qr,{className:k},j&&x.createElement("defs",null,x.createElement(pE,{clipPathId:w,xAxisId:d,yAxisId:p}),!E&&x.createElement("clipPath",{id:"clipPath-dots-".concat(w)},x.createElement("rect",{x:g-A/2,y:h-A/2,width:m+A,height:v+A}))),x.createElement(fE,{xAxisId:d,yAxisId:p,data:s,dataPointFormatter:QU,errorBarOffset:0},x.createElement(XU,{props:this.props,clipPathId:w}))),x.createElement(xq,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var zE={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ao.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function JU(e){var t=Ur(e,zE),{activeDot:n,animateNewValues:i,animationBegin:s,animationDuration:c,animationEasing:d,connectNulls:p,dot:h,hide:g,isAnimationActive:m,label:v,legendType:S,xAxisId:j,yAxisId:k,id:w}=t,C=zb(t,PU),{needClip:_}=Sb(j,k),E=vb(),A=ep(),T=dn(),O=Ie(fe=>MU(fe,j,k,T,w));if(A!=="horizontal"&&A!=="vertical"||O==null||E==null)return null;var{height:P,width:D,x:I,y:Q}=E;return x.createElement(ZU,Fo({},C,{id:w,connectNulls:p,dot:h,activeDot:n,animateNewValues:i,animationBegin:s,animationDuration:c,animationEasing:d,isAnimationActive:m,hide:g,label:v,legendType:S,xAxisId:j,yAxisId:k,points:O,layout:A,height:P,width:D,left:I,top:Q,needClip:_}))}function eH(e){var{layout:t,xAxis:n,yAxis:i,xAxisTicks:s,yAxisTicks:c,dataKey:d,bandSize:p,displayedData:h}=e;return h.map((g,m)=>{var v=qt(g,d);if(t==="horizontal"){var S=Jw({axis:n,ticks:s,bandSize:p,entry:g,index:m}),j=Zt(v)?null:i.scale(v);return{x:S,y:j,value:v,payload:g}}var k=Zt(v)?null:n.scale(v),w=Jw({axis:i,ticks:c,bandSize:p,entry:g,index:m});return k==null||w==null?null:{x:k,y:w,value:v,payload:g}}).filter(Boolean)}function tH(e){var t=Ur(e,zE),n=dn();return x.createElement(yb,{id:t.id,type:"line"},i=>x.createElement(x.Fragment,null,x.createElement(oE,{legendPayload:BU(t)}),x.createElement(mb,{fn:IU,args:t}),x.createElement(sE,{type:"line",id:i,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),x.createElement(JU,Fo({},t,{id:i}))))}var _E=x.memo(tH);_E.displayName="Line";var rH=["dangerouslySetInnerHTML","ticks"],nH=["id"],iH=["domain"],aH=["domain"];function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ux.apply(null,arguments)}function Af(e,t){if(e==null)return{};var n,i,s=oH(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function oH(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function lH(e){var t=rr();return x.useEffect(()=>(t(aq(e)),()=>{t(oq(e))}),[e,t]),null}var sH=e=>{var{xAxisId:t,className:n}=e,i=Ie(Gx),s=dn(),c="xAxis",d=Ie(C=>os(C,c,t,s)),p=Ie(C=>pA(C,c,t,s)),h=Ie(C=>cA(C,t)),g=Ie(C=>BL(C,t)),m=Ie(C=>BT(C,t));if(h==null||g==null||m==null)return null;var{dangerouslySetInnerHTML:v,ticks:S}=e,j=Af(e,rH),{id:k}=m,w=Af(m,nH);return x.createElement(kb,ux({},j,w,{scale:d,x:g.x,y:g.y,width:h.width,height:h.height,className:St("recharts-".concat(c," ").concat(c),n),viewBox:i,ticks:p}))},cH={allowDataOverflow:Sn.allowDataOverflow,allowDecimals:Sn.allowDecimals,allowDuplicatedCategory:Sn.allowDuplicatedCategory,height:Sn.height,hide:!1,mirror:Sn.mirror,orientation:Sn.orientation,padding:Sn.padding,reversed:Sn.reversed,scale:Sn.scale,tickCount:Sn.tickCount,type:Sn.type,xAxisId:0},uH=e=>{var t,n,i,s,c,d=Ur(e,cH);return x.createElement(x.Fragment,null,x.createElement(lH,{interval:(t=d.interval)!==null&&t!==void 0?t:"preserveEnd",id:d.xAxisId,scale:d.scale,type:d.type,padding:d.padding,allowDataOverflow:d.allowDataOverflow,domain:d.domain,dataKey:d.dataKey,allowDuplicatedCategory:d.allowDuplicatedCategory,allowDecimals:d.allowDecimals,tickCount:d.tickCount,includeHidden:(n=d.includeHidden)!==null&&n!==void 0?n:!1,reversed:d.reversed,ticks:d.ticks,height:d.height,orientation:d.orientation,mirror:d.mirror,hide:d.hide,unit:d.unit,name:d.name,angle:(i=d.angle)!==null&&i!==void 0?i:0,minTickGap:(s=d.minTickGap)!==null&&s!==void 0?s:5,tick:(c=d.tick)!==null&&c!==void 0?c:!0,tickFormatter:d.tickFormatter}),x.createElement(sH,d))},dH=(e,t)=>{var{domain:n}=e,i=Af(e,iH),{domain:s}=t,c=Af(t,aH);return Kl(i,c)?Array.isArray(n)&&n.length===2&&Array.isArray(s)&&s.length===2?n[0]===s[0]&&n[1]===s[1]:Kl({domain:n},{domain:s}):!1},Bd=x.memo(uH,dH);Bd.displayName="XAxis";var fH=["dangerouslySetInnerHTML","ticks"],pH=["id"],gH=["domain"],hH=["domain"];function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dx.apply(null,arguments)}function Ef(e,t){if(e==null)return{};var n,i,s=mH(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function mH(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function yH(e){var t=rr();return x.useEffect(()=>(t(lq(e)),()=>{t(sq(e))}),[e,t]),null}var xH=e=>{var{yAxisId:t,className:n,width:i,label:s}=e,c=x.useRef(null),d=x.useRef(null),p=Ie(Gx),h=dn(),g=rr(),m="yAxis",v=Ie(O=>os(O,m,t,h)),S=Ie(O=>uA(O,t)),j=Ie(O=>qL(O,t)),k=Ie(O=>pA(O,m,t,h)),w=Ie(O=>IT(O,t));if(x.useLayoutEffect(()=>{if(!(i!=="auto"||!S||lb(s)||x.isValidElement(s)||w==null)){var O=c.current;if(O){var P=O.getCalculatedWidth();Math.round(S.width)!==Math.round(P)&&g(cq({id:t,width:P}))}}},[k,S,g,s,t,i,w]),S==null||j==null||w==null)return null;var{dangerouslySetInnerHTML:C,ticks:_}=e,E=Ef(e,fH),{id:A}=w,T=Ef(w,pH);return x.createElement(kb,dx({},E,T,{ref:c,labelRef:d,scale:v,x:j.x,y:j.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:S.width,height:S.height,className:St("recharts-".concat(m," ").concat(m),n),viewBox:p,ticks:k}))},vH={allowDataOverflow:jn.allowDataOverflow,allowDecimals:jn.allowDecimals,allowDuplicatedCategory:jn.allowDuplicatedCategory,hide:!1,mirror:jn.mirror,orientation:jn.orientation,padding:jn.padding,reversed:jn.reversed,scale:jn.scale,tickCount:jn.tickCount,type:jn.type,width:jn.width,yAxisId:0},bH=e=>{var t,n,i,s,c,d=Ur(e,vH);return x.createElement(x.Fragment,null,x.createElement(yH,{interval:(t=d.interval)!==null&&t!==void 0?t:"preserveEnd",id:d.yAxisId,scale:d.scale,type:d.type,domain:d.domain,allowDataOverflow:d.allowDataOverflow,dataKey:d.dataKey,allowDuplicatedCategory:d.allowDuplicatedCategory,allowDecimals:d.allowDecimals,tickCount:d.tickCount,padding:d.padding,includeHidden:(n=d.includeHidden)!==null&&n!==void 0?n:!1,reversed:d.reversed,ticks:d.ticks,width:d.width,orientation:d.orientation,mirror:d.mirror,hide:d.hide,unit:d.unit,name:d.name,angle:(i=d.angle)!==null&&i!==void 0?i:0,minTickGap:(s=d.minTickGap)!==null&&s!==void 0?s:5,tick:(c=d.tick)!==null&&c!==void 0?c:!0,tickFormatter:d.tickFormatter}),x.createElement(xH,d))},SH=(e,t)=>{var{domain:n}=e,i=Ef(e,gH),{domain:s}=t,c=Ef(t,hH);return Kl(i,c)?Array.isArray(n)&&n.length===2&&Array.isArray(s)&&s.length===2?n[0]===s[0]&&n[1]===s[1]:Kl({domain:n},{domain:s}):!1},Id=x.memo(bH,SH);Id.displayName="YAxis";var dy={exports:{}},fy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2;function jH(){if(C2)return fy;C2=1;var e=Gl();function t(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=e.useRef,c=e.useEffect,d=e.useMemo,p=e.useDebugValue;return fy.useSyncExternalStoreWithSelector=function(h,g,m,v,S){var j=s(null);if(j.current===null){var k={hasValue:!1,value:null};j.current=k}else k=j.current;j=d(function(){function C(O){if(!_){if(_=!0,E=O,O=v(O),S!==void 0&&k.hasValue){var P=k.value;if(S(P,O))return A=P}return A=O}if(P=A,n(E,O))return P;var D=v(O);return S!==void 0&&S(P,D)?(E=O,P):(E=O,A=D)}var _=!1,E,A,T=m===void 0?null:m;return[function(){return C(g())},T===null?void 0:function(){return C(T())}]},[g,m,v,S]);var w=i(h,j[0],j[1]);return c(function(){k.hasValue=!0,k.value=w},[w]),p(w),w},fy}var k2;function wH(){return k2||(k2=1,dy.exports=jH()),dy.exports}wH();function CH(e){e()}function kH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){CH(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var z2={notify(){},get:()=>[]};function zH(e,t){let n,i=z2,s=0,c=!1;function d(w){m();const C=i.subscribe(w);let _=!1;return()=>{_||(_=!0,C(),v())}}function p(){i.notify()}function h(){k.onStateChange&&k.onStateChange()}function g(){return c}function m(){s++,n||(n=e.subscribe(h),i=kH())}function v(){s--,n&&s===0&&(n(),n=void 0,i.clear(),i=z2)}function S(){c||(c=!0,m())}function j(){c&&(c=!1,v())}const k={addNestedSub:d,notifyNestedSubs:p,handleChangeWrapper:h,isSubscribed:g,trySubscribe:S,tryUnsubscribe:j,getListeners:()=>i};return k}var _H=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TH=_H(),AH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",EH=AH(),OH=()=>TH||EH?x.useLayoutEffect:x.useEffect,MH=OH(),DH=Symbol.for("react-redux-context"),RH=typeof globalThis<"u"?globalThis:{};function PH(){if(!x.createContext)return{};const e=RH[DH]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var $H=PH();function NH(e){const{children:t,context:n,serverState:i,store:s}=e,c=x.useMemo(()=>{const h=zH(s);return{store:s,subscription:h,getServerState:i?()=>i:void 0}},[s,i]),d=x.useMemo(()=>s.getState(),[s]);MH(()=>{const{subscription:h}=c;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),d!==s.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[c,d]);const p=n||$H;return x.createElement(p.Provider,{value:c},t)}var LH=NH,WH=(e,t)=>t,_b=oe([WH,ht,NT,_r,TA,ja,YW,kr],ZW),Tb=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,i=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/i)}},TE=Qn("mouseClick"),AE=Nc();AE.startListening({actionCreator:TE,effect:(e,t)=>{var n=e.payload,i=_b(t.getState(),Tb(n));i?.activeIndex!=null&&t.dispatch(tW({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var fx=Qn("mouseMove"),EE=Nc();EE.startListening({actionCreator:fx,effect:(e,t)=>{var n=e.payload,i=t.getState(),s=Qv(i,i.tooltip.settings.shared),c=_b(i,Tb(n));s==="axis"&&(c?.activeIndex!=null?t.dispatch(SA({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(bA()))}});var _2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},OE=Mn({name:"rootProps",initialState:_2,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:_2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),BH=OE.reducer,{updateOptions:IH}=OE.actions,ME=Mn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:qH}=ME.actions,UH=ME.reducer,DE=Qn("keyDown"),RE=Qn("focus"),Ab=Nc();Ab.startListening({actionCreator:DE,effect:(e,t)=>{var n=t.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:s}=n.tooltip,c=e.payload;if(!(c!=="ArrowRight"&&c!=="ArrowLeft"&&c!=="Enter")){var d=Number(Zv(s,ss(n))),p=ja(n);if(c==="Enter"){var h=jf(n,"axis","hover",String(s.index));t.dispatch(rx({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:h}));return}var g=KL(n),m=g==="left-to-right"?1:-1,v=c==="ArrowRight"?1:-1,S=d+v*m;if(!(p==null||S>=p.length||S<0)){var j=jf(n,"axis","hover",String(S));t.dispatch(rx({active:!0,activeIndex:S.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}});Ab.startListening({actionCreator:RE,effect:(e,t)=>{var n=t.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var c="0",d=jf(n,"axis","hover",String(c));t.dispatch(rx({activeDataKey:void 0,active:!0,activeIndex:c,activeCoordinate:d}))}}}});var Kn=Qn("externalEvent"),PE=Nc();PE.startListening({actionCreator:Kn,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),i={activeCoordinate:NW(n),activeDataKey:MA(n),activeIndex:Za(n),activeLabel:OA(n),activeTooltipIndex:Za(n),isTooltipActive:LW(n)};e.payload.handler(i,e.payload.reactEvent)}}});var HH=oe([ls],e=>e.tooltipItemPayloads),FH=oe([HH,Xc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,i)=>{var s=e.find(p=>p.settings.dataKey===i);if(s!=null){var{positions:c}=s;if(c!=null){var d=t(c,n);return d}}}),$E=Qn("touchMove"),NE=Nc();NE.startListening({actionCreator:$E,effect:(e,t)=>{var n=e.payload,i=t.getState(),s=Qv(i,i.tooltip.settings.shared);if(s==="axis"){var c=_b(i,Tb({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));c?.activeIndex!=null&&t.dispatch(SA({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(s==="item"){var d,p=n.touches[0],h=document.elementFromPoint(p.clientX,p.clientY);if(!h||!h.getAttribute)return;var g=h.getAttribute(b_),m=(d=h.getAttribute(S_))!==null&&d!==void 0?d:void 0,v=FH(t.getState(),g,m);t.dispatch(vA({activeDataKey:m,activeIndex:g,activeCoordinate:v}))}}});var KH=Kz({brush:O9,cartesianAxis:uq,chartData:gB,errorBars:Eq,graphicalItems:A7,layout:Y$,legend:N4,options:cB,polarAxis:KI,polarOptions:UH,referenceElements:L9,rootProps:BH,tooltip:rW}),YH=function(t){return x$({reducer:KH,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([AE.middleware,EE.middleware,Ab.middleware,PE.middleware,NE.middleware]),devTools:ao.devToolsEnabled})};function LE(e){var{preloadedState:t,children:n,reduxStoreName:i}=e,s=dn(),c=x.useRef(null);if(s)return n;c.current==null&&(c.current=YH(t));var d=Ux;return x.createElement(LH,{context:d,store:c.current},n)}function WE(e){var{layout:t,width:n,height:i,margin:s}=e,c=rr(),d=dn();return x.useEffect(()=>{d||(c(H$(t)),c(F$({width:n,height:i})),c(U$(s)))},[c,d,t,n,i,s]),null}function BE(e){var t=rr();return x.useEffect(()=>{t(IH(e))},[t,e]),null}var VH=["children"];function GH(e,t){if(e==null)return{};var n,i,s=XH(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function XH(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Of.apply(null,arguments)}var QH={width:"100%",height:"100%"},ZH=x.forwardRef((e,t)=>{var n=Qx(),i=Zx(),s=z_();if(!Bl(n)||!Bl(i))return null;var{children:c,otherAttributes:d,title:p,desc:h}=e,g,m;return typeof d.tabIndex=="number"?g=d.tabIndex:g=s?0:void 0,typeof d.role=="string"?m=d.role:m=s?"application":void 0,x.createElement(Rx,Of({},d,{title:p,desc:h,role:m,tabIndex:g,width:n,height:i,style:QH,ref:t}),c)}),JH=e=>{var{children:t}=e,n=Ie(Jf);if(!n)return null;var{width:i,height:s,y:c,x:d}=n;return x.createElement(Rx,{width:i,height:s,x:d,y:c},t)},T2=x.forwardRef((e,t)=>{var{children:n}=e,i=GH(e,VH),s=dn();return s?x.createElement(JH,null,n):x.createElement(ZH,Of({ref:t},i),n)});function eF(){var e=rr(),[t,n]=x.useState(null),i=Ie(j4);return x.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),c=s.width/t.offsetWidth;On(c)&&c!==i&&e(K$(c))}},[t,e,i]),n}function A2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function tF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(n),!0).forEach(function(i){rF(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function rF(e,t,n){return(t=nF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nF(e){var t=iF(e,"string");return typeof t=="symbol"?t:t+""}function iF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aF=x.forwardRef((e,t)=>{var{children:n,className:i,height:s,onClick:c,onContextMenu:d,onDoubleClick:p,onMouseDown:h,onMouseEnter:g,onMouseLeave:m,onMouseMove:v,onMouseUp:S,onTouchEnd:j,onTouchMove:k,onTouchStart:w,style:C,width:_}=e,E=rr(),[A,T]=x.useState(null),[O,P]=x.useState(null);wB();var D=eF(),I=x.useCallback(L=>{D(L),typeof t=="function"&&t(L),T(L),P(L)},[D,t,T,P]),Q=x.useCallback(L=>{E(TE(L)),E(Kn({handler:c,reactEvent:L}))},[E,c]),fe=x.useCallback(L=>{E(fx(L)),E(Kn({handler:g,reactEvent:L}))},[E,g]),ce=x.useCallback(L=>{E(bA()),E(Kn({handler:m,reactEvent:L}))},[E,m]),Z=x.useCallback(L=>{E(fx(L)),E(Kn({handler:v,reactEvent:L}))},[E,v]),Se=x.useCallback(()=>{E(RE())},[E]),he=x.useCallback(L=>{E(DE(L.key))},[E]),pe=x.useCallback(L=>{E(Kn({handler:d,reactEvent:L}))},[E,d]),U=x.useCallback(L=>{E(Kn({handler:p,reactEvent:L}))},[E,p]),F=x.useCallback(L=>{E(Kn({handler:h,reactEvent:L}))},[E,h]),ge=x.useCallback(L=>{E(Kn({handler:S,reactEvent:L}))},[E,S]),je=x.useCallback(L=>{E(Kn({handler:w,reactEvent:L}))},[E,w]),Oe=x.useCallback(L=>{E($E(L)),E(Kn({handler:k,reactEvent:L}))},[E,k]),$=x.useCallback(L=>{E(Kn({handler:j,reactEvent:L}))},[E,j]);return x.createElement(LA.Provider,{value:A},x.createElement(pz.Provider,{value:O},x.createElement("div",{className:St("recharts-wrapper",i),style:tF({position:"relative",cursor:"default",width:_,height:s},C),onClick:Q,onContextMenu:pe,onDoubleClick:U,onFocus:Se,onKeyDown:he,onMouseDown:F,onMouseEnter:fe,onMouseLeave:ce,onMouseMove:Z,onMouseUp:ge,onTouchEnd:$,onTouchMove:Oe,onTouchStart:je,ref:I},n)))}),oF=["children","className","width","height","style","compact","title","desc"];function lF(e,t){if(e==null)return{};var n,i,s=sF(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function sF(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var IE=x.forwardRef((e,t)=>{var{children:n,className:i,width:s,height:c,style:d,compact:p,title:h,desc:g}=e,m=lF(e,oF),v=Ri(m);return p?x.createElement(T2,{otherAttributes:v,title:h,desc:g},n):x.createElement(aF,{className:i,style:d,width:s,height:c,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(T2,{otherAttributes:v,title:h,desc:g,ref:t},x.createElement(B9,null,n)))}),cF=["width","height"];function px(){return px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},px.apply(null,arguments)}function uF(e,t){if(e==null)return{};var n,i,s=dF(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function dF(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var fF={top:5,right:5,bottom:5,left:5},pF={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:fF,reverseStackOrder:!1,syncMethod:"index"},qE=x.forwardRef(function(t,n){var i,s=Ur(t.categoricalChartProps,pF),{width:c,height:d}=s,p=uF(s,cF);if(!Bl(c)||!Bl(d))return null;var{chartName:h,defaultTooltipEventType:g,validateTooltipEventTypes:m,tooltipPayloadSearcher:v,categoricalChartProps:S}=t,j={chartName:h,defaultTooltipEventType:g,validateTooltipEventTypes:m,tooltipPayloadSearcher:v,eventEmitter:void 0};return x.createElement(LE,{preloadedState:{options:j},reduxStoreName:(i=S.id)!==null&&i!==void 0?i:h},x.createElement(mE,{chartData:S.data}),x.createElement(WE,{width:c,height:d,layout:s.layout,margin:s.margin}),x.createElement(BE,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),x.createElement(IE,px({},p,{width:c,height:d,ref:n})))}),gF=["axis"],hF=x.forwardRef((e,t)=>x.createElement(qE,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gF,tooltipPayloadSearcher:ob,categoricalChartProps:e,ref:t})),mF=["axis","item"],E2=x.forwardRef((e,t)=>x.createElement(qE,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mF,tooltipPayloadSearcher:ob,categoricalChartProps:e,ref:t}));function yF(e){var t=rr();return x.useEffect(()=>{t(qH(e))},[t,e]),null}var xF=["width","height","layout"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gx.apply(null,arguments)}function vF(e,t){if(e==null)return{};var n,i,s=bF(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function bF(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var SF={top:5,right:5,bottom:5,left:5},jF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:SF,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},wF=x.forwardRef(function(t,n){var i,s=Ur(t.categoricalChartProps,jF),{width:c,height:d,layout:p}=s,h=vF(s,xF);if(!Bl(c)||!Bl(d))return null;var{chartName:g,defaultTooltipEventType:m,validateTooltipEventTypes:v,tooltipPayloadSearcher:S}=t,j={chartName:g,defaultTooltipEventType:m,validateTooltipEventTypes:v,tooltipPayloadSearcher:S,eventEmitter:void 0};return x.createElement(LE,{preloadedState:{options:j},reduxStoreName:(i=s.id)!==null&&i!==void 0?i:g},x.createElement(mE,{chartData:s.data}),x.createElement(WE,{width:c,height:d,layout:p,margin:s.margin}),x.createElement(BE,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),x.createElement(yF,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),x.createElement(IE,gx({width:c,height:d},h,{ref:n})))}),CF=["item"],kF={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},zF=x.forwardRef((e,t)=>{var n=Ur(e,kF);return x.createElement(wF,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:CF,tooltipPayloadSearcher:ob,categoricalChartProps:n,ref:t})});/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TF=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),O2=e=>{const t=TF(e);return t.charAt(0).toUpperCase()+t.slice(1)},UE=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),AF=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:c,iconNode:d,...p},h)=>x.createElement("svg",{ref:h,...EF,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:UE("lucide",s),...!c&&!AF(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,m])=>x.createElement(g,m)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(e,t)=>{const n=x.forwardRef(({className:i,...s},c)=>x.createElement(OF,{ref:c,iconNode:t,className:UE(`lucide-${_F(O2(e))}`,`lucide-${e}`,i),...s}));return n.displayName=O2(e),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],M2=Re("archive",MF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Yl=Re("arrow-down",DF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Mf=Re("arrow-left",RF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$F=Re("arrow-right",PF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],LF=Re("arrow-up-down",NF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Vl=Re("arrow-up",WF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hx=Re("calendar",BF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],mx=Re("camera",IF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],di=Re("chevron-down",qF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],HF=Re("chevron-left",UF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],HE=Re("chevron-right",FF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Df=Re("chevron-up",KF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],VF=Re("chevrons-left",YF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],XF=Re("chevrons-right",GF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Vn=Re("circle-alert",QF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],It=Re("circle-check-big",ZF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ec=Re("circle-x",JF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],FE=Re("circle",eK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_n=Re("clock",tK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],KE=Re("copy",rK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_i=Re("external-link",nK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],aK=Re("eye-off",iK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lK=Re("eye",oK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],cK=Re("file-text",sK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],YE=Re("funnel",uK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],fK=Re("git-branch",dK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],gK=Re("grip-vertical",pK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],VE=Re("info",hK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],yK=Re("key",mK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],vK=Re("layout-dashboard",xK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],py=Re("lightbulb",bK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],jK=Re("link-2",SK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],GE=Re("list",wK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ai=Re("loader-circle",CK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Rf=Re("loader",kK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_K=Re("log-out",zK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vp=Re("mail",TK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],ki=Re("message-circle",AK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],yx=Re("message-square",EK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ko=Re("minus",OK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],DK=Re("package",MK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],PK=Re("party-popper",RK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],NK=Re("pause",$K);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Pf=Re("pen",LK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],cs=Re("phone",WK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],$f=Re("play",BK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Or=Re("plus",IK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],XE=Re("refresh-cw",qK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],HK=Re("rotate-ccw",UK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qd=Re("save",FK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pi=Re("search",KK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],VK=Re("send",YK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],XK=Re("settings",GK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],QE=Re("shield",QK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ZE=Re("shopping-cart",ZK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Jc=Re("square-pen",JK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],tY=Re("tag",eY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Oc=Re("target",rY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],ua=Re("ticket",nY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],xx=Re("toggle-left",iY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],vx=Re("toggle-right",aY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kn=Re("trash-2",oY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],sY=Re("trending-down",lY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],uY=Re("trending-up",cY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],gi=Re("triangle-alert",dY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],to=Re("truck",fY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],D2=Re("upload",pY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hc=Re("user-check",gY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],mY=Re("user-plus",hY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bx=Re("users",yY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Yo=Re("user",xY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],bY=Re("video",vY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],ro=Re("wrench",SY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ut=Re("x",jY),JE=x.createContext(null),wY=({children:e})=>{const[t,n]=x.useState(null),[i,s]=x.useState(!1),[c,d]=x.useState(!0),p="";x.useEffect(()=>{(async()=>{try{const T=await fetch(`${p}/api/auth/me`,{credentials:"include"});if(T.ok){const O=await T.json();n(O.user),s(!0)}else s(!1),n(null)}catch(T){console.error("Auth check failed:",T),s(!1),n(null)}finally{d(!1)}})()},[]);const E={user:t,isAuthenticated:i,authLoading:c,login:async(A,T)=>{try{const O=await fetch(`${p}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:A,password:T})}),P=await O.json();if(!O.ok)throw new Error(P.error||"Login failed");return n(P.user),s(!0),{success:!0,user:P.user}}catch(O){return{success:!1,error:O.message}}},logout:async()=>{try{await fetch(`${p}/api/auth/logout`,{method:"POST",credentials:"include"})}catch(A){console.error("Logout error:",A)}n(null),s(!1)},getRoles:()=>!t||!t.roles?[]:t.roles.map(A=>A.name),hasRole:A=>!t||!t.roles?!1:t.roles.some(T=>T.name===A),hasAnyRole:A=>{if(!t||!t.roles)return!1;const T=t.roles.map(O=>O.name);return A.some(O=>T.includes(O))},hasAllRoles:A=>{if(!t||!t.roles)return!1;const T=t.roles.map(O=>O.name);return A.every(O=>T.includes(O))},getPermissions:()=>!t||!t.permissions?[]:t.permissions,hasPermission:A=>!t||!t.permissions?!1:t.permissions.includes(A),hasAnyPermission:A=>!t||!t.permissions?!1:A.some(T=>t.permissions.includes(T)),hasAllPermissions:A=>!t||!t.permissions?!1:A.every(T=>t.permissions.includes(T))};return l.jsx(JE.Provider,{value:E,children:e})},fn=()=>{const e=x.useContext(JE);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},r={colors:{background:{page:"#f8fafc",primary:"#f8fafc",secondary:"#ffffff",tertiary:"#f1f5f9",hover:"#e2e8f0",muted:"#f8fafc"},border:{light:"#e2e8f0",medium:"#cbd5e1",dark:"#94a3b8",focus:"#1e3a5f"},text:{primary:"#0f172a",secondary:"#475569",tertiary:"#64748b",inverse:"#ffffff",link:"#1e3a5f"},accent:{primary:"#1e3a5f",primaryHover:"#152d47",primaryLight:"#e8f0f8",primaryMuted:"#dbeafe",secondary:"#5a8aa3",secondaryHover:"#4a7a93",success:"#059669",successHover:"#047857",successLight:"#d1fae5",warning:"#d97706",warningLight:"#fef3c7",danger:"#dc2626",dangerLight:"#fee2e2",info:"#0891b2",infoLight:"#cffafe"},status:{online:"#059669",onlineLight:"#d1fae5",offline:"#64748b",offlineLight:"#f1f5f9",busy:"#dc2626",busyLight:"#fee2e2",away:"#d97706",awayLight:"#fef3c7"},chart:{blue:"#1e3a5f",lightBlue:"#3b82f6",purple:"#7c3aed",green:"#059669",orange:"#ea580c",pink:"#db2777",cyan:"#0891b2",yellow:"#ca8a04",red:"#dc2626",gray:"#64748b"}},radius:{xs:"4px",sm:"6px",md:"8px",lg:"12px",xl:"16px","2xl":"20px",full:"9999px"},shadows:{xs:"0 1px 2px 0 rgba(0, 0, 0, 0.03)",sm:"0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 1px 2px -1px rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.07), 0 2px 4px -2px rgba(0, 0, 0, 0.05)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -4px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.08), 0 8px 10px -6px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.15)",inner:"inset 0 2px 4px 0 rgba(0, 0, 0, 0.05)",focus:"0 0 0 3px rgba(30, 58, 95, 0.15)"},spacing:{xs:"0.25rem",sm:"0.5rem",md:"0.75rem",lg:"1rem",xl:"1.5rem","2xl":"2rem","3xl":"2.5rem","4xl":"3rem"},fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"},lineHeight:{tight:"1.25",normal:"1.5",relaxed:"1.75"},transitions:{fast:"150ms ease",normal:"200ms ease",slow:"300ms ease",bounce:"300ms cubic-bezier(0.68, -0.55, 0.265, 1.55)"},zIndex:{dropdown:1e3,sticky:1020,fixed:1030,modal:1040,popover:1050,tooltip:1060},breakpoints:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"}};r.shadows.focus,r.colors.background.secondary,r.radius.xl,`${r.colors.border.light}`,r.shadows.sm,r.fontWeight.medium,r.radius.md,r.transitions.fast,r.colors.background.secondary,`${r.colors.border.medium}`,r.radius.md,r.fontSize.base,r.colors.text.primary,r.transitions.fast;const eO=({children:e,variant:t="primary",size:n="md",loading:i=!1,disabled:s=!1,fullWidth:c=!1,icon:d,iconPosition:p="left",type:h="button",onClick:g,className:m,style:v={},...S})=>{const[j,k]=fi.useState(!1),[w,C]=fi.useState(!1),_={primary:{background:r.colors.accent.primary,backgroundHover:r.colors.accent.primaryHover,color:r.colors.text.inverse,border:"none"},secondary:{background:r.colors.background.tertiary,backgroundHover:r.colors.background.hover,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`},outline:{background:"transparent",backgroundHover:r.colors.accent.primaryLight,color:r.colors.accent.primary,border:`1px solid ${r.colors.accent.primary}`},ghost:{background:"transparent",backgroundHover:r.colors.background.tertiary,color:r.colors.text.secondary,border:"none"},danger:{background:r.colors.accent.danger,backgroundHover:"#b91c1c",color:r.colors.text.inverse,border:"none"},dangerOutline:{background:"transparent",backgroundHover:r.colors.accent.dangerLight,color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`},success:{background:r.colors.accent.success,backgroundHover:"#047857",color:r.colors.text.inverse,border:"none"}},E={xs:{padding:"4px 10px",fontSize:r.fontSize.xs,height:"28px",gap:"4px",iconSize:12},sm:{padding:"6px 12px",fontSize:r.fontSize.sm,height:"32px",gap:"6px",iconSize:14},md:{padding:"8px 16px",fontSize:r.fontSize.sm,height:"38px",gap:"8px",iconSize:16},lg:{padding:"12px 24px",fontSize:r.fontSize.base,height:"46px",gap:"10px",iconSize:18},xl:{padding:"16px 32px",fontSize:r.fontSize.lg,height:"54px",gap:"12px",iconSize:20}},A=_[t]||_.primary,T=E[n]||E.md,O=s||i,P=()=>O?r.colors.background.tertiary:w||j?A.backgroundHover:A.background,D={button:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:T.gap,padding:T.padding,height:T.height,backgroundColor:P(),color:O?r.colors.text.tertiary:A.color,border:A.border,borderRadius:r.radius.lg,fontSize:T.fontSize,fontWeight:r.fontWeight.medium,cursor:O?"not-allowed":"pointer",transition:r.transitions.fast,width:c?"100%":"auto",opacity:O?.6:1,transform:w&&!O?"scale(0.98)":"scale(1)",boxShadow:t==="primary"&&!O?r.shadows.sm:"none",outline:"none",textDecoration:"none",whiteSpace:"nowrap",...v},spinner:{animation:"spin 1s linear infinite"}},I=Q=>i&&Q==="left"?l.jsx(Ai,{size:T.iconSize,style:D.spinner}):d&&p===Q?fi.cloneElement(d,{size:T.iconSize}):null;return l.jsxs("button",{type:h,className:m,style:D.button,disabled:O,onClick:g,onMouseEnter:()=>k(!0),onMouseLeave:()=>{k(!1),C(!1)},onMouseDown:()=>C(!0),onMouseUp:()=>C(!1),...S,children:[I("left"),e,I("right")]})},Sx=x.forwardRef(({type:e="text",label:t,placeholder:n,value:i,onChange:s,onBlur:c,onFocus:d,error:p,helperText:h,disabled:g=!1,required:m=!1,icon:v,iconPosition:S="left",clearable:j=!1,onClear:k,size:w="md",fullWidth:C=!0,className:_,style:E={},inputStyle:A={},...T},O)=>{const[P,D]=x.useState(!1),[I,Q]=x.useState(!1),fe=e==="password",ce=e==="search",Z=i&&i.length>0,Se={sm:{height:"34px",padding:"8px 12px",fontSize:r.fontSize.sm,iconSize:14,labelSize:r.fontSize.xs},md:{height:"42px",padding:"10px 14px",fontSize:r.fontSize.base,iconSize:16,labelSize:r.fontSize.sm},lg:{height:"50px",padding:"12px 16px",fontSize:r.fontSize.lg,iconSize:18,labelSize:r.fontSize.sm}},he=Se[w]||Se.md,pe=()=>p?r.colors.accent.danger:P?r.colors.accent.primary:r.colors.border.medium,U=()=>p&&P?`0 0 0 3px ${r.colors.accent.dangerLight}`:P?r.shadows.focus:"none",F={container:{display:"flex",flexDirection:"column",gap:r.spacing.sm,width:C?"100%":"auto",...E},labelWrapper:{display:"flex",alignItems:"center",justifyContent:"space-between"},label:{color:p?r.colors.accent.danger:r.colors.text.primary,fontSize:he.labelSize,fontWeight:r.fontWeight.medium},required:{color:r.colors.accent.danger,marginLeft:"2px"},inputWrapper:{position:"relative",display:"flex",alignItems:"center"},input:{width:"100%",height:he.height,padding:he.padding,paddingLeft:v&&S==="left"?`calc(${he.padding} + 24px)`:he.padding,paddingRight:fe||j||v&&S==="right"?`calc(${he.padding} + 28px)`:he.padding,backgroundColor:g?r.colors.background.tertiary:r.colors.background.secondary,border:`1px solid ${pe()}`,borderRadius:r.radius.lg,fontSize:he.fontSize,color:g?r.colors.text.tertiary:r.colors.text.primary,outline:"none",transition:r.transitions.fast,boxShadow:U(),cursor:g?"not-allowed":"text",...A},iconLeft:{position:"absolute",left:"12px",color:P?r.colors.accent.primary:r.colors.text.tertiary,pointerEvents:"none",transition:r.transitions.fast},iconRight:{position:"absolute",right:"12px",color:r.colors.text.tertiary,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"4px",borderRadius:r.radius.sm,transition:r.transitions.fast},helperText:{fontSize:r.fontSize.xs,color:p?r.colors.accent.danger:r.colors.text.tertiary,marginTop:"-2px"}},ge=ue=>{D(!0),d?.(ue)},je=ue=>{D(!1),c?.(ue)},Oe=()=>{k?.(),s?.({target:{value:""}})},$=()=>ce?l.jsx("div",{style:F.iconLeft,children:l.jsx(pi,{size:he.iconSize})}):v&&S==="left"?l.jsx("div",{style:F.iconLeft,children:fi.cloneElement(v,{size:he.iconSize})}):null,L=()=>fe?l.jsx("div",{style:F.iconRight,onClick:()=>Q(!I),role:"button",tabIndex:-1,onMouseEnter:ue=>{ue.currentTarget.style.backgroundColor=r.colors.background.tertiary},onMouseLeave:ue=>{ue.currentTarget.style.backgroundColor="transparent"},children:I?l.jsx(aK,{size:he.iconSize}):l.jsx(lK,{size:he.iconSize})}):j&&Z?l.jsx("div",{style:F.iconRight,onClick:Oe,role:"button",tabIndex:-1,onMouseEnter:ue=>{ue.currentTarget.style.backgroundColor=r.colors.background.tertiary},onMouseLeave:ue=>{ue.currentTarget.style.backgroundColor="transparent"},children:l.jsx(Ut,{size:he.iconSize})}):v&&S==="right"?l.jsx("div",{style:{...F.iconRight,cursor:"default",pointerEvents:"none"},children:fi.cloneElement(v,{size:he.iconSize})}):null;return l.jsxs("div",{className:_,style:F.container,children:[t&&l.jsx("div",{style:F.labelWrapper,children:l.jsxs("label",{style:F.label,children:[t,m&&l.jsx("span",{style:F.required,children:"*"})]})}),l.jsxs("div",{style:F.inputWrapper,children:[$(),l.jsx("input",{ref:O,type:fe&&I?"text":e,placeholder:n,value:i,onChange:s,onFocus:ge,onBlur:je,disabled:g,required:m,style:F.input,...T}),L()]}),(h||p)&&l.jsx("span",{style:F.helperText,children:p||h})]})});Sx.displayName="Input";const CY=x.forwardRef(({label:e,placeholder:t,value:n,onChange:i,error:s,helperText:c,disabled:d=!1,required:p=!1,rows:h=4,resize:g="vertical",fullWidth:m=!0,className:v,style:S={},...j},k)=>{const[w,C]=x.useState(!1),_=()=>s?r.colors.accent.danger:w?r.colors.accent.primary:r.colors.border.medium,E={container:{display:"flex",flexDirection:"column",gap:r.spacing.sm,width:m?"100%":"auto",...S},label:{color:s?r.colors.accent.danger:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},required:{color:r.colors.accent.danger,marginLeft:"2px"},textarea:{width:"100%",padding:"12px 14px",backgroundColor:d?r.colors.background.tertiary:r.colors.background.secondary,border:`1px solid ${_()}`,borderRadius:r.radius.lg,fontSize:r.fontSize.base,color:d?r.colors.text.tertiary:r.colors.text.primary,outline:"none",transition:r.transitions.fast,boxShadow:w?r.shadows.focus:"none",resize:g,fontFamily:"inherit",lineHeight:r.lineHeight.normal},helperText:{fontSize:r.fontSize.xs,color:s?r.colors.accent.danger:r.colors.text.tertiary}};return l.jsxs("div",{className:v,style:E.container,children:[e&&l.jsxs("label",{style:E.label,children:[e,p&&l.jsx("span",{style:E.required,children:"*"})]}),l.jsx("textarea",{ref:k,placeholder:t,value:n,onChange:i,onFocus:()=>C(!0),onBlur:()=>C(!1),disabled:d,required:p,rows:h,style:E.textarea,...j}),(c||s)&&l.jsx("span",{style:E.helperText,children:s||c})]})});CY.displayName="Textarea";function kY(){const[e,t]=x.useState(""),[n,i]=x.useState(""),[s,c]=x.useState(""),[d,p]=x.useState(!1),{login:h}=fn(),g=async v=>{v.preventDefault(),c(""),p(!0);const S=await h(e,n);S.success||(c(S.error||"Login failed"),p(!1))},m={page:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:r.colors.background.page,padding:r.spacing.xl},container:{width:"100%",maxWidth:"420px"},logoSection:{textAlign:"center",marginBottom:r.spacing["3xl"]},logo:{maxWidth:"240px",width:"100%",height:"auto",marginBottom:r.spacing.lg},subtitle:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},card:{padding:r.spacing["2xl"],backgroundColor:r.colors.background.secondary,borderRadius:r.radius["2xl"],border:`1px solid ${r.colors.border.light}`,boxShadow:r.shadows.lg},cardHeader:{marginBottom:r.spacing["2xl"],textAlign:"center"},cardTitle:{margin:0,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,marginBottom:r.spacing.xs},cardDescription:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},form:{display:"flex",flexDirection:"column",gap:r.spacing.xl},errorBox:{display:"flex",alignItems:"center",gap:r.spacing.md,padding:r.spacing.lg,backgroundColor:r.colors.accent.dangerLight,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.lg,color:r.colors.accent.danger,fontSize:r.fontSize.sm},footer:{marginTop:r.spacing["2xl"],textAlign:"center",color:r.colors.text.tertiary,fontSize:r.fontSize.xs},footerLink:{color:r.colors.accent.primary,textDecoration:"none",fontWeight:r.fontWeight.medium}};return l.jsx("div",{style:m.page,children:l.jsxs("div",{style:m.container,children:[l.jsxs("div",{style:m.logoSection,children:[l.jsx("img",{src:"/max-logo.png",alt:"MAX - Mobile AI Xpress Support",style:m.logo}),l.jsx("p",{style:m.subtitle,children:"Van Support Management System"})]}),l.jsxs("div",{style:m.card,children:[l.jsxs("div",{style:m.cardHeader,children:[l.jsx("h1",{style:m.cardTitle,children:"Welcome back"}),l.jsx("p",{style:m.cardDescription,children:"Sign in to access your dashboard"})]}),l.jsxs("form",{onSubmit:g,style:m.form,children:[l.jsx(Sx,{label:"Email Address",type:"email",value:e,onChange:v=>t(v.target.value),placeholder:"you@example.com",required:!0,autoComplete:"email",disabled:d}),l.jsx(Sx,{label:"Password",type:"password",value:n,onChange:v=>i(v.target.value),placeholder:"Enter your password",required:!0,autoComplete:"current-password",disabled:d}),s&&l.jsxs("div",{style:m.errorBox,children:[l.jsx(Vn,{size:18}),l.jsx("span",{children:s})]}),l.jsx(eO,{type:"submit",loading:d,fullWidth:!0,size:"lg",children:d?"Signing in...":"Sign In"})]}),l.jsx("div",{style:m.footer,children:l.jsxs("p",{style:{margin:0},children:["Need help?"," ",l.jsx("a",{href:"mailto:support@maxsupport.com",style:m.footerLink,children:"Contact Support"})]})})]})]})})}const zY="",br=({user:e,onLogout:t,hasRole:n})=>{const i=Mi(),[s,c]=x.useState(!0),[d,p]=x.useState(0);x.useEffect(()=>{const k=async()=>{if(!(!n("manager")&&!n("admin")))try{const C=await fetch(`${zY}/api/sequences/active`,{credentials:"include"});if(C.ok){const _=await C.json();p(_?.length||0)}}catch(C){console.error("Error fetching active sequences count:",C)}};k();const w=setInterval(k,3e4);return()=>clearInterval(w)},[n]);const h=()=>{const k=[{id:"dashboard",label:"Dashboard",Icon:vK,path:"/",show:!0}];return(n("manager")||n("admin"))&&k.push({id:"support-tickets",label:"Support Tickets",Icon:ua,path:"/tickets",show:!0}),(n("manager")||n("admin"))&&k.push({id:"active-sequences",label:"Active Sequences",Icon:yx,path:"/active-sequences",show:!0,badge:d>0?d:null}),k.filter(w=>w.show)},g=()=>{const k=[];return(n("viewer")||n("manager")||n("admin"))&&k.push({id:"sequences",label:"Sequences",Icon:GE,path:"/sequences",show:!0}),(n("manager")||n("admin"))&&k.push({id:"trigger-patterns",label:"Trigger Patterns",Icon:Oc,path:"/patterns",show:!0}),(n("viewer")||n("manager")||n("admin"))&&k.push({id:"vans",label:"Vans",Icon:to,path:"/vans",show:!0}),(n("viewer")||n("manager")||n("admin"))&&k.push({id:"owners",label:"Owners",Icon:Yo,path:"/owners",show:!0}),(n("manager")||n("admin"))&&k.push({id:"users",label:"Users",Icon:QE,path:"/users",show:!0}),k.filter(w=>w.show)},m=h(),v=g(),S=v.length>0,j={sidebar:{width:"260px",height:"100vh",backgroundColor:r.colors.background.secondary,borderRight:`1px solid ${r.colors.border.light}`,display:"flex",flexDirection:"column",position:"fixed",left:0,top:0,overflowY:"auto",zIndex:r.zIndex.fixed,boxShadow:r.shadows.sm},brand:{padding:r.spacing["2xl"],borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:r.colors.background.secondary},logo:{height:"48px",width:"auto",marginBottom:r.spacing.sm},brandName:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.accent.primary,letterSpacing:"0.05em"},brandTagline:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginTop:r.spacing.xs,fontWeight:r.fontWeight.medium,textAlign:"center"},userSection:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,backgroundColor:r.colors.background.tertiary},userInfo:{display:"flex",alignItems:"center",gap:r.spacing.md},avatar:{width:"44px",height:"44px",borderRadius:r.radius.lg,backgroundColor:r.colors.accent.primary,display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.text.inverse,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.lg,boxShadow:r.shadows.sm},userDetails:{flex:1,minWidth:0},userName:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},userRole:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginTop:"2px",textTransform:"capitalize"},navigation:{padding:r.spacing.lg,flex:1},sectionLabel:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.md,paddingLeft:r.spacing.md},navItem:k=>({width:"100%",display:"flex",alignItems:"center",gap:r.spacing.md,padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:k?r.colors.accent.primaryLight:"transparent",color:k?r.colors.accent.primary:r.colors.text.secondary,border:"none",borderRadius:r.radius.lg,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:k?r.fontWeight.semibold:r.fontWeight.medium,marginBottom:r.spacing.xs,transition:r.transitions.fast,textAlign:"left",textDecoration:"none",position:"relative"}),navItemActive:{boxShadow:`inset 3px 0 0 ${r.colors.accent.primary}`},badge:k=>({backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,padding:"2px 8px",borderRadius:r.radius.full,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,minWidth:"20px",textAlign:"center"}),adminHeader:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:"transparent",color:r.colors.text.secondary,border:"none",borderRadius:r.radius.lg,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.xs,transition:r.transitions.fast,textAlign:"left"},adminSubmenu:{marginLeft:r.spacing.lg,marginTop:r.spacing.xs,paddingLeft:r.spacing.md,borderLeft:`2px solid ${r.colors.border.light}`},subNavItem:k=>({width:"100%",display:"flex",alignItems:"center",gap:r.spacing.md,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:k?r.colors.accent.primaryLight:"transparent",color:k?r.colors.accent.primary:r.colors.text.secondary,border:"none",borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:k?r.fontWeight.medium:r.fontWeight.normal,marginBottom:r.spacing.xs,transition:r.transitions.fast,textAlign:"left",textDecoration:"none"}),logoutSection:{padding:r.spacing.lg,borderTop:`1px solid ${r.colors.border.light}`,backgroundColor:r.colors.background.secondary},logoutButton:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.lg,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:r.transitions.fast}};return l.jsxs("div",{style:j.sidebar,children:[l.jsxs("div",{style:j.brand,children:[l.jsx("img",{src:"/max-logo-small.png",alt:"MAX Logo",style:j.logo}),l.jsx("h1",{style:j.brandName,children:"MAX"}),l.jsx("div",{style:j.brandTagline,children:"Mobile AI Xpress Support"})]}),e&&l.jsx("div",{style:j.userSection,children:l.jsxs("div",{style:j.userInfo,children:[l.jsx("div",{style:j.avatar,children:e.email?.charAt(0).toUpperCase()||"U"}),l.jsxs("div",{style:j.userDetails,children:[l.jsx("div",{style:j.userName,children:e.email?.split("@")[0]||"User"}),e.roles&&e.roles.length>0&&l.jsx("div",{style:j.userRole,children:e.roles[0].name})]})]})}),l.jsxs("div",{style:j.navigation,children:[l.jsx("div",{style:j.sectionLabel,children:"Navigation"}),m.map(k=>{const w=k.Icon,C=i.pathname===k.path;return l.jsxs(xc,{to:k.path,style:{...j.navItem(C),...C?j.navItemActive:{}},onMouseEnter:_=>{C||(_.currentTarget.style.backgroundColor=r.colors.background.tertiary,_.currentTarget.style.color=r.colors.text.primary)},onMouseLeave:_=>{C||(_.currentTarget.style.backgroundColor="transparent",_.currentTarget.style.color=r.colors.text.secondary)},children:[l.jsx(w,{size:20,strokeWidth:C?2.5:2}),l.jsx("span",{style:{flex:1},children:k.label}),k.badge&&l.jsx("span",{style:j.badge(C),children:k.badge})]},k.id)}),S&&l.jsxs("div",{style:{marginTop:r.spacing.lg},children:[l.jsxs("button",{onClick:()=>c(!s),style:j.adminHeader,onMouseEnter:k=>{k.currentTarget.style.backgroundColor=r.colors.background.tertiary},onMouseLeave:k=>{k.currentTarget.style.backgroundColor="transparent"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx(XK,{size:20}),l.jsx("span",{children:"Admin"})]}),s?l.jsx(di,{size:16}):l.jsx(HE,{size:16})]}),s&&l.jsx("div",{style:j.adminSubmenu,children:v.map(k=>{const w=k.Icon,C=i.pathname===k.path;return l.jsxs(xc,{to:k.path,style:j.subNavItem(C),onMouseEnter:_=>{C||(_.currentTarget.style.backgroundColor=r.colors.background.tertiary,_.currentTarget.style.color=r.colors.text.primary)},onMouseLeave:_=>{C||(_.currentTarget.style.backgroundColor="transparent",_.currentTarget.style.color=r.colors.text.secondary)},children:[l.jsx(w,{size:16,strokeWidth:C?2.5:2}),k.label]},k.id)})})]})]}),l.jsx("div",{style:j.logoutSection,children:l.jsxs("button",{onClick:t,style:j.logoutButton,onMouseEnter:k=>{k.currentTarget.style.backgroundColor=r.colors.accent.dangerLight,k.currentTarget.style.borderColor=r.colors.accent.danger,k.currentTarget.style.color=r.colors.accent.danger},onMouseLeave:k=>{k.currentTarget.style.backgroundColor="transparent",k.currentTarget.style.borderColor=r.colors.border.medium,k.currentTarget.style.color=r.colors.text.secondary},children:[l.jsx(_K,{size:16}),"Sign Out"]})})]})},Qe=({children:e,title:t,description:n,action:i,icon:s,noPadding:c=!1,hoverable:d=!1,className:p,style:h={},headerStyle:g={},bodyStyle:m={},id:v,onDragOver:S,onDragEnter:j,onDragLeave:k,onDrop:w,...C})=>{const[_,E]=fi.useState(!1),A={card:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.xl,border:`1px solid ${r.colors.border.light}`,overflow:"visible",boxShadow:_&&d?r.shadows.md:r.shadows.sm,transition:r.transitions.normal,transform:_&&d?"translateY(-2px)":"translateY(0)",...h},header:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:r.colors.background.secondary,...g},headerContent:{display:"flex",alignItems:"center",gap:r.spacing.md,flex:1},iconWrapper:{width:"40px",height:"40px",borderRadius:r.radius.lg,backgroundColor:r.colors.accent.primaryLight,display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.accent.primary,flexShrink:0},titleWrapper:{flex:1,minWidth:0},title:{margin:0,color:r.colors.text.primary,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.semibold,lineHeight:r.lineHeight.tight},description:{margin:"4px 0 0 0",color:r.colors.text.tertiary,fontSize:r.fontSize.sm,lineHeight:r.lineHeight.normal},body:{padding:c?0:r.spacing.xl,...m}};return l.jsxs("div",{id:v,className:p,style:A.card,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),onDragOver:S,onDragEnter:j,onDragLeave:k,onDrop:w,...C,children:[(t||i||s)&&l.jsxs("div",{style:A.header,children:[l.jsxs("div",{style:A.headerContent,children:[s&&l.jsx("div",{style:A.iconWrapper,children:fi.cloneElement(s,{size:20})}),l.jsxs("div",{style:A.titleWrapper,children:[t&&l.jsx("h3",{style:A.title,children:t}),n&&l.jsx("p",{style:A.description,children:n})]})]}),i&&l.jsx("div",{children:i})]}),l.jsx("div",{style:A.body,children:e})]})},gy=({title:e,value:t,icon:n,trend:i,color:s=r.colors.accent.primary,subtitle:c,loading:d=!1})=>{const p=m=>m===r.colors.accent.primary?r.colors.accent.primaryLight:m===r.colors.accent.success?r.colors.accent.successLight:m===r.colors.accent.warning?r.colors.accent.warningLight:m===r.colors.accent.danger?r.colors.accent.dangerLight:m===r.colors.accent.info?r.colors.accent.infoLight:`${m}15`,h={card:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.xl,border:`1px solid ${r.colors.border.light}`,padding:r.spacing.xl,display:"flex",flexDirection:"column",gap:r.spacing.lg,position:"relative",overflow:"hidden",boxShadow:r.shadows.sm,transition:r.transitions.normal},header:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},content:{flex:1},title:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.sm,letterSpacing:"0.01em"},value:{color:r.colors.text.primary,fontSize:r.fontSize["3xl"],fontWeight:r.fontWeight.bold,lineHeight:1,letterSpacing:"-0.02em"},subtitle:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginTop:r.spacing.sm},iconWrapper:{width:"52px",height:"52px",backgroundColor:p(s),borderRadius:r.radius.lg,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},trend:{display:"flex",alignItems:"center",gap:r.spacing.xs},trendValue:m=>({color:m?r.colors.accent.success:r.colors.accent.danger,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,display:"flex",alignItems:"center",gap:"2px"}),trendLabel:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},loadingValue:{height:"36px",width:"80px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,animation:"pulse 2s ease-in-out infinite"},decorativeCircle:{position:"absolute",top:"-20px",right:"-20px",width:"100px",height:"100px",backgroundColor:s,opacity:.03,borderRadius:r.radius.full,pointerEvents:"none"}},g=n?fi.cloneElement(n,{size:26,color:s,strokeWidth:2}):null;return l.jsxs("div",{style:h.card,children:[l.jsx("div",{style:h.decorativeCircle}),l.jsxs("div",{style:h.header,children:[l.jsxs("div",{style:h.content,children:[l.jsx("div",{style:h.title,children:e}),d?l.jsx("div",{style:h.loadingValue}):l.jsx("div",{style:h.value,children:t}),c&&l.jsx("div",{style:h.subtitle,children:c})]}),g&&l.jsx("div",{style:h.iconWrapper,children:g})]}),i&&l.jsxs("div",{style:h.trend,children:[l.jsxs("span",{style:h.trendValue(i.isPositive),children:[i.isPositive?l.jsx(uY,{size:14}):l.jsx(sY,{size:14}),i.value]}),i.label&&l.jsx("span",{style:h.trendLabel,children:i.label})]})]})},Xe=({children:e,variant:t="default",size:n="md",soft:i=!1,dot:s=!1,icon:c,className:d,style:p={}})=>{const h={default:{background:r.colors.background.tertiary,color:r.colors.text.primary},primary:{background:r.colors.accent.primary,color:r.colors.text.inverse},success:{background:r.colors.accent.success,color:r.colors.text.inverse},warning:{background:r.colors.accent.warning,color:r.colors.text.inverse},danger:{background:r.colors.accent.danger,color:r.colors.text.inverse},info:{background:r.colors.accent.info,color:r.colors.text.inverse},secondary:{background:r.colors.accent.secondary,color:r.colors.text.inverse}},g={default:{background:r.colors.background.tertiary,color:r.colors.text.secondary},primary:{background:r.colors.accent.primaryLight,color:r.colors.accent.primary},success:{background:r.colors.accent.successLight,color:r.colors.accent.success},warning:{background:r.colors.accent.warningLight,color:r.colors.accent.warning},danger:{background:r.colors.accent.dangerLight,color:r.colors.accent.danger},info:{background:r.colors.accent.infoLight,color:r.colors.accent.info},secondary:{background:r.colors.background.tertiary,color:r.colors.accent.secondary}},m={xs:{padding:"1px 6px",fontSize:"10px",gap:"3px"},sm:{padding:"2px 8px",fontSize:r.fontSize.xs,gap:"4px"},md:{padding:"4px 10px",fontSize:r.fontSize.sm,gap:"5px"},lg:{padding:"6px 14px",fontSize:r.fontSize.base,gap:"6px"}},v=i?g:h,S=v[t]||v.default,j=m[n]||m.md,k={badge:{display:"inline-flex",alignItems:"center",backgroundColor:S.background,color:S.color,padding:j.padding,borderRadius:r.radius.full,fontSize:j.fontSize,fontWeight:r.fontWeight.medium,whiteSpace:"nowrap",gap:j.gap,lineHeight:1.4,...p},dot:{width:n==="xs"?"4px":n==="sm"?"5px":"6px",height:n==="xs"?"4px":n==="sm"?"5px":"6px",borderRadius:r.radius.full,backgroundColor:"currentColor",flexShrink:0}};return l.jsxs("span",{className:d,style:k.badge,children:[s&&l.jsx("span",{style:k.dot}),c&&fi.cloneElement(c,{size:n==="xs"?10:n==="sm"?12:14}),e]})},_Y=({name:e,src:t,size:n="md",color:i,status:s,className:c,style:d={}})=>{const p={xs:{width:"24px",height:"24px",fontSize:r.fontSize.xs,statusSize:"8px"},sm:{width:"32px",height:"32px",fontSize:r.fontSize.sm,statusSize:"10px"},md:{width:"40px",height:"40px",fontSize:r.fontSize.base,statusSize:"12px"},lg:{width:"48px",height:"48px",fontSize:r.fontSize.lg,statusSize:"14px"},xl:{width:"64px",height:"64px",fontSize:r.fontSize.xl,statusSize:"16px"}},h=[r.colors.accent.primary,r.colors.accent.secondary,r.colors.accent.success,r.colors.accent.info,r.colors.chart.purple,r.colors.chart.pink],g={online:r.colors.status.online,offline:r.colors.status.offline,busy:r.colors.status.busy,away:r.colors.status.away},m=()=>{if(i)return i;if(!e)return h[0];const k=e.split("").reduce((w,C)=>w+C.charCodeAt(0),0);return h[k%h.length]},v=()=>{if(!e)return"?";const k=e.trim().split(" ");return k.length>=2?(k[0][0]+k[k.length-1][0]).toUpperCase():e.substring(0,2).toUpperCase()},S=p[n]||p.md,j={container:{position:"relative",display:"inline-flex",flexShrink:0},avatar:{width:S.width,height:S.height,borderRadius:r.radius.full,backgroundColor:t?"transparent":m(),display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.text.inverse,fontWeight:r.fontWeight.semibold,fontSize:S.fontSize,overflow:"hidden",border:`2px solid ${r.colors.background.secondary}`,boxShadow:r.shadows.sm,...d},image:{width:"100%",height:"100%",objectFit:"cover"},status:{position:"absolute",bottom:"0",right:"0",width:S.statusSize,height:S.statusSize,borderRadius:r.radius.full,backgroundColor:g[s]||g.offline,border:`2px solid ${r.colors.background.secondary}`}};return l.jsxs("div",{className:c,style:j.container,children:[l.jsx("div",{style:j.avatar,children:t?l.jsx("img",{src:t,alt:e||"Avatar",style:j.image}):v()}),s&&l.jsx("div",{style:j.status})]})},TY=x.forwardRef(({label:e,options:t=[],value:n,onChange:i,placeholder:s="Select an option",error:c,helperText:d,disabled:p=!1,required:h=!1,size:g="md",fullWidth:m=!0,className:v,style:S={},...j},k)=>{const[w,C]=x.useState(!1),_={sm:{height:"34px",padding:"8px 32px 8px 12px",fontSize:r.fontSize.sm,labelSize:r.fontSize.xs},md:{height:"42px",padding:"10px 36px 10px 14px",fontSize:r.fontSize.base,labelSize:r.fontSize.sm},lg:{height:"50px",padding:"12px 40px 12px 16px",fontSize:r.fontSize.lg,labelSize:r.fontSize.sm}},E=_[g]||_.md,A=()=>c?r.colors.accent.danger:w?r.colors.accent.primary:r.colors.border.medium,T=()=>c&&w?`0 0 0 3px ${r.colors.accent.dangerLight}`:w?r.shadows.focus:"none",O={container:{display:"flex",flexDirection:"column",gap:r.spacing.sm,width:m?"100%":"auto",...S},label:{color:c?r.colors.accent.danger:r.colors.text.primary,fontSize:E.labelSize,fontWeight:r.fontWeight.medium},required:{color:r.colors.accent.danger,marginLeft:"2px"},selectWrapper:{position:"relative",display:"flex",alignItems:"center"},select:{width:"100%",height:E.height,padding:E.padding,backgroundColor:p?r.colors.background.tertiary:r.colors.background.secondary,border:`1px solid ${A()}`,borderRadius:r.radius.lg,fontSize:E.fontSize,color:n?r.colors.text.primary:r.colors.text.tertiary,outline:"none",transition:r.transitions.fast,boxShadow:T(),cursor:p?"not-allowed":"pointer",appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},chevron:{position:"absolute",right:"12px",pointerEvents:"none",color:r.colors.text.tertiary,transition:r.transitions.fast,transform:w?"rotate(180deg)":"rotate(0deg)"},helperText:{fontSize:r.fontSize.xs,color:c?r.colors.accent.danger:r.colors.text.tertiary,marginTop:"-2px"}};return l.jsxs("div",{className:v,style:O.container,children:[e&&l.jsxs("label",{style:O.label,children:[e,h&&l.jsx("span",{style:O.required,children:"*"})]}),l.jsxs("div",{style:O.selectWrapper,children:[l.jsxs("select",{ref:k,value:n,onChange:i,onFocus:()=>C(!0),onBlur:()=>C(!1),disabled:p,required:h,style:O.select,...j,children:[s&&l.jsx("option",{value:"",disabled:!0,children:s}),t.map((P,D)=>l.jsx("option",{value:P.value,disabled:P.disabled,children:P.label},P.value??D))]}),l.jsx(di,{size:18,style:O.chevron})]}),(d||c)&&l.jsx("span",{style:O.helperText,children:c||d})]})});TY.displayName="Select";function AY(){const{user:e,isAuthenticated:t,authLoading:n,logout:i,hasPermission:s,hasRole:c}=fn(),[d,p]=x.useState([]),[h,g]=x.useState(null),[m,v]=x.useState([]),[S,j]=x.useState([]),[k,w]=x.useState([]),[C,_]=x.useState([]),[E,A]=x.useState([]),[T,O]=x.useState([]),[P,D]=x.useState([]),[I,Q]=x.useState(""),[fe,ce]=x.useState("7"),[Z,Se]=x.useState(""),[he,pe]=x.useState(""),[U,F]=x.useState(""),[ge,je]=x.useState(""),[Oe,$]=x.useState(!0),L="",ue=N=>N?N.split("_").map(ve=>ve.charAt(0).toUpperCase()+ve.slice(1).toLowerCase()).join(" "):"Unknown",xe=()=>{Z&&he&&(F(Z),je(he))},ye=[r.colors.chart.blue,r.colors.chart.green,r.colors.chart.orange,r.colors.chart.purple,r.colors.chart.pink,r.colors.chart.cyan];x.useEffect(()=>{if(!t)return;const N=fe==="custom"?U&&ge?`from=${U}&to=${ge}`:null:`days=${fe}`;if(!N)return;$(!0);const ve=[fetch(`${L}/api/resolution-by-step?${N}`,{credentials:"include"}).then(ee=>{if(!ee.ok)throw new Error(`Resolution step error: ${ee.status}`);return ee.json()}).catch(ee=>(console.error(" Resolution step failed:",ee),[])),fetch(`${L}/api/dashboard-summary?${N}`,{credentials:"include"}).then(ee=>{if(!ee.ok)throw new Error(`Summary error: ${ee.status}`);return ee.json()}).catch(ee=>(console.error(" Summary failed:",ee),[])),fetch(`${L}/api/issue-distribution?${N}`,{credentials:"include"}).then(ee=>{if(!ee.ok)throw new Error(`Distribution error: ${ee.status}`);return ee.json()}).catch(ee=>(console.error(" Issue distribution failed:",ee),[])),fetch(`${L}/api/resolution-time-trend?${N}`,{credentials:"include"}).then(ee=>{if(!ee.ok)throw new Error(`Trend error: ${ee.status}`);return ee.json()}).catch(ee=>(console.error(" Resolution time trend failed:",ee),[])),fetch(`${L}/api/first-contact-resolution?${N}`,{credentials:"include"}).then(ee=>{if(!ee.ok)throw new Error(`FCR error: ${ee.status}`);return ee.json()}).then(ee=>(console.log(" FCR API Response:",ee),console.log(" FCR data length:",ee?.length||0),ee?.length>0&&(console.log(" FCR first item:",ee[0]),console.log(" FCR first item keys:",Object.keys(ee[0]))),ee)).catch(ee=>(console.error(" First contact resolution failed:",ee),[])),fetch(`${L}/api/call-volume-heatmap?${N}`,{credentials:"include"}).then(ee=>{if(!ee.ok)throw new Error(`Call volume heatmap error: ${ee.status}`);return ee.json()}).catch(ee=>(console.error(" Call volume heatmap failed:",ee),[]))];(c("admin")||c("manager"))&&ve.push(fetch(`${L}/api/van-performance?${N}`,{credentials:"include"}).then(ee=>{if(!ee.ok)throw new Error(`Van performance error: ${ee.status}`);return ee.json()}).catch(ee=>(console.error(" Van performance failed:",ee),[])),fetch(`${L}/api/handoff-patterns?${N}`,{credentials:"include"}).then(ee=>{if(!ee.ok)throw new Error(`Handoff patterns error: ${ee.status}`);return ee.json()}).catch(ee=>(console.error(" Handoff patterns failed:",ee),[]))),c("admin")&&ve.push(fetch(`${L}/api/chronic-problem-vans?${N}`,{credentials:"include"}).then(ee=>{if(!ee.ok)throw new Error(`Chronic problem vans error: ${ee.status}`);return ee.json()}).catch(ee=>(console.error(" Chronic problem vans failed:",ee),[]))),Promise.all(ve).then(ee=>{const[se,Ne,re,Ee,ze,$e]=ee;if(p(se||[]),g(Ne?.[0]||null),v(re||[]),j(Ee||[]),console.log(" Setting FCR Data:",ze),console.log(" FCR Response type:",typeof ze),console.log(" FCR is array:",Array.isArray(ze)),w(ze||[]),D($e||[]),c("admin")||c("manager")){const Ye=ee[6],Ze=ee[7];_(Ye||[]),O(Ze||[])}else _([]),O([]);if(c("admin")){const Ye=ee[8];A(Ye||[])}else A([]);se&&se.length>0&&Q(se[0].sequence_key),$(!1)}).catch(ee=>{console.error(" Critical error fetching data:",ee),$(!1)})},[fe,U,ge,t,c]);const K=[...new Set(d.map(N=>N.sequence_key))],le={};d.forEach(N=>{N.sequence_key&&(le[N.sequence_key]=N.display_name||ue(N.sequence_key))});const ke=d.filter(N=>N.sequence_key===I);return n?l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:r.colors.background.page,color:r.colors.text.primary,gap:r.spacing.lg},children:[l.jsx(Ai,{size:40,style:{animation:"spin 1s linear infinite"},color:r.colors.accent.primary}),l.jsx("span",{style:{fontSize:r.fontSize.lg,color:r.colors.text.secondary},children:"Loading..."})]}):t?Oe?l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:r.colors.background.page,color:r.colors.text.primary,gap:r.spacing.lg},children:[l.jsx(Ai,{size:40,style:{animation:"spin 1s linear infinite"},color:r.colors.accent.primary}),l.jsx("span",{style:{fontSize:r.fontSize.lg,color:r.colors.text.secondary},children:"Loading dashboard..."})]}):l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.page},children:[l.jsx(br,{user:e,onLogout:i,hasRole:c}),l.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[l.jsxs("div",{style:{marginBottom:r.spacing["2xl"],display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{children:[l.jsx("h1",{style:{fontSize:r.fontSize["3xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,marginBottom:r.spacing.xs,letterSpacing:"-0.02em"},children:"Analytics Dashboard"}),l.jsxs("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:["Welcome back, ",e?.email?.split("@")[0]||"User"]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[l.jsx(hx,{size:16}),new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),l.jsx(Qe,{style:{marginBottom:r.spacing["2xl"]},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg,flexWrap:"wrap"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.xs,display:"block"},children:"Date Range"}),l.jsxs("select",{value:fe,onChange:N=>ce(N.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none"},children:[l.jsx("option",{value:"7",children:"Last 7 days"}),l.jsx("option",{value:"30",children:"Last 30 days"}),l.jsx("option",{value:"custom",children:"Custom range"})]})]}),fe==="custom"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.xs,display:"block"},children:"From"}),l.jsx("input",{type:"date",value:Z,onChange:N=>Se(N.target.value),onKeyDown:N=>{N.key==="Enter"&&(N.preventDefault(),xe())},style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.xs,display:"block"},children:"To"}),l.jsx("input",{type:"date",value:he,onChange:N=>pe(N.target.value),onKeyDown:N=>{N.key==="Enter"&&(N.preventDefault(),xe())},style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}})]}),l.jsx("div",{style:{marginTop:r.spacing.lg},children:l.jsx(eO,{onClick:xe,disabled:!Z||!he,size:"sm",children:"Apply"})})]})]})}),h&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:r.spacing.lg,marginBottom:r.spacing["2xl"]},children:[l.jsx(gy,{title:"Total Calls",value:h.total_calls||0,icon:l.jsx(cs,{size:24}),color:r.colors.accent.primary}),l.jsx(gy,{title:"Completion Rate",value:h.completion_rate?`${h.completion_rate}%`:"0%",icon:l.jsx(It,{size:24}),color:r.colors.accent.success}),l.jsx(gy,{title:"Avg Resolution Time",value:h.avg_resolution_minutes?`${Math.round(h.avg_resolution_minutes)}m`:"N/A",icon:l.jsx(_n,{size:24}),color:r.colors.accent.warning})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:r.spacing.lg,marginBottom:r.spacing["2xl"]},children:[l.jsx(Qe,{title:"Issue Distribution",description:"Breakdown of issue types",children:m.length===0?l.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):l.jsx(Ad,{width:"100%",height:300,children:l.jsxs(zF,{children:[l.jsx(cE,{data:m,dataKey:"total_count",nameKey:"display_name",cx:"50%",cy:"50%",outerRadius:100,label:({display_name:N,issue_type:ve,total_count:ee})=>`${N||ue(ve)}: ${ee}`,labelLine:{stroke:r.colors.text.secondary},children:m.map((N,ve)=>l.jsx(Fl,{fill:ye[ve%ye.length]},`cell-${ve}`))}),l.jsx(Td,{contentStyle:{backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.primary}}),l.jsx(Mo,{wrapperStyle:{color:r.colors.text.primary}})]})})}),l.jsx(Qe,{title:"Resolution Time Trend",description:"Average resolution time over the last 30 days",children:S.length===0?l.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):l.jsx(Ad,{width:"100%",height:300,children:l.jsxs(hF,{data:S,children:[l.jsx(Wd,{strokeDasharray:"3 3",stroke:r.colors.border.medium}),l.jsx(Bd,{dataKey:"time_bucket",stroke:r.colors.text.secondary}),l.jsx(Id,{stroke:r.colors.text.secondary}),l.jsx(Td,{contentStyle:{backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.primary}}),l.jsx(Mo,{}),l.jsx(_E,{type:"monotone",dataKey:"avg_minutes",stroke:r.colors.chart.blue,strokeWidth:3,dot:{fill:r.colors.chart.blue,r:5},activeDot:{r:7},name:"Avg Resolution Time (min)"})]})})})]}),console.log(" Render - fcrData:",k,"length:",k?.length),l.jsx(Qe,{title:"First Contact Resolution Rate",description:"Resolution rate by troubleshooting sequence",style:{marginBottom:r.spacing["2xl"]},children:k.length===0?l.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):l.jsx(Ad,{width:"100%",height:400,children:l.jsxs(E2,{data:k.map(N=>({...N,display_label:N.display_name||ue(N.sequence_key)})),layout:"vertical",margin:{left:150},children:[l.jsx(Wd,{strokeDasharray:"3 3",stroke:r.colors.border.medium}),l.jsx(Bd,{type:"number",stroke:r.colors.text.secondary,domain:[0,100]}),l.jsx(Id,{type:"category",dataKey:"display_label",stroke:r.colors.text.secondary,width:140}),l.jsx(Td,{contentStyle:{backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.primary},formatter:N=>`${N}%`}),l.jsx(Mo,{}),l.jsx(sx,{dataKey:"fcr_rate",name:"FCR Rate (%)",radius:[0,8,8,0],children:k.map((N,ve)=>l.jsx(Fl,{fill:N.fcr_rate>=80?r.colors.accent.success:N.fcr_rate>=60?r.colors.chart.yellow:N.fcr_rate>=40?r.colors.accent.warning:r.colors.accent.danger},`cell-${ve}`))})]})})}),(c("admin")||c("manager"))&&C.length>0&&l.jsx(Qe,{title:"Van Performance",description:"Performance metrics by van make, model, and year",style:{marginBottom:r.spacing["2xl"]},noPadding:!0,children:l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`2px solid ${r.colors.border.light}`},children:[l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Make"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Version"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Year"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Total Issues"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Avg Time"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Reliability"})]})}),l.jsx("tbody",{children:[...C].sort((N,ve)=>ve.total_issues-N.total_issues).map((N,ve)=>l.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`},children:[l.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.primary},children:N.make}),l.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.primary},children:N.version}),l.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.primary},children:N.year}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:N.total_issues}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.secondary},children:N.avg_resolution_time?`${Math.round(N.avg_resolution_time)}m`:"N/A"}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},children:l.jsx(Xe,{variant:N.reliability_score>=80?"success":N.reliability_score>=60?"warning":"danger",children:N.reliability_score||"N/A"})})]},ve))})]})})}),c("admin")&&E.length>0&&l.jsx(Qe,{title:"Chronic Problem Vans",description:"Vans with recurring issues requiring attention",style:{marginBottom:r.spacing["2xl"]},noPadding:!0,children:l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`2px solid ${r.colors.border.light}`},children:[l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Van Number"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Make/Model"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Issue Count"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Most Common"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Last Issue"})]})}),l.jsx("tbody",{children:[...E].sort((N,ve)=>ve.issue_count-N.issue_count).map((N,ve)=>l.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`},children:[l.jsx("td",{style:{padding:r.spacing.md},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(_Y,{name:N.van_number,size:"sm"}),l.jsx("span",{style:{color:r.colors.text.primary,fontWeight:r.fontWeight.medium},children:N.van_number}),N.issue_count>=5&&l.jsx(Xe,{variant:"danger",size:"sm",children:"CRITICAL"}),N.issue_count>=3&&N.issue_count<5&&l.jsx(Xe,{variant:"warning",size:"sm",children:"WARNING"})]})}),l.jsxs("td",{style:{padding:r.spacing.md,color:r.colors.text.primary},children:[N.make," ",N.version," (",N.year,")"]}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",fontWeight:r.fontWeight.bold,color:N.issue_count>=5?r.colors.accent.danger:N.issue_count>=3?r.colors.accent.warning:r.colors.text.primary},children:N.issue_count}),l.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.secondary},children:N.most_common_issue||"N/A"}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.secondary},children:N.last_issue_date?new Date(N.last_issue_date).toLocaleDateString():"N/A"})]},ve))})]})})}),(c("admin")||c("manager"))&&T.length>0&&l.jsx(Qe,{title:"Handoff Patterns",description:"Common troubleshooting sequence transitions",style:{marginBottom:r.spacing["2xl"]},noPadding:!0,children:l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`2px solid ${r.colors.border.light}`},children:[l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Sequence Flow"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Handoff Count"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Avg Handoffs"})]})}),l.jsx("tbody",{children:[...T].sort((N,ve)=>ve.handoff_count-N.handoff_count).map((N,ve)=>{const ee=N.handoff_count>=10;return l.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`},children:[l.jsx("td",{style:{padding:r.spacing.md},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx(Xe,{variant:"default",children:N.from_sequence_name||N.from_sequence}),l.jsx("span",{style:{color:ee?r.colors.chart.blue:r.colors.text.tertiary,fontSize:r.fontSize.xl},children:""}),l.jsx(Xe,{variant:"default",children:N.to_sequence_name||N.to_sequence})]})}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",fontWeight:r.fontWeight.bold,color:ee?r.colors.chart.blue:r.colors.text.primary},children:N.handoff_count}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.secondary},children:N.avg_handoff_count?N.avg_handoff_count.toFixed(1):"N/A"})]},ve)})})]})})}),l.jsx(Qe,{title:"Call Volume Heatmap",description:"Support call patterns by day and hour",style:{marginBottom:r.spacing["2xl"]},children:P.length===0?l.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):l.jsx("div",{style:{overflowX:"auto"},children:(()=>{const N={};P.forEach(ze=>{const $e=`${ze.day_of_week}_${ze.hour_of_day}`;N[$e]=ze.call_count||0});const ve=P.map(ze=>ze.call_count||0),ee=Math.min(...ve,0),se=Math.max(...ve,1),Ne=ze=>{if(ze===0)return r.colors.background.primary;const $e=(ze-ee)/(se-ee);return $e<.25?r.colors.chart.blue:$e<.5?r.colors.chart.purple:$e<.75?r.colors.chart.orange:r.colors.accent.danger},re=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ee=Array.from({length:24},(ze,$e)=>$e===0?"12am":$e<12?`${$e}am`:$e===12?"12pm":`${$e-12}pm`);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"100px repeat(24, 40px)",gap:"2px",marginBottom:r.spacing.lg},children:[l.jsx("div",{}),Ee.map((ze,$e)=>l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,textAlign:"center",transform:"rotate(-45deg)",height:"60px",display:"flex",alignItems:"flex-end",justifyContent:"center"},children:ze},$e)),re.map((ze,$e)=>l.jsxs(fi.Fragment,{children:[l.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,display:"flex",alignItems:"center",fontWeight:r.fontWeight.medium},children:ze}),Ee.map((Ye,Ze)=>{const X=`${$e}_${Ze}`,Te=N[X]||0,ot=Ne(Te);return l.jsx("div",{style:{backgroundColor:ot,height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:r.radius.sm,fontSize:r.fontSize.xs,color:Te>0?r.colors.text.primary:r.colors.text.tertiary,fontWeight:Te>0?r.fontWeight.semibold:r.fontWeight.normal,cursor:"pointer",transition:"transform 0.2s"},title:`${ze} ${Ee[Ze]}: ${Te} calls`,onMouseEnter:J=>{J.currentTarget.style.transform="scale(1.1)"},onMouseLeave:J=>{J.currentTarget.style.transform="scale(1)"},children:Te>0?Te:""},`${$e}-${Ze}`)})]},`day-${$e}`))]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg,flexWrap:"wrap"},children:[l.jsx("span",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:"Call Volume:"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.background.primary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.sm}}),l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"None"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.chart.blue,borderRadius:r.radius.sm}}),l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"Low"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.chart.purple,borderRadius:r.radius.sm}}),l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"Medium"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.chart.orange,borderRadius:r.radius.sm}}),l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"High"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.accent.danger,borderRadius:r.radius.sm}}),l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"Very High"})]})]})]})})()})}),l.jsx(Qe,{title:"Resolution by Step",description:"Percentage of issues resolved at each troubleshooting step",action:l.jsx("select",{value:I,onChange:N=>Q(N.target.value),style:{padding:`${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:K.map(N=>l.jsx("option",{value:N,children:le[N]||N},N))}),children:ke.length===0?l.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):l.jsx(Ad,{width:"100%",height:400,children:l.jsxs(E2,{data:ke,children:[l.jsx(Wd,{strokeDasharray:"3 3",stroke:r.colors.border.medium}),l.jsx(Bd,{dataKey:"step_num",stroke:r.colors.text.secondary}),l.jsx(Id,{stroke:r.colors.text.secondary}),l.jsx(Td,{contentStyle:{backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.primary}}),l.jsx(Mo,{}),l.jsx(sx,{dataKey:"percentage",fill:r.colors.chart.green,name:"Resolved %",radius:[8,8,0,0]})]})})})]})]}):l.jsx(kY,{})}function EY(){const{user:e,logout:t,hasRole:n}=fn(),i=Di(),[s,c]=x.useState([]),[d,p]=x.useState([]),[h,g]=x.useState(!0),[m,v]=x.useState(""),[S,j]=x.useState("name"),[k,w]=x.useState(!1),[C,_]=x.useState(null);x.useEffect(()=>{E()},[]),x.useEffect(()=>{let D=[...s];if(m){const I=m.toLowerCase();D=D.filter(Q=>Q.display_name?.toLowerCase().includes(I)||Q.sequence_key?.toLowerCase().includes(I)||Q.category?.toLowerCase().includes(I))}D.sort((I,Q)=>{switch(S){case"name":return(I.display_name||"").localeCompare(Q.display_name||"");case"category":return(I.category||"").localeCompare(Q.category||"");case"created":return new Date(Q.created_at)-new Date(I.created_at);default:return 0}}),p(D)},[s,m,S]);const E=async()=>{g(!0);try{const D=await fetch("/api/sequences",{credentials:"include"});if(!D.ok)throw new Error("Failed to fetch sequences");const I=await D.json();c(I)}catch(D){console.error("Error fetching sequences:",D)}finally{g(!1)}},A=async(D,I)=>{try{if(!(await fetch(`/api/sequences/${D}/toggle`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({is_active:!I})})).ok)throw new Error("Failed to toggle sequence");await E()}catch(Q){console.error("Error toggling sequence:",Q),alert("Failed to toggle sequence status")}},T=D=>{_(D),w(!0)},O=async()=>{if(C)try{if(!(await fetch(`/api/sequences/${C.sequence_key}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete sequence");await E(),w(!1),_(null)}catch(D){console.error("Error deleting sequence:",D),alert("Failed to delete sequence")}},P=D=>({network:"primary",hardware:"warning",software:"secondary",power:"danger",connectivity:"success"})[D?.toLowerCase()]||"default";return l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(br,{user:e,onLogout:t,hasRole:n}),l.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[l.jsx("div",{style:{marginBottom:r.spacing["2xl"]},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.md},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[l.jsx(GE,{size:32,color:r.colors.accent.primary,strokeWidth:2}),l.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Sequences"})]}),l.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Manage troubleshooting sequences"})]}),l.jsxs("button",{onClick:()=>i("/sequences/create"),style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:D=>D.target.style.backgroundColor=r.colors.accent.primaryHover,onMouseLeave:D=>D.target.style.backgroundColor=r.colors.accent.primary,children:[l.jsx(Or,{size:20}),"Create New Sequence"]})]})}),l.jsx(Qe,{style:{marginBottom:r.spacing.lg},children:l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,alignItems:"center"},children:[l.jsxs("div",{style:{flex:1,position:"relative"},children:[l.jsx(pi,{size:20,color:r.colors.text.tertiary,style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)"}}),l.jsx("input",{type:"text",placeholder:"Search by name, key, or category...",value:m,onChange:D=>v(D.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md} ${r.spacing.sm} 40px`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:r.colors.background.primary,outline:"none"}})]}),l.jsxs("select",{value:S,onChange:D=>j(D.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:r.colors.background.primary,cursor:"pointer",outline:"none"},children:[l.jsx("option",{value:"name",children:"Sort by Name"}),l.jsx("option",{value:"category",children:"Sort by Category"}),l.jsx("option",{value:"created",children:"Sort by Date"})]})]})}),l.jsx(Qe,{noPadding:!0,children:h?l.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:r.spacing["2xl"],gap:r.spacing.md},children:[l.jsx(Rf,{size:24,color:r.colors.accent.primary,style:{animation:"spin 1s linear infinite"}}),l.jsx("span",{style:{color:r.colors.text.secondary},children:"Loading sequences..."})]}):d.length===0?l.jsx("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:m?l.jsxs(l.Fragment,{children:[l.jsx("p",{style:{fontSize:r.fontSize.lg,marginBottom:r.spacing.sm},children:"No sequences found"}),l.jsx("p",{style:{fontSize:r.fontSize.sm},children:"Try adjusting your search terms"})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{style:{fontSize:r.fontSize.lg,marginBottom:r.spacing.sm},children:"No sequences yet"}),l.jsx("p",{style:{fontSize:r.fontSize.sm},children:"Create your first troubleshooting sequence to get started"})]})}):l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`1px solid ${r.colors.border.light}`},children:[l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Sequence Name"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Key"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Category"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Steps"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Status"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Actions"})]})}),l.jsx("tbody",{children:d.map((D,I)=>l.jsxs("tr",{style:{borderBottom:I<d.length-1?`1px solid ${r.colors.border.light}`:"none",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:Q=>Q.currentTarget.style.backgroundColor=r.colors.background.hover,onMouseLeave:Q=>Q.currentTarget.style.backgroundColor="transparent",onClick:()=>i(`/sequences/${D.sequence_key}`),children:[l.jsxs("td",{style:{padding:r.spacing.md},children:[l.jsx("div",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.accent.primary},children:D.display_name}),D.description&&l.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,marginTop:"2px"},children:D.description})]}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("code",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,backgroundColor:r.colors.background.tertiary,padding:"2px 6px",borderRadius:r.radius.sm,fontFamily:"monospace"},children:D.sequence_key})}),l.jsx("td",{style:{padding:r.spacing.md},children:D.category?l.jsx(Xe,{variant:P(D.category),size:"sm",children:D.category}):l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"-"})}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},children:l.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",minWidth:"32px",height:"32px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:D.total_steps||0})}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},onClick:Q=>Q.stopPropagation(),children:l.jsx("button",{onClick:()=>A(D.sequence_key,D.is_active),style:{background:"none",border:"none",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:r.spacing.xs,color:D.is_active?r.colors.accent.success:r.colors.text.tertiary,transition:"color 0.2s"},title:D.is_active?"Active - Click to disable":"Inactive - Click to enable",children:D.is_active?l.jsx(vx,{size:24}):l.jsx(xx,{size:24})})}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},onClick:Q=>Q.stopPropagation(),children:l.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,justifyContent:"center"},children:[l.jsx("button",{onClick:()=>i(`/sequences/${D.sequence_key}`),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.primary,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:r.radius.sm,transition:"background-color 0.2s"},onMouseEnter:Q=>Q.target.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:Q=>Q.target.style.backgroundColor="transparent",title:"Edit sequence",children:l.jsx(Jc,{size:18})}),l.jsx("button",{onClick:()=>T(D),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.danger,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:r.radius.sm,transition:"background-color 0.2s"},onMouseEnter:Q=>Q.target.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:Q=>Q.target.style.backgroundColor="transparent",title:"Delete sequence",children:l.jsx(kn,{size:18})})]})})]},D.sequence_key))})]})})})]}),k&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>w(!1),children:l.jsxs("div",{style:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.lg,padding:r.spacing.xl,maxWidth:"500px",width:"90%",boxShadow:r.shadows.xl},onClick:D=>D.stopPropagation(),children:[l.jsx("h2",{style:{margin:`0 0 ${r.spacing.md} 0`,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Delete Sequence"}),l.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.secondary,fontSize:r.fontSize.base,lineHeight:1.6},children:['Are you sure you want to delete the sequence "',l.jsx("strong",{children:C?.display_name}),'"? This action cannot be undone and will remove all steps associated with this sequence.']}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>w(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:D=>D.target.style.backgroundColor=r.colors.background.hover,onMouseLeave:D=>D.target.style.backgroundColor=r.colors.background.tertiary,children:"Cancel"}),l.jsx("button",{onClick:O,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:D=>D.target.style.backgroundColor="#b91c1c",onMouseLeave:D=>D.target.style.backgroundColor=r.colors.accent.danger,children:"Delete"})]})]})}),l.jsx("style",{children:`
          @keyframes spin {
            from {
              transform: rotate(0deg);
            }
            to {
              transform: rotate(360deg);
            }
          }
        `})]})}function OY(){const{user:e,logout:t,hasRole:n}=fn(),i=Di(),[s,c]=x.useState({sequenceKey:"",displayName:"",description:"",category:"",messageTemplate:"",docUrl:"",docTitle:"",successTriggers:"",failureTriggers:""}),[d,p]=x.useState({}),[h,g]=x.useState(""),[m,v]=x.useState(!1),S=T=>T.split(",").map(O=>O.trim()).filter(O=>O.length>0),j=S(s.successTriggers),k=S(s.failureTriggers),w=(T,O)=>{c(P=>({...P,[T]:O})),d[T]&&p(P=>({...P,[T]:""})),h&&g("")},C=()=>{const T={};return s.sequenceKey?/^[a-z0-9_]+$/.test(s.sequenceKey)||(T.sequenceKey="Sequence key must be lowercase with underscores only"):T.sequenceKey="Sequence key is required",s.displayName||(T.displayName="Display name is required"),s.description||(T.description="Description is required"),s.category||(T.category="Category is required"),s.messageTemplate||(T.messageTemplate="Message template is required"),s.docUrl?/^https?:\/\/.+/.test(s.docUrl)||(T.docUrl="Please enter a valid URL starting with http:// or https://"):T.docUrl="Document URL is required",s.docTitle||(T.docTitle="Document title is required"),j.length===0&&(T.successTriggers="At least one success trigger is required"),k.length===0&&(T.failureTriggers="At least one failure trigger is required"),p(T),Object.keys(T).length===0},_=async T=>{if(T.preventDefault(),!C()){g("Please fix the errors below before submitting");return}v(!0),g("");try{const O=await fetch("/api/sequences",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({key:s.sequenceKey,name:s.displayName,description:s.description,category:s.category,first_step:{message:s.messageTemplate,doc_url:s.docUrl,doc_title:s.docTitle,success_triggers:j,failure_triggers:k}})});if(!O.ok){const D=await O.json();throw new Error(D.error||"Failed to create sequence")}const P=await O.json();i(`/sequences/${s.sequenceKey}`)}catch(O){console.error("Error creating sequence:",O),g(O.message||"Failed to create sequence. Please try again.")}finally{v(!1)}},E=()=>{i("/sequences")},A=(T,O)=>{const D=S(s[T]).filter(I=>I!==O);w(T,D.join(", "))};return l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(br,{user:e,onLogout:t,hasRole:n}),l.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[l.jsxs("div",{style:{marginBottom:r.spacing["2xl"]},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[l.jsx(Or,{size:32,color:r.colors.accent.primary,strokeWidth:2}),l.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Create New Sequence"})]}),l.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Define a new troubleshooting sequence with its first step"})]}),h&&l.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.md,backgroundColor:"#fee2e2",border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(Vn,{size:20,color:r.colors.accent.danger}),l.jsx("span",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.base},children:h})]}),l.jsxs("form",{onSubmit:_,children:[l.jsx(Qe,{title:"Sequence Metadata",style:{marginBottom:r.spacing.lg},children:l.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"sequenceKey",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Sequence Key ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{id:"sequenceKey",type:"text",value:s.sequenceKey,onChange:T=>w("sequenceKey",T.target.value),placeholder:"dryer_no_power",disabled:m,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${d.sequenceKey?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:m?r.colors.background.tertiary:r.colors.background.primary,outline:"none",fontFamily:"monospace"},onFocus:T=>!d.sequenceKey&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=d.sequenceKey?r.colors.accent.danger:r.colors.border.light}),d.sequenceKey?l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:d.sequenceKey}):l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"Lowercase letters, numbers, and underscores only (e.g., dryer_no_power)"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"displayName",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Display Name ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{id:"displayName",type:"text",value:s.displayName,onChange:T=>w("displayName",T.target.value),placeholder:"Dryer - No Power",disabled:m,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${d.displayName?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:m?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!d.displayName&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=d.displayName?r.colors.accent.danger:r.colors.border.light}),d.displayName&&l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:d.displayName})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"description",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Description ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("textarea",{id:"description",value:s.description,onChange:T=>w("description",T.target.value),placeholder:"Troubleshooting steps for dryers with no power",rows:3,disabled:m,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${d.description?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:m?r.colors.background.tertiary:r.colors.background.primary,outline:"none",resize:"vertical",fontFamily:"inherit"},onFocus:T=>!d.description&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=d.description?r.colors.accent.danger:r.colors.border.light}),d.description&&l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:d.description})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"category",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Category ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsxs("select",{id:"category",value:s.category,onChange:T=>w("category",T.target.value),disabled:m,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${d.category?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:s.category?r.colors.text.primary:r.colors.text.tertiary,backgroundColor:m?r.colors.background.tertiary:r.colors.background.primary,outline:"none",cursor:"pointer"},onFocus:T=>!d.category&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=d.category?r.colors.accent.danger:r.colors.border.light,children:[l.jsx("option",{value:"",children:"Select a category..."}),l.jsx("option",{value:"Electrical",children:"Electrical"}),l.jsx("option",{value:"Plumbing",children:"Plumbing"}),l.jsx("option",{value:"HVAC",children:"HVAC"}),l.jsx("option",{value:"Appliances",children:"Appliances"}),l.jsx("option",{value:"Mechanical",children:"Mechanical"}),l.jsx("option",{value:"Other",children:"Other"})]}),d.category&&l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:d.category})]})]})}),l.jsx(Qe,{title:"First Step",style:{marginBottom:r.spacing.lg},children:l.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"messageTemplate",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Message Template ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("textarea",{id:"messageTemplate",value:s.messageTemplate,onChange:T=>w("messageTemplate",T.target.value),placeholder:"Let's check the power. First, verify the outlet: {url}",rows:4,disabled:m,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${d.messageTemplate?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:m?r.colors.background.tertiary:r.colors.background.primary,outline:"none",resize:"vertical",fontFamily:"inherit"},onFocus:T=>!d.messageTemplate&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=d.messageTemplate?r.colors.accent.danger:r.colors.border.light}),d.messageTemplate?l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:d.messageTemplate}):l.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:["Use ","{url}"," placeholder for the document link"]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"docUrl",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Document URL ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{id:"docUrl",type:"url",value:s.docUrl,onChange:T=>w("docUrl",T.target.value),placeholder:"https://docs.example.com/dryer-power",disabled:m,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${d.docUrl?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:m?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!d.docUrl&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=d.docUrl?r.colors.accent.danger:r.colors.border.light}),d.docUrl&&l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:d.docUrl})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"docTitle",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Document Title ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{id:"docTitle",type:"text",value:s.docTitle,onChange:T=>w("docTitle",T.target.value),placeholder:"Check Power Outlet",disabled:m,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${d.docTitle?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:m?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!d.docTitle&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=d.docTitle?r.colors.accent.danger:r.colors.border.light}),d.docTitle&&l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:d.docTitle})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"successTriggers",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Success Triggers ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{id:"successTriggers",type:"text",value:s.successTriggers,onChange:T=>w("successTriggers",T.target.value),placeholder:"FIXED, YES, WORKING, DONE",disabled:m,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${d.successTriggers?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:m?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!d.successTriggers&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=d.successTriggers?r.colors.accent.danger:r.colors.border.light}),d.successTriggers?l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:d.successTriggers}):l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"Comma-separated responses meaning 'problem fixed'"}),j.length>0&&l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,marginTop:r.spacing.sm},children:j.map((T,O)=>l.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.success,color:"#ffffff",borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[T,l.jsx("button",{type:"button",onClick:()=>A("successTriggers",T),disabled:m,style:{background:"none",border:"none",padding:0,cursor:"pointer",display:"flex",alignItems:"center",color:"#ffffff"},children:l.jsx(Ut,{size:14})})]},O))})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"failureTriggers",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Failure Triggers ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{id:"failureTriggers",type:"text",value:s.failureTriggers,onChange:T=>w("failureTriggers",T.target.value),placeholder:"NO, STILL BROKEN, NOT WORKING, HELP",disabled:m,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${d.failureTriggers?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:m?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!d.failureTriggers&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=d.failureTriggers?r.colors.accent.danger:r.colors.border.light}),d.failureTriggers?l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:d.failureTriggers}):l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"Comma-separated responses meaning 'still broken'"}),k.length>0&&l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,marginTop:r.spacing.sm},children:k.map((T,O)=>l.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[T,l.jsx("button",{type:"button",onClick:()=>A("failureTriggers",T),disabled:m,style:{background:"none",border:"none",padding:0,cursor:"pointer",display:"flex",alignItems:"center",color:"#ffffff"},children:l.jsx(Ut,{size:14})})]},O))})]})]})}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{type:"button",onClick:E,disabled:m,style:{padding:`${r.spacing.md} ${r.spacing.xl}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:m?"not-allowed":"pointer",transition:"background-color 0.2s",opacity:m?.6:1},onMouseEnter:T=>!m&&(T.target.style.backgroundColor=r.colors.background.hover),onMouseLeave:T=>T.target.style.backgroundColor=r.colors.background.tertiary,children:"Cancel"}),l.jsx("button",{type:"submit",disabled:m,style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.xl}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:m?"not-allowed":"pointer",transition:"background-color 0.2s",opacity:m?.8:1},onMouseEnter:T=>!m&&(T.target.style.backgroundColor=r.colors.accent.primaryHover),onMouseLeave:T=>T.target.style.backgroundColor=r.colors.accent.primary,children:m?l.jsxs(l.Fragment,{children:[l.jsx(Rf,{size:20,style:{animation:"spin 1s linear infinite"}}),"Creating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Or,{size:20}),"Create Sequence"]})})]})]}),l.jsx("style",{children:`
            @keyframes spin {
              from {
                transform: rotate(0deg);
              }
              to {
                transform: rotate(360deg);
              }
            }
          `})]})]})}const R2=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`:null;function Ci({children:e,onClose:t,title:n}){return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:r.spacing.lg},onClick:t,children:l.jsxs("div",{style:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.lg,padding:r.spacing.xl,maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:r.shadows.xl},onClick:i=>i.stopPropagation(),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[l.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:n}),l.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.tertiary},children:l.jsx(Ut,{size:24})})]}),e]})})}function lt({label:e,required:t,type:n="text",value:i,onChange:s,helpText:c,options:d,disabled:p}){return l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:[e," ",t&&l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),n==="textarea"?l.jsx("textarea",{value:i,onChange:s,disabled:p,rows:4,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:p?r.colors.background.tertiary:r.colors.background.primary,outline:"none",resize:"vertical",fontFamily:"inherit"}}):n==="select"?l.jsx("select",{value:i,onChange:s,disabled:p,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:p?r.colors.background.tertiary:r.colors.background.primary,outline:"none",cursor:"pointer"},children:d?.map((h,g)=>l.jsx("option",{value:h.value,children:h.label},g))}):l.jsx("input",{type:n,value:i,onChange:s,disabled:p,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:p?r.colors.background.tertiary:r.colors.background.primary,outline:"none"}}),c&&l.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:c})]})}function P2({isEdit:e,stepForm:t,allSequences:n,onClose:i,onSubmit:s,handleStepNumChange:c,handleMessageChange:d,handleDocUrlChange:p,handleDocTitleChange:h,handleSuccessTriggersChange:g,handleFailureTriggersChange:m,handleHasHandoffChange:v,handleHandoffTriggerChange:S,handleHandoffSequenceChange:j,handleIsActiveChange:k}){return l.jsx(Ci,{onClose:i,title:e?"Edit Step":"Add Step",children:l.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[l.jsx(lt,{label:"Step Number",required:!0,type:"number",value:t.stepNum,onChange:c,disabled:e,helpText:e?"Step number cannot be changed":"Enter the step number for this step"}),l.jsx(lt,{label:"Message Template",required:!0,type:"textarea",value:t.message,onChange:d,helpText:"Use {url} placeholder for the document link"}),l.jsx(lt,{label:"Document URL",required:!0,value:t.docUrl,onChange:p}),l.jsx(lt,{label:"Document Title",required:!0,value:t.docTitle,onChange:h}),l.jsx(lt,{label:"Success Triggers",required:!0,value:t.successTriggers,onChange:g,helpText:"Comma-separated responses meaning 'problem fixed'"}),l.jsx(lt,{label:"Failure Triggers",required:!0,value:t.failureTriggers,onChange:m,helpText:"Comma-separated responses meaning 'still broken'"}),l.jsx("div",{children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:t.hasHandoff,onChange:v}),l.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:"Configure Handoff"})]})}),t.hasHandoff&&l.jsxs(l.Fragment,{children:[l.jsx(lt,{label:"Handoff Trigger Word",value:t.handoffTrigger,onChange:S,helpText:"Trigger word to handoff to another sequence"}),l.jsx(lt,{label:"Target Sequence",type:"select",value:t.handoffSequenceKey,onChange:j,options:[{value:"",label:"Select a sequence..."},...n.map(w=>({value:w.sequence_key,label:w.display_name}))]})]}),e&&l.jsx("div",{children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:t.isActive,onChange:k}),l.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:"Active"})]})}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:i,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:s,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[e?l.jsx(qd,{size:16}):l.jsx(Or,{size:16}),e?"Save Changes":"Add Step"]})]})]})})}function $2({stepNum:e,tools:t,parts:n,onAddTool:i,onAddPart:s,onEditTool:c,onDeleteTool:d,onEditPart:p,onDeletePart:h,theme:g,isGeneral:m=!1,sequenceKey:v}){const[S,j]=x.useState(!1),k=t.length+n.length;return k===0&&!m?l.jsx("div",{style:{marginTop:g.spacing.md,paddingTop:g.spacing.md,borderTop:`1px solid ${g.colors.border.light}`},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:g.spacing.sm},children:[l.jsx(ro,{size:14,color:g.colors.text.tertiary}),l.jsx("span",{style:{fontSize:g.fontSize.xs,color:g.colors.text.tertiary},children:"No supplies for this step"}),l.jsxs("button",{onClick:()=>i(e),style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"transparent",border:`1px solid ${g.colors.border.light}`,borderRadius:g.radius.sm,cursor:"pointer",fontSize:g.fontSize.xs,color:g.colors.accent.primary},children:[l.jsx(Or,{size:12}),"Tool"]}),l.jsxs("button",{onClick:()=>s(e),style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"transparent",border:`1px solid ${g.colors.border.light}`,borderRadius:g.radius.sm,cursor:"pointer",fontSize:g.fontSize.xs,color:g.colors.accent.success},children:[l.jsx(Or,{size:12}),"Part"]})]})}):l.jsxs("div",{style:{marginTop:g.spacing.md,paddingTop:g.spacing.md,borderTop:`1px solid ${g.colors.border.light}`},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:k>0?"pointer":"default"},onClick:()=>k>0&&j(!S),children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:g.spacing.sm},children:[l.jsx(ro,{size:14,color:g.colors.text.tertiary}),l.jsx("span",{style:{fontSize:g.fontSize.sm,fontWeight:g.fontWeight.medium,color:g.colors.text.secondary},children:m?"General Supplies":"Supplies"}),k>0&&l.jsx(Xe,{variant:m?"primary":"secondary",size:"sm",children:k}),k>0&&(S?l.jsx(Df,{size:14,color:g.colors.text.tertiary}):l.jsx(di,{size:14,color:g.colors.text.tertiary}))]}),l.jsxs("div",{style:{display:"flex",gap:g.spacing.xs,alignItems:"center"},onClick:w=>w.stopPropagation(),children:[v&&l.jsx("a",{href:`/supplies/${v}${e?`?step=${e}`:""}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",fontSize:g.fontSize.xs,color:g.colors.text.tertiary,textDecoration:"none"},title:e?`Preview Step ${e} supplies`:"Preview public supplies page",children:l.jsx(_i,{size:12})}),l.jsxs("button",{onClick:()=>i(e),style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"transparent",border:`1px solid ${g.colors.border.light}`,borderRadius:g.radius.sm,cursor:"pointer",fontSize:g.fontSize.xs,color:g.colors.accent.primary},children:[l.jsx(Or,{size:12}),"Tool"]}),l.jsxs("button",{onClick:()=>s(e),style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"transparent",border:`1px solid ${g.colors.border.light}`,borderRadius:g.radius.sm,cursor:"pointer",fontSize:g.fontSize.xs,color:g.colors.accent.success},children:[l.jsx(Or,{size:12}),"Part"]})]})]}),S&&k>0&&l.jsxs("div",{style:{marginTop:g.spacing.md},children:[t.length>0&&l.jsxs("div",{style:{marginBottom:n.length>0?g.spacing.md:0},children:[l.jsxs("div",{style:{fontSize:g.fontSize.xs,color:g.colors.text.tertiary,marginBottom:g.spacing.xs,textTransform:"uppercase"},children:["Tools (",t.length,")"]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:g.spacing.xs},children:t.map(w=>l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:g.spacing.sm,backgroundColor:g.colors.background.primary,borderRadius:g.radius.sm,border:`1px solid ${g.colors.border.light}`},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:g.spacing.sm,flex:1},children:[l.jsx("span",{style:{fontSize:g.fontSize.sm,color:g.colors.text.primary},children:w.tool_name}),w.is_required&&l.jsx(Xe,{variant:"danger",size:"sm",children:"Required"}),w.tool_link&&l.jsx("a",{href:R2(w.tool_link),target:"_blank",rel:"noopener noreferrer",style:{color:g.colors.accent.primary},children:l.jsx(_i,{size:12})})]}),l.jsxs("div",{style:{display:"flex",gap:"4px"},children:[l.jsx("button",{onClick:()=>c(w),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:g.colors.text.tertiary},children:l.jsx(Pf,{size:12})}),l.jsx("button",{onClick:()=>d(w),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:g.colors.accent.danger},children:l.jsx(kn,{size:12})})]})]},w.id))})]}),n.length>0&&l.jsxs("div",{children:[l.jsxs("div",{style:{fontSize:g.fontSize.xs,color:g.colors.text.tertiary,marginBottom:g.spacing.xs,textTransform:"uppercase"},children:["Parts (",n.length,")"]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:g.spacing.xs},children:n.map(w=>l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:g.spacing.sm,backgroundColor:g.colors.background.primary,borderRadius:g.radius.sm,border:`1px solid ${g.colors.border.light}`},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:g.spacing.sm,flex:1},children:[l.jsx("span",{style:{fontSize:g.fontSize.sm,color:g.colors.text.primary},children:w.part_name}),w.is_required&&l.jsx(Xe,{variant:"danger",size:"sm",children:"Required"}),w.part_number&&l.jsxs(Xe,{variant:"default",size:"sm",children:["#",w.part_number]}),w.estimated_price&&l.jsxs("span",{style:{fontSize:g.fontSize.xs,color:g.colors.accent.success},children:["~$",Number(w.estimated_price).toFixed(2)]}),w.part_link&&l.jsx("a",{href:R2(w.part_link),target:"_blank",rel:"noopener noreferrer",style:{color:g.colors.accent.success},children:l.jsx(ZE,{size:12})})]}),l.jsxs("div",{style:{display:"flex",gap:"4px"},children:[l.jsx("button",{onClick:()=>p(w),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:g.colors.text.tertiary},children:l.jsx(Pf,{size:12})}),l.jsx("button",{onClick:()=>h(w),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:g.colors.accent.danger},children:l.jsx(kn,{size:12})})]})]},w.id))})]})]})]})}function MY(){const{key:e}=Lf(),{user:t,logout:n,hasRole:i}=fn(),s=Di(),[c,d]=x.useState(null),[p,h]=x.useState([]),[g,m]=x.useState([]),[v,S]=x.useState([]),[j,k]=x.useState(!0),[w,C]=x.useState(""),[_,E]=x.useState(""),[A,T]=x.useState(!1),[O,P]=x.useState(!1),[D,I]=x.useState(!1),[Q,fe]=x.useState(!1),[ce,Z]=x.useState(!1),[Se,he]=x.useState(!1),[pe,U]=x.useState(null),[F,ge]=x.useState(null),[je,Oe]=x.useState({displayName:"",description:"",category:""}),[$,L]=x.useState({stepNum:"",message:"",docUrl:"",docTitle:"",successTriggers:"",failureTriggers:"",hasHandoff:!1,handoffTrigger:"",handoffSequenceKey:"",isActive:!0}),[ue,xe]=x.useState({tools:[],parts:[]}),[ye,K]=x.useState(!1),[le,ke]=x.useState(!1),[N,ve]=x.useState(!1),[ee,se]=x.useState(!1),[Ne,re]=x.useState(!1),[Ee,ze]=x.useState(!1),[$e,Ye]=x.useState(!1),[Ze,X]=x.useState(null),[Te,ot]=x.useState(null),[J,q]=x.useState(null),[Me,He]=x.useState(null),[Be,at]=x.useState({tool_name:"",tool_description:"",tool_link:"",is_required:!0,sort_order:0,step_num:null}),[Pe,mt]=x.useState({part_name:"",part_number:"",part_description:"",part_link:"",estimated_price:"",is_required:!0,sort_order:0,step_num:null});x.useEffect(()=>{nr(),Jr(),$t(),yt()},[e]);const nr=async(R=!1)=>{R||k(!0),C("");try{const Ce=await fetch(`/api/sequences/${e}`,{credentials:"include"});if(!Ce.ok)throw Ce.status===404?new Error("Sequence not found"):new Error("Failed to fetch sequence details");const Tt=await Ce.json();d(Tt),Oe({displayName:Tt.display_name||"",description:Tt.description||"",category:Tt.category||""})}catch(Ce){console.error("Error fetching sequence:",Ce),C(Ce.message)}finally{R||k(!1)}},Jr=async()=>{try{const R=await fetch("/api/sequences",{credentials:"include"});if(R.ok){const Ce=await R.json();h(Ce.filter(Tt=>Tt.sequence_key!==e))}}catch(R){console.error("Error fetching sequences:",R)}},$t=async()=>{try{const R=await fetch(`/api/patterns?sequence_key=${e}`,{credentials:"include"});if(R.ok){const Ce=await R.json();m(Ce)}}catch(R){console.error("Error fetching trigger patterns:",R)}},yt=async()=>{K(!0);try{const R=await fetch(`/api/sequences/${e}/supplies`,{credentials:"include"});if(R.ok){const Ce=await R.json();xe({tools:Ce.tools||[],parts:Ce.parts||[]})}}catch(R){console.error("Error fetching supplies:",R)}finally{K(!1)}},ie=()=>{at({tool_name:"",tool_description:"",tool_link:"",is_required:!0,sort_order:ue.tools.length,step_num:null})},V=(R=null)=>{ie(),at(Ce=>({...Ce,step_num:R})),ke(!0)},Ae=R=>{X(R),at({tool_name:R.tool_name||"",tool_description:R.tool_description||"",tool_link:R.tool_link||"",is_required:R.is_required??!0,sort_order:R.sort_order||0,step_num:R.step_num||null}),ve(!0)},et=R=>{q(R),se(!0)},Nt=async()=>{try{if(!(await fetch(`/api/sequences/${e}/tools`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Be)})).ok)throw new Error("Failed to add tool");await yt(),ke(!1),ie(),Ht("Tool added successfully")}catch(R){console.error("Error adding tool:",R),C("Failed to add tool")}},er=async()=>{try{if(!(await fetch(`/api/sequences/tools/${Ze.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Be)})).ok)throw new Error("Failed to update tool");await yt(),ve(!1),X(null),Ht("Tool updated successfully")}catch(R){console.error("Error updating tool:",R),C("Failed to update tool")}},st=async()=>{try{if(!(await fetch(`/api/sequences/tools/${J.id}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete tool");await yt(),se(!1),q(null),Ht("Tool deleted successfully")}catch(R){console.error("Error deleting tool:",R),C("Failed to delete tool")}},Rr=()=>{mt({part_name:"",part_number:"",part_description:"",part_link:"",estimated_price:"",is_required:!0,sort_order:ue.parts.length,step_num:null})},Sr=(R=null)=>{Rr(),mt(Ce=>({...Ce,step_num:R})),re(!0)},Vr=R=>{ot(R),mt({part_name:R.part_name||"",part_number:R.part_number||"",part_description:R.part_description||"",part_link:R.part_link||"",estimated_price:R.estimated_price||"",is_required:R.is_required??!0,sort_order:R.sort_order||0,step_num:R.step_num||null}),ze(!0)},en=R=>{He(R),Ye(!0)},xi=async()=>{try{if(!(await fetch(`/api/sequences/${e}/parts`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...Pe,estimated_price:Pe.estimated_price?parseFloat(Pe.estimated_price):null})})).ok)throw new Error("Failed to add part");await yt(),re(!1),Rr(),Ht("Part added successfully")}catch(R){console.error("Error adding part:",R),C("Failed to add part")}},ei=async()=>{try{if(!(await fetch(`/api/sequences/parts/${Te.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...Pe,estimated_price:Pe.estimated_price?parseFloat(Pe.estimated_price):null})})).ok)throw new Error("Failed to update part");await yt(),ze(!1),ot(null),Ht("Part updated successfully")}catch(R){console.error("Error updating part:",R),C("Failed to update part")}},Pi=async()=>{try{if(!(await fetch(`/api/sequences/parts/${Me.id}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete part");await yt(),Ye(!1),He(null),Ht("Part deleted successfully")}catch(R){console.error("Error deleting part:",R),C("Failed to delete part")}},ti=async()=>{he(!0);try{const R=await fetch(`/api/sequences/${e}/validate`,{credentials:"include"});if(!R.ok)throw new Error("Failed to validate sequence");const Ce=await R.json();Ce.errors&&Ce.errors.length>0?(S(Ce.errors),C("Validation found issues with this sequence")):(S([]),Ht("Sequence validated - no errors found"))}catch(R){console.error("Error validating sequence:",R),C("Failed to validate sequence")}finally{he(!1)}},$i=async()=>{try{if(!(await fetch(`/api/sequences/${e}/toggle`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({is_active:!c.is_active})})).ok)throw new Error("Failed to toggle sequence status");await nr(!0),Ht(`Sequence ${c.is_active?"deactivated":"activated"} successfully`)}catch(R){console.error("Error toggling sequence:",R),C("Failed to toggle sequence status")}},B=async()=>{try{if(!(await fetch(`/api/sequences/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:je.displayName,description:je.description,category:je.category})})).ok)throw new Error("Failed to update sequence metadata");await nr(!0),T(!1),Ht("Sequence updated successfully")}catch(R){console.error("Error updating metadata:",R),C("Failed to update sequence")}},_e=async()=>{try{if(!(await fetch(`/api/sequences/${e}/steps`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({step_num:parseInt($.stepNum),message:$.message,doc_url:$.docUrl,doc_title:$.docTitle,success_triggers:cr($.successTriggers),failure_triggers:cr($.failureTriggers)})})).ok)throw new Error("Failed to add step");$.hasHandoff&&$.handoffTrigger&&$.handoffSequenceKey&&await xt(parseInt($.stepNum)),await nr(!0),P(!1),ri(),Ht("Step added successfully")}catch(R){console.error("Error adding step:",R),C("Failed to add step")}},_t=async()=>{try{if(!(await fetch(`/api/sequences/${e}/steps/${pe.step_num}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:$.message,doc_url:$.docUrl,doc_title:$.docTitle,success_triggers:cr($.successTriggers),failure_triggers:cr($.failureTriggers),handoff_trigger:$.hasHandoff?$.handoffTrigger:null,handoff_sequence_key:$.hasHandoff?$.handoffSequenceKey:null,is_active:$.isActive})})).ok)throw new Error("Failed to update step");await nr(!0),I(!1),U(null),ri(),Ht("Step updated successfully")}catch(R){console.error("Error updating step:",R),C("Failed to update step")}},xt=async R=>{await fetch(`/api/sequences/${e}/steps/${R}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({handoff_trigger:$.handoffTrigger,handoff_sequence_key:$.handoffSequenceKey})})},dt=async()=>{try{if(!(await fetch(`/api/sequences/${e}/steps/${F.step_num}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete step");await nr(!0),fe(!1),ge(null),Ht("Step deleted successfully")}catch(R){console.error("Error deleting step:",R),C("Failed to delete step")}},ir=async()=>{try{if(!(await fetch(`/api/sequences/${e}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete sequence");s("/sequences")}catch(R){console.error("Error deleting sequence:",R),C("Failed to delete sequence")}},pn=async(R,Ce)=>{const Tt=c.steps||[],ni=Tt.findIndex(Wi=>Wi.step_num===R.step_num);if(Ce==="up"&&ni>0){const Wi=Tt[ni-1];await rt(R,Wi)}else if(Ce==="down"&&ni<Tt.length-1){const Wi=Tt[ni+1];await rt(R,Wi)}},rt=async(R,Ce)=>{try{if(!(await fetch(`/api/sequences/${e}/steps/${R.step_num}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:Ce.message_template,doc_url:Ce.doc_url,doc_title:Ce.doc_title,success_triggers:Ce.success_triggers,failure_triggers:Ce.failure_triggers,handoff_trigger:Ce.handoff_trigger,handoff_sequence_key:Ce.handoff_sequence_key,is_active:Ce.is_active})})).ok)throw new Error("Failed to update first step");if(!(await fetch(`/api/sequences/${e}/steps/${Ce.step_num}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:R.message_template,doc_url:R.doc_url,doc_title:R.doc_title,success_triggers:R.success_triggers,failure_triggers:R.failure_triggers,handoff_trigger:R.handoff_trigger,handoff_sequence_key:R.handoff_sequence_key,is_active:R.is_active})})).ok)throw new Error("Failed to update second step");await nr(!0),Ht("Steps reordered successfully")}catch(Tt){console.error("Error swapping steps:",Tt),C("Failed to reorder steps")}},sr=async R=>{try{if(!(await fetch(`/api/sequences/${e}/steps/${R.step_num}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({is_active:!R.is_active})})).ok)throw new Error("Failed to toggle step status");await nr(!0),Ht(`Step ${R.is_active?"deactivated":"activated"} successfully`)}catch(Ce){console.error("Error toggling step:",Ce),C("Failed to toggle step status")}},cr=R=>R.split(",").map(Ce=>Ce.trim()).filter(Ce=>Ce.length>0),Ht=R=>{E(R),setTimeout(()=>E(""),3e3)},ri=()=>{const R=c?.steps?.length?Math.max(...c.steps.map(Ce=>Ce.step_num))+1:1;L({stepNum:R.toString(),message:"",docUrl:"",docTitle:"",successTriggers:"",failureTriggers:"",hasHandoff:!1,handoffTrigger:"",handoffSequenceKey:"",isActive:!0})},vi=R=>{U(R),L({stepNum:R.step_num.toString(),message:R.message_template||"",docUrl:R.doc_url||"",docTitle:R.doc_title||"",successTriggers:(R.success_triggers||[]).join(", "),failureTriggers:(R.failure_triggers||[]).join(", "),hasHandoff:!!R.handoff_trigger,handoffTrigger:R.handoff_trigger||"",handoffSequenceKey:R.handoff_sequence_key||"",isActive:R.is_active!==!1}),I(!0)},Ni=()=>{ri(),P(!0)},co=R=>({electrical:"primary",plumbing:"warning",hvac:"secondary",appliances:"success",mechanical:"danger"})[R?.toLowerCase()]||"default",Y=R=>R<=10?"#1e3a8a":R<=50?"#3b82f6":"#93c5fd",De=R=>({water:"#3b82f6",generator:"#f59e0b",grooming_equipment:"#8b5cf6",electrical:"#eab308",plumbing:"#06b6d4",hvac:"#ef4444"})[R]||r.colors.accent.primary,Ue=x.useCallback(R=>L(Ce=>({...Ce,stepNum:R.target.value})),[]),Fe=x.useCallback(R=>L(Ce=>({...Ce,message:R.target.value})),[]),kt=x.useCallback(R=>L(Ce=>({...Ce,docUrl:R.target.value})),[]),zt=x.useCallback(R=>L(Ce=>({...Ce,docTitle:R.target.value})),[]),Je=x.useCallback(R=>L(Ce=>({...Ce,successTriggers:R.target.value})),[]),wt=x.useCallback(R=>L(Ce=>({...Ce,failureTriggers:R.target.value})),[]),jr=x.useCallback(R=>L(Ce=>({...Ce,handoffTrigger:R.target.value})),[]),Dn=x.useCallback(R=>L(Ce=>({...Ce,handoffSequenceKey:R.target.value})),[]),Li=x.useCallback(R=>L(Ce=>({...Ce,hasHandoff:R.target.checked})),[]),eu=x.useCallback(R=>L(Ce=>({...Ce,isActive:R.target.checked})),[]);if(j)return l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(br,{user:t,onLogout:n,hasRole:i}),l.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"],display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx(Rf,{size:24,color:r.colors.accent.primary,style:{animation:"spin 1s linear infinite"}}),l.jsx("span",{style:{color:r.colors.text.secondary},children:"Loading sequence..."})]})})]});if(w&&!c)return l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(br,{user:t,onLogout:n,hasRole:i}),l.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:l.jsxs("div",{style:{padding:r.spacing.xl,backgroundColor:"#fee2e2",border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx(gi,{size:24,color:r.colors.accent.danger}),l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0,color:r.colors.accent.danger,fontSize:r.fontSize.xl},children:w}),l.jsx("button",{onClick:()=>s("/sequences"),style:{marginTop:r.spacing.md,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Back to Sequences"})]})]})})]});const Pr=[...c?.steps||[]].sort((R,Ce)=>R.step_num-Ce.step_num);return l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(br,{user:t,onLogout:n,hasRole:i}),l.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[_&&l.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.md,backgroundColor:"#d1fae5",border:`1px solid ${r.colors.accent.success}`,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(It,{size:20,color:r.colors.accent.success}),l.jsx("span",{style:{color:r.colors.accent.success,fontSize:r.fontSize.base},children:_})]}),w&&c&&l.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.md,backgroundColor:"#fee2e2",border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(gi,{size:20,color:r.colors.accent.danger}),l.jsx("span",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.base},children:w})]}),l.jsxs("button",{onClick:()=>s("/sequences"),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,marginBottom:r.spacing.lg,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:"transparent",color:r.colors.accent.primary,border:"none",cursor:"pointer",fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium},children:[l.jsx(Mf,{size:20}),"Back to Sequences"]}),l.jsx(Qe,{style:{marginBottom:r.spacing.lg},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:r.spacing.lg},children:[l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.sm},children:[l.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:c?.display_name}),l.jsx("button",{type:"button",onClick:()=>T(!0),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.primary,display:"flex",alignItems:"center"},title:"Edit sequence metadata",children:l.jsx(Pf,{size:20})})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.md},children:[c?.category&&l.jsx(Xe,{variant:co(c.category),children:c.category}),l.jsxs("button",{onClick:$i,style:{background:"none",border:"none",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:r.spacing.xs,color:c?.is_active?r.colors.accent.success:r.colors.text.tertiary},title:c?.is_active?"Active - Click to disable":"Inactive - Click to enable",children:[c?.is_active?l.jsx(vx,{size:24}):l.jsx(xx,{size:24}),l.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:c?.is_active?"Active":"Inactive"})]})]}),l.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,marginBottom:r.spacing.md},children:c?.description}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.lg,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:[l.jsxs("span",{children:["Created: ",c?.created_at?new Date(c.created_at).toLocaleDateString():"N/A"]}),l.jsxs("span",{children:["Updated: ",c?.updated_at?new Date(c.updated_at).toLocaleDateString():"N/A"]}),l.jsxs("span",{children:["Steps: ",Pr.length]})]})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.sm},children:[l.jsxs("button",{onClick:ti,disabled:Se,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.info,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:Se?"not-allowed":"pointer",opacity:Se?.7:1},children:[Se?l.jsx(Rf,{size:16,style:{animation:"spin 1s linear infinite"}}):l.jsx(It,{size:16}),"Validate Sequence"]}),l.jsxs("button",{onClick:()=>Z(!0),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:[l.jsx(kn,{size:16}),"Delete Sequence"]})]})]})}),l.jsxs(Qe,{style:{marginBottom:r.spacing.lg},children:[l.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:r.spacing.xs},children:[l.jsx(Oc,{size:20,color:r.colors.accent.primary}),l.jsx("h2",{style:{margin:0,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:"Trigger Patterns"})]}),l.jsx("p",{style:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:"Patterns that trigger this sequence"})]}),g.length===0?l.jsxs("div",{style:{textAlign:"center",padding:r.spacing.xl,color:r.colors.text.secondary,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md},children:[l.jsx(Oc,{size:32,style:{marginBottom:r.spacing.sm,opacity:.5}}),l.jsx("p",{style:{margin:0,fontSize:r.fontSize.sm},children:"No trigger patterns configured for this sequence"})]}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:g.map(R=>l.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`},children:l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md},children:[l.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:Y(R.priority),color:"#ffffff",borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,flexShrink:0},children:R.priority}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontFamily:"monospace",fontSize:r.fontSize.sm,color:r.colors.text.primary,marginBottom:r.spacing.xs,wordBreak:"break-all"},children:R.pattern}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,flexWrap:"wrap"},children:[l.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:De(R.category_slug)+"20",color:De(R.category_slug),borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:R.category_slug}),l.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:"|"}),l.jsx("span",{style:{fontSize:r.fontSize.xs,color:R.is_active?r.colors.status.success:r.colors.text.tertiary,fontWeight:r.fontWeight.medium},children:R.is_active?"Active":"Inactive"}),R.flags&&l.jsxs(l.Fragment,{children:[l.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:"|"}),l.jsxs("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontFamily:"monospace"},children:["flags: ",R.flags]})]})]})]})]})},R.id))}),l.jsxs(xc,{to:"/patterns",style:{display:"flex",alignItems:"center",gap:r.spacing.xs,marginTop:r.spacing.lg,color:r.colors.accent.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,textDecoration:"none"},children:[l.jsx($F,{size:16}),"Manage All Patterns"]})]}),v.length>0&&l.jsx(Qe,{style:{marginBottom:r.spacing.lg,backgroundColor:"#fff7ed",border:`1px solid ${r.colors.accent.warning}`},children:l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md},children:[l.jsx(gi,{size:24,color:r.colors.accent.warning}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h3",{style:{margin:`0 0 ${r.spacing.md} 0`,color:r.colors.accent.warning,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.semibold},children:"Validation Errors"}),l.jsx("ul",{style:{margin:0,paddingLeft:r.spacing.lg,color:r.colors.text.primary},children:v.map((R,Ce)=>l.jsx("li",{style:{marginBottom:r.spacing.xs},children:R},Ce))})]})]})}),l.jsxs(Qe,{title:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx("span",{children:"Troubleshooting Steps"}),l.jsx(Xe,{variant:"primary",size:"sm",children:Pr.length})]}),l.jsxs("a",{href:`/supplies/${e}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,textDecoration:"none"},children:[l.jsx(_i,{size:14}),"Preview Supplies Page"]})]}),style:{marginBottom:r.spacing.lg},children:[(()=>{const R=ue.tools.filter(Tt=>!Tt.step_num),Ce=ue.parts.filter(Tt=>!Tt.step_num);return R.length>0||Ce.length>0,l.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.accent.primary}33`},children:[l.jsx($2,{stepNum:null,tools:R,parts:Ce,onAddTool:V,onAddPart:Sr,onEditTool:Ae,onDeleteTool:et,onEditPart:Vr,onDeletePart:en,theme:r,isGeneral:!0,sequenceKey:e}),l.jsxs("div",{style:{marginTop:r.spacing.sm,padding:r.spacing.sm,backgroundColor:r.colors.background.primary,borderRadius:r.radius.sm,fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontFamily:"monospace"},children:["Public URL: ",window.location.origin,"/supplies/",e]})]})})(),Pr.length===0?l.jsxs("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:[l.jsx("p",{style:{fontSize:r.fontSize.lg,marginBottom:r.spacing.md},children:"No steps yet"}),l.jsx("p",{style:{fontSize:r.fontSize.sm},children:"Add your first troubleshooting step to get started"})]}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:Pr.map((R,Ce)=>l.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`,opacity:R.is_active===!1?.6:1},children:[l.jsxs("div",{style:{display:"flex",gap:r.spacing.lg},children:[l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.primary,color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:r.fontSize.xl,fontWeight:r.fontWeight.bold,flexShrink:0},children:R.step_num}),l.jsxs("div",{style:{flex:1},children:[l.jsx("p",{style:{margin:`0 0 ${r.spacing.md} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base,lineHeight:1.6},children:R.message_template}),R.doc_url&&l.jsxs("a",{href:R.doc_url,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,textDecoration:"none",marginBottom:r.spacing.md},children:[R.doc_title||"View Document",l.jsx(_i,{size:14})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.sm,marginTop:r.spacing.md},children:[R.success_triggers&&R.success_triggers.length>0&&l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,alignItems:"center"},children:[l.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontWeight:r.fontWeight.medium},children:"Success:"}),R.success_triggers.slice(0,3).map((Tt,ni)=>l.jsx(Xe,{variant:"success",size:"sm",children:Tt},ni)),R.success_triggers.length>3&&l.jsxs("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:["+",R.success_triggers.length-3," more"]})]}),R.failure_triggers&&R.failure_triggers.length>0&&l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,alignItems:"center"},children:[l.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontWeight:r.fontWeight.medium},children:"Failure:"}),R.failure_triggers.slice(0,3).map((Tt,ni)=>l.jsx(Xe,{variant:"danger",size:"sm",children:Tt},ni)),R.failure_triggers.length>3&&l.jsxs("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:["+",R.failure_triggers.length-3," more"]})]}),R.handoff_trigger&&R.handoff_sequence_key&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginTop:r.spacing.xs},children:[l.jsx(fK,{size:16,color:r.colors.accent.warning}),l.jsxs(Xe,{variant:"warning",size:"sm",children:['If "',R.handoff_trigger,'"  ',R.handoff_sequence_key]})]})]})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xs,alignItems:"flex-end"},children:[l.jsxs("div",{style:{display:"flex",gap:r.spacing.xs},children:[l.jsx("button",{onClick:()=>sr(R),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:R.is_active===!1?r.colors.text.tertiary:r.colors.accent.success,display:"flex",alignItems:"center"},title:R.is_active===!1?"Activate step":"Deactivate step",children:R.is_active===!1?l.jsx(xx,{size:20}):l.jsx(vx,{size:20})}),l.jsx("button",{type:"button",onClick:()=>vi(R),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.primary},title:"Edit step",children:l.jsx(Pf,{size:18})}),l.jsx("button",{onClick:()=>{ge(R),fe(!0)},style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.danger},title:"Delete step",children:l.jsx(kn,{size:18})})]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.xs,marginTop:r.spacing.sm},children:[l.jsx("button",{onClick:()=>pn(R,"up"),disabled:Ce===0,style:{background:"none",border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.sm,cursor:Ce===0?"not-allowed":"pointer",padding:r.spacing.xs,color:Ce===0?r.colors.text.tertiary:r.colors.accent.primary,opacity:Ce===0?.5:1},title:"Move up",children:l.jsx(Df,{size:18})}),l.jsx("button",{onClick:()=>pn(R,"down"),disabled:Ce===Pr.length-1,style:{background:"none",border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.sm,cursor:Ce===Pr.length-1?"not-allowed":"pointer",padding:r.spacing.xs,color:Ce===Pr.length-1?r.colors.text.tertiary:r.colors.accent.primary,opacity:Ce===Pr.length-1?.5:1},title:"Move down",children:l.jsx(di,{size:18})})]})]})]}),l.jsx($2,{stepNum:R.step_num,tools:ue.tools.filter(Tt=>Tt.step_num===R.step_num),parts:ue.parts.filter(Tt=>Tt.step_num===R.step_num),onAddTool:V,onAddPart:Sr,onEditTool:Ae,onDeleteTool:et,onEditPart:Vr,onDeletePart:en,theme:r,sequenceKey:e})]},R.step_num))}),l.jsxs("button",{onClick:Ni,style:{width:"100%",marginTop:r.spacing.lg,padding:r.spacing.lg,backgroundColor:"transparent",border:`2px dashed ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:r.spacing.sm,color:r.colors.accent.primary,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},onMouseEnter:R=>{R.target.style.backgroundColor=r.colors.background.tertiary,R.target.style.borderColor=r.colors.accent.primary},onMouseLeave:R=>{R.target.style.backgroundColor="transparent",R.target.style.borderColor=r.colors.border.medium},children:[l.jsx(Or,{size:20}),"Add Step"]})]}),A&&l.jsx(jp,{}),O&&l.jsx(P2,{isEdit:!1,stepForm:$,allSequences:p,onClose:()=>P(!1),onSubmit:_e,handleStepNumChange:Ue,handleMessageChange:Fe,handleDocUrlChange:kt,handleDocTitleChange:zt,handleSuccessTriggersChange:Je,handleFailureTriggersChange:wt,handleHasHandoffChange:Li,handleHandoffTriggerChange:jr,handleHandoffSequenceChange:Dn,handleIsActiveChange:eu}),D&&l.jsx(P2,{isEdit:!0,stepForm:$,allSequences:p,onClose:()=>I(!1),onSubmit:_t,handleStepNumChange:Ue,handleMessageChange:Fe,handleDocUrlChange:kt,handleDocTitleChange:zt,handleSuccessTriggersChange:Je,handleFailureTriggersChange:wt,handleHasHandoffChange:Li,handleHandoffTriggerChange:jr,handleHandoffSequenceChange:Dn,handleIsActiveChange:eu}),Q&&l.jsx(Qo,{}),ce&&l.jsx(Zo,{}),le&&l.jsx(Ci,{onClose:()=>ke(!1),title:"Add Tool",children:l.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[l.jsx(lt,{label:"Tool Name",required:!0,value:Be.tool_name,onChange:R=>at({...Be,tool_name:R.target.value})}),l.jsx(lt,{label:"Description",type:"textarea",value:Be.tool_description,onChange:R=>at({...Be,tool_description:R.target.value})}),l.jsx(lt,{label:"Link (optional)",value:Be.tool_link,onChange:R=>at({...Be,tool_link:R.target.value}),helpText:"e.g., https://amazon.com/dp/... or www.example.com"}),l.jsx(lt,{label:"Required",type:"select",value:Be.is_required?"true":"false",onChange:R=>at({...Be,is_required:R.target.value==="true"}),options:[{value:"true",label:"Yes - Required"},{value:"false",label:"No - Optional"}]}),l.jsx(lt,{label:"Sort Order",type:"number",value:Be.sort_order,onChange:R=>at({...Be,sort_order:parseInt(R.target.value)||0}),helpText:"Lower numbers appear first"}),Be.step_num!==null?l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:"Applies To"}),l.jsxs("div",{style:{padding:r.spacing.sm,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx("div",{style:{width:"20px",height:"20px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.primary,color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.bold},children:Be.step_num}),l.jsxs("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary},children:["Step ",Be.step_num]})]})]}):l.jsx(lt,{label:"Applies To Step",type:"select",value:"",onChange:R=>at({...Be,step_num:R.target.value===""?null:parseInt(R.target.value)}),options:[{value:"",label:"All Steps (General)"},...Pr.map(R=>({value:R.step_num.toString(),label:`Step ${R.step_num}`}))],helpText:"Which step this tool is needed for"}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>ke(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:Nt,disabled:!Be.tool_name,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:Be.tool_name?"pointer":"not-allowed",opacity:Be.tool_name?1:.5,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(Or,{size:16}),"Add Tool"]})]})]})}),N&&l.jsx(Ci,{onClose:()=>ve(!1),title:"Edit Tool",children:l.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[l.jsx(lt,{label:"Tool Name",required:!0,value:Be.tool_name,onChange:R=>at({...Be,tool_name:R.target.value})}),l.jsx(lt,{label:"Description",type:"textarea",value:Be.tool_description,onChange:R=>at({...Be,tool_description:R.target.value})}),l.jsx(lt,{label:"Link (optional)",value:Be.tool_link,onChange:R=>at({...Be,tool_link:R.target.value}),helpText:"e.g., https://amazon.com/dp/... or www.example.com"}),l.jsx(lt,{label:"Required",type:"select",value:Be.is_required?"true":"false",onChange:R=>at({...Be,is_required:R.target.value==="true"}),options:[{value:"true",label:"Yes - Required"},{value:"false",label:"No - Optional"}]}),l.jsx(lt,{label:"Sort Order",type:"number",value:Be.sort_order,onChange:R=>at({...Be,sort_order:parseInt(R.target.value)||0}),helpText:"Lower numbers appear first"}),l.jsx(lt,{label:"Applies To Step",type:"select",value:Be.step_num===null?"":Be.step_num.toString(),onChange:R=>at({...Be,step_num:R.target.value===""?null:parseInt(R.target.value)}),options:[{value:"",label:"All Steps"},...Pr.map(R=>({value:R.step_num.toString(),label:`Step ${R.step_num}`}))],helpText:"Which step this tool is needed for"}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>ve(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:er,disabled:!Be.tool_name,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:Be.tool_name?"pointer":"not-allowed",opacity:Be.tool_name?1:.5,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(qd,{size:16}),"Save Changes"]})]})]})}),ee&&J&&l.jsx(Ci,{onClose:()=>se(!1),title:"Delete Tool",children:l.jsxs("div",{children:[l.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base},children:['Are you sure you want to delete the tool "',l.jsx("strong",{children:J.tool_name}),'"?']}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>se(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:st,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(kn,{size:16}),"Delete Tool"]})]})]})}),Ne&&l.jsx(Ci,{onClose:()=>re(!1),title:"Add Part",children:l.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[l.jsx(lt,{label:"Part Name",required:!0,value:Pe.part_name,onChange:R=>mt({...Pe,part_name:R.target.value})}),l.jsx(lt,{label:"Part Number",value:Pe.part_number,onChange:R=>mt({...Pe,part_number:R.target.value}),helpText:"Manufacturer part number"}),l.jsx(lt,{label:"Description",type:"textarea",value:Pe.part_description,onChange:R=>mt({...Pe,part_description:R.target.value})}),l.jsx(lt,{label:"Buy Link (optional)",value:Pe.part_link,onChange:R=>mt({...Pe,part_link:R.target.value}),helpText:"e.g., https://amazon.com/dp/... or www.example.com"}),l.jsx(lt,{label:"Estimated Price",type:"number",value:Pe.estimated_price,onChange:R=>mt({...Pe,estimated_price:R.target.value}),helpText:"Approximate cost in USD"}),l.jsx(lt,{label:"Required",type:"select",value:Pe.is_required?"true":"false",onChange:R=>mt({...Pe,is_required:R.target.value==="true"}),options:[{value:"true",label:"Yes - Required"},{value:"false",label:"No - Optional"}]}),l.jsx(lt,{label:"Sort Order",type:"number",value:Pe.sort_order,onChange:R=>mt({...Pe,sort_order:parseInt(R.target.value)||0}),helpText:"Lower numbers appear first"}),Pe.step_num!==null?l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:"Applies To"}),l.jsxs("div",{style:{padding:r.spacing.sm,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx("div",{style:{width:"20px",height:"20px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.primary,color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.bold},children:Pe.step_num}),l.jsxs("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary},children:["Step ",Pe.step_num]})]})]}):l.jsx(lt,{label:"Applies To Step",type:"select",value:"",onChange:R=>mt({...Pe,step_num:R.target.value===""?null:parseInt(R.target.value)}),options:[{value:"",label:"All Steps (General)"},...Pr.map(R=>({value:R.step_num.toString(),label:`Step ${R.step_num}`}))],helpText:"Which step this part is needed for"}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>re(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:xi,disabled:!Pe.part_name,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.success,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:Pe.part_name?"pointer":"not-allowed",opacity:Pe.part_name?1:.5,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(Or,{size:16}),"Add Part"]})]})]})}),Ee&&l.jsx(Ci,{onClose:()=>ze(!1),title:"Edit Part",children:l.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[l.jsx(lt,{label:"Part Name",required:!0,value:Pe.part_name,onChange:R=>mt({...Pe,part_name:R.target.value})}),l.jsx(lt,{label:"Part Number",value:Pe.part_number,onChange:R=>mt({...Pe,part_number:R.target.value}),helpText:"Manufacturer part number"}),l.jsx(lt,{label:"Description",type:"textarea",value:Pe.part_description,onChange:R=>mt({...Pe,part_description:R.target.value})}),l.jsx(lt,{label:"Buy Link (optional)",value:Pe.part_link,onChange:R=>mt({...Pe,part_link:R.target.value}),helpText:"e.g., https://amazon.com/dp/... or www.example.com"}),l.jsx(lt,{label:"Estimated Price",type:"number",value:Pe.estimated_price,onChange:R=>mt({...Pe,estimated_price:R.target.value}),helpText:"Approximate cost in USD"}),l.jsx(lt,{label:"Required",type:"select",value:Pe.is_required?"true":"false",onChange:R=>mt({...Pe,is_required:R.target.value==="true"}),options:[{value:"true",label:"Yes - Required"},{value:"false",label:"No - Optional"}]}),l.jsx(lt,{label:"Sort Order",type:"number",value:Pe.sort_order,onChange:R=>mt({...Pe,sort_order:parseInt(R.target.value)||0}),helpText:"Lower numbers appear first"}),l.jsx(lt,{label:"Applies To Step",type:"select",value:Pe.step_num===null?"":Pe.step_num.toString(),onChange:R=>mt({...Pe,step_num:R.target.value===""?null:parseInt(R.target.value)}),options:[{value:"",label:"All Steps"},...Pr.map(R=>({value:R.step_num.toString(),label:`Step ${R.step_num}`}))],helpText:"Which step this part is needed for"}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>ze(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:ei,disabled:!Pe.part_name,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.success,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:Pe.part_name?"pointer":"not-allowed",opacity:Pe.part_name?1:.5,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(qd,{size:16}),"Save Changes"]})]})]})}),$e&&Me&&l.jsx(Ci,{onClose:()=>Ye(!1),title:"Delete Part",children:l.jsxs("div",{children:[l.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base},children:['Are you sure you want to delete the part "',l.jsx("strong",{children:Me.part_name}),'"?']}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>Ye(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:Pi,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(kn,{size:16}),"Delete Part"]})]})]})}),l.jsx("style",{children:`
            @keyframes spin {
              from { transform: rotate(0deg); }
              to { transform: rotate(360deg); }
            }
          `})]})]});function jp(){return l.jsx(Ci,{onClose:()=>T(!1),title:"Edit Sequence Metadata",children:l.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[l.jsx(lt,{label:"Display Name",required:!0,value:je.displayName,onChange:R=>Oe({...je,displayName:R.target.value})}),l.jsx(lt,{label:"Description",required:!0,type:"textarea",value:je.description,onChange:R=>Oe({...je,description:R.target.value})}),l.jsx(lt,{label:"Category",required:!0,type:"select",value:je.category,onChange:R=>Oe({...je,category:R.target.value}),options:[{value:"",label:"Select a category..."},{value:"Electrical",label:"Electrical"},{value:"Plumbing",label:"Plumbing"},{value:"HVAC",label:"HVAC"},{value:"Appliances",label:"Appliances"},{value:"Mechanical",label:"Mechanical"},{value:"Other",label:"Other"}]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>T(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:B,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(qd,{size:16}),"Save Changes"]})]})]})})}function Qo(){return l.jsx(Ci,{onClose:()=>fe(!1),title:"Delete Step",children:l.jsxs("div",{children:[l.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base},children:["Are you sure you want to delete step ",F?.step_num,"? This cannot be undone."]}),F?.message_template&&l.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,marginBottom:r.spacing.lg},children:l.jsxs("p",{style:{margin:0,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:[F.message_template.substring(0,100),F.message_template.length>100?"...":""]})}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>fe(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:dt,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(kn,{size:16}),"Delete Step"]})]})]})})}function Zo(){return l.jsx(Ci,{onClose:()=>Z(!1),title:"Delete Sequence",children:l.jsxs("div",{children:[l.jsxs("p",{style:{margin:`0 0 ${r.spacing.md} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base},children:['Are you sure you want to delete the entire sequence "',l.jsx("strong",{children:c?.display_name}),'"?']}),l.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.secondary,fontSize:r.fontSize.base},children:["This will delete all ",Pr.length," step",Pr.length!==1?"s":"",". This action cannot be undone."]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>Z(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),l.jsxs("button",{onClick:ir,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(kn,{size:16}),"Delete Sequence"]})]})]})})}}class DY{validatePattern(t){if(!t)return{isValid:!1,hasDoubleEscaping:!1,errors:["Pattern is required"],warnings:[]};const n=[],i=[];let s=!1;/\\\\[bBdDwWsS]/.test(t)&&(s=!0,i.push("Pattern contains double-escaped sequences (e.g., \\\\b). These should be single-escaped (\\b)."));const d=(t.match(/\[/g)||[]).length,p=(t.match(/\]/g)||[]).length;d!==p&&n.push("Unbalanced brackets in pattern");const h=(t.match(/\(/g)||[]).length,g=(t.match(/\)/g)||[]).length;h!==g&&n.push("Unbalanced parentheses in pattern"),t.includes("\\b")&&!s&&i.push("Pattern uses \\b (word boundary). This will be automatically converted to \\y for PostgreSQL compatibility.");try{new RegExp(t)}catch(m){n.push(`Invalid regex syntax: ${m.message}`)}return{isValid:n.length===0,hasDoubleEscaping:s,errors:n,warnings:i}}fixDoubleEscaping(t){return t&&t.replace(/\\\\b/g,"\\b").replace(/\\\\B/g,"\\B").replace(/\\\\d/g,"\\d").replace(/\\\\D/g,"\\D").replace(/\\\\w/g,"\\w").replace(/\\\\W/g,"\\W").replace(/\\\\s/g,"\\s").replace(/\\\\S/g,"\\S").replace(/\\\\t/g,"\\t").replace(/\\\\n/g,"\\n").replace(/\\\\r/g,"\\r")}convertToPostgresPattern(t){return t&&t.replace(/\\b/g,"\\y").replace(/\\B/g,"\\Y")}prepareForDatabase(t){if(!t)return t;let n=t;this.validatePattern(t).hasDoubleEscaping&&(console.log(" Auto-fixing double-escaped pattern"),n=this.fixDoubleEscaping(n)),console.log(" Converting JavaScript regex to PostgreSQL POSIX regex"),n=this.convertToPostgresPattern(n);const s=this.validatePattern(n);return s.isValid?console.log(" Pattern prepared successfully for PostgreSQL"):console.warn(" Final pattern validation failed:",s.errors),n}getExamples(){return[{name:"Simple word match",input:"\\bdryer\\b",prepared:"\\ydryer\\y",description:'Matches "dryer" as a complete word. Word boundaries (\\b) are automatically converted to PostgreSQL syntax (\\y).'},{name:"Multiple conditions",input:"\\bwater\\b.*\\b(leak|leaking)\\b",prepared:"\\ywater\\y.*\\y(leak|leaking)\\y",description:'Matches "water" followed by "leak" or "leaking". All word boundaries converted automatically.'},{name:"Case variations",input:"\\b(ac|air\\s*conditioning)\\b.*\\b(not\\s*working|broken)\\b",prepared:"\\y(ac|air\\s*conditioning)\\y.*\\y(not\\s*working|broken)\\y",description:"Matches AC or air conditioning with various problem phrases."},{name:"Double-escaped (will be fixed)",input:"\\\\btest\\\\b",prepared:"\\ytest\\y",description:"Double-escaped pattern will be auto-fixed and converted."}]}}const N2=new DY;function RY(){const{user:e,logout:t,hasRole:n}=fn(),[i,s]=x.useState([]),[c,d]=x.useState([]),[p,h]=x.useState(!0),[g,m]=x.useState(""),[v,S]=x.useState(""),[j,k]=x.useState(""),[w,C]=x.useState("priority"),[_,E]=x.useState("asc"),[A,T]=x.useState(!1),[O,P]=x.useState(!1),[D,I]=x.useState(!1),[Q,fe]=x.useState(!1),[ce,Z]=x.useState(null),[Se,he]=x.useState(null),[pe,U]=x.useState({category_slug:"",pattern:"",flags:"i",priority:100,action_type:"sequence",action_key:"",entry_step_id:"",van_makes:"",years:"",van_versions:"",is_active:!0}),[F,ge]=x.useState({valid:!0,error:null,warning:null});x.useEffect(()=>{je(),Oe()},[]);const je=async()=>{h(!0),m("");try{const X=await fetch("/api/patterns",{credentials:"include"});if(!X.ok)throw new Error("Failed to fetch patterns");const Te=await X.json();s(Te)}catch(X){console.error("Error fetching patterns:",X),m(X.message)}finally{h(!1)}},Oe=async()=>{try{const X=await fetch("/api/sequences",{credentials:"include"});if(!X.ok)throw new Error("Failed to fetch sequences");const Te=await X.json();d(Te)}catch(X){console.error("Error fetching sequences:",X)}},$=()=>{U({category_slug:"",pattern:"",flags:"i",priority:100,action_type:"sequence",action_key:"",entry_step_id:"",van_makes:"",years:"",van_versions:"",is_active:!0}),ge({valid:!0,error:null,warning:null})},L=(X,Te)=>{if(!X){ge({valid:!0,error:null,warning:null});return}try{new RegExp(X,Te),N2.validatePattern(X).hasDoubleEscaping?ge({valid:!0,error:null,warning:"Pattern contains double-escaped sequences (e.g., \\\\b instead of \\b). This may not match as expected in PostgreSQL regex."}):ge({valid:!0,error:null,warning:null})}catch(ot){ge({valid:!1,error:`Invalid regex pattern: ${ot.message}`,warning:null})}},ue=x.useCallback(()=>{U(X=>{const Te=N2.fixDoubleEscaping(X.pattern);return L(Te,X.flags),{...X,pattern:Te}})},[]),xe=x.useCallback(X=>{U(Te=>(L(X,Te.flags),{...Te,pattern:X}))},[]),ye=x.useCallback(X=>{U(Te=>(L(Te.pattern,X),{...Te,flags:X}))},[]),K=x.useCallback((X,Te)=>{U(ot=>({...ot,[X]:Te}))},[]),le=X=>{S(X),setTimeout(()=>S(""),3e3)},ke=async()=>{if(!F.valid){m("Please fix the pattern validation errors before saving");return}try{if(!(await fetch("/api/patterns",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...pe,priority:parseInt(pe.priority),entry_step_id:pe.entry_step_id||null,van_makes:pe.van_makes?pe.van_makes.split(",").map(Te=>Te.trim()):null,years:pe.years?pe.years.split(",").map(Te=>parseInt(Te.trim())):null,van_versions:pe.van_versions?pe.van_versions.split(",").map(Te=>Te.trim()):null})})).ok)throw new Error("Failed to create pattern");await je(),P(!1),$(),le("Pattern created successfully")}catch(X){console.error("Error creating pattern:",X),m("Failed to create pattern")}},N=async()=>{if(!F.valid){m("Please fix the pattern validation errors before saving");return}try{if(!(await fetch(`/api/patterns/${ce.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...pe,priority:parseInt(pe.priority),entry_step_id:pe.entry_step_id||null,van_makes:pe.van_makes?pe.van_makes.split(",").map(Te=>Te.trim()):null,years:pe.years?pe.years.split(",").map(Te=>parseInt(Te.trim())):null,van_versions:pe.van_versions?pe.van_versions.split(",").map(Te=>Te.trim()):null})})).ok)throw new Error("Failed to update pattern");await je(),I(!1),Z(null),$(),le("Pattern updated successfully")}catch(X){console.error("Error updating pattern:",X),m("Failed to update pattern")}},ve=async()=>{try{if(!(await fetch(`/api/patterns/${Se.id}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete pattern");await je(),fe(!1),he(null),le("Pattern deleted successfully")}catch(X){console.error("Error deleting pattern:",X),m("Failed to delete pattern")}},ee=async X=>{try{if(!(await fetch(`/api/patterns/${X.id}/toggle`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({is_active:!X.is_active})})).ok)throw new Error("Failed to toggle pattern");await je(),le(`Pattern ${X.is_active?"deactivated":"activated"} successfully`)}catch(Te){console.error("Error toggling pattern:",Te),m("Failed to toggle pattern")}},se=X=>{Z(X);const Te=X.pattern||"",ot=X.flags||"i";U({category_slug:X.category_slug||"",pattern:Te,flags:ot,priority:X.priority||100,action_type:X.action_type||"sequence",action_key:X.action_key||"",entry_step_id:X.entry_step_id||"",van_makes:X.van_makes?X.van_makes.join(", "):"",years:X.years?X.years.join(", "):"",van_versions:X.van_versions?X.van_versions.join(", "):"",is_active:X.is_active}),L(Te,ot),I(!0)},Ne=X=>{he(X),fe(!0)},re=X=>({water:"#3b82f6",generator:"#f59e0b",grooming_equipment:"#8b5cf6",electrical:"#eab308",plumbing:"#06b6d4",hvac:"#ef4444"})[X]||r.colors.accent.primary,Ee=X=>X<=10?"#1e3a8a":X<=50?"#3b82f6":"#93c5fd",ze=X=>c.find(ot=>ot.sequence_key===X)?.display_name||X,$e=X=>{w===X?E(_==="asc"?"desc":"asc"):(C(X),E("asc"))},Ye=()=>{let X=[...i];return j&&(X=X.filter(Te=>Te.pattern.toLowerCase().includes(j.toLowerCase())||Te.category_slug.toLowerCase().includes(j.toLowerCase())||ze(Te.action_key).toLowerCase().includes(j.toLowerCase()))),A&&(X=X.filter(Te=>Te.is_active)),X.sort((Te,ot)=>{let J,q;return w==="priority"?(J=Te.priority,q=ot.priority):w==="category"?(J=Te.category_slug,q=ot.category_slug):w==="created_at"&&(J=new Date(Te.created_at),q=new Date(ot.created_at)),_==="asc"?J>q?1:-1:J<q?1:-1}),X},Ze=x.useMemo(()=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Priority ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"number",value:pe.priority,onChange:X=>K("priority",X.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}},"priority-field"),l.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(Vn,{size:12}),"Lower number = higher priority (matched first)"]})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Category Slug ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"text",value:pe.category_slug,onChange:X=>K("category_slug",X.target.value),placeholder:"e.g., water, generator, grooming_equipment",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Pattern ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("textarea",{value:pe.pattern,onChange:X=>xe(X.target.value),placeholder:"e.g., (?i)\\bdryer\\b.*(not|won't).*work",rows:3,style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${F.valid?r.colors.border.medium:r.colors.accent.danger}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontFamily:"monospace"}},"pattern-field"),F.error&&l.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(Vn,{size:12}),F.error]}),F.warning&&l.jsxs("div",{style:{marginTop:r.spacing.xs,padding:r.spacing.sm,backgroundColor:r.colors.accent.warning+"10",borderRadius:r.radius.md,border:`1px solid ${r.colors.accent.warning}40`},children:[l.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.warning,display:"flex",alignItems:"center",gap:r.spacing.xs,marginBottom:r.spacing.xs},children:[l.jsx(Vn,{size:12}),F.warning]}),l.jsxs("button",{onClick:ue,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.warning,color:"#ffffff",border:"none",borderRadius:r.radius.sm,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:[l.jsx(ro,{size:12}),"Auto-Fix Pattern"]})]}),!F.error&&!F.warning&&l.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(Vn,{size:12}),"PostgreSQL regex pattern. Use \\b for word boundaries, \\d for digits, \\s for whitespace."]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Regex Flags"}),l.jsx("input",{type:"text",value:pe.flags,onChange:X=>ye(X.target.value),placeholder:"i",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),l.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(Vn,{size:12}),"PostgreSQL regex flags. Use 'i' for case-insensitive matching."]})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Triggers Sequence ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsxs("select",{value:pe.action_key,onChange:X=>K("action_key",X.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[l.jsx("option",{value:"",children:"Select a sequence..."}),c.map(X=>l.jsx("option",{value:X.sequence_key,children:X.display_name||X.sequence_key},X.sequence_key))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Entry Step (Optional)"}),l.jsx("input",{type:"text",value:pe.entry_step_id,onChange:X=>K("entry_step_id",X.target.value),placeholder:"Leave empty to start at step 1",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Van Makes (Optional)"}),l.jsx("input",{type:"text",value:pe.van_makes,onChange:X=>K("van_makes",X.target.value),placeholder:"e.g., Ford, Mercedes, Dodge",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs},children:"Comma-separated list"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Van Versions (Optional)"}),l.jsx("input",{type:"text",value:pe.van_versions,onChange:X=>K("van_versions",X.target.value),placeholder:"e.g., Transit, Sprinter, ProMaster",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs},children:"Comma-separated list"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Years (Optional)"}),l.jsx("input",{type:"text",value:pe.years,onChange:X=>K("years",X.target.value),placeholder:"e.g., 2020, 2021, 2022",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs},children:"Comma-separated list of years"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx("input",{type:"checkbox",id:"is_active",checked:pe.is_active,onChange:X=>K("is_active",X.target.checked),style:{width:"16px",height:"16px"}}),l.jsx("label",{htmlFor:"is_active",style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,cursor:"pointer"},children:"Active"})]})]}),[pe,F,c,xe,ye,ue,K]);return p?l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(br,{user:e,onLogout:t,hasRole:n}),l.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:l.jsx("div",{style:{textAlign:"center",padding:r.spacing["2xl"]},children:l.jsx("p",{style:{color:r.colors.text.secondary},children:"Loading patterns..."})})})]}):l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(br,{user:e,onLogout:t,hasRole:n}),l.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[v&&l.jsx("div",{style:{backgroundColor:r.colors.status.success+"20",color:r.colors.status.success,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.status.success}`},children:v}),g&&l.jsx("div",{style:{backgroundColor:r.colors.accent.danger+"20",color:r.colors.accent.danger,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.accent.danger}`},children:g}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:r.spacing.xl},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[l.jsx(Oc,{size:32,color:r.colors.accent.primary,strokeWidth:2}),l.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Trigger Patterns"})]}),l.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Manage regex patterns that trigger troubleshooting sequences"})]}),l.jsxs("button",{onClick:()=>{$(),P(!0)},style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:X=>X.currentTarget.style.backgroundColor=r.colors.accent.secondary,onMouseLeave:X=>X.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[l.jsx(Or,{size:20}),"Create New Pattern"]})]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.lg,flexWrap:"wrap"},children:[l.jsx("div",{style:{flex:1,minWidth:"300px"},children:l.jsxs("div",{style:{position:"relative"},children:[l.jsx(pi,{size:20,style:{position:"absolute",left:r.spacing.sm,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary}}),l.jsx("input",{type:"text",placeholder:"Search patterns, categories, or sequences...",value:j,onChange:X=>k(X.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.sm} ${r.spacing.sm} 40px`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]})}),l.jsx("button",{onClick:()=>T(!A),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:A?r.colors.accent.primary:"transparent",color:A?"#ffffff":r.colors.text.secondary,border:`1px solid ${A?r.colors.accent.primary:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:A?"Show All":"Active Only"})]}),l.jsx(Qe,{children:Ye().length===0?l.jsxs("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:[l.jsx(Oc,{size:48,style:{marginBottom:r.spacing.md,opacity:.3}}),l.jsx("p",{style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium},children:"No patterns found"}),l.jsx("p",{style:{fontSize:r.fontSize.sm},children:j||A?"Try adjusting your filters":"Create your first pattern to get started"})]}):l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:`2px solid ${r.colors.border.medium}`},children:[l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,cursor:"pointer"},onClick:()=>$e("priority"),children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:["Priority",w==="priority"&&(_==="asc"?l.jsx(Vl,{size:14}):l.jsx(Yl,{size:14}))]})}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Pattern"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,cursor:"pointer"},onClick:()=>$e("category"),children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:["Category",w==="category"&&(_==="asc"?l.jsx(Vl,{size:14}):l.jsx(Yl,{size:14}))]})}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Triggers Sequence"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Flags"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Status"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"right",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Actions"})]})}),l.jsx("tbody",{children:Ye().map(X=>l.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.2s"},onMouseEnter:Te=>Te.currentTarget.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:Te=>Te.currentTarget.style.backgroundColor="transparent",children:[l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:Ee(X.priority),color:"#ffffff",borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold},children:X.priority})}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("div",{style:{fontFamily:"monospace",fontSize:r.fontSize.sm,color:r.colors.text.primary,maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:X.pattern,children:X.pattern})}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:re(X.category_slug)+"20",color:re(X.category_slug),borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:X.category_slug})}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsxs("a",{href:`/sequences/${X.action_key}`,style:{color:r.colors.accent.primary,textDecoration:"none",display:"flex",alignItems:"center",gap:r.spacing.xs,fontSize:r.fontSize.sm},onMouseEnter:Te=>Te.currentTarget.style.textDecoration="underline",onMouseLeave:Te=>Te.currentTarget.style.textDecoration="none",children:[ze(X.action_key),l.jsx(_i,{size:14})]})}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontFamily:"monospace"},children:X.flags||"none"})}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("button",{onClick:()=>ee(X),style:{padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:X.is_active?r.colors.status.success+"20":r.colors.text.tertiary+"20",color:X.is_active?r.colors.status.success:r.colors.text.tertiary,border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:X.is_active?"Active":"Inactive"})}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"right"},children:l.jsxs("div",{style:{display:"flex",gap:r.spacing.xs,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>se(X),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Edit pattern",children:l.jsx(Jc,{size:16})}),l.jsx("button",{onClick:()=>Ne(X),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete pattern",children:l.jsx(kn,{size:16})})]})})]},X.id))})]})})}),O&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>P(!1),children:l.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:X=>X.stopPropagation(),children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Create New Pattern"}),l.jsx("button",{onClick:()=>P(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:l.jsx(Ut,{size:24})})]}),l.jsxs("div",{style:{padding:r.spacing.xl},children:[Ze,l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[l.jsx("button",{onClick:ke,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Create Pattern"}),l.jsx("button",{onClick:()=>P(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),D&&ce&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>I(!1),children:l.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:X=>X.stopPropagation(),children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Edit Pattern"}),l.jsx("button",{onClick:()=>I(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:l.jsx(Ut,{size:24})})]}),l.jsxs("div",{style:{padding:r.spacing.xl},children:[Ze,l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[l.jsx("button",{onClick:N,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Save Changes"}),l.jsx("button",{onClick:()=>{I(!1),Ne(ce)},style:{padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Delete"}),l.jsx("button",{onClick:()=>I(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),Q&&Se&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>fe(!1),children:l.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"500px",padding:r.spacing.xl},onClick:X=>X.stopPropagation(),children:[l.jsx("h2",{style:{margin:0,marginBottom:r.spacing.md,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Delete Pattern?"}),l.jsxs("p",{style:{margin:0,marginBottom:r.spacing.lg,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["Are you sure you want to delete the pattern ",l.jsxs("strong",{style:{fontFamily:"monospace"},children:['"',Se.pattern,'"']}),"?"]}),l.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,marginBottom:r.spacing.lg},children:[l.jsxs("p",{style:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[l.jsx("strong",{children:"Triggers:"})," ",ze(Se.action_key)]}),l.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[l.jsx("strong",{children:"Category:"})," ",Se.category_slug]})]}),l.jsx("p",{style:{margin:0,marginBottom:r.spacing.xl,color:r.colors.accent.danger,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"This action cannot be undone."}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[l.jsx("button",{onClick:ve,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Delete Pattern"}),l.jsx("button",{onClick:()=>fe(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})})]})]})}const Od=43200,L2=1440,W2=Symbol.for("constructDateFrom");function Eb(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&W2 in e?e[W2](t):e instanceof Date?new e.constructor(t):new Date(t)}function no(e,t){return Eb(e,e)}let PY={};function $Y(){return PY}function B2(e){const t=no(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Ob(e,...t){const n=Eb.bind(null,e||t.find(i=>typeof i=="object"));return t.map(n)}function Ud(e,t){const n=+no(e)-+no(t);return n<0?-1:n>0?1:n}function NY(e){return Eb(e,Date.now())}function LY(e,t,n){const[i,s]=Ob(n?.in,e,t),c=i.getFullYear()-s.getFullYear(),d=i.getMonth()-s.getMonth();return c*12+d}function WY(e){return t=>{const i=(e?Math[e]:Math.trunc)(t);return i===0?0:i}}function BY(e,t){return+no(e)-+no(t)}function IY(e,t){const n=no(e);return n.setHours(23,59,59,999),n}function qY(e,t){const n=no(e),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function UY(e,t){const n=no(e);return+IY(n)==+qY(n)}function HY(e,t,n){const[i,s,c]=Ob(n?.in,e,e,t),d=Ud(s,c),p=Math.abs(LY(s,c));if(p<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-d*p);let h=Ud(s,c)===-d;UY(i)&&p===1&&Ud(i,c)===1&&(h=!1);const g=d*(p-+h);return g===0?0:g}function FY(e,t,n){const i=BY(e,t)/1e3;return WY(n?.roundingMethod)(i)}const KY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},YY=(e,t,n)=>{let i;const s=KY[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function hy(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const VY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},XY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QY={date:hy({formats:VY,defaultWidth:"full"}),time:hy({formats:GY,defaultWidth:"full"}),dateTime:hy({formats:XY,defaultWidth:"full"})},ZY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JY=(e,t,n,i)=>ZY[e];function sc(e){return(t,n)=>{const i=n?.context?String(n.context):"standalone";let s;if(i==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,p=n?.width?String(n.width):d;s=e.formattingValues[p]||e.formattingValues[d]}else{const d=e.defaultWidth,p=n?.width?String(n.width):e.defaultWidth;s=e.values[p]||e.values[d]}const c=e.argumentCallback?e.argumentCallback(t):t;return s[c]}}const eV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oV=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},lV={ordinalNumber:oV,era:sc({values:eV,defaultWidth:"wide"}),quarter:sc({values:tV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:sc({values:rV,defaultWidth:"wide"}),day:sc({values:nV,defaultWidth:"wide"}),dayPeriod:sc({values:iV,defaultWidth:"wide",formattingValues:aV,defaultFormattingWidth:"wide"})};function cc(e){return(t,n={})=>{const i=n.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],c=t.match(s);if(!c)return null;const d=c[0],p=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(p)?cV(p,v=>v.test(d)):sV(p,v=>v.test(d));let g;g=e.valueCallback?e.valueCallback(h):h,g=n.valueCallback?n.valueCallback(g):g;const m=t.slice(d.length);return{value:g,rest:m}}}function sV(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function cV(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function uV(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const s=i[0],c=t.match(e.parsePattern);if(!c)return null;let d=e.valueCallback?e.valueCallback(c[0]):c[0];d=n.valueCallback?n.valueCallback(d):d;const p=t.slice(s.length);return{value:d,rest:p}}}const dV=/^(\d+)(th|st|nd|rd)?/i,fV=/\d+/i,pV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gV={any:[/^b/i,/^(a|c)/i]},hV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mV={any:[/1/i,/2/i,/3/i,/4/i]},yV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wV={ordinalNumber:uV({matchPattern:dV,parsePattern:fV,valueCallback:e=>parseInt(e,10)}),era:cc({matchPatterns:pV,defaultMatchWidth:"wide",parsePatterns:gV,defaultParseWidth:"any"}),quarter:cc({matchPatterns:hV,defaultMatchWidth:"wide",parsePatterns:mV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:cc({matchPatterns:yV,defaultMatchWidth:"wide",parsePatterns:xV,defaultParseWidth:"any"}),day:cc({matchPatterns:vV,defaultMatchWidth:"wide",parsePatterns:bV,defaultParseWidth:"any"}),dayPeriod:cc({matchPatterns:SV,defaultMatchWidth:"any",parsePatterns:jV,defaultParseWidth:"any"})},CV={code:"en-US",formatDistance:YY,formatLong:QY,formatRelative:JY,localize:lV,match:wV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kV(e,t,n){const i=$Y(),s=n?.locale??i.locale??CV,c=2520,d=Ud(e,t);if(isNaN(d))throw new RangeError("Invalid time value");const p=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:d}),[h,g]=Ob(n?.in,...d>0?[t,e]:[e,t]),m=FY(g,h),v=(B2(g)-B2(h))/1e3,S=Math.round((m-v)/60);let j;if(S<2)return n?.includeSeconds?m<5?s.formatDistance("lessThanXSeconds",5,p):m<10?s.formatDistance("lessThanXSeconds",10,p):m<20?s.formatDistance("lessThanXSeconds",20,p):m<40?s.formatDistance("halfAMinute",0,p):m<60?s.formatDistance("lessThanXMinutes",1,p):s.formatDistance("xMinutes",1,p):S===0?s.formatDistance("lessThanXMinutes",1,p):s.formatDistance("xMinutes",S,p);if(S<45)return s.formatDistance("xMinutes",S,p);if(S<90)return s.formatDistance("aboutXHours",1,p);if(S<L2){const k=Math.round(S/60);return s.formatDistance("aboutXHours",k,p)}else{if(S<c)return s.formatDistance("xDays",1,p);if(S<Od){const k=Math.round(S/L2);return s.formatDistance("xDays",k,p)}else if(S<Od*2)return j=Math.round(S/Od),s.formatDistance("aboutXMonths",j,p)}if(j=HY(g,h),j<12){const k=Math.round(S/Od);return s.formatDistance("xMonths",k,p)}else{const k=j%12,w=Math.trunc(j/12);return k<3?s.formatDistance("aboutXYears",w,p):k<9?s.formatDistance("overXYears",w,p):s.formatDistance("almostXYears",w+1,p)}}function zV(e,t){return kV(e,NY(e),t)}const mc=({currentPage:e,totalPages:t,pageSize:n,totalCount:i,onPageChange:s,onPageSizeChange:c,loading:d=!1,showPageSize:p=!0,className:h,style:g={}})=>{const m=i===0?0:(e-1)*n+1,v=Math.min(e*n,i),j=(()=>{const O=[];if(t<=7)for(let D=1;D<=t;D++)O.push(D);else{O.push(1);let D=Math.max(2,e-1),I=Math.min(t-1,e+1);e<=3&&(I=4),e>=t-2&&(D=t-3),D>2&&O.push("...");for(let Q=D;Q<=I;Q++)O.push(Q);I<t-1&&O.push("..."),t>1&&O.push(t)}return O})(),k=()=>{e>1&&!d&&s(e-1)},w=()=>{e<t&&!d&&s(e+1)},C=()=>{e>1&&!d&&s(1)},_=()=>{e<t&&!d&&s(t)},E=O=>{O!=="..."&&O!==e&&!d&&s(O)},A=O=>{const P=parseInt(O.target.value);c(P)};if(i===0)return null;const T={container:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.lg} ${r.spacing.xl}`,borderTop:`1px solid ${r.colors.border.light}`,backgroundColor:r.colors.background.secondary,flexWrap:"wrap",gap:r.spacing.lg,...g},info:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,minWidth:"200px"},infoHighlight:{fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},nav:{display:"flex",alignItems:"center",gap:r.spacing.xs,flex:1,justifyContent:"center"},navButton:O=>({display:"flex",alignItems:"center",justifyContent:"center",padding:r.spacing.sm,minWidth:"36px",height:"36px",backgroundColor:O?r.colors.background.tertiary:r.colors.background.secondary,color:O?r.colors.text.tertiary:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:O?"not-allowed":"pointer",transition:r.transitions.fast,opacity:O?.5:1}),pageButton:O=>({display:"flex",alignItems:"center",justifyContent:"center",padding:r.spacing.sm,minWidth:"36px",height:"36px",backgroundColor:O?r.colors.accent.primary:r.colors.background.secondary,color:O?r.colors.text.inverse:r.colors.text.primary,border:`1px solid ${O?r.colors.accent.primary:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:O?r.fontWeight.semibold:r.fontWeight.medium,cursor:d?"not-allowed":"pointer",transition:r.transitions.fast}),ellipsis:{padding:r.spacing.sm,color:r.colors.text.tertiary,fontSize:r.fontSize.sm,minWidth:"36px",textAlign:"center"},pageSizeContainer:{display:"flex",alignItems:"center",gap:r.spacing.sm,minWidth:"150px",justifyContent:"flex-end"},pageSizeLabel:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,whiteSpace:"nowrap"},pageSizeSelect:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:d?"not-allowed":"pointer",outline:"none"}};return l.jsxs("div",{className:h,style:T.container,children:[l.jsxs("div",{style:T.info,children:["Showing"," ",l.jsxs("span",{style:T.infoHighlight,children:[m,"-",v]})," ","of"," ",l.jsx("span",{style:T.infoHighlight,children:i.toLocaleString()})," ","items"]}),l.jsxs("div",{style:T.nav,children:[t>5&&l.jsx("button",{onClick:C,disabled:e===1||d,style:T.navButton(e===1||d),title:"First page",children:l.jsx(VF,{size:16})}),l.jsx("button",{onClick:k,disabled:e===1||d,style:T.navButton(e===1||d),title:"Previous page",children:l.jsx(HF,{size:16})}),j.map((O,P)=>{if(O==="...")return l.jsx("span",{style:T.ellipsis,children:"..."},`ellipsis-${P}`);const D=O===e;return l.jsx("button",{onClick:()=>E(O),disabled:d,style:T.pageButton(D),onMouseEnter:I=>{!D&&!d&&(I.currentTarget.style.backgroundColor=r.colors.background.tertiary,I.currentTarget.style.borderColor=r.colors.border.medium)},onMouseLeave:I=>{!D&&!d&&(I.currentTarget.style.backgroundColor=r.colors.background.secondary,I.currentTarget.style.borderColor=r.colors.border.light)},children:O},O)}),l.jsx("button",{onClick:w,disabled:e===t||d,style:T.navButton(e===t||d),title:"Next page",children:l.jsx(HE,{size:16})}),t>5&&l.jsx("button",{onClick:_,disabled:e===t||d,style:T.navButton(e===t||d),title:"Last page",children:l.jsx(XF,{size:16})})]}),p&&l.jsxs("div",{style:T.pageSizeContainer,children:[l.jsx("label",{htmlFor:"pageSize",style:T.pageSizeLabel,children:"Per page:"}),l.jsxs("select",{id:"pageSize",value:n,onChange:A,disabled:d,style:T.pageSizeSelect,children:[l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:25,children:"25"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]})]})},tO=x.createContext(null);let _V=0;const TV=({children:e})=>{const[t,n]=x.useState([]),i=x.useCallback(d=>{n(p=>p.filter(h=>h.id!==d))},[]),s=x.useCallback((d,p="info",h=3e3)=>{const g=_V++,m={id:g,message:d,type:p,duration:h};return n(v=>[...v,m]),h>0&&setTimeout(()=>{i(g)},h),g},[i]),c={showToast:s,success:(d,p)=>s(d,"success",p),error:(d,p)=>s(d,"error",p),warning:(d,p)=>s(d,"warning",p),info:(d,p)=>s(d,"info",p),removeToast:i};return l.jsxs(tO.Provider,{value:c,children:[e,l.jsx(AV,{toasts:t,removeToast:i})]})},AV=({toasts:e,removeToast:t})=>l.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 pointer-events-none",children:e.map(n=>l.jsx(EV,{toast:n,onClose:()=>t(n.id)},n.id))}),EV=({toast:e,onClose:t})=>{const{message:n,type:i}=e,c=(()=>{switch(i){case"success":return{icon:It,bgColor:"bg-green-50",borderColor:"border-green-500",iconColor:"text-green-600",textColor:"text-green-900"};case"error":return{icon:Ec,bgColor:"bg-red-50",borderColor:"border-red-500",iconColor:"text-red-600",textColor:"text-red-900"};case"warning":return{icon:gi,bgColor:"bg-yellow-50",borderColor:"border-yellow-500",iconColor:"text-yellow-600",textColor:"text-yellow-900"};case"info":default:return{icon:VE,bgColor:"bg-blue-50",borderColor:"border-blue-500",iconColor:"text-blue-600",textColor:"text-blue-900"}}})(),d=c.icon;return l.jsxs("div",{className:`${c.bgColor} ${c.borderColor} border-l-4 rounded-lg shadow-lg p-4 flex items-start gap-3 min-w-[300px] max-w-md pointer-events-auto animate-slide-in`,role:"alert",children:[l.jsx(d,{className:`w-5 h-5 ${c.iconColor} flex-shrink-0 mt-0.5`}),l.jsx("p",{className:`${c.textColor} text-sm font-medium flex-1`,children:n}),l.jsx("button",{onClick:t,className:`${c.iconColor} hover:opacity-70 transition-opacity flex-shrink-0`,"aria-label":"Close notification",children:l.jsx(Ut,{className:"w-4 h-4"})})]})},bp=()=>{const e=x.useContext(tO);if(!e)throw new Error("useToast must be used within a ToastProvider");return e};if(typeof document<"u"){const e="toast-animations";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.textContent=`
      @keyframes slide-in {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      .animate-slide-in {
        animation: slide-in 0.3s ease-out;
      }
    `,document.head.appendChild(t)}}const uc="",OV=3e4,MV=500,DV=()=>{const e=Di(),{showToast:t}=bp(),{user:n,logout:i,hasRole:s}=fn(),[c,d]=Bf(),[p,h]=x.useState(c.get("tab")||"active"),[g,m]=x.useState([]),[v,S]=x.useState([]),[j,k]=x.useState(!0),[w,C]=x.useState(null),[_,E]=x.useState(!1),[A,T]=x.useState(null),[O,P]=x.useState(!1),[D,I]=x.useState(parseInt(c.get("unassignedPage"))||1),[Q,fe]=x.useState(parseInt(c.get("unassignedLimit"))||25),[ce,Z]=x.useState(null),[Se,he]=x.useState(parseInt(c.get("myTicketsPage"))||1),[pe,U]=x.useState(parseInt(c.get("myTicketsLimit"))||25),[F,ge]=x.useState(null),[je,Oe]=x.useState(""),[$,L]=x.useState("priority"),[ue,xe]=x.useState(""),[ye,K]=x.useState("last_activity"),[le,ke]=x.useState("all"),[N,ve]=x.useState([]),[ee,se]=x.useState(parseInt(c.get("closedPage"))||1),[Ne,re]=x.useState(parseInt(c.get("closedLimit"))||25),[Ee,ze]=x.useState(null),[$e,Ye]=x.useState(!1),[Ze,X]=x.useState(c.get("closedStatus")||"all"),[Te,ot]=x.useState(c.get("closedSearch")||""),[J,q]=x.useState(c.get("closedSearch")||""),[Me,He]=x.useState(c.get("closedDateFrom")||""),[Be,at]=x.useState(c.get("closedDateTo")||""),[Pe,mt]=x.useState(c.get("closedSort")||"closed_date"),[nr]=x.useState("desc"),Jr=x.useRef(null),$t=x.useCallback(async(Y=!1)=>{try{Y?E(!0):k(!0);const[De,Ue]=await Promise.all([fetch(`${uc}/api/tickets/unassigned?page=${D}&limit=${Q}`,{credentials:"include"}),fetch(`${uc}/api/tickets/my-tickets?page=${Se}&limit=${pe}`,{credentials:"include"})]);if(!De.ok||!Ue.ok)throw new Error("Failed to fetch tickets");const Fe=await De.json(),kt=await Ue.json();console.log("=== UNASSIGNED TICKETS DATA ==="),console.log("Pagination:",Fe.pagination),console.log("Tickets:",Fe.tickets?.length||0),console.log("=== MY TICKETS DATA ==="),console.log("Pagination:",kt.pagination),console.log("Tickets:",kt.tickets?.length||0),m(Fe.tickets||[]),Z(Fe.pagination),S(kt.tickets||[]),ge(kt.pagination)}catch(De){console.error("Error fetching tickets:",De),t("Failed to load tickets","error")}finally{k(!1),E(!1)}},[t,D,Q,Se,pe]),yt=x.useCallback(async(Y=!1)=>{try{Y?E(!0):Ye(!0);const De=new URLSearchParams;De.set("page",ee.toString()),De.set("limit",Ne.toString()),De.set("sortBy",Pe),De.set("sortOrder",nr),Ze&&Ze!=="all"&&De.set("status",Ze),Te&&De.set("search",Te),Me&&De.set("dateFrom",Me),Be&&De.set("dateTo",Be);const Ue=await fetch(`${uc}/api/tickets/closed?${De.toString()}`,{credentials:"include"});if(!Ue.ok)throw new Error("Failed to fetch closed tickets");const Fe=await Ue.json();console.log("=== CLOSED TICKETS DATA ==="),console.log("Pagination:",Fe.pagination),console.log("Tickets:",Fe.tickets?.length||0),ve(Fe.tickets||[]),ze(Fe.pagination)}catch(De){console.error("Error fetching closed tickets:",De),t("Failed to load closed tickets","error")}finally{Ye(!1),E(!1)}},[t,ee,Ne,Ze,Te,Me,Be,Pe,nr]);x.useEffect(()=>(Jr.current&&clearTimeout(Jr.current),Jr.current=setTimeout(()=>{ot(J),J!==Te&&se(1)},MV),()=>{Jr.current&&clearTimeout(Jr.current)}),[J]),x.useEffect(()=>{p==="active"?$t():p==="closed"&&yt()},[p,$t,yt]),x.useEffect(()=>{const Y=setInterval(()=>{p==="active"?$t(!0):p==="closed"&&yt(!0)},OV);return()=>clearInterval(Y)},[p,$t,yt]),x.useEffect(()=>{const Y=new URLSearchParams(c);p!=="active"?Y.set("tab",p):Y.delete("tab"),p==="closed"&&(ee!==1?Y.set("closedPage",ee.toString()):Y.delete("closedPage"),Ne!==25?Y.set("closedLimit",Ne.toString()):Y.delete("closedLimit"),Ze&&Ze!=="all"?Y.set("closedStatus",Ze):Y.delete("closedStatus"),Te?Y.set("closedSearch",Te):Y.delete("closedSearch"),Me?Y.set("closedDateFrom",Me):Y.delete("closedDateFrom"),Be?Y.set("closedDateTo",Be):Y.delete("closedDateTo"),Pe&&Pe!=="closed_date"?Y.set("closedSort",Pe):Y.delete("closedSort")),d(Y,{replace:!0})},[p,ee,Ne,Ze,Te,Me,Be,Pe,c,d]);const ie=async(Y,De)=>{C(Y);try{if(!(await fetch(`${uc}/api/tickets/${Y}/assign`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})})).ok)throw new Error("Failed to assign ticket");t(`Ticket #${De} assigned to you`,"success"),await $t()}catch(Ue){console.error("Error assigning ticket:",Ue),t("Failed to assign ticket","error")}finally{C(null)}},V=()=>{p==="active"?$t(!0):p==="closed"&&yt(!0)},Ae=x.useCallback((Y,De)=>{T(De.ticket_id),Y.dataTransfer.setData("text/plain",JSON.stringify({ticketId:De.ticket_id,ticketNumber:De.ticket_number})),Y.dataTransfer.effectAllowed="move"},[]),et=x.useCallback(()=>{T(null),P(!1)},[]),Nt=x.useCallback(Y=>{Y.preventDefault(),Y.dataTransfer.dropEffect="move"},[]),er=x.useCallback(Y=>{Y.preventDefault(),P(!0)},[]),st=x.useCallback(Y=>{const De=Y.currentTarget,Ue=Y.relatedTarget;De.contains(Ue)||P(!1)},[]),Rr=x.useCallback(async Y=>{Y.preventDefault(),P(!1),T(null);let De;try{const zt=Y.dataTransfer.getData("text/plain");if(!zt)return;De=JSON.parse(zt)}catch{return}if(!De||typeof De.ticketId>"u"||typeof De.ticketNumber>"u")return;const Ue=String(De.ticketId),Fe=String(De.ticketNumber),kt=g.find(zt=>String(zt.ticket_id)===Ue);if(!kt){t("Ticket not found","error");return}C(Ue);try{const zt=await fetch(`${uc}/api/tickets/${Ue}/assign-to-me`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(zt.status===409){t(`Ticket #${Fe} is already assigned to another user`,"warning"),await $t();return}if(!zt.ok)throw new Error("Failed to assign ticket");const Je=await zt.json();m(jr=>jr.filter(Dn=>String(Dn.ticket_id)!==Ue));const wt={...kt,assigned_to:n?.id,assigned_to_name:n?.name||n?.username,status:Je.ticket?.status||"assigned"};S(jr=>[wt,...jr]),Z(jr=>jr&&{...jr,totalCount:Math.max(0,(jr.totalCount||1)-1)}),ge(jr=>jr&&{...jr,totalCount:(jr.totalCount||0)+1}),t(`Ticket #${Fe} assigned to you`,"success")}catch(zt){console.error("Error assigning ticket via drag and drop:",zt),t("Failed to assign ticket","error")}finally{C(null)}},[g,n,t,m,S,Z,ge]),Sr=Y=>{e(`/tickets/${Y}`)},Vr=Y=>{h(Y)},en=Y=>{I(Y);const De=new URLSearchParams(c);De.set("unassignedPage",Y.toString()),d(De),window.scrollTo({top:0,behavior:"smooth"})},xi=Y=>{fe(Y),I(1);const De=new URLSearchParams(c);De.set("unassignedLimit",Y.toString()),De.set("unassignedPage","1"),d(De)},ei=Y=>{he(Y);const De=new URLSearchParams(c);De.set("myTicketsPage",Y.toString()),d(De);const Ue=document.getElementById("my-tickets-section");Ue&&Ue.scrollIntoView({behavior:"smooth",block:"start"})},Pi=Y=>{U(Y),he(1);const De=new URLSearchParams(c);De.set("myTicketsLimit",Y.toString()),De.set("myTicketsPage","1"),d(De)},ti=Y=>{se(Y),window.scrollTo({top:0,behavior:"smooth"})},$i=Y=>{re(Y),se(1)},B=()=>{q(""),ot(""),X("all"),He(""),at(""),mt("closed_date"),se(1)},_e=J||Ze!=="all"||Me||Be||Pe!=="closed_date",_t=Y=>({open:{color:"blue",icon:_n,label:"Open"},assigned:{color:"purple",icon:hc,label:"Assigned"},in_progress:{color:"yellow",icon:ro,label:"In Progress"},waiting_customer:{color:"orange",icon:ki,label:"Waiting Customer"},resolved:{color:"green",icon:It,label:"Resolved"},closed:{color:"gray",icon:Ut,label:"Closed"},cancelled:{color:"red",icon:Ec,label:"Cancelled"}})[Y]||{color:"gray",icon:_n,label:Y},xt=Y=>({urgent:{color:"red",icon:gi,label:"Urgent"},high:{color:"orange",icon:Vl,label:"High"},normal:{color:"blue",icon:Ko,label:"Normal"},low:{color:"gray",icon:Yl,label:"Low"}})[Y]||{color:"gray",icon:Ko,label:Y},dt=Y=>Y?{high:{color:"red",label:"High"},medium:{color:"yellow",label:"Medium"},low:{color:"green",label:"Low"}}[Y]||{color:"gray",label:Y}:null,ir=Y=>{if(!Y)return"N/A";const De=new Date(Y),Fe=new Date-De,kt=Math.floor(Fe/6e4),zt=Math.floor(Fe/36e5),Je=Math.floor(Fe/864e5);return kt<1?"Just now":kt<60?`${kt} min${kt>1?"s":""} ago`:zt<24?`${zt} hour${zt>1?"s":""} ago`:Je<7?`${Je} day${Je>1?"s":""} ago`:De.toLocaleDateString()},pn=Y=>{if(!Y)return"N/A";try{const De=new Date(Y);return zV(De,{addSuffix:!0})}catch{return"N/A"}},rt=(Y,De)=>Y?Y.length>De?`${Y.substring(0,De)}...`:Y:"",sr=()=>{let Y=g.filter(Ue=>{const Fe=je.toLowerCase();return Ue.ticket_number?.toString().includes(Fe)||Ue.subject?.toLowerCase().includes(Fe)||Ue.customer_name?.toLowerCase().includes(Fe)||Ue.customer_phone?.includes(Fe)});const De={urgent:0,high:1,normal:2,low:3};return Y.sort((Ue,Fe)=>{if($==="priority"){const kt=(De[Ue.priority]||999)-(De[Fe.priority]||999);return kt!==0?kt:new Date(Ue.created_at)-new Date(Fe.created_at)}else{if($==="created")return new Date(Fe.created_at)-new Date(Ue.created_at);if($==="customer")return(Ue.customer_name||"").localeCompare(Fe.customer_name||"")}return 0}),Y},cr=()=>{let Y=v.filter(Ue=>{if(le!=="all"&&Ue.status!==le)return!1;const Fe=ue.toLowerCase();return Ue.ticket_number?.toString().includes(Fe)||Ue.subject?.toLowerCase().includes(Fe)});const De={urgent:0,high:1,normal:2,low:3};return Y.sort((Ue,Fe)=>ye==="last_activity"?new Date(Fe.updated_at||Fe.created_at)-new Date(Ue.updated_at||Ue.created_at):ye==="status"?(Ue.status||"").localeCompare(Fe.status||""):ye==="priority"?(De[Ue.priority]||999)-(De[Fe.priority]||999):0),Y},Ht=sr(),ri=cr(),vi=()=>l.jsxs("tr",{className:"animate-pulse",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-48"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"})})]}),Ni=()=>l.jsxs("tr",{className:"animate-pulse",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-48"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-28"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})})]}),co=Y=>({display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.xl}`,backgroundColor:Y?r.colors.accent.primary:"transparent",border:Y?"none":`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:Y?r.colors.text.inverse:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,cursor:"pointer",transition:r.transitions.normal});return l.jsxs("div",{className:"flex min-h-screen",style:{backgroundColor:r.colors.background.page},children:[l.jsx("div",{role:"status","aria-live":"polite",className:"sr-only",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",overflow:"hidden"},children:A?"Dragging ticket. Drop on My Tickets section to assign it to yourself.":""}),l.jsx(br,{user:n,onLogout:i,hasRole:s}),l.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"],position:"relative",zIndex:1},children:[l.jsx("div",{style:{marginBottom:r.spacing["2xl"]},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.accent.primary,borderRadius:r.radius.lg},children:l.jsx(ua,{size:24,style:{color:r.colors.text.inverse}})}),l.jsxs("div",{children:[l.jsx("h1",{style:{fontSize:r.fontSize["3xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0,lineHeight:r.lineHeight.tight},children:"Support Tickets"}),l.jsx("p",{style:{marginTop:r.spacing.xs,marginBottom:0,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"Manage and track customer support tickets"})]})]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[l.jsxs("button",{onClick:V,disabled:_,style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:_?"not-allowed":"pointer",opacity:_?.5:1,transition:r.transitions.fast,height:"40px",boxSizing:"border-box"},onMouseEnter:Y=>!_&&(Y.currentTarget.style.backgroundColor=r.colors.background.tertiary),onMouseLeave:Y=>Y.currentTarget.style.backgroundColor=r.colors.background.secondary,children:[l.jsx(XE,{size:18,className:_?"animate-spin":""}),"Refresh"]}),l.jsxs("button",{onClick:()=>e("/tickets/new"),style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,border:"none",borderRadius:r.radius.md,color:r.colors.text.inverse,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",boxShadow:r.shadows.sm,transition:r.transitions.fast,height:"40px",boxSizing:"border-box"},onMouseEnter:Y=>Y.currentTarget.style.backgroundColor=r.colors.accent.primaryHover,onMouseLeave:Y=>Y.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[l.jsx(Or,{size:18}),"Create New Ticket"]})]})]})}),l.jsxs("div",{role:"tablist",style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl,marginBottom:r.spacing.xl},children:[l.jsxs("button",{role:"tab","aria-selected":p==="active","aria-controls":"active-tab-panel",id:"active-tab",onClick:()=>Vr("active"),style:co(p==="active"),onMouseEnter:Y=>{p!=="active"&&(Y.currentTarget.style.backgroundColor=r.colors.background.hover)},onMouseLeave:Y=>{p!=="active"&&(Y.currentTarget.style.backgroundColor="transparent")},children:[l.jsx(ua,{size:18}),"Active Tickets",(ce?.totalCount||0)+(F?.totalCount||0)>0&&l.jsx(Xe,{color:"blue",style:{marginLeft:"4px"},children:(ce?.totalCount||0)+(F?.totalCount||0)})]}),l.jsxs("button",{role:"tab","aria-selected":p==="closed","aria-controls":"closed-tab-panel",id:"closed-tab",onClick:()=>Vr("closed"),style:co(p==="closed"),onMouseEnter:Y=>{p!=="closed"&&(Y.currentTarget.style.backgroundColor=r.colors.background.hover)},onMouseLeave:Y=>{p!=="closed"&&(Y.currentTarget.style.backgroundColor="transparent")},children:[l.jsx(M2,{size:18}),"Closed Tickets",Ee?.totalCount>0&&l.jsx(Xe,{color:"gray",style:{marginLeft:"4px"},children:Ee.totalCount})]})]}),p==="active"&&l.jsxs("div",{role:"tabpanel",id:"active-tab-panel","aria-labelledby":"active-tab",children:[l.jsxs(Qe,{style:{marginBottom:r.spacing["2xl"]},children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.lg},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Unassigned Tickets"}),l.jsx(Xe,{color:"blue",children:ce?.totalCount||0})]}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:'Drag tickets to "My Tickets" to assign'})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsxs("div",{style:{flex:1,position:"relative",minWidth:"200px"},children:[l.jsx(pi,{size:16,style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"},"aria-hidden":"true"}),l.jsx("input",{type:"text",id:"unassigned-search","aria-label":"Search unassigned tickets by ticket number, customer name, or phone",placeholder:"Search tickets, customer name, or phone",value:je,onChange:Y=>Oe(Y.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,lineHeight:r.lineHeight.normal,outline:"none",transition:r.transitions.fast,height:"38px",boxSizing:"border-box"}})]}),l.jsxs("select",{id:"unassigned-sort","aria-label":"Sort unassigned tickets",value:$,onChange:Y=>L(Y.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none",minWidth:"180px",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[l.jsx("option",{value:"priority",children:"Sort by Priority"}),l.jsx("option",{value:"created",children:"Sort by Created Date"}),l.jsx("option",{value:"customer",children:"Sort by Customer Name"})]})]})]}),l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`1px solid ${r.colors.border.light}`},children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"120px",width:"120px"},children:"Ticket #"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"300px"},children:"Subject"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Priority"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Urgency"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Customer"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Created"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Actions"})]})}),l.jsx("tbody",{style:{backgroundColor:r.colors.background.secondary},children:j?l.jsxs(l.Fragment,{children:[l.jsx(vi,{}),l.jsx(vi,{}),l.jsx(vi,{})]}):Ht.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",style:{padding:0},children:l.jsxs("div",{style:{textAlign:"center",padding:`${r.spacing["2xl"]} ${r.spacing.lg}`,backgroundColor:r.colors.background.primary},children:[l.jsx(PK,{size:48,style:{color:r.colors.border.medium,margin:"0 auto",marginBottom:r.spacing.md}}),l.jsx("p",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:"No unassigned tickets"}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"All tickets are assigned!"})]})})}):Ht.map((Y,De)=>{const Ue=xt(Y.priority),Fe=dt(Y.urgency),kt=Ue.icon,zt=Y.unread_customer_comments>0,Je=A===Y.ticket_id;return l.jsxs("tr",{draggable:"true",onDragStart:wt=>Ae(wt,Y),onDragEnd:et,onClick:()=>Sr(Y.ticket_id),onKeyDown:wt=>{(wt.key==="Enter"||wt.key===" ")&&(wt.preventDefault(),Sr(Y.ticket_id))},tabIndex:0,"aria-label":`View ticket ${Y.ticket_number}. Drag to My Tickets to assign.`,style:{cursor:Je?"grabbing":"grab",transition:r.transitions.fast,borderBottom:De<Ht.length-1?`1px solid ${r.colors.border.light}`:"none",opacity:Je?.5:1,backgroundColor:Je?r.colors.background.tertiary:"transparent"},onMouseEnter:wt=>{Je||(wt.currentTarget.style.backgroundColor=r.colors.background.hover)},onMouseLeave:wt=>{Je||(wt.currentTarget.style.backgroundColor="transparent")},children:[l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",minWidth:"120px",width:"120px"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(gK,{size:16,style:{color:Je?r.colors.accent.primary:r.colors.text.tertiary,flexShrink:0,cursor:"grab"},"aria-hidden":"true"}),l.jsxs("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.bold,color:r.colors.accent.info},children:["#",Y.ticket_number]}),zt&&l.jsx("span",{style:{width:"8px",height:"8px",backgroundColor:r.colors.accent.warning,borderRadius:r.radius.full},title:"Unread customer comments"})]})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,minWidth:"300px"},children:l.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:rt(Y.subject,60)})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:l.jsxs(Xe,{color:Ue.color,children:[l.jsx(kt,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),Ue.label]})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:Fe?l.jsx(Xe,{color:Fe.color,children:Fe.label}):l.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"N/A"})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`},children:l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:Y.customer_name||"N/A"}),l.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:Y.customer_phone||"No phone"})]})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:ir(Y.created_at)}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},onClick:wt=>wt.stopPropagation(),children:l.jsxs("button",{onClick:()=>ie(Y.ticket_id,Y.ticket_number),disabled:w===Y.ticket_id,style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,border:"none",borderRadius:r.radius.md,cursor:w===Y.ticket_id?"not-allowed":"pointer",opacity:w===Y.ticket_id?.5:1,transition:r.transitions.fast},onMouseEnter:wt=>{w!==Y.ticket_id&&(wt.currentTarget.style.backgroundColor=r.colors.accent.primaryHover)},onMouseLeave:wt=>{wt.currentTarget.style.backgroundColor=r.colors.accent.primary},children:[l.jsx(mY,{size:16}),w===Y.ticket_id?"Assigning...":"Assign to Me"]})})]},Y.ticket_id)})})]})}),ce&&ce.totalCount>0&&l.jsx(mc,{currentPage:ce.page,totalPages:ce.totalPages,pageSize:ce.limit,totalCount:ce.totalCount,onPageChange:en,onPageSizeChange:xi,loading:j||_})]}),l.jsxs(Qe,{id:"my-tickets-section","aria-dropeffect":A?"move":"none",onDragOver:Nt,onDragEnter:er,onDragLeave:st,onDrop:Rr,style:{transition:r.transitions.normal,border:O?`2px dashed ${r.colors.accent.primary}`:`1px solid ${r.colors.border.light}`,backgroundColor:O?r.colors.accent.primaryLight:r.colors.background.secondary,boxShadow:O?r.shadows.md:r.shadows.sm},children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.lg},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"My Tickets"}),l.jsx(Xe,{color:"purple",children:F?.totalCount||0}),O&&l.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.accent.primary,fontWeight:r.fontWeight.medium},children:"Drop to assign"})]}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:A?"Drop ticket here to assign to yourself":"Tickets assigned to you"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsxs("div",{style:{flex:1,position:"relative",minWidth:"200px"},children:[l.jsx(pi,{size:16,style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"},"aria-hidden":"true"}),l.jsx("input",{type:"text",id:"my-tickets-search","aria-label":"Search my assigned tickets",placeholder:"Search tickets, customer name, or phone",value:ue,onChange:Y=>xe(Y.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,lineHeight:r.lineHeight.normal,outline:"none",transition:r.transitions.fast,height:"38px",boxSizing:"border-box"}})]}),l.jsxs("select",{id:"my-tickets-status-filter","aria-label":"Filter my tickets by status",value:le,onChange:Y=>ke(Y.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none",minWidth:"150px",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[l.jsx("option",{value:"all",children:"All Statuses"}),l.jsx("option",{value:"open",children:"Open"}),l.jsx("option",{value:"assigned",children:"Assigned"}),l.jsx("option",{value:"in_progress",children:"In Progress"}),l.jsx("option",{value:"waiting_customer",children:"Waiting Customer"}),l.jsx("option",{value:"resolved",children:"Resolved"})]}),l.jsxs("select",{id:"my-tickets-sort","aria-label":"Sort my tickets",value:ye,onChange:Y=>K(Y.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none",minWidth:"180px",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[l.jsx("option",{value:"last_activity",children:"Sort by Last Activity"}),l.jsx("option",{value:"status",children:"Sort by Status"}),l.jsx("option",{value:"priority",children:"Sort by Priority"})]})]})]}),l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`1px solid ${r.colors.border.light}`},children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"100px",width:"100px"},children:"Ticket #"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"300px"},children:"Subject"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Status"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Priority"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Customer"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Last Activity"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Unread"})]})}),l.jsx("tbody",{style:{backgroundColor:r.colors.background.secondary},children:j?l.jsxs(l.Fragment,{children:[l.jsx(vi,{}),l.jsx(vi,{}),l.jsx(vi,{})]}):ri.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",style:{padding:0},children:l.jsxs("div",{style:{textAlign:"center",padding:`${r.spacing["2xl"]} ${r.spacing.lg}`,backgroundColor:r.colors.background.primary},children:[l.jsx(ua,{size:48,style:{color:r.colors.border.medium,margin:"0 auto",marginBottom:r.spacing.md}}),l.jsx("p",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:"No tickets assigned to you"}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"Assign tickets from the queue above"})]})})}):ri.map((Y,De)=>{const Ue=_t(Y.status),Fe=xt(Y.priority),kt=Ue.icon,zt=Fe.icon,Je=Y.unread_customer_comments>0;return l.jsxs("tr",{onClick:()=>Sr(Y.ticket_id),onKeyDown:wt=>{(wt.key==="Enter"||wt.key===" ")&&(wt.preventDefault(),Sr(Y.ticket_id))},tabIndex:0,"aria-label":`View ticket ${Y.ticket_number}`,style:{cursor:"pointer",transition:r.transitions.fast,backgroundColor:Je?r.colors.accent.warningLight:"transparent",borderBottom:De<ri.length-1?`1px solid ${r.colors.border.light}`:"none"},onMouseEnter:wt=>wt.currentTarget.style.backgroundColor=Je?r.colors.accent.warningLight:r.colors.background.hover,onMouseLeave:wt=>wt.currentTarget.style.backgroundColor=Je?r.colors.accent.warningLight:"transparent",children:[l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",minWidth:"100px",width:"100px"},children:l.jsxs("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.bold,color:r.colors.accent.info},children:["#",Y.ticket_number]})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,minWidth:"300px"},children:l.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:rt(Y.subject,60)})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:l.jsxs(Xe,{color:Ue.color,children:[l.jsx(kt,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),Ue.label]})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:l.jsxs(Xe,{color:Fe.color,children:[l.jsx(zt,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),Fe.label]})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`},children:l.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary},children:Y.customer_name||"N/A"})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:ir(Y.updated_at||Y.created_at)}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:Je&&l.jsx(Xe,{color:"orange",children:Y.unread_customer_comments})})]},Y.ticket_id)})})]})}),F&&F.totalCount>0&&l.jsx(mc,{currentPage:F.page,totalPages:F.totalPages,pageSize:F.limit,totalCount:F.totalCount,onPageChange:ei,onPageSizeChange:Pi,loading:j||_})]})]}),p==="closed"&&l.jsxs("div",{role:"tabpanel",id:"closed-tab-panel","aria-labelledby":"closed-tab",children:[$e&&l.jsx("div",{role:"status","aria-live":"polite",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",overflow:"hidden"},children:"Loading closed tickets..."}),l.jsxs(Qe,{children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.lg},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Closed Tickets"}),l.jsx(Xe,{color:"gray",children:Ee?.totalCount||0})]}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:"Resolved, closed, and cancelled tickets"})]}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.md,alignItems:"flex-end"},children:[l.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[l.jsx("label",{htmlFor:"closed-tickets-search",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Search"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(pi,{size:16,"aria-hidden":"true",style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"}}),l.jsx("input",{type:"text",id:"closed-tickets-search",placeholder:"Ticket #, subject, or customer",value:J,onChange:Y=>q(Y.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,lineHeight:r.lineHeight.normal,outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast}})]})]}),l.jsxs("div",{style:{minWidth:"140px"},children:[l.jsx("label",{htmlFor:"closed-status-filter",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Status"}),l.jsxs("select",{id:"closed-status-filter",value:Ze,onChange:Y=>{X(Y.target.value),se(1)},style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[l.jsx("option",{value:"all",children:"All Closed"}),l.jsx("option",{value:"resolved",children:"Resolved"}),l.jsx("option",{value:"closed",children:"Closed"}),l.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),l.jsxs("div",{style:{minWidth:"150px"},children:[l.jsx("label",{htmlFor:"closed-date-from",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Date From"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(hx,{size:16,"aria-hidden":"true",style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"}}),l.jsx("input",{type:"date",id:"closed-date-from",value:Me,onChange:Y=>{He(Y.target.value),se(1)},style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast}})]})]}),l.jsxs("div",{style:{minWidth:"150px"},children:[l.jsx("label",{htmlFor:"closed-date-to",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Date To"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(hx,{size:16,"aria-hidden":"true",style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"}}),l.jsx("input",{type:"date",id:"closed-date-to",value:Be,onChange:Y=>{at(Y.target.value),se(1)},style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast}})]})]}),l.jsxs("div",{style:{minWidth:"150px"},children:[l.jsx("label",{htmlFor:"closed-sort-by",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Sort By"}),l.jsxs("select",{id:"closed-sort-by",value:Pe,onChange:Y=>{mt(Y.target.value),se(1)},style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[l.jsx("option",{value:"closed_date",children:"Closed Date"}),l.jsx("option",{value:"created_at",children:"Created Date"}),l.jsx("option",{value:"priority",children:"Priority"}),l.jsx("option",{value:"ticket_number",children:"Ticket #"})]})]}),_e&&l.jsxs("button",{onClick:B,style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:"transparent",border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:r.transitions.fast,height:"38px",boxSizing:"border-box"},onMouseEnter:Y=>{Y.currentTarget.style.backgroundColor=r.colors.background.tertiary,Y.currentTarget.style.color=r.colors.text.primary},onMouseLeave:Y=>{Y.currentTarget.style.backgroundColor="transparent",Y.currentTarget.style.color=r.colors.text.secondary},children:[l.jsx(YE,{size:14}),"Clear Filters"]})]})]}),l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`1px solid ${r.colors.border.light}`},children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"100px",width:"100px"},children:"Ticket #"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"220px"},children:"Subject"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Status"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Priority"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Customer"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Closed"}),l.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"180px"},children:"Resolution"})]})}),l.jsx("tbody",{style:{backgroundColor:r.colors.background.secondary},children:$e?l.jsxs(l.Fragment,{children:[l.jsx(Ni,{}),l.jsx(Ni,{}),l.jsx(Ni,{}),l.jsx(Ni,{}),l.jsx(Ni,{})]}):N.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",style:{padding:0},children:l.jsxs("div",{style:{textAlign:"center",padding:`${r.spacing["2xl"]} ${r.spacing.lg}`,backgroundColor:r.colors.background.primary},children:[l.jsx(M2,{size:48,style:{color:r.colors.border.medium,margin:"0 auto",marginBottom:r.spacing.md}}),l.jsx("p",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:"No closed tickets found"}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:_e?"Try adjusting your filters to find more tickets":"Closed tickets will appear here once resolved"})]})})}):N.map((Y,De)=>{const Ue=_t(Y.status),Fe=xt(Y.priority),kt=Ue.icon,zt=Fe.icon;return l.jsxs("tr",{onClick:()=>Sr(Y.ticket_id),onKeyDown:Je=>{(Je.key==="Enter"||Je.key===" ")&&(Je.preventDefault(),Sr(Y.ticket_id))},tabIndex:0,"aria-label":`View ticket ${Y.ticket_number}`,style:{cursor:"pointer",transition:r.transitions.fast,borderBottom:De<N.length-1?`1px solid ${r.colors.border.light}`:"none"},onMouseEnter:Je=>Je.currentTarget.style.backgroundColor=r.colors.background.hover,onMouseLeave:Je=>Je.currentTarget.style.backgroundColor="transparent",children:[l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",minWidth:"100px",width:"100px"},children:l.jsxs("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.bold,color:r.colors.accent.info},children:["#",Y.ticket_number]})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,minWidth:"220px"},children:l.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:rt(Y.subject,50)})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:l.jsxs(Xe,{color:Ue.color,children:[l.jsx(kt,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),Ue.label]})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:l.jsxs(Xe,{color:Fe.color,children:[l.jsx(zt,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),Fe.label]})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`},children:l.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary},children:Y.customer_name||"N/A"})}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:pn(Y.closed_date||Y.updated_at)}),l.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,minWidth:"180px"},children:l.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:rt(Y.resolution_text||Y.resolution_summary||"-",40)})})]},Y.ticket_id)})})]})}),Ee&&Ee.totalCount>0&&l.jsx(mc,{currentPage:Ee.page,totalPages:Ee.totalPages,pageSize:Ee.limit,totalCount:Ee.totalCount,onPageChange:ti,onPageSizeChange:$i,loading:$e||_})]})]})]})]})},li="",sn=(e,t=!1)=>{const n={display:"inline-flex",alignItems:"center",justifyContent:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:t?"not-allowed":"pointer",opacity:t?.5:1,transition:`all ${r.transitions.fast}`,border:"none",whiteSpace:"nowrap"},i={primary:{backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse},success:{backgroundColor:r.colors.accent.success,color:r.colors.text.inverse},warning:{backgroundColor:r.colors.accent.warning,color:r.colors.text.inverse},danger:{backgroundColor:r.colors.accent.danger,color:r.colors.text.inverse},secondary:{backgroundColor:r.colors.background.tertiary,color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`},ghost:{backgroundColor:"transparent",color:r.colors.text.secondary},purple:{backgroundColor:r.colors.chart.purple,color:r.colors.text.inverse}};return{...n,...i[e]}},Md=({icon:e,title:t,badge:n,action:i})=>l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.lg},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[e&&l.jsx(e,{size:18,style:{color:r.colors.text.tertiary}}),l.jsx("h3",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:t}),n!==void 0&&l.jsx(Xe,{variant:"primary",size:"sm",soft:!0,children:n})]}),i]}),Dd=({icon:e,label:t,value:n,href:i,isEmail:s})=>{const c=i?l.jsx("a",{href:i,style:{color:r.colors.accent.primary,fontSize:r.fontSize.sm,textDecoration:"none",wordBreak:s?"break-all":"normal",transition:`color ${r.transitions.fast}`},onMouseEnter:d=>d.currentTarget.style.textDecoration="underline",onMouseLeave:d=>d.currentTarget.style.textDecoration="none",children:n}):l.jsx("span",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:n});return l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} 0`},children:[l.jsx(e,{size:18,style:{color:r.colors.text.tertiary,flexShrink:0}}),t&&l.jsxs("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,minWidth:"60px"},children:[t,":"]}),c]})},RV=1e4,PV=`
@keyframes resolutionShine {
  0% {
    background-position: -200% center;
    box-shadow: 0 0 0 0 rgba(5, 150, 105, 0);
  }
  15% {
    box-shadow: 0 0 12px 2px rgba(5, 150, 105, 0.4);
  }
  30% {
    background-position: 200% center;
    box-shadow: 0 0 8px 1px rgba(5, 150, 105, 0.3);
  }
  50% {
    box-shadow: 0 0 0 0 rgba(5, 150, 105, 0);
  }
  65% {
    box-shadow: 0 0 10px 2px rgba(5, 150, 105, 0.35);
  }
  80% {
    box-shadow: 0 0 6px 1px rgba(5, 150, 105, 0.2);
  }
  100% {
    background-position: -200% center;
    box-shadow: 0 0 0 0 rgba(5, 150, 105, 0);
  }
}
`;if(typeof document<"u"){const e="resolution-shine-keyframes";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.textContent=PV,document.head.appendChild(t)}}const $V=()=>{const{uuid:e}=Lf(),t=Di(),{showToast:n}=bp(),{user:i,logout:s,hasRole:c}=fn(),d=x.useRef(null),p=x.useRef(null),h=x.useRef(null),g=x.useRef(null),m=x.useRef(null),v=x.useRef(null),S=x.useRef(null),j=x.useRef(null),k=x.useRef(0),w=x.useRef(!0),[C,_]=x.useState(null),[E,A]=x.useState(!0),[T,O]=x.useState(!1),[P,D]=x.useState(!1),[I,Q]=x.useState(""),[fe,ce]=x.useState(!1),[Z,Se]=x.useState(!1),[he,pe]=x.useState(!1),[U,F]=x.useState(!1),[ge,je]=x.useState(0),[Oe,$]=x.useState(!1),[L,ue]=x.useState([]),[xe,ye]=x.useState({type:null,url:null}),[K,le]=x.useState(!1),[ke,N]=x.useState([]),[ve,ee]=x.useState(!1),[se,Ne]=x.useState(!1),[re,Ee]=x.useState(!1),[ze,$e]=x.useState(""),[Ye,Ze]=x.useState(!1),[X,Te]=x.useState(!1),[ot,J]=x.useState(!1),[q,Me]=x.useState(window.innerWidth<768),He=x.useCallback(async(B=!1)=>{try{B||A(!0);const _e=await fetch(`${li}/api/tickets/${e}`,{credentials:"include"});if(_e.status===404){n("Ticket not found","error"),t("/tickets");return}if(!_e.ok)throw new Error("Failed to fetch ticket");const _t=await _e.json();_(_t);const xt=_t.comments?.length||0;B&&k.current>0&&xt>k.current&&F(!0),k.current=xt,je(xt)}catch(_e){console.error("Error fetching ticket:",_e),n("Failed to load ticket","error")}finally{A(!1)}},[e,t,n]),Be=x.useCallback(async()=>{try{const B=await fetch(`${li}/api/tickets/${e}/attachments`,{credentials:"include"});if(B.ok){const _e=await B.json();ue(_e||[])}}catch(B){console.error("Error fetching attachments:",B)}},[e]),at=x.useMemo(()=>{const B=new Map;return L.forEach(_e=>{B.has(_e.comment_id)||B.set(_e.comment_id,[]),B.get(_e.comment_id).push(_e)}),B},[L]),Pe=x.useCallback(async()=>{ee(!0);try{const B=await fetch(`${li}/api/tickets/${e}/similar?limit=5`,{credentials:"include"});if(!B.ok){if(B.status===403){n("You do not have permission to view similar tickets","error");return}if(B.status===404){n("Ticket not found","error");return}throw new Error(`Failed to fetch similar tickets: ${B.status}`)}const _e=await B.json();N(_e),le(!0)}catch(B){console.error("Error fetching similar tickets:",B),n("Failed to load similar tickets","error")}finally{ee(!1)}},[e,n]),mt=x.useCallback(B=>{Q(B),ce(!0),le(!1),Ne(!0),setTimeout(()=>{w.current&&Ne(!1)},3e3),setTimeout(()=>{w.current&&p.current?.scrollIntoView({behavior:"smooth",block:"center"})},100),n("Resolution copied - review and submit when ready","success")},[n]);x.useEffect(()=>(w.current=!0,()=>{w.current=!1}),[]),x.useEffect(()=>{He(),Be()},[He,Be]),x.useEffect(()=>{if(Oe)return;const B=setInterval(()=>{He(!0)},RV);return()=>clearInterval(B)},[He,Oe]),x.useEffect(()=>{C?.id&&fetch(`${li}/api/tickets/${C.id}/mark-read`,{method:"POST",credentials:"include"}).catch(B=>console.error("Error marking comments read:",B))},[C?.id]),x.useEffect(()=>{const B=_e=>{_e.key==="Escape"&&(re&&!X&&(Ee(!1),m.current?.focus()),K&&(le(!1),h.current?.focus()),xe.type&&(ye({type:null,url:null}),S.current?.focus()))};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[re,K,xe.type,X]),x.useEffect(()=>{if(!K)return;g.current?.focus();const B=_e=>{if(_e.key!=="Tab")return;const _t=document.getElementById("similar-tickets-modal");if(!_t)return;const xt=_t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),dt=xt[0],ir=xt[xt.length-1];_e.shiftKey&&document.activeElement===dt?(_e.preventDefault(),ir?.focus()):!_e.shiftKey&&document.activeElement===ir&&(_e.preventDefault(),dt?.focus())};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[K]),x.useEffect(()=>{if(!re)return;v.current?.focus();const B=_e=>{if(_e.key!=="Tab")return;const _t=document.getElementById("resolve-modal");if(!_t)return;const xt=_t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),dt=xt[0],ir=xt[xt.length-1];_e.shiftKey&&document.activeElement===dt?(_e.preventDefault(),ir?.focus()):!_e.shiftKey&&document.activeElement===ir&&(_e.preventDefault(),dt?.focus())};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[re]),x.useEffect(()=>{if(!xe.type)return;j.current?.focus();const B=_e=>{if(_e.key!=="Tab")return;const _t=document.getElementById("lightbox-modal");if(!_t)return;const xt=_t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"]), video'),dt=xt[0],ir=xt[xt.length-1];_e.shiftKey&&document.activeElement===dt?(_e.preventDefault(),ir?.focus()):!_e.shiftKey&&document.activeElement===ir&&(_e.preventDefault(),dt?.focus())};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[xe.type]),x.useEffect(()=>{const B=()=>{Me(window.innerWidth<768)};return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const nr=()=>{F(!1),He(),setTimeout(()=>{d.current?.scrollIntoView({behavior:"smooth"})},100)},Jr=x.useCallback(async B=>{if(B!==C?.priority){pe(!0);try{if(!(await fetch(`${li}/api/tickets/${e}/priority`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({priority:B})})).ok)throw new Error("Failed to update priority");n("Priority updated successfully","success"),await He()}catch(_e){console.error("Error updating priority:",_e),n("Failed to update priority","error")}finally{pe(!1)}}},[C?.priority,e,n,He]),$t=x.useCallback(async B=>{if(B===C?.status){n("Status unchanged","info");return}O(!0);try{if(!(await fetch(`${li}/api/tickets/${e}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:B})})).ok)throw new Error("Failed to update status");n("Status updated successfully","success"),await He()}catch(_e){console.error("Error updating status:",_e),n("Failed to update status","error")}finally{O(!1)}},[C?.status,e,n,He]),yt=x.useCallback(async B=>{if(B.preventDefault(),!I.trim()||I.trim().length<10){n("Comment must be at least 10 characters","error");return}Se(!0);try{if(!(await fetch(`${li}/api/tickets/${e}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({comment_text:I,is_resolution:fe})})).ok)throw new Error("Failed to add comment");if(fe&&C?.status!=="resolved")try{(await fetch(`${li}/api/tickets/${e}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"resolved",reason:"Resolution comment added"})})).ok?n("Resolution added and ticket resolved","success"):(console.error("Failed to update ticket status to resolved"),n("Resolution added but failed to update ticket status","warning"))}catch(_t){console.error("Error updating ticket status:",_t),n("Resolution added but failed to update ticket status","warning")}else n("Comment added successfully","success");Q(""),ce(!1),$(!1),await He(),setTimeout(()=>{d.current?.scrollIntoView({behavior:"smooth"})},100)}catch(_e){console.error("Error adding comment:",_e),n("Failed to add comment","error")}finally{Se(!1)}},[I,fe,C?.status,e,n,He]),ie=x.useCallback(async()=>{O(!0);try{const B=await fetch(`${li}/api/tickets/${e}/assign-to-me`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!B.ok){let _e;switch(B.status){case 403:_e="You do not have permission to assign this ticket";break;case 404:_e="Ticket not found. It may have been deleted.";break;case 409:_e="This ticket has already been assigned to someone else";break;default:_e="Failed to assign ticket. Please try again."}throw new Error(_e)}n("Ticket assigned to you","success"),await He()}catch(B){console.error("Error assigning ticket:",B),n(B.message||"Failed to assign ticket","error")}finally{O(!1)}},[e,n,He]),V=x.useCallback(()=>{C?.resolution||C?.comments?.some(_e=>_e.is_resolution)?$t("resolved"):($e(""),Ze(!1),J(!1),Ee(!0))},[C?.resolution,C?.comments,$t]),Ae=x.useCallback(async()=>{Te(!0);try{if(ze.trim()&&!Ye&&!ot){if(!(await fetch(`${li}/api/tickets/${e}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({comment_text:ze,is_resolution:!0})})).ok)throw new Error("Failed to add resolution comment");J(!0)}if(!(await fetch(`${li}/api/tickets/${e}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"resolved"})})).ok)throw new Error("Failed to update status");n("Ticket resolved successfully","success"),Ee(!1),$e(""),Ze(!1),J(!1),await He()}catch(B){console.error("Error resolving ticket:",B),ot&&B.message==="Failed to update status"?n("Resolution comment saved. Failed to update status - please try again.","error"):n(B.message||"Failed to resolve ticket","error")}finally{Te(!1)}},[ze,Ye,ot,e,n,He]),et=B=>({open:{variant:"info",icon:_n,label:"Open"},assigned:{variant:"secondary",icon:hc,label:"Assigned"},in_progress:{variant:"warning",icon:ro,label:"In Progress"},waiting_customer:{variant:"warning",icon:ki,label:"Waiting on Customer"},resolved:{variant:"success",icon:It,label:"Resolved"},closed:{variant:"default",icon:Ut,label:"Closed"},cancelled:{variant:"danger",icon:Ec,label:"Cancelled"}})[B]||{variant:"default",icon:_n,label:B},Nt=B=>({urgent:{variant:"danger",icon:gi,label:"Urgent"},high:{variant:"warning",icon:Vl,label:"High"},normal:{variant:"info",icon:Ko,label:"Normal"},low:{variant:"default",icon:Yl,label:"Low"}})[B]||{variant:"default",icon:Ko,label:B},er=B=>B?{high:{variant:"danger",label:"High Urgency",pulse:!0},medium:{variant:"warning",label:"Medium Urgency",pulse:!1},low:{variant:"success",label:"Low Urgency",pulse:!1}}[B]||{variant:"default",label:B,pulse:!1}:null,st=B=>{if(!B)return"N/A";const _e=new Date(B),xt=new Date-_e,dt=Math.floor(xt/6e4),ir=Math.floor(xt/36e5),pn=Math.floor(xt/864e5);return dt<1?"Just now":dt<60?`${dt} min${dt>1?"s":""} ago`:ir<24?`${ir} hour${ir>1?"s":""} ago`:pn<7?`${pn} day${pn>1?"s":""} ago`:_e.toLocaleDateString()+" "+_e.toLocaleTimeString()},Rr=B=>B?new Date(B).toLocaleString():"N/A",Sr=B=>({customer:"C",tech:"T",system:"S"})[B]||"?",Vr={wrapper:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.page},main:{marginLeft:q?0:"260px",flex:1,padding:q?r.spacing.lg:r.spacing["2xl"],maxWidth:"1400px"}};if(E)return l.jsxs("div",{style:Vr.wrapper,children:[l.jsx(br,{user:i,onLogout:s,hasRole:c}),l.jsx("div",{style:Vr.main,children:l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xl},children:[l.jsx("div",{style:{height:"180px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.xl,animation:"pulse 2s ease-in-out infinite"}}),l.jsx("div",{style:{height:"120px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.xl,animation:"pulse 2s ease-in-out infinite",animationDelay:"0.1s"}}),l.jsx("div",{style:{height:"400px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.xl,animation:"pulse 2s ease-in-out infinite",animationDelay:"0.2s"}})]})})]});if(!C)return l.jsxs("div",{style:Vr.wrapper,children:[l.jsx(br,{user:i,onLogout:s,hasRole:c}),l.jsx("div",{style:{...Vr.main,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{style:{textAlign:"center",maxWidth:"400px"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:r.radius.full,backgroundColor:r.colors.background.tertiary,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",marginBottom:r.spacing.xl},children:l.jsx(Vn,{size:40,style:{color:r.colors.text.tertiary}})}),l.jsx("h2",{style:{fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,marginBottom:r.spacing.sm},children:"Ticket Not Found"}),l.jsx("p",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.base,marginBottom:r.spacing.xl,lineHeight:r.lineHeight.relaxed},children:"The ticket you are looking for does not exist or you do not have permission to view it."}),l.jsxs("button",{onClick:()=>t("/tickets"),style:sn("primary"),onMouseEnter:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primaryHover,onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[l.jsx(Mf,{size:16}),"Back to Tickets"]})]})})]});const en=et(C.status),xi=Nt(C.priority),ei=er(C.urgency),Pi=en.icon,ti=xi.icon,$i={page:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.page},main:{marginLeft:q?0:"260px",flex:1,padding:q?r.spacing.lg:r.spacing["2xl"],display:"flex",flexDirection:"column",gap:q?r.spacing.lg:r.spacing.xl,maxWidth:"1400px"},newCommentsBanner:{padding:q?r.spacing.md:r.spacing.lg,backgroundColor:r.colors.accent.primaryLight,border:`1px solid ${r.colors.accent.primary}20`,borderRadius:r.radius.lg,display:"flex",alignItems:q?"flex-start":"center",justifyContent:"space-between",flexDirection:q?"column":"row",gap:r.spacing.md}};return l.jsxs("div",{style:$i.page,children:[l.jsx(br,{user:i,onLogout:s,hasRole:c}),l.jsxs("div",{style:$i.main,children:[U&&l.jsxs("div",{style:$i.newCommentsBanner,children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(ki,{size:20,style:{color:r.colors.accent.primary}}),l.jsx("span",{style:{color:r.colors.accent.primary,fontWeight:r.fontWeight.medium,fontSize:r.fontSize.sm},children:"New comments available"})]}),l.jsx("button",{onClick:nr,style:sn("primary"),onMouseEnter:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primaryHover,onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primary,children:"View New Comments"})]}),l.jsx(Qe,{children:l.jsxs("div",{style:{padding:r.spacing.xl},children:[l.jsxs("button",{onClick:()=>t("/tickets"),style:{...sn("ghost"),padding:`${r.spacing.xs} 0`,marginBottom:r.spacing.lg,gap:r.spacing.xs},onMouseEnter:B=>B.currentTarget.style.color=r.colors.text.primary,onMouseLeave:B=>B.currentTarget.style.color=r.colors.text.secondary,children:[l.jsx(Mf,{size:16}),"Back to Tickets"]}),l.jsxs("div",{style:{marginBottom:r.spacing.xl},children:[l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexWrap:"wrap",gap:r.spacing.md,marginBottom:r.spacing.sm},children:[l.jsxs("h1",{style:{color:r.colors.text.primary,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,margin:0,lineHeight:r.lineHeight.tight},children:["Ticket #",C.ticket_number]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,flexWrap:"wrap"},children:[l.jsx(Xe,{variant:en.variant,size:"md",icon:l.jsx(Pi,{}),children:en.label}),ei&&l.jsx(Xe,{variant:ei.variant,size:"md",style:{animation:ei.pulse?"pulse 2s infinite":"none"},children:ei.label})]})]}),l.jsx("h2",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium,margin:0,marginBottom:r.spacing.md,lineHeight:r.lineHeight.normal},children:C.subject}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg,flexWrap:"wrap"},children:[C.van_info&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[l.jsx(to,{size:14}),l.jsx("span",{children:C.van_info})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[l.jsx(_n,{size:14}),l.jsxs("span",{children:["Created ",Rr(C.created_at)]})]})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:r.spacing.md,paddingTop:r.spacing.lg,borderTop:`1px solid ${r.colors.border.light}`},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"Priority:"}),l.jsxs("div",{style:{position:"relative",display:"inline-flex",alignItems:"center"},children:[l.jsxs("select",{"aria-label":"Priority",value:C.priority,onChange:B=>Jr(B.target.value),disabled:he,style:{padding:`${r.spacing.xs} ${r.spacing["2xl"]} ${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:he?"not-allowed":"pointer",opacity:he?.5:1,outline:"none",appearance:"none",transition:`all ${r.transitions.fast}`},onFocus:B=>B.currentTarget.style.borderColor=r.colors.border.focus,onBlur:B=>B.currentTarget.style.borderColor=r.colors.border.medium,children:[l.jsx("option",{value:"low",children:"Low"}),l.jsx("option",{value:"normal",children:"Normal"}),l.jsx("option",{value:"high",children:"High"}),l.jsx("option",{value:"urgent",children:"Urgent"})]}),l.jsx("div",{style:{position:"absolute",right:r.spacing.sm,pointerEvents:"none",display:"flex",alignItems:"center"},children:l.jsx(ti,{size:14,style:{color:xi.variant==="danger"?r.colors.accent.danger:xi.variant==="warning"?r.colors.accent.warning:xi.variant==="info"?r.colors.accent.info:r.colors.text.tertiary}})})]})]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,flexWrap:"wrap"},children:[(!C.assigned_to_name||C.assigned_to_name!==i?.email)&&l.jsxs("button",{onClick:ie,disabled:T,style:sn("primary",T),onMouseEnter:B=>!T&&(B.currentTarget.style.backgroundColor=r.colors.accent.primaryHover),onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[l.jsx(hc,{size:16}),T?"Assigning...":C.assigned_to_name?"Reassign to Me":"Assign to Me"]}),C.status!=="in_progress"&&C.status!=="resolved"&&C.status!=="closed"&&l.jsxs("button",{onClick:()=>$t("in_progress"),disabled:T,style:sn("warning",T),onMouseEnter:B=>!T&&(B.currentTarget.style.opacity="0.9"),onMouseLeave:B=>B.currentTarget.style.opacity=T?"0.5":"1",children:[l.jsx(ro,{size:16}),"Start Work"]}),C.status==="in_progress"&&l.jsxs("button",{onClick:()=>$t("waiting_customer"),disabled:T,style:{...sn("secondary",T),backgroundColor:r.colors.accent.warningLight,color:r.colors.accent.warning,border:`1px solid ${r.colors.accent.warning}40`},onMouseEnter:B=>!T&&(B.currentTarget.style.backgroundColor=r.colors.accent.warning)&&(B.currentTarget.style.color=r.colors.text.inverse),onMouseLeave:B=>{B.currentTarget.style.backgroundColor=r.colors.accent.warningLight,B.currentTarget.style.color=r.colors.accent.warning},children:[l.jsx(ki,{size:16}),"Waiting on Customer"]}),C.status!=="resolved"&&C.status!=="closed"&&l.jsxs("button",{ref:m,onClick:V,disabled:T,style:sn("success",T),onMouseEnter:B=>!T&&(B.currentTarget.style.backgroundColor=r.colors.accent.successHover),onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.accent.success,children:[l.jsx(It,{size:16,"aria-hidden":"true"}),"Resolve Ticket"]}),C.status==="resolved"&&l.jsxs("button",{onClick:()=>$t("closed"),disabled:T,style:{...sn("secondary",T)},onMouseEnter:B=>!T&&(B.currentTarget.style.backgroundColor=r.colors.background.hover),onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.background.tertiary,children:[l.jsx(Ut,{size:16}),"Close Ticket"]}),l.jsxs("button",{ref:h,onClick:Pe,disabled:ve,style:sn("purple",ve),onMouseEnter:B=>!ve&&(B.currentTarget.style.opacity="0.9"),onMouseLeave:B=>B.currentTarget.style.opacity=ve?"0.5":"1",children:[l.jsx(py,{size:16,"aria-hidden":"true"}),l.jsx("span",{"aria-live":"polite",children:ve?"Searching...":"Suggest Solutions"})]})]})]})]})}),l.jsx(Qe,{children:l.jsxs("div",{style:{padding:r.spacing.xl},children:[l.jsx(Md,{icon:Yo,title:"Ticket Details"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:r.spacing.xl},children:[l.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg},children:[l.jsx("h4",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.md},children:"Customer"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xs},children:[l.jsx(Dd,{icon:Yo,value:C.customer_name||"N/A"}),C.customer_phone&&l.jsx(Dd,{icon:cs,value:C.customer_phone,href:`tel:${C.customer_phone}`}),C.customer_email&&l.jsx(Dd,{icon:vp,value:C.customer_email,href:`mailto:${C.customer_email}`,isEmail:!0})]})]}),l.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg},children:[l.jsx("h4",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.md},children:"Vehicle"}),C.van_info?l.jsx(Dd,{icon:to,value:C.van_info}):l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm,fontStyle:"italic"},children:"No vehicle assigned"})]}),l.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg},children:[l.jsx("h4",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.md},children:"Assigned To"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:r.radius.full,backgroundColor:C.assigned_to_name?r.colors.accent.primaryLight:r.colors.background.hover,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:l.jsx(hc,{size:16,style:{color:C.assigned_to_name?r.colors.accent.primary:r.colors.text.tertiary}})}),l.jsxs("div",{children:[l.jsx("div",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:C.assigned_to_name||"Unassigned"}),C.assigned_at&&l.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs},children:st(C.assigned_at)})]})]})]})]})]})}),C.description&&C.description!==C.subject&&l.jsx(Qe,{children:l.jsxs("div",{style:{padding:r.spacing.xl},children:[l.jsx(Md,{icon:cK,title:"Description"}),l.jsx("div",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,backgroundColor:r.colors.background.tertiary,padding:r.spacing.lg,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.accent.primary}`},children:C.description})]})}),(C.category_name||C.session_id||C.related_ticket_id)&&l.jsx(Qe,{children:l.jsxs("div",{style:{padding:r.spacing.xl},children:[l.jsx(Md,{icon:jK,title:"Related"}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.lg,flexWrap:"wrap"},children:[C.category_name&&l.jsx(Xe,{variant:"primary",size:"md",soft:!0,children:C.category_name}),C.session_id&&l.jsxs("a",{href:`/sessions/${C.session_id}`,style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,textDecoration:"none",padding:`${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.accent.primaryLight,borderRadius:r.radius.md,transition:`all ${r.transitions.fast}`},onMouseEnter:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primaryMuted,onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primaryLight,children:[l.jsx(_i,{size:14}),"View Session"]}),C.related_ticket_id&&l.jsxs("a",{href:`/tickets/${C.related_ticket_id}`,style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,textDecoration:"none",padding:`${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.accent.primaryLight,borderRadius:r.radius.md,transition:`all ${r.transitions.fast}`},onMouseEnter:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primaryMuted,onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primaryLight,children:[l.jsx(_i,{size:14}),"Related Ticket #",C.related_ticket_number]})]})]})}),(C.status==="resolved"||C.status==="closed")&&C.resolution&&l.jsx(Qe,{style:{backgroundColor:r.colors.accent.successLight,border:`1px solid ${r.colors.accent.success}30`},children:l.jsxs("div",{style:{padding:r.spacing.xl},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:r.spacing.lg},children:[l.jsx("div",{style:{width:"36px",height:"36px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.success,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(It,{size:20,style:{color:r.colors.text.inverse}})}),l.jsxs("div",{children:[l.jsx("h3",{style:{color:r.colors.accent.success,fontSize:r.fontSize.base,fontWeight:r.fontWeight.semibold,margin:0},children:"Resolution"}),C.resolved_by&&l.jsxs("p",{style:{color:r.colors.accent.success,fontSize:r.fontSize.xs,margin:0,opacity:.8},children:["by ",C.resolved_by," ",C.resolved_at&&` - ${st(C.resolved_at)}`]})]})]}),l.jsx("div",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,padding:r.spacing.lg,backgroundColor:r.colors.background.secondary,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.accent.success}`},children:C.resolution})]})}),l.jsx(Qe,{style:{display:"flex",flexDirection:"column",flexGrow:1},children:l.jsxs("div",{style:{padding:r.spacing.xl},children:[l.jsx(Md,{icon:ki,title:"Activity & Comments",badge:C.comments?.length||0}),l.jsx("div",{style:{maxHeight:"600px",overflowY:"auto",marginBottom:r.spacing.xl,paddingRight:r.spacing.sm},children:C.comments&&C.comments.length>0?l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:[C.comments.map(B=>{const _e=B.author_type==="customer",_t=B.author_type==="tech";return B.author_type,l.jsx("div",{style:{padding:r.spacing.lg,borderRadius:r.radius.lg,backgroundColor:_e?r.colors.accent.primaryLight:_t?r.colors.background.secondary:r.colors.accent.warningLight,border:`1px solid ${_e?`${r.colors.accent.primary}20`:_t?r.colors.border.light:`${r.colors.accent.warning}30`}`,transition:`all ${r.transitions.fast}`},children:l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:r.radius.full,display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.text.inverse,fontWeight:r.fontWeight.bold,fontSize:r.fontSize.sm,backgroundColor:_e?r.colors.accent.info:_t?r.colors.accent.primary:r.colors.accent.warning,flexShrink:0},children:Sr(B.author_type)}),l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:r.spacing.sm,flexWrap:"wrap"},children:[l.jsx("span",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold},children:B.author_name}),l.jsx(Xe,{variant:_e?"info":_t?"primary":"warning",size:"sm",soft:!0,children:_e?"Customer":_t?"Tech":"System"}),B.is_resolution&&l.jsx(Xe,{variant:"success",size:"sm",icon:l.jsx(It,{}),children:"Resolution"}),l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs},children:st(B.created_at)})]}),l.jsx("p",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,margin:0,wordBreak:"break-word"},children:B.comment_text}),(()=>{const xt=at.get(B.id)||[];return xt.length===0?null:l.jsx("div",{style:{marginTop:r.spacing.md,display:"flex",flexWrap:"wrap",gap:r.spacing.sm},children:xt.map(dt=>{const ir=dt.mime_type?.startsWith("video/"),pn=dt.mime_type?.startsWith("image/");return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xs},children:[ir?l.jsxs("div",{role:"button",tabIndex:0,"aria-label":`Play video: ${dt.original_filename||"Video attachment"}`,onClick:rt=>{S.current=rt.currentTarget,ye({type:"video",url:dt.public_url})},onKeyDown:rt=>{(rt.key==="Enter"||rt.key===" ")&&(rt.preventDefault(),S.current=rt.currentTarget,ye({type:"video",url:dt.public_url}))},style:{position:"relative",cursor:"pointer",borderRadius:r.radius.md,overflow:"hidden",border:`1px solid ${r.colors.border.medium}`,transition:`all ${r.transitions.fast}`},onMouseOver:rt=>{rt.currentTarget.style.transform="scale(1.02)",rt.currentTarget.style.boxShadow=r.shadows.md},onMouseOut:rt=>{rt.currentTarget.style.transform="scale(1)",rt.currentTarget.style.boxShadow="none"},children:[l.jsx("video",{src:dt.public_url,"aria-hidden":"true",style:{maxWidth:"280px",maxHeight:"180px",display:"block"}}),l.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",transition:`background-color ${r.transitions.fast}`},children:l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:r.radius.full,backgroundColor:r.colors.background.secondary,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:r.shadows.md},children:l.jsx($f,{size:20,fill:r.colors.accent.primary,color:r.colors.accent.primary})})})]}):pn?l.jsx("img",{src:dt.public_url,alt:dt.original_filename||"Attachment",role:"button",tabIndex:0,onClick:rt=>{S.current=rt.currentTarget,ye({type:"image",url:dt.public_url})},onKeyDown:rt=>{(rt.key==="Enter"||rt.key===" ")&&(rt.preventDefault(),S.current=rt.currentTarget,ye({type:"image",url:dt.public_url}))},style:{maxWidth:"180px",maxHeight:"140px",objectFit:"cover",borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,cursor:"pointer",transition:`all ${r.transitions.fast}`},onMouseOver:rt=>{rt.target.style.transform="scale(1.02)",rt.target.style.boxShadow=r.shadows.md},onMouseOut:rt=>{rt.target.style.transform="scale(1)",rt.target.style.boxShadow="none"}}):l.jsxs("a",{href:dt.public_url,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.primaryLight,borderRadius:r.radius.md,textDecoration:"none"},children:[l.jsx(_i,{size:14}),dt.original_filename||"Download attachment"]}),l.jsxs("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(mx,{size:12}),dt.uploaded_by_type==="customer"?"From customer":"From technician"]})]},dt.id)})})})()]})]})},B.id)}),l.jsx("div",{ref:d})]}):l.jsxs("div",{style:{textAlign:"center",padding:r.spacing["3xl"],color:r.colors.text.tertiary},children:[l.jsx("div",{style:{width:"64px",height:"64px",borderRadius:r.radius.full,backgroundColor:r.colors.background.tertiary,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",marginBottom:r.spacing.lg},children:l.jsx(ki,{size:28,style:{opacity:.4}})}),l.jsx("p",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,margin:0,marginBottom:r.spacing.xs},children:"No activity yet"}),l.jsx("p",{style:{fontSize:r.fontSize.sm,margin:0},children:"Be the first to add a comment"})]})}),l.jsxs("div",{ref:p,style:{paddingTop:r.spacing.xl,borderTop:`1px solid ${r.colors.border.light}`},children:[l.jsx("label",{htmlFor:"comment-textarea",style:{display:"block",fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,fontSize:r.fontSize.sm,marginBottom:r.spacing.md},children:"Add Comment"}),l.jsxs("form",{onSubmit:yt,style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[l.jsxs("div",{children:[l.jsx("textarea",{id:"comment-textarea",value:I,onChange:B=>Q(B.target.value),onFocus:()=>$(!0),placeholder:"Write a comment...",rows:4,maxLength:2e3,required:!0,style:{width:"100%",padding:r.spacing.lg,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.lg,fontSize:r.fontSize.sm,outline:"none",resize:"vertical",fontFamily:"inherit",lineHeight:r.lineHeight.relaxed,transition:`border-color ${r.transitions.fast}`,boxSizing:"border-box"},onFocusCapture:B=>B.currentTarget.style.borderColor=r.colors.border.focus,onBlur:B=>B.currentTarget.style.borderColor=r.colors.border.medium}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:r.spacing.sm},children:[l.jsx("p",{style:{fontSize:r.fontSize.xs,color:I.length<10?r.colors.text.tertiary:r.colors.accent.success,margin:0},children:I.length<10?`${10-I.length} more characters needed`:"Ready to submit"}),l.jsxs("p",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,margin:0},children:[I.length,"/2000"]})]})]}),l.jsxs("div",{onClick:()=>ce(!fe),role:"checkbox","aria-checked":fe,tabIndex:0,onKeyDown:B=>{(B.key===" "||B.key==="Enter")&&(B.preventDefault(),ce(!fe))},style:{display:"flex",alignItems:"center",gap:r.spacing.md,padding:r.spacing.lg,backgroundColor:fe?r.colors.accent.successLight:r.colors.background.secondary,border:`2px solid ${fe?r.colors.accent.success:r.colors.border.light}`,borderRadius:r.radius.lg,cursor:"pointer",transition:`all ${r.transitions.fast}`,animation:se?"resolutionShine 1.2s ease-in-out 2":"none",backgroundImage:se?"linear-gradient(90deg, transparent 0%, rgba(5, 150, 105, 0.15) 25%, rgba(5, 150, 105, 0.3) 50%, rgba(5, 150, 105, 0.15) 75%, transparent 100%)":"none",backgroundSize:se?"200% 100%":"auto",transform:se?"scale(1.01)":"scale(1)"},children:[l.jsx("div",{style:{width:"22px",height:"22px",borderRadius:r.radius.sm,border:`2px solid ${fe?r.colors.accent.success:r.colors.border.medium}`,backgroundColor:fe?r.colors.accent.success:"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:`all ${r.transitions.fast}`},children:fe&&l.jsx(It,{size:14,style:{color:r.colors.text.inverse}})}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:fe?r.colors.accent.success:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Mark as Resolution"}),l.jsx("div",{style:{fontSize:r.fontSize.xs,color:fe?r.colors.accent.success:r.colors.text.tertiary,lineHeight:r.lineHeight.normal},children:"This comment will be saved as the official resolution for this ticket"})]})]}),l.jsxs("button",{type:"submit",disabled:Z||I.trim().length<10,style:{...sn("primary",Z||I.trim().length<10),alignSelf:"flex-start",padding:`${r.spacing.md} ${r.spacing.xl}`},onMouseEnter:B=>!(Z||I.trim().length<10)&&(B.currentTarget.style.backgroundColor=r.colors.accent.primaryHover),onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[l.jsx(VK,{size:16}),Z?"Adding...":"Add Comment"]})]})]})]})}),C.status_history&&C.status_history.length>0&&l.jsx(Qe,{children:l.jsxs("div",{style:{padding:r.spacing.xl},children:[l.jsxs("button",{onClick:()=>D(!P),"aria-expanded":P,style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",textAlign:"left",background:"none",border:"none",cursor:"pointer",padding:0},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(_n,{size:18,style:{color:r.colors.text.tertiary}}),l.jsx("h3",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:"Status History"}),l.jsx(Xe,{variant:"default",size:"sm",children:C.status_history.length})]}),l.jsx("div",{style:{width:"28px",height:"28px",borderRadius:r.radius.md,backgroundColor:r.colors.background.tertiary,display:"flex",alignItems:"center",justifyContent:"center",transition:`transform ${r.transitions.fast}`,transform:P?"rotate(180deg)":"rotate(0deg)"},children:l.jsx(di,{size:16,style:{color:r.colors.text.tertiary}})})]}),P&&l.jsx("div",{style:{marginTop:r.spacing.xl,display:"flex",flexDirection:"column",gap:r.spacing.sm},children:C.status_history.map((B,_e)=>l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md,padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.border.medium}`},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:r.radius.full,backgroundColor:r.colors.background.secondary,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:l.jsx(_n,{size:14,style:{color:r.colors.text.tertiary}})}),l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,flexWrap:"wrap",marginBottom:r.spacing.sm},children:[l.jsx(Xe,{variant:"default",size:"sm",children:B.from_status}),l.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.lg},children:""}),l.jsx(Xe,{variant:"primary",size:"sm",soft:!0,children:B.to_status})]}),l.jsxs("p",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,margin:0},children:["by ",B.changed_by_name," - ",st(B.changed_at)]}),B.reason&&l.jsxs("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontStyle:"italic",margin:0,marginTop:r.spacing.sm,padding:r.spacing.sm,backgroundColor:r.colors.background.secondary,borderRadius:r.radius.md},children:["",B.reason,""]})]})]},_e))})]})})]}),xe.type&&l.jsxs("div",{id:"lightbox-modal",onClick:()=>{ye({type:null,url:null}),S.current?.focus()},role:"dialog","aria-modal":"true","aria-label":"Media viewer",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.95)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:r.zIndex.modal+10,cursor:"pointer"},children:[l.jsx("button",{ref:j,onClick:()=>{ye({type:null,url:null}),S.current?.focus()},"aria-label":"Close media viewer",style:{position:"absolute",top:r.spacing.xl,right:r.spacing.xl,backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:r.radius.full,width:"44px",height:"44px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:r.colors.text.inverse,transition:`all ${r.transitions.fast}`},onMouseEnter:B=>B.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)",onMouseLeave:B=>B.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)",children:l.jsx(Ut,{size:20})}),xe.type==="image"?l.jsx("img",{src:xe.url,alt:"Full size",onClick:B=>B.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain",borderRadius:r.radius.lg,boxShadow:r.shadows["2xl"]}}):l.jsx("video",{src:xe.url,controls:!0,autoPlay:!0,onClick:B=>B.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh",borderRadius:r.radius.lg,boxShadow:r.shadows["2xl"]}})]}),K&&l.jsx("div",{onClick:()=>{le(!1),h.current?.focus()},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:r.zIndex.modal,padding:q?0:r.spacing.xl,backdropFilter:"blur(4px)"},children:l.jsxs("div",{id:"similar-tickets-modal",onClick:B=>B.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"similar-tickets-title",style:{backgroundColor:r.colors.background.secondary,borderRadius:q?0:r.radius.xl,maxWidth:q?"100%":"900px",width:"100%",maxHeight:q?"100vh":"85vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:r.shadows["2xl"]},children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:r.colors.background.secondary},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx("div",{style:{width:"44px",height:"44px",borderRadius:r.radius.lg,backgroundColor:`${r.colors.chart.purple}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(py,{size:22,style:{color:r.colors.chart.purple},"aria-hidden":"true"})}),l.jsxs("div",{children:[l.jsx("h2",{id:"similar-tickets-title",style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Suggested Solutions"}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:"Similar resolved tickets that may help"})]})]}),l.jsx("button",{ref:g,onClick:()=>{le(!1),h.current?.focus()},"aria-label":"Close similar tickets modal",style:{backgroundColor:r.colors.background.tertiary,border:"none",cursor:"pointer",color:r.colors.text.secondary,padding:r.spacing.sm,borderRadius:r.radius.md,display:"flex",alignItems:"center",justifyContent:"center",transition:`all ${r.transitions.fast}`},onMouseEnter:B=>{B.currentTarget.style.backgroundColor=r.colors.background.hover,B.currentTarget.style.color=r.colors.text.primary},onMouseLeave:B=>{B.currentTarget.style.backgroundColor=r.colors.background.tertiary,B.currentTarget.style.color=r.colors.text.secondary},children:l.jsx(Ut,{size:20,"aria-hidden":"true"})})]}),l.jsx("div",{style:{padding:r.spacing.xl,overflowY:"auto",flex:1,backgroundColor:r.colors.background.tertiary},children:ke.length===0?l.jsxs("div",{style:{textAlign:"center",padding:r.spacing["3xl"],color:r.colors.text.tertiary},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:r.radius.full,backgroundColor:r.colors.background.secondary,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",marginBottom:r.spacing.xl},children:l.jsx(py,{size:36,style:{opacity:.3},"aria-hidden":"true"})}),l.jsx("p",{style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.sm},children:"No similar tickets found"}),l.jsx("p",{style:{fontSize:r.fontSize.sm,margin:0},children:"There are no resolved tickets similar to this one."})]}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:ke.map(B=>l.jsxs("div",{style:{padding:r.spacing.xl,backgroundColor:r.colors.background.secondary,borderRadius:r.radius.xl,border:`1px solid ${r.colors.border.light}`,boxShadow:r.shadows.sm},children:[l.jsx("div",{style:{marginBottom:r.spacing.lg},children:l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:r.spacing.md,marginBottom:r.spacing.sm},children:[l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:r.spacing.xs},children:[l.jsxs("span",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.bold,color:r.colors.accent.primary},children:["#",B.ticket_number]}),l.jsx(Xe,{variant:"success",size:"sm",icon:l.jsx(It,{}),children:"Resolved"}),B.category_name&&l.jsx(Xe,{variant:"primary",size:"sm",soft:!0,children:B.category_name})]}),l.jsx("h3",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0,lineHeight:r.lineHeight.normal},children:B.subject})]}),l.jsxs("button",{onClick:()=>{le(!1),t(`/tickets/${B.id}`)},"aria-label":`View full details for ticket #${B.ticket_number}`,style:{...sn("secondary"),padding:`${r.spacing.xs} ${r.spacing.md}`,fontSize:r.fontSize.xs},onMouseEnter:_e=>{_e.currentTarget.style.backgroundColor=r.colors.accent.primary,_e.currentTarget.style.color=r.colors.text.inverse,_e.currentTarget.style.borderColor=r.colors.accent.primary},onMouseLeave:_e=>{_e.currentTarget.style.backgroundColor=r.colors.background.tertiary,_e.currentTarget.style.color=r.colors.text.secondary,_e.currentTarget.style.borderColor=r.colors.border.medium},children:[l.jsx(_i,{size:12,"aria-hidden":"true"}),"View"]})]})}),B.description&&l.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.border.medium}`},children:[l.jsx("h4",{style:{fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.tertiary,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.sm},children:"Original Issue"}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,margin:0},children:B.description.length>400?B.description.substring(0,400)+"...":B.description})]}),B.resolution?l.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.accent.successLight,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.accent.success}`},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,marginBottom:r.spacing.sm},children:[l.jsx(It,{size:16,style:{color:r.colors.accent.success},"aria-hidden":"true"}),l.jsx("h4",{style:{fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.accent.success,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:"Resolution"})]}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,margin:0,marginBottom:r.spacing.lg},children:B.resolution}),l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:r.spacing.md,borderTop:`1px solid ${r.colors.accent.success}30`},children:[B.resolved_at&&l.jsxs("p",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.success,margin:0},children:["Resolved ",st(B.resolved_at)]}),l.jsxs("button",{onClick:()=>{mt(B.resolution)},"aria-label":`Use resolution from ticket #${B.ticket_number}`,style:sn("success"),onMouseEnter:_e=>{_e.currentTarget.style.backgroundColor=r.colors.accent.successHover,_e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:_e=>{_e.currentTarget.style.backgroundColor=r.colors.accent.success,_e.currentTarget.style.transform="translateY(0)"},children:[l.jsx(It,{size:14,"aria-hidden":"true"}),"Use This Solution"]})]})]}):l.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.border.medium}`},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,marginBottom:r.spacing.sm},children:[l.jsx(Vn,{size:16,style:{color:r.colors.text.tertiary},"aria-hidden":"true"}),l.jsx("h4",{style:{fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.tertiary,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:"Resolution"})]}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,fontStyle:"italic",margin:0},children:"No resolution recorded for this ticket."}),B.resolved_at&&l.jsxs("p",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,margin:0,marginTop:r.spacing.sm},children:["Closed ",st(B.resolved_at)]})]})]},B.id))})})]})}),re&&l.jsx("div",{onClick:()=>{X||(Ee(!1),m.current?.focus())},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:r.zIndex.modal,padding:r.spacing.xl,backdropFilter:"blur(4px)"},children:l.jsxs("div",{id:"resolve-modal",onClick:B=>B.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"resolve-modal-title",style:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.xl,maxWidth:"520px",width:"100%",overflow:"hidden",boxShadow:r.shadows["2xl"]},children:[l.jsx("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx("div",{style:{width:"44px",height:"44px",borderRadius:r.radius.lg,backgroundColor:r.colors.accent.successLight,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(It,{size:22,style:{color:r.colors.accent.success},"aria-hidden":"true"})}),l.jsxs("div",{children:[l.jsx("h2",{id:"resolve-modal-title",style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Resolve Ticket"}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:"Document how you resolved this issue"})]})]})}),l.jsxs("div",{style:{padding:r.spacing.xl},children:[l.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[l.jsx("label",{htmlFor:"resolution-textarea",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.sm},children:"Resolution Details"}),l.jsx("textarea",{id:"resolution-textarea",value:ze,onChange:B=>$e(B.target.value),placeholder:"Describe the steps you took to resolve this ticket...","aria-describedby":"resolution-char-count",rows:5,maxLength:2e3,disabled:Ye||X,style:{width:"100%",padding:r.spacing.lg,backgroundColor:Ye?r.colors.background.hover:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.lg,fontSize:r.fontSize.sm,outline:"none",resize:"vertical",fontFamily:"inherit",lineHeight:r.lineHeight.relaxed,opacity:Ye?.5:1,cursor:Ye?"not-allowed":"text",transition:`border-color ${r.transitions.fast}`,boxSizing:"border-box"},onFocus:B=>!Ye&&(B.currentTarget.style.borderColor=r.colors.border.focus),onBlur:B=>B.currentTarget.style.borderColor=r.colors.border.medium}),l.jsxs("p",{id:"resolution-char-count",style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.sm,marginBottom:0,textAlign:"right"},children:[ze.length,"/2000"]})]}),l.jsxs("div",{role:"checkbox","aria-checked":Ye,"aria-label":"Skip writing a resolution",tabIndex:X?-1:0,onClick:()=>!X&&Ze(!Ye),onKeyDown:B=>{(B.key===" "||B.key==="Enter")&&!X&&(B.preventDefault(),Ze(!Ye))},style:{display:"flex",alignItems:"center",gap:r.spacing.md,padding:r.spacing.lg,backgroundColor:Ye?r.colors.background.tertiary:r.colors.background.secondary,border:`1px solid ${Ye?r.colors.accent.primary:r.colors.border.light}`,borderRadius:r.radius.lg,cursor:X?"not-allowed":"pointer",transition:`all ${r.transitions.fast}`},children:[l.jsx("div",{"aria-hidden":"true",style:{width:"20px",height:"20px",borderRadius:r.radius.sm,border:`2px solid ${Ye?r.colors.accent.primary:r.colors.border.medium}`,backgroundColor:Ye?r.colors.accent.primary:"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:`all ${r.transitions.fast}`},children:Ye&&l.jsx(It,{size:12,style:{color:r.colors.text.inverse}})}),l.jsx("span",{style:{fontSize:r.fontSize.sm,color:Ye?r.colors.text.primary:r.colors.text.secondary},children:"Resolve without adding resolution notes"})]})]}),l.jsxs("div",{style:{padding:r.spacing.xl,borderTop:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"flex-end",gap:r.spacing.md,backgroundColor:r.colors.background.tertiary},children:[l.jsx("button",{ref:v,onClick:()=>{Ee(!1),m.current?.focus()},disabled:X,style:sn("secondary",X),onMouseEnter:B=>!X&&(B.currentTarget.style.backgroundColor=r.colors.background.hover),onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.background.tertiary,children:"Cancel"}),l.jsxs("button",{onClick:Ae,disabled:X||!Ye&&ze.trim().length===0,style:sn("success",X||!Ye&&ze.trim().length===0),onMouseEnter:B=>!(X||!Ye&&ze.trim().length===0)&&(B.currentTarget.style.backgroundColor=r.colors.accent.successHover),onMouseLeave:B=>B.currentTarget.style.backgroundColor=r.colors.accent.success,children:[l.jsx(It,{size:16}),X?"Resolving...":"Resolve Ticket"]})]})]})})]})},Dl="",NV=1e4,LV=()=>{const{uuid:e}=Lf(),t=x.useRef(null),[n,i]=x.useState(null),[s,c]=x.useState(!0),[d,p]=x.useState(null),[h,g]=x.useState(""),[m,v]=x.useState(""),[S,j]=x.useState(!1),[k,w]=x.useState(!1),[C,_]=x.useState(!1),[E,A]=x.useState(!1),[T,O]=x.useState(""),[P,D]=x.useState(""),[I,Q]=x.useState(!1),[fe,ce]=x.useState(""),[Z,Se]=x.useState([]),[he,pe]=x.useState(null),[U,F]=x.useState(null),[ge,je]=x.useState(null),[Oe,$]=x.useState(0),[L,ue]=x.useState(!1),[xe,ye]=x.useState(null),[K,le]=x.useState(""),ke=x.useRef(null),N=x.useCallback(async(V=!1)=>{try{V||c(!0);const Ae=await fetch(`${Dl}/api/tickets/public/${e}`);if(Ae.status===404){p("Ticket not found"),c(!1);return}if(!Ae.ok)throw new Error("Failed to fetch ticket");const et=await Ae.json();i(et),p(null)}catch(Ae){console.error("Error fetching ticket:",Ae),p("Failed to load ticket")}finally{c(!1)}},[e]),ve=x.useCallback(async()=>{try{const V=await fetch(`${Dl}/api/tickets/${e}/attachments`);if(V.ok){const Ae=await V.json();Se(Ae||[]),console.log(" Attachments fetched:",Ae?.length||0)}}catch(V){console.error("Error fetching attachments:",V)}},[e]),ee=x.useCallback(V=>Z.filter(Ae=>Ae.comment_id===V),[Z]);x.useEffect(()=>{N(),ve()},[N,ve]),x.useEffect(()=>{const V=setInterval(()=>{N(!0)},NV);return()=>clearInterval(V)},[N]);const se=V=>{ce(V),setTimeout(()=>ce(""),5e3)},Ne=async V=>{if(V.preventDefault(),!h.trim()||h.trim().length<10){alert("Comment must be at least 10 characters");return}if(!m.trim()){alert("Please enter your name");return}j(!0);try{if(!(await fetch(`${Dl}/api/tickets/public/${e}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comment_text:h,author_name:m})})).ok)throw new Error("Failed to add comment");se("Comment added successfully!"),g(""),await N(),setTimeout(()=>{t.current?.scrollIntoView({behavior:"smooth"})},100)}catch(Ae){console.error("Error adding comment:",Ae),alert("Failed to add comment. Please try again.")}finally{j(!1)}},re=async()=>{_(!0);try{if(!(await fetch(`${Dl}/api/tickets/public/${e}/resolve`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({resolution:"Customer marked as resolved"})})).ok)throw new Error("Failed to resolve ticket");se("Ticket marked as resolved!"),w(!1),await N()}catch(V){console.error("Error resolving ticket:",V),alert("Failed to mark ticket as resolved. Please try again.")}finally{_(!1)}},Ee=async()=>{if(!T.trim()){alert("Please provide a reason for reopening");return}if(!P.trim()){alert("Please enter your name");return}Q(!0);try{const V=await fetch(`${Dl}/api/tickets/public/${e}/reopen`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:T,reopened_by_name:P})});if(!V.ok)throw new Error("Failed to reopen ticket");const Ae=await V.json();se("Ticket reopened successfully! A new ticket has been created."),A(!1),O(""),D(""),Ae.new_ticket_id&&setTimeout(()=>{window.location.href=`/ticket/${Ae.new_ticket_id}`},2e3)}catch(V){console.error("Error reopening ticket:",V),alert("Failed to reopen ticket. Please try again.")}finally{Q(!1)}},ze=["image/jpeg","image/png","image/gif","image/webp"],$e=["video/mp4","video/quicktime","video/webm","video/x-m4v"],Ye=[...ze,...$e],Ze=V=>$e.includes(V?.type),X=V=>{const Ae=V.target.files?.[0];if(!Ae)return;if(!Ye.includes(Ae.type)){ye("Invalid file type. Only JPEG, PNG, GIF, WebP images and MP4, MOV, WebM videos are allowed."),je(null);return}const et=Ze(Ae)?50*1024*1024:10*1024*1024,Nt=Ze(Ae)?"50MB":"10MB";if(Ae.size>et){ye(`File size exceeds ${Nt} limit.`),je(null);return}je(Ae),ye(null)},Te=async()=>{if(!ge){ye("Please select a file first");return}if(!K.trim()){ye("Please enter your name");return}ue(!0),$(0),ye(null);try{const V=new FormData;V.append("file",ge),V.append("author_name",K.trim());const Ae=new XMLHttpRequest;await new Promise((Nt,er)=>{Ae.upload.addEventListener("progress",st=>{if(st.lengthComputable){const Rr=Math.round(st.loaded/st.total*100);$(Rr)}}),Ae.addEventListener("load",()=>{if(Ae.status>=200&&Ae.status<300)Nt(JSON.parse(Ae.responseText));else try{const st=JSON.parse(Ae.responseText);er(new Error(st.error||"Upload failed"))}catch{er(new Error("Upload failed"))}}),Ae.addEventListener("error",()=>{er(new Error("Network error during upload"))}),Ae.open("POST",`${Dl}/api/tickets/public/${e}/attachments`),Ae.send(V)}),se("Photo uploaded successfully!"),je(null),$(0),ke.current&&(ke.current.value=""),await Promise.all([N(),ve()]),setTimeout(()=>{t.current?.scrollIntoView({behavior:"smooth"})},100)}catch(V){console.error("Error uploading file:",V),ye(V.message||"Failed to upload file. Please try again.")}finally{ue(!1)}},ot=()=>{je(null),ye(null),$(0),ke.current&&(ke.current.value="")},J=V=>({open:{color:"blue",icon:_n,label:"Open"},assigned:{color:"purple",icon:hc,label:"Assigned"},in_progress:{color:"yellow",icon:ro,label:"In Progress"},waiting_customer:{color:"orange",icon:ki,label:"Waiting for You"},resolved:{color:"green",icon:It,label:"Resolved"},closed:{color:"gray",icon:Ut,label:"Closed"},cancelled:{color:"red",icon:Ec,label:"Cancelled"}})[V]||{color:"gray",icon:_n,label:V},q=V=>({urgent:{color:"red",icon:gi,label:"Urgent"},high:{color:"orange",icon:Vl,label:"High"},normal:{color:"blue",icon:Ko,label:"Normal"},low:{color:"gray",icon:Yl,label:"Low"}})[V]||{color:"gray",icon:Ko,label:V},Me=V=>V?{high:{color:"red",label:"High"},medium:{color:"yellow",label:"Medium"},low:{color:"green",label:"Low"}}[V]||{color:"gray",label:V}:null,He=V=>{if(!V)return"N/A";const Ae=new Date(V),Nt=new Date-Ae,er=Math.floor(Nt/6e4),st=Math.floor(Nt/36e5),Rr=Math.floor(Nt/864e5);return er<1?"Just now":er<60?`${er} min${er>1?"s":""} ago`:st<24?`${st} hour${st>1?"s":""} ago`:Rr<7?`${Rr} day${Rr>1?"s":""} ago`:Ae.toLocaleDateString()+" "+Ae.toLocaleTimeString()},Be=V=>({customer:"bg-blue-50",tech:"bg-gray-50",system:"bg-yellow-50"})[V]||"bg-gray-50",at=V=>({customer:"C",tech:"T",system:"S"})[V]||"?";if(s)return l.jsx("div",{style:{minHeight:"100vh",backgroundColor:r.colors.background.primary,padding:"2rem"},children:l.jsx("div",{style:{maxWidth:"900px",margin:"0 auto"},children:l.jsxs("div",{className:"animate-pulse space-y-6",children:[l.jsx("div",{style:{height:"100px",backgroundColor:"#e5e7eb",borderRadius:"8px"}}),l.jsx("div",{style:{height:"300px",backgroundColor:"#e5e7eb",borderRadius:"8px"}}),l.jsx("div",{style:{height:"400px",backgroundColor:"#e5e7eb",borderRadius:"8px"}})]})})});if(d||!n)return l.jsx("div",{style:{minHeight:"100vh",backgroundColor:r.colors.background.primary,display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:l.jsxs("div",{style:{textAlign:"center",maxWidth:"500px"},children:[l.jsx(ua,{style:{width:"64px",height:"64px",color:"#d1d5db",margin:"0 auto 16px"}}),l.jsx("h1",{style:{color:"#111827",fontSize:"1.875rem",fontWeight:"bold",marginBottom:"12px"},children:"Ticket Not Found"}),l.jsx("p",{style:{color:"#6b7280",fontSize:"1rem",marginBottom:"24px"},children:d||"The ticket you're looking for doesn't exist or the link is invalid."}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"Please check the link and try again, or contact support if you need assistance."})]})});const Pe=J(n.status),mt=q(n.priority),nr=Me(n.urgency),Jr=Pe.icon,$t=mt.icon,yt=["open","assigned","in_progress","waiting_customer"].includes(n.status),ie=n.status==="closed";return l.jsxs("div",{style:{minHeight:"100vh",backgroundColor:r.colors.background.primary,padding:"1rem"},children:[l.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto"},children:[fe&&l.jsxs("div",{style:{padding:"16px",backgroundColor:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(It,{style:{width:"20px",height:"20px",color:"#059669"}}),l.jsx("span",{style:{color:"#065f46",fontSize:"0.875rem",fontWeight:"500"},children:fe})]}),l.jsx("div",{style:{marginBottom:"32px",textAlign:"center"},children:l.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"12px",padding:"16px 24px",backgroundColor:"#1e3a5f",borderRadius:"12px",marginBottom:"24px"},children:[l.jsx(ua,{style:{width:"32px",height:"32px",color:"white"}}),l.jsx("h1",{style:{color:"white",fontSize:"1.5rem",fontWeight:"bold",margin:0},children:"MAX Support"})]})}),l.jsx(Qe,{className:"mb-6",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[l.jsxs("h2",{style:{color:"#111827",fontSize:"2rem",fontWeight:"bold",marginBottom:"12px"},children:["Ticket #",n.ticket_number]}),l.jsxs(Xe,{color:Pe.color,style:{fontSize:"1rem",padding:"8px 16px"},children:[l.jsx(Jr,{className:"w-5 h-5 mr-2"}),Pe.label]})]}),l.jsx("h3",{style:{color:"#374151",fontSize:"1.25rem",fontWeight:"600",textAlign:"center",marginTop:"16px"},children:n.subject})]})}),l.jsx(Qe,{className:"mb-6",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",marginBottom:"20px"},children:"Ticket Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(Yo,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),l.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Customer:"}),l.jsx("span",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"500"},children:n.customer_name||"N/A"})]}),n.customer_phone&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(cs,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),l.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Phone:"}),l.jsx("a",{href:`tel:${n.customer_phone}`,style:{color:"#1e3a5f",fontSize:"0.875rem",textDecoration:"none"},onMouseEnter:V=>V.currentTarget.style.textDecoration="underline",onMouseLeave:V=>V.currentTarget.style.textDecoration="none",children:n.customer_phone})]}),n.customer_email&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(vp,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),l.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Email:"}),l.jsx("a",{href:`mailto:${n.customer_email}`,style:{color:"#1e3a5f",fontSize:"0.875rem",textDecoration:"none"},onMouseEnter:V=>V.currentTarget.style.textDecoration="underline",onMouseLeave:V=>V.currentTarget.style.textDecoration="none",children:n.customer_email})]}),n.van_info&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(ua,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),l.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Van:"}),l.jsx("span",{style:{color:"#111827",fontSize:"0.875rem"},children:n.van_info})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[l.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Priority:"}),l.jsxs(Xe,{color:mt.color,children:[l.jsx($t,{className:"w-3 h-3 mr-1"}),mt.label]}),nr&&l.jsxs(l.Fragment,{children:[l.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",marginLeft:"16px"},children:"Urgency:"}),l.jsx(Xe,{color:nr.color,children:nr.label})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(_n,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),l.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Created:"}),l.jsx("span",{style:{color:"#111827",fontSize:"0.875rem"},children:new Date(n.created_at).toLocaleString()})]})]}),n.description&&l.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"},children:[l.jsx("h4",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"600",marginBottom:"12px"},children:"Description"}),l.jsx("p",{style:{color:"#374151",fontSize:"0.875rem",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:n.description})]})]})}),l.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"24px",flexWrap:"wrap"},children:[yt&&l.jsxs("button",{onClick:()=>w(!0),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#059669",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",transition:"all 0.2s"},onMouseEnter:V=>V.currentTarget.style.backgroundColor="#047857",onMouseLeave:V=>V.currentTarget.style.backgroundColor="#059669",children:[l.jsx(It,{size:18}),"Mark as Resolved"]}),ie&&l.jsxs("button",{onClick:()=>A(!0),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#ea580c",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",transition:"all 0.2s"},onMouseEnter:V=>V.currentTarget.style.backgroundColor="#c2410c",onMouseLeave:V=>V.currentTarget.style.backgroundColor="#ea580c",children:[l.jsx(HK,{size:18}),"Reopen Ticket"]})]}),k&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",zIndex:1e3},children:l.jsx(Qe,{style:{maxWidth:"400px",width:"100%"},children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",marginBottom:"12px"},children:"Mark as Resolved?"}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem",marginBottom:"24px"},children:"Are you sure this issue has been resolved? This will notify our support team."}),l.jsxs("div",{style:{display:"flex",gap:"12px"},children:[l.jsx("button",{onClick:re,disabled:C,style:{flex:1,padding:"10px 16px",backgroundColor:"#059669",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:C?"not-allowed":"pointer",opacity:C?.5:1},children:C?"Resolving...":"Yes, Resolve"}),l.jsx("button",{onClick:()=>w(!1),disabled:C,style:{flex:1,padding:"10px 16px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px",color:"#374151",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer"},children:"Cancel"})]})]})})}),E&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",zIndex:1e3},children:l.jsx(Qe,{style:{maxWidth:"500px",width:"100%"},children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",marginBottom:"12px"},children:"Reopen Ticket"}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem",marginBottom:"16px"},children:"Please tell us why you're reopening this ticket."}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Your Name"}),l.jsx("input",{type:"text",value:P,onChange:V=>D(V.target.value),placeholder:"Enter your name",required:!0,style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Reason for Reopening"}),l.jsx("textarea",{value:T,onChange:V=>O(V.target.value),placeholder:"Explain why you need to reopen this ticket...",rows:4,required:!0,style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none",resize:"none"}})]})]}),l.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"24px"},children:[l.jsx("button",{onClick:Ee,disabled:I,style:{flex:1,padding:"10px 16px",backgroundColor:"#ea580c",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:I?"not-allowed":"pointer",opacity:I?.5:1},children:I?"Reopening...":"Reopen Ticket"}),l.jsx("button",{onClick:()=>{A(!1),O(""),D("")},disabled:I,style:{flex:1,padding:"10px 16px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px",color:"#374151",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer"},children:"Cancel"})]})]})})}),l.jsx(Qe,{className:"mb-6",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[l.jsx(ki,{style:{width:"20px",height:"20px",color:"#374151"}}),l.jsx("h3",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Activity Timeline"}),l.jsx(Xe,{color:"blue",children:n.comments?.length||0})]}),l.jsxs("div",{className:"space-y-4 mb-6",children:[n.comments&&n.comments.length>0?n.comments.map(V=>l.jsx("div",{className:`p-4 rounded-lg ${Be(V.author_type)} border border-gray-200`,children:l.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",flexShrink:0,backgroundColor:V.author_type==="customer"?"#3b82f6":V.author_type==="tech"?"#6b7280":"#eab308"},children:at(V.author_type)}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px",flexWrap:"wrap"},children:[l.jsx("span",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"600"},children:V.author_name}),l.jsx(Xe,{color:V.author_type==="customer"?"blue":V.author_type==="tech"?"gray":"yellow",children:V.author_type==="customer"?"Customer":V.author_type==="tech"?"Support":"System"}),V.is_resolution&&l.jsxs(Xe,{color:"green",children:[l.jsx(It,{className:"w-3 h-3 mr-1"}),"Resolution"]})]}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginBottom:"8px"},children:He(V.created_at)}),l.jsx("p",{style:{color:"#374151",fontSize:"0.875rem",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:V.comment_text}),(()=>{const Ae=ee(V.id);return Ae.length===0?null:l.jsx("div",{style:{marginTop:"12px",display:"flex",flexWrap:"wrap",gap:"8px"},children:Ae.map(et=>{const Nt=et.mime_type?.startsWith("video/"),er=et.mime_type?.startsWith("image/");return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[Nt?l.jsxs("div",{onClick:()=>F(et.public_url),style:{position:"relative",cursor:"pointer",maxWidth:"300px",maxHeight:"200px",borderRadius:"8px",overflow:"hidden",border:"1px solid #e5e7eb",backgroundColor:"#000"},children:[l.jsx("video",{src:et.public_url,style:{width:"100%",height:"100%",maxHeight:"200px",objectFit:"cover"}}),l.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:"50%",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s, background-color 0.2s"},onMouseOver:st=>{st.currentTarget.style.transform="translate(-50%, -50%) scale(1.1)",st.currentTarget.style.backgroundColor="rgba(59, 130, 246, 0.8)"},onMouseOut:st=>{st.currentTarget.style.transform="translate(-50%, -50%)",st.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.6)"},children:l.jsx($f,{size:24,style:{color:"white",marginLeft:"3px"}})})]}):er?l.jsx("img",{src:et.public_url,alt:et.original_filename||"Attachment",onClick:()=>pe(et.public_url),style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s"},onMouseOver:st=>{st.target.style.transform="scale(1.02)",st.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseOut:st=>{st.target.style.transform="scale(1)",st.target.style.boxShadow="none"}}):l.jsx("a",{href:et.public_url,target:"_blank",rel:"noopener noreferrer",style:{color:"#3b82f6",fontSize:"0.75rem"},children:et.original_filename||"Download attachment"}),l.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(mx,{size:12}),et.uploaded_by_type==="customer"?"Photo from customer":"Photo from technician"]})]},et.id)})})})()]})]})},V.id)):l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem",textAlign:"center",padding:"32px 0",fontStyle:"italic"},children:"No comments yet. Be the first to add one!"}),l.jsx("div",{ref:t})]}),l.jsxs("div",{style:{paddingTop:"24px",borderTop:"1px solid #e5e7eb"},children:[l.jsx("h4",{style:{color:"#111827",fontSize:"1rem",fontWeight:"600",marginBottom:"16px"},children:"Add a Comment"}),l.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Your Name"}),l.jsx("input",{type:"text",value:m,onChange:V=>v(V.target.value),placeholder:"Enter your name",required:!0,style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Comment"}),l.jsx("textarea",{value:h,onChange:V=>g(V.target.value),placeholder:"Add a comment...",rows:4,maxLength:2e3,required:!0,style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none",resize:"none"}}),l.jsxs("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px"},children:[h.length,"/2000 characters (minimum 10)"]})]}),l.jsxs("button",{type:"submit",disabled:S||h.trim().length<10||!m.trim(),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#1e3a5f",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:S||h.trim().length<10||!m.trim()?"not-allowed":"pointer",opacity:S||h.trim().length<10||!m.trim()?.5:1,boxShadow:"0 1px 2px rgba(0,0,0,0.05)",transition:"all 0.2s"},onMouseEnter:V=>{!S&&h.trim().length>=10&&m.trim()&&(V.currentTarget.style.backgroundColor="#2c5282")},onMouseLeave:V=>V.currentTarget.style.backgroundColor="#1e3a5f",children:[l.jsx(ki,{size:18}),S?"Adding Comment...":"Add Comment"]})]}),l.jsxs("div",{style:{marginTop:"32px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"},children:[l.jsxs("h4",{style:{color:"#111827",fontSize:"1rem",fontWeight:"600",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(mx,{size:18}),"Upload Photo or Video"]}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem",marginBottom:"16px"},children:"Share photos or videos related to your issue. Images: JPEG, PNG, GIF, WebP (max 10MB). Videos: MP4, MOV, WebM (max 50MB)"}),l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Your Name"}),l.jsx("input",{type:"text",value:K,onChange:V=>le(V.target.value),placeholder:"Enter your name",style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none"}})]}),l.jsx("input",{ref:ke,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp,video/mp4,video/quicktime,video/webm",onChange:X,style:{display:"none"},id:"photo-upload"}),ge?l.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"12px",padding:"16px",backgroundColor:"#fafafa"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"16px",marginBottom:"16px"},children:[Ze(ge)?l.jsxs("div",{style:{width:"120px",height:"100px",borderRadius:"8px",border:"1px solid #e5e7eb",overflow:"hidden",position:"relative",backgroundColor:"#000"},children:[l.jsx("video",{src:URL.createObjectURL(ge),style:{width:"100%",height:"100%",objectFit:"cover"}}),l.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx($f,{size:16,style:{color:"white",marginLeft:"2px"}})})]}):l.jsx("img",{src:URL.createObjectURL(ge),alt:"Preview",style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb"}}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("p",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"500",marginBottom:"4px",display:"flex",alignItems:"center",gap:"6px"},children:[Ze(ge)&&l.jsx(bY,{size:14,style:{color:"#6b7280"}}),ge.name]}),l.jsxs("p",{style:{color:"#6b7280",fontSize:"0.75rem"},children:[(ge.size/1024/1024).toFixed(2)," MB"]}),l.jsxs("button",{type:"button",onClick:ot,style:{marginTop:"8px",padding:"4px 8px",backgroundColor:"transparent",border:"1px solid #ef4444",borderRadius:"4px",color:"#ef4444",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(Ut,{size:12}),"Remove"]})]})]}),L&&l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("div",{style:{height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"},children:l.jsx("div",{style:{height:"100%",width:`${Oe}%`,backgroundColor:"#3b82f6",transition:"width 0.3s ease"}})}),l.jsxs("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px",textAlign:"center"},children:["Uploading... ",Oe,"%"]})]}),l.jsx("button",{type:"button",onClick:Te,disabled:L||!K.trim(),style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",padding:"12px 20px",backgroundColor:"#10b981",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:L||!K.trim()?"not-allowed":"pointer",opacity:L||!K.trim()?.5:1,transition:"all 0.2s"},children:L?l.jsxs(l.Fragment,{children:[l.jsx(Ai,{size:18,style:{animation:"spin 1s linear infinite"}}),"Uploading..."]}):l.jsxs(l.Fragment,{children:[l.jsx(D2,{size:18}),"Upload Photo"]})})]}):l.jsxs("label",{htmlFor:"photo-upload",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"32px",border:"2px dashed #d1d5db",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s",backgroundColor:"#fafafa"},onMouseEnter:V=>{V.currentTarget.style.borderColor="#3b82f6",V.currentTarget.style.backgroundColor="#f0f9ff"},onMouseLeave:V=>{V.currentTarget.style.borderColor="#d1d5db",V.currentTarget.style.backgroundColor="#fafafa"},children:[l.jsx(D2,{size:32,style:{color:"#9ca3af",marginBottom:"12px"}}),l.jsx("span",{style:{color:"#374151",fontSize:"0.875rem",fontWeight:"500"},children:"Click to select a photo or video"}),l.jsx("span",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px"},children:"or drag and drop"})]}),xe&&l.jsxs("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#dc2626",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(Ec,{size:16}),xe]})]})]})]})}),l.jsx("div",{style:{textAlign:"center",paddingTop:"24px",paddingBottom:"24px",borderTop:"1px solid #e5e7eb"},children:l.jsxs("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:["Need help? Contact MAX Support at ",l.jsx("a",{href:"mailto:support@maxsupport.com",style:{color:"#1e3a5f",textDecoration:"none"},children:"support@maxsupport.com"})]})})]}),he&&l.jsxs("div",{onClick:()=>pe(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,cursor:"pointer"},children:[l.jsx("button",{onClick:()=>pe(null),style:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#ffffff"},children:l.jsx(Ut,{size:24})}),l.jsx("img",{src:he,alt:"Full size",onClick:V=>V.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain",borderRadius:"8px"}})]}),U&&l.jsxs("div",{onClick:()=>F(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,cursor:"pointer"},children:[l.jsx("button",{onClick:()=>F(null),style:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#ffffff",zIndex:1e4},children:l.jsx(Ut,{size:24})}),l.jsx("video",{src:U,controls:!0,autoPlay:!0,onClick:V=>V.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh",borderRadius:"8px"}})]})]})},Rd="",WV=()=>{const e=Di(),{showToast:t}=bp(),{user:n,logout:i,hasRole:s}=fn(),[c,d]=x.useState({owner_name:"",phone:"",email:"",subject:"",description:"",priority:"normal",urgency:"medium",owner_id:"",van_id:"",category_id:""}),[p,h]=x.useState({}),[g,m]=x.useState(!1),[v,S]=x.useState(!1),[j,k]=x.useState(null),[w,C]=x.useState(!1),[_,E]=x.useState([]),[A,T]=x.useState([]),[O,P]=x.useState([]),[D,I]=x.useState(!0),[Q,fe]=x.useState(!0),[ce,Z]=x.useState(!0),[Se,he]=x.useState(""),[pe,U]=x.useState(!1),[F,ge]=x.useState(""),[je,Oe]=x.useState(!1),$=x.useRef(null),L=x.useRef(null),ue=x.useRef(null),xe=x.useRef(null),[ye,K]=x.useState({top:0,left:0,width:0}),[le,ke]=x.useState({top:0,left:0,width:0}),N=x.useRef(null);x.useEffect(()=>{const ie=V=>{const Ae=$.current&&$.current.contains(V.target),et=document.getElementById("owner-listbox"),Nt=et&&et.contains(V.target);!Ae&&!Nt&&U(!1)};return pe&&document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[pe]),x.useEffect(()=>{const ie=V=>{const Ae=ue.current&&ue.current.contains(V.target),et=document.getElementById("van-listbox"),Nt=et&&et.contains(V.target);!Ae&&!Nt&&Oe(!1)};return je&&document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[je]),x.useEffect(()=>{v&&N.current&&N.current.focus()},[v]);const ve=x.useCallback(async ie=>{I(!0);try{const V=await fetch(`${Rd}/api/owners?limit=100`,{credentials:"include",signal:ie});if(!V.ok)throw new Error("Failed to fetch owners");const Ae=await V.json();E(Ae.owners||[])}catch(V){if(V.name==="AbortError")return;t("Failed to load owners","error")}finally{I(!1)}},[t]),ee=x.useRef(null),se=x.useCallback(async ie=>{if(!ie){T([]);return}const V=ie;ee.current=V,fe(!0),T([]);try{const Ae=await fetch(`${Rd}/api/vans?owner_id=${ie}&limit=100`,{credentials:"include"});if(!Ae.ok)throw new Error("Failed to fetch vans");const et=await Ae.json();ee.current===V&&T(et.vans||[])}catch{ee.current===V&&t("Failed to load vans","error")}finally{ee.current===V&&fe(!1)}},[t]),Ne=x.useCallback(async ie=>{Z(!0);try{const V=await fetch(`${Rd}/api/categories`,{credentials:"include",signal:ie});if(!V.ok)throw new Error("Failed to fetch categories");const Ae=await V.json();P(Ae.categories||[])}catch(V){if(V.name==="AbortError")return}finally{Z(!1)}},[]);x.useEffect(()=>{const ie=new AbortController;return ve(ie.signal),Ne(ie.signal),()=>ie.abort()},[ve,Ne]);const re=x.useMemo(()=>c.owner_id?A:[],[A,c.owner_id,Q]),Ee=x.useMemo(()=>{if(!F.trim())return re;const ie=F.toLowerCase();return re.filter(V=>{const Ae=(V.van_number||"").toLowerCase(),et=(V.make||"").toLowerCase(),Nt=String(V.year||"");return Ae.includes(ie)||et.includes(ie)||Nt.includes(ie)})},[re,F]),ze=x.useMemo(()=>c.van_id&&A.find(ie=>ie.id===c.van_id)||null,[A,c.van_id]),$e=x.useMemo(()=>c.owner_id&&_.find(ie=>ie.id===c.owner_id)||null,[_,c.owner_id]),Ye=x.useMemo(()=>{if(!Se.trim())return _;const ie=Se.toLowerCase();return _.filter(V=>{const Ae=(V.name||"").toLowerCase(),et=(V.company||"").toLowerCase(),Nt=(V.phone||"").toLowerCase(),er=(V.email||"").toLowerCase();return Ae.includes(ie)||et.includes(ie)||Nt.includes(ie)||er.includes(ie)})},[_,Se]),Ze=ie=>{const{name:V,value:Ae}=ie.target;d(et=>({...et,[V]:Ae})),p[V]&&h(et=>({...et,[V]:null}))},X=x.useCallback(()=>{if(L.current){const ie=L.current.getBoundingClientRect();K({top:ie.bottom,left:ie.left,width:ie.width})}},[]),Te=x.useCallback(()=>{if(xe.current){const ie=xe.current.getBoundingClientRect();ke({top:ie.bottom,left:ie.left,width:ie.width})}},[]),ot=()=>{pe||X(),U(!pe)},J=()=>{je||Te(),Oe(!je)},q=ie=>{const V=_.find(Ae=>Ae.id===ie);d(Ae=>({...Ae,owner_id:ie,owner_name:V?.name||"",phone:V?.phone||"",email:V?.email||"",van_id:""})),he(""),U(!1),ge(""),Oe(!1),se(ie),p.owner_name&&h(Ae=>({...Ae,owner_name:null}))},Me=()=>{d(ie=>({...ie,owner_id:"",owner_name:"",phone:"",email:"",van_id:""})),he(""),ge(""),T([])},He=ie=>{d(V=>({...V,van_id:ie})),ge(""),Oe(!1),p.van_id&&h(V=>({...V,van_id:null}))},Be=()=>{d(ie=>({...ie,van_id:""})),ge("")},at=()=>{const ie={};return c.owner_id||(ie.owner_name="Please select a customer"),c.phone.trim()?/^[\d\s\-\+\(\)]+$/.test(c.phone)||(ie.phone="Invalid phone number format"):ie.phone="Phone number is required - please select a customer",c.email.trim()&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)||(ie.email="Invalid email format")),c.subject.trim()?c.subject.trim().length<5?ie.subject="Subject must be at least 5 characters":c.subject.length>200&&(ie.subject="Subject must be less than 200 characters"):ie.subject="Subject is required",c.description.trim()?c.description.trim().length<20?ie.description="Description must be at least 20 characters":c.description.length>2e3&&(ie.description="Description must be less than 2000 characters"):ie.description="Description is required",h(ie),Object.keys(ie).length===0},Pe=async ie=>{if(ie.preventDefault(),!at()){t("Please fix the errors in the form","error");return}m(!0);try{const V=await fetch(`${Rd}/api/tickets/create`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({owner_name:c.owner_name.trim(),phone:c.phone.trim(),email:c.email.trim()||null,subject:c.subject.trim(),issue_summary:c.subject.trim(),description:c.description.trim(),priority:c.priority,urgency:c.urgency||null,owner_id:c.owner_id||null,van_id:c.van_id||null,category_id:c.category_id||null})});if(!V.ok){const Nt=await V.json();throw new Error(Nt.error||"Failed to create ticket")}const Ae=await V.json(),et={id:Ae.ticket_id,number:Ae.ticket_number,uuid:Ae.ticket_id};k(et),S(!0),t(`Ticket #${Ae.ticket_number} created successfully!`,"success")}catch(V){console.error("Error creating ticket:",V),t(V.message||"Failed to create ticket","error")}finally{m(!1)}},mt=async()=>{if(j){const ie=`${window.location.origin}/ticket/${j.uuid}`;try{await navigator.clipboard.writeText(ie),C(!0),t("Link copied to clipboard!","success"),setTimeout(()=>C(!1),3e3)}catch{t("Failed to copy link to clipboard","error")}}},nr=()=>{S(!1),k(null),C(!1),d({owner_name:"",phone:"",email:"",subject:"",description:"",priority:"normal",urgency:"medium",owner_id:"",van_id:"",category_id:""}),he(""),U(!1),h({}),ge(""),Oe(!1),T([])},$t=(ie=>{const V={urgent:{color:"red",icon:gi,label:"Urgent"},high:{color:"orange",icon:Vl,label:"High"},normal:{color:"blue",icon:Ko,label:"Normal"},low:{color:"gray",icon:Yl,label:"Low"}};return V[ie]||V.normal})(c.priority),yt=$t.icon;return l.jsxs("div",{className:"flex min-h-screen",style:{backgroundColor:"#f9fafb"},children:[l.jsx(br,{user:n,onLogout:i,hasRole:s}),l.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:"2rem"},children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("button",{onClick:()=>e("/tickets"),style:{display:"flex",alignItems:"center",gap:"8px",color:"#6b7280",fontSize:"0.875rem",marginBottom:"16px",background:"none",border:"none",cursor:"pointer",transition:"color 0.2s"},onMouseEnter:ie=>ie.currentTarget.style.color="#111827",onMouseLeave:ie=>ie.currentTarget.style.color="#6b7280",children:[l.jsx(Mf,{className:"w-4 h-4"}),"Back to Tickets"]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-[#1e3a5f] rounded-lg",children:l.jsx(Or,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{style:{color:"#111827",fontSize:"1.875rem",fontWeight:"bold",marginBottom:"4px"},children:"Create New Ticket"}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"Create a support ticket for a customer"})]})]})]}),l.jsxs("form",{onSubmit:Pe,children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx(Qe,{children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:[l.jsx(Yo,{style:{width:"20px",height:"20px",color:"#1e3a5f"}}),l.jsx("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Customer Information"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{id:"owner_id-label",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Customer Name ",l.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),l.jsx("span",{className:"sr-only",children:"(required)"})]}),l.jsxs("div",{ref:$,style:{position:"relative"},children:[l.jsx(Yo,{"aria-hidden":"true",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af",pointerEvents:"none",zIndex:1}}),D?l.jsxs("div",{"aria-live":"polite",style:{display:"flex",alignItems:"center",gap:"8px",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[l.jsx(Ai,{"aria-hidden":"true",size:16,style:{animation:"spin 1s linear infinite"}}),"Loading customers..."]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{ref:L,role:"combobox","aria-expanded":pe,"aria-haspopup":"listbox","aria-controls":"owner-listbox","aria-labelledby":"owner_id-label","aria-required":"true","aria-invalid":!!p.owner_name,"aria-describedby":p.owner_name?"owner_id-error":void 0,tabIndex:0,onClick:ot,onKeyDown:ie=>{ie.key==="Enter"||ie.key===" "?(ie.preventDefault(),ot()):ie.key==="Escape"&&U(!1)},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${p.owner_name?"#dc2626":pe?"#1e3a5f":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",minHeight:"40px",outline:"none"},children:[$e?l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[l.jsxs("span",{style:{color:r.colors.text.primary},children:[$e.name,$e.company?` (${$e.company})`:""]}),l.jsx("button",{type:"button",onClick:ie=>{ie.stopPropagation(),Me()},"aria-label":"Clear customer selection",style:{background:"none",border:"none",padding:"2px 6px",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center"},children:l.jsx(Ut,{size:14})})]}):l.jsx("span",{style:{color:r.colors.text.tertiary},children:"Select a customer..."}),l.jsx(di,{"aria-hidden":"true",size:16,style:{color:"#9ca3af",transform:pe?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s",flexShrink:0}})]}),pe&&Kd.createPortal(l.jsxs("div",{id:"owner-listbox",role:"listbox","aria-labelledby":"owner_id-label",style:{position:"fixed",top:ye.top,left:ye.left,width:ye.width,backgroundColor:"white",border:"1px solid #1e3a5f",borderRadius:r.radius.md,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:9999,maxHeight:"300px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[l.jsx("div",{style:{padding:"8px",borderBottom:`1px solid ${r.colors.border.light}`},children:l.jsxs("div",{style:{position:"relative"},children:[l.jsx(pi,{size:14,style:{position:"absolute",left:"8px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),l.jsx("input",{type:"text",value:Se,onChange:ie=>he(ie.target.value),onClick:ie=>ie.stopPropagation(),placeholder:"Search customers...","aria-label":"Search customers",style:{width:"100%",padding:"6px 8px 6px 28px",border:`1px solid ${r.colors.border.medium}`,borderRadius:"4px",fontSize:"0.8125rem",outline:"none"},autoFocus:!0})]})}),l.jsx("div",{style:{overflowY:"auto",maxHeight:"220px"},children:Ye.length===0?l.jsx("div",{style:{padding:"12px",textAlign:"center",color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:Se?"No customers match your search":"No customers available"}):Ye.map(ie=>l.jsxs("div",{role:"option","aria-selected":c.owner_id===ie.id,onClick:()=>q(ie.id),style:{padding:"10px 12px",cursor:"pointer",backgroundColor:c.owner_id===ie.id?"#eff6ff":"transparent",borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.15s"},onMouseEnter:V=>{c.owner_id!==ie.id&&(V.currentTarget.style.backgroundColor="#f9fafb")},onMouseLeave:V=>{c.owner_id!==ie.id&&(V.currentTarget.style.backgroundColor="transparent")},children:[l.jsxs("div",{style:{fontWeight:"500",color:r.colors.text.primary,fontSize:r.fontSize.sm},children:[ie.name,ie.company?` (${ie.company})`:""]}),l.jsxs("div",{style:{color:r.colors.text.tertiary,fontSize:"0.75rem",marginTop:"2px"},children:[ie.phone,ie.email?`  ${ie.email}`:""]})]},ie.id))})]}),document.body)]})]}),p.owner_name&&l.jsx("p",{id:"owner_id-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem",marginTop:"4px"},children:p.owner_name})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"phone",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Phone Number ",l.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),l.jsx("span",{className:"sr-only",children:"(required)"}),$e&&c.phone&&l.jsx("span",{style:{color:"#6b7280",fontWeight:"normal",marginLeft:"8px",fontSize:"0.75rem"},children:"(pre-filled, can edit)"})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(cs,{"aria-hidden":"true",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af"}}),l.jsx("input",{id:"phone",type:"tel",name:"phone",value:c.phone,onChange:Ze,"aria-required":"true","aria-invalid":!!p.phone,"aria-describedby":p.phone?"phone-error":void 0,placeholder:"Enter phone number",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${p.phone?"#dc2626":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}})]}),p.phone&&l.jsx("p",{id:"phone-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem",marginTop:"4px"},children:p.phone})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"email",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Email ",l.jsx("span",{style:{color:"#6b7280",fontWeight:"normal"},children:"(optional)"}),$e&&c.email&&l.jsx("span",{style:{color:"#6b7280",fontWeight:"normal",marginLeft:"8px",fontSize:"0.75rem"},children:"(pre-filled, can edit)"})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(vp,{"aria-hidden":"true",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af"}}),l.jsx("input",{id:"email",type:"email",name:"email",value:c.email,onChange:Ze,"aria-invalid":!!p.email,"aria-describedby":p.email?"email-error":void 0,placeholder:"Enter email address",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${p.email?"#dc2626":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}})]}),p.email&&l.jsx("p",{id:"email-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem",marginTop:"4px"},children:p.email})]})]})]})}),l.jsx(Qe,{children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:[l.jsx(to,{style:{width:"20px",height:"20px",color:"#1e3a5f"}}),l.jsx("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Van Information"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Van ",l.jsx("span",{style:{color:"#6b7280",fontWeight:"normal"},children:"(optional)"})]}),l.jsxs("div",{ref:ue,style:{position:"relative"},children:[l.jsx(to,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af",pointerEvents:"none",zIndex:1}}),Q&&c.owner_id?l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[l.jsx(Ai,{size:16,style:{animation:"spin 1s linear infinite"}}),"Loading vans..."]}):c.owner_id?l.jsxs(l.Fragment,{children:[l.jsxs("div",{ref:xe,onClick:J,style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${je?"#1e3a5f":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",minHeight:"40px"},children:[ze?l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[l.jsxs("span",{style:{color:r.colors.text.primary},children:[ze.van_number," - ",ze.make," ",ze.version," (",ze.year,")"]}),l.jsx("button",{type:"button",onClick:ie=>{ie.stopPropagation(),Be()},"aria-label":"Clear van selection",style:{background:"none",border:"none",padding:"2px 6px",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center"},children:l.jsx(Ut,{size:14})})]}):l.jsx("span",{style:{color:r.colors.text.tertiary},children:re.length===0?"No vans for this owner":"Select a van..."}),l.jsx(di,{size:16,style:{color:"#9ca3af",transform:je?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]}),je&&re.length>0&&Kd.createPortal(l.jsxs("div",{id:"van-listbox",role:"listbox","aria-label":"Select a van",style:{position:"fixed",top:le.top,left:le.left,width:le.width,backgroundColor:"white",border:"1px solid #1e3a5f",borderRadius:r.radius.md,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:9999,maxHeight:"280px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[l.jsx("div",{style:{padding:"8px",borderBottom:`1px solid ${r.colors.border.light}`},children:l.jsxs("div",{style:{position:"relative"},children:[l.jsx(pi,{size:14,style:{position:"absolute",left:"8px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),l.jsx("input",{type:"text",value:F,onChange:ie=>ge(ie.target.value),onClick:ie=>ie.stopPropagation(),placeholder:"Search vans...","aria-label":"Search vans",style:{width:"100%",padding:"6px 8px 6px 28px",border:`1px solid ${r.colors.border.medium}`,borderRadius:"4px",fontSize:"0.8125rem",outline:"none"},autoFocus:!0})]})}),l.jsx("div",{style:{overflowY:"auto",maxHeight:"220px"},children:Ee.length===0?l.jsx("div",{style:{padding:"12px",textAlign:"center",color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"No vans match your search"}):Ee.map(ie=>l.jsxs("div",{onClick:()=>He(ie.id),style:{padding:"10px 12px",cursor:"pointer",backgroundColor:c.van_id===ie.id?"#eff6ff":"transparent",borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.15s"},onMouseEnter:V=>{c.van_id!==ie.id&&(V.currentTarget.style.backgroundColor="#f9fafb")},onMouseLeave:V=>{c.van_id!==ie.id&&(V.currentTarget.style.backgroundColor="transparent")},children:[l.jsx("div",{style:{fontWeight:"500",color:r.colors.text.primary,fontSize:r.fontSize.sm},children:ie.van_number}),l.jsxs("div",{style:{color:r.colors.text.tertiary,fontSize:"0.75rem",marginTop:"2px"},children:[ie.make," ",ie.version," - ",ie.year]})]},ie.id))})]}),document.body)]}):l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:"#f3f4f6",border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.tertiary,fontSize:r.fontSize.sm,cursor:"not-allowed"},children:[l.jsx("span",{children:"Select a customer first"}),l.jsx(di,{size:16,style:{color:"#9ca3af"}})]})]}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px"},children:c.owner_id?re.length===0?"This customer has no registered vans":`${re.length} van${re.length!==1?"s":""} available for this customer`:"Select a customer in Customer Information to see available vans"})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Category ",l.jsx("span",{style:{color:"#6b7280",fontWeight:"normal"},children:"(optional)"})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(tY,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af",pointerEvents:"none",zIndex:1}}),ce?l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[l.jsx(Ai,{size:16,style:{animation:"spin 1s linear infinite"}}),"Loading categories..."]}):l.jsxs("select",{name:"category_id",value:c.category_id,onChange:Ze,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,color:c.category_id?r.colors.text.primary:r.colors.text.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none",cursor:"pointer",appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},children:[l.jsx("option",{value:"",children:"Select a category..."}),O.map(ie=>l.jsx("option",{value:ie.id,children:ie.name},ie.id))]}),l.jsx(di,{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af",pointerEvents:"none"}})]}),O.length===0&&!ce&&l.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px"},children:"No categories available"})]})]})]})})]}),l.jsx("div",{className:"space-y-6",children:l.jsx(Qe,{children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:[l.jsx(ua,{style:{width:"20px",height:"20px",color:"#1e3a5f"}}),l.jsx("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Ticket Details"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"subject",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Subject ",l.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),l.jsx("span",{className:"sr-only",children:"(required)"})]}),l.jsx("input",{id:"subject",type:"text",name:"subject",value:c.subject,onChange:Ze,placeholder:"Brief description of the issue",maxLength:200,required:!0,"aria-required":"true","aria-invalid":!!p.subject,"aria-describedby":p.subject?"subject-error":"subject-hint",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${p.subject?"#dc2626":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"4px"},children:p.subject?l.jsx("p",{id:"subject-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem"},children:p.subject}):l.jsxs("p",{id:"subject-hint",style:{color:"#6b7280",fontSize:"0.75rem"},children:[c.subject.length,"/200 characters"]})})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"description",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Description ",l.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),l.jsx("span",{className:"sr-only",children:"(required)"})]}),l.jsx("textarea",{id:"description",name:"description",value:c.description,onChange:Ze,placeholder:"Describe the issue in detail...",rows:6,maxLength:2e3,required:!0,"aria-required":"true","aria-invalid":!!p.description,"aria-describedby":p.description?"description-error":"description-hint",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${p.description?"#dc2626":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none",resize:"vertical"}}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"4px"},children:p.description?l.jsx("p",{id:"description-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem"},children:p.description}):l.jsxs("p",{id:"description-hint",style:{color:"#6b7280",fontSize:"0.75rem"},children:[c.description.length,"/2000 characters (minimum 20)"]})})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"priority",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Priority ",l.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),l.jsx("span",{className:"sr-only",children:"(required)"})]}),l.jsxs("select",{id:"priority",name:"priority",value:c.priority,onChange:Ze,required:!0,"aria-required":"true",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none"},children:[l.jsx("option",{value:"low",children:"Low"}),l.jsx("option",{value:"normal",children:"Normal"}),l.jsx("option",{value:"high",children:"High"}),l.jsx("option",{value:"urgent",children:"Urgent"})]}),l.jsx("div",{style:{marginTop:"8px"},children:l.jsxs(Xe,{color:$t.color,children:[l.jsx(yt,{className:"w-3 h-3 mr-1"}),$t.label]})})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"urgency",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Urgency ",l.jsx("span",{style:{color:"#6b7280",fontWeight:"normal"},children:"(optional)"})]}),l.jsxs("select",{id:"urgency",name:"urgency",value:c.urgency,onChange:Ze,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none"},children:[l.jsx("option",{value:"low",children:"Low"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"high",children:"High"})]})]})]})]})})})]}),l.jsxs("div",{style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[l.jsx("button",{type:"button",onClick:()=>e("/tickets"),style:{padding:"12px 20px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px",color:"#374151",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:ie=>ie.currentTarget.style.backgroundColor="#f9fafb",onMouseLeave:ie=>ie.currentTarget.style.backgroundColor="white",children:"Cancel"}),l.jsxs("button",{type:"submit",disabled:g,style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",backgroundColor:"#1e3a5f",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:g?"not-allowed":"pointer",opacity:g?.5:1,boxShadow:"0 1px 2px rgba(0,0,0,0.05)",transition:"all 0.2s"},onMouseEnter:ie=>!g&&(ie.currentTarget.style.backgroundColor="#2c5282"),onMouseLeave:ie=>ie.currentTarget.style.backgroundColor="#1e3a5f",children:[l.jsx(Or,{size:18}),g?"Creating Ticket...":"Create Ticket"]})]})]}),v&&j&&l.jsx("div",{ref:N,role:"dialog","aria-modal":"true","aria-labelledby":"success-modal-title",tabIndex:-1,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",zIndex:1e3,outline:"none"},onKeyDown:ie=>{ie.key==="Escape"&&nr()},children:l.jsx(Qe,{style:{maxWidth:"600px",width:"100%"},children:l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[l.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#d1fae5",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:l.jsx(It,{style:{width:"32px",height:"32px",color:"#059669"}})}),l.jsxs("h2",{id:"success-modal-title",style:{color:"#111827",fontSize:"1.5rem",fontWeight:"bold",marginBottom:"8px"},children:["Ticket #",j.number," Created!"]}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"The support ticket has been created successfully"})]}),l.jsxs("div",{style:{padding:"16px",backgroundColor:"#f9fafb",borderRadius:"8px",marginBottom:"24px"},children:[l.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"600",marginBottom:"8px"},children:"Customer Link (share with customer)"}),l.jsxs("div",{style:{display:"flex",gap:"8px"},children:[l.jsx("input",{type:"text",value:`${window.location.origin}/ticket/${j.uuid}`,readOnly:!0,style:{flex:1,padding:"10px 12px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem",color:"#111827"}}),l.jsx("button",{onClick:mt,style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 16px",backgroundColor:w?"#059669":"#1e3a5f",border:"none",borderRadius:"6px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",whiteSpace:"nowrap",transition:"all 0.2s"},children:w?l.jsxs(l.Fragment,{children:[l.jsx(It,{size:16}),"Copied!"]}):l.jsxs(l.Fragment,{children:[l.jsx(KE,{size:16}),"Copy"]})})]})]}),l.jsxs("div",{style:{display:"flex",gap:"12px"},children:[l.jsx("button",{onClick:()=>e(`/tickets/${j.id}`),style:{flex:1,padding:"12px 20px",backgroundColor:"#1e3a5f",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:ie=>ie.currentTarget.style.backgroundColor="#2c5282",onMouseLeave:ie=>ie.currentTarget.style.backgroundColor="#1e3a5f",children:"View Ticket"}),l.jsx("button",{onClick:nr,style:{flex:1,padding:"12px 20px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px",color:"#374151",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:ie=>ie.currentTarget.style.backgroundColor="#f9fafb",onMouseLeave:ie=>ie.currentTarget.style.backgroundColor="white",children:"Create Another"})]})]})})})]})]})},BV="",rO=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`:null,IV=()=>{const{sequenceKey:e}=Lf(),[t]=Bf(),n=t.get("step"),i=n?parseInt(n,10):null,[s,c]=x.useState(null),[d,p]=x.useState(!0),[h,g]=x.useState(null);if(x.useEffect(()=>{e&&(async()=>{try{p(!0);const P=await fetch(`${BV}/api/sequences/${e}/supplies`);if(P.status===404){g("Sequence not found"),p(!1);return}if(!P.ok)throw new Error("Failed to fetch supplies");const D=await P.json();c(D),g(null)}catch(P){console.error("Error fetching supplies:",P),g("Failed to load supplies information")}finally{p(!1)}})()},[e]),d)return l.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f8fafc",padding:"1rem"},children:l.jsx("div",{style:{maxWidth:"600px",margin:"0 auto"},children:l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsx("div",{style:{height:"80px",backgroundColor:"#e5e7eb",borderRadius:"12px"}}),l.jsx("div",{style:{height:"200px",backgroundColor:"#e5e7eb",borderRadius:"12px"}}),l.jsx("div",{style:{height:"200px",backgroundColor:"#e5e7eb",borderRadius:"12px"}})]})})});if(h||!s)return l.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f8fafc",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:l.jsxs("div",{style:{textAlign:"center",maxWidth:"400px"},children:[l.jsx(Vn,{style:{width:"48px",height:"48px",color:"#d1d5db",margin:"0 auto 16px"}}),l.jsx("h1",{style:{color:"#111827",fontSize:"1.5rem",fontWeight:"bold",marginBottom:"12px"},children:"Not Found"}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:h||"The supplies information you're looking for doesn't exist."})]})});let m=s.tools||[],v=s.parts||[];i!==null&&(m=m.filter(O=>O.step_num===i||!O.step_num),v=v.filter(O=>O.step_num===i||!O.step_num));const S=m.length>0,j=v.length>0,k=!S&&!j,w=m.filter(O=>!O.step_num),C=v.filter(O=>!O.step_num),_=[...new Set([...m.filter(O=>O.step_num).map(O=>O.step_num),...v.filter(O=>O.step_num).map(O=>O.step_num)])].sort((O,P)=>O-P),E=w.length>0||C.length>0,A=_.length>0,T=i===null&&A;return l.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f8fafc",padding:"1rem"},children:l.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem",padding:"1rem"},children:[l.jsx("h1",{style:{color:"#1e3a5f",fontSize:"1.5rem",fontWeight:"700",marginBottom:"0.5rem"},children:i!==null?`Step ${i} Supplies`:"Supplies Needed"}),s.sequence_name&&l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:s.sequence_name})]}),k&&l.jsx(Qe,{children:l.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[l.jsx(It,{style:{width:"48px",height:"48px",color:"#10b981",margin:"0 auto 16px"}}),l.jsx("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",marginBottom:"8px"},children:"No Special Supplies Needed"}),l.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"You can complete this repair without any special tools or replacement parts."})]})}),E&&l.jsx(Qe,{style:{marginBottom:"1rem"},children:l.jsxs("div",{style:{padding:"1rem"},children:[T&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:"2px solid #1e3a5f"},children:[l.jsx("h2",{style:{color:"#1e3a5f",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"General Supplies"}),l.jsx(Xe,{color:"blue",children:w.length+C.length})]}),l.jsx(I2,{tools:w,parts:C,showStepHeaders:T})]})}),_.map(O=>{const P=s.tools?.filter(I=>I.step_num===O)||[],D=s.parts?.filter(I=>I.step_num===O)||[];return l.jsx(Qe,{style:{marginBottom:"1rem"},children:l.jsxs("div",{style:{padding:"1rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:"2px solid #5a8aa3"},children:[l.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",backgroundColor:"#1e3a5f",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",fontWeight:"700"},children:O}),l.jsxs("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:["Step ",O," Supplies"]}),l.jsx(Xe,{color:"blue",children:P.length+D.length})]}),l.jsx(I2,{tools:P,parts:D,showStepHeaders:!0})]})},O)}),!k&&l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",padding:"1rem",backgroundColor:"#eff6ff",borderRadius:"8px",marginBottom:"1rem"},children:[l.jsx(VE,{style:{width:"16px",height:"16px",color:"#3b82f6",flexShrink:0,marginTop:"2px"}}),l.jsx("p",{style:{color:"#1e40af",fontSize:"0.75rem",margin:0,lineHeight:"1.5"},children:"Having the right tools and parts ready before you start will help you complete the repair more efficiently."})]}),l.jsx("div",{style:{textAlign:"center",padding:"1rem",borderTop:"1px solid #e5e7eb"},children:l.jsx("p",{style:{color:"#9ca3af",fontSize:"0.75rem"},children:"MAX Van Support"})})]})})},I2=({tools:e,parts:t,showStepHeaders:n})=>{const i=e.filter(g=>g.is_required),s=e.filter(g=>!g.is_required),c=t.filter(g=>g.is_required),d=t.filter(g=>!g.is_required),p=e.length>0,h=t.length>0;return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[p&&l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"0.75rem",paddingBottom:"0.5rem",borderBottom:"1px solid #e5e7eb"},children:[l.jsx(ro,{style:{width:"18px",height:"18px",color:"#1e3a5f"}}),l.jsx("h3",{style:{color:"#111827",fontSize:"1rem",fontWeight:"600",margin:0},children:"Tools"}),l.jsx(Xe,{color:"blue",children:e.length})]}),i.length>0&&l.jsxs("div",{style:{marginBottom:s.length>0?"1rem":0},children:[s.length>0&&l.jsx("p",{style:{color:"#dc2626",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Required"}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:i.map(g=>l.jsx(q2,{tool:g},g.id))})]}),s.length>0&&l.jsxs("div",{children:[l.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Optional"}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:s.map(g=>l.jsx(q2,{tool:g},g.id))})]})]}),h&&l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"0.75rem",paddingBottom:"0.5rem",borderBottom:"1px solid #e5e7eb"},children:[l.jsx(DK,{style:{width:"18px",height:"18px",color:"#10b981"}}),l.jsx("h3",{style:{color:"#111827",fontSize:"1rem",fontWeight:"600",margin:0},children:"Replacement Parts"}),l.jsx(Xe,{color:"green",children:t.length})]}),c.length>0&&l.jsxs("div",{style:{marginBottom:d.length>0?"1rem":0},children:[d.length>0&&l.jsx("p",{style:{color:"#dc2626",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Required"}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:c.map(g=>l.jsx(U2,{part:g},g.id))})]}),d.length>0&&l.jsxs("div",{children:[l.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Optional"}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:d.map(g=>l.jsx(U2,{part:g},g.id))})]})]})]})},q2=({tool:e})=>l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[l.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:e.is_required?"#fef2f2":"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.is_required?l.jsx(It,{size:14,style:{color:"#dc2626"}}):l.jsx(FE,{size:14,style:{color:"#9ca3af"}})}),l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsx("p",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"500",margin:0,marginBottom:e.tool_description?"4px":0},children:e.tool_name}),e.tool_description&&l.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",margin:0,lineHeight:"1.4"},children:e.tool_description})]}),e.tool_link&&l.jsxs("a",{href:rO(e.tool_link),target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 10px",backgroundColor:"#1e3a5f",color:"white",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"500",textDecoration:"none",flexShrink:0},children:["View",l.jsx(_i,{size:12})]})]}),U2=({part:e})=>{const t=n=>n?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n):null;return l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[l.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:e.is_required?"#fef2f2":"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.is_required?l.jsx(It,{size:14,style:{color:"#dc2626"}}):l.jsx(FE,{size:14,style:{color:"#9ca3af"}})}),l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsx("p",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"500",margin:0,marginBottom:"4px"},children:e.part_name}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",alignItems:"center"},children:[e.part_number&&l.jsxs("span",{style:{color:"#6b7280",fontSize:"0.75rem",backgroundColor:"#e5e7eb",padding:"2px 6px",borderRadius:"4px"},children:["#",e.part_number]}),e.estimated_price&&l.jsxs("span",{style:{color:"#059669",fontSize:"0.75rem",fontWeight:"500"},children:["~",t(e.estimated_price)]})]}),e.part_description&&l.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",margin:0,marginTop:"4px",lineHeight:"1.4"},children:e.part_description})]}),e.part_link&&l.jsxs("a",{href:rO(e.part_link),target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 10px",backgroundColor:"#10b981",color:"white",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"500",textDecoration:"none",flexShrink:0},children:["Buy",l.jsx(ZE,{size:12})]})]})},my="",qV=3e4,yy={active:5,waiting:30},UV=[{value:"recent",label:"Most Recent Activity"},{value:"oldest",label:"Oldest First"},{value:"longest_wait",label:"Longest Wait"},{value:"step",label:"By Step Number"},{value:"van",label:"By Van Number"}],HV=()=>{Di();const{showToast:e}=bp(),{user:t,logout:n,hasRole:i}=fn(),[s,c]=x.useState([]),[d,p]=x.useState(!0),[h,g]=x.useState(!1),[m,v]=x.useState(!0),[S,j]=x.useState(new Set),[k,w]=x.useState(null),[C,_]=x.useState(null),[E,A]=x.useState("all"),[T,O]=x.useState("recent"),[P,D]=x.useState(new Set),[I,Q]=x.useState({}),[fe,ce]=x.useState(new Set),Z=x.useCallback(async(K=!1)=>{try{K?g(!0):p(!0);const le=await fetch(`${my}/api/sequences/active`,{credentials:"include"});if(!le.ok)throw new Error("Failed to fetch active sequences");const ke=await le.json();c(ke||[])}catch(le){console.error("Error fetching active sequences:",le),e("Failed to load active sequences","error")}finally{p(!1),g(!1)}},[e]);x.useEffect(()=>{Z()},[Z]),x.useEffect(()=>{if(!m)return;const K=setInterval(()=>{Z(!0)},qV);return()=>clearInterval(K)},[Z,m]);const Se=x.useMemo(()=>{const K=new Set;return s.forEach(le=>{le.sequence_name?K.add(le.sequence_name):le.sequence_key&&K.add(le.sequence_key)}),Array.from(K).sort()},[s]),he=x.useMemo(()=>{const K=s.length,le=s.filter(N=>(N.minutes_since_last_interaction||0)>yy.waiting).length,ke=K>0?Math.round(s.reduce((N,ve)=>N+(ve.minutes_since_last_interaction||0),0)/K):0;return{total:K,needsAttention:le,avgTime:ke}},[s]),pe=x.useMemo(()=>{let K=[...s];switch(E!=="all"&&(K=K.filter(le=>le.sequence_name===E||le.sequence_key===E)),T){case"recent":K.sort((le,ke)=>new Date(ke.last_interaction||0)-new Date(le.last_interaction||0));break;case"oldest":K.sort((le,ke)=>new Date(le.last_interaction||0)-new Date(ke.last_interaction||0));break;case"longest_wait":K.sort((le,ke)=>(ke.minutes_since_last_interaction||0)-(le.minutes_since_last_interaction||0));break;case"step":K.sort((le,ke)=>(ke.current_step||0)-(le.current_step||0));break;case"van":K.sort((le,ke)=>{const N=le.van_number||"",ve=ke.van_number||"";return N.toString().localeCompare(ve.toString(),void 0,{numeric:!0})});break}return K},[s,E,T]),U=K=>K<yy.active?{label:"Active",color:"green",dotColor:r.colors.accent.success}:K<yy.waiting?{label:"Waiting",color:"yellow",dotColor:r.colors.accent.warning}:{label:"Needs Attention",color:"red",dotColor:r.colors.accent.danger},F=K=>{if(!K)return"N/A";const le=new Date(K),N=new Date-le,ve=Math.floor(N/6e4),ee=Math.floor(ve/60),se=Math.floor(ee/24);return ve<1?"Just now":ve<60?`${ve}m ago`:ee<24?`${ee}h ${ve%60}m ago`:`${se}d ${ee%24}h ago`},ge=K=>{j(le=>{const ke=new Set(le);return ke.has(K)?ke.delete(K):ke.add(K),ke})},je=async K=>{if(!I[K]){ce(le=>new Set(le).add(K));try{const le=await fetch(`${my}/api/sequences/${K}/messages`,{credentials:"include"});if(!le.ok)throw new Error("Failed to fetch messages");const ke=await le.json();Q(N=>({...N,[K]:ke||[]}))}catch(le){console.error("Error fetching messages:",le),e("Failed to load messages","error")}finally{ce(le=>{const ke=new Set(le);return ke.delete(K),ke})}}},Oe=(K,le)=>{le.stopPropagation(),D(ke=>{const N=new Set(ke);return N.has(K)?N.delete(K):(N.add(K),I[K]||je(K)),N})},$=(K,le)=>{le.stopPropagation();const ke=K.replace(/\D/g,"");navigator.clipboard.writeText(ke).then(()=>{e("Phone number copied!","success")}).catch(()=>{e("Failed to copy phone number","error")})},L=async(K,le=!1)=>{w(K.id),_(null);try{const ke=await fetch(`${my}/api/sequences/${K.id}/close`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"closed",createTicket:le,closedBy:t?.email||"tech"})});if(!ke.ok)throw new Error("Failed to close sequence");const N=await ke.json();N.success?(le&&N.ticketNumber?e(`Sequence closed. Ticket #${N.ticketNumber} created.`,"success"):e("Sequence closed successfully","success"),c(ve=>ve.filter(ee=>ee.id!==K.id))):e(N.message||"Failed to close sequence","error")}catch(ke){console.error("Error closing sequence:",ke),e("Failed to close sequence","error")}finally{w(null)}},ue=(K,le)=>{_({sequence:K,createTicket:le,title:le?"Close & Create Ticket":"Close Sequence",message:le?`Close this sequence and create a support ticket for ${K.phone_number}?`:`Close this sequence for ${K.phone_number}? This cannot be undone.`})},xe=K=>{if(!K)return"Unknown";const le=K.replace(/\D/g,"");return le.length===10?`(${le.slice(0,3)}) ${le.slice(3,6)}-${le.slice(6)}`:le.length===11&&le.startsWith("1")?`+1 (${le.slice(1,4)}) ${le.slice(4,7)}-${le.slice(7)}`:K},ye=K=>K?new Date(K).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return d?l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(br,{user:t,onLogout:n,hasRole:i}),l.jsx("div",{style:{flex:1,marginLeft:"260px",padding:r.spacing.xl},children:l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:l.jsx(Ai,{size:48,style:{color:r.colors.accent.primary,animation:"spin 1s linear infinite"}})})})]}):l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(br,{user:t,onLogout:n,hasRole:i}),l.jsxs("div",{style:{flex:1,marginLeft:"260px",padding:r.spacing.xl},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsx(yx,{size:28,style:{color:r.colors.accent.primary}}),l.jsx("h1",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Active Sequences"}),l.jsx(Xe,{color:"blue",children:s.length})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[l.jsxs("button",{onClick:()=>v(!m),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:m?r.colors.accent.primary:"transparent",color:m?"#fff":r.colors.text.secondary,border:`1px solid ${m?r.colors.accent.primary:r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},title:m?"Auto-refresh enabled (30s)":"Auto-refresh disabled",children:[m?l.jsx($f,{size:16}):l.jsx(NK,{size:16}),"Auto-refresh"]}),l.jsxs("button",{onClick:()=>Z(!0),disabled:h,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:h?"not-allowed":"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,opacity:h?.6:1,transition:"all 0.2s"},children:[l.jsx(XE,{size:16,style:{animation:h?"spin 1s linear infinite":"none"}}),"Refresh"]})]})]}),l.jsx(Qe,{style:{marginBottom:r.spacing.lg},children:l.jsxs("div",{style:{padding:r.spacing.md,display:"flex",alignItems:"center",justifyContent:"center",gap:r.spacing.xl},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(yx,{size:18,style:{color:r.colors.accent.primary}}),l.jsxs("span",{style:{color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:[he.total," active"]})]}),l.jsx("div",{style:{width:"1px",height:"20px",backgroundColor:r.colors.border.light}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(Vn,{size:18,style:{color:he.needsAttention>0?r.colors.accent.danger:r.colors.text.tertiary}}),l.jsxs("span",{style:{color:he.needsAttention>0?r.colors.accent.danger:r.colors.text.secondary,fontWeight:he.needsAttention>0?r.fontWeight.semibold:r.fontWeight.normal},children:[he.needsAttention," waiting >30min"]})]}),l.jsx("div",{style:{width:"1px",height:"20px",backgroundColor:r.colors.border.light}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(_n,{size:18,style:{color:r.colors.text.tertiary}}),l.jsxs("span",{style:{color:r.colors.text.secondary},children:["Avg time: ",he.avgTime," min"]})]})]})}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.lg,alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(YE,{size:16,style:{color:r.colors.text.tertiary}}),l.jsxs("select",{value:E,onChange:K=>A(K.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",minWidth:"180px"},children:[l.jsx("option",{value:"all",children:"All Sequences"}),Se.map(K=>l.jsx("option",{value:K,children:K},K))]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(LF,{size:16,style:{color:r.colors.text.tertiary}}),l.jsx("select",{value:T,onChange:K=>O(K.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",minWidth:"180px"},children:UV.map(K=>l.jsx("option",{value:K.value,children:K.label},K.value))})]}),E!=="all"&&l.jsxs("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:["Showing ",pe.length," of ",s.length]})]}),pe.length===0&&l.jsx(Qe,{children:l.jsxs("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:[l.jsx(It,{size:48,style:{color:r.colors.accent.success,marginBottom:r.spacing.md}}),l.jsx("h3",{style:{margin:0,marginBottom:r.spacing.sm,color:r.colors.text.primary,fontSize:r.fontSize.lg},children:E!=="all"?"No Matching Sequences":"No Active Sequences"}),l.jsx("p",{style:{margin:0,fontSize:r.fontSize.sm},children:E!=="all"?"No sequences match the selected filter.":"There are no customers currently going through troubleshooting sequences."})]})}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:pe.map(K=>{const le=U(K.minutes_since_last_interaction||0),ke=S.has(K.id),N=k===K.id,ve=P.has(K.id),ee=fe.has(K.id),se=I[K.id]||[];return l.jsx(Qe,{style:{opacity:N?.6:1},children:l.jsxs("div",{style:{padding:r.spacing.lg},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg,cursor:"pointer"},onClick:()=>ge(K.id),children:[l.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:le.dotColor,flexShrink:0}}),l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:"4px"},children:[l.jsx(cs,{size:14,style:{color:r.colors.text.tertiary}}),l.jsxs("button",{onClick:Ne=>$(K.phone_number,Ne),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,background:"none",border:"none",padding:0,cursor:"pointer",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.base},title:"Click to copy phone number",children:[xe(K.phone_number),l.jsx(KE,{size:12,style:{color:r.colors.text.tertiary}})]}),K.owner_name&&l.jsxs("span",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["(",K.owner_name,")"]})]}),K.van_number&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(to,{size:14,style:{color:r.colors.text.tertiary}}),l.jsxs("span",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["Van #",K.van_number,K.van_make&&` - ${K.van_make}`,K.van_version&&` ${K.van_version}`,K.van_year&&` ${K.van_year}`]})]})]}),l.jsxs("div",{style:{textAlign:"center",minWidth:"150px"},children:[l.jsx("div",{style:{color:r.colors.text.primary,fontWeight:r.fontWeight.medium,fontSize:r.fontSize.sm},children:K.sequence_name||K.sequence_key}),l.jsxs("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs},children:["Step ",K.current_step]})]}),l.jsxs("div",{style:{textAlign:"right",minWidth:"120px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,justifyContent:"flex-end"},children:[l.jsx(_n,{size:14,style:{color:r.colors.text.tertiary}}),l.jsx("span",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:F(K.last_interaction)})]}),l.jsx(Xe,{color:le.color,size:"sm",style:{marginTop:"4px"},children:le.label})]}),l.jsx("div",{style:{flexShrink:0},children:ke?l.jsx(Df,{size:20,style:{color:r.colors.text.tertiary}}):l.jsx(di,{size:20,style:{color:r.colors.text.tertiary}})})]}),ke&&l.jsxs("div",{style:{marginTop:r.spacing.lg,paddingTop:r.spacing.lg,borderTop:`1px solid ${r.colors.border.light}`},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:r.spacing.md,marginBottom:r.spacing.lg},children:[K.sequence_description&&l.jsxs("div",{children:[l.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Description"}),l.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:K.sequence_description})]}),l.jsxs("div",{children:[l.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Started"}),l.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:K.started_at?new Date(K.started_at).toLocaleString():"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Last Interaction"}),l.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:K.last_interaction?new Date(K.last_interaction).toLocaleString():"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Handoff Count"}),l.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:K.handoff_count||0})]}),K.owner_phone&&l.jsxs("div",{children:[l.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Owner Phone"}),l.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:xe(K.owner_phone)})]})]}),l.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[l.jsxs("button",{onClick:Ne=>Oe(K.id,Ne),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:ve?r.colors.background.tertiary:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},children:[l.jsx(ki,{size:16}),ve?"Hide Messages":"View Messages",ve?l.jsx(Df,{size:14}):l.jsx(di,{size:14})]}),ve&&l.jsx("div",{style:{marginTop:r.spacing.md,padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,maxHeight:"400px",overflowY:"auto"},children:ee?l.jsx("div",{style:{display:"flex",justifyContent:"center",padding:r.spacing.lg},children:l.jsx(Ai,{size:24,style:{color:r.colors.accent.primary,animation:"spin 1s linear infinite"}})}):se.length===0?l.jsx("div",{style:{textAlign:"center",color:r.colors.text.tertiary,padding:r.spacing.lg},children:"No messages found"}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.sm},children:se.map(Ne=>{const re=Ne.direction==="outbound";return l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:re?"flex-start":"flex-end"},children:[l.jsx("div",{style:{maxWidth:"80%",padding:r.spacing.sm,borderRadius:r.radius.md,backgroundColor:re?r.colors.background.secondary:r.colors.accent.primary,color:re?r.colors.text.primary:"#fff",fontSize:r.fontSize.sm,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:Ne.message_body}),l.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:"2px"},children:[ye(Ne.created_at),re?" (System)":" (Customer)"]})]},Ne.id)})})})]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,justifyContent:"flex-end"},children:[l.jsxs("button",{onClick:Ne=>{Ne.stopPropagation(),ue(K,!1)},disabled:N,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:N?"not-allowed":"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},children:[l.jsx(Ut,{size:16}),"Close Sequence"]}),l.jsxs("button",{onClick:Ne=>{Ne.stopPropagation(),ue(K,!0)},disabled:N,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.primary,color:"#fff",border:"none",borderRadius:r.radius.md,cursor:N?"not-allowed":"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},children:[N?l.jsx(Ai,{size:16,style:{animation:"spin 1s linear infinite"}}):l.jsx(ua,{size:16}),"Close & Create Ticket"]})]})]})]})},K.id)})}),C&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:l.jsx(Qe,{style:{width:"400px",maxWidth:"90vw"},children:l.jsxs("div",{style:{padding:r.spacing.xl},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.lg},children:[l.jsx(Vn,{size:24,style:{color:r.colors.accent.warning}}),l.jsx("h3",{style:{margin:0,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:C.title})]}),l.jsx("p",{style:{margin:0,marginBottom:r.spacing.xl,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:C.message}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>_(null),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"Cancel"}),l.jsx("button",{onClick:()=>L(C.sequence,C.createTicket),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:C.createTicket?r.colors.accent.primary:r.colors.accent.danger,color:"#fff",border:"none",borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:C.createTicket?"Create Ticket":"Close"})]})]})})})]})]})},Hd=e=>{if(!e)return{valid:!1,error:"Phone number is required"};const t=e.replace(/\D/g,"");return t.length===10||t.length===11&&t[0]==="1"?{valid:!0,formatted:nO(t)}:{valid:!1,error:"Phone number must be 10 digits"}},nO=e=>{const t=e.replace(/\D/g,"");if(t.length===11&&t[0]==="1"){const n=t.slice(1,4),i=t.slice(4,7),s=t.slice(7,11);return`+1 (${n}) ${i}-${s}`}if(t.length===10){const n=t.slice(0,3),i=t.slice(3,6),s=t.slice(6,10);return`+1 (${n}) ${i}-${s}`}return e},iO=e=>e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?{valid:!0}:{valid:!1,error:"Invalid email format"}:{valid:!1,error:"Email is required"},FV=e=>{if(!e)return{valid:!1,error:"Year is required"};const t=new Date().getFullYear(),n=parseInt(e,10);return isNaN(n)?{valid:!1,error:"Year must be a number"}:n<2e3?{valid:!1,error:"Year must be 2000 or later"}:n>t+1?{valid:!1,error:`Year cannot be later than ${t+1}`}:{valid:!0}},KV=e=>!e||e.trim()===""?{valid:!1,error:"Van number is required"}:{valid:!0},YV=e=>{if(!e||e.trim()==="")return{valid:!0};const t=e.toUpperCase();return t.length!==17?{valid:!1,error:"VIN must be exactly 17 characters"}:/[IOQ]/.test(t)?{valid:!1,error:"VIN cannot contain letters I, O, or Q"}:{valid:!0}},aO=e=>!e||e.trim()===""?{valid:!1,error:"Name is required"}:e.trim().length<2?{valid:!1,error:"Name must be at least 2 characters"}:{valid:!0},VV=e=>{const t=["Ford","Mercedes"];return e?t.includes(e)?{valid:!0}:{valid:!1,error:"Make must be Ford or Mercedes"}:{valid:!1,error:"Make is required"}},GV=e=>{const t=["3000","4000"];return e?t.includes(e)?{valid:!0}:{valid:!1,error:"Version must be 3000 or 4000"}:{valid:!1,error:"Version is required"}};function XV(){const{user:e,logout:t,hasRole:n}=fn(),[i,s]=Bf(),[c,d]=x.useState([]),[p,h]=x.useState([]),[g,m]=x.useState(!0),[v,S]=x.useState(""),[j,k]=x.useState(""),[w,C]=x.useState(""),[_,E]=x.useState(""),[A,T]=x.useState(""),[O,P]=x.useState(""),[D,I]=x.useState(""),[Q,fe]=x.useState(parseInt(i.get("page"))||1),[ce,Z]=x.useState(parseInt(i.get("limit"))||25),[Se,he]=x.useState(null),[pe,U]=x.useState(!1),[F,ge]=x.useState(!1),[je,Oe]=x.useState(!1),[$,L]=x.useState(null),[ue,xe]=x.useState(null),[ye,K]=x.useState({van_number:"",make:"",version:"",year:new Date().getFullYear(),vin:"",owner_id:""}),[le,ke]=x.useState({});x.useEffect(()=>{const q=setTimeout(()=>{if(E(w),w!==_){fe(1);const Me=new URLSearchParams(i);Me.set("page","1"),s(Me)}},500);return()=>clearTimeout(q)},[w]);const N=x.useCallback(async()=>{m(!0),S("");try{const q=new URLSearchParams({page:Q.toString(),limit:ce.toString()});_&&_.trim()!==""&&q.append("search",_.trim());const Me=await fetch(`/api/vans?${q.toString()}`,{credentials:"include"});if(!Me.ok)throw new Error("Failed to fetch vans");const He=await Me.json();d(He.vans||[]),he(He.pagination),console.log(" Vans fetched:",He.vans?.length||0,"Pagination:",He.pagination)}catch(q){console.error("Error fetching vans:",q),S(q.message)}finally{m(!1)}},[Q,ce,_]),ve=x.useCallback(async()=>{try{const q=await fetch("/api/owners?limit=100",{credentials:"include"});if(!q.ok)throw new Error("Failed to fetch owners");const Me=await q.json();h(Me.owners||Me)}catch(q){console.error("Error fetching owners:",q)}},[]);x.useEffect(()=>{N(),ve()},[N,ve]);const ee=x.useCallback(()=>{K({van_number:"",make:"",version:"",year:new Date().getFullYear(),vin:"",owner_id:""}),ke({})},[]),se=x.useCallback(()=>{const q={},Me=KV(ye.van_number);Me.valid||(q.van_number=Me.error);const He=VV(ye.make);He.valid||(q.make=He.error);const Be=GV(ye.version);Be.valid||(q.version=Be.error);const at=FV(ye.year);if(at.valid||(q.year=at.error),ye.vin){const Pe=YV(ye.vin);Pe.valid||(q.vin=Pe.error)}return ye.owner_id||(q.owner_id="Owner is required"),ke(q),Object.keys(q).length===0},[ye]),Ne=x.useCallback((q,Me)=>{K(He=>({...He,[q]:Me}))},[]),re=x.useCallback(q=>{k(q),setTimeout(()=>k(""),3e3)},[]),Ee=x.useCallback(async()=>{if(console.log(" handleCreateVan called"),console.log(" vanForm:",ye),!se()){S("Please fix validation errors");return}try{console.log(" Submitting to API...");const q=await fetch("/api/vans",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(ye)});console.log(" Response status:",q.status);const Me=await q.json();if(console.log(" Response data:",Me),!q.ok)throw new Error(Me.error||"Failed to create van");await N(),U(!1),ee(),re("Van created successfully")}catch(q){console.error(" Error creating van:",q),S(q.message)}},[ye,se,ee,re]),ze=x.useCallback(async()=>{if(console.log(" handleUpdateVan called"),console.log(" editingVan:",$),console.log(" vanForm:",ye),!se()){console.log(" Validation failed"),S("Please fix validation errors");return}try{console.log(" Submitting to API...");const q=await fetch(`/api/vans/${$.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(ye)});console.log(" Response status:",q.status);const Me=await q.json();if(console.log(" Response data:",Me),!q.ok)throw new Error(Me.error||"Failed to update van");await N(),ge(!1),L(null),ee(),re("Van updated successfully")}catch(q){console.error(" Error updating van:",q),S(q.message)}},[$,ye,se,ee,re]),$e=x.useCallback(async()=>{try{console.log(" handleDeleteVan called"),console.log(" deletingVan:",ue),console.log(" Checking for dependencies...");const q=await fetch(`/api/vans/${ue.id}/check-dependencies`,{credentials:"include"});if(!q.ok)throw new Error("Failed to check van dependencies");const Me=await q.json();if(console.log(" Dependency check result:",Me),Me.hasDependencies){const at=`Cannot delete van ${ue.van_number}. ${Me.message}. You cannot delete vans with historical data to maintain analytics integrity.`;console.log(" Cannot delete - has dependencies:",at),S(at),Oe(!1),xe(null);return}console.log(" No dependencies found, proceeding with deletion...");const He=await fetch(`/api/vans/${ue.id}`,{method:"DELETE",credentials:"include"});if(console.log(" Response status:",He.status),!He.ok){const at=await He.json();throw new Error(at.error||"Failed to delete van")}const Be=await He.json();console.log(" Response data:",Be),await N(),Oe(!1),xe(null),re(`Van ${ue.van_number} deleted successfully!`)}catch(q){console.error(" Error deleting van:",q),S(q.message)}},[ue,re]),Ye=x.useCallback(q=>{L(q),K({van_number:q.van_number||"",make:q.make||"",version:q.version||"",year:q.year||new Date().getFullYear(),vin:q.vin||"",owner_id:q.owner_id||""}),ke({}),ge(!0)},[]),Ze=x.useCallback(q=>{xe(q),Oe(!0)},[]),X=x.useCallback(q=>{fe(q);const Me=new URLSearchParams(i);Me.set("page",q.toString()),s(Me),window.scrollTo({top:0,behavior:"smooth"})},[i,s]),Te=x.useCallback(q=>{Z(q),fe(1);const Me=new URLSearchParams(i);Me.set("limit",q.toString()),Me.set("page","1"),s(Me)},[i,s]),ot=x.useMemo(()=>{let q=[...c];return A&&(q=q.filter(Me=>Me.make===A)),O&&(q=q.filter(Me=>Me.year>=parseInt(O))),D&&(q=q.filter(Me=>Me.year<=parseInt(D))),q},[c,A,O,D]),J=x.useMemo(()=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Van Number ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"text",value:ye.van_number,onChange:q=>Ne("van_number",q.target.value.toUpperCase()),placeholder:"e.g., VAN001",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${le.van_number?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,textTransform:"uppercase"}}),le.van_number&&l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:le.van_number})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Make ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsxs("select",{value:ye.make,onChange:q=>Ne("make",q.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${le.make?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[l.jsx("option",{value:"",children:"Select make..."}),l.jsx("option",{value:"Ford",children:"Ford"}),l.jsx("option",{value:"Mercedes",children:"Mercedes"})]}),le.make&&l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:le.make})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Version ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsxs("select",{value:ye.version,onChange:q=>Ne("version",q.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${le.version?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[l.jsx("option",{value:"",children:"Select version..."}),l.jsx("option",{value:"3000",children:"3000"}),l.jsx("option",{value:"4000",children:"4000"})]}),le.version&&l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:le.version})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Year ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"number",value:ye.year,onChange:q=>Ne("year",q.target.value),min:"2000",max:new Date().getFullYear()+1,style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${le.year?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),le.year&&l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:le.year})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"VIN (Optional)"}),l.jsx("input",{type:"text",value:ye.vin,onChange:q=>Ne("vin",q.target.value.toUpperCase()),placeholder:"17-character VIN",maxLength:17,style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${le.vin?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontFamily:"monospace",textTransform:"uppercase"}}),le.vin&&l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:le.vin})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Owner ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsxs("select",{value:ye.owner_id,onChange:q=>Ne("owner_id",q.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${le.owner_id?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[l.jsx("option",{value:"",children:"Select owner..."}),p.map(q=>l.jsxs("option",{value:q.id,children:[q.name," - ",q.phone]},q.id))]}),le.owner_id&&l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:le.owner_id})]})]}),[ye,le,p,Ne]);return g?l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(br,{user:e,onLogout:t,hasRole:n}),l.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:l.jsx("div",{style:{textAlign:"center",padding:r.spacing["2xl"]},children:l.jsx("p",{style:{color:r.colors.text.secondary},children:"Loading vans..."})})})]}):l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(br,{user:e,onLogout:t,hasRole:n}),l.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[j&&l.jsx("div",{style:{backgroundColor:r.colors.status.success+"20",color:r.colors.status.success,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.status.success}`},children:j}),v&&l.jsx("div",{style:{backgroundColor:r.colors.accent.danger+"20",color:r.colors.accent.danger,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.accent.danger}`},children:v}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:r.spacing.xl},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[l.jsx(to,{size:32,color:r.colors.accent.primary,strokeWidth:2}),l.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Vans"}),Se&&Se.totalCount>0&&l.jsx("span",{style:{backgroundColor:r.colors.accent.primary,color:"#ffffff",padding:`${r.spacing.xs} ${r.spacing.sm}`,borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:Se.totalCount})]}),l.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Manage mobile grooming vans and their owners"})]}),n("admin")&&l.jsxs("button",{onClick:()=>{ee(),U(!0)},style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:q=>q.currentTarget.style.backgroundColor=r.colors.accent.secondary,onMouseLeave:q=>q.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[l.jsx(Or,{size:20}),"Add New Van"]})]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.lg,flexWrap:"wrap"},children:[l.jsx("div",{style:{flex:1,minWidth:"300px"},children:l.jsxs("div",{style:{position:"relative"},children:[l.jsx(pi,{size:20,style:{position:"absolute",left:r.spacing.sm,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary}}),l.jsx("input",{type:"text",placeholder:"Search by van number, make, or owner...",value:w,onChange:q=>C(q.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.sm} ${r.spacing.sm} 40px`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]})}),l.jsxs("select",{value:A,onChange:q=>T(q.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[l.jsx("option",{value:"",children:"All Makes"}),l.jsx("option",{value:"Ford",children:"Ford"}),l.jsx("option",{value:"Mercedes",children:"Mercedes"})]}),l.jsx("input",{type:"number",placeholder:"Year from",value:O,onChange:q=>P(q.target.value),style:{padding:`${r.spacing.sm}`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,width:"120px"}}),l.jsx("input",{type:"number",placeholder:"Year to",value:D,onChange:q=>I(q.target.value),style:{padding:`${r.spacing.sm}`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,width:"120px"}})]}),l.jsx(Qe,{children:ot.length===0&&!g?l.jsxs("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:[l.jsx(to,{size:48,style:{marginBottom:r.spacing.md,opacity:.3}}),l.jsx("p",{style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium},children:"No vans found"}),l.jsx("p",{style:{fontSize:r.fontSize.sm},children:w||A||O||D?"Try adjusting your filters":"Add your first van to get started"})]}):l.jsxs("div",{style:{overflowX:"auto"},children:[l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:`2px solid ${r.colors.border.medium}`},children:[l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Van Number"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Make"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Version"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Year"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Owner"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"right",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Actions"})]})}),l.jsx("tbody",{children:ot.map(q=>l.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.2s"},onMouseEnter:Me=>Me.currentTarget.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:Me=>Me.currentTarget.style.backgroundColor="transparent",children:[l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("div",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:q.van_number})}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.primary+"20",color:r.colors.accent.primary,borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:q.make})}),l.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:q.version||"-"}),l.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:q.year}),l.jsx("td",{style:{padding:r.spacing.md},children:q.owner?l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,fontWeight:r.fontWeight.medium},children:q.owner.name}),l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:q.owner.phone})]}):l.jsx("span",{style:{color:r.colors.text.tertiary},children:"-"})}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"right"},children:n("admin")&&l.jsxs("div",{style:{display:"flex",gap:r.spacing.xs,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>Ye(q),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Edit van",children:l.jsx(Jc,{size:16})}),l.jsx("button",{onClick:()=>Ze(q),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete van",children:l.jsx(kn,{size:16})})]})})]},q.id))})]}),Se&&Se.totalCount>0&&l.jsx(mc,{currentPage:Se.page,totalPages:Se.totalPages,pageSize:Se.limit,totalCount:Se.totalCount,onPageChange:X,onPageSizeChange:Te,loading:g})]})}),pe&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>U(!1),children:l.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:q=>q.stopPropagation(),children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Add New Van"}),l.jsx("button",{onClick:()=>U(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:l.jsx(Ut,{size:24})})]}),l.jsxs("div",{style:{padding:r.spacing.xl},children:[J,l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[l.jsx("button",{onClick:Ee,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Create Van"}),l.jsx("button",{onClick:()=>U(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),F&&$&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>ge(!1),children:l.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:q=>q.stopPropagation(),children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Edit Van"}),l.jsx("button",{onClick:()=>ge(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:l.jsx(Ut,{size:24})})]}),l.jsxs("div",{style:{padding:r.spacing.xl},children:[J,l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[l.jsx("button",{onClick:ze,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Save Changes"}),l.jsx("button",{onClick:()=>ge(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),je&&ue&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>Oe(!1),children:l.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"500px",padding:r.spacing.xl},onClick:q=>q.stopPropagation(),children:[l.jsx("h2",{style:{margin:0,marginBottom:r.spacing.md,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Delete Van?"}),l.jsxs("p",{style:{margin:0,marginBottom:r.spacing.lg,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["Are you sure you want to delete van ",l.jsx("strong",{children:ue.van_number}),"?"]}),l.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,marginBottom:r.spacing.lg},children:[l.jsxs("p",{style:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[l.jsx("strong",{children:"Make:"})," ",ue.make," ",ue.version]}),l.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[l.jsx("strong",{children:"Year:"})," ",ue.year]}),l.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[l.jsx("strong",{children:"Owner:"})," ",ue.owner?.name]})]}),l.jsx("p",{style:{margin:0,marginBottom:r.spacing.xl,color:r.colors.accent.danger,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"This action cannot be undone."}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[l.jsx("button",{onClick:$e,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Delete Van"}),l.jsx("button",{onClick:()=>Oe(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})})]})]})}function QV(){const{user:e,logout:t,hasRole:n}=fn(),[i,s]=Bf(),[c,d]=x.useState([]),[p,h]=x.useState(!0),[g,m]=x.useState(""),[v,S]=x.useState(""),[j,k]=x.useState(""),[w,C]=x.useState(""),[_,E]=x.useState(parseInt(i.get("page"))||1),[A,T]=x.useState(parseInt(i.get("limit"))||25),[O,P]=x.useState(null),[D,I]=x.useState(!1),[Q,fe]=x.useState(!1),[ce,Z]=x.useState(!1),[Se,he]=x.useState(null),[pe,U]=x.useState(null),[F,ge]=x.useState({name:"",company:"",phone:"",email:""}),[je,Oe]=x.useState({});x.useEffect(()=>{const re=setTimeout(()=>{if(C(j),j!==w){E(1);const Ee=new URLSearchParams(i);Ee.set("page","1"),s(Ee)}},500);return()=>clearTimeout(re)},[j]);const $=x.useCallback(async()=>{h(!0),m("");try{const re=new URLSearchParams({page:_.toString(),limit:A.toString()});w&&w.trim()!==""&&re.append("search",w.trim());const Ee=await fetch(`/api/owners?${re.toString()}`,{credentials:"include"});if(!Ee.ok)throw new Error("Failed to fetch owners");const ze=await Ee.json();d(ze.owners||[]),P(ze.pagination),console.log(" Owners fetched:",ze.owners?.length||0,"Pagination:",ze.pagination)}catch(re){console.error("Error fetching owners:",re),m(re.message)}finally{h(!1)}},[_,A,w]);x.useEffect(()=>{$()},[$]);const L=x.useCallback(()=>{ge({name:"",company:"",phone:"",email:""}),Oe({})},[]),ue=x.useCallback(()=>{const re={},Ee=aO(F.name);Ee.valid||(re.name=Ee.error);const ze=Hd(F.phone);ze.valid||(re.phone=ze.error);const $e=iO(F.email);return $e.valid||(re.email=$e.error),Oe(re),Object.keys(re).length===0},[F]),xe=x.useCallback((re,Ee)=>{ge(ze=>({...ze,[re]:Ee}))},[]),ye=x.useCallback(re=>{S(re),setTimeout(()=>S(""),3e3)},[]),K=x.useCallback(async()=>{if(console.log(" handleCreateOwner called"),console.log(" ownerForm:",F),!ue()){m("Please fix validation errors");return}try{const re=Hd(F.phone),Ee={...F,phone:re.formatted||F.phone};console.log(" Submitting to API...");const ze=await fetch("/api/owners",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Ee)});console.log(" Response status:",ze.status);const $e=await ze.json();if(console.log(" Response data:",$e),!ze.ok)throw new Error($e.error||"Failed to create owner");await $(),I(!1),L(),ye("Owner created successfully")}catch(re){console.error(" Error creating owner:",re),m(re.message)}},[F,ue,L,ye]),le=x.useCallback(async()=>{if(console.log(" handleUpdateOwner called"),console.log(" editingOwner:",Se),console.log(" ownerForm:",F),!ue()){console.log(" Validation failed"),m("Please fix validation errors");return}try{const re=Hd(F.phone),Ee={...F,phone:re.formatted||F.phone};console.log(" Submitting to API...");const ze=await fetch(`/api/owners/${Se.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Ee)});console.log(" Response status:",ze.status);const $e=await ze.json();if(console.log(" Response data:",$e),!ze.ok)throw new Error($e.error||"Failed to update owner");await $(),fe(!1),he(null),L(),ye("Owner updated successfully")}catch(re){console.error(" Error updating owner:",re),m(re.message)}},[Se,F,ue,L,ye]),ke=x.useCallback(async()=>{try{console.log(" handleDeleteOwner called"),console.log(" deletingOwner:",pe),console.log(" Checking for dependencies...");const re=await fetch(`/api/owners/${pe.id}/check-dependencies`,{credentials:"include"});if(!re.ok)throw new Error("Failed to check owner dependencies");const Ee=await re.json();if(console.log(" Dependency check result:",Ee),Ee.hasDependencies){const Ye=`Cannot delete ${pe.name}. ${Ee.message}. You cannot delete owners with historical data to maintain system integrity.`;console.log(" Cannot delete - has dependencies:",Ye),m(Ye),Z(!1),U(null);return}console.log(" No dependencies found, proceeding with deletion...");const ze=await fetch(`/api/owners/${pe.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"});if(console.log(" Response status:",ze.status),!ze.ok){const Ye=await ze.json();throw new Error(Ye.error||"Failed to delete owner")}const $e=await ze.json();console.log(" Response data:",$e),await $(),Z(!1),U(null),ye(`Owner ${pe.name} deleted successfully!`)}catch(re){console.error(" Error deleting owner:",re),m(re.message)}},[pe,ye]),N=x.useCallback(re=>{he(re),ge({name:re.name||"",company:re.company||"",phone:re.phone||"",email:re.email||""}),Oe({}),fe(!0)},[]),ve=x.useCallback(re=>{U(re),Z(!0)},[]),ee=x.useCallback(re=>{E(re);const Ee=new URLSearchParams(i);Ee.set("page",re.toString()),s(Ee),window.scrollTo({top:0,behavior:"smooth"})},[i,s]),se=x.useCallback(re=>{T(re),E(1);const Ee=new URLSearchParams(i);Ee.set("limit",re.toString()),Ee.set("page","1"),s(Ee)},[i,s]),Ne=x.useMemo(()=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Name ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"text",value:F.name,onChange:re=>xe("name",re.target.value),placeholder:"Enter owner name",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${je.name?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),je.name&&l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:je.name})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Company"}),l.jsx("input",{type:"text",value:F.company,onChange:re=>xe("company",re.target.value),placeholder:"Company name (optional)",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Phone ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"tel",value:F.phone,onChange:re=>xe("phone",re.target.value),placeholder:"(555) 123-4567",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${je.phone?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),je.phone&&l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:je.phone})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Email ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"email",value:F.email,onChange:re=>xe("email",re.target.value),placeholder:"owner@example.com",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${je.email?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),je.email&&l.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:je.email})]})]}),[F,je,xe]);return p?l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(br,{user:e,onLogout:t,hasRole:n}),l.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:l.jsx("div",{style:{textAlign:"center",padding:r.spacing["2xl"]},children:l.jsx("p",{style:{color:r.colors.text.secondary},children:"Loading owners..."})})})]}):l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(br,{user:e,onLogout:t,hasRole:n}),l.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[v&&l.jsx("div",{style:{backgroundColor:r.colors.status.success+"20",color:r.colors.status.success,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.status.success}`},children:v}),g&&l.jsx("div",{style:{backgroundColor:r.colors.accent.danger+"20",color:r.colors.accent.danger,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.accent.danger}`},children:g}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:r.spacing.xl},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[l.jsx(bx,{size:32,color:r.colors.accent.primary,strokeWidth:2}),l.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Owners"}),O&&O.totalCount>0&&l.jsx("span",{style:{padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.primary+"20",color:r.colors.accent.primary,borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold},children:O.totalCount})]}),l.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Manage van owners and their contact information"})]}),n("admin")&&l.jsxs("button",{onClick:()=>{L(),I(!0)},style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:re=>re.currentTarget.style.backgroundColor=r.colors.accent.secondary,onMouseLeave:re=>re.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[l.jsx(Or,{size:20}),"Add New Owner"]})]}),l.jsx("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.lg,flexWrap:"wrap"},children:l.jsx("div",{style:{flex:1,minWidth:"300px"},children:l.jsxs("div",{style:{position:"relative"},children:[l.jsx(pi,{size:20,style:{position:"absolute",left:r.spacing.sm,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary}}),l.jsx("input",{type:"text",placeholder:"Search by name, company, phone, or email...",value:j,onChange:re=>k(re.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.sm} ${r.spacing.sm} 40px`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]})})}),l.jsx(Qe,{children:c.length===0&&!p?l.jsxs("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:[l.jsx(bx,{size:48,style:{marginBottom:r.spacing.md,opacity:.3}}),l.jsx("p",{style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium},children:"No owners found"}),l.jsx("p",{style:{fontSize:r.fontSize.sm},children:j?"Try adjusting your search":"Add your first owner to get started"})]}):l.jsxs("div",{style:{overflowX:"auto"},children:[l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:`2px solid ${r.colors.border.medium}`},children:[l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Name"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Company"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Phone"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Email"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Vans"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"right",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Actions"})]})}),l.jsx("tbody",{children:c.map(re=>l.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.2s"},onMouseEnter:Ee=>Ee.currentTarget.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:Ee=>Ee.currentTarget.style.backgroundColor="transparent",children:[l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("div",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:re.name})}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:re.company||"-"})}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:re.phone})}),l.jsx("td",{style:{padding:r.spacing.md},children:l.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:re.email})}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},children:l.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:re.van_count>0?r.colors.accent.primary+"20":r.colors.background.tertiary,color:re.van_count>0?r.colors.accent.primary:r.colors.text.tertiary,borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:re.van_count||0})}),l.jsx("td",{style:{padding:r.spacing.md,textAlign:"right"},children:n("admin")&&l.jsxs("div",{style:{display:"flex",gap:r.spacing.xs,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>N(re),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Edit owner",children:l.jsx(Jc,{size:16})}),l.jsx("button",{onClick:()=>ve(re),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete owner",children:l.jsx(kn,{size:16})})]})})]},re.id))})]}),O&&O.totalCount>0&&l.jsx(mc,{currentPage:O.page,totalPages:O.totalPages,pageSize:O.limit,totalCount:O.totalCount,onPageChange:ee,onPageSizeChange:se,loading:p})]})}),D&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>I(!1),children:l.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:re=>re.stopPropagation(),children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Add New Owner"}),l.jsx("button",{onClick:()=>I(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:l.jsx(Ut,{size:24})})]}),l.jsxs("div",{style:{padding:r.spacing.xl},children:[Ne,l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[l.jsx("button",{onClick:K,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Create Owner"}),l.jsx("button",{onClick:()=>I(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),Q&&Se&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>fe(!1),children:l.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:re=>re.stopPropagation(),children:[l.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Edit Owner"}),l.jsx("button",{onClick:()=>fe(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:l.jsx(Ut,{size:24})})]}),l.jsxs("div",{style:{padding:r.spacing.xl},children:[Ne,Se.van_count>0&&l.jsx("div",{style:{marginTop:r.spacing.lg,padding:r.spacing.md,backgroundColor:r.colors.accent.warning+"10",borderRadius:r.radius.md,border:`1px solid ${r.colors.accent.warning}40`},children:l.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.warning,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[l.jsx(gi,{size:14}),"This owner has ",Se.van_count," van(s). Changes will affect all associated vans."]})}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[l.jsx("button",{onClick:le,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Save Changes"}),l.jsx("button",{onClick:()=>fe(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),ce&&pe&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>Z(!1),children:l.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"500px",padding:r.spacing.xl},onClick:re=>re.stopPropagation(),children:[l.jsx("h2",{style:{margin:0,marginBottom:r.spacing.md,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Delete Owner?"}),l.jsxs("p",{style:{margin:0,marginBottom:r.spacing.lg,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["Are you sure you want to delete ",l.jsx("strong",{children:pe.name}),"?"]}),l.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,marginBottom:r.spacing.lg},children:[l.jsxs("p",{style:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[l.jsx("strong",{children:"Email:"})," ",pe.email]}),l.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[l.jsx("strong",{children:"Phone:"})," ",pe.phone]}),pe.company&&l.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[l.jsx("strong",{children:"Company:"})," ",pe.company]})]}),l.jsx("p",{style:{margin:0,marginBottom:r.spacing.xl,color:r.colors.accent.danger,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"This action cannot be undone."}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[l.jsx("button",{onClick:ke,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Delete Owner"}),l.jsx("button",{onClick:()=>Z(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})})]})]})}function ZV(){const{user:e,logout:t,hasPermission:n,hasRole:i}=fn(),[s,c]=x.useState([]),[d,p]=x.useState([]),[h,g]=x.useState(!0),[m,v]=x.useState(""),[S,j]=x.useState(""),[k,w]=x.useState(""),[C,_]=x.useState(""),[E,A]=x.useState("all"),[T,O]=x.useState(!1),[P,D]=x.useState(!1),[I,Q]=x.useState(!1),[fe,ce]=x.useState(!1),[Z,Se]=x.useState(null),[he,pe]=x.useState(null),[U,F]=x.useState(null),[ge,je]=x.useState(""),[Oe,$]=x.useState(""),[L,ue]=x.useState({email:"",password:"",full_name:"",phone:"",role_name:""}),[xe,ye]=x.useState({});x.useEffect(()=>{K(),le()},[]);const K=async()=>{g(!0),v("");try{console.log(" Fetching users...");const J=await fetch("/api/users",{credentials:"include"});if(!J.ok)throw new Error("Failed to fetch users");const q=await J.json();console.log(" Users data:",q),c(q)}catch(J){console.error(" Error fetching users:",J),v(J.message)}finally{g(!1)}},le=async()=>{try{console.log(" Fetching roles...");const J=await fetch("/api/roles",{credentials:"include"});if(!J.ok){p([{name:"admin",description:"Full system access"},{name:"manager",description:"Management access"},{name:"technician",description:"Technical access"},{name:"viewer",description:"Read-only access"}]);return}const q=await J.json();console.log(" Roles data:",q),p(q)}catch(J){console.error(" Error fetching roles:",J),p([{name:"admin",description:"Full system access"},{name:"manager",description:"Management access"},{name:"technician",description:"Technical access"},{name:"viewer",description:"Read-only access"}])}},ke=x.useCallback(()=>{ue({email:"",password:"",full_name:"",phone:"",role_name:""}),ye({})},[]),N=x.useCallback((J=!1)=>{const q={},Me=iO(L.email);if(Me.valid||(q.email=Me.error),!J&&!L.password&&(q.password="Password is required"),!J&&L.password&&L.password.length<6&&(q.password="Password must be at least 6 characters"),L.full_name){const He=aO(L.full_name);He.valid||(q.full_name=He.error)}if(L.phone){const He=Hd(L.phone);He.valid||(q.phone=He.error)}return L.role_name||(q.role_name="Role is required"),ye(q),Object.keys(q).length===0},[L]),ve=x.useCallback((J,q)=>{ue(Me=>({...Me,[J]:q})),ye(Me=>({...Me,[J]:""}))},[]),ee=x.useCallback(J=>{j(J),setTimeout(()=>j(""),3e3)},[]),se=x.useCallback(async()=>{if(console.log(" handleCreateUser called"),console.log(" userForm:",L),!N(!1)){v("Please fix validation errors"),setTimeout(()=>v(""),5e3);return}if(L.role_name==="admin"&&!window.confirm(" You are creating an admin user with full system access. Are you sure?")){console.log(" Admin user creation cancelled by user");return}try{console.log(" Submitting to API...");const J=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(L)});console.log(" Response status:",J.status);const q=await J.json();if(console.log(" Response data:",q),!J.ok)throw new Error(q.error||"Failed to create user");await K(),O(!1),ke(),ee("User created successfully")}catch(J){console.error(" Error creating user:",J),v(J.message),setTimeout(()=>v(""),5e3)}},[L,N,ke,ee]),Ne=x.useCallback(async()=>{if(console.log(" handleUpdateUser called"),console.log(" editingUser:",Z),console.log(" userForm:",L),!N(!0)){console.log(" Validation failed"),v("Please fix validation errors"),setTimeout(()=>v(""),5e3);return}if(Z.id===e.id&&L.role_name!==Z.role?.name){v("Cannot modify your own role"),setTimeout(()=>v(""),5e3);return}if(L.role_name==="admin"&&Z.role?.name!=="admin"&&!window.confirm(" You are assigning admin role with full system access. Are you sure?")){console.log(" Admin role assignment cancelled by user");return}try{console.log(" Submitting to API...");const{password:J,...q}=L,Me=await fetch(`/api/users/${Z.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(q)});console.log(" Response status:",Me.status);const He=await Me.json();if(console.log(" Response data:",He),!Me.ok)throw new Error(He.error||"Failed to update user");await K(),D(!1),Se(null),ke(),ee("User updated successfully")}catch(J){console.error(" Error updating user:",J),v(J.message),setTimeout(()=>v(""),5e3)}},[Z,L,N,ke,ee,e]),re=x.useCallback(async()=>{try{if(console.log(" handleDeactivateUser called"),console.log(" deactivatingUser:",he),he.id===e.id){v("Cannot deactivate your own account"),setTimeout(()=>v(""),5e3),Q(!1),pe(null);return}console.log(" Sending deactivation request...");const J=await fetch(`/api/users/${he.id}`,{method:"DELETE",credentials:"include"});if(console.log(" Response status:",J.status),!J.ok){const Me=await J.json();throw new Error(Me.error||"Failed to deactivate user")}const q=await J.json();console.log(" Response data:",q),await K(),Q(!1),pe(null),ee(`User ${he.email} deactivated successfully!`)}catch(J){console.error(" Error deactivating user:",J),v(J.message),setTimeout(()=>v(""),5e3)}},[he,ee,e]),Ee=x.useCallback(J=>{Se(J),ue({email:J.email||"",password:"",full_name:J.full_name||"",phone:J.phone||"",role_name:J.role?.name||""}),ye({}),D(!0)},[]),ze=x.useCallback(J=>{pe(J),Q(!0)},[]),$e=x.useCallback(J=>{F(J),je(""),$(""),ce(!0)},[]),Ye=x.useCallback(async()=>{try{if(console.log(" handleResetPassword called"),console.log(" resettingUser:",U),$(""),!ge||ge.length<6){$("Password must be at least 6 characters");return}console.log(" Sending password reset request...");const J=await fetch(`/api/users/${U.id}/reset-password`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({new_password:ge})});console.log(" Response status:",J.status);const q=await J.json();if(console.log(" Response data:",q),!J.ok)throw new Error(q.error||"Failed to reset password");ee(`Password reset successfully for ${U.email}`),ce(!1),F(null),je(""),$("")}catch(J){console.error(" Error resetting password:",J),$(J.message||"Failed to reset password")}},[U,ge,ee]),Ze=x.useCallback(J=>{if(!J)return"Never";const q=new Date(J),Me=new Date,He=Me-q,Be=Math.floor(He/6e4),at=Math.floor(He/36e5),Pe=Math.floor(He/864e5);return Be<1?"Just now":Be<60?`${Be}m ago`:at<24?`${at}h ago`:Pe<7?`${Pe}d ago`:q.toLocaleDateString("en-US",{month:"short",day:"numeric",year:q.getFullYear()!==Me.getFullYear()?"numeric":void 0})},[]),X=x.useMemo(()=>{let J=[...s];return k&&(J=J.filter(q=>q.email.toLowerCase().includes(k.toLowerCase())||q.full_name&&q.full_name.toLowerCase().includes(k.toLowerCase())||q.phone&&q.phone.includes(k))),C&&(J=J.filter(q=>q.role?.name===C)),E==="active"?J=J.filter(q=>q.is_active):E==="inactive"&&(J=J.filter(q=>!q.is_active)),J},[s,k,C,E]),Te=x.useMemo(()=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Email ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"email",value:L.email,onChange:J=>ve("email",J.target.value),placeholder:"user@example.com",disabled:!!Z,style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${xe.email?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:Z?r.colors.background.secondary:r.colors.background.primary,color:r.colors.text.primary,outline:"none",transition:"border-color 0.2s"}}),xe.email&&l.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:xe.email})]}),!Z&&l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Password ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"password",value:L.password,onChange:J=>ve("password",J.target.value),placeholder:"Minimum 6 characters",style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${xe.password?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",transition:"border-color 0.2s"}}),xe.password&&l.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:xe.password})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Full Name"}),l.jsx("input",{type:"text",value:L.full_name,onChange:J=>ve("full_name",J.target.value),placeholder:"John Doe",style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${xe.full_name?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",transition:"border-color 0.2s"}}),xe.full_name&&l.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:xe.full_name})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Phone"}),l.jsx("input",{type:"tel",value:L.phone,onChange:J=>ve("phone",nO(J.target.value)),placeholder:"(555) 123-4567",style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${xe.phone?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",transition:"border-color 0.2s"}}),xe.phone&&l.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:xe.phone})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Role ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsxs("select",{value:L.role_name,onChange:J=>ve("role_name",J.target.value),disabled:Z&&Z.id===e.id,style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${xe.role_name?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:Z&&Z.id===e.id?r.colors.background.secondary:r.colors.background.primary,color:r.colors.text.primary,outline:"none",cursor:Z&&Z.id===e.id?"not-allowed":"pointer"},children:[l.jsx("option",{value:"",children:"Select role..."}),d.map(J=>l.jsxs("option",{value:J.name,children:[J.name.charAt(0).toUpperCase()+J.name.slice(1)," - ",J.description]},J.name))]}),xe.role_name&&l.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:xe.role_name}),Z&&Z.id===e.id&&l.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:" You cannot change your own role"})]})]}),[L,xe,ve,d,Z,e]),ot=n("manage_users");return l.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[l.jsx(br,{user:e,onLogout:t,hasRole:i}),l.jsxs("main",{style:{flex:1,padding:r.spacing.xl,marginLeft:"240px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.xl},children:[l.jsxs("div",{children:[l.jsx("h1",{style:{fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0,marginBottom:r.spacing.xs},children:"User Management"}),l.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,margin:0},children:"Manage system users and role assignments"})]}),ot&&l.jsxs("button",{onClick:()=>{ke(),O(!0)},style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"white",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:J=>{J.target.style.backgroundColor=r.colors.accent.primaryDark,J.target.style.transform="translateY(-1px)"},onMouseLeave:J=>{J.target.style.backgroundColor=r.colors.accent.primary,J.target.style.transform="translateY(0)"},children:[l.jsx(Or,{size:16}),"Add User"]})]}),m&&l.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.accent.dangerLight,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,marginBottom:r.spacing.lg,color:r.colors.accent.danger,fontSize:r.fontSize.sm},children:m}),S&&l.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.accent.successLight,border:`1px solid ${r.colors.accent.success}`,borderRadius:r.radius.md,marginBottom:r.spacing.lg,color:r.colors.accent.success,fontSize:r.fontSize.sm},children:S}),l.jsx(Qe,{style:{marginBottom:r.spacing.lg},children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gap:r.spacing.md},children:[l.jsxs("div",{style:{position:"relative"},children:[l.jsx(pi,{size:16,style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.secondary}}),l.jsx("input",{type:"text",placeholder:"Search by email, name, or phone...",value:k,onChange:J=>w(J.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"36px",fontSize:r.fontSize.sm,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none"}})]}),l.jsxs("select",{value:C,onChange:J=>_(J.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,fontSize:r.fontSize.sm,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",cursor:"pointer"},children:[l.jsx("option",{value:"",children:"All Roles"}),d.map(J=>l.jsx("option",{value:J.name,children:J.name.charAt(0).toUpperCase()+J.name.slice(1)},J.name))]}),l.jsxs("select",{value:E,onChange:J=>A(J.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,fontSize:r.fontSize.sm,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",cursor:"pointer"},children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"active",children:"Active Only"}),l.jsx("option",{value:"inactive",children:"Inactive Only"})]})]})}),l.jsx(Qe,{children:h?l.jsx("div",{style:{textAlign:"center",padding:r.spacing.xl,color:r.colors.text.secondary},children:"Loading users..."}):X.length===0?l.jsxs("div",{style:{textAlign:"center",padding:r.spacing.xl,color:r.colors.text.secondary},children:[l.jsx(bx,{size:48,style:{marginBottom:r.spacing.md,opacity:.5}}),l.jsx("p",{children:"No users found"})]}):l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`},children:[l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Email"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Name"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Phone"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Role"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Last Login"}),l.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Status"}),ot&&l.jsx("th",{style:{padding:r.spacing.md,textAlign:"right",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Actions"})]})}),l.jsx("tbody",{children:X.map(J=>l.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`,opacity:J.is_active?1:.5,backgroundColor:J.is_active?"transparent":r.colors.background.secondary},children:[l.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(vp,{size:14,style:{color:r.colors.text.secondary}}),J.email,J.id===e.id&&l.jsx("span",{style:{fontSize:r.fontSize.xs,padding:"2px 6px",backgroundColor:r.colors.accent.primaryLight,color:r.colors.accent.primary,borderRadius:r.radius.sm},children:"You"})]})}),l.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(Yo,{size:14,style:{color:r.colors.text.secondary}}),J.full_name||"-"]})}),l.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(cs,{size:14,style:{color:r.colors.text.secondary}}),J.phone||"-"]})}),l.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[l.jsx(QE,{size:14,style:{color:r.colors.text.secondary}}),l.jsx("span",{style:{padding:"4px 8px",backgroundColor:J.role?.name==="admin"?r.colors.accent.dangerLight:r.colors.accent.primaryLight,color:J.role?.name==="admin"?r.colors.accent.danger:r.colors.accent.primary,borderRadius:r.radius.sm,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:J.role?.name?J.role.name.charAt(0).toUpperCase()+J.role.name.slice(1):"No Role"})]})}),l.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:Ze(J.last_login)}),l.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:l.jsx("span",{style:{padding:"4px 8px",backgroundColor:J.is_active?r.colors.accent.successLight:r.colors.background.secondary,color:J.is_active?r.colors.accent.success:r.colors.text.secondary,borderRadius:r.radius.sm,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:J.is_active?"Active":"Inactive"})}),ot&&l.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,textAlign:"right"},children:l.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,justifyContent:"flex-end"},children:[l.jsx("button",{onClick:()=>Ee(J),style:{padding:r.spacing.sm,backgroundColor:"transparent",border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.sm,cursor:"pointer",display:"flex",alignItems:"center",color:r.colors.text.secondary,transition:"all 0.2s"},onMouseEnter:q=>{q.target.style.borderColor=r.colors.accent.primary,q.target.style.color=r.colors.accent.primary},onMouseLeave:q=>{q.target.style.borderColor=r.colors.border.light,q.target.style.color=r.colors.text.secondary},children:l.jsx(Jc,{size:14})}),J.id!==e.id&&l.jsx("button",{onClick:()=>$e(J),style:{padding:r.spacing.sm,backgroundColor:"transparent",border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.sm,cursor:"pointer",display:"flex",alignItems:"center",color:r.colors.text.secondary,transition:"all 0.2s"},onMouseEnter:q=>{q.target.style.borderColor=r.colors.accent.warning,q.target.style.color=r.colors.accent.warning},onMouseLeave:q=>{q.target.style.borderColor=r.colors.border.light,q.target.style.color=r.colors.text.secondary},title:"Reset password",children:l.jsx(yK,{size:14})}),J.is_active&&J.id!==e.id&&l.jsx("button",{onClick:()=>ze(J),style:{padding:r.spacing.sm,backgroundColor:"transparent",border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.sm,cursor:"pointer",display:"flex",alignItems:"center",color:r.colors.text.secondary,transition:"all 0.2s"},onMouseEnter:q=>{q.target.style.borderColor=r.colors.accent.danger,q.target.style.color=r.colors.accent.danger},onMouseLeave:q=>{q.target.style.borderColor=r.colors.border.light,q.target.style.color=r.colors.text.secondary},children:l.jsx(kn,{size:14})})]})})]},J.id))})]})})}),T&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:l.jsxs("div",{style:{backgroundColor:r.colors.background.primary,borderRadius:r.radius.lg,padding:r.spacing.xl,width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[l.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Create New User"}),l.jsx("button",{onClick:()=>{O(!1),ke()},style:{padding:r.spacing.xs,backgroundColor:"transparent",border:"none",cursor:"pointer",color:r.colors.text.secondary},children:l.jsx(Ut,{size:20})})]}),Te,l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[l.jsx("button",{onClick:se,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"white",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Create User"}),l.jsx("button",{onClick:()=>{O(!1),ke()},style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})}),P&&Z&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:l.jsxs("div",{style:{backgroundColor:r.colors.background.primary,borderRadius:r.radius.lg,padding:r.spacing.xl,width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[l.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Edit User"}),l.jsx("button",{onClick:()=>{D(!1),Se(null),ke()},style:{padding:r.spacing.xs,backgroundColor:"transparent",border:"none",cursor:"pointer",color:r.colors.text.secondary},children:l.jsx(Ut,{size:20})})]}),Te,l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[l.jsx("button",{onClick:Ne,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"white",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Save Changes"}),l.jsx("button",{onClick:()=>{D(!1),Se(null),ke()},style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})}),I&&he&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:l.jsxs("div",{style:{backgroundColor:r.colors.background.primary,borderRadius:r.radius.lg,padding:r.spacing.xl,width:"90%",maxWidth:"400px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md,marginBottom:r.spacing.lg},children:[l.jsx(gi,{size:24,style:{color:r.colors.accent.warning,flexShrink:0}}),l.jsxs("div",{children:[l.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0,marginBottom:r.spacing.sm},children:"Deactivate User"}),l.jsxs("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,margin:0},children:["Are you sure you want to deactivate user ",l.jsx("strong",{children:he.email}),"? They will no longer be able to access the system."]})]})]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[l.jsx("button",{onClick:re,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.danger,color:"white",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Deactivate"}),l.jsx("button",{onClick:()=>{Q(!1),pe(null)},style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})}),fe&&U&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:l.jsxs("div",{style:{backgroundColor:r.colors.background.primary,borderRadius:r.radius.lg,padding:r.spacing.xl,width:"90%",maxWidth:"400px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[l.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Reset Password"}),l.jsx("button",{onClick:()=>{ce(!1),F(null),je(""),$("")},style:{padding:r.spacing.xs,backgroundColor:"transparent",border:"none",cursor:"pointer",color:r.colors.text.secondary},children:l.jsx(Ut,{size:20})})]}),l.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[l.jsxs("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,marginBottom:r.spacing.lg},children:["Reset password for ",l.jsx("strong",{children:U.email})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["New Password ",l.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),l.jsx("input",{type:"password",value:ge,onChange:J=>je(J.target.value),placeholder:"Enter new password (min 6 characters)",style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${Oe?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none"}}),Oe&&l.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:Oe})]})]}),l.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.md},children:[l.jsx("button",{onClick:Ye,disabled:!ge,style:{flex:1,padding:r.spacing.md,backgroundColor:ge?r.colors.accent.warning:r.colors.background.secondary,color:ge?"white":r.colors.text.secondary,border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:ge?"pointer":"not-allowed",opacity:ge?1:.5},children:"Reset Password"}),l.jsx("button",{onClick:()=>{ce(!1),F(null),je(""),$("")},style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.xs,padding:r.spacing.sm,backgroundColor:r.colors.background.secondary,borderRadius:r.radius.sm},children:[l.jsx(gi,{size:14,style:{color:r.colors.text.secondary,flexShrink:0,marginTop:"2px"}}),l.jsx("p",{style:{fontSize:r.fontSize.xs,color:r.colors.text.secondary,margin:0},children:"The user will need to use this new password on their next login."})]})]})})]})]})}function si({children:e,requireAdmin:t=!1,requireManager:n=!1,requireViewer:i=!1}){const{isAuthenticated:s,authLoading:c,hasRole:d}=fn();return c?l.jsx("div",{children:"Loading..."}):s?t&&!d("admin")?l.jsx(dd,{to:"/",replace:!0}):n&&!(d("manager")||d("admin"))?l.jsx(dd,{to:"/",replace:!0}):i&&!(d("viewer")||d("manager")||d("admin"))?l.jsx(dd,{to:"/",replace:!0}):e:l.jsx(dd,{to:"/",replace:!0})}jD.createRoot(document.getElementById("root")).render(l.jsx(x.StrictMode,{children:l.jsx($R,{children:l.jsx(wY,{children:l.jsx(TV,{children:l.jsxs(fR,{children:[l.jsx(Xr,{path:"/",element:l.jsx(AY,{})}),l.jsx(Xr,{path:"/sequences",element:l.jsx(si,{requireViewer:!0,children:l.jsx(EY,{})})}),l.jsx(Xr,{path:"/sequences/create",element:l.jsx(si,{requireManager:!0,children:l.jsx(OY,{})})}),l.jsx(Xr,{path:"/sequences/:key",element:l.jsx(si,{requireManager:!0,children:l.jsx(MY,{})})}),l.jsx(Xr,{path:"/patterns",element:l.jsx(si,{requireManager:!0,children:l.jsx(RY,{})})}),l.jsx(Xr,{path:"/tickets",element:l.jsx(si,{requireManager:!0,children:l.jsx(DV,{})})}),l.jsx(Xr,{path:"/active-sequences",element:l.jsx(si,{requireManager:!0,children:l.jsx(HV,{})})}),l.jsx(Xr,{path:"/tickets/new",element:l.jsx(si,{requireManager:!0,children:l.jsx(WV,{})})}),l.jsx(Xr,{path:"/tickets/:uuid",element:l.jsx(si,{requireManager:!0,children:l.jsx($V,{})})}),l.jsx(Xr,{path:"/ticket/:uuid",element:l.jsx(LV,{})}),l.jsx(Xr,{path:"/supplies/:sequenceKey",element:l.jsx(IV,{})}),l.jsx(Xr,{path:"/vans",element:l.jsx(si,{requireViewer:!0,children:l.jsx(XV,{})})}),l.jsx(Xr,{path:"/owners",element:l.jsx(si,{requireViewer:!0,children:l.jsx(QV,{})})}),l.jsx(Xr,{path:"/users",element:l.jsx(si,{requireManager:!0,children:l.jsx(ZV,{})})})]})})})})}));
