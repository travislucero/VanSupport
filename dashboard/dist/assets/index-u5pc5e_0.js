function kR(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(i,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function yo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Am={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cj;function zR(){if(Cj)return Ql;Cj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:e,type:i,key:d,ref:l!==void 0?l:null,props:c}}return Ql.Fragment=t,Ql.jsx=n,Ql.jsxs=n,Ql}var kj;function _R(){return kj||(kj=1,Am.exports=zR()),Am.exports}var s=_R(),Em={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zj;function TR(){if(zj)return it;zj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),S=Symbol.iterator;function j(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,k={};function z(N,q,oe){this.props=N,this.context=q,this.refs=k,this.updater=oe||C}z.prototype.isReactComponent={},z.prototype.setState=function(N,q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,q,"setState")},z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function E(){}E.prototype=z.prototype;function A(N,q,oe){this.props=N,this.context=q,this.refs=k,this.updater=oe||C}var D=A.prototype=new E;D.constructor=A,w(D,z.prototype),D.isPureReactComponent=!0;var T=Array.isArray;function R(){}var M={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function U(N,q,oe){var be=oe.ref;return{$$typeof:e,type:N,key:q,ref:be!==void 0?be:null,props:oe}}function le(N,q){return U(N.type,q,N.props)}function Z(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function ie(N){var q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return q[oe]})}var ge=/\/+/g;function fe(N,q){return typeof N=="object"&&N!==null&&N.key!=null?ie(""+N.key):q.toString(36)}function Ee(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(R,R):(N.status="pending",N.then(function(q){N.status==="pending"&&(N.status="fulfilled",N.value=q)},function(q){N.status==="pending"&&(N.status="rejected",N.reason=q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function W(N,q,oe,be,Se){var Ce=typeof N;(Ce==="undefined"||Ce==="boolean")&&(N=null);var Q=!1;if(N===null)Q=!0;else switch(Ce){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(N.$$typeof){case e:case t:Q=!0;break;case h:return Q=N._init,W(Q(N._payload),q,oe,be,Se)}}if(Q)return Se=Se(N),Q=be===""?"."+fe(N,0):be,T(Se)?(oe="",Q!=null&&(oe=Q.replace(ge,"$&/")+"/"),W(Se,q,oe,"",function(Te){return Te})):Se!=null&&(Z(Se)&&(Se=le(Se,oe+(Se.key==null||N&&N.key===Se.key?"":(""+Se.key).replace(ge,"$&/")+"/")+Q)),q.push(Se)),1;Q=0;var me=be===""?".":be+":";if(T(N))for(var ne=0;ne<N.length;ne++)be=N[ne],Ce=me+fe(be,ne),Q+=W(be,q,oe,Ce,Se);else if(ne=j(N),typeof ne=="function")for(N=ne.call(N),ne=0;!(be=N.next()).done;)be=be.value,Ce=me+fe(be,ne++),Q+=W(be,q,oe,Ce,Se);else if(Ce==="object"){if(typeof N.then=="function")return W(Ee(N),q,oe,be,Se);throw q=String(N),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Q}function J(N,q,oe){if(N==null)return N;var be=[],Se=0;return W(N,be,"","",function(Ce){return q.call(oe,Ce,Se++)}),be}function ue(N){if(N._status===-1){var q=N._result;q=q(),q.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=q)}if(N._status===1)return N._result.default;throw N._result}var _e=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Ae={map:J,forEach:function(N,q,oe){J(N,function(){q.apply(this,arguments)},oe)},count:function(N){var q=0;return J(N,function(){q++}),q},toArray:function(N){return J(N,function(q){return q})||[]},only:function(N){if(!Z(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return it.Activity=x,it.Children=Ae,it.Component=z,it.Fragment=n,it.Profiler=l,it.PureComponent=A,it.StrictMode=i,it.Suspense=m,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,it.__COMPILER_RUNTIME={__proto__:null,c:function(N){return M.H.useMemoCache(N)}},it.cache=function(N){return function(){return N.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function(N,q,oe){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var be=w({},N.props),Se=N.key;if(q!=null)for(Ce in q.key!==void 0&&(Se=""+q.key),q)!F.call(q,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&q.ref===void 0||(be[Ce]=q[Ce]);var Ce=arguments.length-2;if(Ce===1)be.children=oe;else if(1<Ce){for(var Q=Array(Ce),me=0;me<Ce;me++)Q[me]=arguments[me+2];be.children=Q}return U(N.type,Se,be)},it.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},it.createElement=function(N,q,oe){var be,Se={},Ce=null;if(q!=null)for(be in q.key!==void 0&&(Ce=""+q.key),q)F.call(q,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Se[be]=q[be]);var Q=arguments.length-2;if(Q===1)Se.children=oe;else if(1<Q){for(var me=Array(Q),ne=0;ne<Q;ne++)me[ne]=arguments[ne+2];Se.children=me}if(N&&N.defaultProps)for(be in Q=N.defaultProps,Q)Se[be]===void 0&&(Se[be]=Q[be]);return U(N,Ce,Se)},it.createRef=function(){return{current:null}},it.forwardRef=function(N){return{$$typeof:p,render:N}},it.isValidElement=Z,it.lazy=function(N){return{$$typeof:h,_payload:{_status:-1,_result:N},_init:ue}},it.memo=function(N,q){return{$$typeof:g,type:N,compare:q===void 0?null:q}},it.startTransition=function(N){var q=M.T,oe={};M.T=oe;try{var be=N(),Se=M.S;Se!==null&&Se(oe,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(R,_e)}catch(Ce){_e(Ce)}finally{q!==null&&oe.types!==null&&(q.types=oe.types),M.T=q}},it.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},it.use=function(N){return M.H.use(N)},it.useActionState=function(N,q,oe){return M.H.useActionState(N,q,oe)},it.useCallback=function(N,q){return M.H.useCallback(N,q)},it.useContext=function(N){return M.H.useContext(N)},it.useDebugValue=function(){},it.useDeferredValue=function(N,q){return M.H.useDeferredValue(N,q)},it.useEffect=function(N,q){return M.H.useEffect(N,q)},it.useEffectEvent=function(N){return M.H.useEffectEvent(N)},it.useId=function(){return M.H.useId()},it.useImperativeHandle=function(N,q,oe){return M.H.useImperativeHandle(N,q,oe)},it.useInsertionEffect=function(N,q){return M.H.useInsertionEffect(N,q)},it.useLayoutEffect=function(N,q){return M.H.useLayoutEffect(N,q)},it.useMemo=function(N,q){return M.H.useMemo(N,q)},it.useOptimistic=function(N,q){return M.H.useOptimistic(N,q)},it.useReducer=function(N,q,oe){return M.H.useReducer(N,q,oe)},it.useRef=function(N){return M.H.useRef(N)},it.useState=function(N){return M.H.useState(N)},it.useSyncExternalStore=function(N,q,oe){return M.H.useSyncExternalStore(N,q,oe)},it.useTransition=function(){return M.H.useTransition()},it.version="19.2.0",it}var _j;function Gs(){return _j||(_j=1,Em.exports=TR()),Em.exports}var y=Gs();const hi=yo(y),AR=kR({__proto__:null,default:hi},[y]);var Om={exports:{}},Zl={},Mm={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tj;function ER(){return Tj||(Tj=1,(function(e){function t(W,J){var ue=W.length;W.push(J);e:for(;0<ue;){var _e=ue-1>>>1,Ae=W[_e];if(0<l(Ae,J))W[_e]=J,W[ue]=Ae,ue=_e;else break e}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var J=W[0],ue=W.pop();if(ue!==J){W[0]=ue;e:for(var _e=0,Ae=W.length,N=Ae>>>1;_e<N;){var q=2*(_e+1)-1,oe=W[q],be=q+1,Se=W[be];if(0>l(oe,ue))be<Ae&&0>l(Se,oe)?(W[_e]=Se,W[be]=ue,_e=be):(W[_e]=oe,W[q]=ue,_e=q);else if(be<Ae&&0>l(Se,ue))W[_e]=Se,W[be]=ue,_e=be;else break e}}return J}function l(W,J){var ue=W.sortIndex-J.sortIndex;return ue!==0?ue:W.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();e.unstable_now=function(){return d.now()-p}}var m=[],g=[],h=1,x=null,S=3,j=!1,C=!1,w=!1,k=!1,z=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function D(W){for(var J=n(g);J!==null;){if(J.callback===null)i(g);else if(J.startTime<=W)i(g),J.sortIndex=J.expirationTime,t(m,J);else break;J=n(g)}}function T(W){if(w=!1,D(W),!C)if(n(m)!==null)C=!0,R||(R=!0,ie());else{var J=n(g);J!==null&&Ee(T,J.startTime-W)}}var R=!1,M=-1,F=5,U=-1;function le(){return k?!0:!(e.unstable_now()-U<F)}function Z(){if(k=!1,R){var W=e.unstable_now();U=W;var J=!0;try{e:{C=!1,w&&(w=!1,E(M),M=-1),j=!0;var ue=S;try{t:{for(D(W),x=n(m);x!==null&&!(x.expirationTime>W&&le());){var _e=x.callback;if(typeof _e=="function"){x.callback=null,S=x.priorityLevel;var Ae=_e(x.expirationTime<=W);if(W=e.unstable_now(),typeof Ae=="function"){x.callback=Ae,D(W),J=!0;break t}x===n(m)&&i(m),D(W)}else i(m);x=n(m)}if(x!==null)J=!0;else{var N=n(g);N!==null&&Ee(T,N.startTime-W),J=!1}}break e}finally{x=null,S=ue,j=!1}J=void 0}}finally{J?ie():R=!1}}}var ie;if(typeof A=="function")ie=function(){A(Z)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,fe=ge.port2;ge.port1.onmessage=Z,ie=function(){fe.postMessage(null)}}else ie=function(){z(Z,0)};function Ee(W,J){M=z(function(){W(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(W){switch(S){case 1:case 2:case 3:var J=3;break;default:J=S}var ue=S;S=J;try{return W()}finally{S=ue}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(W,J){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ue=S;S=W;try{return J()}finally{S=ue}},e.unstable_scheduleCallback=function(W,J,ue){var _e=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?_e+ue:_e):ue=_e,W){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ue+Ae,W={id:h++,callback:J,priorityLevel:W,startTime:ue,expirationTime:Ae,sortIndex:-1},ue>_e?(W.sortIndex=ue,t(g,W),n(m)===null&&W===n(g)&&(w?(E(M),M=-1):w=!0,Ee(T,ue-_e))):(W.sortIndex=Ae,t(m,W),C||j||(C=!0,R||(R=!0,ie()))),W},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(W){var J=S;return function(){var ue=S;S=J;try{return W.apply(this,arguments)}finally{S=ue}}}})(Rm)),Rm}var Aj;function OR(){return Aj||(Aj=1,Mm.exports=ER()),Mm.exports}var Dm={exports:{}},Gr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ej;function MR(){if(Ej)return Gr;Ej=1;var e=Gs();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)g+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,g,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:m,containerInfo:g,implementation:h}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Gr.createPortal=function(m,g){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(m,g,null,h)},Gr.flushSync=function(m){var g=d.T,h=i.p;try{if(d.T=null,i.p=2,m)return m()}finally{d.T=g,i.p=h,i.d.f()}},Gr.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},Gr.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Gr.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var h=g.as,x=p(h,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;h==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:j}):h==="script"&&i.d.X(m,{crossOrigin:x,integrity:S,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Gr.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var h=p(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:h,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},Gr.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var h=g.as,x=p(h,g.crossOrigin);i.d.L(m,h,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Gr.preloadModule=function(m,g){if(typeof m=="string")if(g){var h=p(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:h,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},Gr.requestFormReset=function(m){i.d.r(m)},Gr.unstable_batchedUpdates=function(m,g){return m(g)},Gr.useFormState=function(m,g,h){return d.H.useFormState(m,g,h)},Gr.useFormStatus=function(){return d.H.useHostTransitionStatus()},Gr.version="19.2.0",Gr}var Oj;function ez(){if(Oj)return Dm.exports;Oj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Dm.exports=MR(),Dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mj;function RR(){if(Mj)return Zl;Mj=1;var e=OR(),t=Gs(),n=ez();function i(o){var a="https://react.dev/errors/"+o;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function c(o){var a=o,u=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(u=a.return),o=a.return;while(o)}return a.tag===3?u:null}function d(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function p(o){if(o.tag===31){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function m(o){if(c(o)!==o)throw Error(i(188))}function g(o){var a=o.alternate;if(!a){if(a=c(o),a===null)throw Error(i(188));return a!==o?null:o}for(var u=o,f=a;;){var v=u.return;if(v===null)break;var b=v.alternate;if(b===null){if(f=v.return,f!==null){u=f;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===u)return m(v),o;if(b===f)return m(v),a;b=b.sibling}throw Error(i(188))}if(u.return!==f.return)u=v,f=b;else{for(var _=!1,O=v.child;O;){if(O===u){_=!0,u=v,f=b;break}if(O===f){_=!0,f=v,u=b;break}O=O.sibling}if(!_){for(O=b.child;O;){if(O===u){_=!0,u=b,f=v;break}if(O===f){_=!0,f=b,u=v;break}O=O.sibling}if(!_)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?o:a}function h(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o;for(o=o.child;o!==null;){if(a=h(o),a!==null)return a;o=o.sibling}return null}var x=Object.assign,S=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function ie(o){return o===null||typeof o!="object"?null:(o=Z&&o[Z]||o["@@iterator"],typeof o=="function"?o:null)}var ge=Symbol.for("react.client.reference");function fe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ge?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case z:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList";case U:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case C:return"Portal";case A:return o.displayName||"Context";case E:return(o._context.displayName||"Context")+".Consumer";case D:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case M:return a=o.displayName||null,a!==null?a:fe(o.type)||"Memo";case F:a=o._payload,o=o._init;try{return fe(o(a))}catch{}}return null}var Ee=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},_e=[],Ae=-1;function N(o){return{current:o}}function q(o){0>Ae||(o.current=_e[Ae],_e[Ae]=null,Ae--)}function oe(o,a){Ae++,_e[Ae]=o.current,o.current=a}var be=N(null),Se=N(null),Ce=N(null),Q=N(null);function me(o,a){switch(oe(Ce,a),oe(Se,o),oe(be,null),a.nodeType){case 9:case 11:o=(o=a.documentElement)&&(o=o.namespaceURI)?YS(o):0;break;default:if(o=a.tagName,a=a.namespaceURI)a=YS(a),o=VS(a,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}q(be),oe(be,o)}function ne(){q(be),q(Se),q(Ce)}function Te(o){o.memoizedState!==null&&oe(Q,o);var a=be.current,u=VS(a,o.type);a!==u&&(oe(Se,o),oe(be,u))}function V(o){Se.current===o&&(q(be),q(Se)),Q.current===o&&(q(Q),Yl._currentValue=ue)}var te,Pe;function Me(o){if(te===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);te=a&&a[1]||"",Pe=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+te+o+Pe}var he=!1;function B(o,a){if(!o||he)return"";he=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(pe){var ce=pe}Reflect.construct(o,[],ze)}else{try{ze.call()}catch(pe){ce=pe}o.call(ze.prototype)}}else{try{throw Error()}catch(pe){ce=pe}(ze=o())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(pe){if(pe&&ce&&typeof pe.stack=="string")return[pe.stack,ce.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),_=b[0],O=b[1];if(_&&O){var H=_.split(`
`),se=O.split(`
`);for(v=f=0;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;for(;v<se.length&&!se[v].includes("DetermineComponentFrameRoot");)v++;if(f===H.length||v===se.length)for(f=H.length-1,v=se.length-1;1<=f&&0<=v&&H[f]!==se[v];)v--;for(;1<=f&&0<=v;f--,v--)if(H[f]!==se[v]){if(f!==1||v!==1)do if(f--,v--,0>v||H[f]!==se[v]){var ve=`
`+H[f].replace(" at new "," at ");return o.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",o.displayName)),ve}while(1<=f&&0<=v);break}}}finally{he=!1,Error.prepareStackTrace=u}return(u=o?o.displayName||o.name:"")?Me(u):""}function X(o,a){switch(o.tag){case 26:case 27:case 5:return Me(o.type);case 16:return Me("Lazy");case 13:return o.child!==a&&a!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return B(o.type,!1);case 11:return B(o.type.render,!1);case 1:return B(o.type,!0);case 31:return Me("Activity");default:return""}}function K(o){try{var a="",u=null;do a+=X(o,u),u=o,o=o.return;while(o);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var je=Object.prototype.hasOwnProperty,L=e.unstable_scheduleCallback,xe=e.unstable_cancelCallback,Be=e.unstable_shouldYield,nt=e.unstable_requestPaint,Je=e.unstable_now,P=e.unstable_getCurrentPriorityLevel,ke=e.unstable_ImmediatePriority,Ke=e.unstable_UserBlockingPriority,Re=e.unstable_NormalPriority,Ze=e.unstable_LowPriority,We=e.unstable_IdlePriority,yt=e.log,_r=e.unstable_setDisableYieldValue,Zt=null,zt=null;function sr(o){if(typeof yt=="function"&&_r(o),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Zt,o)}catch{}}var ye=Math.clz32?Math.clz32:vr,Ve=Math.log,qt=Math.LN2;function vr(o){return o>>>=0,o===0?32:31-(Ve(o)/qt|0)|0}var ur=256,pt=262144,Tr=4194304;function re(o){var a=o&42;if(a!==0)return a;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Oe(o,a,u){var f=o.pendingLanes;if(f===0)return 0;var v=0,b=o.suspendedLanes,_=o.pingedLanes;o=o.warmLanes;var O=f&134217727;return O!==0?(f=O&~b,f!==0?v=re(f):(_&=O,_!==0?v=re(_):u||(u=O&~o,u!==0&&(v=re(u))))):(O=f&~b,O!==0?v=re(O):_!==0?v=re(_):u||(u=f&~o,u!==0&&(v=re(u)))),v===0?0:a!==0&&a!==v&&(a&b)===0&&(b=v&-v,u=a&-a,b>=u||b===32&&(u&4194048)!==0)?a:v}function He(o,a){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&a)===0}function Vt(o,a){switch(o){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gr(){var o=Tr;return Tr<<=1,(Tr&62914560)===0&&(Tr=4194304),o}function vn(o){for(var a=[],u=0;31>u;u++)a.push(o);return a}function an(o,a){o.pendingLanes|=a,a!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function wi(o,a,u,f,v,b){var _=o.pendingLanes;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=u,o.entangledLanes&=u,o.errorRecoveryDisabledLanes&=u,o.shellSuspendCounter=0;var O=o.entanglements,H=o.expirationTimes,se=o.hiddenUpdates;for(u=_&~u;0<u;){var ve=31-ye(u),ze=1<<ve;O[ve]=0,H[ve]=-1;var ce=se[ve];if(ce!==null)for(se[ve]=null,ve=0;ve<ce.length;ve++){var pe=ce[ve];pe!==null&&(pe.lane&=-536870913)}u&=~ze}f!==0&&Co(o,f,0),b!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=b&~(_&~a))}function Co(o,a,u){o.pendingLanes|=a,o.suspendedLanes&=~a;var f=31-ye(a);o.entangledLanes|=a,o.entanglements[f]=o.entanglements[f]|1073741824|u&261930}function ko(o,a){var u=o.entangledLanes|=a;for(o=o.entanglements;u;){var f=31-ye(u),v=1<<f;v&a|o[f]&a&&(o[f]|=a),u&=~v}}function ai(o,a){var u=a&-a;return u=(u&42)!==0?1:I(u),(u&(o.suspendedLanes|a))!==0?0:u}function I(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function De(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Mt(){var o=J.p;return o!==0?o:(o=window.event,o===void 0?32:yj(o.type))}function _t(o,a){var u=J.p;try{return J.p=o,a()}finally{J.p=u}}var lt=Math.random().toString(36).slice(2),ot="__reactFiber$"+lt,gt="__reactProps$"+lt,ft="__reactContainer$"+lt,Wi="__reactEvents$"+lt,da="__reactListeners$"+lt,Ci="__reactHandles$"+lt,ki="__reactResources$"+lt,si="__reactMarker$"+lt;function G(o){delete o[ot],delete o[gt],delete o[Wi],delete o[da],delete o[Ci]}function Ne(o){var a=o[ot];if(a)return a;for(var u=o.parentNode;u;){if(a=u[ft]||u[ot]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(o=tj(o);o!==null;){if(u=o[ot])return u;o=tj(o)}return a}o=u,u=o.parentNode}return null}function Ye(o){if(o=o[ot]||o[ft]){var a=o.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return o}return null}function Xe(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o.stateNode;throw Error(i(33))}function Tt(o){var a=o[ki];return a||(a=o[ki]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function at(o){o[si]=!0}var At=new Set,Et={};function Jt(o,a){li(o,a),li(o+"Capture",a)}function li(o,a){for(Et[o]=a,o=0;o<a.length;o++)At.add(a[o])}var Bb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wr={},ru={};function jp(o){return je.call(ru,o)?!0:je.call(Wr,o)?!1:Bb.test(o)?ru[o]=!0:(Wr[o]=!0,!1)}function Za(o,a,u){if(jp(a))if(u===null)o.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":o.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){o.removeAttribute(a);return}}o.setAttribute(a,""+u)}}function $(o,a,u){if(u===null)o.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(a);return}o.setAttribute(a,""+u)}}function $e(o,a,u,f){if(f===null)o.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttributeNS(a,u,""+f)}}function ut(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function sn(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Rt(o,a,u){var f=Object.getOwnPropertyDescriptor(o.constructor.prototype,a);if(!o.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,b=f.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return v.call(this)},set:function(_){u=""+_,b.call(this,_)}}),Object.defineProperty(o,a,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Jr(o){if(!o._valueTracker){var a=sn(o)?"checked":"value";o._valueTracker=Rt(o,a,""+o[a])}}function nu(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return o&&(f=sn(o)?o.checked?"true":"false":o.value),o=f,o!==u?(a.setValue(o),!0):!1}function iu(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var vO=/[\n"\\]/g;function Wn(o){return o.replace(vO,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function wp(o,a,u,f,v,b,_,O){o.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?o.type=_:o.removeAttribute("type"),a!=null?_==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+ut(a)):o.value!==""+ut(a)&&(o.value=""+ut(a)):_!=="submit"&&_!=="reset"||o.removeAttribute("value"),a!=null?Cp(o,_,ut(a)):u!=null?Cp(o,_,ut(u)):f!=null&&o.removeAttribute("value"),v==null&&b!=null&&(o.defaultChecked=!!b),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.name=""+ut(O):o.removeAttribute("name")}function Ib(o,a,u,f,v,b,_,O){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(o.type=b),a!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){Jr(o);return}u=u!=null?""+ut(u):"",a=a!=null?""+ut(a):u,O||a===o.value||(o.value=a),o.defaultValue=a}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,o.checked=O?o.checked:!!f,o.defaultChecked=!!f,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.name=_),Jr(o)}function Cp(o,a,u){a==="number"&&iu(o.ownerDocument)===o||o.defaultValue===""+u||(o.defaultValue=""+u)}function Ja(o,a,u,f){if(o=o.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<o.length;u++)v=a.hasOwnProperty("$"+o[u].value),o[u].selected!==v&&(o[u].selected=v),v&&f&&(o[u].defaultSelected=!0)}else{for(u=""+ut(u),a=null,v=0;v<o.length;v++){if(o[v].value===u){o[v].selected=!0,f&&(o[v].defaultSelected=!0);return}a!==null||o[v].disabled||(a=o[v])}a!==null&&(a.selected=!0)}}function qb(o,a,u){if(a!=null&&(a=""+ut(a),a!==o.value&&(o.value=a),u==null)){o.defaultValue!==a&&(o.defaultValue=a);return}o.defaultValue=u!=null?""+ut(u):""}function Ub(o,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(i(92));if(Ee(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=ut(a),o.defaultValue=u,f=o.textContent,f===u&&f!==""&&f!==null&&(o.value=f),Jr(o)}function es(o,a){if(a){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=a;return}}o.textContent=a}var bO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hb(o,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?o.setProperty(a,""):a==="float"?o.cssFloat="":o[a]="":f?o.setProperty(a,u):typeof u!="number"||u===0||bO.has(a)?a==="float"?o.cssFloat=u:o[a]=(""+u).trim():o[a]=u+"px"}function Fb(o,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(o=o.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?o.setProperty(f,""):f==="float"?o.cssFloat="":o[f]="");for(var v in a)f=a[v],a.hasOwnProperty(v)&&u[v]!==f&&Hb(o,v,f)}else for(var b in a)a.hasOwnProperty(b)&&Hb(o,b,a[b])}function kp(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ou(o){return jO.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Bi(){}var zp=null;function _p(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ts=null,rs=null;function Kb(o){var a=Ye(o);if(a&&(o=a.stateNode)){var u=o[gt]||null;e:switch(o=a.stateNode,a.type){case"input":if(wp(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Wn(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==o&&f.form===o.form){var v=f[gt]||null;if(!v)throw Error(i(90));wp(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===o.form&&nu(f)}break e;case"textarea":qb(o,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Ja(o,!!u.multiple,a,!1)}}}var Tp=!1;function Yb(o,a,u){if(Tp)return o(a,u);Tp=!0;try{var f=o(a);return f}finally{if(Tp=!1,(ts!==null||rs!==null)&&(Ku(),ts&&(a=ts,o=rs,rs=ts=null,Kb(a),o)))for(a=0;a<o.length;a++)Kb(o[a])}}function ul(o,a){var u=o.stateNode;if(u===null)return null;var f=u[gt]||null;if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ap=!1;if(Ii)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){Ap=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{Ap=!1}var zo=null,Ep=null,au=null;function Vb(){if(au)return au;var o,a=Ep,u=a.length,f,v="value"in zo?zo.value:zo.textContent,b=v.length;for(o=0;o<u&&a[o]===v[o];o++);var _=u-o;for(f=1;f<=_&&a[u-f]===v[b-f];f++);return au=v.slice(o,1<f?1-f:void 0)}function su(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function lu(){return!0}function Gb(){return!1}function ln(o){function a(u,f,v,b,_){this._reactName=u,this._targetInst=v,this.type=f,this.nativeEvent=b,this.target=_,this.currentTarget=null;for(var O in o)o.hasOwnProperty(O)&&(u=o[O],this[O]=u?u(b):b[O]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?lu:Gb,this.isPropagationStopped=Gb,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=lu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=lu)},persist:function(){},isPersistent:lu}),a}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cu=ln(fa),fl=x({},fa,{view:0,detail:0}),wO=ln(fl),Op,Mp,pl,uu=x({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==pl&&(pl&&o.type==="mousemove"?(Op=o.screenX-pl.screenX,Mp=o.screenY-pl.screenY):Mp=Op=0,pl=o),Op)},movementY:function(o){return"movementY"in o?o.movementY:Mp}}),Xb=ln(uu),CO=x({},uu,{dataTransfer:0}),kO=ln(CO),zO=x({},fl,{relatedTarget:0}),Rp=ln(zO),_O=x({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),TO=ln(_O),AO=x({},fa,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),EO=ln(AO),OO=x({},fa,{data:0}),Qb=ln(OO),MO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $O(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=DO[o])?!!a[o]:!1}function Dp(){return $O}var PO=x({},fl,{key:function(o){if(o.key){var a=MO[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=su(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?RO[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dp,charCode:function(o){return o.type==="keypress"?su(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?su(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),NO=ln(PO),LO=x({},uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zb=ln(LO),WO=x({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dp}),BO=ln(WO),IO=x({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),qO=ln(IO),UO=x({},uu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),HO=ln(UO),FO=x({},fa,{newState:0,oldState:0}),KO=ln(FO),YO=[9,13,27,32],$p=Ii&&"CompositionEvent"in window,gl=null;Ii&&"documentMode"in document&&(gl=document.documentMode);var VO=Ii&&"TextEvent"in window&&!gl,Jb=Ii&&(!$p||gl&&8<gl&&11>=gl),e0=" ",t0=!1;function r0(o,a){switch(o){case"keyup":return YO.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n0(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ns=!1;function GO(o,a){switch(o){case"compositionend":return n0(a);case"keypress":return a.which!==32?null:(t0=!0,e0);case"textInput":return o=a.data,o===e0&&t0?null:o;default:return null}}function XO(o,a){if(ns)return o==="compositionend"||!$p&&r0(o,a)?(o=Vb(),au=Ep=zo=null,ns=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Jb&&a.locale!=="ko"?null:a.data;default:return null}}var QO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i0(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!QO[o.type]:a==="textarea"}function o0(o,a,u,f){ts?rs?rs.push(f):rs=[f]:ts=f,a=Ju(a,"onChange"),0<a.length&&(u=new cu("onChange","change",null,u,f),o.push({event:u,listeners:a}))}var ml=null,hl=null;function ZO(o){IS(o,0)}function du(o){var a=Xe(o);if(nu(a))return o}function a0(o,a){if(o==="change")return a}var s0=!1;if(Ii){var Pp;if(Ii){var Np="oninput"in document;if(!Np){var l0=document.createElement("div");l0.setAttribute("oninput","return;"),Np=typeof l0.oninput=="function"}Pp=Np}else Pp=!1;s0=Pp&&(!document.documentMode||9<document.documentMode)}function c0(){ml&&(ml.detachEvent("onpropertychange",u0),hl=ml=null)}function u0(o){if(o.propertyName==="value"&&du(hl)){var a=[];o0(a,hl,o,_p(o)),Yb(ZO,a)}}function JO(o,a,u){o==="focusin"?(c0(),ml=a,hl=u,ml.attachEvent("onpropertychange",u0)):o==="focusout"&&c0()}function eM(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return du(hl)}function tM(o,a){if(o==="click")return du(a)}function rM(o,a){if(o==="input"||o==="change")return du(a)}function nM(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var bn=typeof Object.is=="function"?Object.is:nM;function yl(o,a){if(bn(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var u=Object.keys(o),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var v=u[f];if(!je.call(a,v)||!bn(o[v],a[v]))return!1}return!0}function d0(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function f0(o,a){var u=d0(o);o=0;for(var f;u;){if(u.nodeType===3){if(f=o+u.textContent.length,o<=a&&f>=a)return{node:u,offset:a-o};o=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=d0(u)}}function p0(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?p0(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function g0(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var a=iu(o.document);a instanceof o.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)o=a.contentWindow;else break;a=iu(o.document)}return a}function Lp(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}var iM=Ii&&"documentMode"in document&&11>=document.documentMode,is=null,Wp=null,xl=null,Bp=!1;function m0(o,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Bp||is==null||is!==iu(f)||(f=is,"selectionStart"in f&&Lp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),xl&&yl(xl,f)||(xl=f,f=Ju(Wp,"onSelect"),0<f.length&&(a=new cu("onSelect","select",null,a,u),o.push({event:a,listeners:f}),a.target=is)))}function pa(o,a){var u={};return u[o.toLowerCase()]=a.toLowerCase(),u["Webkit"+o]="webkit"+a,u["Moz"+o]="moz"+a,u}var os={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},Ip={},h0={};Ii&&(h0=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function ga(o){if(Ip[o])return Ip[o];if(!os[o])return o;var a=os[o],u;for(u in a)if(a.hasOwnProperty(u)&&u in h0)return Ip[o]=a[u];return o}var y0=ga("animationend"),x0=ga("animationiteration"),v0=ga("animationstart"),oM=ga("transitionrun"),aM=ga("transitionstart"),sM=ga("transitioncancel"),b0=ga("transitionend"),S0=new Map,qp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qp.push("scrollEnd");function ci(o,a){S0.set(o,a),Jt(a,[o])}var fu=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Bn=[],as=0,Up=0;function pu(){for(var o=as,a=Up=as=0;a<o;){var u=Bn[a];Bn[a++]=null;var f=Bn[a];Bn[a++]=null;var v=Bn[a];Bn[a++]=null;var b=Bn[a];if(Bn[a++]=null,f!==null&&v!==null){var _=f.pending;_===null?v.next=v:(v.next=_.next,_.next=v),f.pending=v}b!==0&&j0(u,v,b)}}function gu(o,a,u,f){Bn[as++]=o,Bn[as++]=a,Bn[as++]=u,Bn[as++]=f,Up|=f,o.lanes|=f,o=o.alternate,o!==null&&(o.lanes|=f)}function Hp(o,a,u,f){return gu(o,a,u,f),mu(o)}function ma(o,a){return gu(o,null,null,a),mu(o)}function j0(o,a,u){o.lanes|=u;var f=o.alternate;f!==null&&(f.lanes|=u);for(var v=!1,b=o.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(o=b.stateNode,o===null||o._visibility&1||(v=!0)),o=b,b=b.return;return o.tag===3?(b=o.stateNode,v&&a!==null&&(v=31-ye(u),o=b.hiddenUpdates,f=o[v],f===null?o[v]=[a]:f.push(a),a.lane=u|536870912),b):null}function mu(o){if(50<Bl)throw Bl=0,Jg=null,Error(i(185));for(var a=o.return;a!==null;)o=a,a=o.return;return o.tag===3?o.stateNode:null}var ss={};function lM(o,a,u,f){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(o,a,u,f){return new lM(o,a,u,f)}function Fp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function qi(o,a){var u=o.alternate;return u===null?(u=Sn(o.tag,a,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=a,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&65011712,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,a=o.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u.refCleanup=o.refCleanup,u}function w0(o,a){o.flags&=65011714;var u=o.alternate;return u===null?(o.childLanes=0,o.lanes=a,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,a=u.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),o}function hu(o,a,u,f,v,b){var _=0;if(f=o,typeof o=="function")Fp(o)&&(_=1);else if(typeof o=="string")_=pR(o,u,be.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case U:return o=Sn(31,u,a,v),o.elementType=U,o.lanes=b,o;case w:return ha(u.children,v,b,a);case k:_=8,v|=24;break;case z:return o=Sn(12,u,a,v|2),o.elementType=z,o.lanes=b,o;case T:return o=Sn(13,u,a,v),o.elementType=T,o.lanes=b,o;case R:return o=Sn(19,u,a,v),o.elementType=R,o.lanes=b,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case A:_=10;break e;case E:_=9;break e;case D:_=11;break e;case M:_=14;break e;case F:_=16,f=null;break e}_=29,u=Error(i(130,o===null?"null":typeof o,"")),f=null}return a=Sn(_,u,a,v),a.elementType=o,a.type=f,a.lanes=b,a}function ha(o,a,u,f){return o=Sn(7,o,f,a),o.lanes=u,o}function Kp(o,a,u){return o=Sn(6,o,null,a),o.lanes=u,o}function C0(o){var a=Sn(18,null,null,0);return a.stateNode=o,a}function Yp(o,a,u){return a=Sn(4,o.children!==null?o.children:[],o.key,a),a.lanes=u,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}var k0=new WeakMap;function In(o,a){if(typeof o=="object"&&o!==null){var u=k0.get(o);return u!==void 0?u:(a={value:o,source:a,stack:K(a)},k0.set(o,a),a)}return{value:o,source:a,stack:K(a)}}var ls=[],cs=0,yu=null,vl=0,qn=[],Un=0,_o=null,zi=1,_i="";function Ui(o,a){ls[cs++]=vl,ls[cs++]=yu,yu=o,vl=a}function z0(o,a,u){qn[Un++]=zi,qn[Un++]=_i,qn[Un++]=_o,_o=o;var f=zi;o=_i;var v=32-ye(f)-1;f&=~(1<<v),u+=1;var b=32-ye(a)+v;if(30<b){var _=v-v%5;b=(f&(1<<_)-1).toString(32),f>>=_,v-=_,zi=1<<32-ye(a)+v|u<<v|f,_i=b+o}else zi=1<<b|u<<v|f,_i=o}function Vp(o){o.return!==null&&(Ui(o,1),z0(o,1,0))}function Gp(o){for(;o===yu;)yu=ls[--cs],ls[cs]=null,vl=ls[--cs],ls[cs]=null;for(;o===_o;)_o=qn[--Un],qn[Un]=null,_i=qn[--Un],qn[Un]=null,zi=qn[--Un],qn[Un]=null}function _0(o,a){qn[Un++]=zi,qn[Un++]=_i,qn[Un++]=_o,zi=a.id,_i=a.overflow,_o=o}var Br=null,Gt=null,bt=!1,To=null,Hn=!1,Xp=Error(i(519));function Ao(o){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(In(a,o)),Xp}function T0(o){var a=o.stateNode,u=o.type,f=o.memoizedProps;switch(a[ot]=o,a[gt]=f,u){case"dialog":ht("cancel",a),ht("close",a);break;case"iframe":case"object":case"embed":ht("load",a);break;case"video":case"audio":for(u=0;u<ql.length;u++)ht(ql[u],a);break;case"source":ht("error",a);break;case"img":case"image":case"link":ht("error",a),ht("load",a);break;case"details":ht("toggle",a);break;case"input":ht("invalid",a),Ib(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":ht("invalid",a);break;case"textarea":ht("invalid",a),Ub(a,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||FS(a.textContent,u)?(f.popover!=null&&(ht("beforetoggle",a),ht("toggle",a)),f.onScroll!=null&&ht("scroll",a),f.onScrollEnd!=null&&ht("scrollend",a),f.onClick!=null&&(a.onclick=Bi),a=!0):a=!1,a||Ao(o,!0)}function A0(o){for(Br=o.return;Br;)switch(Br.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Br=Br.return}}function us(o){if(o!==Br)return!1;if(!bt)return A0(o),bt=!0,!1;var a=o.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=o.type,u=!(u!=="form"&&u!=="button")||gm(o.type,o.memoizedProps)),u=!u),u&&Gt&&Ao(o),A0(o),a===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Gt=ej(o)}else if(a===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Gt=ej(o)}else a===27?(a=Gt,Uo(o.type)?(o=vm,vm=null,Gt=o):Gt=a):Gt=Br?Kn(o.stateNode.nextSibling):null;return!0}function ya(){Gt=Br=null,bt=!1}function Qp(){var o=To;return o!==null&&(fn===null?fn=o:fn.push.apply(fn,o),To=null),o}function bl(o){To===null?To=[o]:To.push(o)}var Zp=N(null),xa=null,Hi=null;function Eo(o,a,u){oe(Zp,a._currentValue),a._currentValue=u}function Fi(o){o._currentValue=Zp.current,q(Zp)}function Jp(o,a,u){for(;o!==null;){var f=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),o===u)break;o=o.return}}function eg(o,a,u,f){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var b=v.dependencies;if(b!==null){var _=v.child;b=b.firstContext;e:for(;b!==null;){var O=b;b=v;for(var H=0;H<a.length;H++)if(O.context===a[H]){b.lanes|=u,O=b.alternate,O!==null&&(O.lanes|=u),Jp(b.return,u,o),f||(_=null);break e}b=O.next}}else if(v.tag===18){if(_=v.return,_===null)throw Error(i(341));_.lanes|=u,b=_.alternate,b!==null&&(b.lanes|=u),Jp(_,u,o),_=null}else _=v.child;if(_!==null)_.return=v;else for(_=v;_!==null;){if(_===o){_=null;break}if(v=_.sibling,v!==null){v.return=_.return,_=v;break}_=_.return}v=_}}function ds(o,a,u,f){o=null;for(var v=a,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var _=v.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var O=v.type;bn(v.pendingProps.value,_.value)||(o!==null?o.push(O):o=[O])}}else if(v===Q.current){if(_=v.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(Yl):o=[Yl])}v=v.return}o!==null&&eg(a,o,u,f),a.flags|=262144}function xu(o){for(o=o.firstContext;o!==null;){if(!bn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function va(o){xa=o,Hi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Ir(o){return E0(xa,o)}function vu(o,a){return xa===null&&va(o),E0(o,a)}function E0(o,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Hi===null){if(o===null)throw Error(i(308));Hi=a,o.dependencies={lanes:0,firstContext:a},o.flags|=524288}else Hi=Hi.next=a;return u}var cM=typeof AbortController<"u"?AbortController:function(){var o=[],a=this.signal={aborted:!1,addEventListener:function(u,f){o.push(f)}};this.abort=function(){a.aborted=!0,o.forEach(function(u){return u()})}},uM=e.unstable_scheduleCallback,dM=e.unstable_NormalPriority,br={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tg(){return{controller:new cM,data:new Map,refCount:0}}function Sl(o){o.refCount--,o.refCount===0&&uM(dM,function(){o.controller.abort()})}var jl=null,rg=0,fs=0,ps=null;function fM(o,a){if(jl===null){var u=jl=[];rg=0,fs=om(),ps={status:"pending",value:void 0,then:function(f){u.push(f)}}}return rg++,a.then(O0,O0),a}function O0(){if(--rg===0&&jl!==null){ps!==null&&(ps.status="fulfilled");var o=jl;jl=null,fs=0,ps=null;for(var a=0;a<o.length;a++)(0,o[a])()}}function pM(o,a){var u=[],f={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return o.then(function(){f.status="fulfilled",f.value=a;for(var v=0;v<u.length;v++)(0,u[v])(a)},function(v){for(f.status="rejected",f.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),f}var M0=W.S;W.S=function(o,a){mS=Je(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&fM(o,a),M0!==null&&M0(o,a)};var ba=N(null);function ng(){var o=ba.current;return o!==null?o:Ut.pooledCache}function bu(o,a){a===null?oe(ba,ba.current):oe(ba,a.pool)}function R0(){var o=ng();return o===null?null:{parent:br._currentValue,pool:o}}var gs=Error(i(460)),ig=Error(i(474)),Su=Error(i(542)),ju={then:function(){}};function D0(o){return o=o.status,o==="fulfilled"||o==="rejected"}function $0(o,a,u){switch(u=o[u],u===void 0?o.push(a):u!==a&&(a.then(Bi,Bi),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,N0(o),o;default:if(typeof a.status=="string")a.then(Bi,Bi);else{if(o=Ut,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=a,o.status="pending",o.then(function(f){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=f}},function(f){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,N0(o),o}throw ja=a,gs}}function Sa(o){try{var a=o._init;return a(o._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ja=u,gs):u}}var ja=null;function P0(){if(ja===null)throw Error(i(459));var o=ja;return ja=null,o}function N0(o){if(o===gs||o===Su)throw Error(i(483))}var ms=null,wl=0;function wu(o){var a=wl;return wl+=1,ms===null&&(ms=[]),$0(ms,o,a)}function Cl(o,a){a=a.props.ref,o.ref=a!==void 0?a:null}function Cu(o,a){throw a.$$typeof===S?Error(i(525)):(o=Object.prototype.toString.call(a),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o)))}function L0(o){function a(ee,Y){if(o){var ae=ee.deletions;ae===null?(ee.deletions=[Y],ee.flags|=16):ae.push(Y)}}function u(ee,Y){if(!o)return null;for(;Y!==null;)a(ee,Y),Y=Y.sibling;return null}function f(ee){for(var Y=new Map;ee!==null;)ee.key!==null?Y.set(ee.key,ee):Y.set(ee.index,ee),ee=ee.sibling;return Y}function v(ee,Y){return ee=qi(ee,Y),ee.index=0,ee.sibling=null,ee}function b(ee,Y,ae){return ee.index=ae,o?(ae=ee.alternate,ae!==null?(ae=ae.index,ae<Y?(ee.flags|=67108866,Y):ae):(ee.flags|=67108866,Y)):(ee.flags|=1048576,Y)}function _(ee){return o&&ee.alternate===null&&(ee.flags|=67108866),ee}function O(ee,Y,ae,we){return Y===null||Y.tag!==6?(Y=Kp(ae,ee.mode,we),Y.return=ee,Y):(Y=v(Y,ae),Y.return=ee,Y)}function H(ee,Y,ae,we){var Qe=ae.type;return Qe===w?ve(ee,Y,ae.props.children,we,ae.key):Y!==null&&(Y.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===F&&Sa(Qe)===Y.type)?(Y=v(Y,ae.props),Cl(Y,ae),Y.return=ee,Y):(Y=hu(ae.type,ae.key,ae.props,null,ee.mode,we),Cl(Y,ae),Y.return=ee,Y)}function se(ee,Y,ae,we){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ae.containerInfo||Y.stateNode.implementation!==ae.implementation?(Y=Yp(ae,ee.mode,we),Y.return=ee,Y):(Y=v(Y,ae.children||[]),Y.return=ee,Y)}function ve(ee,Y,ae,we,Qe){return Y===null||Y.tag!==7?(Y=ha(ae,ee.mode,we,Qe),Y.return=ee,Y):(Y=v(Y,ae),Y.return=ee,Y)}function ze(ee,Y,ae){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Kp(""+Y,ee.mode,ae),Y.return=ee,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:return ae=hu(Y.type,Y.key,Y.props,null,ee.mode,ae),Cl(ae,Y),ae.return=ee,ae;case C:return Y=Yp(Y,ee.mode,ae),Y.return=ee,Y;case F:return Y=Sa(Y),ze(ee,Y,ae)}if(Ee(Y)||ie(Y))return Y=ha(Y,ee.mode,ae,null),Y.return=ee,Y;if(typeof Y.then=="function")return ze(ee,wu(Y),ae);if(Y.$$typeof===A)return ze(ee,vu(ee,Y),ae);Cu(ee,Y)}return null}function ce(ee,Y,ae,we){var Qe=Y!==null?Y.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Qe!==null?null:O(ee,Y,""+ae,we);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case j:return ae.key===Qe?H(ee,Y,ae,we):null;case C:return ae.key===Qe?se(ee,Y,ae,we):null;case F:return ae=Sa(ae),ce(ee,Y,ae,we)}if(Ee(ae)||ie(ae))return Qe!==null?null:ve(ee,Y,ae,we,null);if(typeof ae.then=="function")return ce(ee,Y,wu(ae),we);if(ae.$$typeof===A)return ce(ee,Y,vu(ee,ae),we);Cu(ee,ae)}return null}function pe(ee,Y,ae,we,Qe){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ee=ee.get(ae)||null,O(Y,ee,""+we,Qe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case j:return ee=ee.get(we.key===null?ae:we.key)||null,H(Y,ee,we,Qe);case C:return ee=ee.get(we.key===null?ae:we.key)||null,se(Y,ee,we,Qe);case F:return we=Sa(we),pe(ee,Y,ae,we,Qe)}if(Ee(we)||ie(we))return ee=ee.get(ae)||null,ve(Y,ee,we,Qe,null);if(typeof we.then=="function")return pe(ee,Y,ae,wu(we),Qe);if(we.$$typeof===A)return pe(ee,Y,ae,vu(Y,we),Qe);Cu(Y,we)}return null}function qe(ee,Y,ae,we){for(var Qe=null,jt=null,Fe=Y,ct=Y=0,vt=null;Fe!==null&&ct<ae.length;ct++){Fe.index>ct?(vt=Fe,Fe=null):vt=Fe.sibling;var wt=ce(ee,Fe,ae[ct],we);if(wt===null){Fe===null&&(Fe=vt);break}o&&Fe&&wt.alternate===null&&a(ee,Fe),Y=b(wt,Y,ct),jt===null?Qe=wt:jt.sibling=wt,jt=wt,Fe=vt}if(ct===ae.length)return u(ee,Fe),bt&&Ui(ee,ct),Qe;if(Fe===null){for(;ct<ae.length;ct++)Fe=ze(ee,ae[ct],we),Fe!==null&&(Y=b(Fe,Y,ct),jt===null?Qe=Fe:jt.sibling=Fe,jt=Fe);return bt&&Ui(ee,ct),Qe}for(Fe=f(Fe);ct<ae.length;ct++)vt=pe(Fe,ee,ct,ae[ct],we),vt!==null&&(o&&vt.alternate!==null&&Fe.delete(vt.key===null?ct:vt.key),Y=b(vt,Y,ct),jt===null?Qe=vt:jt.sibling=vt,jt=vt);return o&&Fe.forEach(function(Vo){return a(ee,Vo)}),bt&&Ui(ee,ct),Qe}function et(ee,Y,ae,we){if(ae==null)throw Error(i(151));for(var Qe=null,jt=null,Fe=Y,ct=Y=0,vt=null,wt=ae.next();Fe!==null&&!wt.done;ct++,wt=ae.next()){Fe.index>ct?(vt=Fe,Fe=null):vt=Fe.sibling;var Vo=ce(ee,Fe,wt.value,we);if(Vo===null){Fe===null&&(Fe=vt);break}o&&Fe&&Vo.alternate===null&&a(ee,Fe),Y=b(Vo,Y,ct),jt===null?Qe=Vo:jt.sibling=Vo,jt=Vo,Fe=vt}if(wt.done)return u(ee,Fe),bt&&Ui(ee,ct),Qe;if(Fe===null){for(;!wt.done;ct++,wt=ae.next())wt=ze(ee,wt.value,we),wt!==null&&(Y=b(wt,Y,ct),jt===null?Qe=wt:jt.sibling=wt,jt=wt);return bt&&Ui(ee,ct),Qe}for(Fe=f(Fe);!wt.done;ct++,wt=ae.next())wt=pe(Fe,ee,ct,wt.value,we),wt!==null&&(o&&wt.alternate!==null&&Fe.delete(wt.key===null?ct:wt.key),Y=b(wt,Y,ct),jt===null?Qe=wt:jt.sibling=wt,jt=wt);return o&&Fe.forEach(function(CR){return a(ee,CR)}),bt&&Ui(ee,ct),Qe}function Bt(ee,Y,ae,we){if(typeof ae=="object"&&ae!==null&&ae.type===w&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case j:e:{for(var Qe=ae.key;Y!==null;){if(Y.key===Qe){if(Qe=ae.type,Qe===w){if(Y.tag===7){u(ee,Y.sibling),we=v(Y,ae.props.children),we.return=ee,ee=we;break e}}else if(Y.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===F&&Sa(Qe)===Y.type){u(ee,Y.sibling),we=v(Y,ae.props),Cl(we,ae),we.return=ee,ee=we;break e}u(ee,Y);break}else a(ee,Y);Y=Y.sibling}ae.type===w?(we=ha(ae.props.children,ee.mode,we,ae.key),we.return=ee,ee=we):(we=hu(ae.type,ae.key,ae.props,null,ee.mode,we),Cl(we,ae),we.return=ee,ee=we)}return _(ee);case C:e:{for(Qe=ae.key;Y!==null;){if(Y.key===Qe)if(Y.tag===4&&Y.stateNode.containerInfo===ae.containerInfo&&Y.stateNode.implementation===ae.implementation){u(ee,Y.sibling),we=v(Y,ae.children||[]),we.return=ee,ee=we;break e}else{u(ee,Y);break}else a(ee,Y);Y=Y.sibling}we=Yp(ae,ee.mode,we),we.return=ee,ee=we}return _(ee);case F:return ae=Sa(ae),Bt(ee,Y,ae,we)}if(Ee(ae))return qe(ee,Y,ae,we);if(ie(ae)){if(Qe=ie(ae),typeof Qe!="function")throw Error(i(150));return ae=Qe.call(ae),et(ee,Y,ae,we)}if(typeof ae.then=="function")return Bt(ee,Y,wu(ae),we);if(ae.$$typeof===A)return Bt(ee,Y,vu(ee,ae),we);Cu(ee,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,Y!==null&&Y.tag===6?(u(ee,Y.sibling),we=v(Y,ae),we.return=ee,ee=we):(u(ee,Y),we=Kp(ae,ee.mode,we),we.return=ee,ee=we),_(ee)):u(ee,Y)}return function(ee,Y,ae,we){try{wl=0;var Qe=Bt(ee,Y,ae,we);return ms=null,Qe}catch(Fe){if(Fe===gs||Fe===Su)throw Fe;var jt=Sn(29,Fe,null,ee.mode);return jt.lanes=we,jt.return=ee,jt}finally{}}}var wa=L0(!0),W0=L0(!1),Oo=!1;function og(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ag(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Mo(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ro(o,a,u){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(Ot&2)!==0){var v=f.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),f.pending=a,a=mu(o),j0(o,null,u),a}return gu(o,f,a,u),mu(o)}function kl(o,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=o.pendingLanes,u|=f,a.lanes=u,ko(o,u)}}function sg(o,a){var u=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var v=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var _={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?v=b=_:b=b.next=_,u=u.next}while(u!==null);b===null?v=b=a:b=b.next=a}else v=b=a;u={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=a:o.next=a,u.lastBaseUpdate=a}var lg=!1;function zl(){if(lg){var o=ps;if(o!==null)throw o}}function _l(o,a,u,f){lg=!1;var v=o.updateQueue;Oo=!1;var b=v.firstBaseUpdate,_=v.lastBaseUpdate,O=v.shared.pending;if(O!==null){v.shared.pending=null;var H=O,se=H.next;H.next=null,_===null?b=se:_.next=se,_=H;var ve=o.alternate;ve!==null&&(ve=ve.updateQueue,O=ve.lastBaseUpdate,O!==_&&(O===null?ve.firstBaseUpdate=se:O.next=se,ve.lastBaseUpdate=H))}if(b!==null){var ze=v.baseState;_=0,ve=se=H=null,O=b;do{var ce=O.lane&-536870913,pe=ce!==O.lane;if(pe?(xt&ce)===ce:(f&ce)===ce){ce!==0&&ce===fs&&(lg=!0),ve!==null&&(ve=ve.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var qe=o,et=O;ce=a;var Bt=u;switch(et.tag){case 1:if(qe=et.payload,typeof qe=="function"){ze=qe.call(Bt,ze,ce);break e}ze=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=et.payload,ce=typeof qe=="function"?qe.call(Bt,ze,ce):qe,ce==null)break e;ze=x({},ze,ce);break e;case 2:Oo=!0}}ce=O.callback,ce!==null&&(o.flags|=64,pe&&(o.flags|=8192),pe=v.callbacks,pe===null?v.callbacks=[ce]:pe.push(ce))}else pe={lane:ce,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ve===null?(se=ve=pe,H=ze):ve=ve.next=pe,_|=ce;if(O=O.next,O===null){if(O=v.shared.pending,O===null)break;pe=O,O=pe.next,pe.next=null,v.lastBaseUpdate=pe,v.shared.pending=null}}while(!0);ve===null&&(H=ze),v.baseState=H,v.firstBaseUpdate=se,v.lastBaseUpdate=ve,b===null&&(v.shared.lanes=0),Lo|=_,o.lanes=_,o.memoizedState=ze}}function B0(o,a){if(typeof o!="function")throw Error(i(191,o));o.call(a)}function I0(o,a){var u=o.callbacks;if(u!==null)for(o.callbacks=null,o=0;o<u.length;o++)B0(u[o],a)}var hs=N(null),ku=N(0);function q0(o,a){o=eo,oe(ku,o),oe(hs,a),eo=o|a.baseLanes}function cg(){oe(ku,eo),oe(hs,hs.current)}function ug(){eo=ku.current,q(hs),q(ku)}var jn=N(null),Fn=null;function Do(o){var a=o.alternate;oe(mr,mr.current&1),oe(jn,o),Fn===null&&(a===null||hs.current!==null||a.memoizedState!==null)&&(Fn=o)}function dg(o){oe(mr,mr.current),oe(jn,o),Fn===null&&(Fn=o)}function U0(o){o.tag===22?(oe(mr,mr.current),oe(jn,o),Fn===null&&(Fn=o)):$o()}function $o(){oe(mr,mr.current),oe(jn,jn.current)}function wn(o){q(jn),Fn===o&&(Fn=null),q(mr)}var mr=N(0);function zu(o){for(var a=o;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||ym(u)||xm(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ki=0,st=null,Lt=null,Sr=null,_u=!1,ys=!1,Ca=!1,Tu=0,Tl=0,xs=null,gM=0;function dr(){throw Error(i(321))}function fg(o,a){if(a===null)return!1;for(var u=0;u<a.length&&u<o.length;u++)if(!bn(o[u],a[u]))return!1;return!0}function pg(o,a,u,f,v,b){return Ki=b,st=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,W.H=o===null||o.memoizedState===null?z1:Tg,Ca=!1,b=u(f,v),Ca=!1,ys&&(b=F0(a,u,f,v)),H0(o),b}function H0(o){W.H=Ol;var a=Lt!==null&&Lt.next!==null;if(Ki=0,Sr=Lt=st=null,_u=!1,Tl=0,xs=null,a)throw Error(i(300));o===null||jr||(o=o.dependencies,o!==null&&xu(o)&&(jr=!0))}function F0(o,a,u,f){st=o;var v=0;do{if(ys&&(xs=null),Tl=0,ys=!1,25<=v)throw Error(i(301));if(v+=1,Sr=Lt=null,o.updateQueue!=null){var b=o.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}W.H=_1,b=a(u,f)}while(ys);return b}function mM(){var o=W.H,a=o.useState()[0];return a=typeof a.then=="function"?Al(a):a,o=o.useState()[0],(Lt!==null?Lt.memoizedState:null)!==o&&(st.flags|=1024),a}function gg(){var o=Tu!==0;return Tu=0,o}function mg(o,a,u){a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~u}function hg(o){if(_u){for(o=o.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}_u=!1}Ki=0,Sr=Lt=st=null,ys=!1,Tl=Tu=0,xs=null}function en(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?st.memoizedState=Sr=o:Sr=Sr.next=o,Sr}function hr(){if(Lt===null){var o=st.alternate;o=o!==null?o.memoizedState:null}else o=Lt.next;var a=Sr===null?st.memoizedState:Sr.next;if(a!==null)Sr=a,Lt=o;else{if(o===null)throw st.alternate===null?Error(i(467)):Error(i(310));Lt=o,o={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Sr===null?st.memoizedState=Sr=o:Sr=Sr.next=o}return Sr}function Au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(o){var a=Tl;return Tl+=1,xs===null&&(xs=[]),o=$0(xs,o,a),a=st,(Sr===null?a.memoizedState:Sr.next)===null&&(a=a.alternate,W.H=a===null||a.memoizedState===null?z1:Tg),o}function Eu(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Al(o);if(o.$$typeof===A)return Ir(o)}throw Error(i(438,String(o)))}function yg(o){var a=null,u=st.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=st.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Au(),st.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(o),f=0;f<o;f++)u[f]=le;return a.index++,u}function Yi(o,a){return typeof a=="function"?a(o):a}function Ou(o){var a=hr();return xg(a,Lt,o)}function xg(o,a,u){var f=o.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var v=o.baseQueue,b=f.pending;if(b!==null){if(v!==null){var _=v.next;v.next=b.next,b.next=_}a.baseQueue=v=b,f.pending=null}if(b=o.baseState,v===null)o.memoizedState=b;else{a=v.next;var O=_=null,H=null,se=a,ve=!1;do{var ze=se.lane&-536870913;if(ze!==se.lane?(xt&ze)===ze:(Ki&ze)===ze){var ce=se.revertLane;if(ce===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),ze===fs&&(ve=!0);else if((Ki&ce)===ce){se=se.next,ce===fs&&(ve=!0);continue}else ze={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},H===null?(O=H=ze,_=b):H=H.next=ze,st.lanes|=ce,Lo|=ce;ze=se.action,Ca&&u(b,ze),b=se.hasEagerState?se.eagerState:u(b,ze)}else ce={lane:ze,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},H===null?(O=H=ce,_=b):H=H.next=ce,st.lanes|=ze,Lo|=ze;se=se.next}while(se!==null&&se!==a);if(H===null?_=b:H.next=O,!bn(b,o.memoizedState)&&(jr=!0,ve&&(u=ps,u!==null)))throw u;o.memoizedState=b,o.baseState=_,o.baseQueue=H,f.lastRenderedState=b}return v===null&&(f.lanes=0),[o.memoizedState,f.dispatch]}function vg(o){var a=hr(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=u.dispatch,v=u.pending,b=a.memoizedState;if(v!==null){u.pending=null;var _=v=v.next;do b=o(b,_.action),_=_.next;while(_!==v);bn(b,a.memoizedState)||(jr=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,f]}function K0(o,a,u){var f=st,v=hr(),b=bt;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=a();var _=!bn((Lt||v).memoizedState,u);if(_&&(v.memoizedState=u,jr=!0),v=v.queue,jg(G0.bind(null,f,v,o),[o]),v.getSnapshot!==a||_||Sr!==null&&Sr.memoizedState.tag&1){if(f.flags|=2048,vs(9,{destroy:void 0},V0.bind(null,f,v,u,a),null),Ut===null)throw Error(i(349));b||(Ki&127)!==0||Y0(f,a,u)}return u}function Y0(o,a,u){o.flags|=16384,o={getSnapshot:a,value:u},a=st.updateQueue,a===null?(a=Au(),st.updateQueue=a,a.stores=[o]):(u=a.stores,u===null?a.stores=[o]:u.push(o))}function V0(o,a,u,f){a.value=u,a.getSnapshot=f,X0(a)&&Q0(o)}function G0(o,a,u){return u(function(){X0(a)&&Q0(o)})}function X0(o){var a=o.getSnapshot;o=o.value;try{var u=a();return!bn(o,u)}catch{return!0}}function Q0(o){var a=ma(o,2);a!==null&&pn(a,o,2)}function bg(o){var a=en();if(typeof o=="function"){var u=o;if(o=u(),Ca){sr(!0);try{u()}finally{sr(!1)}}}return a.memoizedState=a.baseState=o,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:o},a}function Z0(o,a,u,f){return o.baseState=u,xg(o,Lt,typeof f=="function"?f:Yi)}function hM(o,a,u,f,v){if(Du(o))throw Error(i(485));if(o=a.action,o!==null){var b={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){b.listeners.push(_)}};W.T!==null?u(!0):b.isTransition=!1,f(b),u=a.pending,u===null?(b.next=a.pending=b,J0(a,b)):(b.next=u.next,a.pending=u.next=b)}}function J0(o,a){var u=a.action,f=a.payload,v=o.state;if(a.isTransition){var b=W.T,_={};W.T=_;try{var O=u(v,f),H=W.S;H!==null&&H(_,O),e1(o,a,O)}catch(se){Sg(o,a,se)}finally{b!==null&&_.types!==null&&(b.types=_.types),W.T=b}}else try{b=u(v,f),e1(o,a,b)}catch(se){Sg(o,a,se)}}function e1(o,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){t1(o,a,f)},function(f){return Sg(o,a,f)}):t1(o,a,u)}function t1(o,a,u){a.status="fulfilled",a.value=u,r1(a),o.state=u,a=o.pending,a!==null&&(u=a.next,u===a?o.pending=null:(u=u.next,a.next=u,J0(o,u)))}function Sg(o,a,u){var f=o.pending;if(o.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,r1(a),a=a.next;while(a!==f)}o.action=null}function r1(o){o=o.listeners;for(var a=0;a<o.length;a++)(0,o[a])()}function n1(o,a){return a}function i1(o,a){if(bt){var u=Ut.formState;if(u!==null){e:{var f=st;if(bt){if(Gt){t:{for(var v=Gt,b=Hn;v.nodeType!==8;){if(!b){v=null;break t}if(v=Kn(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){Gt=Kn(v.nextSibling),f=v.data==="F!";break e}}Ao(f)}f=!1}f&&(a=u[0])}}return u=en(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n1,lastRenderedState:a},u.queue=f,u=w1.bind(null,st,f),f.dispatch=u,f=bg(!1),b=_g.bind(null,st,!1,f.queue),f=en(),v={state:a,dispatch:null,action:o,pending:null},f.queue=v,u=hM.bind(null,st,v,b,u),v.dispatch=u,f.memoizedState=o,[a,u,!1]}function o1(o){var a=hr();return a1(a,Lt,o)}function a1(o,a,u){if(a=xg(o,a,n1)[0],o=Ou(Yi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Al(a)}catch(_){throw _===gs?Su:_}else f=a;a=hr();var v=a.queue,b=v.dispatch;return u!==a.memoizedState&&(st.flags|=2048,vs(9,{destroy:void 0},yM.bind(null,v,u),null)),[f,b,o]}function yM(o,a){o.action=a}function s1(o){var a=hr(),u=Lt;if(u!==null)return a1(a,u,o);hr(),a=a.memoizedState,u=hr();var f=u.queue.dispatch;return u.memoizedState=o,[a,f,!1]}function vs(o,a,u,f){return o={tag:o,create:u,deps:f,inst:a,next:null},a=st.updateQueue,a===null&&(a=Au(),st.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=o.next=o:(f=u.next,u.next=o,o.next=f,a.lastEffect=o),o}function l1(){return hr().memoizedState}function Mu(o,a,u,f){var v=en();st.flags|=o,v.memoizedState=vs(1|a,{destroy:void 0},u,f===void 0?null:f)}function Ru(o,a,u,f){var v=hr();f=f===void 0?null:f;var b=v.memoizedState.inst;Lt!==null&&f!==null&&fg(f,Lt.memoizedState.deps)?v.memoizedState=vs(a,b,u,f):(st.flags|=o,v.memoizedState=vs(1|a,b,u,f))}function c1(o,a){Mu(8390656,8,o,a)}function jg(o,a){Ru(2048,8,o,a)}function xM(o){st.flags|=4;var a=st.updateQueue;if(a===null)a=Au(),st.updateQueue=a,a.events=[o];else{var u=a.events;u===null?a.events=[o]:u.push(o)}}function u1(o){var a=hr().memoizedState;return xM({ref:a,nextImpl:o}),function(){if((Ot&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function d1(o,a){return Ru(4,2,o,a)}function f1(o,a){return Ru(4,4,o,a)}function p1(o,a){if(typeof a=="function"){o=o();var u=a(o);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function g1(o,a,u){u=u!=null?u.concat([o]):null,Ru(4,4,p1.bind(null,a,o),u)}function wg(){}function m1(o,a){var u=hr();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&fg(a,f[1])?f[0]:(u.memoizedState=[o,a],o)}function h1(o,a){var u=hr();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&fg(a,f[1]))return f[0];if(f=o(),Ca){sr(!0);try{o()}finally{sr(!1)}}return u.memoizedState=[f,a],f}function Cg(o,a,u){return u===void 0||(Ki&1073741824)!==0&&(xt&261930)===0?o.memoizedState=a:(o.memoizedState=u,o=yS(),st.lanes|=o,Lo|=o,u)}function y1(o,a,u,f){return bn(u,a)?u:hs.current!==null?(o=Cg(o,u,f),bn(o,a)||(jr=!0),o):(Ki&42)===0||(Ki&1073741824)!==0&&(xt&261930)===0?(jr=!0,o.memoizedState=u):(o=yS(),st.lanes|=o,Lo|=o,a)}function x1(o,a,u,f,v){var b=J.p;J.p=b!==0&&8>b?b:8;var _=W.T,O={};W.T=O,_g(o,!1,a,u);try{var H=v(),se=W.S;if(se!==null&&se(O,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ve=pM(H,f);El(o,a,ve,zn(o))}else El(o,a,f,zn(o))}catch(ze){El(o,a,{then:function(){},status:"rejected",reason:ze},zn())}finally{J.p=b,_!==null&&O.types!==null&&(_.types=O.types),W.T=_}}function vM(){}function kg(o,a,u,f){if(o.tag!==5)throw Error(i(476));var v=v1(o).queue;x1(o,v,a,ue,u===null?vM:function(){return b1(o),u(f)})}function v1(o){var a=o.memoizedState;if(a!==null)return a;a={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ue},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:u},next:null},o.memoizedState=a,o=o.alternate,o!==null&&(o.memoizedState=a),a}function b1(o){var a=v1(o);a.next===null&&(a=o.alternate.memoizedState),El(o,a.next.queue,{},zn())}function zg(){return Ir(Yl)}function S1(){return hr().memoizedState}function j1(){return hr().memoizedState}function bM(o){for(var a=o.return;a!==null;){switch(a.tag){case 24:case 3:var u=zn();o=Mo(u);var f=Ro(a,o,u);f!==null&&(pn(f,a,u),kl(f,a,u)),a={cache:tg()},o.payload=a;return}a=a.return}}function SM(o,a,u){var f=zn();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Du(o)?C1(a,u):(u=Hp(o,a,u,f),u!==null&&(pn(u,o,f),k1(u,a,f)))}function w1(o,a,u){var f=zn();El(o,a,u,f)}function El(o,a,u,f){var v={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Du(o))C1(a,v);else{var b=o.alternate;if(o.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var _=a.lastRenderedState,O=b(_,u);if(v.hasEagerState=!0,v.eagerState=O,bn(O,_))return gu(o,a,v,0),Ut===null&&pu(),!1}catch{}finally{}if(u=Hp(o,a,v,f),u!==null)return pn(u,o,f),k1(u,a,f),!0}return!1}function _g(o,a,u,f){if(f={lane:2,revertLane:om(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Du(o)){if(a)throw Error(i(479))}else a=Hp(o,u,f,2),a!==null&&pn(a,o,2)}function Du(o){var a=o.alternate;return o===st||a!==null&&a===st}function C1(o,a){ys=_u=!0;var u=o.pending;u===null?a.next=a:(a.next=u.next,u.next=a),o.pending=a}function k1(o,a,u){if((u&4194048)!==0){var f=a.lanes;f&=o.pendingLanes,u|=f,a.lanes=u,ko(o,u)}}var Ol={readContext:Ir,use:Eu,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useLayoutEffect:dr,useInsertionEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useSyncExternalStore:dr,useId:dr,useHostTransitionStatus:dr,useFormState:dr,useActionState:dr,useOptimistic:dr,useMemoCache:dr,useCacheRefresh:dr};Ol.useEffectEvent=dr;var z1={readContext:Ir,use:Eu,useCallback:function(o,a){return en().memoizedState=[o,a===void 0?null:a],o},useContext:Ir,useEffect:c1,useImperativeHandle:function(o,a,u){u=u!=null?u.concat([o]):null,Mu(4194308,4,p1.bind(null,a,o),u)},useLayoutEffect:function(o,a){return Mu(4194308,4,o,a)},useInsertionEffect:function(o,a){Mu(4,2,o,a)},useMemo:function(o,a){var u=en();a=a===void 0?null:a;var f=o();if(Ca){sr(!0);try{o()}finally{sr(!1)}}return u.memoizedState=[f,a],f},useReducer:function(o,a,u){var f=en();if(u!==void 0){var v=u(a);if(Ca){sr(!0);try{u(a)}finally{sr(!1)}}}else v=a;return f.memoizedState=f.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},f.queue=o,o=o.dispatch=SM.bind(null,st,o),[f.memoizedState,o]},useRef:function(o){var a=en();return o={current:o},a.memoizedState=o},useState:function(o){o=bg(o);var a=o.queue,u=w1.bind(null,st,a);return a.dispatch=u,[o.memoizedState,u]},useDebugValue:wg,useDeferredValue:function(o,a){var u=en();return Cg(u,o,a)},useTransition:function(){var o=bg(!1);return o=x1.bind(null,st,o.queue,!0,!1),en().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,a,u){var f=st,v=en();if(bt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),Ut===null)throw Error(i(349));(xt&127)!==0||Y0(f,a,u)}v.memoizedState=u;var b={value:u,getSnapshot:a};return v.queue=b,c1(G0.bind(null,f,b,o),[o]),f.flags|=2048,vs(9,{destroy:void 0},V0.bind(null,f,b,u,a),null),u},useId:function(){var o=en(),a=Ut.identifierPrefix;if(bt){var u=_i,f=zi;u=(f&~(1<<32-ye(f)-1)).toString(32)+u,a="_"+a+"R_"+u,u=Tu++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=gM++,a="_"+a+"r_"+u.toString(32)+"_";return o.memoizedState=a},useHostTransitionStatus:zg,useFormState:i1,useActionState:i1,useOptimistic:function(o){var a=en();a.memoizedState=a.baseState=o;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=_g.bind(null,st,!0,u),u.dispatch=a,[o,a]},useMemoCache:yg,useCacheRefresh:function(){return en().memoizedState=bM.bind(null,st)},useEffectEvent:function(o){var a=en(),u={impl:o};return a.memoizedState=u,function(){if((Ot&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},Tg={readContext:Ir,use:Eu,useCallback:m1,useContext:Ir,useEffect:jg,useImperativeHandle:g1,useInsertionEffect:d1,useLayoutEffect:f1,useMemo:h1,useReducer:Ou,useRef:l1,useState:function(){return Ou(Yi)},useDebugValue:wg,useDeferredValue:function(o,a){var u=hr();return y1(u,Lt.memoizedState,o,a)},useTransition:function(){var o=Ou(Yi)[0],a=hr().memoizedState;return[typeof o=="boolean"?o:Al(o),a]},useSyncExternalStore:K0,useId:S1,useHostTransitionStatus:zg,useFormState:o1,useActionState:o1,useOptimistic:function(o,a){var u=hr();return Z0(u,Lt,o,a)},useMemoCache:yg,useCacheRefresh:j1};Tg.useEffectEvent=u1;var _1={readContext:Ir,use:Eu,useCallback:m1,useContext:Ir,useEffect:jg,useImperativeHandle:g1,useInsertionEffect:d1,useLayoutEffect:f1,useMemo:h1,useReducer:vg,useRef:l1,useState:function(){return vg(Yi)},useDebugValue:wg,useDeferredValue:function(o,a){var u=hr();return Lt===null?Cg(u,o,a):y1(u,Lt.memoizedState,o,a)},useTransition:function(){var o=vg(Yi)[0],a=hr().memoizedState;return[typeof o=="boolean"?o:Al(o),a]},useSyncExternalStore:K0,useId:S1,useHostTransitionStatus:zg,useFormState:s1,useActionState:s1,useOptimistic:function(o,a){var u=hr();return Lt!==null?Z0(u,Lt,o,a):(u.baseState=o,[o,u.queue.dispatch])},useMemoCache:yg,useCacheRefresh:j1};_1.useEffectEvent=u1;function Ag(o,a,u,f){a=o.memoizedState,u=u(f,a),u=u==null?a:x({},a,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var Eg={enqueueSetState:function(o,a,u){o=o._reactInternals;var f=zn(),v=Mo(f);v.payload=a,u!=null&&(v.callback=u),a=Ro(o,v,f),a!==null&&(pn(a,o,f),kl(a,o,f))},enqueueReplaceState:function(o,a,u){o=o._reactInternals;var f=zn(),v=Mo(f);v.tag=1,v.payload=a,u!=null&&(v.callback=u),a=Ro(o,v,f),a!==null&&(pn(a,o,f),kl(a,o,f))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var u=zn(),f=Mo(u);f.tag=2,a!=null&&(f.callback=a),a=Ro(o,f,u),a!==null&&(pn(a,o,u),kl(a,o,u))}};function T1(o,a,u,f,v,b,_){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,b,_):a.prototype&&a.prototype.isPureReactComponent?!yl(u,f)||!yl(v,b):!0}function A1(o,a,u,f){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==o&&Eg.enqueueReplaceState(a,a.state,null)}function ka(o,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(o=o.defaultProps){u===a&&(u=x({},u));for(var v in o)u[v]===void 0&&(u[v]=o[v])}return u}function E1(o){fu(o)}function O1(o){console.error(o)}function M1(o){fu(o)}function $u(o,a){try{var u=o.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function R1(o,a,u){try{var f=o.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Og(o,a,u){return u=Mo(u),u.tag=3,u.payload={element:null},u.callback=function(){$u(o,a)},u}function D1(o){return o=Mo(o),o.tag=3,o}function $1(o,a,u,f){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var b=f.value;o.payload=function(){return v(b)},o.callback=function(){R1(a,u,f)}}var _=u.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(o.callback=function(){R1(a,u,f),typeof v!="function"&&(Wo===null?Wo=new Set([this]):Wo.add(this));var O=f.stack;this.componentDidCatch(f.value,{componentStack:O!==null?O:""})})}function jM(o,a,u,f,v){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&ds(a,u,v,!0),u=jn.current,u!==null){switch(u.tag){case 31:case 13:return Fn===null?Yu():u.alternate===null&&fr===0&&(fr=3),u.flags&=-257,u.flags|=65536,u.lanes=v,f===ju?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),rm(o,f,v)),!1;case 22:return u.flags|=65536,f===ju?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),rm(o,f,v)),!1}throw Error(i(435,u.tag))}return rm(o,f,v),Yu(),!1}if(bt)return a=jn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,f!==Xp&&(o=Error(i(422),{cause:f}),bl(In(o,u)))):(f!==Xp&&(a=Error(i(423),{cause:f}),bl(In(a,u))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,f=In(f,u),v=Og(o.stateNode,f,v),sg(o,v),fr!==4&&(fr=2)),!1;var b=Error(i(520),{cause:f});if(b=In(b,u),Wl===null?Wl=[b]:Wl.push(b),fr!==4&&(fr=2),a===null)return!0;f=In(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,o=v&-v,u.lanes|=o,o=Og(u.stateNode,f,o),sg(u,o),!1;case 1:if(a=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Wo===null||!Wo.has(b))))return u.flags|=65536,v&=-v,u.lanes|=v,v=D1(v),$1(v,o,u,f),sg(u,v),!1}u=u.return}while(u!==null);return!1}var Mg=Error(i(461)),jr=!1;function qr(o,a,u,f){a.child=o===null?W0(a,null,u,f):wa(a,o.child,u,f)}function P1(o,a,u,f,v){u=u.render;var b=a.ref;if("ref"in f){var _={};for(var O in f)O!=="ref"&&(_[O]=f[O])}else _=f;return va(a),f=pg(o,a,u,_,b,v),O=gg(),o!==null&&!jr?(mg(o,a,v),Vi(o,a,v)):(bt&&O&&Vp(a),a.flags|=1,qr(o,a,f,v),a.child)}function N1(o,a,u,f,v){if(o===null){var b=u.type;return typeof b=="function"&&!Fp(b)&&b.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=b,L1(o,a,b,f,v)):(o=hu(u.type,null,f,a,a.mode,v),o.ref=a.ref,o.return=a,a.child=o)}if(b=o.child,!Bg(o,v)){var _=b.memoizedProps;if(u=u.compare,u=u!==null?u:yl,u(_,f)&&o.ref===a.ref)return Vi(o,a,v)}return a.flags|=1,o=qi(b,f),o.ref=a.ref,o.return=a,a.child=o}function L1(o,a,u,f,v){if(o!==null){var b=o.memoizedProps;if(yl(b,f)&&o.ref===a.ref)if(jr=!1,a.pendingProps=f=b,Bg(o,v))(o.flags&131072)!==0&&(jr=!0);else return a.lanes=o.lanes,Vi(o,a,v)}return Rg(o,a,u,f,v)}function W1(o,a,u,f){var v=f.children,b=o!==null?o.memoizedState:null;if(o===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,o!==null){for(f=a.child=o.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~b}else f=0,a.child=null;return B1(o,a,b,u,f)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},o!==null&&bu(a,b!==null?b.cachePool:null),b!==null?q0(a,b):cg(),U0(a);else return f=a.lanes=536870912,B1(o,a,b!==null?b.baseLanes|u:u,u,f)}else b!==null?(bu(a,b.cachePool),q0(a,b),$o(),a.memoizedState=null):(o!==null&&bu(a,null),cg(),$o());return qr(o,a,v,u),a.child}function Ml(o,a){return o!==null&&o.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function B1(o,a,u,f,v){var b=ng();return b=b===null?null:{parent:br._currentValue,pool:b},a.memoizedState={baseLanes:u,cachePool:b},o!==null&&bu(a,null),cg(),U0(a),o!==null&&ds(o,a,f,!0),a.childLanes=v,null}function Pu(o,a){return a=Lu({mode:a.mode,children:a.children},o.mode),a.ref=o.ref,o.child=a,a.return=o,a}function I1(o,a,u){return wa(a,o.child,null,u),o=Pu(a,a.pendingProps),o.flags|=2,wn(a),a.memoizedState=null,o}function wM(o,a,u){var f=a.pendingProps,v=(a.flags&128)!==0;if(a.flags&=-129,o===null){if(bt){if(f.mode==="hidden")return o=Pu(a,f),a.lanes=536870912,Ml(null,o);if(dg(a),(o=Gt)?(o=JS(o,Hn),o=o!==null&&o.data==="&"?o:null,o!==null&&(a.memoizedState={dehydrated:o,treeContext:_o!==null?{id:zi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},u=C0(o),u.return=a,a.child=u,Br=a,Gt=null)):o=null,o===null)throw Ao(a);return a.lanes=536870912,null}return Pu(a,f)}var b=o.memoizedState;if(b!==null){var _=b.dehydrated;if(dg(a),v)if(a.flags&256)a.flags&=-257,a=I1(o,a,u);else if(a.memoizedState!==null)a.child=o.child,a.flags|=128,a=null;else throw Error(i(558));else if(jr||ds(o,a,u,!1),v=(u&o.childLanes)!==0,jr||v){if(f=Ut,f!==null&&(_=ai(f,u),_!==0&&_!==b.retryLane))throw b.retryLane=_,ma(o,_),pn(f,o,_),Mg;Yu(),a=I1(o,a,u)}else o=b.treeContext,Gt=Kn(_.nextSibling),Br=a,bt=!0,To=null,Hn=!1,o!==null&&_0(a,o),a=Pu(a,f),a.flags|=4096;return a}return o=qi(o.child,{mode:f.mode,children:f.children}),o.ref=a.ref,a.child=o,o.return=a,o}function Nu(o,a){var u=a.ref;if(u===null)o!==null&&o.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(o===null||o.ref!==u)&&(a.flags|=4194816)}}function Rg(o,a,u,f,v){return va(a),u=pg(o,a,u,f,void 0,v),f=gg(),o!==null&&!jr?(mg(o,a,v),Vi(o,a,v)):(bt&&f&&Vp(a),a.flags|=1,qr(o,a,u,v),a.child)}function q1(o,a,u,f,v,b){return va(a),a.updateQueue=null,u=F0(a,f,u,v),H0(o),f=gg(),o!==null&&!jr?(mg(o,a,b),Vi(o,a,b)):(bt&&f&&Vp(a),a.flags|=1,qr(o,a,u,b),a.child)}function U1(o,a,u,f,v){if(va(a),a.stateNode===null){var b=ss,_=u.contextType;typeof _=="object"&&_!==null&&(b=Ir(_)),b=new u(f,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Eg,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=f,b.state=a.memoizedState,b.refs={},og(a),_=u.contextType,b.context=typeof _=="object"&&_!==null?Ir(_):ss,b.state=a.memoizedState,_=u.getDerivedStateFromProps,typeof _=="function"&&(Ag(a,u,_,f),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(_=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),_!==b.state&&Eg.enqueueReplaceState(b,b.state,null),_l(a,f,b,v),zl(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(o===null){b=a.stateNode;var O=a.memoizedProps,H=ka(u,O);b.props=H;var se=b.context,ve=u.contextType;_=ss,typeof ve=="object"&&ve!==null&&(_=Ir(ve));var ze=u.getDerivedStateFromProps;ve=typeof ze=="function"||typeof b.getSnapshotBeforeUpdate=="function",O=a.pendingProps!==O,ve||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O||se!==_)&&A1(a,b,f,_),Oo=!1;var ce=a.memoizedState;b.state=ce,_l(a,f,b,v),zl(),se=a.memoizedState,O||ce!==se||Oo?(typeof ze=="function"&&(Ag(a,u,ze,f),se=a.memoizedState),(H=Oo||T1(a,u,H,f,ce,se,_))?(ve||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=se),b.props=f,b.state=se,b.context=_,f=H):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{b=a.stateNode,ag(o,a),_=a.memoizedProps,ve=ka(u,_),b.props=ve,ze=a.pendingProps,ce=b.context,se=u.contextType,H=ss,typeof se=="object"&&se!==null&&(H=Ir(se)),O=u.getDerivedStateFromProps,(se=typeof O=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_!==ze||ce!==H)&&A1(a,b,f,H),Oo=!1,ce=a.memoizedState,b.state=ce,_l(a,f,b,v),zl();var pe=a.memoizedState;_!==ze||ce!==pe||Oo||o!==null&&o.dependencies!==null&&xu(o.dependencies)?(typeof O=="function"&&(Ag(a,u,O,f),pe=a.memoizedState),(ve=Oo||T1(a,u,ve,f,ce,pe,H)||o!==null&&o.dependencies!==null&&xu(o.dependencies))?(se||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,pe,H),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,pe,H)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||_===o.memoizedProps&&ce===o.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===o.memoizedProps&&ce===o.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=pe),b.props=f,b.state=pe,b.context=H,f=ve):(typeof b.componentDidUpdate!="function"||_===o.memoizedProps&&ce===o.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===o.memoizedProps&&ce===o.memoizedState||(a.flags|=1024),f=!1)}return b=f,Nu(o,a),f=(a.flags&128)!==0,b||f?(b=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,o!==null&&f?(a.child=wa(a,o.child,null,v),a.child=wa(a,null,u,v)):qr(o,a,u,v),a.memoizedState=b.state,o=a.child):o=Vi(o,a,v),o}function H1(o,a,u,f){return ya(),a.flags|=256,qr(o,a,u,f),a.child}var Dg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $g(o){return{baseLanes:o,cachePool:R0()}}function Pg(o,a,u){return o=o!==null?o.childLanes&~u:0,a&&(o|=kn),o}function F1(o,a,u){var f=a.pendingProps,v=!1,b=(a.flags&128)!==0,_;if((_=b)||(_=o!==null&&o.memoizedState===null?!1:(mr.current&2)!==0),_&&(v=!0,a.flags&=-129),_=(a.flags&32)!==0,a.flags&=-33,o===null){if(bt){if(v?Do(a):$o(),(o=Gt)?(o=JS(o,Hn),o=o!==null&&o.data!=="&"?o:null,o!==null&&(a.memoizedState={dehydrated:o,treeContext:_o!==null?{id:zi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},u=C0(o),u.return=a,a.child=u,Br=a,Gt=null)):o=null,o===null)throw Ao(a);return xm(o)?a.lanes=32:a.lanes=536870912,null}var O=f.children;return f=f.fallback,v?($o(),v=a.mode,O=Lu({mode:"hidden",children:O},v),f=ha(f,v,u,null),O.return=a,f.return=a,O.sibling=f,a.child=O,f=a.child,f.memoizedState=$g(u),f.childLanes=Pg(o,_,u),a.memoizedState=Dg,Ml(null,f)):(Do(a),Ng(a,O))}var H=o.memoizedState;if(H!==null&&(O=H.dehydrated,O!==null)){if(b)a.flags&256?(Do(a),a.flags&=-257,a=Lg(o,a,u)):a.memoizedState!==null?($o(),a.child=o.child,a.flags|=128,a=null):($o(),O=f.fallback,v=a.mode,f=Lu({mode:"visible",children:f.children},v),O=ha(O,v,u,null),O.flags|=2,f.return=a,O.return=a,f.sibling=O,a.child=f,wa(a,o.child,null,u),f=a.child,f.memoizedState=$g(u),f.childLanes=Pg(o,_,u),a.memoizedState=Dg,a=Ml(null,f));else if(Do(a),xm(O)){if(_=O.nextSibling&&O.nextSibling.dataset,_)var se=_.dgst;_=se,f=Error(i(419)),f.stack="",f.digest=_,bl({value:f,source:null,stack:null}),a=Lg(o,a,u)}else if(jr||ds(o,a,u,!1),_=(u&o.childLanes)!==0,jr||_){if(_=Ut,_!==null&&(f=ai(_,u),f!==0&&f!==H.retryLane))throw H.retryLane=f,ma(o,f),pn(_,o,f),Mg;ym(O)||Yu(),a=Lg(o,a,u)}else ym(O)?(a.flags|=192,a.child=o.child,a=null):(o=H.treeContext,Gt=Kn(O.nextSibling),Br=a,bt=!0,To=null,Hn=!1,o!==null&&_0(a,o),a=Ng(a,f.children),a.flags|=4096);return a}return v?($o(),O=f.fallback,v=a.mode,H=o.child,se=H.sibling,f=qi(H,{mode:"hidden",children:f.children}),f.subtreeFlags=H.subtreeFlags&65011712,se!==null?O=qi(se,O):(O=ha(O,v,u,null),O.flags|=2),O.return=a,f.return=a,f.sibling=O,a.child=f,Ml(null,f),f=a.child,O=o.child.memoizedState,O===null?O=$g(u):(v=O.cachePool,v!==null?(H=br._currentValue,v=v.parent!==H?{parent:H,pool:H}:v):v=R0(),O={baseLanes:O.baseLanes|u,cachePool:v}),f.memoizedState=O,f.childLanes=Pg(o,_,u),a.memoizedState=Dg,Ml(o.child,f)):(Do(a),u=o.child,o=u.sibling,u=qi(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,o!==null&&(_=a.deletions,_===null?(a.deletions=[o],a.flags|=16):_.push(o)),a.child=u,a.memoizedState=null,u)}function Ng(o,a){return a=Lu({mode:"visible",children:a},o.mode),a.return=o,o.child=a}function Lu(o,a){return o=Sn(22,o,null,a),o.lanes=0,o}function Lg(o,a,u){return wa(a,o.child,null,u),o=Ng(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function K1(o,a,u){o.lanes|=a;var f=o.alternate;f!==null&&(f.lanes|=a),Jp(o.return,a,u)}function Wg(o,a,u,f,v,b){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:v,treeForkCount:b}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=v,_.treeForkCount=b)}function Y1(o,a,u){var f=a.pendingProps,v=f.revealOrder,b=f.tail;f=f.children;var _=mr.current,O=(_&2)!==0;if(O?(_=_&1|2,a.flags|=128):_&=1,oe(mr,_),qr(o,a,f,u),f=bt?vl:0,!O&&o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&K1(o,u,a);else if(o.tag===19)K1(o,u,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(v){case"forwards":for(u=a.child,v=null;u!==null;)o=u.alternate,o!==null&&zu(o)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),Wg(a,!1,v,u,b,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(o=v.alternate,o!==null&&zu(o)===null){a.child=v;break}o=v.sibling,v.sibling=u,u=v,v=o}Wg(a,!0,u,null,b,f);break;case"together":Wg(a,!1,null,null,void 0,f);break;default:a.memoizedState=null}return a.child}function Vi(o,a,u){if(o!==null&&(a.dependencies=o.dependencies),Lo|=a.lanes,(u&a.childLanes)===0)if(o!==null){if(ds(o,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(o!==null&&a.child!==o.child)throw Error(i(153));if(a.child!==null){for(o=a.child,u=qi(o,o.pendingProps),a.child=u,u.return=a;o.sibling!==null;)o=o.sibling,u=u.sibling=qi(o,o.pendingProps),u.return=a;u.sibling=null}return a.child}function Bg(o,a){return(o.lanes&a)!==0?!0:(o=o.dependencies,!!(o!==null&&xu(o)))}function CM(o,a,u){switch(a.tag){case 3:me(a,a.stateNode.containerInfo),Eo(a,br,o.memoizedState.cache),ya();break;case 27:case 5:Te(a);break;case 4:me(a,a.stateNode.containerInfo);break;case 10:Eo(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,dg(a),null;break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Do(a),a.flags|=128,null):(u&a.child.childLanes)!==0?F1(o,a,u):(Do(a),o=Vi(o,a,u),o!==null?o.sibling:null);Do(a);break;case 19:var v=(o.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(ds(o,a,u,!1),f=(u&a.childLanes)!==0),v){if(f)return Y1(o,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),oe(mr,mr.current),f)break;return null;case 22:return a.lanes=0,W1(o,a,u,a.pendingProps);case 24:Eo(a,br,o.memoizedState.cache)}return Vi(o,a,u)}function V1(o,a,u){if(o!==null)if(o.memoizedProps!==a.pendingProps)jr=!0;else{if(!Bg(o,u)&&(a.flags&128)===0)return jr=!1,CM(o,a,u);jr=(o.flags&131072)!==0}else jr=!1,bt&&(a.flags&1048576)!==0&&z0(a,vl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var f=a.pendingProps;if(o=Sa(a.elementType),a.type=o,typeof o=="function")Fp(o)?(f=ka(o,f),a.tag=1,a=U1(null,a,o,f,u)):(a.tag=0,a=Rg(null,a,o,f,u));else{if(o!=null){var v=o.$$typeof;if(v===D){a.tag=11,a=P1(null,a,o,f,u);break e}else if(v===M){a.tag=14,a=N1(null,a,o,f,u);break e}}throw a=fe(o)||o,Error(i(306,a,""))}}return a;case 0:return Rg(o,a,a.type,a.pendingProps,u);case 1:return f=a.type,v=ka(f,a.pendingProps),U1(o,a,f,v,u);case 3:e:{if(me(a,a.stateNode.containerInfo),o===null)throw Error(i(387));f=a.pendingProps;var b=a.memoizedState;v=b.element,ag(o,a),_l(a,f,null,u);var _=a.memoizedState;if(f=_.cache,Eo(a,br,f),f!==b.cache&&eg(a,[br],u,!0),zl(),f=_.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:_.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=H1(o,a,f,u);break e}else if(f!==v){v=In(Error(i(424)),a),bl(v),a=H1(o,a,f,u);break e}else{switch(o=a.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Gt=Kn(o.firstChild),Br=a,bt=!0,To=null,Hn=!0,u=W0(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ya(),f===v){a=Vi(o,a,u);break e}qr(o,a,f,u)}a=a.child}return a;case 26:return Nu(o,a),o===null?(u=oj(a.type,null,a.pendingProps,null))?a.memoizedState=u:bt||(u=a.type,o=a.pendingProps,f=ed(Ce.current).createElement(u),f[ot]=a,f[gt]=o,Ur(f,u,o),at(f),a.stateNode=f):a.memoizedState=oj(a.type,o.memoizedProps,a.pendingProps,o.memoizedState),null;case 27:return Te(a),o===null&&bt&&(f=a.stateNode=rj(a.type,a.pendingProps,Ce.current),Br=a,Hn=!0,v=Gt,Uo(a.type)?(vm=v,Gt=Kn(f.firstChild)):Gt=v),qr(o,a,a.pendingProps.children,u),Nu(o,a),o===null&&(a.flags|=4194304),a.child;case 5:return o===null&&bt&&((v=f=Gt)&&(f=eR(f,a.type,a.pendingProps,Hn),f!==null?(a.stateNode=f,Br=a,Gt=Kn(f.firstChild),Hn=!1,v=!0):v=!1),v||Ao(a)),Te(a),v=a.type,b=a.pendingProps,_=o!==null?o.memoizedProps:null,f=b.children,gm(v,b)?f=null:_!==null&&gm(v,_)&&(a.flags|=32),a.memoizedState!==null&&(v=pg(o,a,mM,null,null,u),Yl._currentValue=v),Nu(o,a),qr(o,a,f,u),a.child;case 6:return o===null&&bt&&((o=u=Gt)&&(u=tR(u,a.pendingProps,Hn),u!==null?(a.stateNode=u,Br=a,Gt=null,o=!0):o=!1),o||Ao(a)),null;case 13:return F1(o,a,u);case 4:return me(a,a.stateNode.containerInfo),f=a.pendingProps,o===null?a.child=wa(a,null,f,u):qr(o,a,f,u),a.child;case 11:return P1(o,a,a.type,a.pendingProps,u);case 7:return qr(o,a,a.pendingProps,u),a.child;case 8:return qr(o,a,a.pendingProps.children,u),a.child;case 12:return qr(o,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,Eo(a,a.type,f.value),qr(o,a,f.children,u),a.child;case 9:return v=a.type._context,f=a.pendingProps.children,va(a),v=Ir(v),f=f(v),a.flags|=1,qr(o,a,f,u),a.child;case 14:return N1(o,a,a.type,a.pendingProps,u);case 15:return L1(o,a,a.type,a.pendingProps,u);case 19:return Y1(o,a,u);case 31:return wM(o,a,u);case 22:return W1(o,a,u,a.pendingProps);case 24:return va(a),f=Ir(br),o===null?(v=ng(),v===null&&(v=Ut,b=tg(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=u),v=b),a.memoizedState={parent:f,cache:v},og(a),Eo(a,br,v)):((o.lanes&u)!==0&&(ag(o,a),_l(a,null,null,u),zl()),v=o.memoizedState,b=a.memoizedState,v.parent!==f?(v={parent:f,cache:f},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),Eo(a,br,f)):(f=b.cache,Eo(a,br,f),f!==v.cache&&eg(a,[br],u,!0))),qr(o,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Gi(o){o.flags|=4}function Ig(o,a,u,f,v){if((a=(o.mode&32)!==0)&&(a=!1),a){if(o.flags|=16777216,(v&335544128)===v)if(o.stateNode.complete)o.flags|=8192;else if(SS())o.flags|=8192;else throw ja=ju,ig}else o.flags&=-16777217}function G1(o,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!uj(a))if(SS())o.flags|=8192;else throw ja=ju,ig}function Wu(o,a){a!==null&&(o.flags|=4),o.flags&16384&&(a=o.tag!==22?gr():536870912,o.lanes|=a,ws|=a)}function Rl(o,a){if(!bt)switch(o.tailMode){case"hidden":a=o.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function Xt(o){var a=o.alternate!==null&&o.alternate.child===o.child,u=0,f=0;if(a)for(var v=o.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=f,o.childLanes=u,a}function kM(o,a,u){var f=a.pendingProps;switch(Gp(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(a),null;case 1:return Xt(a),null;case 3:return u=a.stateNode,f=null,o!==null&&(f=o.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Fi(br),ne(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(o===null||o.child===null)&&(us(a)?Gi(a):o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Qp())),Xt(a),null;case 26:var v=a.type,b=a.memoizedState;return o===null?(Gi(a),b!==null?(Xt(a),G1(a,b)):(Xt(a),Ig(a,v,null,f,u))):b?b!==o.memoizedState?(Gi(a),Xt(a),G1(a,b)):(Xt(a),a.flags&=-16777217):(o=o.memoizedProps,o!==f&&Gi(a),Xt(a),Ig(a,v,o,f,u)),null;case 27:if(V(a),u=Ce.current,v=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==f&&Gi(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Xt(a),null}o=be.current,us(a)?T0(a):(o=rj(v,f,u),a.stateNode=o,Gi(a))}return Xt(a),null;case 5:if(V(a),v=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==f&&Gi(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Xt(a),null}if(b=be.current,us(a))T0(a);else{var _=ed(Ce.current);switch(b){case 1:b=_.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=_.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=_.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=_.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=_.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof f.is=="string"?_.createElement("select",{is:f.is}):_.createElement("select"),f.multiple?b.multiple=!0:f.size&&(b.size=f.size);break;default:b=typeof f.is=="string"?_.createElement(v,{is:f.is}):_.createElement(v)}}b[ot]=a,b[gt]=f;e:for(_=a.child;_!==null;){if(_.tag===5||_.tag===6)b.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===a)break e;for(;_.sibling===null;){if(_.return===null||_.return===a)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}a.stateNode=b;e:switch(Ur(b,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Gi(a)}}return Xt(a),Ig(a,a.type,o===null?null:o.memoizedProps,a.pendingProps,u),null;case 6:if(o&&a.stateNode!=null)o.memoizedProps!==f&&Gi(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(i(166));if(o=Ce.current,us(a)){if(o=a.stateNode,u=a.memoizedProps,f=null,v=Br,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}o[ot]=a,o=!!(o.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||FS(o.nodeValue,u)),o||Ao(a,!0)}else o=ed(o).createTextNode(f),o[ot]=a,a.stateNode=o}return Xt(a),null;case 31:if(u=a.memoizedState,o===null||o.memoizedState!==null){if(f=us(a),u!==null){if(o===null){if(!f)throw Error(i(318));if(o=a.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(557));o[ot]=a}else ya(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Xt(a),o=!1}else u=Qp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=u),o=!0;if(!o)return a.flags&256?(wn(a),a):(wn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Xt(a),null;case 13:if(f=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=us(a),f!==null&&f.dehydrated!==null){if(o===null){if(!v)throw Error(i(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[ot]=a}else ya(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Xt(a),v=!1}else v=Qp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(wn(a),a):(wn(a),null)}return wn(a),(a.flags&128)!==0?(a.lanes=u,a):(u=f!==null,o=o!==null&&o.memoizedState!==null,u&&(f=a.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==v&&(f.flags|=2048)),u!==o&&u&&(a.child.flags|=8192),Wu(a,a.updateQueue),Xt(a),null);case 4:return ne(),o===null&&cm(a.stateNode.containerInfo),Xt(a),null;case 10:return Fi(a.type),Xt(a),null;case 19:if(q(mr),f=a.memoizedState,f===null)return Xt(a),null;if(v=(a.flags&128)!==0,b=f.rendering,b===null)if(v)Rl(f,!1);else{if(fr!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(b=zu(o),b!==null){for(a.flags|=128,Rl(f,!1),o=b.updateQueue,a.updateQueue=o,Wu(a,o),a.subtreeFlags=0,o=u,u=a.child;u!==null;)w0(u,o),u=u.sibling;return oe(mr,mr.current&1|2),bt&&Ui(a,f.treeForkCount),a.child}o=o.sibling}f.tail!==null&&Je()>Hu&&(a.flags|=128,v=!0,Rl(f,!1),a.lanes=4194304)}else{if(!v)if(o=zu(b),o!==null){if(a.flags|=128,v=!0,o=o.updateQueue,a.updateQueue=o,Wu(a,o),Rl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!bt)return Xt(a),null}else 2*Je()-f.renderingStartTime>Hu&&u!==536870912&&(a.flags|=128,v=!0,Rl(f,!1),a.lanes=4194304);f.isBackwards?(b.sibling=a.child,a.child=b):(o=f.last,o!==null?o.sibling=b:a.child=b,f.last=b)}return f.tail!==null?(o=f.tail,f.rendering=o,f.tail=o.sibling,f.renderingStartTime=Je(),o.sibling=null,u=mr.current,oe(mr,v?u&1|2:u&1),bt&&Ui(a,f.treeForkCount),o):(Xt(a),null);case 22:case 23:return wn(a),ug(),f=a.memoizedState!==null,o!==null?o.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(Xt(a),a.subtreeFlags&6&&(a.flags|=8192)):Xt(a),u=a.updateQueue,u!==null&&Wu(a,u.retryQueue),u=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),o!==null&&q(ba),null;case 24:return u=null,o!==null&&(u=o.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Fi(br),Xt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function zM(o,a){switch(Gp(a),a.tag){case 1:return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Fi(br),ne(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 26:case 27:case 5:return V(a),null;case 31:if(a.memoizedState!==null){if(wn(a),a.alternate===null)throw Error(i(340));ya()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 13:if(wn(a),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ya()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return q(mr),null;case 4:return ne(),null;case 10:return Fi(a.type),null;case 22:case 23:return wn(a),ug(),o!==null&&q(ba),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 24:return Fi(br),null;case 25:return null;default:return null}}function X1(o,a){switch(Gp(a),a.tag){case 3:Fi(br),ne();break;case 26:case 27:case 5:V(a);break;case 4:ne();break;case 31:a.memoizedState!==null&&wn(a);break;case 13:wn(a);break;case 19:q(mr);break;case 10:Fi(a.type);break;case 22:case 23:wn(a),ug(),o!==null&&q(ba);break;case 24:Fi(br)}}function Dl(o,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var v=f.next;u=v;do{if((u.tag&o)===o){f=void 0;var b=u.create,_=u.inst;f=b(),_.destroy=f}u=u.next}while(u!==v)}}catch(O){$t(a,a.return,O)}}function Po(o,a,u){try{var f=a.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var b=v.next;f=b;do{if((f.tag&o)===o){var _=f.inst,O=_.destroy;if(O!==void 0){_.destroy=void 0,v=a;var H=u,se=O;try{se()}catch(ve){$t(v,H,ve)}}}f=f.next}while(f!==b)}}catch(ve){$t(a,a.return,ve)}}function Q1(o){var a=o.updateQueue;if(a!==null){var u=o.stateNode;try{I0(a,u)}catch(f){$t(o,o.return,f)}}}function Z1(o,a,u){u.props=ka(o.type,o.memoizedProps),u.state=o.memoizedState;try{u.componentWillUnmount()}catch(f){$t(o,a,f)}}function $l(o,a){try{var u=o.ref;if(u!==null){switch(o.tag){case 26:case 27:case 5:var f=o.stateNode;break;case 30:f=o.stateNode;break;default:f=o.stateNode}typeof u=="function"?o.refCleanup=u(f):u.current=f}}catch(v){$t(o,a,v)}}function Ti(o,a){var u=o.ref,f=o.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(v){$t(o,a,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){$t(o,a,v)}else u.current=null}function J1(o){var a=o.type,u=o.memoizedProps,f=o.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(v){$t(o,o.return,v)}}function qg(o,a,u){try{var f=o.stateNode;VM(f,o.type,u,a),f[gt]=a}catch(v){$t(o,o.return,v)}}function eS(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Uo(o.type)||o.tag===4}function Ug(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||eS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Uo(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Hg(o,a,u){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(o,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(o),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Bi));else if(f!==4&&(f===27&&Uo(o.type)&&(u=o.stateNode,a=null),o=o.child,o!==null))for(Hg(o,a,u),o=o.sibling;o!==null;)Hg(o,a,u),o=o.sibling}function Bu(o,a,u){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?u.insertBefore(o,a):u.appendChild(o);else if(f!==4&&(f===27&&Uo(o.type)&&(u=o.stateNode),o=o.child,o!==null))for(Bu(o,a,u),o=o.sibling;o!==null;)Bu(o,a,u),o=o.sibling}function tS(o){var a=o.stateNode,u=o.memoizedProps;try{for(var f=o.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);Ur(a,f,u),a[ot]=o,a[gt]=u}catch(b){$t(o,o.return,b)}}var Xi=!1,wr=!1,Fg=!1,rS=typeof WeakSet=="function"?WeakSet:Set,Dr=null;function _M(o,a){if(o=o.containerInfo,fm=sd,o=g0(o),Lp(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var v=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var _=0,O=-1,H=-1,se=0,ve=0,ze=o,ce=null;t:for(;;){for(var pe;ze!==u||v!==0&&ze.nodeType!==3||(O=_+v),ze!==b||f!==0&&ze.nodeType!==3||(H=_+f),ze.nodeType===3&&(_+=ze.nodeValue.length),(pe=ze.firstChild)!==null;)ce=ze,ze=pe;for(;;){if(ze===o)break t;if(ce===u&&++se===v&&(O=_),ce===b&&++ve===f&&(H=_),(pe=ze.nextSibling)!==null)break;ze=ce,ce=ze.parentNode}ze=pe}u=O===-1||H===-1?null:{start:O,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(pm={focusedElem:o,selectionRange:u},sd=!1,Dr=a;Dr!==null;)if(a=Dr,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Dr=o;else for(;Dr!==null;){switch(a=Dr,b=a.alternate,o=a.flags,a.tag){case 0:if((o&4)!==0&&(o=a.updateQueue,o=o!==null?o.events:null,o!==null))for(u=0;u<o.length;u++)v=o[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&b!==null){o=void 0,u=a,v=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var qe=ka(u.type,v);o=f.getSnapshotBeforeUpdate(qe,b),f.__reactInternalSnapshotBeforeUpdate=o}catch(et){$t(u,u.return,et)}}break;case 3:if((o&1024)!==0){if(o=a.stateNode.containerInfo,u=o.nodeType,u===9)hm(o);else if(u===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":hm(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=a.sibling,o!==null){o.return=a.return,Dr=o;break}Dr=a.return}}function nS(o,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Zi(o,u),f&4&&Dl(5,u);break;case 1:if(Zi(o,u),f&4)if(o=u.stateNode,a===null)try{o.componentDidMount()}catch(_){$t(u,u.return,_)}else{var v=ka(u.type,a.memoizedProps);a=a.memoizedState;try{o.componentDidUpdate(v,a,o.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(u,u.return,_)}}f&64&&Q1(u),f&512&&$l(u,u.return);break;case 3:if(Zi(o,u),f&64&&(o=u.updateQueue,o!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{I0(o,a)}catch(_){$t(u,u.return,_)}}break;case 27:a===null&&f&4&&tS(u);case 26:case 5:Zi(o,u),a===null&&f&4&&J1(u),f&512&&$l(u,u.return);break;case 12:Zi(o,u);break;case 31:Zi(o,u),f&4&&aS(o,u);break;case 13:Zi(o,u),f&4&&sS(o,u),f&64&&(o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(u=PM.bind(null,u),rR(o,u))));break;case 22:if(f=u.memoizedState!==null||Xi,!f){a=a!==null&&a.memoizedState!==null||wr,v=Xi;var b=wr;Xi=f,(wr=a)&&!b?Ji(o,u,(u.subtreeFlags&8772)!==0):Zi(o,u),Xi=v,wr=b}break;case 30:break;default:Zi(o,u)}}function iS(o){var a=o.alternate;a!==null&&(o.alternate=null,iS(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&G(a)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var er=null,cn=!1;function Qi(o,a,u){for(u=u.child;u!==null;)oS(o,a,u),u=u.sibling}function oS(o,a,u){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Zt,u)}catch{}switch(u.tag){case 26:wr||Ti(u,a),Qi(o,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:wr||Ti(u,a);var f=er,v=cn;Uo(u.type)&&(er=u.stateNode,cn=!1),Qi(o,a,u),Hl(u.stateNode),er=f,cn=v;break;case 5:wr||Ti(u,a);case 6:if(f=er,v=cn,er=null,Qi(o,a,u),er=f,cn=v,er!==null)if(cn)try{(er.nodeType===9?er.body:er.nodeName==="HTML"?er.ownerDocument.body:er).removeChild(u.stateNode)}catch(b){$t(u,a,b)}else try{er.removeChild(u.stateNode)}catch(b){$t(u,a,b)}break;case 18:er!==null&&(cn?(o=er,QS(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,u.stateNode),Os(o)):QS(er,u.stateNode));break;case 4:f=er,v=cn,er=u.stateNode.containerInfo,cn=!0,Qi(o,a,u),er=f,cn=v;break;case 0:case 11:case 14:case 15:Po(2,u,a),wr||Po(4,u,a),Qi(o,a,u);break;case 1:wr||(Ti(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&Z1(u,a,f)),Qi(o,a,u);break;case 21:Qi(o,a,u);break;case 22:wr=(f=wr)||u.memoizedState!==null,Qi(o,a,u),wr=f;break;default:Qi(o,a,u)}}function aS(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Os(o)}catch(u){$t(a,a.return,u)}}}function sS(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Os(o)}catch(u){$t(a,a.return,u)}}function TM(o){switch(o.tag){case 31:case 13:case 19:var a=o.stateNode;return a===null&&(a=o.stateNode=new rS),a;case 22:return o=o.stateNode,a=o._retryCache,a===null&&(a=o._retryCache=new rS),a;default:throw Error(i(435,o.tag))}}function Iu(o,a){var u=TM(o);a.forEach(function(f){if(!u.has(f)){u.add(f);var v=NM.bind(null,o,f);f.then(v,v)}})}function un(o,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var v=u[f],b=o,_=a,O=_;e:for(;O!==null;){switch(O.tag){case 27:if(Uo(O.type)){er=O.stateNode,cn=!1;break e}break;case 5:er=O.stateNode,cn=!1;break e;case 3:case 4:er=O.stateNode.containerInfo,cn=!0;break e}O=O.return}if(er===null)throw Error(i(160));oS(b,_,v),er=null,cn=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)lS(a,o),a=a.sibling}var ui=null;function lS(o,a){var u=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:un(a,o),dn(o),f&4&&(Po(3,o,o.return),Dl(3,o),Po(5,o,o.return));break;case 1:un(a,o),dn(o),f&512&&(wr||u===null||Ti(u,u.return)),f&64&&Xi&&(o=o.updateQueue,o!==null&&(f=o.callbacks,f!==null&&(u=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var v=ui;if(un(a,o),dn(o),f&512&&(wr||u===null||Ti(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=o.memoizedState,u===null)if(f===null)if(o.stateNode===null){e:{f=o.type,u=o.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":b=v.getElementsByTagName("title")[0],(!b||b[si]||b[ot]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(f),v.head.insertBefore(b,v.querySelector("head > title"))),Ur(b,f,u),b[ot]=o,at(b),f=b;break e;case"link":var _=lj("link","href",v).get(f+(u.href||""));if(_){for(var O=0;O<_.length;O++)if(b=_[O],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){_.splice(O,1);break t}}b=v.createElement(f),Ur(b,f,u),v.head.appendChild(b);break;case"meta":if(_=lj("meta","content",v).get(f+(u.content||""))){for(O=0;O<_.length;O++)if(b=_[O],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){_.splice(O,1);break t}}b=v.createElement(f),Ur(b,f,u),v.head.appendChild(b);break;default:throw Error(i(468,f))}b[ot]=o,at(b),f=b}o.stateNode=f}else cj(v,o.type,o.stateNode);else o.stateNode=sj(v,f,o.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?cj(v,o.type,o.stateNode):sj(v,f,o.memoizedProps)):f===null&&o.stateNode!==null&&qg(o,o.memoizedProps,u.memoizedProps)}break;case 27:un(a,o),dn(o),f&512&&(wr||u===null||Ti(u,u.return)),u!==null&&f&4&&qg(o,o.memoizedProps,u.memoizedProps);break;case 5:if(un(a,o),dn(o),f&512&&(wr||u===null||Ti(u,u.return)),o.flags&32){v=o.stateNode;try{es(v,"")}catch(qe){$t(o,o.return,qe)}}f&4&&o.stateNode!=null&&(v=o.memoizedProps,qg(o,v,u!==null?u.memoizedProps:v)),f&1024&&(Fg=!0);break;case 6:if(un(a,o),dn(o),f&4){if(o.stateNode===null)throw Error(i(162));f=o.memoizedProps,u=o.stateNode;try{u.nodeValue=f}catch(qe){$t(o,o.return,qe)}}break;case 3:if(nd=null,v=ui,ui=td(a.containerInfo),un(a,o),ui=v,dn(o),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Os(a.containerInfo)}catch(qe){$t(o,o.return,qe)}Fg&&(Fg=!1,cS(o));break;case 4:f=ui,ui=td(o.stateNode.containerInfo),un(a,o),dn(o),ui=f;break;case 12:un(a,o),dn(o);break;case 31:un(a,o),dn(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Iu(o,f)));break;case 13:un(a,o),dn(o),o.child.flags&8192&&o.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Uu=Je()),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Iu(o,f)));break;case 22:v=o.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,se=Xi,ve=wr;if(Xi=se||v,wr=ve||H,un(a,o),wr=ve,Xi=se,dn(o),f&8192)e:for(a=o.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(u===null||H||Xi||wr||za(o)),u=null,a=o;;){if(a.tag===5||a.tag===26){if(u===null){H=u=a;try{if(b=H.stateNode,v)_=b.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{O=H.stateNode;var ze=H.memoizedProps.style,ce=ze!=null&&ze.hasOwnProperty("display")?ze.display:null;O.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(qe){$t(H,H.return,qe)}}}else if(a.tag===6){if(u===null){H=a;try{H.stateNode.nodeValue=v?"":H.memoizedProps}catch(qe){$t(H,H.return,qe)}}}else if(a.tag===18){if(u===null){H=a;try{var pe=H.stateNode;v?ZS(pe,!0):ZS(H.stateNode,!1)}catch(qe){$t(H,H.return,qe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===o)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=o.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Iu(o,u))));break;case 19:un(a,o),dn(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Iu(o,f)));break;case 30:break;case 21:break;default:un(a,o),dn(o)}}function dn(o){var a=o.flags;if(a&2){try{for(var u,f=o.return;f!==null;){if(eS(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var v=u.stateNode,b=Ug(o);Bu(o,b,v);break;case 5:var _=u.stateNode;u.flags&32&&(es(_,""),u.flags&=-33);var O=Ug(o);Bu(o,O,_);break;case 3:case 4:var H=u.stateNode.containerInfo,se=Ug(o);Hg(o,se,H);break;default:throw Error(i(161))}}catch(ve){$t(o,o.return,ve)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function cS(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var a=o;cS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),o=o.sibling}}function Zi(o,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)nS(o,a.alternate,a),a=a.sibling}function za(o){for(o=o.child;o!==null;){var a=o;switch(a.tag){case 0:case 11:case 14:case 15:Po(4,a,a.return),za(a);break;case 1:Ti(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&Z1(a,a.return,u),za(a);break;case 27:Hl(a.stateNode);case 26:case 5:Ti(a,a.return),za(a);break;case 22:a.memoizedState===null&&za(a);break;case 30:za(a);break;default:za(a)}o=o.sibling}}function Ji(o,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,v=o,b=a,_=b.flags;switch(b.tag){case 0:case 11:case 15:Ji(v,b,u),Dl(4,b);break;case 1:if(Ji(v,b,u),f=b,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(se){$t(f,f.return,se)}if(f=b,v=f.updateQueue,v!==null){var O=f.stateNode;try{var H=v.shared.hiddenCallbacks;if(H!==null)for(v.shared.hiddenCallbacks=null,v=0;v<H.length;v++)B0(H[v],O)}catch(se){$t(f,f.return,se)}}u&&_&64&&Q1(b),$l(b,b.return);break;case 27:tS(b);case 26:case 5:Ji(v,b,u),u&&f===null&&_&4&&J1(b),$l(b,b.return);break;case 12:Ji(v,b,u);break;case 31:Ji(v,b,u),u&&_&4&&aS(v,b);break;case 13:Ji(v,b,u),u&&_&4&&sS(v,b);break;case 22:b.memoizedState===null&&Ji(v,b,u),$l(b,b.return);break;case 30:break;default:Ji(v,b,u)}a=a.sibling}}function Kg(o,a){var u=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==u&&(o!=null&&o.refCount++,u!=null&&Sl(u))}function Yg(o,a){o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&Sl(o))}function di(o,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)uS(o,a,u,f),a=a.sibling}function uS(o,a,u,f){var v=a.flags;switch(a.tag){case 0:case 11:case 15:di(o,a,u,f),v&2048&&Dl(9,a);break;case 1:di(o,a,u,f);break;case 3:di(o,a,u,f),v&2048&&(o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&Sl(o)));break;case 12:if(v&2048){di(o,a,u,f),o=a.stateNode;try{var b=a.memoizedProps,_=b.id,O=b.onPostCommit;typeof O=="function"&&O(_,a.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(H){$t(a,a.return,H)}}else di(o,a,u,f);break;case 31:di(o,a,u,f);break;case 13:di(o,a,u,f);break;case 23:break;case 22:b=a.stateNode,_=a.alternate,a.memoizedState!==null?b._visibility&2?di(o,a,u,f):Pl(o,a):b._visibility&2?di(o,a,u,f):(b._visibility|=2,bs(o,a,u,f,(a.subtreeFlags&10256)!==0||!1)),v&2048&&Kg(_,a);break;case 24:di(o,a,u,f),v&2048&&Yg(a.alternate,a);break;default:di(o,a,u,f)}}function bs(o,a,u,f,v){for(v=v&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=o,_=a,O=u,H=f,se=_.flags;switch(_.tag){case 0:case 11:case 15:bs(b,_,O,H,v),Dl(8,_);break;case 23:break;case 22:var ve=_.stateNode;_.memoizedState!==null?ve._visibility&2?bs(b,_,O,H,v):Pl(b,_):(ve._visibility|=2,bs(b,_,O,H,v)),v&&se&2048&&Kg(_.alternate,_);break;case 24:bs(b,_,O,H,v),v&&se&2048&&Yg(_.alternate,_);break;default:bs(b,_,O,H,v)}a=a.sibling}}function Pl(o,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=o,f=a,v=f.flags;switch(f.tag){case 22:Pl(u,f),v&2048&&Kg(f.alternate,f);break;case 24:Pl(u,f),v&2048&&Yg(f.alternate,f);break;default:Pl(u,f)}a=a.sibling}}var Nl=8192;function Ss(o,a,u){if(o.subtreeFlags&Nl)for(o=o.child;o!==null;)dS(o,a,u),o=o.sibling}function dS(o,a,u){switch(o.tag){case 26:Ss(o,a,u),o.flags&Nl&&o.memoizedState!==null&&gR(u,ui,o.memoizedState,o.memoizedProps);break;case 5:Ss(o,a,u);break;case 3:case 4:var f=ui;ui=td(o.stateNode.containerInfo),Ss(o,a,u),ui=f;break;case 22:o.memoizedState===null&&(f=o.alternate,f!==null&&f.memoizedState!==null?(f=Nl,Nl=16777216,Ss(o,a,u),Nl=f):Ss(o,a,u));break;default:Ss(o,a,u)}}function fS(o){var a=o.alternate;if(a!==null&&(o=a.child,o!==null)){a.child=null;do a=o.sibling,o.sibling=null,o=a;while(o!==null)}}function Ll(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Dr=f,gS(f,o)}fS(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)pS(o),o=o.sibling}function pS(o){switch(o.tag){case 0:case 11:case 15:Ll(o),o.flags&2048&&Po(9,o,o.return);break;case 3:Ll(o);break;case 12:Ll(o);break;case 22:var a=o.stateNode;o.memoizedState!==null&&a._visibility&2&&(o.return===null||o.return.tag!==13)?(a._visibility&=-3,qu(o)):Ll(o);break;default:Ll(o)}}function qu(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Dr=f,gS(f,o)}fS(o)}for(o=o.child;o!==null;){switch(a=o,a.tag){case 0:case 11:case 15:Po(8,a,a.return),qu(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,qu(a));break;default:qu(a)}o=o.sibling}}function gS(o,a){for(;Dr!==null;){var u=Dr;switch(u.tag){case 0:case 11:case 15:Po(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Sl(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Dr=f;else e:for(u=o;Dr!==null;){f=Dr;var v=f.sibling,b=f.return;if(iS(f),f===u){Dr=null;break e}if(v!==null){v.return=b,Dr=v;break e}Dr=b}}}var AM={getCacheForType:function(o){var a=Ir(br),u=a.data.get(o);return u===void 0&&(u=o(),a.data.set(o,u)),u},cacheSignal:function(){return Ir(br).controller.signal}},EM=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Ut=null,mt=null,xt=0,Dt=0,Cn=null,No=!1,js=!1,Vg=!1,eo=0,fr=0,Lo=0,_a=0,Gg=0,kn=0,ws=0,Wl=null,fn=null,Xg=!1,Uu=0,mS=0,Hu=1/0,Fu=null,Wo=null,Ar=0,Bo=null,Cs=null,to=0,Qg=0,Zg=null,hS=null,Bl=0,Jg=null;function zn(){return(Ot&2)!==0&&xt!==0?xt&-xt:W.T!==null?om():Mt()}function yS(){if(kn===0)if((xt&536870912)===0||bt){var o=pt;pt<<=1,(pt&3932160)===0&&(pt=262144),kn=o}else kn=536870912;return o=jn.current,o!==null&&(o.flags|=32),kn}function pn(o,a,u){(o===Ut&&(Dt===2||Dt===9)||o.cancelPendingCommit!==null)&&(ks(o,0),Io(o,xt,kn,!1)),an(o,u),((Ot&2)===0||o!==Ut)&&(o===Ut&&((Ot&2)===0&&(_a|=u),fr===4&&Io(o,xt,kn,!1)),Ai(o))}function xS(o,a,u){if((Ot&6)!==0)throw Error(i(327));var f=!u&&(a&127)===0&&(a&o.expiredLanes)===0||He(o,a),v=f?RM(o,a):tm(o,a,!0),b=f;do{if(v===0){js&&!f&&Io(o,a,0,!1);break}else{if(u=o.current.alternate,b&&!OM(u)){v=tm(o,a,!1),b=!1;continue}if(v===2){if(b=a,o.errorRecoveryDisabledLanes&b)var _=0;else _=o.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){a=_;e:{var O=o;v=Wl;var H=O.current.memoizedState.isDehydrated;if(H&&(ks(O,_).flags|=256),_=tm(O,_,!1),_!==2){if(Vg&&!H){O.errorRecoveryDisabledLanes|=b,_a|=b,v=4;break e}b=fn,fn=v,b!==null&&(fn===null?fn=b:fn.push.apply(fn,b))}v=_}if(b=!1,v!==2)continue}}if(v===1){ks(o,0),Io(o,a,0,!0);break}e:{switch(f=o,b=v,b){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Io(f,a,kn,!No);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(v=Uu+300-Je(),10<v)){if(Io(f,a,kn,!No),Oe(f,0,!0)!==0)break e;to=a,f.timeoutHandle=GS(vS.bind(null,f,u,fn,Fu,Xg,a,kn,_a,ws,No,b,"Throttled",-0,0),v);break e}vS(f,u,fn,Fu,Xg,a,kn,_a,ws,No,b,null,-0,0)}}break}while(!0);Ai(o)}function vS(o,a,u,f,v,b,_,O,H,se,ve,ze,ce,pe){if(o.timeoutHandle=-1,ze=a.subtreeFlags,ze&8192||(ze&16785408)===16785408){ze={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bi},dS(a,b,ze);var qe=(b&62914560)===b?Uu-Je():(b&4194048)===b?mS-Je():0;if(qe=mR(ze,qe),qe!==null){to=b,o.cancelPendingCommit=qe(_S.bind(null,o,a,b,u,f,v,_,O,H,ve,ze,null,ce,pe)),Io(o,b,_,!se);return}}_S(o,a,b,u,f,v,_,O,H)}function OM(o){for(var a=o;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var v=u[f],b=v.getSnapshot;v=v.value;try{if(!bn(b(),v))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Io(o,a,u,f){a&=~Gg,a&=~_a,o.suspendedLanes|=a,o.pingedLanes&=~a,f&&(o.warmLanes|=a),f=o.expirationTimes;for(var v=a;0<v;){var b=31-ye(v),_=1<<b;f[b]=-1,v&=~_}u!==0&&Co(o,u,a)}function Ku(){return(Ot&6)===0?(Il(0),!1):!0}function em(){if(mt!==null){if(Dt===0)var o=mt.return;else o=mt,Hi=xa=null,hg(o),ms=null,wl=0,o=mt;for(;o!==null;)X1(o.alternate,o),o=o.return;mt=null}}function ks(o,a){var u=o.timeoutHandle;u!==-1&&(o.timeoutHandle=-1,QM(u)),u=o.cancelPendingCommit,u!==null&&(o.cancelPendingCommit=null,u()),to=0,em(),Ut=o,mt=u=qi(o.current,null),xt=a,Dt=0,Cn=null,No=!1,js=He(o,a),Vg=!1,ws=kn=Gg=_a=Lo=fr=0,fn=Wl=null,Xg=!1,(a&8)!==0&&(a|=a&32);var f=o.entangledLanes;if(f!==0)for(o=o.entanglements,f&=a;0<f;){var v=31-ye(f),b=1<<v;a|=o[v],f&=~b}return eo=a,pu(),u}function bS(o,a){st=null,W.H=Ol,a===gs||a===Su?(a=P0(),Dt=3):a===ig?(a=P0(),Dt=4):Dt=a===Mg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Cn=a,mt===null&&(fr=1,$u(o,In(a,o.current)))}function SS(){var o=jn.current;return o===null?!0:(xt&4194048)===xt?Fn===null:(xt&62914560)===xt||(xt&536870912)!==0?o===Fn:!1}function jS(){var o=W.H;return W.H=Ol,o===null?Ol:o}function wS(){var o=W.A;return W.A=AM,o}function Yu(){fr=4,No||(xt&4194048)!==xt&&jn.current!==null||(js=!0),(Lo&134217727)===0&&(_a&134217727)===0||Ut===null||Io(Ut,xt,kn,!1)}function tm(o,a,u){var f=Ot;Ot|=2;var v=jS(),b=wS();(Ut!==o||xt!==a)&&(Fu=null,ks(o,a)),a=!1;var _=fr;e:do try{if(Dt!==0&&mt!==null){var O=mt,H=Cn;switch(Dt){case 8:em(),_=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(a=!0);var se=Dt;if(Dt=0,Cn=null,zs(o,O,H,se),u&&js){_=0;break e}break;default:se=Dt,Dt=0,Cn=null,zs(o,O,H,se)}}MM(),_=fr;break}catch(ve){bS(o,ve)}while(!0);return a&&o.shellSuspendCounter++,Hi=xa=null,Ot=f,W.H=v,W.A=b,mt===null&&(Ut=null,xt=0,pu()),_}function MM(){for(;mt!==null;)CS(mt)}function RM(o,a){var u=Ot;Ot|=2;var f=jS(),v=wS();Ut!==o||xt!==a?(Fu=null,Hu=Je()+500,ks(o,a)):js=He(o,a);e:do try{if(Dt!==0&&mt!==null){a=mt;var b=Cn;t:switch(Dt){case 1:Dt=0,Cn=null,zs(o,a,b,1);break;case 2:case 9:if(D0(b)){Dt=0,Cn=null,kS(a);break}a=function(){Dt!==2&&Dt!==9||Ut!==o||(Dt=7),Ai(o)},b.then(a,a);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:D0(b)?(Dt=0,Cn=null,kS(a)):(Dt=0,Cn=null,zs(o,a,b,7));break;case 5:var _=null;switch(mt.tag){case 26:_=mt.memoizedState;case 5:case 27:var O=mt;if(_?uj(_):O.stateNode.complete){Dt=0,Cn=null;var H=O.sibling;if(H!==null)mt=H;else{var se=O.return;se!==null?(mt=se,Vu(se)):mt=null}break t}}Dt=0,Cn=null,zs(o,a,b,5);break;case 6:Dt=0,Cn=null,zs(o,a,b,6);break;case 8:em(),fr=6;break e;default:throw Error(i(462))}}DM();break}catch(ve){bS(o,ve)}while(!0);return Hi=xa=null,W.H=f,W.A=v,Ot=u,mt!==null?0:(Ut=null,xt=0,pu(),fr)}function DM(){for(;mt!==null&&!Be();)CS(mt)}function CS(o){var a=V1(o.alternate,o,eo);o.memoizedProps=o.pendingProps,a===null?Vu(o):mt=a}function kS(o){var a=o,u=a.alternate;switch(a.tag){case 15:case 0:a=q1(u,a,a.pendingProps,a.type,void 0,xt);break;case 11:a=q1(u,a,a.pendingProps,a.type.render,a.ref,xt);break;case 5:hg(a);default:X1(u,a),a=mt=w0(a,eo),a=V1(u,a,eo)}o.memoizedProps=o.pendingProps,a===null?Vu(o):mt=a}function zs(o,a,u,f){Hi=xa=null,hg(a),ms=null,wl=0;var v=a.return;try{if(jM(o,v,a,u,xt)){fr=1,$u(o,In(u,o.current)),mt=null;return}}catch(b){if(v!==null)throw mt=v,b;fr=1,$u(o,In(u,o.current)),mt=null;return}a.flags&32768?(bt||f===1?o=!0:js||(xt&536870912)!==0?o=!1:(No=o=!0,(f===2||f===9||f===3||f===6)&&(f=jn.current,f!==null&&f.tag===13&&(f.flags|=16384))),zS(a,o)):Vu(a)}function Vu(o){var a=o;do{if((a.flags&32768)!==0){zS(a,No);return}o=a.return;var u=kM(a.alternate,a,eo);if(u!==null){mt=u;return}if(a=a.sibling,a!==null){mt=a;return}mt=a=o}while(a!==null);fr===0&&(fr=5)}function zS(o,a){do{var u=zM(o.alternate,o);if(u!==null){u.flags&=32767,mt=u;return}if(u=o.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(o=o.sibling,o!==null)){mt=o;return}mt=o=u}while(o!==null);fr=6,mt=null}function _S(o,a,u,f,v,b,_,O,H){o.cancelPendingCommit=null;do Gu();while(Ar!==0);if((Ot&6)!==0)throw Error(i(327));if(a!==null){if(a===o.current)throw Error(i(177));if(b=a.lanes|a.childLanes,b|=Up,wi(o,u,b,_,O,H),o===Ut&&(mt=Ut=null,xt=0),Cs=a,Bo=o,to=u,Qg=b,Zg=v,hS=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,LM(Re,function(){return MS(),null})):(o.callbackNode=null,o.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=W.T,W.T=null,v=J.p,J.p=2,_=Ot,Ot|=4;try{_M(o,a,u)}finally{Ot=_,J.p=v,W.T=f}}Ar=1,TS(),AS(),ES()}}function TS(){if(Ar===1){Ar=0;var o=Bo,a=Cs,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=W.T,W.T=null;var f=J.p;J.p=2;var v=Ot;Ot|=4;try{lS(a,o);var b=pm,_=g0(o.containerInfo),O=b.focusedElem,H=b.selectionRange;if(_!==O&&O&&O.ownerDocument&&p0(O.ownerDocument.documentElement,O)){if(H!==null&&Lp(O)){var se=H.start,ve=H.end;if(ve===void 0&&(ve=se),"selectionStart"in O)O.selectionStart=se,O.selectionEnd=Math.min(ve,O.value.length);else{var ze=O.ownerDocument||document,ce=ze&&ze.defaultView||window;if(ce.getSelection){var pe=ce.getSelection(),qe=O.textContent.length,et=Math.min(H.start,qe),Bt=H.end===void 0?et:Math.min(H.end,qe);!pe.extend&&et>Bt&&(_=Bt,Bt=et,et=_);var ee=f0(O,et),Y=f0(O,Bt);if(ee&&Y&&(pe.rangeCount!==1||pe.anchorNode!==ee.node||pe.anchorOffset!==ee.offset||pe.focusNode!==Y.node||pe.focusOffset!==Y.offset)){var ae=ze.createRange();ae.setStart(ee.node,ee.offset),pe.removeAllRanges(),et>Bt?(pe.addRange(ae),pe.extend(Y.node,Y.offset)):(ae.setEnd(Y.node,Y.offset),pe.addRange(ae))}}}}for(ze=[],pe=O;pe=pe.parentNode;)pe.nodeType===1&&ze.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ze.length;O++){var we=ze[O];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}sd=!!fm,pm=fm=null}finally{Ot=v,J.p=f,W.T=u}}o.current=a,Ar=2}}function AS(){if(Ar===2){Ar=0;var o=Bo,a=Cs,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=W.T,W.T=null;var f=J.p;J.p=2;var v=Ot;Ot|=4;try{nS(o,a.alternate,a)}finally{Ot=v,J.p=f,W.T=u}}Ar=3}}function ES(){if(Ar===4||Ar===3){Ar=0,nt();var o=Bo,a=Cs,u=to,f=hS;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ar=5:(Ar=0,Cs=Bo=null,OS(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(Wo=null),De(u),a=a.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Zt,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=W.T,v=J.p,J.p=2,W.T=null;try{for(var b=o.onRecoverableError,_=0;_<f.length;_++){var O=f[_];b(O.value,{componentStack:O.stack})}}finally{W.T=a,J.p=v}}(to&3)!==0&&Gu(),Ai(o),v=o.pendingLanes,(u&261930)!==0&&(v&42)!==0?o===Jg?Bl++:(Bl=0,Jg=o):Bl=0,Il(0)}}function OS(o,a){(o.pooledCacheLanes&=a)===0&&(a=o.pooledCache,a!=null&&(o.pooledCache=null,Sl(a)))}function Gu(){return TS(),AS(),ES(),MS()}function MS(){if(Ar!==5)return!1;var o=Bo,a=Qg;Qg=0;var u=De(to),f=W.T,v=J.p;try{J.p=32>u?32:u,W.T=null,u=Zg,Zg=null;var b=Bo,_=to;if(Ar=0,Cs=Bo=null,to=0,(Ot&6)!==0)throw Error(i(331));var O=Ot;if(Ot|=4,pS(b.current),uS(b,b.current,_,u),Ot=O,Il(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Zt,b)}catch{}return!0}finally{J.p=v,W.T=f,OS(o,a)}}function RS(o,a,u){a=In(u,a),a=Og(o.stateNode,a,2),o=Ro(o,a,2),o!==null&&(an(o,2),Ai(o))}function $t(o,a,u){if(o.tag===3)RS(o,o,u);else for(;a!==null;){if(a.tag===3){RS(a,o,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Wo===null||!Wo.has(f))){o=In(u,o),u=D1(2),f=Ro(a,u,2),f!==null&&($1(u,f,a,o),an(f,2),Ai(f));break}}a=a.return}}function rm(o,a,u){var f=o.pingCache;if(f===null){f=o.pingCache=new EM;var v=new Set;f.set(a,v)}else v=f.get(a),v===void 0&&(v=new Set,f.set(a,v));v.has(u)||(Vg=!0,v.add(u),o=$M.bind(null,o,a,u),a.then(o,o))}function $M(o,a,u){var f=o.pingCache;f!==null&&f.delete(a),o.pingedLanes|=o.suspendedLanes&u,o.warmLanes&=~u,Ut===o&&(xt&u)===u&&(fr===4||fr===3&&(xt&62914560)===xt&&300>Je()-Uu?(Ot&2)===0&&ks(o,0):Gg|=u,ws===xt&&(ws=0)),Ai(o)}function DS(o,a){a===0&&(a=gr()),o=ma(o,a),o!==null&&(an(o,a),Ai(o))}function PM(o){var a=o.memoizedState,u=0;a!==null&&(u=a.retryLane),DS(o,u)}function NM(o,a){var u=0;switch(o.tag){case 31:case 13:var f=o.stateNode,v=o.memoizedState;v!==null&&(u=v.retryLane);break;case 19:f=o.stateNode;break;case 22:f=o.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(a),DS(o,u)}function LM(o,a){return L(o,a)}var Xu=null,_s=null,nm=!1,Qu=!1,im=!1,qo=0;function Ai(o){o!==_s&&o.next===null&&(_s===null?Xu=_s=o:_s=_s.next=o),Qu=!0,nm||(nm=!0,BM())}function Il(o,a){if(!im&&Qu){im=!0;do for(var u=!1,f=Xu;f!==null;){if(o!==0){var v=f.pendingLanes;if(v===0)var b=0;else{var _=f.suspendedLanes,O=f.pingedLanes;b=(1<<31-ye(42|o)+1)-1,b&=v&~(_&~O),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,LS(f,b))}else b=xt,b=Oe(f,f===Ut?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||He(f,b)||(u=!0,LS(f,b));f=f.next}while(u);im=!1}}function WM(){$S()}function $S(){Qu=nm=!1;var o=0;qo!==0&&XM()&&(o=qo);for(var a=Je(),u=null,f=Xu;f!==null;){var v=f.next,b=PS(f,a);b===0?(f.next=null,u===null?Xu=v:u.next=v,v===null&&(_s=u)):(u=f,(o!==0||(b&3)!==0)&&(Qu=!0)),f=v}Ar!==0&&Ar!==5||Il(o),qo!==0&&(qo=0)}function PS(o,a){for(var u=o.suspendedLanes,f=o.pingedLanes,v=o.expirationTimes,b=o.pendingLanes&-62914561;0<b;){var _=31-ye(b),O=1<<_,H=v[_];H===-1?((O&u)===0||(O&f)!==0)&&(v[_]=Vt(O,a)):H<=a&&(o.expiredLanes|=O),b&=~O}if(a=Ut,u=xt,u=Oe(o,o===a?u:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f=o.callbackNode,u===0||o===a&&(Dt===2||Dt===9)||o.cancelPendingCommit!==null)return f!==null&&f!==null&&xe(f),o.callbackNode=null,o.callbackPriority=0;if((u&3)===0||He(o,u)){if(a=u&-u,a===o.callbackPriority)return a;switch(f!==null&&xe(f),De(u)){case 2:case 8:u=Ke;break;case 32:u=Re;break;case 268435456:u=We;break;default:u=Re}return f=NS.bind(null,o),u=L(u,f),o.callbackPriority=a,o.callbackNode=u,a}return f!==null&&f!==null&&xe(f),o.callbackPriority=2,o.callbackNode=null,2}function NS(o,a){if(Ar!==0&&Ar!==5)return o.callbackNode=null,o.callbackPriority=0,null;var u=o.callbackNode;if(Gu()&&o.callbackNode!==u)return null;var f=xt;return f=Oe(o,o===Ut?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f===0?null:(xS(o,f,a),PS(o,Je()),o.callbackNode!=null&&o.callbackNode===u?NS.bind(null,o):null)}function LS(o,a){if(Gu())return null;xS(o,a,!0)}function BM(){ZM(function(){(Ot&6)!==0?L(ke,WM):$S()})}function om(){if(qo===0){var o=fs;o===0&&(o=ur,ur<<=1,(ur&261888)===0&&(ur=256)),qo=o}return qo}function WS(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:ou(""+o)}function BS(o,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,o.id&&u.setAttribute("form",o.id),a.parentNode.insertBefore(u,a),o=new FormData(o),u.parentNode.removeChild(u),o}function IM(o,a,u,f,v){if(a==="submit"&&u&&u.stateNode===v){var b=WS((v[gt]||null).action),_=f.submitter;_&&(a=(a=_[gt]||null)?WS(a.formAction):_.getAttribute("formAction"),a!==null&&(b=a,_=null));var O=new cu("action","action",null,f,v);o.push({event:O,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(qo!==0){var H=_?BS(v,_):new FormData(v);kg(u,{pending:!0,data:H,method:v.method,action:b},null,H)}}else typeof b=="function"&&(O.preventDefault(),H=_?BS(v,_):new FormData(v),kg(u,{pending:!0,data:H,method:v.method,action:b},b,H))},currentTarget:v}]})}}for(var am=0;am<qp.length;am++){var sm=qp[am],qM=sm.toLowerCase(),UM=sm[0].toUpperCase()+sm.slice(1);ci(qM,"on"+UM)}ci(y0,"onAnimationEnd"),ci(x0,"onAnimationIteration"),ci(v0,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(oM,"onTransitionRun"),ci(aM,"onTransitionStart"),ci(sM,"onTransitionCancel"),ci(b0,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),Jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function IS(o,a){a=(a&4)!==0;for(var u=0;u<o.length;u++){var f=o[u],v=f.event;f=f.listeners;e:{var b=void 0;if(a)for(var _=f.length-1;0<=_;_--){var O=f[_],H=O.instance,se=O.currentTarget;if(O=O.listener,H!==b&&v.isPropagationStopped())break e;b=O,v.currentTarget=se;try{b(v)}catch(ve){fu(ve)}v.currentTarget=null,b=H}else for(_=0;_<f.length;_++){if(O=f[_],H=O.instance,se=O.currentTarget,O=O.listener,H!==b&&v.isPropagationStopped())break e;b=O,v.currentTarget=se;try{b(v)}catch(ve){fu(ve)}v.currentTarget=null,b=H}}}}function ht(o,a){var u=a[Wi];u===void 0&&(u=a[Wi]=new Set);var f=o+"__bubble";u.has(f)||(qS(a,o,2,!1),u.add(f))}function lm(o,a,u){var f=0;a&&(f|=4),qS(u,o,f,a)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function cm(o){if(!o[Zu]){o[Zu]=!0,At.forEach(function(u){u!=="selectionchange"&&(HM.has(u)||lm(u,!1,o),lm(u,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Zu]||(a[Zu]=!0,lm("selectionchange",!1,a))}}function qS(o,a,u,f){switch(yj(a)){case 2:var v=xR;break;case 8:v=vR;break;default:v=Cm}u=v.bind(null,a,u,o),v=void 0,!Ap||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),f?v!==void 0?o.addEventListener(a,u,{capture:!0,passive:v}):o.addEventListener(a,u,!0):v!==void 0?o.addEventListener(a,u,{passive:v}):o.addEventListener(a,u,!1)}function um(o,a,u,f,v){var b=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var _=f.tag;if(_===3||_===4){var O=f.stateNode.containerInfo;if(O===v)break;if(_===4)for(_=f.return;_!==null;){var H=_.tag;if((H===3||H===4)&&_.stateNode.containerInfo===v)return;_=_.return}for(;O!==null;){if(_=Ne(O),_===null)return;if(H=_.tag,H===5||H===6||H===26||H===27){f=b=_;continue e}O=O.parentNode}}f=f.return}Yb(function(){var se=b,ve=_p(u),ze=[];e:{var ce=S0.get(o);if(ce!==void 0){var pe=cu,qe=o;switch(o){case"keypress":if(su(u)===0)break e;case"keydown":case"keyup":pe=NO;break;case"focusin":qe="focus",pe=Rp;break;case"focusout":qe="blur",pe=Rp;break;case"beforeblur":case"afterblur":pe=Rp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Xb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=kO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=BO;break;case y0:case x0:case v0:pe=TO;break;case b0:pe=qO;break;case"scroll":case"scrollend":pe=wO;break;case"wheel":pe=HO;break;case"copy":case"cut":case"paste":pe=EO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Zb;break;case"toggle":case"beforetoggle":pe=KO}var et=(a&4)!==0,Bt=!et&&(o==="scroll"||o==="scrollend"),ee=et?ce!==null?ce+"Capture":null:ce;et=[];for(var Y=se,ae;Y!==null;){var we=Y;if(ae=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||ae===null||ee===null||(we=ul(Y,ee),we!=null&&et.push(Ul(Y,we,ae))),Bt)break;Y=Y.return}0<et.length&&(ce=new pe(ce,qe,null,u,ve),ze.push({event:ce,listeners:et}))}}if((a&7)===0){e:{if(ce=o==="mouseover"||o==="pointerover",pe=o==="mouseout"||o==="pointerout",ce&&u!==zp&&(qe=u.relatedTarget||u.fromElement)&&(Ne(qe)||qe[ft]))break e;if((pe||ce)&&(ce=ve.window===ve?ve:(ce=ve.ownerDocument)?ce.defaultView||ce.parentWindow:window,pe?(qe=u.relatedTarget||u.toElement,pe=se,qe=qe?Ne(qe):null,qe!==null&&(Bt=c(qe),et=qe.tag,qe!==Bt||et!==5&&et!==27&&et!==6)&&(qe=null)):(pe=null,qe=se),pe!==qe)){if(et=Xb,we="onMouseLeave",ee="onMouseEnter",Y="mouse",(o==="pointerout"||o==="pointerover")&&(et=Zb,we="onPointerLeave",ee="onPointerEnter",Y="pointer"),Bt=pe==null?ce:Xe(pe),ae=qe==null?ce:Xe(qe),ce=new et(we,Y+"leave",pe,u,ve),ce.target=Bt,ce.relatedTarget=ae,we=null,Ne(ve)===se&&(et=new et(ee,Y+"enter",qe,u,ve),et.target=ae,et.relatedTarget=Bt,we=et),Bt=we,pe&&qe)t:{for(et=FM,ee=pe,Y=qe,ae=0,we=ee;we;we=et(we))ae++;we=0;for(var Qe=Y;Qe;Qe=et(Qe))we++;for(;0<ae-we;)ee=et(ee),ae--;for(;0<we-ae;)Y=et(Y),we--;for(;ae--;){if(ee===Y||Y!==null&&ee===Y.alternate){et=ee;break t}ee=et(ee),Y=et(Y)}et=null}else et=null;pe!==null&&US(ze,ce,pe,et,!1),qe!==null&&Bt!==null&&US(ze,Bt,qe,et,!0)}}e:{if(ce=se?Xe(se):window,pe=ce.nodeName&&ce.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ce.type==="file")var jt=a0;else if(i0(ce))if(s0)jt=rM;else{jt=eM;var Fe=JO}else pe=ce.nodeName,!pe||pe.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?se&&kp(se.elementType)&&(jt=a0):jt=tM;if(jt&&(jt=jt(o,se))){o0(ze,jt,u,ve);break e}Fe&&Fe(o,ce,se),o==="focusout"&&se&&ce.type==="number"&&se.memoizedProps.value!=null&&Cp(ce,"number",ce.value)}switch(Fe=se?Xe(se):window,o){case"focusin":(i0(Fe)||Fe.contentEditable==="true")&&(is=Fe,Wp=se,xl=null);break;case"focusout":xl=Wp=is=null;break;case"mousedown":Bp=!0;break;case"contextmenu":case"mouseup":case"dragend":Bp=!1,m0(ze,u,ve);break;case"selectionchange":if(iM)break;case"keydown":case"keyup":m0(ze,u,ve)}var ct;if($p)e:{switch(o){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else ns?r0(o,u)&&(vt="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(vt="onCompositionStart");vt&&(Jb&&u.locale!=="ko"&&(ns||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&ns&&(ct=Vb()):(zo=ve,Ep="value"in zo?zo.value:zo.textContent,ns=!0)),Fe=Ju(se,vt),0<Fe.length&&(vt=new Qb(vt,o,null,u,ve),ze.push({event:vt,listeners:Fe}),ct?vt.data=ct:(ct=n0(u),ct!==null&&(vt.data=ct)))),(ct=VO?GO(o,u):XO(o,u))&&(vt=Ju(se,"onBeforeInput"),0<vt.length&&(Fe=new Qb("onBeforeInput","beforeinput",null,u,ve),ze.push({event:Fe,listeners:vt}),Fe.data=ct)),IM(ze,o,se,u,ve)}IS(ze,a)})}function Ul(o,a,u){return{instance:o,listener:a,currentTarget:u}}function Ju(o,a){for(var u=a+"Capture",f=[];o!==null;){var v=o,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=ul(o,u),v!=null&&f.unshift(Ul(o,v,b)),v=ul(o,a),v!=null&&f.push(Ul(o,v,b))),o.tag===3)return f;o=o.return}return[]}function FM(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function US(o,a,u,f,v){for(var b=a._reactName,_=[];u!==null&&u!==f;){var O=u,H=O.alternate,se=O.stateNode;if(O=O.tag,H!==null&&H===f)break;O!==5&&O!==26&&O!==27||se===null||(H=se,v?(se=ul(u,b),se!=null&&_.unshift(Ul(u,se,H))):v||(se=ul(u,b),se!=null&&_.push(Ul(u,se,H)))),u=u.return}_.length!==0&&o.push({event:a,listeners:_})}var KM=/\r\n?/g,YM=/\u0000|\uFFFD/g;function HS(o){return(typeof o=="string"?o:""+o).replace(KM,`
`).replace(YM,"")}function FS(o,a){return a=HS(a),HS(o)===a}function Wt(o,a,u,f,v,b){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||es(o,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&es(o,""+f);break;case"className":$(o,"class",f);break;case"tabIndex":$(o,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":$(o,u,f);break;case"style":Fb(o,f,b);break;case"data":if(a!=="object"){$(o,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){o.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(u);break}f=ou(""+f),o.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){o.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(a!=="input"&&Wt(o,a,"name",v.name,v,null),Wt(o,a,"formEncType",v.formEncType,v,null),Wt(o,a,"formMethod",v.formMethod,v,null),Wt(o,a,"formTarget",v.formTarget,v,null)):(Wt(o,a,"encType",v.encType,v,null),Wt(o,a,"method",v.method,v,null),Wt(o,a,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(u);break}f=ou(""+f),o.setAttribute(u,f);break;case"onClick":f!=null&&(o.onclick=Bi);break;case"onScroll":f!=null&&ht("scroll",o);break;case"onScrollEnd":f!=null&&ht("scrollend",o);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(i(60));o.innerHTML=u}}break;case"multiple":o.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":o.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){o.removeAttribute("xlink:href");break}u=ou(""+f),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(u,""+f):o.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(u,""):o.removeAttribute(u);break;case"capture":case"download":f===!0?o.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(u,f):o.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?o.setAttribute(u,f):o.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?o.removeAttribute(u):o.setAttribute(u,f);break;case"popover":ht("beforetoggle",o),ht("toggle",o),Za(o,"popover",f);break;case"xlinkActuate":$e(o,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":$e(o,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":$e(o,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":$e(o,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":$e(o,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":$e(o,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":$e(o,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":$e(o,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":$e(o,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Za(o,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=SO.get(u)||u,Za(o,u,f))}}function dm(o,a,u,f,v,b){switch(u){case"style":Fb(o,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(i(60));o.innerHTML=u}}break;case"children":typeof f=="string"?es(o,f):(typeof f=="number"||typeof f=="bigint")&&es(o,""+f);break;case"onScroll":f!=null&&ht("scroll",o);break;case"onScrollEnd":f!=null&&ht("scrollend",o);break;case"onClick":f!=null&&(o.onclick=Bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Et.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),a=u.slice(2,v?u.length-7:void 0),b=o[gt]||null,b=b!=null?b[u]:null,typeof b=="function"&&o.removeEventListener(a,b,v),typeof f=="function")){typeof b!="function"&&b!==null&&(u in o?o[u]=null:o.hasAttribute(u)&&o.removeAttribute(u)),o.addEventListener(a,f,v);break e}u in o?o[u]=f:f===!0?o.setAttribute(u,""):Za(o,u,f)}}}function Ur(o,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",o),ht("load",o);var f=!1,v=!1,b;for(b in u)if(u.hasOwnProperty(b)){var _=u[b];if(_!=null)switch(b){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Wt(o,a,b,_,u,null)}}v&&Wt(o,a,"srcSet",u.srcSet,u,null),f&&Wt(o,a,"src",u.src,u,null);return;case"input":ht("invalid",o);var O=b=_=v=null,H=null,se=null;for(f in u)if(u.hasOwnProperty(f)){var ve=u[f];if(ve!=null)switch(f){case"name":v=ve;break;case"type":_=ve;break;case"checked":H=ve;break;case"defaultChecked":se=ve;break;case"value":b=ve;break;case"defaultValue":O=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(i(137,a));break;default:Wt(o,a,f,ve,u,null)}}Ib(o,b,O,H,se,_,v,!1);return;case"select":ht("invalid",o),f=_=b=null;for(v in u)if(u.hasOwnProperty(v)&&(O=u[v],O!=null))switch(v){case"value":b=O;break;case"defaultValue":_=O;break;case"multiple":f=O;default:Wt(o,a,v,O,u,null)}a=b,u=_,o.multiple=!!f,a!=null?Ja(o,!!f,a,!1):u!=null&&Ja(o,!!f,u,!0);return;case"textarea":ht("invalid",o),b=v=f=null;for(_ in u)if(u.hasOwnProperty(_)&&(O=u[_],O!=null))switch(_){case"value":f=O;break;case"defaultValue":v=O;break;case"children":b=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:Wt(o,a,_,O,u,null)}Ub(o,f,v,b);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(f=u[H],f!=null))switch(H){case"selected":o.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Wt(o,a,H,f,u,null)}return;case"dialog":ht("beforetoggle",o),ht("toggle",o),ht("cancel",o),ht("close",o);break;case"iframe":case"object":ht("load",o);break;case"video":case"audio":for(f=0;f<ql.length;f++)ht(ql[f],o);break;case"image":ht("error",o),ht("load",o);break;case"details":ht("toggle",o);break;case"embed":case"source":case"link":ht("error",o),ht("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in u)if(u.hasOwnProperty(se)&&(f=u[se],f!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Wt(o,a,se,f,u,null)}return;default:if(kp(a)){for(ve in u)u.hasOwnProperty(ve)&&(f=u[ve],f!==void 0&&dm(o,a,ve,f,u,void 0));return}}for(O in u)u.hasOwnProperty(O)&&(f=u[O],f!=null&&Wt(o,a,O,f,u,null))}function VM(o,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,_=null,O=null,H=null,se=null,ve=null;for(pe in u){var ze=u[pe];if(u.hasOwnProperty(pe)&&ze!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":H=ze;default:f.hasOwnProperty(pe)||Wt(o,a,pe,null,f,ze)}}for(var ce in f){var pe=f[ce];if(ze=u[ce],f.hasOwnProperty(ce)&&(pe!=null||ze!=null))switch(ce){case"type":b=pe;break;case"name":v=pe;break;case"checked":se=pe;break;case"defaultChecked":ve=pe;break;case"value":_=pe;break;case"defaultValue":O=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(i(137,a));break;default:pe!==ze&&Wt(o,a,ce,pe,f,ze)}}wp(o,_,O,H,se,ve,b,v);return;case"select":pe=_=O=ce=null;for(b in u)if(H=u[b],u.hasOwnProperty(b)&&H!=null)switch(b){case"value":break;case"multiple":pe=H;default:f.hasOwnProperty(b)||Wt(o,a,b,null,f,H)}for(v in f)if(b=f[v],H=u[v],f.hasOwnProperty(v)&&(b!=null||H!=null))switch(v){case"value":ce=b;break;case"defaultValue":O=b;break;case"multiple":_=b;default:b!==H&&Wt(o,a,v,b,f,H)}a=O,u=_,f=pe,ce!=null?Ja(o,!!u,ce,!1):!!f!=!!u&&(a!=null?Ja(o,!!u,a,!0):Ja(o,!!u,u?[]:"",!1));return;case"textarea":pe=ce=null;for(O in u)if(v=u[O],u.hasOwnProperty(O)&&v!=null&&!f.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Wt(o,a,O,null,f,v)}for(_ in f)if(v=f[_],b=u[_],f.hasOwnProperty(_)&&(v!=null||b!=null))switch(_){case"value":ce=v;break;case"defaultValue":pe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==b&&Wt(o,a,_,v,f,b)}qb(o,ce,pe);return;case"option":for(var qe in u)if(ce=u[qe],u.hasOwnProperty(qe)&&ce!=null&&!f.hasOwnProperty(qe))switch(qe){case"selected":o.selected=!1;break;default:Wt(o,a,qe,null,f,ce)}for(H in f)if(ce=f[H],pe=u[H],f.hasOwnProperty(H)&&ce!==pe&&(ce!=null||pe!=null))switch(H){case"selected":o.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:Wt(o,a,H,ce,f,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in u)ce=u[et],u.hasOwnProperty(et)&&ce!=null&&!f.hasOwnProperty(et)&&Wt(o,a,et,null,f,ce);for(se in f)if(ce=f[se],pe=u[se],f.hasOwnProperty(se)&&ce!==pe&&(ce!=null||pe!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,a));break;default:Wt(o,a,se,ce,f,pe)}return;default:if(kp(a)){for(var Bt in u)ce=u[Bt],u.hasOwnProperty(Bt)&&ce!==void 0&&!f.hasOwnProperty(Bt)&&dm(o,a,Bt,void 0,f,ce);for(ve in f)ce=f[ve],pe=u[ve],!f.hasOwnProperty(ve)||ce===pe||ce===void 0&&pe===void 0||dm(o,a,ve,ce,f,pe);return}}for(var ee in u)ce=u[ee],u.hasOwnProperty(ee)&&ce!=null&&!f.hasOwnProperty(ee)&&Wt(o,a,ee,null,f,ce);for(ze in f)ce=f[ze],pe=u[ze],!f.hasOwnProperty(ze)||ce===pe||ce==null&&pe==null||Wt(o,a,ze,ce,f,pe)}function KS(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GM(){if(typeof performance.getEntriesByType=="function"){for(var o=0,a=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var v=u[f],b=v.transferSize,_=v.initiatorType,O=v.duration;if(b&&O&&KS(_)){for(_=0,O=v.responseEnd,f+=1;f<u.length;f++){var H=u[f],se=H.startTime;if(se>O)break;var ve=H.transferSize,ze=H.initiatorType;ve&&KS(ze)&&(H=H.responseEnd,_+=ve*(H<O?1:(O-se)/(H-se)))}if(--f,a+=8*(b+_)/(v.duration/1e3),o++,10<o)break}}if(0<o)return a/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var fm=null,pm=null;function ed(o){return o.nodeType===9?o:o.ownerDocument}function YS(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VS(o,a){if(o===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&a==="foreignObject"?0:o}function gm(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var mm=null;function XM(){var o=window.event;return o&&o.type==="popstate"?o===mm?!1:(mm=o,!0):(mm=null,!1)}var GS=typeof setTimeout=="function"?setTimeout:void 0,QM=typeof clearTimeout=="function"?clearTimeout:void 0,XS=typeof Promise=="function"?Promise:void 0,ZM=typeof queueMicrotask=="function"?queueMicrotask:typeof XS<"u"?function(o){return XS.resolve(null).then(o).catch(JM)}:GS;function JM(o){setTimeout(function(){throw o})}function Uo(o){return o==="head"}function QS(o,a){var u=a,f=0;do{var v=u.nextSibling;if(o.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(f===0){o.removeChild(v),Os(a);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")Hl(o.ownerDocument.documentElement);else if(u==="head"){u=o.ownerDocument.head,Hl(u);for(var b=u.firstChild;b;){var _=b.nextSibling,O=b.nodeName;b[si]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=_}}else u==="body"&&Hl(o.ownerDocument.body);u=v}while(u);Os(a)}function ZS(o,a){var u=o;o=0;do{var f=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(o===0)break;o--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||o++;u=f}while(u)}function hm(o){var a=o.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":hm(u),G(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}o.removeChild(u)}}function eR(o,a,u,f){for(;o.nodeType===1;){var v=u;if(o.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(f){if(!o[si])switch(a){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(b=o.getAttribute("rel"),b==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(b!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(b=o.getAttribute("src"),(b!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(a==="input"&&o.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===b)return o}else return o;if(o=Kn(o.nextSibling),o===null)break}return null}function tR(o,a,u){if(a==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=Kn(o.nextSibling),o===null))return null;return o}function JS(o,a){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!a||(o=Kn(o.nextSibling),o===null))return null;return o}function ym(o){return o.data==="$?"||o.data==="$~"}function xm(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function rR(o,a){var u=o.ownerDocument;if(o.data==="$~")o._reactRetry=a;else if(o.data!=="$?"||u.readyState!=="loading")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),o._reactRetry=f}}function Kn(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return o}var vm=null;function ej(o){o=o.nextSibling;for(var a=0;o;){if(o.nodeType===8){var u=o.data;if(u==="/$"||u==="/&"){if(a===0)return Kn(o.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}o=o.nextSibling}return null}function tj(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return o;a--}else u!=="/$"&&u!=="/&"||a++}o=o.previousSibling}return null}function rj(o,a,u){switch(a=ed(u),o){case"html":if(o=a.documentElement,!o)throw Error(i(452));return o;case"head":if(o=a.head,!o)throw Error(i(453));return o;case"body":if(o=a.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function Hl(o){for(var a=o.attributes;a.length;)o.removeAttributeNode(a[0]);G(o)}var Yn=new Map,nj=new Set;function td(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var ro=J.d;J.d={f:nR,r:iR,D:oR,C:aR,L:sR,m:lR,X:uR,S:cR,M:dR};function nR(){var o=ro.f(),a=Ku();return o||a}function iR(o){var a=Ye(o);a!==null&&a.tag===5&&a.type==="form"?b1(a):ro.r(o)}var Ts=typeof document>"u"?null:document;function ij(o,a,u){var f=Ts;if(f&&typeof a=="string"&&a){var v=Wn(a);v='link[rel="'+o+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),nj.has(v)||(nj.add(v),o={rel:o,crossOrigin:u,href:a},f.querySelector(v)===null&&(a=f.createElement("link"),Ur(a,"link",o),at(a),f.head.appendChild(a)))}}function oR(o){ro.D(o),ij("dns-prefetch",o,null)}function aR(o,a){ro.C(o,a),ij("preconnect",o,a)}function sR(o,a,u){ro.L(o,a,u);var f=Ts;if(f&&o&&a){var v='link[rel="preload"][as="'+Wn(a)+'"]';a==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Wn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Wn(u.imageSizes)+'"]')):v+='[href="'+Wn(o)+'"]';var b=v;switch(a){case"style":b=As(o);break;case"script":b=Es(o)}Yn.has(b)||(o=x({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:o,as:a},u),Yn.set(b,o),f.querySelector(v)!==null||a==="style"&&f.querySelector(Fl(b))||a==="script"&&f.querySelector(Kl(b))||(a=f.createElement("link"),Ur(a,"link",o),at(a),f.head.appendChild(a)))}}function lR(o,a){ro.m(o,a);var u=Ts;if(u&&o){var f=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Wn(f)+'"][href="'+Wn(o)+'"]',b=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Es(o)}if(!Yn.has(b)&&(o=x({rel:"modulepreload",href:o},a),Yn.set(b,o),u.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Kl(b)))return}f=u.createElement("link"),Ur(f,"link",o),at(f),u.head.appendChild(f)}}}function cR(o,a,u){ro.S(o,a,u);var f=Ts;if(f&&o){var v=Tt(f).hoistableStyles,b=As(o);a=a||"default";var _=v.get(b);if(!_){var O={loading:0,preload:null};if(_=f.querySelector(Fl(b)))O.loading=5;else{o=x({rel:"stylesheet",href:o,"data-precedence":a},u),(u=Yn.get(b))&&bm(o,u);var H=_=f.createElement("link");at(H),Ur(H,"link",o),H._p=new Promise(function(se,ve){H.onload=se,H.onerror=ve}),H.addEventListener("load",function(){O.loading|=1}),H.addEventListener("error",function(){O.loading|=2}),O.loading|=4,rd(_,a,f)}_={type:"stylesheet",instance:_,count:1,state:O},v.set(b,_)}}}function uR(o,a){ro.X(o,a);var u=Ts;if(u&&o){var f=Tt(u).hoistableScripts,v=Es(o),b=f.get(v);b||(b=u.querySelector(Kl(v)),b||(o=x({src:o,async:!0},a),(a=Yn.get(v))&&Sm(o,a),b=u.createElement("script"),at(b),Ur(b,"link",o),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(v,b))}}function dR(o,a){ro.M(o,a);var u=Ts;if(u&&o){var f=Tt(u).hoistableScripts,v=Es(o),b=f.get(v);b||(b=u.querySelector(Kl(v)),b||(o=x({src:o,async:!0,type:"module"},a),(a=Yn.get(v))&&Sm(o,a),b=u.createElement("script"),at(b),Ur(b,"link",o),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(v,b))}}function oj(o,a,u,f){var v=(v=Ce.current)?td(v):null;if(!v)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=As(u.href),u=Tt(v).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){o=As(u.href);var b=Tt(v).hoistableStyles,_=b.get(o);if(_||(v=v.ownerDocument||v,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(o,_),(b=v.querySelector(Fl(o)))&&!b._p&&(_.instance=b,_.state.loading=5),Yn.has(o)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Yn.set(o,u),b||fR(v,o,u,_.state))),a&&f===null)throw Error(i(528,""));return _}if(a&&f!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Es(u),u=Tt(v).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function As(o){return'href="'+Wn(o)+'"'}function Fl(o){return'link[rel="stylesheet"]['+o+"]"}function aj(o){return x({},o,{"data-precedence":o.precedence,precedence:null})}function fR(o,a,u,f){o.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=o.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Ur(a,"link",u),at(a),o.head.appendChild(a))}function Es(o){return'[src="'+Wn(o)+'"]'}function Kl(o){return"script[async]"+o}function sj(o,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=o.querySelector('style[data-href~="'+Wn(u.href)+'"]');if(f)return a.instance=f,at(f),f;var v=x({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(o.ownerDocument||o).createElement("style"),at(f),Ur(f,"style",v),rd(f,u.precedence,o),a.instance=f;case"stylesheet":v=As(u.href);var b=o.querySelector(Fl(v));if(b)return a.state.loading|=4,a.instance=b,at(b),b;f=aj(u),(v=Yn.get(v))&&bm(f,v),b=(o.ownerDocument||o).createElement("link"),at(b);var _=b;return _._p=new Promise(function(O,H){_.onload=O,_.onerror=H}),Ur(b,"link",f),a.state.loading|=4,rd(b,u.precedence,o),a.instance=b;case"script":return b=Es(u.src),(v=o.querySelector(Kl(b)))?(a.instance=v,at(v),v):(f=u,(v=Yn.get(b))&&(f=x({},u),Sm(f,v)),o=o.ownerDocument||o,v=o.createElement("script"),at(v),Ur(v,"link",f),o.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,rd(f,u.precedence,o));return a.instance}function rd(o,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,b=v,_=0;_<f.length;_++){var O=f[_];if(O.dataset.precedence===a)b=O;else if(b!==v)break}b?b.parentNode.insertBefore(o,b.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(o,a.firstChild))}function bm(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.title==null&&(o.title=a.title)}function Sm(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.integrity==null&&(o.integrity=a.integrity)}var nd=null;function lj(o,a,u){if(nd===null){var f=new Map,v=nd=new Map;v.set(u,f)}else v=nd,f=v.get(u),f||(f=new Map,v.set(u,f));if(f.has(o))return f;for(f.set(o,null),u=u.getElementsByTagName(o),v=0;v<u.length;v++){var b=u[v];if(!(b[si]||b[ot]||o==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var _=b.getAttribute(a)||"";_=o+_;var O=f.get(_);O?O.push(b):f.set(_,[b])}}return f}function cj(o,a,u){o=o.ownerDocument||o,o.head.insertBefore(u,a==="title"?o.querySelector("head > title"):null)}function pR(o,a,u){if(u===1||a.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return o=a.disabled,typeof a.precedence=="string"&&o==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function uj(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function gR(o,a,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=As(f.href),b=a.querySelector(Fl(v));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(o.count++,o=id.bind(o),a.then(o,o)),u.state.loading|=4,u.instance=b,at(b);return}b=a.ownerDocument||a,f=aj(f),(v=Yn.get(v))&&bm(f,v),b=b.createElement("link"),at(b);var _=b;_._p=new Promise(function(O,H){_.onload=O,_.onerror=H}),Ur(b,"link",f),u.instance=b}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(o.count++,u=id.bind(o),a.addEventListener("load",u),a.addEventListener("error",u))}}var jm=0;function mR(o,a){return o.stylesheets&&o.count===0&&ad(o,o.stylesheets),0<o.count||0<o.imgCount?function(u){var f=setTimeout(function(){if(o.stylesheets&&ad(o,o.stylesheets),o.unsuspend){var b=o.unsuspend;o.unsuspend=null,b()}},6e4+a);0<o.imgBytes&&jm===0&&(jm=62500*GM());var v=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&ad(o,o.stylesheets),o.unsuspend)){var b=o.unsuspend;o.unsuspend=null,b()}},(o.imgBytes>jm?50:800)+a);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function id(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ad(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var od=null;function ad(o,a){o.stylesheets=null,o.unsuspend!==null&&(o.count++,od=new Map,a.forEach(hR,o),od=null,id.call(o))}function hR(o,a){if(!(a.state.loading&4)){var u=od.get(o);if(u)var f=u.get(null);else{u=new Map,od.set(o,u);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var _=v[b];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(u.set(_.dataset.precedence,_),f=_)}f&&u.set(null,f)}v=a.instance,_=v.getAttribute("data-precedence"),b=u.get(_)||f,b===f&&u.set(null,v),u.set(_,v),this.count++,f=id.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),b?b.parentNode.insertBefore(v,b.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),a.state.loading|=4}}var Yl={$$typeof:A,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function yR(o,a,u,f,v,b,_,O,H){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.hiddenUpdates=vn(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function dj(o,a,u,f,v,b,_,O,H,se,ve,ze){return o=new yR(o,a,u,_,H,se,ve,ze,O),a=1,b===!0&&(a|=24),b=Sn(3,null,null,a),o.current=b,b.stateNode=o,a=tg(),a.refCount++,o.pooledCache=a,a.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:a},og(b),o}function fj(o){return o?(o=ss,o):ss}function pj(o,a,u,f,v,b){v=fj(v),f.context===null?f.context=v:f.pendingContext=v,f=Mo(a),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=Ro(o,f,a),u!==null&&(pn(u,o,a),kl(u,o,a))}function gj(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<a?u:a}}function wm(o,a){gj(o,a),(o=o.alternate)&&gj(o,a)}function mj(o){if(o.tag===13||o.tag===31){var a=ma(o,67108864);a!==null&&pn(a,o,67108864),wm(o,67108864)}}function hj(o){if(o.tag===13||o.tag===31){var a=zn();a=I(a);var u=ma(o,a);u!==null&&pn(u,o,a),wm(o,a)}}var sd=!0;function xR(o,a,u,f){var v=W.T;W.T=null;var b=J.p;try{J.p=2,Cm(o,a,u,f)}finally{J.p=b,W.T=v}}function vR(o,a,u,f){var v=W.T;W.T=null;var b=J.p;try{J.p=8,Cm(o,a,u,f)}finally{J.p=b,W.T=v}}function Cm(o,a,u,f){if(sd){var v=km(f);if(v===null)um(o,a,f,ld,u),xj(o,f);else if(SR(v,o,a,u,f))f.stopPropagation();else if(xj(o,f),a&4&&-1<bR.indexOf(o)){for(;v!==null;){var b=Ye(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var _=re(b.pendingLanes);if(_!==0){var O=b;for(O.pendingLanes|=2,O.entangledLanes|=2;_;){var H=1<<31-ye(_);O.entanglements[1]|=H,_&=~H}Ai(b),(Ot&6)===0&&(Hu=Je()+500,Il(0))}}break;case 31:case 13:O=ma(b,2),O!==null&&pn(O,b,2),Ku(),wm(b,2)}if(b=km(f),b===null&&um(o,a,f,ld,u),b===v)break;v=b}v!==null&&f.stopPropagation()}else um(o,a,f,null,u)}}function km(o){return o=_p(o),zm(o)}var ld=null;function zm(o){if(ld=null,o=Ne(o),o!==null){var a=c(o);if(a===null)o=null;else{var u=a.tag;if(u===13){if(o=d(a),o!==null)return o;o=null}else if(u===31){if(o=p(a),o!==null)return o;o=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return ld=o,null}function yj(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(P()){case ke:return 2;case Ke:return 8;case Re:case Ze:return 32;case We:return 268435456;default:return 32}default:return 32}}var _m=!1,Ho=null,Fo=null,Ko=null,Vl=new Map,Gl=new Map,Yo=[],bR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xj(o,a){switch(o){case"focusin":case"focusout":Ho=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":Ko=null;break;case"pointerover":case"pointerout":Vl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(a.pointerId)}}function Xl(o,a,u,f,v,b){return o===null||o.nativeEvent!==b?(o={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[v]},a!==null&&(a=Ye(a),a!==null&&mj(a)),o):(o.eventSystemFlags|=f,a=o.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),o)}function SR(o,a,u,f,v){switch(a){case"focusin":return Ho=Xl(Ho,o,a,u,f,v),!0;case"dragenter":return Fo=Xl(Fo,o,a,u,f,v),!0;case"mouseover":return Ko=Xl(Ko,o,a,u,f,v),!0;case"pointerover":var b=v.pointerId;return Vl.set(b,Xl(Vl.get(b)||null,o,a,u,f,v)),!0;case"gotpointercapture":return b=v.pointerId,Gl.set(b,Xl(Gl.get(b)||null,o,a,u,f,v)),!0}return!1}function vj(o){var a=Ne(o.target);if(a!==null){var u=c(a);if(u!==null){if(a=u.tag,a===13){if(a=d(u),a!==null){o.blockedOn=a,_t(o.priority,function(){hj(u)});return}}else if(a===31){if(a=p(u),a!==null){o.blockedOn=a,_t(o.priority,function(){hj(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function cd(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var u=km(o.nativeEvent);if(u===null){u=o.nativeEvent;var f=new u.constructor(u.type,u);zp=f,u.target.dispatchEvent(f),zp=null}else return a=Ye(u),a!==null&&mj(a),o.blockedOn=u,!1;a.shift()}return!0}function bj(o,a,u){cd(o)&&u.delete(a)}function jR(){_m=!1,Ho!==null&&cd(Ho)&&(Ho=null),Fo!==null&&cd(Fo)&&(Fo=null),Ko!==null&&cd(Ko)&&(Ko=null),Vl.forEach(bj),Gl.forEach(bj)}function ud(o,a){o.blockedOn===a&&(o.blockedOn=null,_m||(_m=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jR)))}var dd=null;function Sj(o){dd!==o&&(dd=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){dd===o&&(dd=null);for(var a=0;a<o.length;a+=3){var u=o[a],f=o[a+1],v=o[a+2];if(typeof f!="function"){if(zm(f||u)===null)continue;break}var b=Ye(u);b!==null&&(o.splice(a,3),a-=3,kg(b,{pending:!0,data:v,method:u.method,action:f},f,v))}}))}function Os(o){function a(H){return ud(H,o)}Ho!==null&&ud(Ho,o),Fo!==null&&ud(Fo,o),Ko!==null&&ud(Ko,o),Vl.forEach(a),Gl.forEach(a);for(var u=0;u<Yo.length;u++){var f=Yo[u];f.blockedOn===o&&(f.blockedOn=null)}for(;0<Yo.length&&(u=Yo[0],u.blockedOn===null);)vj(u),u.blockedOn===null&&Yo.shift();if(u=(o.ownerDocument||o).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var v=u[f],b=u[f+1],_=v[gt]||null;if(typeof b=="function")_||Sj(u);else if(_){var O=null;if(b&&b.hasAttribute("formAction")){if(v=b,_=b[gt]||null)O=_.formAction;else if(zm(v)!==null)continue}else O=_.action;typeof O=="function"?u[f+1]=O:(u.splice(f,3),f-=3),Sj(u)}}}function jj(){function o(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(_){return v=_})},focusReset:"manual",scroll:"manual"})}function a(){v!==null&&(v(),v=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),v!==null&&(v(),v=null)}}}function Tm(o){this._internalRoot=o}fd.prototype.render=Tm.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,f=zn();pj(u,f,o,a,null,null)},fd.prototype.unmount=Tm.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;pj(o.current,2,null,o,null,null),Ku(),a[ft]=null}};function fd(o){this._internalRoot=o}fd.prototype.unstable_scheduleHydration=function(o){if(o){var a=Mt();o={blockedOn:null,target:o,priority:a};for(var u=0;u<Yo.length&&a!==0&&a<Yo[u].priority;u++);Yo.splice(u,0,o),u===0&&vj(o)}};var wj=t.version;if(wj!=="19.2.0")throw Error(i(527,wj,"19.2.0"));J.findDOMNode=function(o){var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=g(a),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var wR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{Zt=pd.inject(wR),zt=pd}catch{}}return Zl.createRoot=function(o,a){if(!l(o))throw Error(i(299));var u=!1,f="",v=E1,b=O1,_=M1;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),a=dj(o,1,!1,null,null,u,f,null,v,b,_,jj),o[ft]=a.current,cm(o),new Tm(a)},Zl.hydrateRoot=function(o,a,u){if(!l(o))throw Error(i(299));var f=!1,v="",b=E1,_=O1,O=M1,H=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(_=u.onCaughtError),u.onRecoverableError!==void 0&&(O=u.onRecoverableError),u.formState!==void 0&&(H=u.formState)),a=dj(o,1,!0,a,u??null,f,v,H,b,_,O,jj),a.context=fj(null),u=a.current,f=zn(),f=I(f),v=Mo(f),v.callback=null,Ro(u,v,f),u=f,a.current.lanes=u,an(a,u),Ai(a),o[ft]=a.current,cm(o),new fd(a)},Zl.version="19.2.0",Zl}var Rj;function DR(){if(Rj)return Om.exports;Rj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Om.exports=RR(),Om.exports}var $R=DR();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dj="popstate";function PR(e={}){function t(i,l){let{pathname:c,search:d,hash:p}=i.location;return jy("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){return typeof l=="string"?l:yc(l)}return LR(t,n,null,e)}function ir(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ti(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function NR(){return Math.random().toString(36).substring(2,10)}function $j(e,t){return{usr:e.state,key:e.key,idx:t}}function jy(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Xs(t):t,state:n,key:t&&t.key||i||NR()}}function yc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Xs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function LR(e,t,n,i={}){let{window:l=document.defaultView,v5Compat:c=!1}=i,d=l.history,p="POP",m=null,g=h();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function h(){return(d.state||{idx:null}).idx}function x(){p="POP";let k=h(),z=k==null?null:k-g;g=k,m&&m({action:p,location:w.location,delta:z})}function S(k,z){p="PUSH";let E=jy(w.location,k,z);g=h()+1;let A=$j(E,g),D=w.createHref(E);try{d.pushState(A,"",D)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;l.location.assign(D)}c&&m&&m({action:p,location:w.location,delta:1})}function j(k,z){p="REPLACE";let E=jy(w.location,k,z);g=h();let A=$j(E,g),D=w.createHref(E);d.replaceState(A,"",D),c&&m&&m({action:p,location:w.location,delta:0})}function C(k){return WR(k)}let w={get action(){return p},get location(){return e(l,d)},listen(k){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(Dj,x),m=k,()=>{l.removeEventListener(Dj,x),m=null}},createHref(k){return t(l,k)},createURL:C,encodeLocation(k){let z=C(k);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:S,replace:j,go(k){return d.go(k)}};return w}function WR(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ir(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:yc(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function tz(e,t,n="/"){return BR(e,t,n,!1)}function BR(e,t,n,i){let l=typeof t=="string"?Xs(t):t,c=fo(l.pathname||"/",n);if(c==null)return null;let d=rz(e);IR(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let g=ZR(c);p=XR(d[m],g,i)}return p}function rz(e,t=[],n=[],i="",l=!1){let c=(d,p,m=l,g)=>{let h={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&m)return;ir(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let x=so([i,h.relativePath]),S=n.concat(h);d.children&&d.children.length>0&&(ir(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),rz(d.children,t,S,x,m)),!(d.path==null&&!d.index)&&t.push({path:x,score:VR(x,d.index),routesMeta:S})};return e.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let m of nz(d.path))c(d,p,!0,m)}),t}function nz(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return l?[c,""]:[c];let d=nz(i.join("/")),p=[];return p.push(...d.map(m=>m===""?c:[c,m].join("/"))),l&&p.push(...d),p.map(m=>e.startsWith("/")&&m===""?"/":m)}function IR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:GR(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var qR=/^:[\w-]+$/,UR=3,HR=2,FR=1,KR=10,YR=-2,Pj=e=>e==="*";function VR(e,t){let n=e.split("/"),i=n.length;return n.some(Pj)&&(i+=YR),t&&(i+=HR),n.filter(l=>!Pj(l)).reduce((l,c)=>l+(qR.test(c)?UR:c===""?FR:KR),i)}function GR(e,t){return e.length===t.length&&e.slice(0,-1).every((i,l)=>i===t[l])?e[e.length-1]-t[t.length-1]:0}function XR(e,t,n=!1){let{routesMeta:i}=e,l={},c="/",d=[];for(let p=0;p<i.length;++p){let m=i[p],g=p===i.length-1,h=c==="/"?t:t.slice(c.length)||"/",x=Vd({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},h),S=m.route;if(!x&&g&&n&&!i[i.length-1].route.index&&(x=Vd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},h)),!x)return null;Object.assign(l,x.params),d.push({params:l,pathname:so([c,x.pathname]),pathnameBase:rD(so([c,x.pathnameBase])),route:S}),x.pathnameBase!=="/"&&(c=so([c,x.pathnameBase]))}return d}function Vd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=QR(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:i.reduce((g,{paramName:h,isOptional:x},S)=>{if(h==="*"){let C=p[S]||"";d=c.slice(0,c.length-C.length).replace(/(.)\/+$/,"$1")}const j=p[S];return x&&!j?g[h]=void 0:g[h]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:e}}function QR(e,t=!1,n=!0){ti(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(i.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),i]}function ZR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ti(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function fo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function JR(e,t="/"){let{pathname:n,search:i="",hash:l=""}=typeof e=="string"?Xs(e):e;return{pathname:n?n.startsWith("/")?n:eD(n,t):t,search:nD(i),hash:iD(l)}}function eD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function $m(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ax(e){let t=tD(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Ex(e,t,n,i=!1){let l;typeof e=="string"?l=Xs(e):(l={...e},ir(!l.pathname||!l.pathname.includes("?"),$m("?","pathname","search",l)),ir(!l.pathname||!l.pathname.includes("#"),$m("#","pathname","hash",l)),ir(!l.search||!l.search.includes("#"),$m("#","search","hash",l)));let c=e===""||l.pathname==="",d=c?"/":l.pathname,p;if(d==null)p=n;else{let x=t.length-1;if(!i&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),x-=1;l.pathname=S.join("/")}p=x>=0?t[x]:"/"}let m=JR(l,p),g=d&&d!=="/"&&d.endsWith("/"),h=(c||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||h)&&(m.pathname+="/"),m}var so=e=>e.join("/").replace(/\/\/+/g,"/"),rD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var iz=["POST","PUT","PATCH","DELETE"];new Set(iz);var aD=["GET",...iz];new Set(aD);var Qs=y.createContext(null);Qs.displayName="DataRouter";var Wf=y.createContext(null);Wf.displayName="DataRouterState";y.createContext(!1);var oz=y.createContext({isTransitioning:!1});oz.displayName="ViewTransition";var sD=y.createContext(new Map);sD.displayName="Fetchers";var lD=y.createContext(null);lD.displayName="Await";var bi=y.createContext(null);bi.displayName="Navigation";var Rc=y.createContext(null);Rc.displayName="Location";var Si=y.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var Ox=y.createContext(null);Ox.displayName="RouteError";function cD(e,{relative:t}={}){ir(Zs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=y.useContext(bi),{hash:l,pathname:c,search:d}=Dc(e,{relative:t}),p=c;return n!=="/"&&(p=c==="/"?n:so([n,c])),i.createHref({pathname:p,search:d,hash:l})}function Zs(){return y.useContext(Rc)!=null}function Ni(){return ir(Zs(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Rc).location}var az="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sz(e){y.useContext(bi).static||y.useLayoutEffect(e)}function ii(){let{isDataRoute:e}=y.useContext(Si);return e?jD():uD()}function uD(){ir(Zs(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(Qs),{basename:t,navigator:n}=y.useContext(bi),{matches:i}=y.useContext(Si),{pathname:l}=Ni(),c=JSON.stringify(Ax(i)),d=y.useRef(!1);return sz(()=>{d.current=!0}),y.useCallback((m,g={})=>{if(ti(d.current,az),!d.current)return;if(typeof m=="number"){n.go(m);return}let h=Ex(m,JSON.parse(c),l,g.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:so([t,h.pathname])),(g.replace?n.replace:n.push)(h,g.state,g)},[t,n,c,l,e])}y.createContext(null);function Bf(){let{matches:e}=y.useContext(Si),t=e[e.length-1];return t?t.params:{}}function Dc(e,{relative:t}={}){let{matches:n}=y.useContext(Si),{pathname:i}=Ni(),l=JSON.stringify(Ax(n));return y.useMemo(()=>Ex(e,JSON.parse(l),i,t==="path"),[e,l,i,t])}function dD(e,t){return lz(e,t)}function lz(e,t,n,i,l){ir(Zs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=y.useContext(bi),{matches:d}=y.useContext(Si),p=d[d.length-1],m=p?p.params:{},g=p?p.pathname:"/",h=p?p.pathnameBase:"/",x=p&&p.route;{let E=x&&x.path||"";cz(g,!x||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let S=Ni(),j;if(t){let E=typeof t=="string"?Xs(t):t;ir(h==="/"||E.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),j=E}else j=S;let C=j.pathname||"/",w=C;if(h!=="/"){let E=h.replace(/^\//,"").split("/");w="/"+C.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=tz(e,{pathname:w});ti(x||k!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),ti(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=hD(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},m,E.params),pathname:so([h,c.encodeLocation?c.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:so([h,c.encodeLocation?c.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),d,n,i,l);return t&&z?y.createElement(Rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},z):z}function fD(){let e=SD(),t=oD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:c},"ErrorBoundary")," or"," ",y.createElement("code",{style:c},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:l},n):null,d)}var pD=y.createElement(fD,null),gD=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(Si.Provider,{value:this.props.routeContext},y.createElement(Ox.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mD({routeContext:e,match:t,children:n}){let i=y.useContext(Qs);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(Si.Provider,{value:e},n)}function hD(e,t=[],n=null,i=null,l=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,d=n?.errors;if(d!=null){let g=c.findIndex(h=>h.route.id&&d?.[h.route.id]!==void 0);ir(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let p=!1,m=-1;if(n)for(let g=0;g<c.length;g++){let h=c[g];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(m=g),h.route.id){let{loaderData:x,errors:S}=n,j=h.route.loader&&!x.hasOwnProperty(h.route.id)&&(!S||S[h.route.id]===void 0);if(h.route.lazy||j){p=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((g,h,x)=>{let S,j=!1,C=null,w=null;n&&(S=d&&h.route.id?d[h.route.id]:void 0,C=h.route.errorElement||pD,p&&(m<0&&x===0?(cz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,w=null):m===x&&(j=!0,w=h.route.hydrateFallbackElement||null)));let k=t.concat(c.slice(0,x+1)),z=()=>{let E;return S?E=C:j?E=w:h.route.Component?E=y.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=g,y.createElement(mD,{match:h,routeContext:{outlet:g,matches:k,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?y.createElement(gD,{location:n.location,revalidation:n.revalidation,component:C,error:S,children:z(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:i}):z()},null)}function Mx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yD(e){let t=y.useContext(Qs);return ir(t,Mx(e)),t}function xD(e){let t=y.useContext(Wf);return ir(t,Mx(e)),t}function vD(e){let t=y.useContext(Si);return ir(t,Mx(e)),t}function Rx(e){let t=vD(e),n=t.matches[t.matches.length-1];return ir(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function bD(){return Rx("useRouteId")}function SD(){let e=y.useContext(Ox),t=xD("useRouteError"),n=Rx("useRouteError");return e!==void 0?e:t.errors?.[n]}function jD(){let{router:e}=yD("useNavigate"),t=Rx("useNavigate"),n=y.useRef(!1);return sz(()=>{n.current=!0}),y.useCallback(async(l,c={})=>{ti(n.current,az),n.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:t,...c}))},[e,t])}var Nj={};function cz(e,t,n){!t&&!Nj[e]&&(Nj[e]=!0,ti(!1,n))}y.memo(wD);function wD({routes:e,future:t,state:n,unstable_onError:i}){return lz(e,void 0,n,i,t)}function gd({to:e,replace:t,state:n,relative:i}){ir(Zs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=y.useContext(bi);ti(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=y.useContext(Si),{pathname:d}=Ni(),p=ii(),m=Ex(e,Ax(c),d,i==="path"),g=JSON.stringify(m);return y.useEffect(()=>{p(JSON.parse(g),{replace:t,state:n,relative:i})},[p,g,i,t,n]),null}function rn(e){ir(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CD({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:l,static:c=!1}){ir(!Zs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),p=y.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);typeof n=="string"&&(n=Xs(n));let{pathname:m="/",search:g="",hash:h="",state:x=null,key:S="default"}=n,j=y.useMemo(()=>{let C=fo(m,d);return C==null?null:{location:{pathname:C,search:g,hash:h,state:x,key:S},navigationType:i}},[d,m,g,h,x,S,i]);return ti(j!=null,`<Router basename="${d}"> is not able to match the URL "${m}${g}${h}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:y.createElement(bi.Provider,{value:p},y.createElement(Rc.Provider,{children:t,value:j}))}function kD({children:e,location:t}){return dD(wy(e),t)}function wy(e,t=[]){let n=[];return y.Children.forEach(e,(i,l)=>{if(!y.isValidElement(i))return;let c=[...t,l];if(i.type===y.Fragment){n.push.apply(n,wy(i.props.children,c));return}ir(i.type===rn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ir(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=wy(i.props.children,c)),n.push(d)}),n}var Ld="get",Wd="application/x-www-form-urlencoded";function If(e){return e!=null&&typeof e.tagName=="string"}function zD(e){return If(e)&&e.tagName.toLowerCase()==="button"}function _D(e){return If(e)&&e.tagName.toLowerCase()==="form"}function TD(e){return If(e)&&e.tagName.toLowerCase()==="input"}function AD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ED(e,t){return e.button===0&&(!t||t==="_self")&&!AD(e)}function Cy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(l=>[n,l]):[[n,i]])},[]))}function OD(e,t){let n=Cy(e);return t&&t.forEach((i,l)=>{n.has(l)||t.getAll(l).forEach(c=>{n.append(l,c)})}),n}var md=null;function MD(){if(md===null)try{new FormData(document.createElement("form"),0),md=!1}catch{md=!0}return md}var RD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pm(e){return e!=null&&!RD.has(e)?(ti(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wd}"`),null):e}function DD(e,t){let n,i,l,c,d;if(_D(e)){let p=e.getAttribute("action");i=p?fo(p,t):null,n=e.getAttribute("method")||Ld,l=Pm(e.getAttribute("enctype"))||Wd,c=new FormData(e)}else if(zD(e)||TD(e)&&(e.type==="submit"||e.type==="image")){let p=e.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||p.getAttribute("action");if(i=m?fo(m,t):null,n=e.getAttribute("formmethod")||p.getAttribute("method")||Ld,l=Pm(e.getAttribute("formenctype"))||Pm(p.getAttribute("enctype"))||Wd,c=new FormData(p,e),!MD()){let{name:g,type:h,value:x}=e;if(h==="image"){let S=g?`${g}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else g&&c.append(g,x)}}else{if(If(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ld,i=null,l=Wd,d=e}return c&&l==="text/plain"&&(d=c,c=void 0),{action:i,method:n.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dx(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $D(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&fo(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function PD(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ND(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function LD(e,t,n){let i=await Promise.all(e.map(async l=>{let c=t.routes[l.route.id];if(c){let d=await PD(c,n);return d.links?d.links():[]}return[]}));return qD(i.flat(1).filter(ND).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Lj(e,t,n,i,l,c){let d=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return c==="assets"?t.filter((m,g)=>d(m,g)||p(m,g)):c==="data"?t.filter((m,g)=>{let h=i.routes[m.route.id];if(!h||!h.hasLoader)return!1;if(d(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function WD(e,t,{includeHydrateFallback:n}={}){return BD(e.map(i=>{let l=t.routes[i.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function BD(e){return[...new Set(e)]}function ID(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function qD(e,t){let n=new Set;return new Set(t),e.reduce((i,l)=>{let c=JSON.stringify(ID(l));return n.has(c)||(n.add(c),i.push({key:c,link:l})),i},[])}function uz(){let e=y.useContext(Qs);return Dx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function UD(){let e=y.useContext(Wf);return Dx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var $x=y.createContext(void 0);$x.displayName="FrameworkContext";function dz(){let e=y.useContext($x);return Dx(e,"You must render this element inside a <HydratedRouter> element"),e}function HD(e,t){let n=y.useContext($x),[i,l]=y.useState(!1),[c,d]=y.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:h,onTouchStart:x}=t,S=y.useRef(null);y.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let w=z=>{z.forEach(E=>{d(E.isIntersecting)})},k=new IntersectionObserver(w,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[e]),y.useEffect(()=>{if(i){let w=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(w)}}},[i]);let j=()=>{l(!0)},C=()=>{l(!1),d(!1)};return n?e!=="intent"?[c,S,{}]:[c,S,{onFocus:Jl(p,j),onBlur:Jl(m,C),onMouseEnter:Jl(g,j),onMouseLeave:Jl(h,C),onTouchStart:Jl(x,j)}]:[!1,S,{}]}function Jl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function FD({page:e,...t}){let{router:n}=uz(),i=y.useMemo(()=>tz(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?y.createElement(YD,{page:e,matches:i,...t}):null}function KD(e){let{manifest:t,routeModules:n}=dz(),[i,l]=y.useState([]);return y.useEffect(()=>{let c=!1;return LD(e,t,n).then(d=>{c||l(d)}),()=>{c=!0}},[e,t,n]),i}function YD({page:e,matches:t,...n}){let i=Ni(),{manifest:l,routeModules:c}=dz(),{basename:d}=uz(),{loaderData:p,matches:m}=UD(),g=y.useMemo(()=>Lj(e,t,m,l,i,"data"),[e,t,m,l,i]),h=y.useMemo(()=>Lj(e,t,m,l,i,"assets"),[e,t,m,l,i]),x=y.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let C=new Set,w=!1;if(t.forEach(z=>{let E=l.routes[z.route.id];!E||!E.hasLoader||(!g.some(A=>A.route.id===z.route.id)&&z.route.id in p&&c[z.route.id]?.shouldRevalidate||E.hasClientLoader?w=!0:C.add(z.route.id))}),C.size===0)return[];let k=$D(e,d,"data");return w&&C.size>0&&k.searchParams.set("_routes",t.filter(z=>C.has(z.route.id)).map(z=>z.route.id).join(",")),[k.pathname+k.search]},[d,p,i,l,g,t,e,c]),S=y.useMemo(()=>WD(h,l),[h,l]),j=KD(h);return y.createElement(y.Fragment,null,x.map(C=>y.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),S.map(C=>y.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),j.map(({key:C,link:w})=>y.createElement("link",{key:C,nonce:n.nonce,...w})))}function VD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var fz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fz&&(window.__reactRouterVersion="7.9.4")}catch{}function GD({basename:e,children:t,window:n}){let i=y.useRef();i.current==null&&(i.current=PR({window:n,v5Compat:!0}));let l=i.current,[c,d]=y.useState({action:l.action,location:l.location}),p=y.useCallback(m=>{y.startTransition(()=>d(m))},[d]);return y.useLayoutEffect(()=>l.listen(p),[l,p]),y.createElement(CD,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l})}var pz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xc=y.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:l,reloadDocument:c,replace:d,state:p,target:m,to:g,preventScrollReset:h,viewTransition:x,...S},j){let{basename:C}=y.useContext(bi),w=typeof g=="string"&&pz.test(g),k,z=!1;if(typeof g=="string"&&w&&(k=g,fz))try{let U=new URL(window.location.href),le=g.startsWith("//")?new URL(U.protocol+g):new URL(g),Z=fo(le.pathname,C);le.origin===U.origin&&Z!=null?g=Z+le.search+le.hash:z=!0}catch{ti(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=cD(g,{relative:l}),[A,D,T]=HD(i,S),R=JD(g,{replace:d,state:p,target:m,preventScrollReset:h,relative:l,viewTransition:x});function M(U){t&&t(U),U.defaultPrevented||R(U)}let F=y.createElement("a",{...S,...T,href:k||E,onClick:z||c?t:M,ref:VD(j,D),target:m,"data-discover":!w&&n==="render"?"true":void 0});return A&&!w?y.createElement(y.Fragment,null,F,y.createElement(FD,{page:E})):F});xc.displayName="Link";var XD=y.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:l=!1,style:c,to:d,viewTransition:p,children:m,...g},h){let x=Dc(d,{relative:g.relative}),S=Ni(),j=y.useContext(Wf),{navigator:C,basename:w}=y.useContext(bi),k=j!=null&&i5(x)&&p===!0,z=C.encodeLocation?C.encodeLocation(x).pathname:x.pathname,E=S.pathname,A=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(E=E.toLowerCase(),A=A?A.toLowerCase():null,z=z.toLowerCase()),A&&w&&(A=fo(A,w)||A);const D=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let T=E===z||!l&&E.startsWith(z)&&E.charAt(D)==="/",R=A!=null&&(A===z||!l&&A.startsWith(z)&&A.charAt(z.length)==="/"),M={isActive:T,isPending:R,isTransitioning:k},F=T?t:void 0,U;typeof i=="function"?U=i(M):U=[i,T?"active":null,R?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let le=typeof c=="function"?c(M):c;return y.createElement(xc,{...g,"aria-current":F,className:U,ref:h,style:le,to:d,viewTransition:p},typeof m=="function"?m(M):m)});XD.displayName="NavLink";var QD=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:l,state:c,method:d=Ld,action:p,onSubmit:m,relative:g,preventScrollReset:h,viewTransition:x,...S},j)=>{let C=r5(),w=n5(p,{relative:g}),k=d.toLowerCase()==="get"?"get":"post",z=typeof p=="string"&&pz.test(p),E=A=>{if(m&&m(A),A.defaultPrevented)return;A.preventDefault();let D=A.nativeEvent.submitter,T=D?.getAttribute("formmethod")||d;C(D||A.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:l,state:c,relative:g,preventScrollReset:h,viewTransition:x})};return y.createElement("form",{ref:j,method:k,action:w,onSubmit:i?m:E,...S,"data-discover":!z&&e==="render"?"true":void 0})});QD.displayName="Form";function ZD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gz(e){let t=y.useContext(Qs);return ir(t,ZD(e)),t}function JD(e,{target:t,replace:n,state:i,preventScrollReset:l,relative:c,viewTransition:d}={}){let p=ii(),m=Ni(),g=Dc(e,{relative:c});return y.useCallback(h=>{if(ED(h,t)){h.preventDefault();let x=n!==void 0?n:yc(m)===yc(g);p(e,{replace:x,state:i,preventScrollReset:l,relative:c,viewTransition:d})}},[m,p,g,n,i,t,e,l,c,d])}function qf(e){ti(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=y.useRef(Cy(e)),n=y.useRef(!1),i=Ni(),l=y.useMemo(()=>OD(i.search,n.current?null:t.current),[i.search]),c=ii(),d=y.useCallback((p,m)=>{const g=Cy(typeof p=="function"?p(new URLSearchParams(l)):p);n.current=!0,c("?"+g,m)},[c,l]);return[l,d]}var e5=0,t5=()=>`__${String(++e5)}__`;function r5(){let{router:e}=gz("useSubmit"),{basename:t}=y.useContext(bi),n=bD();return y.useCallback(async(i,l={})=>{let{action:c,method:d,encType:p,formData:m,body:g}=DD(i,t);if(l.navigate===!1){let h=l.fetcherKey||t5();await e.fetch(h,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:g,formMethod:l.method||d,formEncType:l.encType||p,flushSync:l.flushSync})}else await e.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:g,formMethod:l.method||d,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,t,n])}function n5(e,{relative:t}={}){let{basename:n}=y.useContext(bi),i=y.useContext(Si);ir(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),c={...Dc(e||".",{relative:t})},d=Ni();if(e==null){c.search=d.search;let p=new URLSearchParams(c.search),m=p.getAll("index");if(m.some(h=>h==="")){p.delete("index"),m.filter(x=>x).forEach(x=>p.append("index",x));let h=p.toString();c.search=h?`?${h}`:""}}return(!e||e===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:so([n,c.pathname])),yc(c)}function i5(e,{relative:t}={}){let n=y.useContext(oz);ir(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=gz("useViewTransitionState"),l=Dc(e,{relative:t});if(!n.isTransitioning)return!1;let c=fo(n.currentLocation.pathname,i)||n.currentLocation.pathname,d=fo(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Vd(l.pathname,d)!=null||Vd(l.pathname,c)!=null}var Gd=ez();function mz(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=mz(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Ct(){for(var e,t,n=0,i="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=mz(e))&&(i&&(i+=" "),i+=t);return i}var Nm={},Lm={},Wj;function o5(){return Wj||(Wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Lm)),Lm}var Wm={},Bj;function hz(){return Bj||(Bj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Wm)),Wm}var Bm={},Ij;function yz(){return Ij||(Ij=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Bm)),Bm}var Im={},qj;function Px(){return qj||(qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const i=[],l=n.length;if(l===0)return i;let c=0,d="",p="",m=!1;for(n.charCodeAt(0)===46&&(i.push(""),c++);c<l;){const g=n[c];p?g==="\\"&&c+1<l?(c++,d+=n[c]):g===p?p="":d+=g:m?g==='"'||g==="'"?p=g:g==="]"?(m=!1,i.push(d),d=""):d+=g:g==="["?(m=!0,d&&(i.push(d),d="")):g==="."?d&&(i.push(d),d=""):d+=g,c++}return d&&i.push(d),i}e.toPath=t})(Im)),Im}var Uj;function Nx(){return Uj||(Uj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o5(),n=hz(),i=yz(),l=Px();function c(p,m,g){if(p==null)return g;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return g;const h=p[m];return h===void 0?n.isDeepKey(m)?c(p,l.toPath(m),g):g:h}case"number":case"symbol":{typeof m=="number"&&(m=i.toKey(m));const h=p[m];return h===void 0?g:h}default:{if(Array.isArray(m))return d(p,m,g);if(Object.is(m?.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return g;const h=p[m];return h===void 0?g:h}}}function d(p,m,g){if(m.length===0)return g;let h=p;for(let x=0;x<m.length;x++){if(h==null||t.isUnsafeProperty(m[x]))return g;h=h[m[x]]}return h===void 0?g:h}e.get=c})(Nm)),Nm}var qm,Hj;function a5(){return Hj||(Hj=1,qm=Nx().get),qm}var s5=a5();const Ia=yo(s5);var Um={exports:{}},It={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fj;function l5(){if(Fj)return It;Fj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.view_transition"),j=Symbol.for("react.client.reference");function C(w){if(typeof w=="object"&&w!==null){var k=w.$$typeof;switch(k){case e:switch(w=w.type,w){case n:case l:case i:case m:case g:case S:return w;default:switch(w=w&&w.$$typeof,w){case d:case p:case x:case h:return w;case c:return w;default:return k}}case t:return k}}}return It.ContextConsumer=c,It.ContextProvider=d,It.Element=e,It.ForwardRef=p,It.Fragment=n,It.Lazy=x,It.Memo=h,It.Portal=t,It.Profiler=l,It.StrictMode=i,It.Suspense=m,It.SuspenseList=g,It.isContextConsumer=function(w){return C(w)===c},It.isContextProvider=function(w){return C(w)===d},It.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},It.isForwardRef=function(w){return C(w)===p},It.isFragment=function(w){return C(w)===n},It.isLazy=function(w){return C(w)===x},It.isMemo=function(w){return C(w)===h},It.isPortal=function(w){return C(w)===t},It.isProfiler=function(w){return C(w)===l},It.isStrictMode=function(w){return C(w)===i},It.isSuspense=function(w){return C(w)===m},It.isSuspenseList=function(w){return C(w)===g},It.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===l||w===i||w===m||w===g||typeof w=="object"&&w!==null&&(w.$$typeof===x||w.$$typeof===h||w.$$typeof===d||w.$$typeof===c||w.$$typeof===p||w.$$typeof===j||w.getModuleId!==void 0)},It.typeOf=C,It}var Kj;function c5(){return Kj||(Kj=1,Um.exports=l5()),Um.exports}var u5=c5(),Pr=e=>e===0?0:e>0?1:-1,$n=e=>typeof e=="number"&&e!=+e,Ma=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ge=e=>(typeof e=="number"||e instanceof Number)&&!$n(e),$i=e=>Ge(e)||typeof e=="string",d5=0,vc=e=>{var t=++d5;return"".concat(e||"").concat(t)},Zr=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ge(t)&&typeof t!="string")return i;var c;if(Ma(t)){if(n==null)return i;var d=t.indexOf("%");c=n*parseFloat(t.slice(0,d))/100}else c=+t;return $n(c)&&(c=i),l&&n!=null&&c>n&&(c=n),c},xz=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},i=0;i<t;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1};function pr(e,t,n){return Ge(e)&&Ge(t)?e+n*(t-e):t}function vz(e,t,n){if(!(!e||!e.length))return e.find(i=>i&&(typeof t=="function"?t(i):Ia(i,t))===n)}var or=e=>e===null||typeof e>"u",$c=e=>or(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),f5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Lx(e){if(typeof e!="string")return!1;var t=f5;return t.includes(e)}var p5=["viewBox","children"],Yj=["points","pathLength"],Hm={svg:p5,polygon:Yj,polyline:Yj},Wx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(l=>{Lx(l)&&(i[l]=(c=>n[l](n,c)))}),i},g5=(e,t,n)=>i=>(e(t,n,i),null),Pc=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var i=null;return Object.keys(e).forEach(l=>{var c=e[l];Lx(l)&&typeof c=="function"&&(i||(i={}),i[l]=g5(c,t,n))}),i},m5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function bz(e){if(typeof e!="string")return!1;var t=m5;return t.includes(e)}function Li(e){var t=Object.entries(e).filter(n=>{var[i]=n;return bz(i)});return Object.fromEntries(t)}var Vj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Gj=null,Fm=null,Sz=e=>{if(e===Gj&&Array.isArray(Fm))return Fm;var t=[];return y.Children.forEach(e,n=>{or(n)||(u5.isFragment(n)?t=t.concat(Sz(n.props.children)):t.push(n))}),Fm=t,Gj=e,t};function Bx(e,t){var n=[],i=[];return Array.isArray(t)?i=t.map(l=>Vj(l)):i=[Vj(t)],Sz(e).forEach(l=>{var c=Ia(l,"type.displayName")||Ia(l,"type.name");i.indexOf(c)!==-1&&n.push(l)}),n}var jz=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,h5=(e,t,n,i)=>{var l;if(typeof t=="symbol"||typeof t=="number")return!0;var c=(l=i&&Hm?.[i])!==null&&l!==void 0?l:[],d=t.startsWith("data-"),p=typeof e!="function"&&(!!i&&c.includes(t)||bz(t)),m=!!n&&Lx(t);return d||p||m},lr=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(y.isValidElement(e)&&(i=e.props),typeof i!="object"&&typeof i!="function")return null;var l={};return Object.keys(i).forEach(c=>{var d;h5((d=i)===null||d===void 0?void 0:d[c],c,t,n)&&(l[c]=i[c])}),l},y5=["children","width","height","viewBox","className","style","title","desc"];function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ky.apply(null,arguments)}function x5(e,t){if(e==null)return{};var n,i,l=v5(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function v5(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Ix=y.forwardRef((e,t)=>{var{children:n,width:i,height:l,viewBox:c,className:d,style:p,title:m,desc:g}=e,h=x5(e,y5),x=c||{width:i,height:l,x:0,y:0},S=Ct("recharts-surface",d);return y.createElement("svg",ky({},lr(h,!0,"svg"),{className:S,width:i,height:l,style:p,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),y.createElement("title",null,m),y.createElement("desc",null,g),n)}),b5=["children","className"];function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zy.apply(null,arguments)}function S5(e,t){if(e==null)return{};var n,i,l=j5(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function j5(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Yr=y.forwardRef((e,t)=>{var{children:n,className:i}=e,l=S5(e,b5),c=Ct("recharts-layer",i);return y.createElement("g",zy({className:c},lr(l,!0),{ref:t}),n)}),wz=y.createContext(null),w5=()=>y.useContext(wz);function Ft(e){return function(){return e}}const Cz=Math.cos,Xd=Math.sin,ji=Math.sqrt,Qd=Math.PI,Uf=2*Qd,_y=Math.PI,Ty=2*_y,Aa=1e-6,C5=Ty-Aa;function kz(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function k5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kz;const n=10**t;return function(i){this._+=i[0];for(let l=1,c=i.length;l<c;++l)this._+=Math.round(arguments[l]*n)/n+i[l]}}class z5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?kz:k5(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,l){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+l}`}bezierCurveTo(t,n,i,l,c,d){this._append`C${+t},${+n},${+i},${+l},${this._x1=+c},${this._y1=+d}`}arcTo(t,n,i,l,c){if(t=+t,n=+n,i=+i,l=+l,c=+c,c<0)throw new Error(`negative radius: ${c}`);let d=this._x1,p=this._y1,m=i-t,g=l-n,h=d-t,x=p-n,S=h*h+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(S>Aa)if(!(Math.abs(x*m-g*h)>Aa)||!c)this._append`L${this._x1=t},${this._y1=n}`;else{let j=i-d,C=l-p,w=m*m+g*g,k=j*j+C*C,z=Math.sqrt(w),E=Math.sqrt(S),A=c*Math.tan((_y-Math.acos((w+S-k)/(2*z*E)))/2),D=A/E,T=A/z;Math.abs(D-1)>Aa&&this._append`L${t+D*h},${n+D*x}`,this._append`A${c},${c},0,0,${+(x*j>h*C)},${this._x1=t+T*m},${this._y1=n+T*g}`}}arc(t,n,i,l,c,d){if(t=+t,n=+n,i=+i,d=!!d,i<0)throw new Error(`negative radius: ${i}`);let p=i*Math.cos(l),m=i*Math.sin(l),g=t+p,h=n+m,x=1^d,S=d?l-c:c-l;this._x1===null?this._append`M${g},${h}`:(Math.abs(this._x1-g)>Aa||Math.abs(this._y1-h)>Aa)&&this._append`L${g},${h}`,i&&(S<0&&(S=S%Ty+Ty),S>C5?this._append`A${i},${i},0,1,${x},${t-p},${n-m}A${i},${i},0,1,${x},${this._x1=g},${this._y1=h}`:S>Aa&&this._append`A${i},${i},0,${+(S>=_y)},${x},${this._x1=t+i*Math.cos(c)},${this._y1=n+i*Math.sin(c)}`)}rect(t,n,i,l){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+l}h${-i}Z`}toString(){return this._}}function qx(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new z5(t)}function Ux(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zz(e){this._context=e}zz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hf(e){return new zz(e)}function _z(e){return e[0]}function Tz(e){return e[1]}function Az(e,t){var n=Ft(!0),i=null,l=Hf,c=null,d=qx(p);e=typeof e=="function"?e:e===void 0?_z:Ft(e),t=typeof t=="function"?t:t===void 0?Tz:Ft(t);function p(m){var g,h=(m=Ux(m)).length,x,S=!1,j;for(i==null&&(c=l(j=d())),g=0;g<=h;++g)!(g<h&&n(x=m[g],g,m))===S&&((S=!S)?c.lineStart():c.lineEnd()),S&&c.point(+e(x,g,m),+t(x,g,m));if(j)return c=null,j+""||null}return p.x=function(m){return arguments.length?(e=typeof m=="function"?m:Ft(+m),p):e},p.y=function(m){return arguments.length?(t=typeof m=="function"?m:Ft(+m),p):t},p.defined=function(m){return arguments.length?(n=typeof m=="function"?m:Ft(!!m),p):n},p.curve=function(m){return arguments.length?(l=m,i!=null&&(c=l(i)),p):l},p.context=function(m){return arguments.length?(m==null?i=c=null:c=l(i=m),p):i},p}function hd(e,t,n){var i=null,l=Ft(!0),c=null,d=Hf,p=null,m=qx(g);e=typeof e=="function"?e:e===void 0?_z:Ft(+e),t=typeof t=="function"?t:Ft(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Tz:Ft(+n);function g(x){var S,j,C,w=(x=Ux(x)).length,k,z=!1,E,A=new Array(w),D=new Array(w);for(c==null&&(p=d(E=m())),S=0;S<=w;++S){if(!(S<w&&l(k=x[S],S,x))===z)if(z=!z)j=S,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),C=S-1;C>=j;--C)p.point(A[C],D[C]);p.lineEnd(),p.areaEnd()}z&&(A[S]=+e(k,S,x),D[S]=+t(k,S,x),p.point(i?+i(k,S,x):A[S],n?+n(k,S,x):D[S]))}if(E)return p=null,E+""||null}function h(){return Az().defined(l).curve(d).context(c)}return g.x=function(x){return arguments.length?(e=typeof x=="function"?x:Ft(+x),i=null,g):e},g.x0=function(x){return arguments.length?(e=typeof x=="function"?x:Ft(+x),g):e},g.x1=function(x){return arguments.length?(i=x==null?null:typeof x=="function"?x:Ft(+x),g):i},g.y=function(x){return arguments.length?(t=typeof x=="function"?x:Ft(+x),n=null,g):t},g.y0=function(x){return arguments.length?(t=typeof x=="function"?x:Ft(+x),g):t},g.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:Ft(+x),g):n},g.lineX0=g.lineY0=function(){return h().x(e).y(t)},g.lineY1=function(){return h().x(e).y(n)},g.lineX1=function(){return h().x(i).y(t)},g.defined=function(x){return arguments.length?(l=typeof x=="function"?x:Ft(!!x),g):l},g.curve=function(x){return arguments.length?(d=x,c!=null&&(p=d(c)),g):d},g.context=function(x){return arguments.length?(x==null?c=p=null:p=d(c=x),g):c},g}class Ez{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function _5(e){return new Ez(e,!0)}function T5(e){return new Ez(e,!1)}const Hx={draw(e,t){const n=ji(t/Qd);e.moveTo(n,0),e.arc(0,0,n,0,Uf)}},A5={draw(e,t){const n=ji(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Oz=ji(1/3),E5=Oz*2,O5={draw(e,t){const n=ji(t/E5),i=n*Oz;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},M5={draw(e,t){const n=ji(t),i=-n/2;e.rect(i,i,n,n)}},R5=.8908130915292852,Mz=Xd(Qd/10)/Xd(7*Qd/10),D5=Xd(Uf/10)*Mz,$5=-Cz(Uf/10)*Mz,P5={draw(e,t){const n=ji(t*R5),i=D5*n,l=$5*n;e.moveTo(0,-n),e.lineTo(i,l);for(let c=1;c<5;++c){const d=Uf*c/5,p=Cz(d),m=Xd(d);e.lineTo(m*n,-p*n),e.lineTo(p*i-m*l,m*i+p*l)}e.closePath()}},Km=ji(3),N5={draw(e,t){const n=-ji(t/(Km*3));e.moveTo(0,n*2),e.lineTo(-Km*n,-n),e.lineTo(Km*n,-n),e.closePath()}},Vn=-.5,Gn=ji(3)/2,Ay=1/ji(12),L5=(Ay/2+1)*3,W5={draw(e,t){const n=ji(t/L5),i=n/2,l=n*Ay,c=i,d=n*Ay+n,p=-c,m=d;e.moveTo(i,l),e.lineTo(c,d),e.lineTo(p,m),e.lineTo(Vn*i-Gn*l,Gn*i+Vn*l),e.lineTo(Vn*c-Gn*d,Gn*c+Vn*d),e.lineTo(Vn*p-Gn*m,Gn*p+Vn*m),e.lineTo(Vn*i+Gn*l,Vn*l-Gn*i),e.lineTo(Vn*c+Gn*d,Vn*d-Gn*c),e.lineTo(Vn*p+Gn*m,Vn*m-Gn*p),e.closePath()}};function B5(e,t){let n=null,i=qx(l);e=typeof e=="function"?e:Ft(e||Hx),t=typeof t=="function"?t:Ft(t===void 0?64:+t);function l(){let c;if(n||(n=c=i()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),c)return n=null,c+""||null}return l.type=function(c){return arguments.length?(e=typeof c=="function"?c:Ft(c),l):e},l.size=function(c){return arguments.length?(t=typeof c=="function"?c:Ft(+c),l):t},l.context=function(c){return arguments.length?(n=c??null,l):n},l}function Zd(){}function Jd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Rz(e){this._context=e}Rz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I5(e){return new Rz(e)}function Dz(e){this._context=e}Dz.prototype={areaStart:Zd,areaEnd:Zd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function q5(e){return new Dz(e)}function $z(e){this._context=e}$z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function U5(e){return new $z(e)}function Pz(e){this._context=e}Pz.prototype={areaStart:Zd,areaEnd:Zd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function H5(e){return new Pz(e)}function Xj(e){return e<0?-1:1}function Qj(e,t,n){var i=e._x1-e._x0,l=t-e._x1,c=(e._y1-e._y0)/(i||l<0&&-0),d=(n-e._y1)/(l||i<0&&-0),p=(c*l+d*i)/(i+l);return(Xj(c)+Xj(d))*Math.min(Math.abs(c),Math.abs(d),.5*Math.abs(p))||0}function Zj(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ym(e,t,n){var i=e._x0,l=e._y0,c=e._x1,d=e._y1,p=(c-i)/3;e._context.bezierCurveTo(i+p,l+p*t,c-p,d-p*n,c,d)}function ef(e){this._context=e}ef.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ym(this,this._t0,Zj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ym(this,Zj(this,n=Qj(this,e,t)),n);break;default:Ym(this,this._t0,n=Qj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Nz(e){this._context=new Lz(e)}(Nz.prototype=Object.create(ef.prototype)).point=function(e,t){ef.prototype.point.call(this,t,e)};function Lz(e){this._context=e}Lz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,l,c){this._context.bezierCurveTo(t,e,i,n,c,l)}};function F5(e){return new ef(e)}function K5(e){return new Nz(e)}function Wz(e){this._context=e}Wz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=Jj(e),l=Jj(t),c=0,d=1;d<n;++c,++d)this._context.bezierCurveTo(i[0][c],l[0][c],i[1][c],l[1][c],e[d],t[d]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Jj(e){var t,n=e.length-1,i,l=new Array(n),c=new Array(n),d=new Array(n);for(l[0]=0,c[0]=2,d[0]=e[0]+2*e[1],t=1;t<n-1;++t)l[t]=1,c[t]=4,d[t]=4*e[t]+2*e[t+1];for(l[n-1]=2,c[n-1]=7,d[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=l[t]/c[t-1],c[t]-=i,d[t]-=i*d[t-1];for(l[n-1]=d[n-1]/c[n-1],t=n-2;t>=0;--t)l[t]=(d[t]-l[t+1])/c[t];for(c[n-1]=(e[n]+l[n-1])/2,t=0;t<n-1;++t)c[t]=2*e[t+1]-l[t+1];return[l,c]}function Y5(e){return new Wz(e)}function Ff(e,t){this._context=e,this._t=t}Ff.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function V5(e){return new Ff(e,.5)}function G5(e){return new Ff(e,0)}function X5(e){return new Ff(e,1)}function Ns(e,t){if((d=e.length)>1)for(var n=1,i,l,c=e[t[0]],d,p=c.length;n<d;++n)for(l=c,c=e[t[n]],i=0;i<p;++i)c[i][1]+=c[i][0]=isNaN(l[i][1])?l[i][0]:l[i][1]}function Ey(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Q5(e,t){return e[t]}function Z5(e){const t=[];return t.key=e,t}function J5(){var e=Ft([]),t=Ey,n=Ns,i=Q5;function l(c){var d=Array.from(e.apply(this,arguments),Z5),p,m=d.length,g=-1,h;for(const x of c)for(p=0,++g;p<m;++p)(d[p][g]=[0,+i(x,d[p].key,g,c)]).data=x;for(p=0,h=Ux(t(d));p<m;++p)d[h[p]].index=p;return n(d,h),d}return l.keys=function(c){return arguments.length?(e=typeof c=="function"?c:Ft(Array.from(c)),l):e},l.value=function(c){return arguments.length?(i=typeof c=="function"?c:Ft(+c),l):i},l.order=function(c){return arguments.length?(t=c==null?Ey:typeof c=="function"?c:Ft(Array.from(c)),l):t},l.offset=function(c){return arguments.length?(n=c??Ns,l):n},l}function e$(e,t){if((i=e.length)>0){for(var n,i,l=0,c=e[0].length,d;l<c;++l){for(d=n=0;n<i;++n)d+=e[n][l][1]||0;if(d)for(n=0;n<i;++n)e[n][l][1]/=d}Ns(e,t)}}function t$(e,t){if((l=e.length)>0){for(var n=0,i=e[t[0]],l,c=i.length;n<c;++n){for(var d=0,p=0;d<l;++d)p+=e[d][n][1]||0;i[n][1]+=i[n][0]=-p/2}Ns(e,t)}}function r$(e,t){if(!(!((d=e.length)>0)||!((c=(l=e[t[0]]).length)>0))){for(var n=0,i=1,l,c,d;i<c;++i){for(var p=0,m=0,g=0;p<d;++p){for(var h=e[t[p]],x=h[i][1]||0,S=h[i-1][1]||0,j=(x-S)/2,C=0;C<p;++C){var w=e[t[C]],k=w[i][1]||0,z=w[i-1][1]||0;j+=k-z}m+=x,g+=j*x}l[i-1][1]+=l[i-1][0]=n,m&&(n-=g/m)}l[i-1][1]+=l[i-1][0]=n,Ns(e,t)}}var n$=["type","size","sizeType"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Oy.apply(null,arguments)}function ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function tw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ew(Object(n),!0).forEach(function(i){i$(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ew(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function i$(e,t,n){return(t=o$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o$(e){var t=a$(e,"string");return typeof t=="symbol"?t:t+""}function a$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s$(e,t){if(e==null)return{};var n,i,l=l$(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function l$(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Bz={symbolCircle:Hx,symbolCross:A5,symbolDiamond:O5,symbolSquare:M5,symbolStar:P5,symbolTriangle:N5,symbolWye:W5},c$=Math.PI/180,u$=e=>{var t="symbol".concat($c(e));return Bz[t]||Hx},d$=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*c$;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},f$=(e,t)=>{Bz["symbol".concat($c(e))]=t},Fx=e=>{var{type:t="circle",size:n=64,sizeType:i="area"}=e,l=s$(e,n$),c=tw(tw({},l),{},{type:t,size:n,sizeType:i}),d="circle";typeof t=="string"&&(d=t);var p=()=>{var S=u$(d),j=B5().type(S).size(d$(n,i,d));return j()},{className:m,cx:g,cy:h}=c,x=lr(c,!0);return g===+g&&h===+h&&n===+n?y.createElement("path",Oy({},x,{className:Ct("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(h,")"),d:p()})):null};Fx.registerSymbol=f$;function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},My.apply(null,arguments)}function rw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function p$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rw(Object(n),!0).forEach(function(i){Kx(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rw(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Kx(e,t,n){return(t=g$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g$(e){var t=m$(e,"string");return typeof t=="symbol"?t:t+""}function m$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xn=32;class Yx extends y.PureComponent{renderIcon(t,n){var{inactiveColor:i}=this.props,l=Xn/2,c=Xn/6,d=Xn/3,p=t.inactive?i:t.color,m=n??t.type;if(m==="none")return null;if(m==="plainline")return y.createElement("line",{strokeWidth:4,fill:"none",stroke:p,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:l,x2:Xn,y2:l,className:"recharts-legend-icon"});if(m==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:p,d:"M0,".concat(l,"h").concat(d,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*d,",").concat(l,`
            H`).concat(Xn,"M").concat(2*d,",").concat(l,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(d,",").concat(l),className:"recharts-legend-icon"});if(m==="rect")return y.createElement("path",{stroke:"none",fill:p,d:"M0,".concat(Xn/8,"h").concat(Xn,"v").concat(Xn*3/4,"h").concat(-Xn,"z"),className:"recharts-legend-icon"});if(y.isValidElement(t.legendIcon)){var g=p$({},t);return delete g.legendIcon,y.cloneElement(t.legendIcon,g)}return y.createElement(Fx,{fill:p,cx:l,cy:l,size:Xn,sizeType:"diameter",type:m})}renderItems(){var{payload:t,iconSize:n,layout:i,formatter:l,inactiveColor:c,iconType:d}=this.props,p={x:0,y:0,width:Xn,height:Xn},m={display:i==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,x)=>{var S=h.formatter||l,j=Ct({"recharts-legend-item":!0,["legend-item-".concat(x)]:!0,inactive:h.inactive});if(h.type==="none")return null;var C=h.inactive?c:h.color,w=S?S(h.value,h,x):h.value;return y.createElement("li",My({className:j,style:m,key:"legend-item-".concat(x)},Pc(this.props,h,x)),y.createElement(Ix,{width:n,height:n,viewBox:p,style:g,"aria-label":"".concat(w," legend icon")},this.renderIcon(h,d)),y.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},w))})}render(){var{payload:t,layout:n,align:i}=this.props;if(!t||!t.length)return null;var l={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}Kx(Yx,"displayName","Legend");Kx(Yx,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Vm={},Gm={},nw;function h$(){return nw||(nw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i){const l=new Map;for(let c=0;c<n.length;c++){const d=n[c],p=i(d);l.has(p)||l.set(p,d)}return Array.from(l.values())}e.uniqBy=t})(Gm)),Gm}var Xm={},iw;function Iz(){return iw||(iw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Xm)),Xm}var Qm={},Zm={},Jm={},ow;function y$(){return ow||(ow=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Jm)),Jm}var aw;function Vx(){return aw||(aw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y$();function n(i){return i!=null&&typeof i!="function"&&t.isLength(i.length)}e.isArrayLike=n})(Zm)),Zm}var eh={},sw;function x$(){return sw||(sw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(eh)),eh}var lw;function v$(){return lw||(lw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vx(),n=x$();function i(l){return n.isObjectLike(l)&&t.isArrayLike(l)}e.isArrayLikeObject=i})(Qm)),Qm}var th={},rh={},cw;function b$(){return cw||(cw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nx();function n(i){return function(l){return t.get(l,i)}}e.property=n})(rh)),rh}var nh={},ih={},oh={},ah={},uw;function qz(){return uw||(uw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(ah)),ah}var sh={},dw;function Uz(){return dw||(dw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(sh)),sh}var lh={},fw;function Hz(){return fw||(fw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}e.eq=t})(lh)),lh}var pw;function S$(){return pw||(pw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gx(),n=qz(),i=Uz(),l=Hz();function c(x,S,j){return typeof j!="function"?t.isMatch(x,S):d(x,S,function C(w,k,z,E,A,D){const T=j(w,k,z,E,A,D);return T!==void 0?!!T:d(w,k,C,D)},new Map)}function d(x,S,j,C){if(S===x)return!0;switch(typeof S){case"object":return p(x,S,j,C);case"function":return Object.keys(S).length>0?d(x,{...S},j,C):l.eq(x,S);default:return n.isObject(x)?typeof S=="string"?S==="":!0:l.eq(x,S)}}function p(x,S,j,C){if(S==null)return!0;if(Array.isArray(S))return g(x,S,j,C);if(S instanceof Map)return m(x,S,j,C);if(S instanceof Set)return h(x,S,j,C);const w=Object.keys(S);if(x==null)return w.length===0;if(w.length===0)return!0;if(C&&C.has(S))return C.get(S)===x;C&&C.set(S,x);try{for(let k=0;k<w.length;k++){const z=w[k];if(!i.isPrimitive(x)&&!(z in x)||S[z]===void 0&&x[z]!==void 0||S[z]===null&&x[z]!==null||!j(x[z],S[z],z,x,S,C))return!1}return!0}finally{C&&C.delete(S)}}function m(x,S,j,C){if(S.size===0)return!0;if(!(x instanceof Map))return!1;for(const[w,k]of S.entries()){const z=x.get(w);if(j(z,k,w,x,S,C)===!1)return!1}return!0}function g(x,S,j,C){if(S.length===0)return!0;if(!Array.isArray(x))return!1;const w=new Set;for(let k=0;k<S.length;k++){const z=S[k];let E=!1;for(let A=0;A<x.length;A++){if(w.has(A))continue;const D=x[A];let T=!1;if(j(D,z,k,x,S,C)&&(T=!0),T){w.add(A),E=!0;break}}if(!E)return!1}return!0}function h(x,S,j,C){return S.size===0?!0:x instanceof Set?g([...x],[...S],j,C):!1}e.isMatchWith=c,e.isSetMatch=h})(oh)),oh}var gw;function Gx(){return gw||(gw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S$();function n(i,l){return t.isMatchWith(i,l,()=>{})}e.isMatch=n})(ih)),ih}var ch={},uh={},dh={},mw;function j$(){return mw||(mw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(i=>Object.prototype.propertyIsEnumerable.call(n,i))}e.getSymbols=t})(dh)),dh}var fh={},hw;function Fz(){return hw||(hw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(fh)),fh}var ph={},yw;function Kz(){return yw||(yw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",i="[object Number]",l="[object Boolean]",c="[object Arguments]",d="[object Symbol]",p="[object Date]",m="[object Map]",g="[object Set]",h="[object Array]",x="[object Function]",S="[object ArrayBuffer]",j="[object Object]",C="[object Error]",w="[object DataView]",k="[object Uint8Array]",z="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]",D="[object BigUint64Array]",T="[object Int8Array]",R="[object Int16Array]",M="[object Int32Array]",F="[object BigInt64Array]",U="[object Float32Array]",le="[object Float64Array]";e.argumentsTag=c,e.arrayBufferTag=S,e.arrayTag=h,e.bigInt64ArrayTag=F,e.bigUint64ArrayTag=D,e.booleanTag=l,e.dataViewTag=w,e.dateTag=p,e.errorTag=C,e.float32ArrayTag=U,e.float64ArrayTag=le,e.functionTag=x,e.int16ArrayTag=R,e.int32ArrayTag=M,e.int8ArrayTag=T,e.mapTag=m,e.numberTag=i,e.objectTag=j,e.regexpTag=t,e.setTag=g,e.stringTag=n,e.symbolTag=d,e.uint16ArrayTag=E,e.uint32ArrayTag=A,e.uint8ArrayTag=k,e.uint8ClampedArrayTag=z})(ph)),ph}var gh={},xw;function w$(){return xw||(xw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(gh)),gh}var vw;function Yz(){return vw||(vw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j$(),n=Fz(),i=Kz(),l=Uz(),c=w$();function d(h,x){return p(h,void 0,h,new Map,x)}function p(h,x,S,j=new Map,C=void 0){const w=C?.(h,x,S,j);if(w!==void 0)return w;if(l.isPrimitive(h))return h;if(j.has(h))return j.get(h);if(Array.isArray(h)){const k=new Array(h.length);j.set(h,k);for(let z=0;z<h.length;z++)k[z]=p(h[z],z,S,j,C);return Object.hasOwn(h,"index")&&(k.index=h.index),Object.hasOwn(h,"input")&&(k.input=h.input),k}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const k=new RegExp(h.source,h.flags);return k.lastIndex=h.lastIndex,k}if(h instanceof Map){const k=new Map;j.set(h,k);for(const[z,E]of h)k.set(z,p(E,z,S,j,C));return k}if(h instanceof Set){const k=new Set;j.set(h,k);for(const z of h)k.add(p(z,void 0,S,j,C));return k}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(c.isTypedArray(h)){const k=new(Object.getPrototypeOf(h)).constructor(h.length);j.set(h,k);for(let z=0;z<h.length;z++)k[z]=p(h[z],z,S,j,C);return k}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const k=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return j.set(h,k),m(k,h,S,j,C),k}if(typeof File<"u"&&h instanceof File){const k=new File([h],h.name,{type:h.type});return j.set(h,k),m(k,h,S,j,C),k}if(h instanceof Blob){const k=new Blob([h],{type:h.type});return j.set(h,k),m(k,h,S,j,C),k}if(h instanceof Error){const k=new h.constructor;return j.set(h,k),k.message=h.message,k.name=h.name,k.stack=h.stack,k.cause=h.cause,m(k,h,S,j,C),k}if(typeof h=="object"&&g(h)){const k=Object.create(Object.getPrototypeOf(h));return j.set(h,k),m(k,h,S,j,C),k}return h}function m(h,x,S=h,j,C){const w=[...Object.keys(x),...t.getSymbols(x)];for(let k=0;k<w.length;k++){const z=w[k],E=Object.getOwnPropertyDescriptor(h,z);(E==null||E.writable)&&(h[z]=p(x[z],z,S,j,C))}}function g(h){switch(n.getTag(h)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=d,e.cloneDeepWithImpl=p,e.copyProperties=m})(uh)),uh}var bw;function C$(){return bw||(bw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yz();function n(i){return t.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}e.cloneDeep=n})(ch)),ch}var Sw;function k$(){return Sw||(Sw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gx(),n=C$();function i(l){return l=n.cloneDeep(l),c=>t.isMatch(c,l)}e.matches=i})(nh)),nh}var mh={},hh={},yh={},jw;function z$(){return jw||(jw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yz(),n=Kz();function i(l,c){return t.cloneDeepWith(l,(d,p,m,g)=>{const h=c?.(d,p,m,g);if(h!==void 0)return h;if(typeof l=="object")switch(Object.prototype.toString.call(l)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new l.constructor(l?.valueOf());return t.copyProperties(x,l),x}case n.argumentsTag:{const x={};return t.copyProperties(x,l),x.length=l.length,x[Symbol.iterator]=l[Symbol.iterator],x}default:return}})}e.cloneDeepWith=i})(yh)),yh}var ww;function _$(){return ww||(ww=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z$();function n(i){return t.cloneDeepWith(i)}e.cloneDeep=n})(hh)),hh}var xh={},vh={},Cw;function Vz(){return Cw||(Cw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(i,l=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<l;case"symbol":return!1;case"string":return t.test(i)}}e.isIndex=n})(vh)),vh}var bh={},kw;function T$(){return kw||(kw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fz();function n(i){return i!==null&&typeof i=="object"&&t.getTag(i)==="[object Arguments]"}e.isArguments=n})(bh)),bh}var zw;function A$(){return zw||(zw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hz(),n=Vz(),i=T$(),l=Px();function c(d,p){let m;if(Array.isArray(p)?m=p:typeof p=="string"&&t.isDeepKey(p)&&d?.[p]==null?m=l.toPath(p):m=[p],m.length===0)return!1;let g=d;for(let h=0;h<m.length;h++){const x=m[h];if((g==null||!Object.hasOwn(g,x))&&!((Array.isArray(g)||i.isArguments(g))&&n.isIndex(x)&&x<g.length))return!1;g=g[x]}return!0}e.has=c})(xh)),xh}var _w;function E$(){return _w||(_w=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gx(),n=yz(),i=_$(),l=Nx(),c=A$();function d(p,m){switch(typeof p){case"object":{Object.is(p?.valueOf(),-0)&&(p="-0");break}case"number":{p=n.toKey(p);break}}return m=i.cloneDeep(m),function(g){const h=l.get(g,p);return h===void 0?c.has(g,p):m===void 0?h===void 0:t.isMatch(h,m)}}e.matchesProperty=d})(mh)),mh}var Tw;function O$(){return Tw||(Tw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iz(),n=b$(),i=k$(),l=E$();function c(d){if(d==null)return t.identity;switch(typeof d){case"function":return d;case"object":return Array.isArray(d)&&d.length===2?l.matchesProperty(d[0],d[1]):i.matches(d);case"string":case"symbol":case"number":return n.property(d)}}e.iteratee=c})(th)),th}var Aw;function M$(){return Aw||(Aw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h$(),n=Iz(),i=v$(),l=O$();function c(d,p=n.identity){return i.isArrayLikeObject(d)?t.uniqBy(Array.from(d),l.iteratee(p)):[]}e.uniqBy=c})(Vm)),Vm}var Sh,Ew;function R$(){return Ew||(Ew=1,Sh=M$().uniqBy),Sh}var D$=R$();const Ow=yo(D$);function Gz(e,t,n){return t===!0?Ow(e,n):typeof t=="function"?Ow(e,t):e}var jh={exports:{}},wh={},Ch={exports:{}},kh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function $$(){if(Mw)return kh;Mw=1;var e=Gs();function t(x,S){return x===S&&(x!==0||1/x===1/S)||x!==x&&S!==S}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,l=e.useEffect,c=e.useLayoutEffect,d=e.useDebugValue;function p(x,S){var j=S(),C=i({inst:{value:j,getSnapshot:S}}),w=C[0].inst,k=C[1];return c(function(){w.value=j,w.getSnapshot=S,m(w)&&k({inst:w})},[x,j,S]),l(function(){return m(w)&&k({inst:w}),x(function(){m(w)&&k({inst:w})})},[x]),d(j),j}function m(x){var S=x.getSnapshot;x=x.value;try{var j=S();return!n(x,j)}catch{return!0}}function g(x,S){return S()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:p;return kh.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,kh}var Rw;function P$(){return Rw||(Rw=1,Ch.exports=$$()),Ch.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function N$(){if(Dw)return wh;Dw=1;var e=Gs(),t=P$();function n(g,h){return g===h&&(g!==0||1/g===1/h)||g!==g&&h!==h}var i=typeof Object.is=="function"?Object.is:n,l=t.useSyncExternalStore,c=e.useRef,d=e.useEffect,p=e.useMemo,m=e.useDebugValue;return wh.useSyncExternalStoreWithSelector=function(g,h,x,S,j){var C=c(null);if(C.current===null){var w={hasValue:!1,value:null};C.current=w}else w=C.current;C=p(function(){function z(R){if(!E){if(E=!0,A=R,R=S(R),j!==void 0&&w.hasValue){var M=w.value;if(j(M,R))return D=M}return D=R}if(M=D,i(A,R))return M;var F=S(R);return j!==void 0&&j(M,F)?(A=R,M):(A=R,D=F)}var E=!1,A,D,T=x===void 0?null:x;return[function(){return z(h())},T===null?void 0:function(){return z(T())}]},[h,x,S,j]);var k=l(g,C[0],C[1]);return d(function(){w.hasValue=!0,w.value=k},[k]),m(k),k},wh}var $w;function L$(){return $w||($w=1,jh.exports=N$()),jh.exports}var W$=L$(),Xx=y.createContext(null),B$=e=>e,cr=()=>{var e=y.useContext(Xx);return e?e.store.dispatch:B$},Bd=()=>{},I$=()=>Bd,q$=(e,t)=>e===t;function Ue(e){var t=y.useContext(Xx);return W$.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:I$,t?t.store.getState:Bd,t?t.store.getState:Bd,t?e:Bd,q$)}function U$(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function H$(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function F$(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${t}[${n}]`)}}var Pw=e=>Array.isArray(e)?e:[e];function K$(e){const t=Array.isArray(e[0])?e[0]:e;return F$(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Y$(e,t){const n=[],{length:i}=e;for(let l=0;l<i;l++)n.push(e[l].apply(null,t));return n}var V$=class{constructor(e){this.value=e}deref(){return this.value}},G$=typeof WeakRef<"u"?WeakRef:V$,X$=0,Nw=1;function yd(){return{s:X$,v:void 0,o:null,p:null}}function Xz(e,t={}){let n=yd();const{resultEqualityCheck:i}=t;let l,c=0;function d(){let p=n;const{length:m}=arguments;for(let x=0,S=m;x<S;x++){const j=arguments[x];if(typeof j=="function"||typeof j=="object"&&j!==null){let C=p.o;C===null&&(p.o=C=new WeakMap);const w=C.get(j);w===void 0?(p=yd(),C.set(j,p)):p=w}else{let C=p.p;C===null&&(p.p=C=new Map);const w=C.get(j);w===void 0?(p=yd(),C.set(j,p)):p=w}}const g=p;let h;if(p.s===Nw)h=p.v;else if(h=e.apply(null,arguments),c++,i){const x=l?.deref?.()??l;x!=null&&i(x,h)&&(h=x,c!==0&&c--),l=typeof h=="object"&&h!==null||typeof h=="function"?new G$(h):h}return g.s=Nw,g.v=h,h}return d.clearCache=()=>{n=yd(),d.resetResultsCount()},d.resultsCount=()=>c,d.resetResultsCount=()=>{c=0},d}function Q$(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,i=(...l)=>{let c=0,d=0,p,m={},g=l.pop();typeof g=="object"&&(m=g,g=l.pop()),U$(g,`createSelector expects an output function after the inputs, but received: [${typeof g}]`);const h={...n,...m},{memoize:x,memoizeOptions:S=[],argsMemoize:j=Xz,argsMemoizeOptions:C=[]}=h,w=Pw(S),k=Pw(C),z=K$(l),E=x(function(){return c++,g.apply(null,arguments)},...w),A=j(function(){d++;const T=Y$(z,arguments);return p=E.apply(null,T),p},...k);return Object.assign(A,{resultFunc:g,memoizedResultFunc:E,dependencies:z,dependencyRecomputations:()=>d,resetDependencyRecomputations:()=>{d=0},lastResult:()=>p,recomputations:()=>c,resetRecomputations:()=>{c=0},memoize:x,argsMemoize:j})};return Object.assign(i,{withTypes:()=>i}),i}var de=Q$(Xz),Z$=Object.assign((e,t=de)=>{H$(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),i=n.map(c=>e[c]);return t(i,(...c)=>c.reduce((d,p,m)=>(d[n[m]]=p,d),{}))},{withTypes:()=>Z$}),zh={},_h={},Th={},Lw;function J$(){return Lw||(Lw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,l,c)=>{if(i!==l){const d=t(i),p=t(l);if(d===p&&d===0){if(i<l)return c==="desc"?1:-1;if(i>l)return c==="desc"?-1:1}return c==="desc"?p-d:d-p}return 0};e.compareValues=n})(Th)),Th}var Ah={},Eh={},Ww;function Qz(){return Ww||(Ww=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Eh)),Eh}var Bw;function eP(){return Bw||(Bw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qz(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function l(c,d){return Array.isArray(c)?!1:typeof c=="number"||typeof c=="boolean"||c==null||t.isSymbol(c)?!0:typeof c=="string"&&(i.test(c)||!n.test(c))||d!=null&&Object.hasOwn(d,c)}e.isKey=l})(Ah)),Ah}var Iw;function tP(){return Iw||(Iw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J$(),n=eP(),i=Px();function l(c,d,p,m){if(c==null)return[];p=m?void 0:p,Array.isArray(c)||(c=Object.values(c)),Array.isArray(d)||(d=d==null?[null]:[d]),d.length===0&&(d=[null]),Array.isArray(p)||(p=p==null?[]:[p]),p=p.map(j=>String(j));const g=(j,C)=>{let w=j;for(let k=0;k<C.length&&w!=null;++k)w=w[C[k]];return w},h=(j,C)=>C==null||j==null?C:typeof j=="object"&&"key"in j?Object.hasOwn(C,j.key)?C[j.key]:g(C,j.path):typeof j=="function"?j(C):Array.isArray(j)?g(C,j):typeof C=="object"?C[j]:C,x=d.map(j=>(Array.isArray(j)&&j.length===1&&(j=j[0]),j==null||typeof j=="function"||Array.isArray(j)||n.isKey(j)?j:{key:j,path:i.toPath(j)}));return c.map(j=>({original:j,criteria:x.map(C=>h(C,j))})).slice().sort((j,C)=>{for(let w=0;w<x.length;w++){const k=t.compareValues(j.criteria[w],C.criteria[w],p[w]);if(k!==0)return k}return 0}).map(j=>j.original)}e.orderBy=l})(_h)),_h}var Oh={},qw;function rP(){return qw||(qw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i=1){const l=[],c=Math.floor(i),d=(p,m)=>{for(let g=0;g<p.length;g++){const h=p[g];Array.isArray(h)&&m<c?d(h,m+1):l.push(h)}};return d(n,0),l}e.flatten=t})(Oh)),Oh}var Mh={},Uw;function Zz(){return Uw||(Uw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vz(),n=Vx(),i=qz(),l=Hz();function c(d,p,m){return i.isObject(m)&&(typeof p=="number"&&n.isArrayLike(m)&&t.isIndex(p)&&p<m.length||typeof p=="string"&&p in m)?l.eq(m[p],d):!1}e.isIterateeCall=c})(Mh)),Mh}var Hw;function nP(){return Hw||(Hw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tP(),n=rP(),i=Zz();function l(c,...d){const p=d.length;return p>1&&i.isIterateeCall(c,d[0],d[1])?d=[]:p>2&&i.isIterateeCall(d[0],d[1],d[2])&&(d=[d[0]]),t.orderBy(c,n.flatten(d),["asc"])}e.sortBy=l})(zh)),zh}var Rh,Fw;function iP(){return Fw||(Fw=1,Rh=nP().sortBy),Rh}var oP=iP();const Kf=yo(oP);var Jz=e=>e.legend.settings,aP=e=>e.legend.size,sP=e=>e.legend.payload,lP=de([sP,Jz],(e,t)=>{var{itemSorter:n}=t,i=e.flat(1);return n?Kf(i,n):i});function cP(){return Ue(lP)}var xd=1;function e_(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=y.useState({height:0,left:0,top:0,width:0}),i=y.useCallback(l=>{if(l!=null){var c=l.getBoundingClientRect(),d={height:c.height,left:c.left,top:c.top,width:c.width};(Math.abs(d.height-t.height)>xd||Math.abs(d.left-t.left)>xd||Math.abs(d.top-t.top)>xd||Math.abs(d.width-t.width)>xd)&&n({height:d.height,left:d.left,top:d.top,width:d.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,i]}function Hr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var uP=typeof Symbol=="function"&&Symbol.observable||"@@observable",Kw=uP,Dh=()=>Math.random().toString(36).substring(7).split("").join("."),dP={INIT:`@@redux/INIT${Dh()}`,REPLACE:`@@redux/REPLACE${Dh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dh()}`},tf=dP;function Qx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function t_(e,t,n){if(typeof e!="function")throw new Error(Hr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Hr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Hr(1));return n(t_)(e,t)}let i=e,l=t,c=new Map,d=c,p=0,m=!1;function g(){d===c&&(d=new Map,c.forEach((k,z)=>{d.set(z,k)}))}function h(){if(m)throw new Error(Hr(3));return l}function x(k){if(typeof k!="function")throw new Error(Hr(4));if(m)throw new Error(Hr(5));let z=!0;g();const E=p++;return d.set(E,k),function(){if(z){if(m)throw new Error(Hr(6));z=!1,g(),d.delete(E),c=null}}}function S(k){if(!Qx(k))throw new Error(Hr(7));if(typeof k.type>"u")throw new Error(Hr(8));if(typeof k.type!="string")throw new Error(Hr(17));if(m)throw new Error(Hr(9));try{m=!0,l=i(l,k)}finally{m=!1}return(c=d).forEach(E=>{E()}),k}function j(k){if(typeof k!="function")throw new Error(Hr(10));i=k,S({type:tf.REPLACE})}function C(){const k=x;return{subscribe(z){if(typeof z!="object"||z===null)throw new Error(Hr(11));function E(){const D=z;D.next&&D.next(h())}return E(),{unsubscribe:k(E)}},[Kw](){return this}}}return S({type:tf.INIT}),{dispatch:S,subscribe:x,getState:h,replaceReducer:j,[Kw]:C}}function fP(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:tf.INIT})>"u")throw new Error(Hr(12));if(typeof n(void 0,{type:tf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Hr(13))})}function r_(e){const t=Object.keys(e),n={};for(let c=0;c<t.length;c++){const d=t[c];typeof e[d]=="function"&&(n[d]=e[d])}const i=Object.keys(n);let l;try{fP(n)}catch(c){l=c}return function(d={},p){if(l)throw l;let m=!1;const g={};for(let h=0;h<i.length;h++){const x=i[h],S=n[x],j=d[x],C=S(j,p);if(typeof C>"u")throw p&&p.type,new Error(Hr(14));g[x]=C,m=m||C!==j}return m=m||i.length!==Object.keys(d).length,m?g:d}}function rf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function pP(...e){return t=>(n,i)=>{const l=t(n,i);let c=()=>{throw new Error(Hr(15))};const d={getState:l.getState,dispatch:(m,...g)=>c(m,...g)},p=e.map(m=>m(d));return c=rf(...p)(l.dispatch),{...l,dispatch:c}}}function n_(e){return Qx(e)&&"type"in e&&typeof e.type=="string"}var i_=Symbol.for("immer-nothing"),Yw=Symbol.for("immer-draftable"),Pn=Symbol.for("immer-state");function gi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ls=Object.getPrototypeOf;function qa(e){return!!e&&!!e[Pn]}function po(e){return e?o_(e)||Array.isArray(e)||!!e[Yw]||!!e.constructor?.[Yw]||Nc(e)||Vf(e):!1}var gP=Object.prototype.constructor.toString();function o_(e){if(!e||typeof e!="object")return!1;const t=Ls(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===gP}function nf(e,t){Yf(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,i)=>t(i,n,e))}function Yf(e){const t=e[Pn];return t?t.type_:Array.isArray(e)?1:Nc(e)?2:Vf(e)?3:0}function Ry(e,t){return Yf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function a_(e,t,n){const i=Yf(e);i===2?e.set(t,n):i===3?e.add(n):e[t]=n}function mP(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Nc(e){return e instanceof Map}function Vf(e){return e instanceof Set}function Ea(e){return e.copy_||e.base_}function Dy(e,t){if(Nc(e))return new Map(e);if(Vf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=o_(e);if(t===!0||t==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(e);delete i[Pn];let l=Reflect.ownKeys(i);for(let c=0;c<l.length;c++){const d=l[c],p=i[d];p.writable===!1&&(p.writable=!0,p.configurable=!0),(p.get||p.set)&&(i[d]={configurable:!0,writable:!0,enumerable:p.enumerable,value:e[d]})}return Object.create(Ls(e),i)}else{const i=Ls(e);if(i!==null&&n)return{...e};const l=Object.create(i);return Object.assign(l,e)}}function Zx(e,t=!1){return Gf(e)||qa(e)||!po(e)||(Yf(e)>1&&Object.defineProperties(e,{set:{value:vd},add:{value:vd},clear:{value:vd},delete:{value:vd}}),Object.freeze(e),t&&Object.values(e).forEach(n=>Zx(n,!0))),e}function vd(){gi(2)}function Gf(e){return Object.isFrozen(e)}var hP={};function Ua(e){const t=hP[e];return t||gi(0,e),t}var bc;function s_(){return bc}function yP(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Vw(e,t){t&&(Ua("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $y(e){Py(e),e.drafts_.forEach(xP),e.drafts_=null}function Py(e){e===bc&&(bc=e.parent_)}function Gw(e){return bc=yP(bc,e)}function xP(e){const t=e[Pn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Xw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Pn].modified_&&($y(t),gi(4)),po(e)&&(e=of(t,e),t.parent_||af(t,e)),t.patches_&&Ua("Patches").generateReplacementPatches_(n[Pn].base_,e,t.patches_,t.inversePatches_)):e=of(t,n,[]),$y(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==i_?e:void 0}function of(e,t,n){if(Gf(t))return t;const i=t[Pn];if(!i)return nf(t,(l,c)=>Qw(e,i,t,l,c,n)),t;if(i.scope_!==e)return t;if(!i.modified_)return af(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const l=i.copy_;let c=l,d=!1;i.type_===3&&(c=new Set(l),l.clear(),d=!0),nf(c,(p,m)=>Qw(e,i,l,p,m,n,d)),af(e,l,!1),n&&e.patches_&&Ua("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function Qw(e,t,n,i,l,c,d){if(qa(l)){const p=c&&t&&t.type_!==3&&!Ry(t.assigned_,i)?c.concat(i):void 0,m=of(e,l,p);if(a_(n,i,m),qa(m))e.canAutoFreeze_=!1;else return}else d&&n.add(l);if(po(l)&&!Gf(l)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;of(e,l),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&(Nc(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&af(e,l)}}function af(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Zx(t,n)}function vP(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:s_(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=i,c=Jx;n&&(l=[i],c=Sc);const{revoke:d,proxy:p}=Proxy.revocable(l,c);return i.draft_=p,i.revoke_=d,p}var Jx={get(e,t){if(t===Pn)return e;const n=Ea(e);if(!Ry(n,t))return bP(e,n,t);const i=n[t];return e.finalized_||!po(i)?i:i===$h(e.base_,t)?(Ph(e),e.copy_[t]=Ly(i,e)):i},has(e,t){return t in Ea(e)},ownKeys(e){return Reflect.ownKeys(Ea(e))},set(e,t,n){const i=l_(Ea(e),t);if(i?.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const l=$h(Ea(e),t),c=l?.[Pn];if(c&&c.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(mP(n,l)&&(n!==void 0||Ry(e.base_,t)))return!0;Ph(e),Ny(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return $h(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ph(e),Ny(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ea(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:i.enumerable,value:n[t]}},defineProperty(){gi(11)},getPrototypeOf(e){return Ls(e.base_)},setPrototypeOf(){gi(12)}},Sc={};nf(Jx,(e,t)=>{Sc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Sc.deleteProperty=function(e,t){return Sc.set.call(this,e,t,void 0)};Sc.set=function(e,t,n){return Jx.set.call(this,e[0],t,n,e[0])};function $h(e,t){const n=e[Pn];return(n?Ea(n):e)[t]}function bP(e,t,n){const i=l_(t,n);return i?"value"in i?i.value:i.get?.call(e.draft_):void 0}function l_(e,t){if(!(t in e))return;let n=Ls(e);for(;n;){const i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Ls(n)}}function Ny(e){e.modified_||(e.modified_=!0,e.parent_&&Ny(e.parent_))}function Ph(e){e.copy_||(e.copy_=Dy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var SP=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,i)=>{if(typeof t=="function"&&typeof n!="function"){const c=n;n=t;const d=this;return function(m=c,...g){return d.produce(m,h=>n.call(this,h,...g))}}typeof n!="function"&&gi(6),i!==void 0&&typeof i!="function"&&gi(7);let l;if(po(t)){const c=Gw(this),d=Ly(t,void 0);let p=!0;try{l=n(d),p=!1}finally{p?$y(c):Py(c)}return Vw(c,i),Xw(l,c)}else if(!t||typeof t!="object"){if(l=n(t),l===void 0&&(l=t),l===i_&&(l=void 0),this.autoFreeze_&&Zx(l,!0),i){const c=[],d=[];Ua("Patches").generateReplacementPatches_(t,l,c,d),i(c,d)}return l}else gi(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(d,...p)=>this.produceWithPatches(d,m=>t(m,...p));let i,l;return[this.produce(t,n,(d,p)=>{i=d,l=p}),i,l]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){po(e)||gi(8),qa(e)&&(e=lo(e));const t=Gw(this),n=Ly(e,void 0);return n[Pn].isManual_=!0,Py(t),n}finishDraft(e,t){const n=e&&e[Pn];(!n||!n.isManual_)&&gi(9);const{scope_:i}=n;return Vw(i,t),Xw(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const l=t[n];if(l.path.length===0&&l.op==="replace"){e=l.value;break}}n>-1&&(t=t.slice(n+1));const i=Ua("Patches").applyPatches_;return qa(e)?i(e,t):this.produce(e,l=>i(l,t))}};function Ly(e,t){const n=Nc(e)?Ua("MapSet").proxyMap_(e,t):Vf(e)?Ua("MapSet").proxySet_(e,t):vP(e,t);return(t?t.scope_:s_()).drafts_.push(n),n}function lo(e){return qa(e)||gi(10,e),c_(e)}function c_(e){if(!po(e)||Gf(e))return e;const t=e[Pn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Dy(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Dy(e,!0);return nf(n,(i,l)=>{a_(n,i,c_(l))}),t&&(t.finalized_=!1),n}var jP=new SP,u_=jP.produce;function d_(e){return({dispatch:n,getState:i})=>l=>c=>typeof c=="function"?c(n,i,e):l(c)}var wP=d_(),CP=d_,kP=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rf:rf.apply(null,arguments)};function ri(e,t){function n(...i){if(t){let l=t(...i);if(!l)throw new Error(Rn(0));return{type:e,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:e,payload:i[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=i=>n_(i)&&i.type===e,n}var f_=class dc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,dc.prototype)}static get[Symbol.species](){return dc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new dc(...t[0].concat(this)):new dc(...t.concat(this))}};function Zw(e){return po(e)?u_(e,()=>{}):e}function bd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function zP(e){return typeof e=="boolean"}var _P=()=>function(t){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:l=!0,actionCreatorCheck:c=!0}=t??{};let d=new f_;return n&&(zP(n)?d.push(wP):d.push(CP(n.extraArgument))),d},TP="RTK_autoBatch",Jw=e=>t=>{setTimeout(t,e)},AP=(e={type:"raf"})=>t=>(...n)=>{const i=t(...n);let l=!0,c=!1,d=!1;const p=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Jw(10):e.type==="callback"?e.queueNotification:Jw(e.timeout),g=()=>{d=!1,c&&(c=!1,p.forEach(h=>h()))};return Object.assign({},i,{subscribe(h){const x=()=>l&&h(),S=i.subscribe(x);return p.add(h),()=>{S(),p.delete(h)}},dispatch(h){try{return l=!h?.meta?.[TP],c=!l,c&&(d||(d=!0,m(g))),i.dispatch(h)}finally{l=!0}}})},EP=e=>function(n){const{autoBatch:i=!0}=n??{};let l=new f_(e);return i&&l.push(AP(typeof i=="object"?i:void 0)),l};function OP(e){const t=_P(),{reducer:n=void 0,middleware:i,devTools:l=!0,preloadedState:c=void 0,enhancers:d=void 0}=e||{};let p;if(typeof n=="function")p=n;else if(Qx(n))p=r_(n);else throw new Error(Rn(1));let m;typeof i=="function"?m=i(t):m=t();let g=rf;l&&(g=kP({trace:!1,...typeof l=="object"&&l}));const h=pP(...m),x=EP(h);let S=typeof d=="function"?d(x):x();const j=g(...S);return t_(p,c,j)}function p_(e){const t={},n=[];let i;const l={addCase(c,d){const p=typeof c=="string"?c:c.type;if(!p)throw new Error(Rn(28));if(p in t)throw new Error(Rn(29));return t[p]=d,l},addAsyncThunk(c,d){return d.pending&&(t[c.pending.type]=d.pending),d.rejected&&(t[c.rejected.type]=d.rejected),d.fulfilled&&(t[c.fulfilled.type]=d.fulfilled),d.settled&&n.push({matcher:c.settled,reducer:d.settled}),l},addMatcher(c,d){return n.push({matcher:c,reducer:d}),l},addDefaultCase(c){return i=c,l}};return e(l),[t,n,i]}function MP(e){return typeof e=="function"}function RP(e,t){let[n,i,l]=p_(t),c;if(MP(e))c=()=>Zw(e());else{const p=Zw(e);c=()=>p}function d(p=c(),m){let g=[n[m.type],...i.filter(({matcher:h})=>h(m)).map(({reducer:h})=>h)];return g.filter(h=>!!h).length===0&&(g=[l]),g.reduce((h,x)=>{if(x)if(qa(h)){const j=x(h,m);return j===void 0?h:j}else{if(po(h))return u_(h,S=>x(S,m));{const S=x(h,m);if(S===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return h},p)}return d.getInitialState=c,d}var DP="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$P=(e=21)=>{let t="",n=e;for(;n--;)t+=DP[Math.random()*64|0];return t},PP=Symbol.for("rtk-slice-createasyncthunk");function NP(e,t){return`${e}/${t}`}function LP({creators:e}={}){const t=e?.asyncThunk?.[PP];return function(i){const{name:l,reducerPath:c=l}=i;if(!l)throw new Error(Rn(11));const d=(typeof i.reducers=="function"?i.reducers(BP()):i.reducers)||{},p=Object.keys(d),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(A,D){const T=typeof A=="string"?A:A.type;if(!T)throw new Error(Rn(12));if(T in m.sliceCaseReducersByType)throw new Error(Rn(13));return m.sliceCaseReducersByType[T]=D,g},addMatcher(A,D){return m.sliceMatchers.push({matcher:A,reducer:D}),g},exposeAction(A,D){return m.actionCreators[A]=D,g},exposeCaseReducer(A,D){return m.sliceCaseReducersByName[A]=D,g}};p.forEach(A=>{const D=d[A],T={reducerName:A,type:NP(l,A),createNotation:typeof i.reducers=="function"};qP(D)?HP(T,D,g,t):IP(T,D,g)});function h(){const[A={},D=[],T=void 0]=typeof i.extraReducers=="function"?p_(i.extraReducers):[i.extraReducers],R={...A,...m.sliceCaseReducersByType};return RP(i.initialState,M=>{for(let F in R)M.addCase(F,R[F]);for(let F of m.sliceMatchers)M.addMatcher(F.matcher,F.reducer);for(let F of D)M.addMatcher(F.matcher,F.reducer);T&&M.addDefaultCase(T)})}const x=A=>A,S=new Map,j=new WeakMap;let C;function w(A,D){return C||(C=h()),C(A,D)}function k(){return C||(C=h()),C.getInitialState()}function z(A,D=!1){function T(M){let F=M[A];return typeof F>"u"&&D&&(F=bd(j,T,k)),F}function R(M=x){const F=bd(S,D,()=>new WeakMap);return bd(F,M,()=>{const U={};for(const[le,Z]of Object.entries(i.selectors??{}))U[le]=WP(Z,M,()=>bd(j,M,k),D);return U})}return{reducerPath:A,getSelectors:R,get selectors(){return R(T)},selectSlice:T}}const E={name:l,reducer:w,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:k,...z(c),injectInto(A,{reducerPath:D,...T}={}){const R=D??c;return A.inject({reducerPath:R,reducer:w},T),{...E,...z(R,!0)}}};return E}}function WP(e,t,n,i){function l(c,...d){let p=t(c);return typeof p>"u"&&i&&(p=n()),e(p,...d)}return l.unwrapped=e,l}var Ln=LP();function BP(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function IP({type:e,reducerName:t,createNotation:n},i,l){let c,d;if("reducer"in i){if(n&&!UP(i))throw new Error(Rn(17));c=i.reducer,d=i.prepare}else c=i;l.addCase(e,c).exposeCaseReducer(t,c).exposeAction(t,d?ri(e,d):ri(e))}function qP(e){return e._reducerDefinitionType==="asyncThunk"}function UP(e){return e._reducerDefinitionType==="reducerWithPrepare"}function HP({type:e,reducerName:t},n,i,l){if(!l)throw new Error(Rn(18));const{payloadCreator:c,fulfilled:d,pending:p,rejected:m,settled:g,options:h}=n,x=l(e,c,h);i.exposeAction(t,x),d&&i.addCase(x.fulfilled,d),p&&i.addCase(x.pending,p),m&&i.addCase(x.rejected,m),g&&i.addMatcher(x.settled,g),i.exposeCaseReducer(t,{fulfilled:d||Sd,pending:p||Sd,rejected:m||Sd,settled:g||Sd})}function Sd(){}var FP="task",g_="listener",m_="completed",ev="cancelled",KP=`task-${ev}`,YP=`task-${m_}`,Wy=`${g_}-${ev}`,VP=`${g_}-${m_}`,Xf=class{constructor(e){this.code=e,this.message=`${FP} ${ev} (reason: ${e})`}name="TaskAbortError";message},tv=(e,t)=>{if(typeof e!="function")throw new TypeError(Rn(32))},sf=()=>{},h_=(e,t=sf)=>(e.catch(t),e),y_=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Na=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},La=e=>{if(e.aborted){const{reason:t}=e;throw new Xf(t)}};function x_(e,t){let n=sf;return new Promise((i,l)=>{const c=()=>l(new Xf(e.reason));if(e.aborted){c();return}n=y_(e,c),t.finally(()=>n()).then(i,l)}).finally(()=>{n=sf})}var GP=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Xf?"cancelled":"rejected",error:n}}finally{t?.()}},lf=e=>t=>h_(x_(e,t).then(n=>(La(e),n))),v_=e=>{const t=lf(e);return n=>t(new Promise(i=>setTimeout(i,n)))},{assign:$s}=Object,eC={},Qf="listenerMiddleware",XP=(e,t)=>{const n=i=>y_(e,()=>Na(i,e.reason));return(i,l)=>{tv(i);const c=new AbortController;n(c);const d=GP(async()=>{La(e),La(c.signal);const p=await i({pause:lf(c.signal),delay:v_(c.signal),signal:c.signal});return La(c.signal),p},()=>Na(c,YP));return l?.autoJoin&&t.push(d.catch(sf)),{result:lf(e)(d),cancel(){Na(c,KP)}}}},QP=(e,t)=>{const n=async(i,l)=>{La(t);let c=()=>{};const p=[new Promise((m,g)=>{let h=e({predicate:i,effect:(x,S)=>{S.unsubscribe(),m([x,S.getState(),S.getOriginalState()])}});c=()=>{h(),g()}})];l!=null&&p.push(new Promise(m=>setTimeout(m,l,null)));try{const m=await x_(t,Promise.race(p));return La(t),m}finally{c()}};return(i,l)=>h_(n(i,l))},b_=e=>{let{type:t,actionCreator:n,matcher:i,predicate:l,effect:c}=e;if(t)l=ri(t).match;else if(n)t=n.type,l=n.match;else if(i)l=i;else if(!l)throw new Error(Rn(21));return tv(c),{predicate:l,type:t,effect:c}},S_=$s(e=>{const{type:t,predicate:n,effect:i}=b_(e);return{id:$P(),effect:i,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Rn(22))}}},{withTypes:()=>S_}),tC=(e,t)=>{const{type:n,effect:i,predicate:l}=b_(t);return Array.from(e.values()).find(c=>(typeof n=="string"?c.type===n:c.predicate===l)&&c.effect===i)},By=e=>{e.pending.forEach(t=>{Na(t,Wy)})},ZP=e=>()=>{e.forEach(By),e.clear()},rC=(e,t,n)=>{try{e(t,n)}catch(i){setTimeout(()=>{throw i},0)}},j_=$s(ri(`${Qf}/add`),{withTypes:()=>j_}),JP=ri(`${Qf}/removeAll`),w_=$s(ri(`${Qf}/remove`),{withTypes:()=>w_}),e4=(...e)=>{console.error(`${Qf}/error`,...e)},Lc=(e={})=>{const t=new Map,{extra:n,onError:i=e4}=e;tv(i);const l=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),x=>{h.unsubscribe(),x?.cancelActive&&By(h)}),c=h=>{const x=tC(t,h)??S_(h);return l(x)};$s(c,{withTypes:()=>c});const d=h=>{const x=tC(t,h);return x&&(x.unsubscribe(),h.cancelActive&&By(x)),!!x};$s(d,{withTypes:()=>d});const p=async(h,x,S,j)=>{const C=new AbortController,w=QP(c,C.signal),k=[];try{h.pending.add(C),await Promise.resolve(h.effect(x,$s({},S,{getOriginalState:j,condition:(z,E)=>w(z,E).then(Boolean),take:w,delay:v_(C.signal),pause:lf(C.signal),extra:n,signal:C.signal,fork:XP(C.signal,k),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((z,E,A)=>{z!==C&&(Na(z,Wy),A.delete(z))})},cancel:()=>{Na(C,Wy),h.pending.delete(C)},throwIfCancelled:()=>{La(C.signal)}})))}catch(z){z instanceof Xf||rC(i,z,{raisedBy:"effect"})}finally{await Promise.all(k),Na(C,VP),h.pending.delete(C)}},m=ZP(t);return{middleware:h=>x=>S=>{if(!n_(S))return x(S);if(j_.match(S))return c(S.payload);if(JP.match(S)){m();return}if(w_.match(S))return d(S.payload);let j=h.getState();const C=()=>{if(j===eC)throw new Error(Rn(23));return j};let w;try{if(w=x(S),t.size>0){const k=h.getState(),z=Array.from(t.values());for(const E of z){let A=!1;try{A=E.predicate(S,k,j)}catch(D){A=!1,rC(i,D,{raisedBy:"predicate"})}A&&p(E,S,h,C)}}}finally{j=eC}return w},startListening:c,stopListening:d,clearListeners:m}};function Rn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var t4={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},C_=Ln({name:"chartLayout",initialState:t4,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,i,l,c;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(i=t.payload.right)!==null&&i!==void 0?i:0,e.margin.bottom=(l=t.payload.bottom)!==null&&l!==void 0?l:0,e.margin.left=(c=t.payload.left)!==null&&c!==void 0?c:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:r4,setLayout:n4,setChartSize:i4,setScale:o4}=C_.actions,a4=C_.reducer;function nC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function iC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(n),!0).forEach(function(i){s4(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function s4(e,t,n){return(t=l4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l4(e){var t=c4(e,"string");return typeof t=="symbol"?t:t+""}function c4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cf=Math.PI/180,u4=e=>e*180/Math.PI,Cr=(e,t,n,i)=>({x:e+Math.cos(-cf*i)*n,y:t+Math.sin(-cf*i)*n}),k_=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},d4=(e,t)=>{var{x:n,y:i}=e,{x:l,y:c}=t;return Math.sqrt((n-l)**2+(i-c)**2)},f4=(e,t)=>{var{x:n,y:i}=e,{cx:l,cy:c}=t,d=d4({x:n,y:i},{x:l,y:c});if(d<=0)return{radius:d,angle:0};var p=(n-l)/d,m=Math.acos(p);return i>c&&(m=2*Math.PI-m),{radius:d,angle:u4(m),angleInRadian:m}},p4=e=>{var{startAngle:t,endAngle:n}=e,i=Math.floor(t/360),l=Math.floor(n/360),c=Math.min(i,l);return{startAngle:t-c*360,endAngle:n-c*360}},g4=(e,t)=>{var{startAngle:n,endAngle:i}=t,l=Math.floor(n/360),c=Math.floor(i/360),d=Math.min(l,c);return e+d*360},m4=(e,t)=>{var{x:n,y:i}=e,{radius:l,angle:c}=f4({x:n,y:i},t),{innerRadius:d,outerRadius:p}=t;if(l<d||l>p||l===0)return null;var{startAngle:m,endAngle:g}=p4(t),h=c,x;if(m<=g){for(;h>g;)h-=360;for(;h<m;)h+=360;x=h>=m&&h<=g}else{for(;h>m;)h-=360;for(;h<g;)h+=360;x=h>=g&&h<=m}return x?iC(iC({},t),{},{radius:l,angle:g4(h,t)}):null};function z_(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function oC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(n),!0).forEach(function(i){h4(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function h4(e,t,n){return(t=y4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y4(e){var t=x4(e,"string");return typeof t=="symbol"?t:t+""}function x4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yt(e,t,n){return or(e)||or(t)?n:$i(t)?Ia(e,t,n):typeof t=="function"?t(e):n}var v4=(e,t,n,i,l)=>{var c,d=-1,p=(c=t?.length)!==null&&c!==void 0?c:0;if(p<=1||e==null)return 0;if(i==="angleAxis"&&l!=null&&Math.abs(Math.abs(l[1]-l[0])-360)<=1e-6)for(var m=0;m<p;m++){var g=m>0?n[m-1].coordinate:n[p-1].coordinate,h=n[m].coordinate,x=m>=p-1?n[0].coordinate:n[m+1].coordinate,S=void 0;if(Pr(h-g)!==Pr(x-h)){var j=[];if(Pr(x-h)===Pr(l[1]-l[0])){S=x;var C=h+l[1]-l[0];j[0]=Math.min(C,(C+g)/2),j[1]=Math.max(C,(C+g)/2)}else{S=g;var w=x+l[1]-l[0];j[0]=Math.min(h,(w+h)/2),j[1]=Math.max(h,(w+h)/2)}var k=[Math.min(h,(S+h)/2),Math.max(h,(S+h)/2)];if(e>k[0]&&e<=k[1]||e>=j[0]&&e<=j[1]){({index:d}=n[m]);break}}else{var z=Math.min(g,x),E=Math.max(g,x);if(e>(z+h)/2&&e<=(E+h)/2){({index:d}=n[m]);break}}}else if(t){for(var A=0;A<p;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<p-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===p-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:d}=t[A]);break}}return d},b4=(e,t,n)=>{if(t&&n){var{width:i,height:l}=n,{align:c,verticalAlign:d,layout:p}=t;if((p==="vertical"||p==="horizontal"&&d==="middle")&&c!=="center"&&Ge(e[c]))return Zn(Zn({},e),{},{[c]:e[c]+(i||0)});if((p==="horizontal"||p==="vertical"&&c==="center")&&d!=="middle"&&Ge(e[d]))return Zn(Zn({},e),{},{[d]:e[d]+(l||0)})}return e},aa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",__=(e,t,n,i)=>{if(i)return e.map(p=>p.coordinate);var l,c,d=e.map(p=>(p.coordinate===t&&(l=!0),p.coordinate===n&&(c=!0),p.coordinate));return l||d.push(t),c||d.push(n),d},T_=(e,t,n)=>{if(!e)return null;var{duplicateDomain:i,type:l,range:c,scale:d,realScaleType:p,isCategorical:m,categoricalDomain:g,tickCount:h,ticks:x,niceTicks:S,axisType:j}=e;if(!d)return null;var C=p==="scaleBand"&&d.bandwidth?d.bandwidth()/2:2,w=l==="category"&&d.bandwidth?d.bandwidth()/C:0;if(w=j==="angleAxis"&&c&&c.length>=2?Pr(c[0]-c[1])*2*w:w,x||S){var k=(x||S||[]).map((z,E)=>{var A=i?i.indexOf(z):z;return{coordinate:d(A)+w,value:z,offset:w,index:E}});return k.filter(z=>!$n(z.coordinate))}return m&&g?g.map((z,E)=>({coordinate:d(z)+w,value:z,index:E,offset:w})):d.ticks&&h!=null?d.ticks(h).map((z,E)=>({coordinate:d(z)+w,value:z,offset:w,index:E})):d.domain().map((z,E)=>({coordinate:d(z)+w,value:i?i[z]:z,index:E,offset:w}))},aC=1e-4,S4=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,i=e.range(),l=Math.min(i[0],i[1])-aC,c=Math.max(i[0],i[1])+aC,d=e(t[0]),p=e(t[n-1]);(d<l||d>c||p<l||p>c)&&e.domain([t[0],t[n-1]])}},j4=(e,t)=>{if(!t||t.length!==2||!Ge(t[0])||!Ge(t[1]))return e;var n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),l=[e[0],e[1]];return(!Ge(e[0])||e[0]<n)&&(l[0]=n),(!Ge(e[1])||e[1]>i)&&(l[1]=i),l[0]>i&&(l[0]=i),l[1]<n&&(l[1]=n),l},w4=e=>{var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var l=0,c=0,d=0;d<t;++d){var p=$n(e[d][n][1])?e[d][n][0]:e[d][n][1];p>=0?(e[d][n][0]=l,e[d][n][1]=l+p,l=e[d][n][1]):(e[d][n][0]=c,e[d][n][1]=c+p,c=e[d][n][1])}},C4=e=>{var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var l=0,c=0;c<t;++c){var d=$n(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=l,e[c][n][1]=l+d,l=e[c][n][1]):(e[c][n][0]=0,e[c][n][1]=0)}},k4={sign:w4,expand:e$,none:Ns,silhouette:t$,wiggle:r$,positive:C4},z4=(e,t,n)=>{var i=k4[n],l=J5().keys(t).value((c,d)=>+Yt(c,d,0)).order(Ey).offset(i);return l(e)};function _4(e){return e==null?void 0:String(e)}function sC(e){var{axis:t,ticks:n,bandSize:i,entry:l,index:c,dataKey:d}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!or(l[t.dataKey])){var p=vz(n,"value",l[t.dataKey]);if(p)return p.coordinate+i/2}return n[c]?n[c].coordinate+i/2:null}var m=Yt(l,or(d)?t.dataKey:d);return or(m)?null:t.scale(m)}var lC=e=>{var{axis:t,ticks:n,offset:i,bandSize:l,entry:c,index:d}=e;if(t.type==="category")return n[d]?n[d].coordinate+i:null;var p=Yt(c,t.dataKey,t.scale.domain()[d]);return or(p)?null:t.scale(p)-l/2+i},T4=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var i=Math.min(n[0],n[1]),l=Math.max(n[0],n[1]);return i<=0&&l>=0?0:l<0?l:i}return n[0]},A4=e=>{var t=e.flat(2).filter(Ge);return[Math.min(...t),Math.max(...t)]},E4=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],O4=(e,t,n)=>{if(e!=null)return E4(Object.keys(e).reduce((i,l)=>{var c=e[l],{stackedData:d}=c,p=d.reduce((m,g)=>{var h=z_(g,t,n),x=A4(h);return[Math.min(m[0],x[0]),Math.max(m[1],x[1])]},[1/0,-1/0]);return[Math.min(p[0],i[0]),Math.max(p[1],i[1])]},[1/0,-1/0]))},cC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jc=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&t&&t.length>=2){for(var l=Kf(t,h=>h.coordinate),c=1/0,d=1,p=l.length;d<p;d++){var m=l[d],g=l[d-1];c=Math.min((m.coordinate||0)-(g.coordinate||0),c)}return c===1/0?0:c}return n?void 0:0};function dC(e){var{tooltipEntrySettings:t,dataKey:n,payload:i,value:l,name:c}=e;return Zn(Zn({},t),{},{dataKey:n,payload:i,value:l,name:c})}function Js(e,t){if(e)return String(e);if(typeof t=="string")return t}function M4(e,t,n,i,l){if(n==="horizontal"||n==="vertical"){var c=e>=l.left&&e<=l.left+l.width&&t>=l.top&&t<=l.top+l.height;return c?{x:e,y:t}:null}return i?m4({x:e,y:t},i):null}var R4=(e,t,n,i)=>{var l=t.find(g=>g&&g.index===n);if(l){if(e==="horizontal")return{x:l.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:l.coordinate};if(e==="centric"){var c=l.coordinate,{radius:d}=i;return Zn(Zn(Zn({},i),Cr(i.cx,i.cy,d,c)),{},{angle:c,radius:d})}var p=l.coordinate,{angle:m}=i;return Zn(Zn(Zn({},i),Cr(i.cx,i.cy,p,m)),{},{angle:m,radius:p})}return{x:0,y:0}},D4=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,xo=e=>e.layout.width,vo=e=>e.layout.height,$4=e=>e.layout.scale,A_=e=>e.layout.margin,Zf=de(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Jf=de(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),E_="data-recharts-item-index",O_="data-recharts-item-data-key",Wc=60;function fC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function jd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(n),!0).forEach(function(i){P4(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function P4(e,t,n){return(t=N4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N4(e){var t=L4(e,"string");return typeof t=="symbol"?t:t+""}function L4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W4=e=>e.brush.height;function B4(e){var t=Jf(e);return t.reduce((n,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var l=typeof i.width=="number"?i.width:Wc;return n+l}return n},0)}function I4(e){var t=Jf(e);return t.reduce((n,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var l=typeof i.width=="number"?i.width:Wc;return n+l}return n},0)}function q4(e){var t=Zf(e);return t.reduce((n,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?n+i.height:n,0)}function U4(e){var t=Zf(e);return t.reduce((n,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?n+i.height:n,0)}var Or=de([xo,vo,A_,W4,B4,I4,q4,U4,Jz,aP],(e,t,n,i,l,c,d,p,m,g)=>{var h={left:(n.left||0)+l,right:(n.right||0)+c},x={top:(n.top||0)+d,bottom:(n.bottom||0)+p},S=jd(jd({},x),h),j=S.bottom;S.bottom+=i,S=b4(S,m,g);var C=e-S.left-S.right,w=t-S.top-S.bottom;return jd(jd({brushBottom:j},S),{},{width:Math.max(C,0),height:Math.max(w,0)})}),H4=de(Or,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),rv=de(xo,vo,(e,t)=>({x:0,y:0,width:e,height:t})),F4=y.createContext(null),yn=()=>y.useContext(F4)!=null,ep=e=>e.brush,tp=de([ep,Or,A_],(e,t,n)=>({height:e.height,x:Ge(e.x)?e.x:t.left,y:Ge(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Ge(e.width)?e.width:t.width})),nv=()=>{var e,t=yn(),n=Ue(H4),i=Ue(tp),l=(e=Ue(ep))===null||e===void 0?void 0:e.padding;return!t||!i||!l?n:{width:i.width-l.left-l.right,height:i.height-l.top-l.bottom,x:l.left,y:l.top}},K4={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},M_=()=>{var e;return(e=Ue(Or))!==null&&e!==void 0?e:K4},iv=()=>Ue(xo),ov=()=>Ue(vo),Y4=()=>Ue(e=>e.layout.margin),St=e=>e.layout.layoutType,rp=()=>Ue(St),V4={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},R_=Ln({name:"legend",initialState:V4,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=lo(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:pC,setLegendSettings:G4,addLegendPayload:D_,removeLegendPayload:$_}=R_.actions,X4=R_.reducer,Q4=["contextPayload"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Iy.apply(null,arguments)}function gC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Ws(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(n),!0).forEach(function(i){av(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function av(e,t,n){return(t=Z4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z4(e){var t=J4(e,"string");return typeof t=="symbol"?t:t+""}function J4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e3(e,t){if(e==null)return{};var n,i,l=t3(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function t3(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function r3(e){return e.value}function n3(e){var{contextPayload:t}=e,n=e3(e,Q4),i=Gz(t,e.payloadUniqBy,r3),l=Ws(Ws({},n),{},{payload:i});return y.isValidElement(e.content)?y.cloneElement(e.content,l):typeof e.content=="function"?y.createElement(e.content,l):y.createElement(Yx,l)}function i3(e,t,n,i,l,c){var{layout:d,align:p,verticalAlign:m}=t,g,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(p==="center"&&d==="vertical"?g={left:((i||0)-c.width)/2}:g=p==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?h={top:((l||0)-c.height)/2}:h=m==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Ws(Ws({},g),h)}function o3(e){var t=cr();return y.useEffect(()=>{t(G4(e))},[t,e]),null}function a3(e){var t=cr();return y.useEffect(()=>(t(pC(e)),()=>{t(pC({width:0,height:0}))}),[t,e]),null}function s3(e){var t=cP(),n=w5(),i=Y4(),{width:l,height:c,wrapperStyle:d,portal:p}=e,[m,g]=e_([t]),h=iv(),x=ov();if(h==null||x==null)return null;var S=h-(i.left||0)-(i.right||0),j=Ra.getWidthOrHeight(e.layout,c,l,S),C=p?d:Ws(Ws({position:"absolute",width:j?.width||l||"auto",height:j?.height||c||"auto"},i3(d,e,i,h,x,m)),d),w=p??n;if(w==null)return null;var k=y.createElement("div",{className:"recharts-legend-wrapper",style:C,ref:g},y.createElement(o3,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),y.createElement(a3,{width:m.width,height:m.height}),y.createElement(n3,Iy({},e,j,{margin:i,chartWidth:h,chartHeight:x,contextPayload:t})));return Gd.createPortal(k,w)}class Ra extends y.PureComponent{static getWidthOrHeight(t,n,i,l){return t==="vertical"&&Ge(n)?{height:n}:t==="horizontal"?{width:i||l}:null}render(){return y.createElement(s3,this.props)}}av(Ra,"displayName","Legend");av(Ra,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qy.apply(null,arguments)}function mC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Nh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(n),!0).forEach(function(i){l3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function l3(e,t,n){return(t=c3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c3(e){var t=u3(e,"string");return typeof t=="symbol"?t:t+""}function u3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d3(e){return Array.isArray(e)&&$i(e[0])&&$i(e[1])?e.join(" ~ "):e}var f3=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:i={},labelStyle:l={},payload:c,formatter:d,itemSorter:p,wrapperClassName:m,labelClassName:g,label:h,labelFormatter:x,accessibilityLayer:S=!1}=e,j=()=>{if(c&&c.length){var T={padding:0,margin:0},R=(p?Kf(c,p):c).map((M,F)=>{if(M.type==="none")return null;var U=M.formatter||d||d3,{value:le,name:Z}=M,ie=le,ge=Z;if(U){var fe=U(le,Z,M,F,c);if(Array.isArray(fe))[ie,ge]=fe;else if(fe!=null)ie=fe;else return null}var Ee=Nh({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},i);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:Ee},$i(ge)?y.createElement("span",{className:"recharts-tooltip-item-name"},ge):null,$i(ge)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},ie),y.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:T},R)}return null},C=Nh({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=Nh({margin:0},l),k=!or(h),z=k?h:"",E=Ct("recharts-default-tooltip",m),A=Ct("recharts-tooltip-label",g);k&&x&&c!==void 0&&c!==null&&(z=x(h,c));var D=S?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",qy({className:E,style:C},D),y.createElement("p",{className:A,style:w},y.isValidElement(z)?z:"".concat(z)),j())},ec="recharts-tooltip-wrapper",p3={visibility:"hidden"};function g3(e){var{coordinate:t,translateX:n,translateY:i}=e;return Ct(ec,{["".concat(ec,"-right")]:Ge(n)&&t&&Ge(t.x)&&n>=t.x,["".concat(ec,"-left")]:Ge(n)&&t&&Ge(t.x)&&n<t.x,["".concat(ec,"-bottom")]:Ge(i)&&t&&Ge(t.y)&&i>=t.y,["".concat(ec,"-top")]:Ge(i)&&t&&Ge(t.y)&&i<t.y})}function hC(e){var{allowEscapeViewBox:t,coordinate:n,key:i,offsetTopLeft:l,position:c,reverseDirection:d,tooltipDimension:p,viewBox:m,viewBoxDimension:g}=e;if(c&&Ge(c[i]))return c[i];var h=n[i]-p-(l>0?l:0),x=n[i]+l;if(t[i])return d[i]?h:x;var S=m[i];if(S==null)return 0;if(d[i]){var j=h,C=S;return j<C?Math.max(x,S):Math.max(h,S)}if(g==null)return 0;var w=x+p,k=S+g;return w>k?Math.max(h,S):Math.max(x,S)}function m3(e){var{translateX:t,translateY:n,useTranslate3d:i}=e;return{transform:i?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function h3(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:i,position:l,reverseDirection:c,tooltipBox:d,useTranslate3d:p,viewBox:m}=e,g,h,x;return d.height>0&&d.width>0&&n?(h=hC({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:i,position:l,reverseDirection:c,tooltipDimension:d.width,viewBox:m,viewBoxDimension:m.width}),x=hC({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:i,position:l,reverseDirection:c,tooltipDimension:d.height,viewBox:m,viewBoxDimension:m.height}),g=m3({translateX:h,translateY:x,useTranslate3d:p})):g=p3,{cssProperties:g,cssClasses:g3({translateX:h,translateY:x,coordinate:n})}}function yC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(n),!0).forEach(function(i){Uy(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Uy(e,t,n){return(t=y3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y3(e){var t=x3(e,"string");return typeof t=="symbol"?t:t+""}function x3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class v3 extends y.PureComponent{constructor(){super(...arguments),Uy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Uy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,i,l,c;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0,y:(l=(c=this.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&l!==void 0?l:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:i,animationEasing:l,children:c,coordinate:d,hasPayload:p,isAnimationActive:m,offset:g,position:h,reverseDirection:x,useTranslate3d:S,viewBox:j,wrapperStyle:C,lastBoundingBox:w,innerRef:k,hasPortalFromProps:z}=this.props,{cssClasses:E,cssProperties:A}=h3({allowEscapeViewBox:n,coordinate:d,offsetTopLeft:g,position:h,reverseDirection:x,tooltipBox:{height:w.height,width:w.width},useTranslate3d:S,viewBox:j}),D=z?{}:wd(wd({transition:m&&t?"transform ".concat(i,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&p?"visible":"hidden",position:"absolute",top:0,left:0}),T=wd(wd({},D),{},{visibility:!this.state.dismissed&&t&&p?"visible":"hidden"},C);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:T,ref:k},c)}}var b3=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),sa={devToolsEnabled:!1,isSsr:b3()},P_=()=>Ue(e=>e.rootProps.accessibilityLayer);function Nn(e){return Number.isFinite(e)}function Bs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hy.apply(null,arguments)}function xC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function vC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(n),!0).forEach(function(i){S3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function S3(e,t,n){return(t=j3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j3(e){var t=w3(e,"string");return typeof t=="symbol"?t:t+""}function w3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bC={curveBasisClosed:q5,curveBasisOpen:U5,curveBasis:I5,curveBumpX:_5,curveBumpY:T5,curveLinearClosed:H5,curveLinear:Hf,curveMonotoneX:F5,curveMonotoneY:K5,curveNatural:Y5,curveStep:V5,curveStepAfter:X5,curveStepBefore:G5},Cd=e=>Nn(e.x)&&Nn(e.y),tc=e=>e.x,rc=e=>e.y,C3=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat($c(e));return(n==="curveMonotone"||n==="curveBump")&&t?bC["".concat(n).concat(t==="vertical"?"Y":"X")]:bC[n]||Hf},k3=e=>{var{type:t="linear",points:n=[],baseLine:i,layout:l,connectNulls:c=!1}=e,d=C3(t,l),p=c?n.filter(Cd):n,m;if(Array.isArray(i)){var g=c?i.filter(x=>Cd(x)):i,h=p.map((x,S)=>vC(vC({},x),{},{base:g[S]}));return l==="vertical"?m=hd().y(rc).x1(tc).x0(x=>x.base.x):m=hd().x(tc).y1(rc).y0(x=>x.base.y),m.defined(Cd).curve(d),m(h)}return l==="vertical"&&Ge(i)?m=hd().y(rc).x1(tc).x0(i):Ge(i)?m=hd().x(tc).y1(rc).y0(i):m=Az().x(tc).y(rc),m.defined(Cd).curve(d),m(p)},sv=e=>{var{className:t,points:n,path:i,pathRef:l}=e;if((!n||!n.length)&&!i)return null;var c=n&&n.length?k3(e):i;return y.createElement("path",Hy({},Li(e),Wx(e),{className:Ct("recharts-curve",t),d:c===null?void 0:c,ref:l}))},z3=["x","y","top","left","width","height","className"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fy.apply(null,arguments)}function SC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function _3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(n),!0).forEach(function(i){T3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function T3(e,t,n){return(t=A3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A3(e){var t=E3(e,"string");return typeof t=="symbol"?t:t+""}function E3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O3(e,t){if(e==null)return{};var n,i,l=M3(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function M3(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var R3=(e,t,n,i,l,c)=>"M".concat(e,",").concat(l,"v").concat(i,"M").concat(c,",").concat(t,"h").concat(n),D3=e=>{var{x:t=0,y:n=0,top:i=0,left:l=0,width:c=0,height:d=0,className:p}=e,m=O3(e,z3),g=_3({x:t,y:n,top:i,left:l,width:c,height:d},m);return!Ge(t)||!Ge(n)||!Ge(c)||!Ge(d)||!Ge(i)||!Ge(l)?null:y.createElement("path",Fy({},lr(g,!0),{className:Ct("recharts-cross",p),d:R3(t,n,c,d,i,l)}))};function $3(e,t,n,i){var l=i/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-l:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-l,width:e==="horizontal"?i:n.width-1,height:e==="horizontal"?n.height-1:i}}function jC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function P3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(n),!0).forEach(function(i){N3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function N3(e,t,n){return(t=L3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L3(e){var t=W3(e,"string");return typeof t=="symbol"?t:t+""}function W3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vr(e,t){var n=P3({},e),i=t,l=Object.keys(t),c=l.reduce((d,p)=>(d[p]===void 0&&i[p]!==void 0&&(d[p]=i[p]),d),n);return c}function B3(){}function wC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function CC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(n),!0).forEach(function(i){I3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function I3(e,t,n){return(t=q3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q3(e){var t=U3(e,"string");return typeof t=="symbol"?t:t+""}function U3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H3=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),N_=(e,t,n)=>e.map(i=>"".concat(H3(i)," ").concat(t,"ms ").concat(n)).join(","),F3=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,i)=>n.filter(l=>i.includes(l))),wc=(e,t)=>Object.keys(t).reduce((n,i)=>CC(CC({},n),{},{[i]:e(i,t[i])}),{});function kC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(n),!0).forEach(function(i){K3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function K3(e,t,n){return(t=Y3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y3(e){var t=V3(e,"string");return typeof t=="symbol"?t:t+""}function V3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uf=(e,t,n)=>e+(t-e)*n,Ky=e=>{var{from:t,to:n}=e;return t!==n},L_=(e,t,n)=>{var i=wc((l,c)=>{if(Ky(c)){var[d,p]=e(c.from,c.to,c.velocity);return Fr(Fr({},c),{},{from:d,velocity:p})}return c},t);return n<1?wc((l,c)=>Ky(c)?Fr(Fr({},c),{},{velocity:uf(c.velocity,i[l].velocity,n),from:uf(c.from,i[l].from,n)}):c,t):L_(e,i,n-1)};function G3(e,t,n,i,l,c){var d,p=i.reduce((S,j)=>Fr(Fr({},S),{},{[j]:{from:e[j],velocity:0,to:t[j]}}),{}),m=()=>wc((S,j)=>j.from,p),g=()=>!Object.values(p).filter(Ky).length,h=null,x=S=>{d||(d=S);var j=S-d,C=j/n.dt;p=L_(n,p,C),l(Fr(Fr(Fr({},e),t),m())),d=S,g()||(h=c.setTimeout(x))};return()=>(h=c.setTimeout(x),()=>{h()})}function X3(e,t,n,i,l,c,d){var p=null,m=l.reduce((x,S)=>Fr(Fr({},x),{},{[S]:[e[S],t[S]]}),{}),g,h=x=>{g||(g=x);var S=(x-g)/i,j=wc((w,k)=>uf(...k,n(S)),m);if(c(Fr(Fr(Fr({},e),t),j)),S<1)p=d.setTimeout(h);else{var C=wc((w,k)=>uf(...k,n(1)),m);c(Fr(Fr(Fr({},e),t),C))}};return()=>(p=d.setTimeout(h),()=>{p()})}const Q3=(e,t,n,i,l,c)=>{var d=F3(e,t);return n.isStepper===!0?G3(e,t,n,d,l,c):X3(e,t,n,i,d,l,c)};var df=1e-4,W_=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],B_=(e,t)=>e.map((n,i)=>n*t**i).reduce((n,i)=>n+i),zC=(e,t)=>n=>{var i=W_(e,t);return B_(i,n)},Z3=(e,t)=>n=>{var i=W_(e,t),l=[...i.map((c,d)=>c*d).slice(1),0];return B_(l,n)},_C=function(){for(var t,n,i,l,c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];if(d.length===1)switch(d[0]){case"linear":[t,i,n,l]=[0,0,1,1];break;case"ease":[t,i,n,l]=[.25,.1,.25,1];break;case"ease-in":[t,i,n,l]=[.42,0,1,1];break;case"ease-out":[t,i,n,l]=[.42,0,.58,1];break;case"ease-in-out":[t,i,n,l]=[0,0,.58,1];break;default:{var m=d[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([t,i,n,l]=m[1].split(")")[0].split(",").map(C=>parseFloat(C)))}}else d.length===4&&([t,i,n,l]=d);var g=zC(t,n),h=zC(i,l),x=Z3(t,n),S=C=>C>1?1:C<0?0:C,j=C=>{for(var w=C>1?1:C,k=w,z=0;z<8;++z){var E=g(k)-w,A=x(k);if(Math.abs(E-w)<df||A<df)return h(k);k=S(k-E/A)}return h(k)};return j.isStepper=!1,j},J3=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:l=17}=t,c=(d,p,m)=>{var g=-(d-p)*n,h=m*i,x=m+(g-h)*l/1e3,S=m*l/1e3+d;return Math.abs(S-p)<df&&Math.abs(x)<df?[p,0]:[S,x]};return c.isStepper=!0,c.dt=l,c},e6=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _C(e);case"spring":return J3();default:if(e.split("(")[0]==="cubic-bezier")return _C(e)}return typeof e=="function"?e:null};function t6(e){var t,n=()=>null,i=!1,l=null,c=d=>{if(!i){if(Array.isArray(d)){if(!d.length)return;var p=d,[m,...g]=p;if(typeof m=="number"){l=e.setTimeout(c.bind(null,g),m);return}c(m),l=e.setTimeout(c.bind(null,g));return}typeof d=="string"&&(t=d,n(t)),typeof d=="object"&&(t=d,n(t)),typeof d=="function"&&d()}};return{stop:()=>{i=!0},start:d=>{i=!1,l&&(l(),l=null),c(d)},subscribe:d=>(n=d,()=>{n=()=>null}),getTimeoutController:()=>e}}class r6{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),l=null,c=d=>{d-i>=n?t(d):typeof requestAnimationFrame=="function"&&(l=requestAnimationFrame(c))};return l=requestAnimationFrame(c),()=>{cancelAnimationFrame(l)}}}function n6(){return t6(new r6)}var i6=y.createContext(n6);function o6(e,t){var n=y.useContext(i6);return y.useMemo(()=>t??n(e),[e,t,n])}var a6={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},TC={t:0},Lh={t:1};function Bc(e){var t=Vr(e,a6),{isActive:n,canBegin:i,duration:l,easing:c,begin:d,onAnimationEnd:p,onAnimationStart:m,children:g}=t,h=o6(t.animationId,t.animationManager),[x,S]=y.useState(n?TC:Lh),j=y.useRef(null);return y.useEffect(()=>{n||S(Lh)},[n]),y.useEffect(()=>{if(!n||!i)return B3;var C=Q3(TC,Lh,e6(c),l,S,h.getTimeoutController()),w=()=>{j.current=C()};return h.start([m,d,w,l,p]),()=>{h.stop(),j.current&&j.current(),p()}},[n,i,l,c,d,m,p,h]),g(x.t)}function Ic(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=y.useRef(vc(t)),i=y.useRef(e);return i.current!==e&&(n.current=vc(t),i.current=e),n.current}function AC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function EC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(n),!0).forEach(function(i){s6(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function s6(e,t,n){return(t=l6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l6(e){var t=c6(e,"string");return typeof t=="symbol"?t:t+""}function c6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ff.apply(null,arguments)}var OC=(e,t,n,i,l)=>{var c=Math.min(Math.abs(n)/2,Math.abs(i)/2),d=i>=0?1:-1,p=n>=0?1:-1,m=i>=0&&n>=0||i<0&&n<0?1:0,g;if(c>0&&l instanceof Array){for(var h=[0,0,0,0],x=0,S=4;x<S;x++)h[x]=l[x]>c?c:l[x];g="M".concat(e,",").concat(t+d*h[0]),h[0]>0&&(g+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(m,",").concat(e+p*h[0],",").concat(t)),g+="L ".concat(e+n-p*h[1],",").concat(t),h[1]>0&&(g+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(m,`,
        `).concat(e+n,",").concat(t+d*h[1])),g+="L ".concat(e+n,",").concat(t+i-d*h[2]),h[2]>0&&(g+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(m,`,
        `).concat(e+n-p*h[2],",").concat(t+i)),g+="L ".concat(e+p*h[3],",").concat(t+i),h[3]>0&&(g+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+i-d*h[3])),g+="Z"}else if(c>0&&l===+l&&l>0){var j=Math.min(c,l);g="M ".concat(e,",").concat(t+d*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+p*j,",").concat(t,`
            L `).concat(e+n-p*j,",").concat(t,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+n,",").concat(t+d*j,`
            L `).concat(e+n,",").concat(t+i-d*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+n-p*j,",").concat(t+i,`
            L `).concat(e+p*j,",").concat(t+i,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e,",").concat(t+i-d*j," Z")}else g="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return g},u6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},I_=e=>{var t=Vr(e,u6),n=y.useRef(null),[i,l]=y.useState(-1);y.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var fe=n.current.getTotalLength();fe&&l(fe)}catch{}},[]);var{x:c,y:d,width:p,height:m,radius:g,className:h}=t,{animationEasing:x,animationDuration:S,animationBegin:j,isAnimationActive:C,isUpdateAnimationActive:w}=t,k=y.useRef(p),z=y.useRef(m),E=y.useRef(c),A=y.useRef(d),D=y.useMemo(()=>({x:c,y:d,width:p,height:m,radius:g}),[c,d,p,m,g]),T=Ic(D,"rectangle-");if(c!==+c||d!==+d||p!==+p||m!==+m||p===0||m===0)return null;var R=Ct("recharts-rectangle",h);if(!w)return y.createElement("path",ff({},lr(t,!0),{className:R,d:OC(c,d,p,m,g)}));var M=k.current,F=z.current,U=E.current,le=A.current,Z="0px ".concat(i===-1?1:i,"px"),ie="".concat(i,"px 0px"),ge=N_(["strokeDasharray"],S,typeof x=="string"?x:void 0);return y.createElement(Bc,{animationId:T,key:T,canBegin:i>0,duration:S,easing:x,isActive:w,begin:j},fe=>{var Ee=pr(M,p,fe),W=pr(F,m,fe),J=pr(U,c,fe),ue=pr(le,d,fe);n.current&&(k.current=Ee,z.current=W,E.current=J,A.current=ue);var _e;return C?fe>0?_e={transition:ge,strokeDasharray:ie}:_e={strokeDasharray:Z}:_e={strokeDasharray:ie},y.createElement("path",ff({},lr(t,!0),{className:R,d:OC(J,ue,Ee,W,g),ref:n,style:EC(EC({},_e),t.style)}))})};function q_(e){var{cx:t,cy:n,radius:i,startAngle:l,endAngle:c}=e,d=Cr(t,n,i,l),p=Cr(t,n,i,c);return{points:[d,p],cx:t,cy:n,radius:i,startAngle:l,endAngle:c}}function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Yy.apply(null,arguments)}var d6=(e,t)=>{var n=Pr(t-e),i=Math.min(Math.abs(t-e),359.999);return n*i},kd=e=>{var{cx:t,cy:n,radius:i,angle:l,sign:c,isExternal:d,cornerRadius:p,cornerIsExternal:m}=e,g=p*(d?1:-1)+i,h=Math.asin(p/g)/cf,x=m?l:l+c*h,S=Cr(t,n,g,x),j=Cr(t,n,i,x),C=m?l-c*h:l,w=Cr(t,n,g*Math.cos(h*cf),C);return{center:S,circleTangency:j,lineTangency:w,theta:h}},U_=e=>{var{cx:t,cy:n,innerRadius:i,outerRadius:l,startAngle:c,endAngle:d}=e,p=d6(c,d),m=c+p,g=Cr(t,n,l,c),h=Cr(t,n,l,m),x="M ".concat(g.x,",").concat(g.y,`
    A `).concat(l,",").concat(l,`,0,
    `).concat(+(Math.abs(p)>180),",").concat(+(c>m),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var S=Cr(t,n,i,c),j=Cr(t,n,i,m);x+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(p)>180),",").concat(+(c<=m),`,
            `).concat(S.x,",").concat(S.y," Z")}else x+="L ".concat(t,",").concat(n," Z");return x},f6=e=>{var{cx:t,cy:n,innerRadius:i,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:p,startAngle:m,endAngle:g}=e,h=Pr(g-m),{circleTangency:x,lineTangency:S,theta:j}=kd({cx:t,cy:n,radius:l,angle:m,sign:h,cornerRadius:c,cornerIsExternal:p}),{circleTangency:C,lineTangency:w,theta:k}=kd({cx:t,cy:n,radius:l,angle:g,sign:-h,cornerRadius:c,cornerIsExternal:p}),z=p?Math.abs(m-g):Math.abs(m-g)-j-k;if(z<0)return d?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):U_({cx:t,cy:n,innerRadius:i,outerRadius:l,startAngle:m,endAngle:g});var E="M ".concat(S.x,",").concat(S.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(l,",").concat(l,",0,").concat(+(z>180),",").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var{circleTangency:A,lineTangency:D,theta:T}=kd({cx:t,cy:n,radius:i,angle:m,sign:h,isExternal:!0,cornerRadius:c,cornerIsExternal:p}),{circleTangency:R,lineTangency:M,theta:F}=kd({cx:t,cy:n,radius:i,angle:g,sign:-h,isExternal:!0,cornerRadius:c,cornerIsExternal:p}),U=p?Math.abs(m-g):Math.abs(m-g)-T-F;if(U<0&&c===0)return"".concat(E,"L").concat(t,",").concat(n,"Z");E+="L".concat(M.x,",").concat(M.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,"Z")}else E+="L".concat(t,",").concat(n,"Z");return E},p6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},H_=e=>{var t=Vr(e,p6),{cx:n,cy:i,innerRadius:l,outerRadius:c,cornerRadius:d,forceCornerRadius:p,cornerIsExternal:m,startAngle:g,endAngle:h,className:x}=t;if(c<l||g===h)return null;var S=Ct("recharts-sector",x),j=c-l,C=Zr(d,j,0,!0),w;return C>0&&Math.abs(g-h)<360?w=f6({cx:n,cy:i,innerRadius:l,outerRadius:c,cornerRadius:Math.min(C,j/2),forceCornerRadius:p,cornerIsExternal:m,startAngle:g,endAngle:h}):w=U_({cx:n,cy:i,innerRadius:l,outerRadius:c,startAngle:g,endAngle:h}),y.createElement("path",Yy({},lr(t,!0),{className:S,d:w}))};function g6(e,t,n){var i,l,c,d;if(e==="horizontal")i=t.x,c=i,l=n.top,d=n.top+n.height;else if(e==="vertical")l=t.y,d=l,i=n.left,c=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:p,cy:m,innerRadius:g,outerRadius:h,angle:x}=t,S=Cr(p,m,g,x),j=Cr(p,m,h,x);i=S.x,l=S.y,c=j.x,d=j.y}else return q_(t);return[{x:i,y:l},{x:c,y:d}]}var Wh={},Bh={},Ih={},MC;function m6(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qz();function n(i){return t.isSymbol(i)?NaN:Number(i)}e.toNumber=n})(Ih)),Ih}var RC;function h6(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m6();function n(i){return i?(i=t.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}e.toFinite=n})(Bh)),Bh}var DC;function y6(){return DC||(DC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zz(),n=h6();function i(l,c,d){d&&typeof d!="number"&&t.isIterateeCall(l,c,d)&&(c=d=void 0),l=n.toFinite(l),c===void 0?(c=l,l=0):c=n.toFinite(c),d=d===void 0?l<c?1:-1:n.toFinite(d);const p=Math.max(Math.ceil((c-l)/(d||1)),0),m=new Array(p);for(let g=0;g<p;g++)m[g]=l,l+=d;return m}e.range=i})(Wh)),Wh}var qh,$C;function x6(){return $C||($C=1,qh=y6().range),qh}var v6=x6();const F_=yo(v6);function Zo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function b6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lv(e){let t,n,i;e.length!==2?(t=Zo,n=(p,m)=>Zo(e(p),m),i=(p,m)=>e(p)-m):(t=e===Zo||e===b6?e:S6,n=e,i=e);function l(p,m,g=0,h=p.length){if(g<h){if(t(m,m)!==0)return h;do{const x=g+h>>>1;n(p[x],m)<0?g=x+1:h=x}while(g<h)}return g}function c(p,m,g=0,h=p.length){if(g<h){if(t(m,m)!==0)return h;do{const x=g+h>>>1;n(p[x],m)<=0?g=x+1:h=x}while(g<h)}return g}function d(p,m,g=0,h=p.length){const x=l(p,m,g,h-1);return x>g&&i(p[x-1],m)>-i(p[x],m)?x-1:x}return{left:l,center:d,right:c}}function S6(){return 0}function K_(e){return e===null?NaN:+e}function*j6(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const w6=lv(Zo),qc=w6.right;lv(K_).center;class PC extends Map{constructor(t,n=z6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,l]of t)this.set(i,l)}get(t){return super.get(NC(this,t))}has(t){return super.has(NC(this,t))}set(t,n){return super.set(C6(this,t),n)}delete(t){return super.delete(k6(this,t))}}function NC({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function C6({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function k6({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function z6(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _6(e=Zo){if(e===Zo)return Y_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function Y_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const T6=Math.sqrt(50),A6=Math.sqrt(10),E6=Math.sqrt(2);function pf(e,t,n){const i=(t-e)/Math.max(0,n),l=Math.floor(Math.log10(i)),c=i/Math.pow(10,l),d=c>=T6?10:c>=A6?5:c>=E6?2:1;let p,m,g;return l<0?(g=Math.pow(10,-l)/d,p=Math.round(e*g),m=Math.round(t*g),p/g<e&&++p,m/g>t&&--m,g=-g):(g=Math.pow(10,l)*d,p=Math.round(e/g),m=Math.round(t/g),p*g<e&&++p,m*g>t&&--m),m<p&&.5<=n&&n<2?pf(e,t,n*2):[p,m,g]}function Vy(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[l,c,d]=i?pf(t,e,n):pf(e,t,n);if(!(c>=l))return[];const p=c-l+1,m=new Array(p);if(i)if(d<0)for(let g=0;g<p;++g)m[g]=(c-g)/-d;else for(let g=0;g<p;++g)m[g]=(c-g)*d;else if(d<0)for(let g=0;g<p;++g)m[g]=(l+g)/-d;else for(let g=0;g<p;++g)m[g]=(l+g)*d;return m}function Gy(e,t,n){return t=+t,e=+e,n=+n,pf(e,t,n)[2]}function Xy(e,t,n){t=+t,e=+e,n=+n;const i=t<e,l=i?Gy(t,e,n):Gy(e,t,n);return(i?-1:1)*(l<0?1/-l:l)}function LC(e,t){let n;for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function WC(e,t){let n;for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function V_(e,t,n=0,i=1/0,l){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(l=l===void 0?Y_:_6(l);i>n;){if(i-n>600){const m=i-n+1,g=t-n+1,h=Math.log(m),x=.5*Math.exp(2*h/3),S=.5*Math.sqrt(h*x*(m-x)/m)*(g-m/2<0?-1:1),j=Math.max(n,Math.floor(t-g*x/m+S)),C=Math.min(i,Math.floor(t+(m-g)*x/m+S));V_(e,t,j,C,l)}const c=e[t];let d=n,p=i;for(nc(e,n,t),l(e[i],c)>0&&nc(e,n,i);d<p;){for(nc(e,d,p),++d,--p;l(e[d],c)<0;)++d;for(;l(e[p],c)>0;)--p}l(e[n],c)===0?nc(e,n,p):(++p,nc(e,p,i)),p<=t&&(n=p+1),t<=p&&(i=p-1)}return e}function nc(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function O6(e,t,n){if(e=Float64Array.from(j6(e)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return WC(e);if(t>=1)return LC(e);var i,l=(i-1)*t,c=Math.floor(l),d=LC(V_(e,c).subarray(0,c+1)),p=WC(e.subarray(c+1));return d+(p-d)*(l-c)}}function M6(e,t,n=K_){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,l=(i-1)*t,c=Math.floor(l),d=+n(e[c],c,e),p=+n(e[c+1],c+1,e);return d+(p-d)*(l-c)}}function R6(e,t,n){e=+e,t=+t,n=(l=arguments.length)<2?(t=e,e=0,1):l<3?1:+n;for(var i=-1,l=Math.max(0,Math.ceil((t-e)/n))|0,c=new Array(l);++i<l;)c[i]=e+i*n;return c}function oi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function bo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Qy=Symbol("implicit");function cv(){var e=new PC,t=[],n=[],i=Qy;function l(c){let d=e.get(c);if(d===void 0){if(i!==Qy)return i;e.set(c,d=t.push(c)-1)}return n[d%n.length]}return l.domain=function(c){if(!arguments.length)return t.slice();t=[],e=new PC;for(const d of c)e.has(d)||e.set(d,t.push(d)-1);return l},l.range=function(c){return arguments.length?(n=Array.from(c),l):n.slice()},l.unknown=function(c){return arguments.length?(i=c,l):i},l.copy=function(){return cv(t,n).unknown(i)},oi.apply(l,arguments),l}function uv(){var e=cv().unknown(void 0),t=e.domain,n=e.range,i=0,l=1,c,d,p=!1,m=0,g=0,h=.5;delete e.unknown;function x(){var S=t().length,j=l<i,C=j?l:i,w=j?i:l;c=(w-C)/Math.max(1,S-m+g*2),p&&(c=Math.floor(c)),C+=(w-C-c*(S-m))*h,d=c*(1-m),p&&(C=Math.round(C),d=Math.round(d));var k=R6(S).map(function(z){return C+c*z});return n(j?k.reverse():k)}return e.domain=function(S){return arguments.length?(t(S),x()):t()},e.range=function(S){return arguments.length?([i,l]=S,i=+i,l=+l,x()):[i,l]},e.rangeRound=function(S){return[i,l]=S,i=+i,l=+l,p=!0,x()},e.bandwidth=function(){return d},e.step=function(){return c},e.round=function(S){return arguments.length?(p=!!S,x()):p},e.padding=function(S){return arguments.length?(m=Math.min(1,g=+S),x()):m},e.paddingInner=function(S){return arguments.length?(m=Math.min(1,S),x()):m},e.paddingOuter=function(S){return arguments.length?(g=+S,x()):g},e.align=function(S){return arguments.length?(h=Math.max(0,Math.min(1,S)),x()):h},e.copy=function(){return uv(t(),[i,l]).round(p).paddingInner(m).paddingOuter(g).align(h)},oi.apply(x(),arguments)}function G_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return G_(t())},e}function D6(){return G_(uv.apply(null,arguments).paddingInner(1))}function dv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function X_(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Uc(){}var Cc=.7,gf=1/Cc,Ps="\\s*([+-]?\\d+)\\s*",kc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Di="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$6=/^#([0-9a-f]{3,8})$/,P6=new RegExp(`^rgb\\(${Ps},${Ps},${Ps}\\)$`),N6=new RegExp(`^rgb\\(${Di},${Di},${Di}\\)$`),L6=new RegExp(`^rgba\\(${Ps},${Ps},${Ps},${kc}\\)$`),W6=new RegExp(`^rgba\\(${Di},${Di},${Di},${kc}\\)$`),B6=new RegExp(`^hsl\\(${kc},${Di},${Di}\\)$`),I6=new RegExp(`^hsla\\(${kc},${Di},${Di},${kc}\\)$`),BC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dv(Uc,zc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:IC,formatHex:IC,formatHex8:q6,formatHsl:U6,formatRgb:qC,toString:qC});function IC(){return this.rgb().formatHex()}function q6(){return this.rgb().formatHex8()}function U6(){return Q_(this).formatHsl()}function qC(){return this.rgb().formatRgb()}function zc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$6.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?UC(t):n===3?new hn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?zd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?zd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=P6.exec(e))?new hn(t[1],t[2],t[3],1):(t=N6.exec(e))?new hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=L6.exec(e))?zd(t[1],t[2],t[3],t[4]):(t=W6.exec(e))?zd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=B6.exec(e))?KC(t[1],t[2]/100,t[3]/100,1):(t=I6.exec(e))?KC(t[1],t[2]/100,t[3]/100,t[4]):BC.hasOwnProperty(e)?UC(BC[e]):e==="transparent"?new hn(NaN,NaN,NaN,0):null}function UC(e){return new hn(e>>16&255,e>>8&255,e&255,1)}function zd(e,t,n,i){return i<=0&&(e=t=n=NaN),new hn(e,t,n,i)}function H6(e){return e instanceof Uc||(e=zc(e)),e?(e=e.rgb(),new hn(e.r,e.g,e.b,e.opacity)):new hn}function Zy(e,t,n,i){return arguments.length===1?H6(e):new hn(e,t,n,i??1)}function hn(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}dv(hn,Zy,X_(Uc,{brighter(e){return e=e==null?gf:Math.pow(gf,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cc:Math.pow(Cc,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hn(Wa(this.r),Wa(this.g),Wa(this.b),mf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HC,formatHex:HC,formatHex8:F6,formatRgb:FC,toString:FC}));function HC(){return`#${Da(this.r)}${Da(this.g)}${Da(this.b)}`}function F6(){return`#${Da(this.r)}${Da(this.g)}${Da(this.b)}${Da((isNaN(this.opacity)?1:this.opacity)*255)}`}function FC(){const e=mf(this.opacity);return`${e===1?"rgb(":"rgba("}${Wa(this.r)}, ${Wa(this.g)}, ${Wa(this.b)}${e===1?")":`, ${e})`}`}function mf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Da(e){return e=Wa(e),(e<16?"0":"")+e.toString(16)}function KC(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mi(e,t,n,i)}function Q_(e){if(e instanceof mi)return new mi(e.h,e.s,e.l,e.opacity);if(e instanceof Uc||(e=zc(e)),!e)return new mi;if(e instanceof mi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,l=Math.min(t,n,i),c=Math.max(t,n,i),d=NaN,p=c-l,m=(c+l)/2;return p?(t===c?d=(n-i)/p+(n<i)*6:n===c?d=(i-t)/p+2:d=(t-n)/p+4,p/=m<.5?c+l:2-c-l,d*=60):p=m>0&&m<1?0:d,new mi(d,p,m,e.opacity)}function K6(e,t,n,i){return arguments.length===1?Q_(e):new mi(e,t,n,i??1)}function mi(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}dv(mi,K6,X_(Uc,{brighter(e){return e=e==null?gf:Math.pow(gf,e),new mi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cc:Math.pow(Cc,e),new mi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,l=2*n-i;return new hn(Uh(e>=240?e-240:e+120,l,i),Uh(e,l,i),Uh(e<120?e+240:e-120,l,i),this.opacity)},clamp(){return new mi(YC(this.h),_d(this.s),_d(this.l),mf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mf(this.opacity);return`${e===1?"hsl(":"hsla("}${YC(this.h)}, ${_d(this.s)*100}%, ${_d(this.l)*100}%${e===1?")":`, ${e})`}`}}));function YC(e){return e=(e||0)%360,e<0?e+360:e}function _d(e){return Math.max(0,Math.min(1,e||0))}function Uh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const fv=e=>()=>e;function Y6(e,t){return function(n){return e+n*t}}function V6(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function G6(e){return(e=+e)==1?Z_:function(t,n){return n-t?V6(t,n,e):fv(isNaN(t)?n:t)}}function Z_(e,t){var n=t-e;return n?Y6(e,n):fv(isNaN(e)?t:e)}const VC=(function e(t){var n=G6(t);function i(l,c){var d=n((l=Zy(l)).r,(c=Zy(c)).r),p=n(l.g,c.g),m=n(l.b,c.b),g=Z_(l.opacity,c.opacity);return function(h){return l.r=d(h),l.g=p(h),l.b=m(h),l.opacity=g(h),l+""}}return i.gamma=e,i})(1);function X6(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),l;return function(c){for(l=0;l<n;++l)i[l]=e[l]*(1-c)+t[l]*c;return i}}function Q6(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Z6(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,l=new Array(i),c=new Array(n),d;for(d=0;d<i;++d)l[d]=el(e[d],t[d]);for(;d<n;++d)c[d]=t[d];return function(p){for(d=0;d<i;++d)c[d]=l[d](p);return c}}function J6(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function hf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function eN(e,t){var n={},i={},l;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(l in t)l in e?n[l]=el(e[l],t[l]):i[l]=t[l];return function(c){for(l in n)i[l]=n[l](c);return i}}var Jy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hh=new RegExp(Jy.source,"g");function tN(e){return function(){return e}}function rN(e){return function(t){return e(t)+""}}function nN(e,t){var n=Jy.lastIndex=Hh.lastIndex=0,i,l,c,d=-1,p=[],m=[];for(e=e+"",t=t+"";(i=Jy.exec(e))&&(l=Hh.exec(t));)(c=l.index)>n&&(c=t.slice(n,c),p[d]?p[d]+=c:p[++d]=c),(i=i[0])===(l=l[0])?p[d]?p[d]+=l:p[++d]=l:(p[++d]=null,m.push({i:d,x:hf(i,l)})),n=Hh.lastIndex;return n<t.length&&(c=t.slice(n),p[d]?p[d]+=c:p[++d]=c),p.length<2?m[0]?rN(m[0].x):tN(t):(t=m.length,function(g){for(var h=0,x;h<t;++h)p[(x=m[h]).i]=x.x(g);return p.join("")})}function el(e,t){var n=typeof t,i;return t==null||n==="boolean"?fv(t):(n==="number"?hf:n==="string"?(i=zc(t))?(t=i,VC):nN:t instanceof zc?VC:t instanceof Date?J6:Q6(t)?X6:Array.isArray(t)?Z6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?eN:hf)(e,t)}function pv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function iN(e,t){t===void 0&&(t=e,e=el);for(var n=0,i=t.length-1,l=t[0],c=new Array(i<0?0:i);n<i;)c[n]=e(l,l=t[++n]);return function(d){var p=Math.max(0,Math.min(i-1,Math.floor(d*=i)));return c[p](d-p)}}function oN(e){return function(){return e}}function yf(e){return+e}var GC=[0,1];function on(e){return e}function ex(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:oN(isNaN(t)?NaN:.5)}function aN(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function sN(e,t,n){var i=e[0],l=e[1],c=t[0],d=t[1];return l<i?(i=ex(l,i),c=n(d,c)):(i=ex(i,l),c=n(c,d)),function(p){return c(i(p))}}function lN(e,t,n){var i=Math.min(e.length,t.length)-1,l=new Array(i),c=new Array(i),d=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++d<i;)l[d]=ex(e[d],e[d+1]),c[d]=n(t[d],t[d+1]);return function(p){var m=qc(e,p,1,i)-1;return c[m](l[m](p))}}function Hc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function np(){var e=GC,t=GC,n=el,i,l,c,d=on,p,m,g;function h(){var S=Math.min(e.length,t.length);return d!==on&&(d=aN(e[0],e[S-1])),p=S>2?lN:sN,m=g=null,x}function x(S){return S==null||isNaN(S=+S)?c:(m||(m=p(e.map(i),t,n)))(i(d(S)))}return x.invert=function(S){return d(l((g||(g=p(t,e.map(i),hf)))(S)))},x.domain=function(S){return arguments.length?(e=Array.from(S,yf),h()):e.slice()},x.range=function(S){return arguments.length?(t=Array.from(S),h()):t.slice()},x.rangeRound=function(S){return t=Array.from(S),n=pv,h()},x.clamp=function(S){return arguments.length?(d=S?!0:on,h()):d!==on},x.interpolate=function(S){return arguments.length?(n=S,h()):n},x.unknown=function(S){return arguments.length?(c=S,x):c},function(S,j){return i=S,l=j,h()}}function gv(){return np()(on,on)}function cN(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Is(e){return e=xf(Math.abs(e)),e?e[1]:NaN}function uN(e,t){return function(n,i){for(var l=n.length,c=[],d=0,p=e[0],m=0;l>0&&p>0&&(m+p+1>i&&(p=Math.max(1,i-m)),c.push(n.substring(l-=p,l+p)),!((m+=p+1)>i));)p=e[d=(d+1)%e.length];return c.reverse().join(t)}}function dN(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var fN=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _c(e){if(!(t=fN.exec(e)))throw new Error("invalid format: "+e);var t;return new mv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_c.prototype=mv.prototype;function mv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}mv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pN(e){e:for(var t=e.length,n=1,i=-1,l;n<t;++n)switch(e[n]){case".":i=l=n;break;case"0":i===0&&(i=n),l=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(l+1):e}var J_;function gN(e,t){var n=xf(e,t);if(!n)return e+"";var i=n[0],l=n[1],c=l-(J_=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,d=i.length;return c===d?i:c>d?i+new Array(c-d+1).join("0"):c>0?i.slice(0,c)+"."+i.slice(c):"0."+new Array(1-c).join("0")+xf(e,Math.max(0,t+c-1))[0]}function XC(e,t){var n=xf(e,t);if(!n)return e+"";var i=n[0],l=n[1];return l<0?"0."+new Array(-l).join("0")+i:i.length>l+1?i.slice(0,l+1)+"."+i.slice(l+1):i+new Array(l-i.length+2).join("0")}const QC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cN,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XC(e*100,t),r:XC,s:gN,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ZC(e){return e}var JC=Array.prototype.map,ek=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mN(e){var t=e.grouping===void 0||e.thousands===void 0?ZC:uN(JC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",l=e.decimal===void 0?".":e.decimal+"",c=e.numerals===void 0?ZC:dN(JC.call(e.numerals,String)),d=e.percent===void 0?"%":e.percent+"",p=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function g(x){x=_c(x);var S=x.fill,j=x.align,C=x.sign,w=x.symbol,k=x.zero,z=x.width,E=x.comma,A=x.precision,D=x.trim,T=x.type;T==="n"?(E=!0,T="g"):QC[T]||(A===void 0&&(A=12),D=!0,T="g"),(k||S==="0"&&j==="=")&&(k=!0,S="0",j="=");var R=w==="$"?n:w==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",M=w==="$"?i:/[%p]/.test(T)?d:"",F=QC[T],U=/[defgprs%]/.test(T);A=A===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function le(Z){var ie=R,ge=M,fe,Ee,W;if(T==="c")ge=F(Z)+ge,Z="";else{Z=+Z;var J=Z<0||1/Z<0;if(Z=isNaN(Z)?m:F(Math.abs(Z),A),D&&(Z=pN(Z)),J&&+Z==0&&C!=="+"&&(J=!1),ie=(J?C==="("?C:p:C==="-"||C==="("?"":C)+ie,ge=(T==="s"?ek[8+J_/3]:"")+ge+(J&&C==="("?")":""),U){for(fe=-1,Ee=Z.length;++fe<Ee;)if(W=Z.charCodeAt(fe),48>W||W>57){ge=(W===46?l+Z.slice(fe+1):Z.slice(fe))+ge,Z=Z.slice(0,fe);break}}}E&&!k&&(Z=t(Z,1/0));var ue=ie.length+Z.length+ge.length,_e=ue<z?new Array(z-ue+1).join(S):"";switch(E&&k&&(Z=t(_e+Z,_e.length?z-ge.length:1/0),_e=""),j){case"<":Z=ie+Z+ge+_e;break;case"=":Z=ie+_e+Z+ge;break;case"^":Z=_e.slice(0,ue=_e.length>>1)+ie+Z+ge+_e.slice(ue);break;default:Z=_e+ie+Z+ge;break}return c(Z)}return le.toString=function(){return x+""},le}function h(x,S){var j=g((x=_c(x),x.type="f",x)),C=Math.max(-8,Math.min(8,Math.floor(Is(S)/3)))*3,w=Math.pow(10,-C),k=ek[8+C/3];return function(z){return j(w*z)+k}}return{format:g,formatPrefix:h}}var Td,hv,eT;hN({thousands:",",grouping:[3],currency:["$",""]});function hN(e){return Td=mN(e),hv=Td.format,eT=Td.formatPrefix,Td}function yN(e){return Math.max(0,-Is(Math.abs(e)))}function xN(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Is(t)/3)))*3-Is(Math.abs(e)))}function vN(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Is(t)-Is(e))+1}function tT(e,t,n,i){var l=Xy(e,t,n),c;switch(i=_c(i??",f"),i.type){case"s":{var d=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(c=xN(l,d))&&(i.precision=c),eT(i,d)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(c=vN(l,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=c-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(c=yN(l))&&(i.precision=c-(i.type==="%")*2);break}}return hv(i)}function la(e){var t=e.domain;return e.ticks=function(n){var i=t();return Vy(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var l=t();return tT(l[0],l[l.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),l=0,c=i.length-1,d=i[l],p=i[c],m,g,h=10;for(p<d&&(g=d,d=p,p=g,g=l,l=c,c=g);h-- >0;){if(g=Gy(d,p,n),g===m)return i[l]=d,i[c]=p,t(i);if(g>0)d=Math.floor(d/g)*g,p=Math.ceil(p/g)*g;else if(g<0)d=Math.ceil(d*g)/g,p=Math.floor(p*g)/g;else break;m=g}return e},e}function rT(){var e=gv();return e.copy=function(){return Hc(e,rT())},oi.apply(e,arguments),la(e)}function nT(e){var t;function n(i){return i==null||isNaN(i=+i)?t:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(e=Array.from(i,yf),n):e.slice()},n.unknown=function(i){return arguments.length?(t=i,n):t},n.copy=function(){return nT(e).unknown(t)},e=arguments.length?Array.from(e,yf):[0,1],la(n)}function iT(e,t){e=e.slice();var n=0,i=e.length-1,l=e[n],c=e[i],d;return c<l&&(d=n,n=i,i=d,d=l,l=c,c=d),e[n]=t.floor(l),e[i]=t.ceil(c),e}function tk(e){return Math.log(e)}function rk(e){return Math.exp(e)}function bN(e){return-Math.log(-e)}function SN(e){return-Math.exp(-e)}function jN(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wN(e){return e===10?jN:e===Math.E?Math.exp:t=>Math.pow(e,t)}function CN(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nk(e){return(t,n)=>-e(-t,n)}function yv(e){const t=e(tk,rk),n=t.domain;let i=10,l,c;function d(){return l=CN(i),c=wN(i),n()[0]<0?(l=nk(l),c=nk(c),e(bN,SN)):e(tk,rk),t}return t.base=function(p){return arguments.length?(i=+p,d()):i},t.domain=function(p){return arguments.length?(n(p),d()):n()},t.ticks=p=>{const m=n();let g=m[0],h=m[m.length-1];const x=h<g;x&&([g,h]=[h,g]);let S=l(g),j=l(h),C,w;const k=p==null?10:+p;let z=[];if(!(i%1)&&j-S<k){if(S=Math.floor(S),j=Math.ceil(j),g>0){for(;S<=j;++S)for(C=1;C<i;++C)if(w=S<0?C/c(-S):C*c(S),!(w<g)){if(w>h)break;z.push(w)}}else for(;S<=j;++S)for(C=i-1;C>=1;--C)if(w=S>0?C/c(-S):C*c(S),!(w<g)){if(w>h)break;z.push(w)}z.length*2<k&&(z=Vy(g,h,k))}else z=Vy(S,j,Math.min(j-S,k)).map(c);return x?z.reverse():z},t.tickFormat=(p,m)=>{if(p==null&&(p=10),m==null&&(m=i===10?"s":","),typeof m!="function"&&(!(i%1)&&(m=_c(m)).precision==null&&(m.trim=!0),m=hv(m)),p===1/0)return m;const g=Math.max(1,i*p/t.ticks().length);return h=>{let x=h/c(Math.round(l(h)));return x*i<i-.5&&(x*=i),x<=g?m(h):""}},t.nice=()=>n(iT(n(),{floor:p=>c(Math.floor(l(p))),ceil:p=>c(Math.ceil(l(p)))})),t}function oT(){const e=yv(np()).domain([1,10]);return e.copy=()=>Hc(e,oT()).base(e.base()),oi.apply(e,arguments),e}function ik(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ok(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function xv(e){var t=1,n=e(ik(t),ok(t));return n.constant=function(i){return arguments.length?e(ik(t=+i),ok(t)):t},la(n)}function aT(){var e=xv(np());return e.copy=function(){return Hc(e,aT()).constant(e.constant())},oi.apply(e,arguments)}function ak(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function kN(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zN(e){return e<0?-e*e:e*e}function vv(e){var t=e(on,on),n=1;function i(){return n===1?e(on,on):n===.5?e(kN,zN):e(ak(n),ak(1/n))}return t.exponent=function(l){return arguments.length?(n=+l,i()):n},la(t)}function bv(){var e=vv(np());return e.copy=function(){return Hc(e,bv()).exponent(e.exponent())},oi.apply(e,arguments),e}function _N(){return bv.apply(null,arguments).exponent(.5)}function sk(e){return Math.sign(e)*e*e}function TN(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function sT(){var e=gv(),t=[0,1],n=!1,i;function l(c){var d=TN(e(c));return isNaN(d)?i:n?Math.round(d):d}return l.invert=function(c){return e.invert(sk(c))},l.domain=function(c){return arguments.length?(e.domain(c),l):e.domain()},l.range=function(c){return arguments.length?(e.range((t=Array.from(c,yf)).map(sk)),l):t.slice()},l.rangeRound=function(c){return l.range(c).round(!0)},l.round=function(c){return arguments.length?(n=!!c,l):n},l.clamp=function(c){return arguments.length?(e.clamp(c),l):e.clamp()},l.unknown=function(c){return arguments.length?(i=c,l):i},l.copy=function(){return sT(e.domain(),t).round(n).clamp(e.clamp()).unknown(i)},oi.apply(l,arguments),la(l)}function lT(){var e=[],t=[],n=[],i;function l(){var d=0,p=Math.max(1,t.length);for(n=new Array(p-1);++d<p;)n[d-1]=M6(e,d/p);return c}function c(d){return d==null||isNaN(d=+d)?i:t[qc(n,d)]}return c.invertExtent=function(d){var p=t.indexOf(d);return p<0?[NaN,NaN]:[p>0?n[p-1]:e[0],p<n.length?n[p]:e[e.length-1]]},c.domain=function(d){if(!arguments.length)return e.slice();e=[];for(let p of d)p!=null&&!isNaN(p=+p)&&e.push(p);return e.sort(Zo),l()},c.range=function(d){return arguments.length?(t=Array.from(d),l()):t.slice()},c.unknown=function(d){return arguments.length?(i=d,c):i},c.quantiles=function(){return n.slice()},c.copy=function(){return lT().domain(e).range(t).unknown(i)},oi.apply(c,arguments)}function cT(){var e=0,t=1,n=1,i=[.5],l=[0,1],c;function d(m){return m!=null&&m<=m?l[qc(i,m,0,n)]:c}function p(){var m=-1;for(i=new Array(n);++m<n;)i[m]=((m+1)*t-(m-n)*e)/(n+1);return d}return d.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,p()):[e,t]},d.range=function(m){return arguments.length?(n=(l=Array.from(m)).length-1,p()):l.slice()},d.invertExtent=function(m){var g=l.indexOf(m);return g<0?[NaN,NaN]:g<1?[e,i[0]]:g>=n?[i[n-1],t]:[i[g-1],i[g]]},d.unknown=function(m){return arguments.length&&(c=m),d},d.thresholds=function(){return i.slice()},d.copy=function(){return cT().domain([e,t]).range(l).unknown(c)},oi.apply(la(d),arguments)}function uT(){var e=[.5],t=[0,1],n,i=1;function l(c){return c!=null&&c<=c?t[qc(e,c,0,i)]:n}return l.domain=function(c){return arguments.length?(e=Array.from(c),i=Math.min(e.length,t.length-1),l):e.slice()},l.range=function(c){return arguments.length?(t=Array.from(c),i=Math.min(e.length,t.length-1),l):t.slice()},l.invertExtent=function(c){var d=t.indexOf(c);return[e[d-1],e[d]]},l.unknown=function(c){return arguments.length?(n=c,l):n},l.copy=function(){return uT().domain(e).range(t).unknown(n)},oi.apply(l,arguments)}const Fh=new Date,Kh=new Date;function Mr(e,t,n,i){function l(c){return e(c=arguments.length===0?new Date:new Date(+c)),c}return l.floor=c=>(e(c=new Date(+c)),c),l.ceil=c=>(e(c=new Date(c-1)),t(c,1),e(c),c),l.round=c=>{const d=l(c),p=l.ceil(c);return c-d<p-c?d:p},l.offset=(c,d)=>(t(c=new Date(+c),d==null?1:Math.floor(d)),c),l.range=(c,d,p)=>{const m=[];if(c=l.ceil(c),p=p==null?1:Math.floor(p),!(c<d)||!(p>0))return m;let g;do m.push(g=new Date(+c)),t(c,p),e(c);while(g<c&&c<d);return m},l.filter=c=>Mr(d=>{if(d>=d)for(;e(d),!c(d);)d.setTime(d-1)},(d,p)=>{if(d>=d)if(p<0)for(;++p<=0;)for(;t(d,-1),!c(d););else for(;--p>=0;)for(;t(d,1),!c(d););}),n&&(l.count=(c,d)=>(Fh.setTime(+c),Kh.setTime(+d),e(Fh),e(Kh),Math.floor(n(Fh,Kh))),l.every=c=>(c=Math.floor(c),!isFinite(c)||!(c>0)?null:c>1?l.filter(i?d=>i(d)%c===0:d=>l.count(0,d)%c===0):l)),l}const vf=Mr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Mr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):vf);vf.range;const oo=1e3,Jn=oo*60,ao=Jn*60,go=ao*24,Sv=go*7,lk=go*30,Yh=go*365,$a=Mr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*oo)},(e,t)=>(t-e)/oo,e=>e.getUTCSeconds());$a.range;const jv=Mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oo)},(e,t)=>{e.setTime(+e+t*Jn)},(e,t)=>(t-e)/Jn,e=>e.getMinutes());jv.range;const wv=Mr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Jn)},(e,t)=>(t-e)/Jn,e=>e.getUTCMinutes());wv.range;const Cv=Mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oo-e.getMinutes()*Jn)},(e,t)=>{e.setTime(+e+t*ao)},(e,t)=>(t-e)/ao,e=>e.getHours());Cv.range;const kv=Mr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ao)},(e,t)=>(t-e)/ao,e=>e.getUTCHours());kv.range;const Fc=Mr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jn)/go,e=>e.getDate()-1);Fc.range;const ip=Mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/go,e=>e.getUTCDate()-1);ip.range;const dT=Mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/go,e=>Math.floor(e/go));dT.range;function Ga(e){return Mr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Jn)/Sv)}const op=Ga(0),bf=Ga(1),AN=Ga(2),EN=Ga(3),qs=Ga(4),ON=Ga(5),MN=Ga(6);op.range;bf.range;AN.range;EN.range;qs.range;ON.range;MN.range;function Xa(e){return Mr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Sv)}const ap=Xa(0),Sf=Xa(1),RN=Xa(2),DN=Xa(3),Us=Xa(4),$N=Xa(5),PN=Xa(6);ap.range;Sf.range;RN.range;DN.range;Us.range;$N.range;PN.range;const zv=Mr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zv.range;const _v=Mr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_v.range;const mo=Mr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());mo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});mo.range;const ho=Mr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ho.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ho.range;function fT(e,t,n,i,l,c){const d=[[$a,1,oo],[$a,5,5*oo],[$a,15,15*oo],[$a,30,30*oo],[c,1,Jn],[c,5,5*Jn],[c,15,15*Jn],[c,30,30*Jn],[l,1,ao],[l,3,3*ao],[l,6,6*ao],[l,12,12*ao],[i,1,go],[i,2,2*go],[n,1,Sv],[t,1,lk],[t,3,3*lk],[e,1,Yh]];function p(g,h,x){const S=h<g;S&&([g,h]=[h,g]);const j=x&&typeof x.range=="function"?x:m(g,h,x),C=j?j.range(g,+h+1):[];return S?C.reverse():C}function m(g,h,x){const S=Math.abs(h-g)/x,j=lv(([,,k])=>k).right(d,S);if(j===d.length)return e.every(Xy(g/Yh,h/Yh,x));if(j===0)return vf.every(Math.max(Xy(g,h,x),1));const[C,w]=d[S/d[j-1][2]<d[j][2]/S?j-1:j];return C.every(w)}return[p,m]}const[NN,LN]=fT(ho,_v,ap,dT,kv,wv),[WN,BN]=fT(mo,zv,op,Fc,Cv,jv);function Vh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ic(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function IN(e){var t=e.dateTime,n=e.date,i=e.time,l=e.periods,c=e.days,d=e.shortDays,p=e.months,m=e.shortMonths,g=oc(l),h=ac(l),x=oc(c),S=ac(c),j=oc(d),C=ac(d),w=oc(p),k=ac(p),z=oc(m),E=ac(m),A={a:J,A:ue,b:_e,B:Ae,c:null,d:gk,e:gk,f:u8,g:b8,G:j8,H:s8,I:l8,j:c8,L:pT,m:d8,M:f8,p:N,q,Q:yk,s:xk,S:p8,u:g8,U:m8,V:h8,w:y8,W:x8,x:null,X:null,y:v8,Y:S8,Z:w8,"%":hk},D={a:oe,A:be,b:Se,B:Ce,c:null,d:mk,e:mk,f:_8,g:N8,G:W8,H:C8,I:k8,j:z8,L:mT,m:T8,M:A8,p:Q,q:me,Q:yk,s:xk,S:E8,u:O8,U:M8,V:R8,w:D8,W:$8,x:null,X:null,y:P8,Y:L8,Z:B8,"%":hk},T={a:le,A:Z,b:ie,B:ge,c:fe,d:fk,e:fk,f:n8,g:dk,G:uk,H:pk,I:pk,j:JN,L:r8,m:ZN,M:e8,p:U,q:QN,Q:o8,s:a8,S:t8,u:KN,U:YN,V:VN,w:FN,W:GN,x:Ee,X:W,y:dk,Y:uk,Z:XN,"%":i8};A.x=R(n,A),A.X=R(i,A),A.c=R(t,A),D.x=R(n,D),D.X=R(i,D),D.c=R(t,D);function R(ne,Te){return function(V){var te=[],Pe=-1,Me=0,he=ne.length,B,X,K;for(V instanceof Date||(V=new Date(+V));++Pe<he;)ne.charCodeAt(Pe)===37&&(te.push(ne.slice(Me,Pe)),(X=ck[B=ne.charAt(++Pe)])!=null?B=ne.charAt(++Pe):X=B==="e"?" ":"0",(K=Te[B])&&(B=K(V,X)),te.push(B),Me=Pe+1);return te.push(ne.slice(Me,Pe)),te.join("")}}function M(ne,Te){return function(V){var te=ic(1900,void 0,1),Pe=F(te,ne,V+="",0),Me,he;if(Pe!=V.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(Te&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(Me=Gh(ic(te.y,0,1)),he=Me.getUTCDay(),Me=he>4||he===0?Sf.ceil(Me):Sf(Me),Me=ip.offset(Me,(te.V-1)*7),te.y=Me.getUTCFullYear(),te.m=Me.getUTCMonth(),te.d=Me.getUTCDate()+(te.w+6)%7):(Me=Vh(ic(te.y,0,1)),he=Me.getDay(),Me=he>4||he===0?bf.ceil(Me):bf(Me),Me=Fc.offset(Me,(te.V-1)*7),te.y=Me.getFullYear(),te.m=Me.getMonth(),te.d=Me.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),he="Z"in te?Gh(ic(te.y,0,1)).getUTCDay():Vh(ic(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(he+5)%7:te.w+te.U*7-(he+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,Gh(te)):Vh(te)}}function F(ne,Te,V,te){for(var Pe=0,Me=Te.length,he=V.length,B,X;Pe<Me;){if(te>=he)return-1;if(B=Te.charCodeAt(Pe++),B===37){if(B=Te.charAt(Pe++),X=T[B in ck?Te.charAt(Pe++):B],!X||(te=X(ne,V,te))<0)return-1}else if(B!=V.charCodeAt(te++))return-1}return te}function U(ne,Te,V){var te=g.exec(Te.slice(V));return te?(ne.p=h.get(te[0].toLowerCase()),V+te[0].length):-1}function le(ne,Te,V){var te=j.exec(Te.slice(V));return te?(ne.w=C.get(te[0].toLowerCase()),V+te[0].length):-1}function Z(ne,Te,V){var te=x.exec(Te.slice(V));return te?(ne.w=S.get(te[0].toLowerCase()),V+te[0].length):-1}function ie(ne,Te,V){var te=z.exec(Te.slice(V));return te?(ne.m=E.get(te[0].toLowerCase()),V+te[0].length):-1}function ge(ne,Te,V){var te=w.exec(Te.slice(V));return te?(ne.m=k.get(te[0].toLowerCase()),V+te[0].length):-1}function fe(ne,Te,V){return F(ne,t,Te,V)}function Ee(ne,Te,V){return F(ne,n,Te,V)}function W(ne,Te,V){return F(ne,i,Te,V)}function J(ne){return d[ne.getDay()]}function ue(ne){return c[ne.getDay()]}function _e(ne){return m[ne.getMonth()]}function Ae(ne){return p[ne.getMonth()]}function N(ne){return l[+(ne.getHours()>=12)]}function q(ne){return 1+~~(ne.getMonth()/3)}function oe(ne){return d[ne.getUTCDay()]}function be(ne){return c[ne.getUTCDay()]}function Se(ne){return m[ne.getUTCMonth()]}function Ce(ne){return p[ne.getUTCMonth()]}function Q(ne){return l[+(ne.getUTCHours()>=12)]}function me(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var Te=R(ne+="",A);return Te.toString=function(){return ne},Te},parse:function(ne){var Te=M(ne+="",!1);return Te.toString=function(){return ne},Te},utcFormat:function(ne){var Te=R(ne+="",D);return Te.toString=function(){return ne},Te},utcParse:function(ne){var Te=M(ne+="",!0);return Te.toString=function(){return ne},Te}}}var ck={"-":"",_:" ",0:"0"},Nr=/^\s*\d+/,qN=/^%/,UN=/[\\^$*+?|[\]().{}]/g;function kt(e,t,n){var i=e<0?"-":"",l=(i?-e:e)+"",c=l.length;return i+(c<n?new Array(n-c+1).join(t)+l:l)}function HN(e){return e.replace(UN,"\\$&")}function oc(e){return new RegExp("^(?:"+e.map(HN).join("|")+")","i")}function ac(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function FN(e,t,n){var i=Nr.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function KN(e,t,n){var i=Nr.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function YN(e,t,n){var i=Nr.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function VN(e,t,n){var i=Nr.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function GN(e,t,n){var i=Nr.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function uk(e,t,n){var i=Nr.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function dk(e,t,n){var i=Nr.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function XN(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function QN(e,t,n){var i=Nr.exec(t.slice(n,n+1));return i?(e.q=i[0]*3-3,n+i[0].length):-1}function ZN(e,t,n){var i=Nr.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function fk(e,t,n){var i=Nr.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function JN(e,t,n){var i=Nr.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function pk(e,t,n){var i=Nr.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function e8(e,t,n){var i=Nr.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function t8(e,t,n){var i=Nr.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function r8(e,t,n){var i=Nr.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function n8(e,t,n){var i=Nr.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function i8(e,t,n){var i=qN.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function o8(e,t,n){var i=Nr.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function a8(e,t,n){var i=Nr.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function gk(e,t){return kt(e.getDate(),t,2)}function s8(e,t){return kt(e.getHours(),t,2)}function l8(e,t){return kt(e.getHours()%12||12,t,2)}function c8(e,t){return kt(1+Fc.count(mo(e),e),t,3)}function pT(e,t){return kt(e.getMilliseconds(),t,3)}function u8(e,t){return pT(e,t)+"000"}function d8(e,t){return kt(e.getMonth()+1,t,2)}function f8(e,t){return kt(e.getMinutes(),t,2)}function p8(e,t){return kt(e.getSeconds(),t,2)}function g8(e){var t=e.getDay();return t===0?7:t}function m8(e,t){return kt(op.count(mo(e)-1,e),t,2)}function gT(e){var t=e.getDay();return t>=4||t===0?qs(e):qs.ceil(e)}function h8(e,t){return e=gT(e),kt(qs.count(mo(e),e)+(mo(e).getDay()===4),t,2)}function y8(e){return e.getDay()}function x8(e,t){return kt(bf.count(mo(e)-1,e),t,2)}function v8(e,t){return kt(e.getFullYear()%100,t,2)}function b8(e,t){return e=gT(e),kt(e.getFullYear()%100,t,2)}function S8(e,t){return kt(e.getFullYear()%1e4,t,4)}function j8(e,t){var n=e.getDay();return e=n>=4||n===0?qs(e):qs.ceil(e),kt(e.getFullYear()%1e4,t,4)}function w8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kt(t/60|0,"0",2)+kt(t%60,"0",2)}function mk(e,t){return kt(e.getUTCDate(),t,2)}function C8(e,t){return kt(e.getUTCHours(),t,2)}function k8(e,t){return kt(e.getUTCHours()%12||12,t,2)}function z8(e,t){return kt(1+ip.count(ho(e),e),t,3)}function mT(e,t){return kt(e.getUTCMilliseconds(),t,3)}function _8(e,t){return mT(e,t)+"000"}function T8(e,t){return kt(e.getUTCMonth()+1,t,2)}function A8(e,t){return kt(e.getUTCMinutes(),t,2)}function E8(e,t){return kt(e.getUTCSeconds(),t,2)}function O8(e){var t=e.getUTCDay();return t===0?7:t}function M8(e,t){return kt(ap.count(ho(e)-1,e),t,2)}function hT(e){var t=e.getUTCDay();return t>=4||t===0?Us(e):Us.ceil(e)}function R8(e,t){return e=hT(e),kt(Us.count(ho(e),e)+(ho(e).getUTCDay()===4),t,2)}function D8(e){return e.getUTCDay()}function $8(e,t){return kt(Sf.count(ho(e)-1,e),t,2)}function P8(e,t){return kt(e.getUTCFullYear()%100,t,2)}function N8(e,t){return e=hT(e),kt(e.getUTCFullYear()%100,t,2)}function L8(e,t){return kt(e.getUTCFullYear()%1e4,t,4)}function W8(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Us(e):Us.ceil(e),kt(e.getUTCFullYear()%1e4,t,4)}function B8(){return"+0000"}function hk(){return"%"}function yk(e){return+e}function xk(e){return Math.floor(+e/1e3)}var Ms,yT,xT;I8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function I8(e){return Ms=IN(e),yT=Ms.format,Ms.parse,xT=Ms.utcFormat,Ms.utcParse,Ms}function q8(e){return new Date(e)}function U8(e){return e instanceof Date?+e:+new Date(+e)}function Tv(e,t,n,i,l,c,d,p,m,g){var h=gv(),x=h.invert,S=h.domain,j=g(".%L"),C=g(":%S"),w=g("%I:%M"),k=g("%I %p"),z=g("%a %d"),E=g("%b %d"),A=g("%B"),D=g("%Y");function T(R){return(m(R)<R?j:p(R)<R?C:d(R)<R?w:c(R)<R?k:i(R)<R?l(R)<R?z:E:n(R)<R?A:D)(R)}return h.invert=function(R){return new Date(x(R))},h.domain=function(R){return arguments.length?S(Array.from(R,U8)):S().map(q8)},h.ticks=function(R){var M=S();return e(M[0],M[M.length-1],R??10)},h.tickFormat=function(R,M){return M==null?T:g(M)},h.nice=function(R){var M=S();return(!R||typeof R.range!="function")&&(R=t(M[0],M[M.length-1],R??10)),R?S(iT(M,R)):h},h.copy=function(){return Hc(h,Tv(e,t,n,i,l,c,d,p,m,g))},h}function H8(){return oi.apply(Tv(WN,BN,mo,zv,op,Fc,Cv,jv,$a,yT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function F8(){return oi.apply(Tv(NN,LN,ho,_v,ap,ip,kv,wv,$a,xT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sp(){var e=0,t=1,n,i,l,c,d=on,p=!1,m;function g(x){return x==null||isNaN(x=+x)?m:d(l===0?.5:(x=(c(x)-n)*l,p?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([e,t]=x,n=c(e=+e),i=c(t=+t),l=n===i?0:1/(i-n),g):[e,t]},g.clamp=function(x){return arguments.length?(p=!!x,g):p},g.interpolator=function(x){return arguments.length?(d=x,g):d};function h(x){return function(S){var j,C;return arguments.length?([j,C]=S,d=x(j,C),g):[d(0),d(1)]}}return g.range=h(el),g.rangeRound=h(pv),g.unknown=function(x){return arguments.length?(m=x,g):m},function(x){return c=x,n=x(e),i=x(t),l=n===i?0:1/(i-n),g}}function ca(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function vT(){var e=la(sp()(on));return e.copy=function(){return ca(e,vT())},bo.apply(e,arguments)}function bT(){var e=yv(sp()).domain([1,10]);return e.copy=function(){return ca(e,bT()).base(e.base())},bo.apply(e,arguments)}function ST(){var e=xv(sp());return e.copy=function(){return ca(e,ST()).constant(e.constant())},bo.apply(e,arguments)}function Av(){var e=vv(sp());return e.copy=function(){return ca(e,Av()).exponent(e.exponent())},bo.apply(e,arguments)}function K8(){return Av.apply(null,arguments).exponent(.5)}function jT(){var e=[],t=on;function n(i){if(i!=null&&!isNaN(i=+i))return t((qc(e,i,1)-1)/(e.length-1))}return n.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Zo),n},n.interpolator=function(i){return arguments.length?(t=i,n):t},n.range=function(){return e.map((i,l)=>t(l/(e.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(l,c)=>O6(e,c/i))},n.copy=function(){return jT(t).domain(e)},bo.apply(n,arguments)}function lp(){var e=0,t=.5,n=1,i=1,l,c,d,p,m,g=on,h,x=!1,S;function j(w){return isNaN(w=+w)?S:(w=.5+((w=+h(w))-c)*(i*w<i*c?p:m),g(x?Math.max(0,Math.min(1,w)):w))}j.domain=function(w){return arguments.length?([e,t,n]=w,l=h(e=+e),c=h(t=+t),d=h(n=+n),p=l===c?0:.5/(c-l),m=c===d?0:.5/(d-c),i=c<l?-1:1,j):[e,t,n]},j.clamp=function(w){return arguments.length?(x=!!w,j):x},j.interpolator=function(w){return arguments.length?(g=w,j):g};function C(w){return function(k){var z,E,A;return arguments.length?([z,E,A]=k,g=iN(w,[z,E,A]),j):[g(0),g(.5),g(1)]}}return j.range=C(el),j.rangeRound=C(pv),j.unknown=function(w){return arguments.length?(S=w,j):S},function(w){return h=w,l=w(e),c=w(t),d=w(n),p=l===c?0:.5/(c-l),m=c===d?0:.5/(d-c),i=c<l?-1:1,j}}function wT(){var e=la(lp()(on));return e.copy=function(){return ca(e,wT())},bo.apply(e,arguments)}function CT(){var e=yv(lp()).domain([.1,1,10]);return e.copy=function(){return ca(e,CT()).base(e.base())},bo.apply(e,arguments)}function kT(){var e=xv(lp());return e.copy=function(){return ca(e,kT()).constant(e.constant())},bo.apply(e,arguments)}function Ev(){var e=vv(lp());return e.copy=function(){return ca(e,Ev()).exponent(e.exponent())},bo.apply(e,arguments)}function Y8(){return Ev.apply(null,arguments).exponent(.5)}const fc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:uv,scaleDiverging:wT,scaleDivergingLog:CT,scaleDivergingPow:Ev,scaleDivergingSqrt:Y8,scaleDivergingSymlog:kT,scaleIdentity:nT,scaleImplicit:Qy,scaleLinear:rT,scaleLog:oT,scaleOrdinal:cv,scalePoint:D6,scalePow:bv,scaleQuantile:lT,scaleQuantize:cT,scaleRadial:sT,scaleSequential:vT,scaleSequentialLog:bT,scaleSequentialPow:Av,scaleSequentialQuantile:jT,scaleSequentialSqrt:K8,scaleSequentialSymlog:ST,scaleSqrt:_N,scaleSymlog:aT,scaleThreshold:uT,scaleTime:H8,scaleUtc:F8,tickFormat:tT},Symbol.toStringTag,{value:"Module"}));var ua=e=>e.chartData,Ov=de([ua],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),cp=(e,t,n,i)=>i?Ov(e):ua(e);function Hs(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Nn(t)&&Nn(n))return!0}return!1}function vk(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function V8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,i]=e,l,c;if(Nn(n))l=n;else if(typeof n=="function")return;if(Nn(i))c=i;else if(typeof i=="function")return;var d=[l,c];if(Hs(d))return d}}function G8(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var i=e(t,n);if(Hs(i))return vk(i,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[l,c]=e,d,p;if(l==="auto")t!=null&&(d=Math.min(...t));else if(Ge(l))d=l;else if(typeof l=="function")try{t!=null&&(d=l(t?.[0]))}catch{}else if(typeof l=="string"&&cC.test(l)){var m=cC.exec(l);if(m==null||t==null)d=void 0;else{var g=+m[1];d=t[0]-g}}else d=t?.[0];if(c==="auto")t!=null&&(p=Math.max(...t));else if(Ge(c))p=c;else if(typeof c=="function")try{t!=null&&(p=c(t?.[1]))}catch{}else if(typeof c=="string"&&uC.test(c)){var h=uC.exec(c);if(h==null||t==null)p=void 0;else{var x=+h[1];p=t[1]+x}}else p=t?.[1];var S=[d,p];if(Hs(S))return t==null?S:vk(S,t,n)}}}var tl=1e9,X8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Rv,nr=!0,ni="[DecimalError] ",Ba=ni+"Invalid argument: ",Mv=ni+"Exponent out of range: ",rl=Math.floor,Oa=Math.pow,Q8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,On,$r=1e7,Qt=7,zT=9007199254740991,jf=rl(zT/Qt),Ie={};Ie.absoluteValue=Ie.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ie.comparedTo=Ie.cmp=function(e){var t,n,i,l,c=this;if(e=new c.constructor(e),c.s!==e.s)return c.s||-e.s;if(c.e!==e.e)return c.e>e.e^c.s<0?1:-1;for(i=c.d.length,l=e.d.length,t=0,n=i<l?i:l;t<n;++t)if(c.d[t]!==e.d[t])return c.d[t]>e.d[t]^c.s<0?1:-1;return i===l?0:i>l^c.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Qt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ie.dividedBy=Ie.div=function(e){return co(this,new this.constructor(e))};Ie.dividedToIntegerBy=Ie.idiv=function(e){var t=this,n=t.constructor;return Ht(co(t,new n(e),0,1),n.precision)};Ie.equals=Ie.eq=function(e){return!this.cmp(e)};Ie.exponent=function(){return kr(this)};Ie.greaterThan=Ie.gt=function(e){return this.cmp(e)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(e){return this.cmp(e)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(e){return this.cmp(e)<0};Ie.lessThanOrEqualTo=Ie.lte=function(e){return this.cmp(e)<1};Ie.logarithm=Ie.log=function(e){var t,n=this,i=n.constructor,l=i.precision,c=l+5;if(e===void 0)e=new i(10);else if(e=new i(e),e.s<1||e.eq(On))throw Error(ni+"NaN");if(n.s<1)throw Error(ni+(n.s?"NaN":"-Infinity"));return n.eq(On)?new i(0):(nr=!1,t=co(Tc(n,c),Tc(e,c),c),nr=!0,Ht(t,l))};Ie.minus=Ie.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AT(t,e):_T(t,(e.s=-e.s,e))};Ie.modulo=Ie.mod=function(e){var t,n=this,i=n.constructor,l=i.precision;if(e=new i(e),!e.s)throw Error(ni+"NaN");return n.s?(nr=!1,t=co(n,e,0,1).times(e),nr=!0,n.minus(t)):Ht(new i(n),l)};Ie.naturalExponential=Ie.exp=function(){return TT(this)};Ie.naturalLogarithm=Ie.ln=function(){return Tc(this)};Ie.negated=Ie.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ie.plus=Ie.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_T(t,e):AT(t,(e.s=-e.s,e))};Ie.precision=Ie.sd=function(e){var t,n,i,l=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ba+e);if(t=kr(l)+1,i=l.d.length-1,n=i*Qt+1,i=l.d[i],i){for(;i%10==0;i/=10)n--;for(i=l.d[0];i>=10;i/=10)n++}return e&&t>n?t:n};Ie.squareRoot=Ie.sqrt=function(){var e,t,n,i,l,c,d,p=this,m=p.constructor;if(p.s<1){if(!p.s)return new m(0);throw Error(ni+"NaN")}for(e=kr(p),nr=!1,l=Math.sqrt(+p),l==0||l==1/0?(t=Mi(p.d),(t.length+e)%2==0&&(t+="0"),l=Math.sqrt(t),e=rl((e+1)/2)-(e<0||e%2),l==1/0?t="5e"+e:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),i=new m(t)):i=new m(l.toString()),n=m.precision,l=d=n+3;;)if(c=i,i=c.plus(co(p,c,d+2)).times(.5),Mi(c.d).slice(0,d)===(t=Mi(i.d)).slice(0,d)){if(t=t.slice(d-3,d+1),l==d&&t=="4999"){if(Ht(c,n+1,0),c.times(c).eq(p)){i=c;break}}else if(t!="9999")break;d+=4}return nr=!0,Ht(i,n)};Ie.times=Ie.mul=function(e){var t,n,i,l,c,d,p,m,g,h=this,x=h.constructor,S=h.d,j=(e=new x(e)).d;if(!h.s||!e.s)return new x(0);for(e.s*=h.s,n=h.e+e.e,m=S.length,g=j.length,m<g&&(c=S,S=j,j=c,d=m,m=g,g=d),c=[],d=m+g,i=d;i--;)c.push(0);for(i=g;--i>=0;){for(t=0,l=m+i;l>i;)p=c[l]+j[i]*S[l-i-1]+t,c[l--]=p%$r|0,t=p/$r|0;c[l]=(c[l]+t)%$r|0}for(;!c[--d];)c.pop();return t?++n:c.shift(),e.d=c,e.e=n,nr?Ht(e,x.precision):e};Ie.toDecimalPlaces=Ie.todp=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(Pi(e,0,tl),t===void 0?t=i.rounding:Pi(t,0,8),Ht(n,e+kr(n)+1,t))};Ie.toExponential=function(e,t){var n,i=this,l=i.constructor;return e===void 0?n=Ha(i,!0):(Pi(e,0,tl),t===void 0?t=l.rounding:Pi(t,0,8),i=Ht(new l(i),e+1,t),n=Ha(i,!0,e+1)),n};Ie.toFixed=function(e,t){var n,i,l=this,c=l.constructor;return e===void 0?Ha(l):(Pi(e,0,tl),t===void 0?t=c.rounding:Pi(t,0,8),i=Ht(new c(l),e+kr(l)+1,t),n=Ha(i.abs(),!1,e+kr(i)+1),l.isneg()&&!l.isZero()?"-"+n:n)};Ie.toInteger=Ie.toint=function(){var e=this,t=e.constructor;return Ht(new t(e),kr(e)+1,t.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(e){var t,n,i,l,c,d,p=this,m=p.constructor,g=12,h=+(e=new m(e));if(!e.s)return new m(On);if(p=new m(p),!p.s){if(e.s<1)throw Error(ni+"Infinity");return p}if(p.eq(On))return p;if(i=m.precision,e.eq(On))return Ht(p,i);if(t=e.e,n=e.d.length-1,d=t>=n,c=p.s,d){if((n=h<0?-h:h)<=zT){for(l=new m(On),t=Math.ceil(i/Qt+4),nr=!1;n%2&&(l=l.times(p),Sk(l.d,t)),n=rl(n/2),n!==0;)p=p.times(p),Sk(p.d,t);return nr=!0,e.s<0?new m(On).div(l):Ht(l,i)}}else if(c<0)throw Error(ni+"NaN");return c=c<0&&e.d[Math.max(t,n)]&1?-1:1,p.s=1,nr=!1,l=e.times(Tc(p,i+g)),nr=!0,l=TT(l),l.s=c,l};Ie.toPrecision=function(e,t){var n,i,l=this,c=l.constructor;return e===void 0?(n=kr(l),i=Ha(l,n<=c.toExpNeg||n>=c.toExpPos)):(Pi(e,1,tl),t===void 0?t=c.rounding:Pi(t,0,8),l=Ht(new c(l),e,t),n=kr(l),i=Ha(l,e<=n||n<=c.toExpNeg,e)),i};Ie.toSignificantDigits=Ie.tosd=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):(Pi(e,1,tl),t===void 0?t=i.rounding:Pi(t,0,8)),Ht(new i(n),e,t)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=kr(e),n=e.constructor;return Ha(e,t<=n.toExpNeg||t>=n.toExpPos)};function _T(e,t){var n,i,l,c,d,p,m,g,h=e.constructor,x=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),nr?Ht(t,x):t;if(m=e.d,g=t.d,d=e.e,l=t.e,m=m.slice(),c=d-l,c){for(c<0?(i=m,c=-c,p=g.length):(i=g,l=d,p=m.length),d=Math.ceil(x/Qt),p=d>p?d+1:p+1,c>p&&(c=p,i.length=1),i.reverse();c--;)i.push(0);i.reverse()}for(p=m.length,c=g.length,p-c<0&&(c=p,i=g,g=m,m=i),n=0;c;)n=(m[--c]=m[c]+g[c]+n)/$r|0,m[c]%=$r;for(n&&(m.unshift(n),++l),p=m.length;m[--p]==0;)m.pop();return t.d=m,t.e=l,nr?Ht(t,x):t}function Pi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ba+e)}function Mi(e){var t,n,i,l=e.length-1,c="",d=e[0];if(l>0){for(c+=d,t=1;t<l;t++)i=e[t]+"",n=Qt-i.length,n&&(c+=Go(n)),c+=i;d=e[t],i=d+"",n=Qt-i.length,n&&(c+=Go(n))}else if(d===0)return"0";for(;d%10===0;)d/=10;return c+d}var co=(function(){function e(i,l){var c,d=0,p=i.length;for(i=i.slice();p--;)c=i[p]*l+d,i[p]=c%$r|0,d=c/$r|0;return d&&i.unshift(d),i}function t(i,l,c,d){var p,m;if(c!=d)m=c>d?1:-1;else for(p=m=0;p<c;p++)if(i[p]!=l[p]){m=i[p]>l[p]?1:-1;break}return m}function n(i,l,c){for(var d=0;c--;)i[c]-=d,d=i[c]<l[c]?1:0,i[c]=d*$r+i[c]-l[c];for(;!i[0]&&i.length>1;)i.shift()}return function(i,l,c,d){var p,m,g,h,x,S,j,C,w,k,z,E,A,D,T,R,M,F,U=i.constructor,le=i.s==l.s?1:-1,Z=i.d,ie=l.d;if(!i.s)return new U(i);if(!l.s)throw Error(ni+"Division by zero");for(m=i.e-l.e,M=ie.length,T=Z.length,j=new U(le),C=j.d=[],g=0;ie[g]==(Z[g]||0);)++g;if(ie[g]>(Z[g]||0)&&--m,c==null?E=c=U.precision:d?E=c+(kr(i)-kr(l))+1:E=c,E<0)return new U(0);if(E=E/Qt+2|0,g=0,M==1)for(h=0,ie=ie[0],E++;(g<T||h)&&E--;g++)A=h*$r+(Z[g]||0),C[g]=A/ie|0,h=A%ie|0;else{for(h=$r/(ie[0]+1)|0,h>1&&(ie=e(ie,h),Z=e(Z,h),M=ie.length,T=Z.length),D=M,w=Z.slice(0,M),k=w.length;k<M;)w[k++]=0;F=ie.slice(),F.unshift(0),R=ie[0],ie[1]>=$r/2&&++R;do h=0,p=t(ie,w,M,k),p<0?(z=w[0],M!=k&&(z=z*$r+(w[1]||0)),h=z/R|0,h>1?(h>=$r&&(h=$r-1),x=e(ie,h),S=x.length,k=w.length,p=t(x,w,S,k),p==1&&(h--,n(x,M<S?F:ie,S))):(h==0&&(p=h=1),x=ie.slice()),S=x.length,S<k&&x.unshift(0),n(w,x,k),p==-1&&(k=w.length,p=t(ie,w,M,k),p<1&&(h++,n(w,M<k?F:ie,k))),k=w.length):p===0&&(h++,w=[0]),C[g++]=h,p&&w[0]?w[k++]=Z[D]||0:(w=[Z[D]],k=1);while((D++<T||w[0]!==void 0)&&E--)}return C[0]||C.shift(),j.e=m,Ht(j,d?c+kr(j)+1:c)}})();function TT(e,t){var n,i,l,c,d,p,m=0,g=0,h=e.constructor,x=h.precision;if(kr(e)>16)throw Error(Mv+kr(e));if(!e.s)return new h(On);for(nr=!1,p=x,d=new h(.03125);e.abs().gte(.1);)e=e.times(d),g+=5;for(i=Math.log(Oa(2,g))/Math.LN10*2+5|0,p+=i,n=l=c=new h(On),h.precision=p;;){if(l=Ht(l.times(e),p),n=n.times(++m),d=c.plus(co(l,n,p)),Mi(d.d).slice(0,p)===Mi(c.d).slice(0,p)){for(;g--;)c=Ht(c.times(c),p);return h.precision=x,t==null?(nr=!0,Ht(c,x)):c}c=d}}function kr(e){for(var t=e.e*Qt,n=e.d[0];n>=10;n/=10)t++;return t}function Xh(e,t,n){if(t>e.LN10.sd())throw nr=!0,n&&(e.precision=n),Error(ni+"LN10 precision limit exceeded");return Ht(new e(e.LN10),t)}function Go(e){for(var t="";e--;)t+="0";return t}function Tc(e,t){var n,i,l,c,d,p,m,g,h,x=1,S=10,j=e,C=j.d,w=j.constructor,k=w.precision;if(j.s<1)throw Error(ni+(j.s?"NaN":"-Infinity"));if(j.eq(On))return new w(0);if(t==null?(nr=!1,g=k):g=t,j.eq(10))return t==null&&(nr=!0),Xh(w,g);if(g+=S,w.precision=g,n=Mi(C),i=n.charAt(0),c=kr(j),Math.abs(c)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)j=j.times(e),n=Mi(j.d),i=n.charAt(0),x++;c=kr(j),i>1?(j=new w("0."+n),c++):j=new w(i+"."+n.slice(1))}else return m=Xh(w,g+2,k).times(c+""),j=Tc(new w(i+"."+n.slice(1)),g-S).plus(m),w.precision=k,t==null?(nr=!0,Ht(j,k)):j;for(p=d=j=co(j.minus(On),j.plus(On),g),h=Ht(j.times(j),g),l=3;;){if(d=Ht(d.times(h),g),m=p.plus(co(d,new w(l),g)),Mi(m.d).slice(0,g)===Mi(p.d).slice(0,g))return p=p.times(2),c!==0&&(p=p.plus(Xh(w,g+2,k).times(c+""))),p=co(p,new w(x),g),w.precision=k,t==null?(nr=!0,Ht(p,k)):p;p=m,l+=2}}function bk(e,t){var n,i,l;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;)++i;for(l=t.length;t.charCodeAt(l-1)===48;)--l;if(t=t.slice(i,l),t){if(l-=i,n=n-i-1,e.e=rl(n/Qt),e.d=[],i=(n+1)%Qt,n<0&&(i+=Qt),i<l){for(i&&e.d.push(+t.slice(0,i)),l-=Qt;i<l;)e.d.push(+t.slice(i,i+=Qt));t=t.slice(i),i=Qt-t.length}else i-=l;for(;i--;)t+="0";if(e.d.push(+t),nr&&(e.e>jf||e.e<-jf))throw Error(Mv+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ht(e,t,n){var i,l,c,d,p,m,g,h,x=e.d;for(d=1,c=x[0];c>=10;c/=10)d++;if(i=t-d,i<0)i+=Qt,l=t,g=x[h=0];else{if(h=Math.ceil((i+1)/Qt),c=x.length,h>=c)return e;for(g=c=x[h],d=1;c>=10;c/=10)d++;i%=Qt,l=i-Qt+d}if(n!==void 0&&(c=Oa(10,d-l-1),p=g/c%10|0,m=t<0||x[h+1]!==void 0||g%c,m=n<4?(p||m)&&(n==0||n==(e.s<0?3:2)):p>5||p==5&&(n==4||m||n==6&&(i>0?l>0?g/Oa(10,d-l):0:x[h-1])%10&1||n==(e.s<0?8:7))),t<1||!x[0])return m?(c=kr(e),x.length=1,t=t-c-1,x[0]=Oa(10,(Qt-t%Qt)%Qt),e.e=rl(-t/Qt)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(i==0?(x.length=h,c=1,h--):(x.length=h+1,c=Oa(10,Qt-i),x[h]=l>0?(g/Oa(10,d-l)%Oa(10,l)|0)*c:0),m)for(;;)if(h==0){(x[0]+=c)==$r&&(x[0]=1,++e.e);break}else{if(x[h]+=c,x[h]!=$r)break;x[h--]=0,c=1}for(i=x.length;x[--i]===0;)x.pop();if(nr&&(e.e>jf||e.e<-jf))throw Error(Mv+kr(e));return e}function AT(e,t){var n,i,l,c,d,p,m,g,h,x,S=e.constructor,j=S.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new S(e),nr?Ht(t,j):t;if(m=e.d,x=t.d,i=t.e,g=e.e,m=m.slice(),d=g-i,d){for(h=d<0,h?(n=m,d=-d,p=x.length):(n=x,i=g,p=m.length),l=Math.max(Math.ceil(j/Qt),p)+2,d>l&&(d=l,n.length=1),n.reverse(),l=d;l--;)n.push(0);n.reverse()}else{for(l=m.length,p=x.length,h=l<p,h&&(p=l),l=0;l<p;l++)if(m[l]!=x[l]){h=m[l]<x[l];break}d=0}for(h&&(n=m,m=x,x=n,t.s=-t.s),p=m.length,l=x.length-p;l>0;--l)m[p++]=0;for(l=x.length;l>d;){if(m[--l]<x[l]){for(c=l;c&&m[--c]===0;)m[c]=$r-1;--m[c],m[l]+=$r}m[l]-=x[l]}for(;m[--p]===0;)m.pop();for(;m[0]===0;m.shift())--i;return m[0]?(t.d=m,t.e=i,nr?Ht(t,j):t):new S(0)}function Ha(e,t,n){var i,l=kr(e),c=Mi(e.d),d=c.length;return t?(n&&(i=n-d)>0?c=c.charAt(0)+"."+c.slice(1)+Go(i):d>1&&(c=c.charAt(0)+"."+c.slice(1)),c=c+(l<0?"e":"e+")+l):l<0?(c="0."+Go(-l-1)+c,n&&(i=n-d)>0&&(c+=Go(i))):l>=d?(c+=Go(l+1-d),n&&(i=n-l-1)>0&&(c=c+"."+Go(i))):((i=l+1)<d&&(c=c.slice(0,i)+"."+c.slice(i)),n&&(i=n-d)>0&&(l+1===d&&(c+="."),c+=Go(i))),e.s<0?"-"+c:c}function Sk(e,t){if(e.length>t)return e.length=t,!0}function ET(e){var t,n,i;function l(c){var d=this;if(!(d instanceof l))return new l(c);if(d.constructor=l,c instanceof l){d.s=c.s,d.e=c.e,d.d=(c=c.d)?c.slice():c;return}if(typeof c=="number"){if(c*0!==0)throw Error(Ba+c);if(c>0)d.s=1;else if(c<0)c=-c,d.s=-1;else{d.s=0,d.e=0,d.d=[0];return}if(c===~~c&&c<1e7){d.e=0,d.d=[c];return}return bk(d,c.toString())}else if(typeof c!="string")throw Error(Ba+c);if(c.charCodeAt(0)===45?(c=c.slice(1),d.s=-1):d.s=1,Q8.test(c))bk(d,c);else throw Error(Ba+c)}if(l.prototype=Ie,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=ET,l.config=l.set=Z8,e===void 0&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return l.config(e),l}function Z8(e){if(!e||typeof e!="object")throw Error(ni+"Object expected");var t,n,i,l=["precision",1,tl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<l.length;t+=3)if((i=e[n=l[t]])!==void 0)if(rl(i)===i&&i>=l[t+1]&&i<=l[t+2])this[n]=i;else throw Error(Ba+n+": "+i);if((i=e[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(Ba+n+": "+i);return this}var Rv=ET(X8);On=new Rv(1);const Pt=Rv;var J8=e=>e,OT={},MT=e=>e===OT,jk=e=>function t(){return arguments.length===0||arguments.length===1&&MT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},RT=(e,t)=>e===1?t:jk(function(){for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];var c=i.filter(d=>d!==OT).length;return c>=e?t(...i):RT(e-c,jk(function(){for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];var g=i.map(h=>MT(h)?p.shift():h);return t(...g,...p)}))}),up=e=>RT(e.length,e),tx=(e,t)=>{for(var n=[],i=e;i<t;++i)n[i-e]=i;return n},eL=up((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),tL=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.length)return J8;var l=n.reverse(),c=l[0],d=l.slice(1);return function(){return d.reduce((p,m)=>m(p),c(...arguments))}},rx=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),DT=e=>{var t=null,n=null;return function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return t&&l.every((d,p)=>{var m;return d===((m=t)===null||m===void 0?void 0:m[p])})||(t=l,n=e(...l)),n}};function $T(e){var t;return e===0?t=1:t=Math.floor(new Pt(e).abs().log(10).toNumber())+1,t}function PT(e,t,n){for(var i=new Pt(e),l=0,c=[];i.lt(t)&&l<1e5;)c.push(i.toNumber()),i=i.add(n),l++;return c}up((e,t,n)=>{var i=+e,l=+t;return i+n*(l-i)});up((e,t,n)=>{var i=t-+e;return i=i||1/0,(n-e)/i});up((e,t,n)=>{var i=t-+e;return i=i||1/0,Math.max(0,Math.min(1,(n-e)/i))});var NT=e=>{var[t,n]=e,[i,l]=[t,n];return t>n&&([i,l]=[n,t]),[i,l]},LT=(e,t,n)=>{if(e.lte(0))return new Pt(0);var i=$T(e.toNumber()),l=new Pt(10).pow(i),c=e.div(l),d=i!==1?.05:.1,p=new Pt(Math.ceil(c.div(d).toNumber())).add(n).mul(d),m=p.mul(l);return t?new Pt(m.toNumber()):new Pt(Math.ceil(m.toNumber()))},rL=(e,t,n)=>{var i=new Pt(1),l=new Pt(e);if(!l.isint()&&n){var c=Math.abs(e);c<1?(i=new Pt(10).pow($T(e)-1),l=new Pt(Math.floor(l.div(i).toNumber())).mul(i)):c>1&&(l=new Pt(Math.floor(e)))}else e===0?l=new Pt(Math.floor((t-1)/2)):n||(l=new Pt(Math.floor(e)));var d=Math.floor((t-1)/2),p=tL(eL(m=>l.add(new Pt(m-d).mul(i)).toNumber()),tx);return p(0,t)},WT=function(t,n,i,l){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(i-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var d=LT(new Pt(n).sub(t).div(i-1),l,c),p;t<=0&&n>=0?p=new Pt(0):(p=new Pt(t).add(n).div(2),p=p.sub(new Pt(p).mod(d)));var m=Math.ceil(p.sub(t).div(d).toNumber()),g=Math.ceil(new Pt(n).sub(p).div(d).toNumber()),h=m+g+1;return h>i?WT(t,n,i,l,c+1):(h<i&&(g=n>0?g+(i-h):g,m=n>0?m:m+(i-h)),{step:d,tickMin:p.sub(new Pt(m).mul(d)),tickMax:p.add(new Pt(g).mul(d))})};function nL(e){var[t,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[d,p]=NT([t,n]);if(d===-1/0||p===1/0){var m=p===1/0?[d,...tx(0,i-1).map(()=>1/0)]:[...tx(0,i-1).map(()=>-1/0),p];return t>n?rx(m):m}if(d===p)return rL(d,i,l);var{step:g,tickMin:h,tickMax:x}=WT(d,p,c,l,0),S=PT(h,x.add(new Pt(.1).mul(g)),g);return t>n?rx(S):S}function iL(e,t){var[n,i]=e,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=NT([n,i]);if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var p=Math.max(t,2),m=LT(new Pt(d).sub(c).div(p-1),l,0),g=[...PT(new Pt(c),new Pt(d),m),d];return l===!1&&(g=g.map(h=>Math.round(h))),n>i?rx(g):g}var oL=DT(nL),aL=DT(iL),BT=e=>e.rootProps.maxBarSize,sL=e=>e.rootProps.barGap,IT=e=>e.rootProps.barCategoryGap,lL=e=>e.rootProps.barSize,Kc=e=>e.rootProps.stackOffset,Dv=e=>e.options.chartName,$v=e=>e.rootProps.syncId,qT=e=>e.rootProps.syncMethod,Pv=e=>e.options.eventEmitter,no={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},An={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},dp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},cL={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:no.angleAxisId,includeHidden:!1,name:void 0,reversed:no.reversed,scale:no.scale,tick:no.tick,tickCount:void 0,ticks:void 0,type:no.type,unit:void 0},uL={allowDataOverflow:An.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:An.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:An.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:An.scale,tick:An.tick,tickCount:An.tickCount,ticks:void 0,type:An.type,unit:void 0},dL={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:no.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:no.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:no.scale,tick:no.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},fL={allowDataOverflow:An.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:An.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:An.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:An.scale,tick:An.tick,tickCount:An.tickCount,ticks:void 0,type:"category",unit:void 0},Nv=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?dL:cL,Lv=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?fL:uL,fp=e=>e.polarOptions,Wv=de([xo,vo,Or],k_),UT=de([fp,Wv],(e,t)=>{if(e!=null)return Zr(e.innerRadius,t,0)}),HT=de([fp,Wv],(e,t)=>{if(e!=null)return Zr(e.outerRadius,t,t*.8)}),pL=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},FT=de([fp],pL);de([Nv,FT],dp);var KT=de([Wv,UT,HT],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});de([Lv,KT],dp);var YT=de([St,fp,UT,HT,xo,vo],(e,t,n,i,l,c)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||i==null)){var{cx:d,cy:p,startAngle:m,endAngle:g}=t;return{cx:Zr(d,l,l/2),cy:Zr(p,c,c/2),innerRadius:n,outerRadius:i,startAngle:m,endAngle:g,clockWise:!1}}}),ar=(e,t)=>t,Yc=(e,t,n)=>n;function Bv(e){return e?.id}var Rr=e=>{var t=St(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},nl=e=>e.tooltip.settings.axisId,Lr=e=>{var t=Rr(e),n=nl(e);return Vc(e,t,n)},VT=de([Lr],e=>e?.dataKey);function GT(e,t,n){var{chartData:i=[]}=t,{allowDuplicatedCategory:l,dataKey:c}=n,d=new Map;return e.forEach(p=>{var m,g=(m=p.data)!==null&&m!==void 0?m:i;if(!(g==null||g.length===0)){var h=Bv(p);g.forEach((x,S)=>{var j=c==null||l?S:String(Yt(x,c,null)),C=Yt(x,p.dataKey,0),w;d.has(j)?w=d.get(j):w={},Object.assign(w,{[h]:C}),d.set(j,w)})}}),Array.from(d.values())}function pp(e){return e.stackId!=null&&e.dataKey!=null}function wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function wf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(n),!0).forEach(function(i){gL(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function gL(e,t,n){return(t=mL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mL(e){var t=hL(e,"string");return typeof t=="symbol"?t:t+""}function hL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nx=[0,"auto"],_n={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},XT=(e,t)=>e.cartesianAxis.xAxis[t],So=(e,t)=>{var n=XT(e,t);return n??_n},Tn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:nx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Wc},QT=(e,t)=>e.cartesianAxis.yAxis[t],jo=(e,t)=>{var n=QT(e,t);return n??Tn},yL={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Iv=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??yL},xr=(e,t,n)=>{switch(t){case"xAxis":return So(e,n);case"yAxis":return jo(e,n);case"zAxis":return Iv(e,n);case"angleAxis":return Nv(e,n);case"radiusAxis":return Lv(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},xL=(e,t,n)=>{switch(t){case"xAxis":return So(e,n);case"yAxis":return jo(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Vc=(e,t,n)=>{switch(t){case"xAxis":return So(e,n);case"yAxis":return jo(e,n);case"angleAxis":return Nv(e,n);case"radiusAxis":return Lv(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ZT=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function qv(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var gp=e=>e.graphicalItems.cartesianItems,vL=de([ar,Yc],qv),Uv=(e,t,n)=>e.filter(n).filter(i=>t?.includeHidden===!0?!0:!i.hide),Gc=de([gp,xr,vL],Uv),JT=de([Gc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(pp)),eA=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),tA=de([Gc],eA),Hv=e=>e.map(t=>t.data).filter(Boolean).flat(1),bL=de([Gc],Hv),Fv=(e,t)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:l}=t;return e.length>0?e:n.slice(i,l+1)},Kv=de([bL,cp],Fv),Yv=(e,t,n)=>t?.dataKey!=null?e.map(i=>({value:Yt(i,t.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>e.map(l=>({value:Yt(l,i)}))):e.map(i=>({value:i})),mp=de([Kv,xr,Gc],Yv);function rA(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Qa(e){return e.filter(t=>$i(t)||t instanceof Date).map(Number).filter(t=>$n(t)===!1)}function SL(e,t,n){return!n||typeof t!="number"||$n(t)?[]:n.length?Qa(n.flatMap(i=>{var l=Yt(e,i.dataKey),c,d;if(Array.isArray(l)?[c,d]=l:c=d=l,!(!Nn(c)||!Nn(d)))return[t-c,t+d]})):[]}var jL=de([JT,cp,Lr],GT),nA=(e,t,n)=>{var i={},l=t.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),i);return Object.fromEntries(Object.entries(l).map(c=>{var[d,p]=c,m=p.map(Bv);return[d,{stackedData:z4(e,m,n),graphicalItems:p}]}))},ix=de([jL,JT,Kc],nA),iA=(e,t,n)=>{var{dataStartIndex:i,dataEndIndex:l}=t;if(n!=="zAxis"){var c=O4(e,i,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},wL=de([ix,ua,ar],iA),oA=(e,t,n,i,l)=>n.length>0?e.flatMap(c=>n.flatMap(d=>{var p,m,g=(p=i[d.id])===null||p===void 0?void 0:p.filter(x=>rA(l,x)),h=Yt(c,(m=t.dataKey)!==null&&m!==void 0?m:d.dataKey);return{value:h,errorDomain:SL(c,h,g)}})).filter(Boolean):t?.dataKey!=null?e.map(c=>({value:Yt(c,t.dataKey),errorDomain:[]})):e.map(c=>({value:c,errorDomain:[]})),hp=e=>e.errorBars,aA=(e,t,n)=>e.flatMap(i=>t[i.id]).filter(Boolean).filter(i=>rA(n,i));de([tA,hp,ar],aA);var CL=de([Kv,xr,tA,hp,ar],oA);function kL(e){var{value:t}=e;if($i(t)||t instanceof Date)return t}var Ck=e=>{var t=e.flatMap(i=>[i.value,i.errorDomain]).flat(1),n=Qa(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},zL=(e,t,n)=>{var i=e.map(kL).filter(l=>l!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&xz(i))?F_(0,e.length):t.allowDuplicatedCategory?i:Array.from(new Set(i))},Vv=e=>{var t;if(e==null||!("domain"in e))return nx;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Qa(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:nx},Cf=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var l=n.filter(Boolean);if(l.length!==0){var c=l.flat(),d=Math.min(...c),p=Math.max(...c);return[d,p]}},sA=e=>e.referenceElements.dots,il=(e,t,n)=>e.filter(i=>i.ifOverflow==="extendDomain").filter(i=>t==="xAxis"?i.xAxisId===n:i.yAxisId===n),_L=de([sA,ar,Yc],il),lA=e=>e.referenceElements.areas,TL=de([lA,ar,Yc],il),cA=e=>e.referenceElements.lines,AL=de([cA,ar,Yc],il),uA=(e,t)=>{var n=Qa(e.map(i=>t==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},EL=de(_L,ar,uA),dA=(e,t)=>{var n=Qa(e.flatMap(i=>[t==="xAxis"?i.x1:i.y1,t==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},OL=de([TL,ar],dA),fA=(e,t)=>{var n=Qa(e.map(i=>t==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ML=de(AL,ar,fA),RL=de(EL,ML,OL,(e,t,n)=>Cf(e,n,t)),pA=de([xr],Vv),Gv=(e,t,n,i,l,c,d)=>{var p=V8(t,e.allowDataOverflow);if(p!=null)return p;var m=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",g=m?Cf(n,l,Ck(i)):Cf(l,Ck(i));return G8(t,g,e.allowDataOverflow)},DL=de([xr,pA,wL,CL,RL,St,ar],Gv),$L=[0,1],Xv=(e,t,n,i,l,c,d)=>{if(!((e==null||n==null||n.length===0)&&d===void 0)){var{dataKey:p,type:m}=e,g=aa(t,c);return g&&p==null?F_(0,n.length):m==="category"?zL(i,e,g):l==="expand"?$L:d}},Qv=de([xr,St,Kv,mp,Kc,ar,DL],Xv),gA=(e,t,n,i,l)=>{if(e!=null){var{scale:c,type:d}=e;if(c==="auto")return t==="radial"&&l==="radiusAxis"?"band":t==="radial"&&l==="angleAxis"?"linear":d==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!n)?"point":d==="category"?"band":"linear";if(typeof c=="string"){var p="scale".concat($c(c));return p in fc?p:"point"}}},ol=de([xr,St,ZT,Dv,ar],gA);function PL(e){if(e!=null){if(e in fc)return fc[e]();var t="scale".concat($c(e));if(t in fc)return fc[t]()}}function Zv(e,t,n,i){if(!(n==null||i==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(i);var l=PL(t);if(l!=null){var c=l.domain(n).range(i);return S4(c),c}}}var Jv=(e,t,n)=>{var i=Vv(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&Hs(e))return oL(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Hs(e))return aL(e,t.tickCount,t.allowDecimals)}},eb=de([Qv,Vc,ol],Jv),tb=(e,t,n,i)=>{if(i!=="angleAxis"&&e?.type==="number"&&Hs(t)&&Array.isArray(n)&&n.length>0){var l=t[0],c=n[0],d=t[1],p=n[n.length-1];return[Math.min(l,c),Math.max(d,p)]}return t},NL=de([xr,Qv,eb,ar],tb),LL=de(mp,xr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,i=Array.from(Qa(e.map(p=>p.value))).sort((p,m)=>p-m);if(i.length<2)return 1/0;var l=i[i.length-1]-i[0];if(l===0)return 1/0;for(var c=0;c<i.length-1;c++){var d=i[c+1]-i[c];n=Math.min(n,d)}return n/l}}),mA=de(LL,St,IT,Or,(e,t,n,i)=>i,(e,t,n,i,l)=>{if(!Nn(e))return 0;var c=t==="vertical"?i.height:i.width;if(l==="gap")return e*c/2;if(l==="no-gap"){var d=Zr(n,e*c),p=e*c/2;return p-d-(p-d)/c*d}return 0}),WL=(e,t)=>{var n=So(e,t);return n==null||typeof n.padding!="string"?0:mA(e,"xAxis",t,n.padding)},BL=(e,t)=>{var n=jo(e,t);return n==null||typeof n.padding!="string"?0:mA(e,"yAxis",t,n.padding)},IL=de(So,WL,(e,t)=>{var n,i;if(e==null)return{left:0,right:0};var{padding:l}=e;return typeof l=="string"?{left:t,right:t}:{left:((n=l.left)!==null&&n!==void 0?n:0)+t,right:((i=l.right)!==null&&i!==void 0?i:0)+t}}),qL=de(jo,BL,(e,t)=>{var n,i;if(e==null)return{top:0,bottom:0};var{padding:l}=e;return typeof l=="string"?{top:t,bottom:t}:{top:((n=l.top)!==null&&n!==void 0?n:0)+t,bottom:((i=l.bottom)!==null&&i!==void 0?i:0)+t}}),UL=de([Or,IL,tp,ep,(e,t,n)=>n],(e,t,n,i,l)=>{var{padding:c}=i;return l?[c.left,n.width-c.right]:[e.left+t.left,e.left+e.width-t.right]}),HL=de([Or,St,qL,tp,ep,(e,t,n)=>n],(e,t,n,i,l,c)=>{var{padding:d}=l;return c?[i.height-d.bottom,d.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Xc=(e,t,n,i)=>{var l;switch(t){case"xAxis":return UL(e,n,i);case"yAxis":return HL(e,n,i);case"zAxis":return(l=Iv(e,n))===null||l===void 0?void 0:l.range;case"angleAxis":return FT(e);case"radiusAxis":return KT(e,n);default:return}},hA=de([xr,Xc],dp),al=de([xr,ol,NL,hA],Zv);de([Gc,hp,ar],aA);function yA(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var yp=(e,t)=>t,xp=(e,t,n)=>n,FL=de(Zf,yp,xp,(e,t,n)=>e.filter(i=>i.orientation===t).filter(i=>i.mirror===n).sort(yA)),KL=de(Jf,yp,xp,(e,t,n)=>e.filter(i=>i.orientation===t).filter(i=>i.mirror===n).sort(yA)),xA=(e,t)=>({width:e.width,height:t.height}),YL=(e,t)=>{var n=typeof t.width=="number"?t.width:Wc;return{width:n,height:e.height}},vA=de(Or,So,xA),VL=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},GL=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},XL=de(vo,Or,FL,yp,xp,(e,t,n,i,l)=>{var c={},d;return n.forEach(p=>{var m=xA(t,p);d==null&&(d=VL(t,i,e));var g=i==="top"&&!l||i==="bottom"&&l;c[p.id]=d-Number(g)*m.height,d+=(g?-1:1)*m.height}),c}),QL=de(xo,Or,KL,yp,xp,(e,t,n,i,l)=>{var c={},d;return n.forEach(p=>{var m=YL(t,p);d==null&&(d=GL(t,i,e));var g=i==="left"&&!l||i==="right"&&l;c[p.id]=d-Number(g)*m.width,d+=(g?-1:1)*m.width}),c}),ZL=(e,t)=>{var n=So(e,t);if(n!=null)return XL(e,n.orientation,n.mirror)},JL=de([Or,So,ZL,(e,t)=>t],(e,t,n,i)=>{if(t!=null){var l=n?.[i];return l==null?{x:e.left,y:0}:{x:e.left,y:l}}}),eW=(e,t)=>{var n=jo(e,t);if(n!=null)return QL(e,n.orientation,n.mirror)},tW=de([Or,jo,eW,(e,t)=>t],(e,t,n,i)=>{if(t!=null){var l=n?.[i];return l==null?{x:0,y:e.top}:{x:l,y:e.top}}}),bA=de(Or,jo,(e,t)=>{var n=typeof t.width=="number"?t.width:Wc;return{width:n,height:e.height}}),kk=(e,t,n)=>{switch(t){case"xAxis":return vA(e,n).width;case"yAxis":return bA(e,n).height;default:return}},SA=(e,t,n,i)=>{if(n!=null){var{allowDuplicatedCategory:l,type:c,dataKey:d}=n,p=aa(e,i),m=t.map(g=>g.value);if(d&&p&&c==="category"&&l&&xz(m))return m}},rb=de([St,mp,xr,ar],SA),jA=(e,t,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:l,scale:c}=n,d=aa(e,i);if(d&&(l==="number"||c!=="auto"))return t.map(p=>p.value)}},nb=de([St,mp,Vc,ar],jA),zk=de([St,xL,ol,al,rb,nb,Xc,eb,ar],(e,t,n,i,l,c,d,p,m)=>{if(t==null)return null;var g=aa(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:c,duplicateDomain:l,isCategorical:g,niceTicks:p,range:d,realScaleType:n,scale:i}}),rW=(e,t,n,i,l,c,d,p,m)=>{if(!(t==null||i==null)){var g=aa(e,m),{type:h,ticks:x,tickCount:S}=t,j=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,C=h==="category"&&i.bandwidth?i.bandwidth()/j:0;C=m==="angleAxis"&&c!=null&&c.length>=2?Pr(c[0]-c[1])*2*C:C;var w=x||l;if(w){var k=w.map((z,E)=>{var A=d?d.indexOf(z):z;return{index:E,coordinate:i(A)+C,value:z,offset:C}});return k.filter(z=>!$n(z.coordinate))}return g&&p?p.map((z,E)=>({coordinate:i(z)+C,value:z,index:E,offset:C})):i.ticks?i.ticks(S).map(z=>({coordinate:i(z)+C,value:z,offset:C})):i.domain().map((z,E)=>({coordinate:i(z)+C,value:d?d[z]:z,index:E,offset:C}))}},wA=de([St,Vc,ol,al,eb,Xc,rb,nb,ar],rW),nW=(e,t,n,i,l,c,d)=>{if(!(t==null||n==null||i==null||i[0]===i[1])){var p=aa(e,d),{tickCount:m}=t,g=0;return g=d==="angleAxis"&&i?.length>=2?Pr(i[0]-i[1])*2*g:g,p&&c?c.map((h,x)=>({coordinate:n(h)+g,value:h,index:x,offset:g})):n.ticks?n.ticks(m).map(h=>({coordinate:n(h)+g,value:h,offset:g})):n.domain().map((h,x)=>({coordinate:n(h)+g,value:l?l[h]:h,index:x,offset:g}))}},Jo=de([St,Vc,al,Xc,rb,nb,ar],nW),ea=de(xr,al,(e,t)=>{if(!(e==null||t==null))return wf(wf({},e),{},{scale:t})}),iW=de([xr,ol,Qv,hA],Zv);de((e,t,n)=>Iv(e,n),iW,(e,t)=>{if(!(e==null||t==null))return wf(wf({},e),{},{scale:t})});var oW=de([St,Zf,Jf],(e,t,n)=>{switch(e){case"horizontal":return t.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),CA=e=>e.options.defaultTooltipEventType,kA=e=>e.options.validateTooltipEventTypes;function zA(e,t,n){if(e==null)return t;var i=e?"axis":"item";return n==null?t:n.includes(i)?i:t}function ib(e,t){var n=CA(e),i=kA(e);return zA(t,n,i)}function aW(e){return Ue(t=>ib(t,e))}var _A=(e,t)=>{var n,i=Number(t);if(!($n(i)||t==null))return i>=0?e==null||(n=e[i])===null||n===void 0?void 0:n.value:void 0},sW=e=>e.tooltip.settings,Qo={active:!1,index:null,dataKey:void 0,coordinate:void 0},lW={itemInteraction:{click:Qo,hover:Qo},axisInteraction:{click:Qo,hover:Qo},keyboardInteraction:Qo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},TA=Ln({name:"tooltip",initialState:lW,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=lo(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:cW,removeTooltipEntrySettings:uW,setTooltipSettingsState:dW,setActiveMouseOverItemIndex:AA,mouseLeaveItem:fW,mouseLeaveChart:EA,setActiveClickItemIndex:pW,setMouseOverAxisIndex:OA,setMouseClickAxisIndex:gW,setSyncInteraction:ox,setKeyboardInteraction:ax}=TA.actions,mW=TA.reducer;function _k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Ad(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(n),!0).forEach(function(i){hW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function hW(e,t,n){return(t=yW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yW(e){var t=xW(e,"string");return typeof t=="symbol"?t:t+""}function xW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vW(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function bW(e){return e.index!=null}var MA=(e,t,n,i)=>{if(t==null)return Qo;var l=vW(e,t,n);if(l==null)return Qo;if(l.active)return l;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var c=e.settings.active===!0;if(bW(l)){if(c)return Ad(Ad({},l),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i};return Ad(Ad({},Qo),{},{coordinate:l.coordinate})},ob=(e,t)=>{var n=e?.index;if(n==null)return null;var i=Number(n);if(!Nn(i))return n;var l=0,c=1/0;return t.length>0&&(c=t.length-1),String(Math.max(l,Math.min(i,c)))},RA=(e,t,n,i,l,c,d,p)=>{if(!(c==null||p==null)){var m=d[0],g=m==null?void 0:p(m.positions,c);if(g!=null)return g;var h=l?.[Number(c)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(i.top+t)/2};default:return{x:(i.left+e)/2,y:h.coordinate}}}},DA=(e,t,n,i)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var l;return n==="hover"?l=e.itemInteraction.hover.dataKey:l=e.itemInteraction.click.dataKey,l==null&&i!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(c=>{var d;return((d=c.settings)===null||d===void 0?void 0:d.dataKey)===l})},Qc=e=>e.options.tooltipPayloadSearcher,sl=e=>e.tooltip;function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Ak(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(n),!0).forEach(function(i){SW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function SW(e,t,n){return(t=jW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jW(e){var t=wW(e,"string");return typeof t=="symbol"?t:t+""}function wW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CW(e,t){return e??t}var $A=(e,t,n,i,l,c,d)=>{if(!(t==null||c==null)){var{chartData:p,computedData:m,dataStartIndex:g,dataEndIndex:h}=n,x=[];return e.reduce((S,j)=>{var C,{dataDefinedOnItem:w,settings:k}=j,z=CW(w,p),E=Array.isArray(z)?z_(z,g,h):z,A=(C=k?.dataKey)!==null&&C!==void 0?C:i,D=k?.nameKey,T;if(i&&Array.isArray(E)&&!Array.isArray(E[0])&&d==="axis"?T=vz(E,i,l):T=c(E,t,m,D),Array.isArray(T))T.forEach(M=>{var F=Ak(Ak({},k),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});S.push(dC({tooltipEntrySettings:F,dataKey:M.dataKey,payload:M.payload,value:Yt(M.payload,M.dataKey),name:M.name}))});else{var R;S.push(dC({tooltipEntrySettings:k,dataKey:A,payload:T,value:Yt(T,A),name:(R=Yt(T,D))!==null&&R!==void 0?R:k?.name}))}return S},x)}},ab=de([Lr,St,ZT,Dv,Rr],gA),kW=de([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),zW=de([Rr,nl],qv),Zc=de([kW,Lr,zW],Uv),_W=de([Zc],e=>e.filter(pp)),TW=de([Zc],Hv),ll=de([TW,ua],Fv),AW=de([_W,ua,Lr],GT),sb=de([ll,Lr,Zc],Yv),EW=de([Lr],Vv),OW=de([Zc],e=>e.filter(pp)),MW=de([AW,OW,Kc],nA),RW=de([MW,ua,Rr],iA),DW=de([Zc],eA),$W=de([ll,Lr,DW,hp,Rr],oA),PW=de([sA,Rr,nl],il),NW=de([PW,Rr],uA),LW=de([lA,Rr,nl],il),WW=de([LW,Rr],dA),BW=de([cA,Rr,nl],il),IW=de([BW,Rr],fA),qW=de([NW,IW,WW],Cf),UW=de([Lr,EW,RW,$W,qW,St,Rr],Gv),PA=de([Lr,St,ll,sb,Kc,Rr,UW],Xv),HW=de([PA,Lr,ab],Jv),FW=de([Lr,PA,HW,Rr],tb),NA=e=>{var t=Rr(e),n=nl(e),i=!1;return Xc(e,t,n,i)},LA=de([Lr,NA],dp),WA=de([Lr,ab,FW,LA],Zv),KW=de([St,sb,Lr,Rr],SA),YW=de([St,sb,Lr,Rr],jA),VW=(e,t,n,i,l,c,d,p)=>{if(t){var{type:m}=t,g=aa(e,p);if(i){var h=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,x=m==="category"&&i.bandwidth?i.bandwidth()/h:0;return x=p==="angleAxis"&&l!=null&&l?.length>=2?Pr(l[0]-l[1])*2*x:x,g&&d?d.map((S,j)=>({coordinate:i(S)+x,value:S,index:j,offset:x})):i.domain().map((S,j)=>({coordinate:i(S)+x,value:c?c[S]:S,index:j,offset:x}))}}},wo=de([St,Lr,ab,WA,NA,KW,YW,Rr],VW),lb=de([CA,kA,sW],(e,t,n)=>zA(n.shared,e,t)),BA=e=>e.tooltip.settings.trigger,cb=e=>e.tooltip.settings.defaultIndex,vp=de([sl,lb,BA,cb],MA),ta=de([vp,ll],ob),IA=de([wo,ta],_A),qA=de([vp],e=>{if(e)return e.dataKey}),UA=de([sl,lb,BA,cb],DA),GW=de([xo,vo,St,Or,wo,cb,UA,Qc],RA),XW=de([vp,GW],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),QW=de([vp],e=>e.active),ZW=de([UA,ta,ua,VT,IA,Qc,lb],$A),JW=de([ZW],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Ok(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(n),!0).forEach(function(i){eB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function eB(e,t,n){return(t=tB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tB(e){var t=rB(e,"string");return typeof t=="symbol"?t:t+""}function rB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nB=()=>Ue(Lr),iB=()=>{var e=nB(),t=Ue(wo),n=Ue(WA);return jc(Ok(Ok({},e),{},{scale:n}),t)},oB=()=>Ue(Dv),ub=(e,t)=>t,HA=(e,t,n)=>n,db=(e,t,n,i)=>i,aB=de(wo,e=>Kf(e,t=>t.coordinate)),fb=de([sl,ub,HA,db],MA),FA=de([fb,ll],ob),sB=(e,t,n)=>{if(t!=null){var i=sl(e);return t==="axis"?n==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:n==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},KA=de([sl,ub,HA,db],DA),kf=de([xo,vo,St,Or,wo,db,KA,Qc],RA),lB=de([fb,kf],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),YA=de(wo,FA,_A),cB=de([KA,FA,ua,VT,YA,Qc,ub],$A),uB=de([fb],e=>({isActive:e.active,activeIndex:e.index})),dB=(e,t,n,i,l,c,d,p)=>{if(!(!e||!t||!i||!l||!c)){var m=M4(e.chartX,e.chartY,t,n,p);if(m){var g=D4(m,t),h=v4(g,d,c,i,l),x=R4(t,c,h,m);return{activeIndex:String(h),activeCoordinate:x}}}};function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sx.apply(null,arguments)}function Mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Ed(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(n),!0).forEach(function(i){fB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function fB(e,t,n){return(t=pB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pB(e){var t=gB(e,"string");return typeof t=="symbol"?t:t+""}function gB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mB(e){var{coordinate:t,payload:n,index:i,offset:l,tooltipAxisBandSize:c,layout:d,cursor:p,tooltipEventType:m,chartName:g}=e,h=t,x=n,S=i;if(!p||!h||g!=="ScatterChart"&&m!=="axis")return null;var j,C;if(g==="ScatterChart")j=h,C=D3;else if(g==="BarChart")j=$3(d,h,l,c),C=I_;else if(d==="radial"){var{cx:w,cy:k,radius:z,startAngle:E,endAngle:A}=q_(h);j={cx:w,cy:k,startAngle:E,endAngle:A,innerRadius:z,outerRadius:z},C=H_}else j={points:g6(d,h,l)},C=sv;var D=typeof p=="object"&&"className"in p?p.className:void 0,T=Ed(Ed(Ed(Ed({stroke:"#ccc",pointerEvents:"none"},l),j),lr(p,!1)),{},{payload:x,payloadIndex:S,className:Ct("recharts-tooltip-cursor",D)});return y.isValidElement(p)?y.cloneElement(p,T):y.createElement(C,T)}function hB(e){var t=iB(),n=M_(),i=rp(),l=oB();return y.createElement(mB,sx({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:i,tooltipAxisBandSize:t,chartName:l}))}var VA=y.createContext(null),yB=()=>y.useContext(VA),Qh={exports:{}},Rk;function xB(){return Rk||(Rk=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function l(m,g,h){this.fn=m,this.context=g,this.once=h||!1}function c(m,g,h,x,S){if(typeof h!="function")throw new TypeError("The listener must be a function");var j=new l(h,x||m,S),C=n?n+g:g;return m._events[C]?m._events[C].fn?m._events[C]=[m._events[C],j]:m._events[C].push(j):(m._events[C]=j,m._eventsCount++),m}function d(m,g){--m._eventsCount===0?m._events=new i:delete m._events[g]}function p(){this._events=new i,this._eventsCount=0}p.prototype.eventNames=function(){var g=[],h,x;if(this._eventsCount===0)return g;for(x in h=this._events)t.call(h,x)&&g.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(h)):g},p.prototype.listeners=function(g){var h=n?n+g:g,x=this._events[h];if(!x)return[];if(x.fn)return[x.fn];for(var S=0,j=x.length,C=new Array(j);S<j;S++)C[S]=x[S].fn;return C},p.prototype.listenerCount=function(g){var h=n?n+g:g,x=this._events[h];return x?x.fn?1:x.length:0},p.prototype.emit=function(g,h,x,S,j,C){var w=n?n+g:g;if(!this._events[w])return!1;var k=this._events[w],z=arguments.length,E,A;if(k.fn){switch(k.once&&this.removeListener(g,k.fn,void 0,!0),z){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,h),!0;case 3:return k.fn.call(k.context,h,x),!0;case 4:return k.fn.call(k.context,h,x,S),!0;case 5:return k.fn.call(k.context,h,x,S,j),!0;case 6:return k.fn.call(k.context,h,x,S,j,C),!0}for(A=1,E=new Array(z-1);A<z;A++)E[A-1]=arguments[A];k.fn.apply(k.context,E)}else{var D=k.length,T;for(A=0;A<D;A++)switch(k[A].once&&this.removeListener(g,k[A].fn,void 0,!0),z){case 1:k[A].fn.call(k[A].context);break;case 2:k[A].fn.call(k[A].context,h);break;case 3:k[A].fn.call(k[A].context,h,x);break;case 4:k[A].fn.call(k[A].context,h,x,S);break;default:if(!E)for(T=1,E=new Array(z-1);T<z;T++)E[T-1]=arguments[T];k[A].fn.apply(k[A].context,E)}}return!0},p.prototype.on=function(g,h,x){return c(this,g,h,x,!1)},p.prototype.once=function(g,h,x){return c(this,g,h,x,!0)},p.prototype.removeListener=function(g,h,x,S){var j=n?n+g:g;if(!this._events[j])return this;if(!h)return d(this,j),this;var C=this._events[j];if(C.fn)C.fn===h&&(!S||C.once)&&(!x||C.context===x)&&d(this,j);else{for(var w=0,k=[],z=C.length;w<z;w++)(C[w].fn!==h||S&&!C[w].once||x&&C[w].context!==x)&&k.push(C[w]);k.length?this._events[j]=k.length===1?k[0]:k:d(this,j)}return this},p.prototype.removeAllListeners=function(g){var h;return g?(h=n?n+g:g,this._events[h]&&d(this,h)):(this._events=new i,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prefixed=n,p.EventEmitter=p,e.exports=p})(Qh)),Qh.exports}var vB=xB();const bB=yo(vB);var Ac=new bB,lx="recharts.syncEvent.tooltip",Dk="recharts.syncEvent.brush";function pb(e,t){if(t){var n=Number.parseInt(t,10);if(!$n(n))return e?.[n]}}var SB={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},GA=Ln({name:"options",initialState:SB,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),jB=GA.reducer,{createEventEmitter:wB}=GA.actions;function CB(e){return e.tooltip.syncInteraction}var kB={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},XA=Ln({name:"chartData",initialState:kB,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:i}=t.payload;n!=null&&(e.dataStartIndex=n),i!=null&&(e.dataEndIndex=i)}}}),{setChartData:$k,setDataStartEndIndexes:zB,setComputedData:yG}=XA.actions,_B=XA.reducer,TB=["x","y"];function Pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(n),!0).forEach(function(i){AB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function AB(e,t,n){return(t=EB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EB(e){var t=OB(e,"string");return typeof t=="symbol"?t:t+""}function OB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MB(e,t){if(e==null)return{};var n,i,l=RB(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function RB(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var QA=()=>{};function DB(){var e=Ue($v),t=Ue(Pv),n=cr(),i=Ue(qT),l=Ue(wo),c=rp(),d=nv(),p=Ue(m=>m.rootProps.className);y.useEffect(()=>{if(e==null)return QA;var m=(g,h,x)=>{if(t!==x&&e===g){if(i==="index"){var S;if(d&&h!==null&&h!==void 0&&(S=h.payload)!==null&&S!==void 0&&S.coordinate){var j=h.payload.coordinate,{x:C,y:w}=j,k=MB(j,TB),z=Ta(Ta(Ta({},k),typeof C=="number"&&{x:Math.max(d.x,Math.min(C,d.x+d.width))}),typeof w=="number"&&{y:Math.max(d.y,Math.min(w,d.y+d.height))}),E=Ta(Ta({},h),{},{payload:Ta(Ta({},h.payload),{},{coordinate:z})});n(E)}else n(h);return}if(l!=null){var A;if(typeof i=="function"){var D={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},T=i(l,D);A=l[T]}else i==="value"&&(A=l.find(ge=>String(ge.value)===h.payload.label));var{coordinate:R}=h.payload;if(A==null||h.payload.active===!1||R==null||d==null){n(ox({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:M,y:F}=R,U=Math.min(M,d.x+d.width),le=Math.min(F,d.y+d.height),Z={x:c==="horizontal"?A.coordinate:U,y:c==="horizontal"?le:A.coordinate},ie=ox({active:h.payload.active,coordinate:Z,dataKey:h.payload.dataKey,index:String(A.index),label:h.payload.label});n(ie)}}};return Ac.on(lx,m),()=>{Ac.off(lx,m)}},[p,n,t,e,i,l,c,d])}function $B(){var e=Ue($v),t=Ue(Pv),n=cr();y.useEffect(()=>{if(e==null)return QA;var i=(l,c,d)=>{t!==d&&e===l&&n(zB(c))};return Ac.on(Dk,i),()=>{Ac.off(Dk,i)}},[n,t,e])}function PB(){var e=cr();y.useEffect(()=>{e(wB())},[e]),DB(),$B()}function NB(e,t,n,i,l,c){var d=Ue(S=>sB(S,e,t)),p=Ue(Pv),m=Ue($v),g=Ue(qT),h=Ue(CB),x=h?.active;y.useEffect(()=>{if(!x&&m!=null&&p!=null){var S=ox({active:c,coordinate:n,dataKey:d,index:l,label:typeof i=="number"?String(i):i});Ac.emit(lx,m,S,p)}},[x,n,d,l,i,p,m,g,c])}function Nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Lk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(n),!0).forEach(function(i){LB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function LB(e,t,n){return(t=WB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WB(e){var t=BB(e,"string");return typeof t=="symbol"?t:t+""}function BB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IB(e){return e.dataKey}function qB(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(f3,t)}var Wk=[],UB={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!sa.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Od(e){var t=Vr(e,UB),{active:n,allowEscapeViewBox:i,animationDuration:l,animationEasing:c,content:d,filterNull:p,isAnimationActive:m,offset:g,payloadUniqBy:h,position:x,reverseDirection:S,useTranslate3d:j,wrapperStyle:C,cursor:w,shared:k,trigger:z,defaultIndex:E,portal:A,axisId:D}=t,T=cr(),R=typeof E=="number"?String(E):E;y.useEffect(()=>{T(dW({shared:k,trigger:z,axisId:D,active:n,defaultIndex:R}))},[T,k,z,D,n,R]);var M=nv(),F=P_(),U=aW(k),{activeIndex:le,isActive:Z}=Ue(Se=>uB(Se,U,z,R)),ie=Ue(Se=>cB(Se,U,z,R)),ge=Ue(Se=>YA(Se,U,z,R)),fe=Ue(Se=>lB(Se,U,z,R)),Ee=ie,W=yB(),J=n??Z,[ue,_e]=e_([Ee,J]),Ae=U==="axis"?ge:void 0;NB(U,z,fe,Ae,le,J);var N=A??W;if(N==null)return null;var q=Ee??Wk;J||(q=Wk),p&&q.length&&(q=Gz(Ee.filter(Se=>Se.value!=null&&(Se.hide!==!0||t.includeHidden)),h,IB));var oe=q.length>0,be=y.createElement(v3,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:m,active:J,coordinate:fe,hasPayload:oe,offset:g,position:x,reverseDirection:S,useTranslate3d:j,viewBox:M,wrapperStyle:C,lastBoundingBox:ue,innerRef:_e,hasPortalFromProps:!!A},qB(d,Lk(Lk({},t),{},{payload:q,label:Ae,active:J,coordinate:fe,accessibilityLayer:F})));return y.createElement(y.Fragment,null,Gd.createPortal(be,N),J&&y.createElement(hB,{cursor:w,tooltipEventType:U,coordinate:fe,payload:Ee,index:le}))}var Zh={},Jh={},ey={},Bk;function HB(){return Bk||(Bk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i,{signal:l,edges:c}={}){let d,p=null;const m=c!=null&&c.includes("leading"),g=c==null||c.includes("trailing"),h=()=>{p!==null&&(n.apply(d,p),d=void 0,p=null)},x=()=>{g&&h(),w()};let S=null;const j=()=>{S!=null&&clearTimeout(S),S=setTimeout(()=>{S=null,x()},i)},C=()=>{S!==null&&(clearTimeout(S),S=null)},w=()=>{C(),d=void 0,p=null},k=()=>{h()},z=function(...E){if(l?.aborted)return;d=this,p=E;const A=S==null;j(),m&&A&&h()};return z.schedule=j,z.cancel=w,z.flush=k,l?.addEventListener("abort",w,{once:!0}),z}e.debounce=t})(ey)),ey}var Ik;function FB(){return Ik||(Ik=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HB();function n(i,l=0,c={}){typeof c!="object"&&(c={});const{leading:d=!1,trailing:p=!0,maxWait:m}=c,g=Array(2);d&&(g[0]="leading"),p&&(g[1]="trailing");let h,x=null;const S=t.debounce(function(...w){h=i.apply(this,w),x=null},l,{edges:g}),j=function(...w){return m!=null&&(x===null&&(x=Date.now()),Date.now()-x>=m)?(h=i.apply(this,w),x=Date.now(),S.cancel(),S.schedule(),h):(S.apply(this,w),h)},C=()=>(S.flush(),h);return j.cancel=S.cancel,j.flush=C,j}e.debounce=n})(Jh)),Jh}var qk;function KB(){return qk||(qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FB();function n(i,l=0,c={}){const{leading:d=!0,trailing:p=!0}=c;return t.debounce(i,l,{leading:d,maxWait:l,trailing:p})}e.throttle=n})(Zh)),Zh}var ty,Uk;function YB(){return Uk||(Uk=1,ty=KB().throttle),ty}var VB=YB();const GB=yo(VB);var pc=function(t,n){for(var i=arguments.length,l=new Array(i>2?i-2:0),c=2;c<i;c++)l[c-2]=arguments[c]};function Hk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function ry(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(n),!0).forEach(function(i){XB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function XB(e,t,n){return(t=QB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QB(e){var t=ZB(e,"string");return typeof t=="symbol"?t:t+""}function ZB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Md=y.forwardRef((e,t)=>{var{aspect:n,initialDimension:i={width:-1,height:-1},width:l="100%",height:c="100%",minWidth:d=0,minHeight:p,maxHeight:m,children:g,debounce:h=0,id:x,className:S,onResize:j,style:C={}}=e,w=y.useRef(null),k=y.useRef();k.current=j,y.useImperativeHandle(t,()=>w.current);var[z,E]=y.useState({containerWidth:i.width,containerHeight:i.height}),A=y.useCallback((T,R)=>{E(M=>{var F=Math.round(T),U=Math.round(R);return M.containerWidth===F&&M.containerHeight===U?M:{containerWidth:F,containerHeight:U}})},[]);y.useEffect(()=>{var T=U=>{var le,{width:Z,height:ie}=U[0].contentRect;A(Z,ie),(le=k.current)===null||le===void 0||le.call(k,Z,ie)};h>0&&(T=GB(T,h,{trailing:!0,leading:!1}));var R=new ResizeObserver(T),{width:M,height:F}=w.current.getBoundingClientRect();return A(M,F),R.observe(w.current),()=>{R.disconnect()}},[A,h]);var D=y.useMemo(()=>{var{containerWidth:T,containerHeight:R}=z;if(T<0||R<0)return null;pc(Ma(l)||Ma(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,c),pc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var M=Ma(l)?T:l,F=Ma(c)?R:c;return n&&n>0&&(M?F=M/n:F&&(M=F*n),m&&F>m&&(F=m)),pc(M>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,F,l,c,d,p,n),y.Children.map(g,U=>y.cloneElement(U,{width:M,height:F,style:ry({width:M,height:F},U.props.style)}))},[n,g,c,m,p,d,z,l]);return y.createElement("div",{id:x?"".concat(x):void 0,className:Ct("recharts-responsive-container",S),style:ry(ry({},C),{},{width:l,height:c,minWidth:d,minHeight:p,maxHeight:m}),ref:w},y.createElement("div",{style:{width:0,height:0,overflow:"visible"}},D))}),Fs=e=>null;Fs.displayName="Cell";function JB(e,t,n){return(t=eI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eI(e){var t=tI(e,"string");return typeof t=="symbol"?t:t+""}function tI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rI{constructor(t){JB(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function nI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(n),!0).forEach(function(i){iI(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function iI(e,t,n){return(t=oI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oI(e){var t=aI(e,"string");return typeof t=="symbol"?t:t+""}function aI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sI={cacheSize:2e3,enableCache:!0},ZA=nI({},sI),Kk=new rI(ZA.cacheSize),lI={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Yk="recharts_measurement_span";function cI(e,t){var n=t.fontSize||"",i=t.fontFamily||"",l=t.fontWeight||"",c=t.fontStyle||"",d=t.letterSpacing||"",p=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(c,"|").concat(d,"|").concat(p)}var Vk=(e,t)=>{try{var n=document.getElementById(Yk);n||(n=document.createElement("span"),n.setAttribute("id",Yk),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,lI,t),n.textContent="".concat(e);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},gc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||sa.isSsr)return{width:0,height:0};if(!ZA.enableCache)return Vk(t,n);var i=cI(t,n),l=Kk.get(i);if(l)return l;var c=Vk(t,n);return Kk.set(i,c),c},Gk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uI=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dI=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,JA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fI=Object.keys(JA),Ds="NaN";function pI(e,t){return e*JA[t]}class gn{static parse(t){var n,[,i,l]=(n=dI.exec(t))!==null&&n!==void 0?n:[];return new gn(parseFloat(i),l??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,$n(t)&&(this.unit=""),n!==""&&!uI.test(n)&&(this.num=NaN,this.unit=""),fI.includes(n)&&(this.num=pI(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new gn(NaN,""):new gn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new gn(NaN,""):new gn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gn(NaN,""):new gn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gn(NaN,""):new gn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $n(this.num)}}function eE(e){if(e.includes(Ds))return Ds;for(var t=e;t.includes("*")||t.includes("/");){var n,[,i,l,c]=(n=Gk.exec(t))!==null&&n!==void 0?n:[],d=gn.parse(i??""),p=gn.parse(c??""),m=l==="*"?d.multiply(p):d.divide(p);if(m.isNaN())return Ds;t=t.replace(Gk,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var g,[,h,x,S]=(g=Xk.exec(t))!==null&&g!==void 0?g:[],j=gn.parse(h??""),C=gn.parse(S??""),w=x==="+"?j.add(C):j.subtract(C);if(w.isNaN())return Ds;t=t.replace(Xk,w.toString())}return t}var Qk=/\(([^()]*)\)/;function gI(e){for(var t=e,n;(n=Qk.exec(t))!=null;){var[,i]=n;t=t.replace(Qk,eE(i))}return t}function mI(e){var t=e.replace(/\s+/g,"");return t=gI(t),t=eE(t),t}function hI(e){try{return mI(e)}catch{return Ds}}function ny(e){var t=hI(e.slice(5,-1));return t===Ds?"":t}var yI=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],xI=["dx","dy","angle","className","breakAll"];function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cx.apply(null,arguments)}function Zk(e,t){if(e==null)return{};var n,i,l=vI(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function vI(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var tE=/[ \f\n\r\t\v\u2028\u2029]+/,rE=e=>{var{children:t,breakAll:n,style:i}=e;try{var l=[];or(t)||(n?l=t.toString().split(""):l=t.toString().split(tE));var c=l.map(p=>({word:p,width:gc(p,i).width})),d=n?0:gc("",i).width;return{wordsWithComputedWidth:c,spaceWidth:d}}catch{return null}},bI=(e,t,n,i,l)=>{var{maxLines:c,children:d,style:p,breakAll:m}=e,g=Ge(c),h=d,x=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce((ie,ge)=>{var{word:fe,width:Ee}=ge,W=ie[ie.length-1];if(W&&(i==null||l||W.width+Ee+n<Number(i)))W.words.push(fe),W.width+=Ee+n;else{var J={words:[fe],width:Ee};ie.push(J)}return ie},[])},S=x(t),j=le=>le.reduce((Z,ie)=>Z.width>ie.width?Z:ie);if(!g||l)return S;var C=S.length>c||j(S).width>Number(i);if(!C)return S;for(var w="",k=le=>{var Z=h.slice(0,le),ie=rE({breakAll:m,style:p,children:Z+w}).wordsWithComputedWidth,ge=x(ie),fe=ge.length>c||j(ge).width>Number(i);return[fe,ge]},z=0,E=h.length-1,A=0,D;z<=E&&A<=h.length-1;){var T=Math.floor((z+E)/2),R=T-1,[M,F]=k(R),[U]=k(T);if(!M&&!U&&(z=T+1),M&&U&&(E=T-1),!M&&U){D=F;break}A++}return D||S},Jk=e=>{var t=or(e)?[]:e.toString().split(tE);return[{words:t}]},SI=e=>{var{width:t,scaleToFit:n,children:i,style:l,breakAll:c,maxLines:d}=e;if((t||n)&&!sa.isSsr){var p,m,g=rE({breakAll:c,children:i,style:l});if(g){var{wordsWithComputedWidth:h,spaceWidth:x}=g;p=h,m=x}else return Jk(i);return bI({breakAll:c,children:i,maxLines:d,style:l},p,m,t,n)}return Jk(i)},e2="#808080",bp=y.forwardRef((e,t)=>{var{x:n=0,y:i=0,lineHeight:l="1em",capHeight:c="0.71em",scaleToFit:d=!1,textAnchor:p="start",verticalAnchor:m="end",fill:g=e2}=e,h=Zk(e,yI),x=y.useMemo(()=>SI({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:d,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,d,h.style,h.width]),{dx:S,dy:j,angle:C,className:w,breakAll:k}=h,z=Zk(h,xI);if(!$i(n)||!$i(i)||x.length===0)return null;var E=n+(Ge(S)?S:0),A=i+(Ge(j)?j:0),D;switch(m){case"start":D=ny("calc(".concat(c,")"));break;case"middle":D=ny("calc(".concat((x.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:D=ny("calc(".concat(x.length-1," * -").concat(l,")"));break}var T=[];if(d){var R=x[0].width,{width:M}=h;T.push("scale(".concat(Ge(M)?M/R:1,")"))}return C&&T.push("rotate(".concat(C,", ").concat(E,", ").concat(A,")")),T.length&&(z.transform=T.join(" ")),y.createElement("text",cx({},lr(z,!0),{ref:t,x:E,y:A,className:Ct("recharts-text",w),textAnchor:p,fill:g.includes("url")?e2:g}),x.map((F,U)=>{var le=F.words.join(k?"":" ");return y.createElement("tspan",{x:E,dy:U===0?D:l,key:"".concat(le,"-").concat(U)},le)}))});bp.displayName="Text";var jI=["labelRef"];function wI(e,t){if(e==null)return{};var n,i,l=CI(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function CI(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function t2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(n),!0).forEach(function(i){kI(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function kI(e,t,n){return(t=zI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zI(e){var t=_I(e,"string");return typeof t=="symbol"?t:t+""}function _I(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},io.apply(null,arguments)}var nE=y.createContext(null),TI=e=>{var{x:t,y:n,width:i,height:l,children:c}=e,d=y.useMemo(()=>({x:t,y:n,width:i,height:l}),[t,n,i,l]);return y.createElement(nE.Provider,{value:d},c)},iE=()=>{var e=y.useContext(nE),t=nv();return e||t},AI=y.createContext(null),EI=()=>{var e=y.useContext(AI),t=Ue(YT);return e||t},OI=e=>{var{value:t,formatter:n}=e,i=or(e.children)?t:e.children;return typeof n=="function"?n(i):i},gb=e=>e!=null&&typeof e=="function",MI=(e,t)=>{var n=Pr(t-e),i=Math.min(Math.abs(t-e),360);return n*i},RI=(e,t,n,i,l)=>{var{offset:c,className:d}=e,{cx:p,cy:m,innerRadius:g,outerRadius:h,startAngle:x,endAngle:S,clockWise:j}=l,C=(g+h)/2,w=MI(x,S),k=w>=0?1:-1,z,E;switch(t){case"insideStart":z=x+k*c,E=j;break;case"insideEnd":z=S-k*c,E=!j;break;case"end":z=S+k*c,E=j;break;default:throw new Error("Unsupported position ".concat(t))}E=w<=0?E:!E;var A=Cr(p,m,C,z),D=Cr(p,m,C,z+(E?1:-1)*359),T="M".concat(A.x,",").concat(A.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(E?0:1,`,
    `).concat(D.x,",").concat(D.y),R=or(e.id)?vc("recharts-radial-line-"):e.id;return y.createElement("text",io({},i,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",d)}),y.createElement("defs",null,y.createElement("path",{id:R,d:T})),y.createElement("textPath",{xlinkHref:"#".concat(R)},n))},DI=(e,t,n)=>{var{cx:i,cy:l,innerRadius:c,outerRadius:d,startAngle:p,endAngle:m}=e,g=(p+m)/2;if(n==="outside"){var{x:h,y:x}=Cr(i,l,d+t,g);return{x:h,y:x,textAnchor:h>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var S=(c+d)/2,{x:j,y:C}=Cr(i,l,S,g);return{x:j,y:C,textAnchor:"middle",verticalAnchor:"middle"}},oE=e=>"cx"in e&&Ge(e.cx),$I=(e,t)=>{var{parentViewBox:n,offset:i,position:l}=e,c;n!=null&&!oE(n)&&(c=n);var{x:d,y:p,width:m,height:g}=t,h=g>=0?1:-1,x=h*i,S=h>0?"end":"start",j=h>0?"start":"end",C=m>=0?1:-1,w=C*i,k=C>0?"end":"start",z=C>0?"start":"end";if(l==="top"){var E={x:d+m/2,y:p-h*i,textAnchor:"middle",verticalAnchor:S};return yr(yr({},E),c?{height:Math.max(p-c.y,0),width:m}:{})}if(l==="bottom"){var A={x:d+m/2,y:p+g+x,textAnchor:"middle",verticalAnchor:j};return yr(yr({},A),c?{height:Math.max(c.y+c.height-(p+g),0),width:m}:{})}if(l==="left"){var D={x:d-w,y:p+g/2,textAnchor:k,verticalAnchor:"middle"};return yr(yr({},D),c?{width:Math.max(D.x-c.x,0),height:g}:{})}if(l==="right"){var T={x:d+m+w,y:p+g/2,textAnchor:z,verticalAnchor:"middle"};return yr(yr({},T),c?{width:Math.max(c.x+c.width-T.x,0),height:g}:{})}var R=c?{width:m,height:g}:{};return l==="insideLeft"?yr({x:d+w,y:p+g/2,textAnchor:z,verticalAnchor:"middle"},R):l==="insideRight"?yr({x:d+m-w,y:p+g/2,textAnchor:k,verticalAnchor:"middle"},R):l==="insideTop"?yr({x:d+m/2,y:p+x,textAnchor:"middle",verticalAnchor:j},R):l==="insideBottom"?yr({x:d+m/2,y:p+g-x,textAnchor:"middle",verticalAnchor:S},R):l==="insideTopLeft"?yr({x:d+w,y:p+x,textAnchor:z,verticalAnchor:j},R):l==="insideTopRight"?yr({x:d+m-w,y:p+x,textAnchor:k,verticalAnchor:j},R):l==="insideBottomLeft"?yr({x:d+w,y:p+g-x,textAnchor:z,verticalAnchor:S},R):l==="insideBottomRight"?yr({x:d+m-w,y:p+g-x,textAnchor:k,verticalAnchor:S},R):l&&typeof l=="object"&&(Ge(l.x)||Ma(l.x))&&(Ge(l.y)||Ma(l.y))?yr({x:d+Zr(l.x,m),y:p+Zr(l.y,g),textAnchor:"end",verticalAnchor:"end"},R):yr({x:d+m/2,y:p+g/2,textAnchor:"middle",verticalAnchor:"middle"},R)},PI={offset:5};function Xo(e){var t=Vr(e,PI),{viewBox:n,position:i,value:l,children:c,content:d,className:p="",textBreakAll:m,labelRef:g}=t,h=EI(),x=iE(),S=i==="center"?x:h??x,j=n||S;if(!j||or(l)&&or(c)&&!y.isValidElement(d)&&typeof d!="function")return null;var C=yr(yr({},t),{},{viewBox:j});if(y.isValidElement(d)){var{labelRef:w}=C,k=wI(C,jI);return y.cloneElement(d,k)}var z;if(typeof d=="function"){if(z=y.createElement(d,C),y.isValidElement(z))return z}else z=OI(t);var E=oE(j),A=lr(t,!0);if(E&&(i==="insideStart"||i==="insideEnd"||i==="end"))return RI(t,i,z,A,j);var D=E?DI(j,t.offset,t.position):$I(t,j);return y.createElement(bp,io({ref:g,className:Ct("recharts-label",p)},A,D,{breakAll:m}),z)}Xo.displayName="Label";var NI=(e,t,n)=>{if(!e)return null;var i={viewBox:t,labelRef:n};return e===!0?y.createElement(Xo,io({key:"label-implicit"},i)):$i(e)?y.createElement(Xo,io({key:"label-implicit",value:e},i)):y.isValidElement(e)?e.type===Xo?y.cloneElement(e,yr({key:"label-implicit"},i)):y.createElement(Xo,io({key:"label-implicit",content:e},i)):gb(e)?y.createElement(Xo,io({key:"label-implicit",content:e},i)):e&&typeof e=="object"?y.createElement(Xo,io({},e,{key:"label-implicit"},i)):null};function LI(e){var{label:t}=e,n=iE();return NI(t,n)||null}var iy={},oy={},r2;function WI(){return r2||(r2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(oy)),oy}var ay={},n2;function BI(){return n2||(n2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(ay)),ay}var i2;function II(){return i2||(i2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WI(),n=BI(),i=Vx();function l(c){if(i.isArrayLike(c))return t.last(n.toArray(c))}e.last=l})(iy)),iy}var sy,o2;function qI(){return o2||(o2=1,sy=II().last),sy}var UI=qI();const HI=yo(UI);var FI=["valueAccessor"],KI=["dataKey","clockWise","id","textBreakAll"];function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zf.apply(null,arguments)}function a2(e,t){if(e==null)return{};var n,i,l=YI(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function YI(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var VI=e=>Array.isArray(e.value)?HI(e.value):e.value,aE=y.createContext(void 0),sE=aE.Provider,lE=y.createContext(void 0),GI=lE.Provider;function XI(){return y.useContext(aE)}function QI(){return y.useContext(lE)}function Id(e){var{valueAccessor:t=VI}=e,n=a2(e,FI),{dataKey:i,clockWise:l,id:c,textBreakAll:d}=n,p=a2(n,KI),m=XI(),g=QI(),h=m||g;return!h||!h.length?null:y.createElement(Yr,{className:"recharts-label-list"},h.map((x,S)=>{var j,C=or(i)?t(x,S):Yt(x&&x.payload,i),w=or(c)?{}:{id:"".concat(c,"-").concat(S)};return y.createElement(Xo,zf({},lr(x,!0),p,w,{fill:(j=n.fill)!==null&&j!==void 0?j:x.fill,parentViewBox:x.parentViewBox,value:C,textBreakAll:d,viewBox:x.viewBox,key:"label-".concat(S),index:S}))}))}Id.displayName="LabelList";function mb(e){var{label:t}=e;return t?t===!0?y.createElement(Id,{key:"labelList-implicit"}):y.isValidElement(t)||gb(t)?y.createElement(Id,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(Id,zf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ux.apply(null,arguments)}var cE=e=>{var{cx:t,cy:n,r:i,className:l}=e,c=Ct("recharts-dot",l);return t===+t&&n===+n&&i===+i?y.createElement("circle",ux({},Li(e),Wx(e),{className:c,cx:t,cy:n,r:i})):null},uE=e=>e.graphicalItems.polarItems,ZI=de([ar,Yc],qv),hb=de([uE,xr,ZI],Uv),JI=de([hb],Hv),yb=de([JI,Ov],Fv),e7=de([yb,xr,hb],Yv),t7=de([yb,xr,hb],(e,t,n)=>n.length>0?e.flatMap(i=>n.flatMap(l=>{var c,d=Yt(i,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey);return{value:d,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(i=>({value:Yt(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]}))),s2=()=>{},r7=de([xr,pA,s2,t7,s2,St,ar],Gv),dE=de([xr,St,yb,e7,Kc,ar,r7],Xv),n7=de([dE,xr,ol],Jv);de([xr,dE,n7,ar],tb);var i7={radiusAxis:{},angleAxis:{}},fE=Ln({name:"polarAxis",initialState:i7,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:xG,removeRadiusAxis:vG,addAngleAxis:bG,removeAngleAxis:SG}=fE.actions,o7=fE.reducer;function l2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function c2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(n),!0).forEach(function(i){a7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function a7(e,t,n){return(t=s7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s7(e){var t=l7(e,"string");return typeof t=="symbol"?t:t+""}function l7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c7=(e,t)=>t,xb=de([uE,c7],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),u7=[],vb=(e,t,n)=>n?.length===0?u7:n,pE=de([Ov,xb,vb],(e,t,n)=>{var{chartData:i}=e;if(t!=null){var l;if(t?.data!=null&&t.data.length>0?l=t.data:l=i,(!l||!l.length)&&n!=null&&(l=n.map(c=>c2(c2({},t.presentationProps),c.props))),l!=null)return l}}),d7=de([pE,xb,vb],(e,t,n)=>{if(!(e==null||t==null))return e.map((i,l)=>{var c,d=Yt(i,t.nameKey,t.name),p;return n!=null&&(c=n[l])!==null&&c!==void 0&&(c=c.props)!==null&&c!==void 0&&c.fill?p=n[l].props.fill:typeof i=="object"&&i!=null&&"fill"in i?p=i.fill:p=t.fill,{value:Js(d,t.dataKey),color:p,payload:i,type:t.legendType}})}),f7=de([pE,xb,vb,Or],(e,t,n,i)=>{if(!(t==null||e==null))return cq({offset:i,pieSettings:t,displayedData:e,cells:n})}),ly={},u2;function p7(){return u2||(u2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const l=n[Symbol.toStringTag];return l==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${l}]`}let i=n;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(n)===i}e.isPlainObject=t})(ly)),ly}var cy,d2;function g7(){return d2||(d2=1,cy=p7().isPlainObject),cy}var m7=g7();const h7=yo(m7);function f2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function p2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(n),!0).forEach(function(i){y7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function y7(e,t,n){return(t=x7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x7(e){var t=v7(e,"string");return typeof t=="symbol"?t:t+""}function v7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_f.apply(null,arguments)}var g2=(e,t,n,i,l)=>{var c=n-i,d;return d="M ".concat(e,",").concat(t),d+="L ".concat(e+n,",").concat(t),d+="L ".concat(e+n-c/2,",").concat(t+l),d+="L ".concat(e+n-c/2-i,",").concat(t+l),d+="L ".concat(e,",").concat(t," Z"),d},b7={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},S7=e=>{var t=Vr(e,b7),{x:n,y:i,upperWidth:l,lowerWidth:c,height:d,className:p}=t,{animationEasing:m,animationDuration:g,animationBegin:h,isUpdateAnimationActive:x}=t,S=y.useRef(),[j,C]=y.useState(-1),w=y.useRef(l),k=y.useRef(c),z=y.useRef(d),E=y.useRef(n),A=y.useRef(i),D=Ic(e,"trapezoid-");if(y.useEffect(()=>{if(S.current&&S.current.getTotalLength)try{var fe=S.current.getTotalLength();fe&&C(fe)}catch{}},[]),n!==+n||i!==+i||l!==+l||c!==+c||d!==+d||l===0&&c===0||d===0)return null;var T=Ct("recharts-trapezoid",p);if(!x)return y.createElement("g",null,y.createElement("path",_f({},lr(t,!0),{className:T,d:g2(n,i,l,c,d)})));var R=w.current,M=k.current,F=z.current,U=E.current,le=A.current,Z="0px ".concat(j===-1?1:j,"px"),ie="".concat(j,"px 0px"),ge=N_(["strokeDasharray"],g,m);return y.createElement(Bc,{animationId:D,key:D,canBegin:j>0,duration:g,easing:m,isActive:x,begin:h},fe=>{var Ee=pr(R,l,fe),W=pr(M,c,fe),J=pr(F,d,fe),ue=pr(U,n,fe),_e=pr(le,i,fe);S.current&&(w.current=Ee,k.current=W,z.current=J,E.current=ue,A.current=_e);var Ae=fe>0?{transition:ge,strokeDasharray:ie}:{strokeDasharray:Z};return y.createElement("path",_f({},lr(t,!0),{className:T,d:g2(ue,_e,Ee,W,J),ref:S,style:p2(p2({},Ae),t.style)}))})},j7=["option","shapeType","propTransformer","activeClassName","isActive"];function w7(e,t){if(e==null)return{};var n,i,l=C7(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function C7(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function m2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Tf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(n),!0).forEach(function(i){k7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function k7(e,t,n){return(t=z7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z7(e){var t=_7(e,"string");return typeof t=="symbol"?t:t+""}function _7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T7(e,t){return Tf(Tf({},t),e)}function A7(e,t){return e==="symbols"}function h2(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return y.createElement(I_,n);case"trapezoid":return y.createElement(S7,n);case"sector":return y.createElement(H_,n);case"symbols":if(A7(t))return y.createElement(Fx,n);break;default:return null}}function E7(e){return y.isValidElement(e)?e.props:e}function gE(e){var{option:t,shapeType:n,propTransformer:i=T7,activeClassName:l="recharts-active-shape",isActive:c}=e,d=w7(e,j7),p;if(y.isValidElement(t))p=y.cloneElement(t,Tf(Tf({},d),E7(t)));else if(typeof t=="function")p=t(d);else if(h7(t)&&typeof t!="boolean"){var m=i(t,d);p=y.createElement(h2,{shapeType:n,elementProps:m})}else{var g=d;p=y.createElement(h2,{shapeType:n,elementProps:g})}return c?y.createElement(Yr,{className:l},p):p}var bb=(e,t)=>{var n=cr();return(i,l)=>c=>{e?.(i,l,c),n(AA({activeIndex:String(l),activeDataKey:t,activeCoordinate:i.tooltipPosition}))}},Sb=e=>{var t=cr();return(n,i)=>l=>{e?.(n,i,l),t(fW())}},jb=(e,t)=>{var n=cr();return(i,l)=>c=>{e?.(i,l,c),n(pW({activeIndex:String(l),activeDataKey:t,activeCoordinate:i.tooltipPosition}))}};function wb(e){var{fn:t,args:n}=e,i=cr(),l=yn();return y.useEffect(()=>{if(!l){var c=t(n);return i(cW(c)),()=>{i(uW(c))}}},[t,n,i,l]),null}var mE=()=>{};function hE(e){var{legendPayload:t}=e,n=cr(),i=yn();return y.useEffect(()=>i?mE:(n(D_(t)),()=>{n($_(t))}),[n,i,t]),null}function O7(e){var{legendPayload:t}=e,n=cr(),i=Ue(St);return y.useEffect(()=>i!=="centric"&&i!=="radial"?mE:(n(D_(t)),()=>{n($_(t))}),[n,i,t]),null}var uy,M7=()=>{var[e]=y.useState(()=>vc("uid-"));return e},R7=(uy=AR.useId)!==null&&uy!==void 0?uy:M7;function D7(e,t){var n=R7();return t||(e?"".concat(e,"-").concat(n):n)}var $7=y.createContext(void 0),Cb=e=>{var{id:t,type:n,children:i}=e,l=D7("recharts-".concat(n),t);return y.createElement($7.Provider,{value:l},i(l))},P7={cartesianItems:[],polarItems:[]},yE=Ln({name:"graphicalItems",initialState:P7,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:i}=t.payload,l=lo(e).cartesianItems.indexOf(n);l>-1&&(e.cartesianItems[l]=i)},removeCartesianGraphicalItem(e,t){var n=lo(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=lo(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:N7,replaceCartesianGraphicalItem:L7,removeCartesianGraphicalItem:W7,addPolarGraphicalItem:B7,removePolarGraphicalItem:I7}=yE.actions,q7=yE.reducer;function xE(e){var t=cr(),n=y.useRef(null);return y.useEffect(()=>{n.current===null?t(N7(e)):n.current!==e&&t(L7({prev:n.current,next:e})),n.current=e},[t,e]),y.useEffect(()=>()=>{n.current&&(t(W7(n.current)),n.current=null)},[t]),null}function U7(e){var t=cr();return y.useEffect(()=>(t(B7(e)),()=>{t(I7(e))}),[t,e]),null}var H7=["onMouseEnter","onClick","onMouseLeave"],F7=["id"],K7=["id"];function kb(e,t){if(e==null)return{};var n,i,l=Y7(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function Y7(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function y2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(n),!0).forEach(function(i){V7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function V7(e,t,n){return(t=G7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G7(e){var t=X7(e,"string");return typeof t=="symbol"?t:t+""}function X7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ra(){return ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ra.apply(null,arguments)}function Q7(e){var t=y.useMemo(()=>Bx(e.children,Fs),[e.children]),n=Ue(i=>d7(i,e.id,t));return n==null?null:y.createElement(O7,{legendPayload:n})}function Z7(e){var{dataKey:t,nameKey:n,sectors:i,stroke:l,strokeWidth:c,fill:d,name:p,hide:m,tooltipType:g}=e;return{dataDefinedOnItem:i.map(h=>h.tooltipPayload),positions:i.map(h=>h.tooltipPosition),settings:{stroke:l,strokeWidth:c,fill:d,dataKey:t,nameKey:n,name:Js(p,t),hide:m,type:g,color:d,unit:""}}}var J7=(e,t)=>e>t?"start":e<t?"end":"middle",eq=(e,t,n)=>Zr(typeof t=="function"?t(e):t,n,n*.8),tq=(e,t,n)=>{var{top:i,left:l,width:c,height:d}=t,p=k_(c,d),m=l+Zr(e.cx,c,c/2),g=i+Zr(e.cy,d,d/2),h=Zr(e.innerRadius,p,0),x=eq(n,e.outerRadius,p),S=e.maxRadius||Math.sqrt(c*c+d*d)/2;return{cx:m,cy:g,innerRadius:h,outerRadius:x,maxRadius:S}},rq=(e,t)=>{var n=Pr(t-e),i=Math.min(Math.abs(t-e),360);return n*i};function nq(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var iq=(e,t)=>{if(y.isValidElement(e))return y.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Ct("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return y.createElement(sv,ra({},t,{type:"linear",className:n}))},oq=(e,t,n)=>{if(y.isValidElement(e))return y.cloneElement(e,t);var i=n;if(typeof e=="function"&&(i=e(t),y.isValidElement(i)))return i;var l=Ct("recharts-pie-label-text",nq(e));return y.createElement(bp,ra({},t,{alignmentBaseline:"middle",className:l}),i)};function aq(e){var{sectors:t,props:n,showLabels:i}=e,{label:l,labelLine:c,dataKey:d}=n;if(!i||!l||!t)return null;var p=Li(n),m=lr(l,!1),g=lr(c,!1),h=typeof l=="object"&&"offsetRadius"in l&&typeof l.offsetRadius=="number"&&l.offsetRadius||20,x=t.map((S,j)=>{var C=(S.startAngle+S.endAngle)/2,w=Cr(S.cx,S.cy,S.outerRadius+h,C),k=tr(tr(tr(tr({},p),S),{},{stroke:"none"},m),{},{index:j,textAnchor:J7(w.x,S.cx)},w),z=tr(tr(tr(tr({},p),S),{},{fill:"none",stroke:S.fill},g),{},{index:j,points:[Cr(S.cx,S.cy,S.outerRadius,C),w],key:"line"});return y.createElement(Yr,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(j)},c&&iq(c,z),oq(l,k,Yt(S,d)))});return y.createElement(Yr,{className:"recharts-pie-labels"},x)}function sq(e){var{sectors:t,props:n,showLabels:i}=e,{label:l}=n;return typeof l=="object"&&l!=null&&"position"in l?y.createElement(mb,{label:l}):y.createElement(aq,{sectors:t,props:n,showLabels:i})}function lq(e){var{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:l}=e,c=Ue(ta),{onMouseEnter:d,onClick:p,onMouseLeave:m}=l,g=kb(l,H7),h=bb(d,l.dataKey),x=Sb(m),S=jb(p,l.dataKey);return t==null||t.length===0?null:y.createElement(y.Fragment,null,t.map((j,C)=>{if(j?.startAngle===0&&j?.endAngle===0&&t.length!==1)return null;var w=n&&String(C)===c,k=c?i:null,z=w?n:k,E=tr(tr({},j),{},{stroke:j.stroke,tabIndex:-1,[E_]:C,[O_]:l.dataKey});return y.createElement(Yr,ra({tabIndex:-1,className:"recharts-pie-sector"},Pc(g,j,C),{onMouseEnter:h(j,C),onMouseLeave:x(j,C),onClick:S(j,C),key:"sector-".concat(j?.startAngle,"-").concat(j?.endAngle,"-").concat(j.midAngle,"-").concat(C)}),y.createElement(gE,ra({option:z,isActive:w,shapeType:"sector"},E)))}))}function cq(e){var t,{pieSettings:n,displayedData:i,cells:l,offset:c}=e,{cornerRadius:d,startAngle:p,endAngle:m,dataKey:g,nameKey:h,tooltipType:x}=n,S=Math.abs(n.minAngle),j=rq(p,m),C=Math.abs(j),w=i.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,k=i.filter(R=>Yt(R,g,0)!==0).length,z=(C>=360?k:k-1)*w,E=C-k*S-z,A=i.reduce((R,M)=>{var F=Yt(M,g,0);return R+(Ge(F)?F:0)},0),D;if(A>0){var T;D=i.map((R,M)=>{var F=Yt(R,g,0),U=Yt(R,h,M),le=tq(n,c,R),Z=(Ge(F)?F:0)/A,ie,ge=tr(tr({},R),l&&l[M]&&l[M].props);M?ie=T.endAngle+Pr(j)*w*(F!==0?1:0):ie=p;var fe=ie+Pr(j)*((F!==0?S:0)+Z*E),Ee=(ie+fe)/2,W=(le.innerRadius+le.outerRadius)/2,J=[{name:U,value:F,payload:ge,dataKey:g,type:x}],ue=Cr(le.cx,le.cy,W,Ee);return T=tr(tr(tr(tr({},n.presentationProps),{},{percent:Z,cornerRadius:d,name:U,tooltipPayload:J,midAngle:Ee,middleRadius:W,tooltipPosition:ue},ge),le),{},{value:F,startAngle:ie,endAngle:fe,payload:ge,paddingAngle:Pr(j)*w}),T})}return D}function uq(e){var{showLabels:t,sectors:n,children:i}=e,l=y.useMemo(()=>!t||!n?[]:n.map(c=>({value:c.value,payload:c.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:c.cx,cy:c.cy,innerRadius:c.innerRadius,outerRadius:c.outerRadius,startAngle:c.startAngle,endAngle:c.endAngle,clockWise:!1},fill:c.fill})),[n,t]);return y.createElement(GI,{value:t?l:void 0},i)}function dq(e){var{props:t,previousSectorsRef:n}=e,{sectors:i,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:p,activeShape:m,inactiveShape:g,onAnimationStart:h,onAnimationEnd:x}=t,S=Ic(t,"recharts-pie-"),j=n.current,[C,w]=y.useState(!1),k=y.useCallback(()=>{typeof x=="function"&&x(),w(!1)},[x]),z=y.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return y.createElement(uq,{showLabels:!C,sectors:i},y.createElement(Bc,{animationId:S,begin:c,duration:d,isActive:l,easing:p,onAnimationStart:z,onAnimationEnd:k,key:S},E=>{var A=[],D=i&&i[0],T=D?.startAngle;return i?.forEach((R,M)=>{var F=j&&j[M],U=M>0?Ia(R,"paddingAngle",0):0;if(F){var le=pr(F.endAngle-F.startAngle,R.endAngle-R.startAngle,E),Z=tr(tr({},R),{},{startAngle:T+U,endAngle:T+le+U});A.push(Z),T=Z.endAngle}else{var{endAngle:ie,startAngle:ge}=R,fe=pr(0,ie-ge,E),Ee=tr(tr({},R),{},{startAngle:T+U,endAngle:T+fe+U});A.push(Ee),T=Ee.endAngle}}),n.current=A,y.createElement(Yr,null,y.createElement(lq,{sectors:A,activeShape:m,inactiveShape:g,allOtherPieProps:t}))}),y.createElement(sq,{showLabels:!C,sectors:i,props:t}),t.children)}var fq={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!sa.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function pq(e){var{id:t}=e,n=kb(e,F7),{hide:i,className:l,rootTabIndex:c}=e,d=y.useMemo(()=>Bx(e.children,Fs),[e.children]),p=Ue(h=>f7(h,t,d)),m=y.useRef(null),g=Ct("recharts-pie",l);return i||p==null?(m.current=null,y.createElement(Yr,{tabIndex:c,className:g})):y.createElement(y.Fragment,null,y.createElement(wb,{fn:Z7,args:tr(tr({},e),{},{sectors:p})}),y.createElement(Yr,{tabIndex:c,className:g},y.createElement(dq,{props:tr(tr({},n),{},{sectors:p}),previousSectorsRef:m})))}function vE(e){var t=Vr(e,fq),{id:n}=t,i=kb(t,K7),l=Li(i);return y.createElement(Cb,{id:n,type:"pie"},c=>y.createElement(y.Fragment,null,y.createElement(U7,{type:"pie",id:c,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:l,maxRadius:t.maxRadius}),y.createElement(Q7,ra({},i,{id:c})),y.createElement(pq,ra({},i,{id:c}))))}vE.displayName="Pie";function x2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function v2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(n),!0).forEach(function(i){gq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function gq(e,t,n){return(t=mq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mq(e){var t=hq(e,"string");return typeof t=="symbol"?t:t+""}function hq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yq={xAxis:{},yAxis:{},zAxis:{}},bE=Ln({name:"cartesianAxis",initialState:yq,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:i}=t.payload;e.yAxis[n]&&(e.yAxis[n]=v2(v2({},e.yAxis[n]),{},{width:i}))}}}),{addXAxis:xq,removeXAxis:vq,addYAxis:bq,removeYAxis:Sq,addZAxis:jG,removeZAxis:wG,updateYAxisWidth:jq}=bE.actions,wq=bE.reducer,Cq=de([Or],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),kq=de([Cq,xo,vo],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),zb=()=>Ue(kq),zq=()=>Ue(JW);function b2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function S2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(n),!0).forEach(function(i){_q(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _q(e,t,n){return(t=Tq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tq(e){var t=Aq(e,"string");return typeof t=="symbol"?t:t+""}function Aq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eq=e=>{var{point:t,childIndex:n,mainColor:i,activeDot:l,dataKey:c}=e;if(l===!1||t.x==null||t.y==null)return null;var d=S2(S2({index:n,dataKey:c,cx:t.x,cy:t.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},lr(l,!1)),Wx(l)),p;return y.isValidElement(l)?p=y.cloneElement(l,d):typeof l=="function"?p=l(d):p=y.createElement(cE,d),y.createElement(Yr,{className:"recharts-active-dot"},p)};function Oq(e){var{points:t,mainColor:n,activeDot:i,itemDataKey:l}=e,c=Ue(ta),d=zq();if(t==null||d==null)return null;var p=t.find(m=>d.includes(m.payload));return or(p)?null:Eq({point:p,childIndex:Number(c),mainColor:n,dataKey:l,activeDot:i})}var Mq="Invariant failed";function Rq(e,t){throw new Error(Mq)}var Dq=["x","y"];function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dx.apply(null,arguments)}function j2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function sc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(n),!0).forEach(function(i){$q(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function $q(e,t,n){return(t=Pq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pq(e){var t=Nq(e,"string");return typeof t=="symbol"?t:t+""}function Nq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lq(e,t){if(e==null)return{};var n,i,l=Wq(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function Wq(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Bq(e,t){var{x:n,y:i}=e,l=Lq(e,Dq),c="".concat(n),d=parseInt(c,10),p="".concat(i),m=parseInt(p,10),g="".concat(t.height||l.height),h=parseInt(g,10),x="".concat(t.width||l.width),S=parseInt(x,10);return sc(sc(sc(sc(sc({},t),l),d?{x:d}:{}),m?{y:m}:{}),{},{height:h,width:S,name:t.name,radius:t.radius})}function _b(e){return y.createElement(gE,dx({shapeType:"rectangle",propTransformer:Bq,activeClassName:"recharts-active-bar"},e))}var Iq=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,l)=>{if(Ge(t))return t;var c=Ge(i)||or(i);return c?t(i,l):(c||Rq(),n)}},qq={},SE=Ln({name:"errorBars",initialState:qq,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:i}=t.payload;e[n]||(e[n]=[]),e[n].push(i)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:i,next:l}=t.payload;e[n]&&(e[n]=e[n].map(c=>c.dataKey===i.dataKey&&c.direction===i.direction?l:c))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:i}=t.payload;e[n]&&(e[n]=e[n].filter(l=>l.dataKey!==i.dataKey||l.direction!==i.direction))}}}),{addErrorBar:CG,replaceErrorBar:kG,removeErrorBar:zG}=SE.actions,Uq=SE.reducer,Hq=["children"];function Fq(e,t){if(e==null)return{};var n,i,l=Kq(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function Kq(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Yq={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Vq=y.createContext(Yq);function jE(e){var{children:t}=e,n=Fq(e,Hq);return y.createElement(Vq.Provider,{value:n},t)}function Tb(e,t){var n,i,l=Ue(g=>So(g,e)),c=Ue(g=>jo(g,t)),d=(n=l?.allowDataOverflow)!==null&&n!==void 0?n:_n.allowDataOverflow,p=(i=c?.allowDataOverflow)!==null&&i!==void 0?i:Tn.allowDataOverflow,m=d||p;return{needClip:m,needClipX:d,needClipY:p}}function wE(e){var{xAxisId:t,yAxisId:n,clipPathId:i}=e,l=zb(),{needClipX:c,needClipY:d,needClip:p}=Tb(t,n);if(!p)return null;var{x:m,y:g,width:h,height:x}=l;return y.createElement("clipPath",{id:"clipPath-".concat(i)},y.createElement("rect",{x:c?m:m-h/2,y:d?g:g-x/2,width:c?h:h*2,height:d?x:x*2}))}var Gq=["onMouseEnter","onMouseLeave","onClick"],Xq=["value","background","tooltipPosition"],Qq=["id"],Zq=["onMouseEnter","onClick","onMouseLeave"];function na(){return na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},na.apply(null,arguments)}function w2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(n),!0).forEach(function(i){Jq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Jq(e,t,n){return(t=e9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e9(e){var t=t9(e,"string");return typeof t=="symbol"?t:t+""}function t9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Af(e,t){if(e==null)return{};var n,i,l=r9(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function r9(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var n9=e=>{var{dataKey:t,name:n,fill:i,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:i,value:Js(n,t),payload:e}]};function i9(e){var{dataKey:t,stroke:n,strokeWidth:i,fill:l,name:c,hide:d,unit:p}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:l,dataKey:t,nameKey:void 0,name:Js(c,t),hide:d,type:e.tooltipType,color:e.fill,unit:p}}}function o9(e){var t=Ue(ta),{data:n,dataKey:i,background:l,allOtherBarProps:c}=e,{onMouseEnter:d,onMouseLeave:p,onClick:m}=c,g=Af(c,Gq),h=bb(d,i),x=Sb(p),S=jb(m,i);if(!l||n==null)return null;var j=lr(l,!1);return y.createElement(y.Fragment,null,n.map((C,w)=>{var{value:k,background:z,tooltipPosition:E}=C,A=Af(C,Xq);if(!z)return null;var D=h(C,w),T=x(C,w),R=S(C,w),M=nn(nn(nn(nn(nn({option:l,isActive:String(w)===t},A),{},{fill:"#eee"},z),j),Pc(g,C,w)),{},{onMouseEnter:D,onMouseLeave:T,onClick:R,dataKey:i,index:w,className:"recharts-bar-background-rectangle"});return y.createElement(_b,na({key:"background-bar-".concat(M.index)},M))}))}function a9(e){var{showLabels:t,children:n,rects:i}=e,l=i?.map(c=>{var d={x:c.x,y:c.y,width:c.width,height:c.height};return nn(nn({},d),{},{value:c.value,payload:c.payload,parentViewBox:c.parentViewBox,viewBox:d,fill:c.fill})});return y.createElement(sE,{value:t?l:void 0},n)}function s9(e){var{shape:t,activeBar:n,baseProps:i,entry:l,index:c,dataKey:d}=e,p=Ue(ta),m=Ue(qA),g=n&&String(c)===p&&(m==null||d===m),h=g?n:t;return y.createElement(_b,na({},i,l,{isActive:g,option:h,index:c,dataKey:d}))}function l9(e){var{shape:t,baseProps:n,entry:i,index:l,dataKey:c}=e;return y.createElement(_b,na({},n,i,{isActive:!1,option:t,index:l,dataKey:c}))}function c9(e){var{data:t,props:n}=e,i=Li(n),{id:l}=i,c=Af(i,Qq),{shape:d,dataKey:p,activeBar:m}=n,{onMouseEnter:g,onClick:h,onMouseLeave:x}=n,S=Af(n,Zq),j=bb(g,p),C=Sb(x),w=jb(h,p);return t?y.createElement(y.Fragment,null,t.map((k,z)=>y.createElement(Yr,na({className:"recharts-bar-rectangle"},Pc(S,k,z),{onMouseEnter:j(k,z),onMouseLeave:C(k,z),onClick:w(k,z),key:"rectangle-".concat(k?.x,"-").concat(k?.y,"-").concat(k?.value,"-").concat(z)}),m?y.createElement(s9,{shape:d,activeBar:m,baseProps:c,entry:k,index:z,dataKey:p}):y.createElement(l9,{shape:d,baseProps:c,entry:k,index:z,dataKey:p})))):null}function u9(e){var{props:t,previousRectanglesRef:n}=e,{data:i,layout:l,isAnimationActive:c,animationBegin:d,animationDuration:p,animationEasing:m,onAnimationEnd:g,onAnimationStart:h}=t,x=n.current,S=Ic(t,"recharts-bar-"),[j,C]=y.useState(!1),w=!j,k=y.useCallback(()=>{typeof g=="function"&&g(),C(!1)},[g]),z=y.useCallback(()=>{typeof h=="function"&&h(),C(!0)},[h]);return y.createElement(a9,{showLabels:w,rects:i},y.createElement(Bc,{animationId:S,begin:d,duration:p,isActive:c,easing:m,onAnimationEnd:k,onAnimationStart:z,key:S},E=>{var A=E===1?i:i?.map((D,T)=>{var R=x&&x[T];if(R)return nn(nn({},D),{},{x:pr(R.x,D.x,E),y:pr(R.y,D.y,E),width:pr(R.width,D.width,E),height:pr(R.height,D.height,E)});if(l==="horizontal"){var M=pr(0,D.height,E);return nn(nn({},D),{},{y:D.y+D.height-M,height:M})}var F=pr(0,D.width,E);return nn(nn({},D),{},{width:F})});return E>0&&(n.current=A??null),A==null?null:y.createElement(Yr,null,y.createElement(c9,{props:t,data:A}))}),y.createElement(mb,{label:t.label}),t.children)}function d9(e){var t=y.useRef(null);return y.createElement(u9,{previousRectanglesRef:t,props:e})}var CE=0,f9=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Yt(e,t)}};class p9 extends y.PureComponent{render(){var{hide:t,data:n,dataKey:i,className:l,xAxisId:c,yAxisId:d,needClip:p,background:m,id:g}=this.props;if(t||n==null)return null;var h=Ct("recharts-bar",l),x=g;return y.createElement(Yr,{className:h,id:g},p&&y.createElement("defs",null,y.createElement(wE,{clipPathId:x,xAxisId:c,yAxisId:d})),y.createElement(Yr,{className:"recharts-bar-rectangles",clipPath:p?"url(#clipPath-".concat(x,")"):void 0},y.createElement(o9,{data:n,dataKey:i,background:m,allOtherBarProps:this.props}),y.createElement(d9,this.props)))}}var g9={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!sa.isSsr,legendType:"rect",minPointSize:CE,xAxisId:0,yAxisId:0};function m9(e){var{xAxisId:t,yAxisId:n,hide:i,legendType:l,minPointSize:c,activeBar:d,animationBegin:p,animationDuration:m,animationEasing:g,isAnimationActive:h}=e,{needClip:x}=Tb(t,n),S=rp(),j=yn(),C=Bx(e.children,Fs),w=Ue(E=>U9(E,t,n,j,e.id,C));if(S!=="vertical"&&S!=="horizontal")return null;var k,z=w?.[0];return z==null||z.height==null||z.width==null?k=0:k=S==="vertical"?z.height/2:z.width/2,y.createElement(jE,{xAxisId:t,yAxisId:n,data:w,dataPointFormatter:f9,errorBarOffset:k},y.createElement(p9,na({},e,{layout:S,needClip:x,data:w,xAxisId:t,yAxisId:n,hide:i,legendType:l,minPointSize:c,activeBar:d,animationBegin:p,animationDuration:m,animationEasing:g,isAnimationActive:h})))}function h9(e){var{layout:t,barSettings:{dataKey:n,minPointSize:i},pos:l,bandSize:c,xAxis:d,yAxis:p,xAxisTicks:m,yAxisTicks:g,stackedData:h,displayedData:x,offset:S,cells:j,parentViewBox:C}=e,w=t==="horizontal"?p:d,k=h?w.scale.domain():null,z=T4({numericAxis:w});return x.map((E,A)=>{var D,T,R,M,F,U;h?D=j4(h[A],k):(D=Yt(E,n),Array.isArray(D)||(D=[z,D]));var le=Iq(i,CE)(D[1],A);if(t==="horizontal"){var Z,[ie,ge]=[p.scale(D[0]),p.scale(D[1])];T=lC({axis:d,ticks:m,bandSize:c,offset:l.offset,entry:E,index:A}),R=(Z=ge??ie)!==null&&Z!==void 0?Z:void 0,M=l.size;var fe=ie-ge;if(F=$n(fe)?0:fe,U={x:T,y:S.top,width:M,height:S.height},Math.abs(le)>0&&Math.abs(F)<Math.abs(le)){var Ee=Pr(F||le)*(Math.abs(le)-Math.abs(F));R-=Ee,F+=Ee}}else{var[W,J]=[d.scale(D[0]),d.scale(D[1])];if(T=W,R=lC({axis:p,ticks:g,bandSize:c,offset:l.offset,entry:E,index:A}),M=J-W,F=l.size,U={x:S.left,y:R,width:S.width,height:F},Math.abs(le)>0&&Math.abs(M)<Math.abs(le)){var ue=Pr(M||le)*(Math.abs(le)-Math.abs(M));M+=ue}}if(T==null||R==null||M==null||F==null)return null;var _e=nn(nn({},E),{},{x:T,y:R,width:M,height:F,value:h?D:D[1],payload:E,background:U,tooltipPosition:{x:T+M/2,y:R+F/2},parentViewBox:C},j&&j[A]&&j[A].props);return _e}).filter(Boolean)}function y9(e){var t=Vr(e,g9),n=yn();return y.createElement(Cb,{id:t.id,type:"bar"},i=>y.createElement(y.Fragment,null,y.createElement(hE,{legendPayload:n9(t)}),y.createElement(wb,{fn:i9,args:t}),y.createElement(xE,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:_4(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),y.createElement(m9,na({},t,{id:i}))))}var fx=y.memo(y9);fx.displayName="Bar";function C2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Rd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(n),!0).forEach(function(i){x9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function x9(e,t,n){return(t=v9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v9(e){var t=b9(e,"string");return typeof t=="symbol"?t:t+""}function b9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S9=(e,t)=>t,j9=(e,t,n)=>n,w9=(e,t,n,i)=>i,C9=(e,t,n,i,l)=>l,Jc=de([gp,C9],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),k9=de([Jc],e=>e?.maxBarSize),z9=(e,t,n,i,l,c)=>c,k2=(e,t,n)=>{var i=n??e;if(!or(i))return Zr(i,t,0)},_9=de([St,gp,S9,j9,w9],(e,t,n,i,l)=>t.filter(c=>e==="horizontal"?c.xAxisId===n:c.yAxisId===i).filter(c=>c.isPanorama===l).filter(c=>c.hide===!1).filter(c=>c.type==="bar")),T9=(e,t,n,i)=>{var l=St(e);return l==="horizontal"?ix(e,"yAxis",n,i):ix(e,"xAxis",t,i)},A9=(e,t,n)=>{var i=St(e);return i==="horizontal"?kk(e,"xAxis",t):kk(e,"yAxis",n)},E9=(e,t,n)=>{var i={},l=e.filter(pp),c=e.filter(g=>g.stackId==null),d=l.reduce((g,h)=>(g[h.stackId]||(g[h.stackId]=[]),g[h.stackId].push(h),g),i),p=Object.entries(d).map(g=>{var[h,x]=g,S=x.map(C=>C.dataKey),j=k2(t,n,x[0].barSize);return{stackId:h,dataKeys:S,barSize:j}}),m=c.map(g=>{var h=[g.dataKey].filter(S=>S!=null),x=k2(t,n,g.barSize);return{stackId:void 0,dataKeys:h,barSize:x}});return[...p,...m]},O9=de([_9,lL,A9],E9),M9=(e,t,n,i,l)=>{var c,d,p=Jc(e,t,n,i,l);if(p!=null){var m=St(e),g=BT(e),{maxBarSize:h}=p,x=or(h)?g:h,S,j;return m==="horizontal"?(S=ea(e,"xAxis",t,i),j=Jo(e,"xAxis",t,i)):(S=ea(e,"yAxis",n,i),j=Jo(e,"yAxis",n,i)),(c=(d=jc(S,j,!0))!==null&&d!==void 0?d:x)!==null&&c!==void 0?c:0}},kE=(e,t,n,i)=>{var l=St(e),c,d;return l==="horizontal"?(c=ea(e,"xAxis",t,i),d=Jo(e,"xAxis",t,i)):(c=ea(e,"yAxis",n,i),d=Jo(e,"yAxis",n,i)),jc(c,d)};function R9(e,t,n,i,l){var c=i.length;if(!(c<1)){var d=Zr(e,n,0,!0),p,m=[];if(Nn(i[0].barSize)){var g=!1,h=n/c,x=i.reduce((z,E)=>z+(E.barSize||0),0);x+=(c-1)*d,x>=n&&(x-=(c-1)*d,d=0),x>=n&&h>0&&(g=!0,h*=.9,x=c*h);var S=(n-x)/2>>0,j={offset:S-d,size:0};p=i.reduce((z,E)=>{var A,D={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:j.offset+j.size+d,size:g?h:(A=E.barSize)!==null&&A!==void 0?A:0}},T=[...z,D];return j=T[T.length-1].position,T},m)}else{var C=Zr(t,n,0,!0);n-2*C-(c-1)*d<=0&&(d=0);var w=(n-2*C-(c-1)*d)/c;w>1&&(w>>=0);var k=Nn(l)?Math.min(w,l):w;p=i.reduce((z,E,A)=>[...z,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:C+(w+d)*A+(w-k)/2,size:k}}],m)}return p}}var D9=(e,t,n,i,l,c,d)=>{var p=or(d)?t:d,m=R9(n,i,l!==c?l:c,e,p);return l!==c&&m!=null&&(m=m.map(g=>Rd(Rd({},g),{},{position:Rd(Rd({},g.position),{},{offset:g.position.offset-l/2})}))),m},$9=de([O9,BT,sL,IT,M9,kE,k9],D9),P9=(e,t,n,i)=>ea(e,"xAxis",t,i),N9=(e,t,n,i)=>ea(e,"yAxis",n,i),L9=(e,t,n,i)=>Jo(e,"xAxis",t,i),W9=(e,t,n,i)=>Jo(e,"yAxis",n,i),B9=de([$9,Jc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(i=>i.stackId===t.stackId&&t.dataKey!=null&&i.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),I9=(e,t)=>{var n=Bv(t);if(!(!e||n==null||t==null)){var{stackId:i}=t;if(i!=null){var l=e[i];if(l){var{stackedData:c}=l;if(c)return c.find(d=>d.key===n)}}}},q9=de([T9,Jc],I9),U9=de([Or,rv,P9,N9,L9,W9,B9,St,cp,kE,q9,Jc,z9],(e,t,n,i,l,c,d,p,m,g,h,x,S)=>{var{chartData:j,dataStartIndex:C,dataEndIndex:w}=m;if(!(x==null||d==null||t==null||p!=="horizontal"&&p!=="vertical"||n==null||i==null||l==null||c==null||g==null)){var{data:k}=x,z;if(k!=null&&k.length>0?z=k:z=j?.slice(C,w+1),z!=null)return h9({layout:p,barSettings:x,pos:d,parentViewBox:t,bandSize:g,xAxis:n,yAxis:i,xAxisTicks:l,yAxisTicks:c,stackedData:h,displayedData:z,offset:e,cells:S})}}),zE=e=>{var{chartData:t}=e,n=cr(),i=yn();return y.useEffect(()=>i?()=>{}:(n($k(t)),()=>{n($k(void 0))}),[t,n,i]),null},z2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_E=Ln({name:"brush",initialState:z2,reducers:{setBrushSettings(e,t){return t.payload==null?z2:t.payload}}}),{setBrushSettings:_G}=_E.actions,H9=_E.reducer;function F9(e,t,n){return(t=K9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K9(e){var t=Y9(e,"string");return typeof t=="symbol"?t:t+""}function Y9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ab{static create(t){return new Ab(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(i)switch(i){case"start":return this.scale(t);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(t)+c}default:return this.scale(t)}if(n){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+d}return this.scale(t)}}isInRange(t){var n=this.range(),i=n[0],l=n[n.length-1];return i<=l?t>=i&&t<=l:t>=l&&t<=i}}F9(Ab,"EPS",1e-4);function V9(e){return(e%180+180)%180}var G9=function(t){var{width:n,height:i}=t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=V9(l),d=c*Math.PI/180,p=Math.atan(i/n),m=d>p&&d<Math.PI-p?i/Math.sin(d):n/Math.cos(d);return Math.abs(m)},X9={dots:[],areas:[],lines:[]},TE=Ln({name:"referenceElements",initialState:X9,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=lo(e).dots.findIndex(i=>i===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=lo(e).areas.findIndex(i=>i===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=lo(e).lines.findIndex(i=>i===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:TG,removeDot:AG,addArea:EG,removeArea:OG,addLine:MG,removeLine:RG}=TE.actions,Q9=TE.reducer,Z9=y.createContext(void 0),J9=e=>{var{children:t}=e,[n]=y.useState("".concat(vc("recharts"),"-clip")),i=zb();if(i==null)return null;var{x:l,y:c,width:d,height:p}=i;return y.createElement(Z9.Provider,{value:n},y.createElement("defs",null,y.createElement("clipPath",{id:n},y.createElement("rect",{x:l,y:c,height:p,width:d}))),t)};function Ks(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var i in t)if({}.hasOwnProperty.call(t,i)&&!{}.hasOwnProperty.call(e,i))return!1;return!0}function AE(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var i=[],l=0;l<e.length;l+=t)i.push(e[l]);return i}function eU(e,t,n){var i={width:e.width+t.width,height:e.height+t.height};return G9(i,n)}function tU(e,t,n){var i=n==="width",{x:l,y:c,width:d,height:p}=e;return t===1?{start:i?l:c,end:i?l+d:c+p}:{start:i?l+d:c+p,end:i?l:c}}function Ef(e,t,n,i,l){if(e*t<e*i||e*t>e*l)return!1;var c=n();return e*(t-e*c/2-i)>=0&&e*(t+e*c/2-l)<=0}function rU(e,t){return AE(e,t+1)}function nU(e,t,n,i,l){for(var c=(i||[]).slice(),{start:d,end:p}=t,m=0,g=1,h=d,x=function(){var C=i?.[m];if(C===void 0)return{v:AE(i,g)};var w=m,k,z=()=>(k===void 0&&(k=n(C,w)),k),E=C.coordinate,A=m===0||Ef(e,E,z,h,p);A||(m=0,h=d,g+=1),A&&(h=E+e*(z()/2+l),m+=g)},S;g<=c.length;)if(S=x(),S)return S.v;return[]}function _2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(n),!0).forEach(function(i){iU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function iU(e,t,n){return(t=oU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oU(e){var t=aU(e,"string");return typeof t=="symbol"?t:t+""}function aU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sU(e,t,n,i,l){for(var c=(i||[]).slice(),d=c.length,{start:p}=t,{end:m}=t,g=function(S){var j=c[S],C,w=()=>(C===void 0&&(C=n(j,S)),C);if(S===d-1){var k=e*(j.coordinate+e*w()/2-m);c[S]=j=Xr(Xr({},j),{},{tickCoord:k>0?j.coordinate-k*e:j.coordinate})}else c[S]=j=Xr(Xr({},j),{},{tickCoord:j.coordinate});var z=Ef(e,j.tickCoord,w,p,m);z&&(m=j.tickCoord-e*(w()/2+l),c[S]=Xr(Xr({},j),{},{isShow:!0}))},h=d-1;h>=0;h--)g(h);return c}function lU(e,t,n,i,l,c){var d=(i||[]).slice(),p=d.length,{start:m,end:g}=t;if(c){var h=i[p-1],x=n(h,p-1),S=e*(h.coordinate+e*x/2-g);d[p-1]=h=Xr(Xr({},h),{},{tickCoord:S>0?h.coordinate-S*e:h.coordinate});var j=Ef(e,h.tickCoord,()=>x,m,g);j&&(g=h.tickCoord-e*(x/2+l),d[p-1]=Xr(Xr({},h),{},{isShow:!0}))}for(var C=c?p-1:p,w=function(E){var A=d[E],D,T=()=>(D===void 0&&(D=n(A,E)),D);if(E===0){var R=e*(A.coordinate-e*T()/2-m);d[E]=A=Xr(Xr({},A),{},{tickCoord:R<0?A.coordinate-R*e:A.coordinate})}else d[E]=A=Xr(Xr({},A),{},{tickCoord:A.coordinate});var M=Ef(e,A.tickCoord,T,m,g);M&&(m=A.tickCoord+e*(T()/2+l),d[E]=Xr(Xr({},A),{},{isShow:!0}))},k=0;k<C;k++)w(k);return d}function Eb(e,t,n){var{tick:i,ticks:l,viewBox:c,minTickGap:d,orientation:p,interval:m,tickFormatter:g,unit:h,angle:x}=e;if(!l||!l.length||!i)return[];if(Ge(m)||sa.isSsr){var S;return(S=rU(l,Ge(m)?m:0))!==null&&S!==void 0?S:[]}var j=[],C=p==="top"||p==="bottom"?"width":"height",w=h&&C==="width"?gc(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},k=(A,D)=>{var T=typeof g=="function"?g(A.value,D):A.value;return C==="width"?eU(gc(T,{fontSize:t,letterSpacing:n}),w,x):gc(T,{fontSize:t,letterSpacing:n})[C]},z=l.length>=2?Pr(l[1].coordinate-l[0].coordinate):1,E=tU(c,z,C);return m==="equidistantPreserveStart"?nU(z,E,k,l,d):(m==="preserveStart"||m==="preserveStartEnd"?j=lU(z,E,k,l,d,m==="preserveStartEnd"):j=sU(z,E,k,l,d),j.filter(A=>A.isShow))}var cU=e=>{var{ticks:t,label:n,labelGapWithTick:i=5,tickSize:l=0,tickMargin:c=0}=e,d=0;if(t){t.forEach(h=>{if(h){var x=h.getBoundingClientRect();x.width>d&&(d=x.width)}});var p=n?n.getBoundingClientRect().width:0,m=l+c,g=d+m+p+(n?i:0);return Math.round(g)}return 0},uU=["axisLine","width","height","className","hide","ticks"],dU=["viewBox"],fU=["viewBox"];function px(e,t){if(e==null)return{};var n,i,l=pU(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function pU(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fa.apply(null,arguments)}function T2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(n),!0).forEach(function(i){gU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function gU(e,t,n){return(t=mU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mU(e){var t=hU(e,"string");return typeof t=="symbol"?t:t+""}function hU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ob={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function yU(e){var{x:t,y:n,width:i,height:l,orientation:c,mirror:d,axisLine:p,otherSvgProps:m}=e;if(!p)return null;var g=Er(Er(Er({},m),lr(p,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);g=Er(Er({},g),{},{x1:t,y1:n+h*l,x2:t+i,y2:n+h*l})}else{var x=+(c==="left"&&!d||c==="right"&&d);g=Er(Er({},g),{},{x1:t+x*i,y1:n,x2:t+x*i,y2:n+l})}return y.createElement("line",Fa({},g,{className:Ct("recharts-cartesian-axis-line",Ia(p,"className"))}))}function xU(e,t,n,i,l,c,d,p,m){var g,h,x,S,j,C,w=p?-1:1,k=e.tickSize||d,z=Ge(e.tickCoord)?e.tickCoord:e.coordinate;switch(c){case"top":g=h=e.coordinate,S=n+ +!p*l,x=S-w*k,C=x-w*m,j=z;break;case"left":x=S=e.coordinate,h=t+ +!p*i,g=h-w*k,j=g-w*m,C=z;break;case"right":x=S=e.coordinate,h=t+ +p*i,g=h+w*k,j=g+w*m,C=z;break;default:g=h=e.coordinate,S=n+ +p*l,x=S+w*k,C=x+w*m,j=z;break}return{line:{x1:g,y1:x,x2:h,y2:S},tick:{x:j,y:C}}}function vU(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function bU(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function SU(e){var{option:t,tickProps:n,value:i}=e,l,c=Ct(n.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))l=y.cloneElement(t,Er(Er({},n),{},{className:c}));else if(typeof t=="function")l=t(Er(Er({},n),{},{className:c}));else{var d="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(d=Ct(d,t?.className)),l=y.createElement(bp,Fa({},n,{className:d}),i)}return l}function jU(e){var{ticks:t=[],tick:n,tickLine:i,stroke:l,tickFormatter:c,unit:d,padding:p,tickTextProps:m,orientation:g,mirror:h,x,y:S,width:j,height:C,tickSize:w,tickMargin:k,fontSize:z,letterSpacing:E,getTicksConfig:A,events:D}=e,T=Eb(Er(Er({},A),{},{ticks:t}),z,E),R=vU(g,h),M=bU(g,h),F=Li(A),U=lr(n,!1),le=Er(Er({},F),{},{fill:"none"},lr(i,!1)),Z=T.map((ie,ge)=>{var{line:fe,tick:Ee}=xU(ie,x,S,j,C,g,w,h,k),W=Er(Er(Er(Er({textAnchor:R,verticalAnchor:M},F),{},{stroke:"none",fill:l},U),Ee),{},{index:ge,payload:ie,visibleTicksCount:T.length,tickFormatter:c,padding:p},m);return y.createElement(Yr,Fa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},Pc(D,ie,ge)),i&&y.createElement("line",Fa({},le,fe,{className:Ct("recharts-cartesian-axis-tick-line",Ia(i,"className"))})),n&&y.createElement(SU,{option:n,tickProps:W,value:"".concat(typeof c=="function"?c(ie.value,ge):ie.value).concat(d||"")}))});return Z.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},Z):null}var wU=y.forwardRef((e,t)=>{var{axisLine:n,width:i,height:l,className:c,hide:d,ticks:p}=e,m=px(e,uU),[g,h]=y.useState(""),[x,S]=y.useState(""),j=y.useRef([]);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return cU({ticks:j.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var C=y.useCallback(w=>{if(w){var k=w.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=Array.from(k);var z=k[0];if(z){var E=window.getComputedStyle(z),A=E.fontSize,D=E.letterSpacing;(A!==g||D!==x)&&(h(A),S(D))}}},[g,x]);return d||i!=null&&i<=0||l!=null&&l<=0?null:y.createElement(Yr,{className:Ct("recharts-cartesian-axis",c),ref:C},y.createElement(yU,{x:e.x,y:e.y,width:i,height:l,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Li(e)}),y.createElement(jU,{ticks:p,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:g,letterSpacing:x,getTicksConfig:e,events:m}),y.createElement(TI,{x:e.x,y:e.y,width:e.width,height:e.height},y.createElement(LI,{label:e.label}),e.children))}),CU=y.memo(wU,(e,t)=>{var{viewBox:n}=e,i=px(e,dU),{viewBox:l}=t,c=px(t,fU);return Ks(n,l)&&Ks(i,c)}),Mb=y.forwardRef((e,t)=>{var n=Vr(e,Ob);return y.createElement(CU,Fa({},n,{ref:t}))});Mb.displayName="CartesianAxis";var kU=["x1","y1","x2","y2","key"],zU=["offset"],_U=["xAxisId","yAxisId"],TU=["xAxisId","yAxisId"];function A2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(n),!0).forEach(function(i){AU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function AU(e,t,n){return(t=EU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EU(e){var t=OU(e,"string");return typeof t=="symbol"?t:t+""}function OU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pa.apply(null,arguments)}function Of(e,t){if(e==null)return{};var n,i,l=MU(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function MU(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var RU=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:i,y:l,width:c,height:d,ry:p}=e;return y.createElement("rect",{x:i,y:l,ry:p,width:c,height:d,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function EE(e,t){var n;if(y.isValidElement(e))n=y.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:i,y1:l,x2:c,y2:d,key:p}=t,m=Of(t,kU),g=Li(m),{offset:h}=g,x=Of(g,zU);n=y.createElement("line",Pa({},x,{x1:i,y1:l,x2:c,y2:d,fill:"none",key:p}))}return n}function DU(e){var{x:t,width:n,horizontal:i=!0,horizontalPoints:l}=e;if(!i||!l||!l.length)return null;var{xAxisId:c,yAxisId:d}=e,p=Of(e,_U),m=l.map((g,h)=>{var x=Qr(Qr({},p),{},{x1:t,y1:g,x2:t+n,y2:g,key:"line-".concat(h),index:h});return EE(i,x)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function $U(e){var{y:t,height:n,vertical:i=!0,verticalPoints:l}=e;if(!i||!l||!l.length)return null;var{xAxisId:c,yAxisId:d}=e,p=Of(e,TU),m=l.map((g,h)=>{var x=Qr(Qr({},p),{},{x1:g,y1:t,x2:g,y2:t+n,key:"line-".concat(h),index:h});return EE(i,x)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function PU(e){var{horizontalFill:t,fillOpacity:n,x:i,y:l,width:c,height:d,horizontalPoints:p,horizontal:m=!0}=e;if(!m||!t||!t.length)return null;var g=p.map(x=>Math.round(x+l-l)).sort((x,S)=>x-S);l!==g[0]&&g.unshift(0);var h=g.map((x,S)=>{var j=!g[S+1],C=j?l+d-x:g[S+1]-x;if(C<=0)return null;var w=S%t.length;return y.createElement("rect",{key:"react-".concat(S),y:x,x:i,height:C,width:c,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function NU(e){var{vertical:t=!0,verticalFill:n,fillOpacity:i,x:l,y:c,width:d,height:p,verticalPoints:m}=e;if(!t||!n||!n.length)return null;var g=m.map(x=>Math.round(x+l-l)).sort((x,S)=>x-S);l!==g[0]&&g.unshift(0);var h=g.map((x,S)=>{var j=!g[S+1],C=j?l+d-x:g[S+1]-x;if(C<=0)return null;var w=S%n.length;return y.createElement("rect",{key:"react-".concat(S),x,y:c,width:C,height:p,stroke:"none",fill:n[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var LU=(e,t)=>{var{xAxis:n,width:i,height:l,offset:c}=e;return __(Eb(Qr(Qr(Qr({},Ob),n),{},{ticks:T_(n),viewBox:{x:0,y:0,width:i,height:l}})),c.left,c.left+c.width,t)},WU=(e,t)=>{var{yAxis:n,width:i,height:l,offset:c}=e;return __(Eb(Qr(Qr(Qr({},Ob),n),{},{ticks:T_(n),viewBox:{x:0,y:0,width:i,height:l}})),c.top,c.top+c.height,t)},BU={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function qd(e){var t=iv(),n=ov(),i=M_(),l=Qr(Qr({},Vr(e,BU)),{},{x:Ge(e.x)?e.x:i.left,y:Ge(e.y)?e.y:i.top,width:Ge(e.width)?e.width:i.width,height:Ge(e.height)?e.height:i.height}),{xAxisId:c,yAxisId:d,x:p,y:m,width:g,height:h,syncWithTicks:x,horizontalValues:S,verticalValues:j}=l,C=yn(),w=Ue(U=>zk(U,"xAxis",c,C)),k=Ue(U=>zk(U,"yAxis",d,C));if(!Ge(g)||g<=0||!Ge(h)||h<=0||!Ge(p)||p!==+p||!Ge(m)||m!==+m)return null;var z=l.verticalCoordinatesGenerator||LU,E=l.horizontalCoordinatesGenerator||WU,{horizontalPoints:A,verticalPoints:D}=l;if((!A||!A.length)&&typeof E=="function"){var T=S&&S.length,R=E({yAxis:k?Qr(Qr({},k),{},{ticks:T?S:k.ticks}):void 0,width:t,height:n,offset:i},T?!0:x);pc(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(A=R)}if((!D||!D.length)&&typeof z=="function"){var M=j&&j.length,F=z({xAxis:w?Qr(Qr({},w),{},{ticks:M?j:w.ticks}):void 0,width:t,height:n,offset:i},M?!0:x);pc(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(D=F)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(RU,{fill:l.fill,fillOpacity:l.fillOpacity,x:l.x,y:l.y,width:l.width,height:l.height,ry:l.ry}),y.createElement(PU,Pa({},l,{horizontalPoints:A})),y.createElement(NU,Pa({},l,{verticalPoints:D})),y.createElement(DU,Pa({},l,{offset:i,horizontalPoints:A,xAxis:w,yAxis:k})),y.createElement($U,Pa({},l,{offset:i,verticalPoints:D,xAxis:w,yAxis:k})))}qd.displayName="CartesianGrid";var OE=(e,t,n,i)=>ea(e,"xAxis",t,i),ME=(e,t,n,i)=>Jo(e,"xAxis",t,i),RE=(e,t,n,i)=>ea(e,"yAxis",n,i),DE=(e,t,n,i)=>Jo(e,"yAxis",n,i),IU=de([St,OE,RE,ME,DE],(e,t,n,i,l)=>aa(e,"xAxis")?jc(t,i,!1):jc(n,l,!1)),qU=(e,t,n,i,l)=>l;function UU(e){return e.type==="line"}var HU=de([gp,qU],(e,t)=>e.filter(UU).find(n=>n.id===t)),FU=de([St,OE,RE,ME,DE,HU,IU,cp],(e,t,n,i,l,c,d,p)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:h}=p;if(!(c==null||t==null||n==null||i==null||l==null||i.length===0||l.length===0||d==null)){var{dataKey:x,data:S}=c,j;if(S!=null&&S.length>0?j=S:j=m?.slice(g,h+1),j!=null)return pH({layout:e,xAxis:t,yAxis:n,xAxisTicks:i,yAxisTicks:l,dataKey:x,bandSize:d,displayedData:j})}}),KU=["id"],YU=["type","layout","connectNulls","needClip"],VU=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function E2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(n),!0).forEach(function(i){GU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function GU(e,t,n){return(t=XU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XU(e){var t=QU(e,"string");return typeof t=="symbol"?t:t+""}function QU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rb(e,t){if(e==null)return{};var n,i,l=ZU(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function ZU(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ka.apply(null,arguments)}var JU=e=>{var{dataKey:t,name:n,stroke:i,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:i,value:Js(n,t),payload:e}]};function eH(e){var{dataKey:t,data:n,stroke:i,strokeWidth:l,fill:c,name:d,hide:p,unit:m}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:i,strokeWidth:l,fill:c,dataKey:t,nameKey:void 0,name:Js(d,t),hide:p,type:e.tooltipType,color:e.stroke,unit:m}}}var $E=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function tH(e,t){for(var n=e.length%2!==0?[...e,0]:e,i=[],l=0;l<t;++l)i=[...i,...n];return i}var rH=(e,t,n)=>{var i=n.reduce((x,S)=>x+S);if(!i)return $E(t,e);for(var l=Math.floor(e/i),c=e%i,d=t-e,p=[],m=0,g=0;m<n.length;g+=n[m],++m)if(g+n[m]>c){p=[...n.slice(0,m),c-g];break}var h=p.length%2===0?[0,d]:[d];return[...tH(n,l),...p,...h].map(x=>"".concat(x,"px")).join(", ")};function nH(e,t){var n;if(y.isValidElement(e))n=y.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var i=Ct("recharts-line-dot",typeof e!="boolean"?e.className:"");n=y.createElement(cE,Ka({},t,{className:i}))}return n}function iH(e,t){return e==null?!1:t?!0:e.length===1}function oH(e){var{clipPathId:t,points:n,props:i}=e,{dot:l,dataKey:c,needClip:d}=i;if(!iH(n,l))return null;var{id:p}=i,m=Rb(i,KU),g=jz(l),h=Li(m),x=lr(l,!0),S=n.map((C,w)=>{var k=En(En(En({key:"dot-".concat(w),r:3},h),x),{},{index:w,cx:C.x,cy:C.y,dataKey:c,value:C.value,payload:C.payload,points:n});return nH(l,k)}),j={clipPath:d?"url(#clipPath-".concat(g?"":"dots-").concat(t,")"):void 0};return y.createElement(Yr,Ka({className:"recharts-line-dots",key:"dots"},j),S)}function aH(e){var{showLabels:t,children:n,points:i}=e,l=y.useMemo(()=>i?.map(c=>{var d={x:c.x,y:c.y,width:0,height:0};return En(En({},d),{},{value:c.value,payload:c.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[i]);return y.createElement(sE,{value:t?l:null},n)}function O2(e){var{clipPathId:t,pathRef:n,points:i,strokeDasharray:l,props:c}=e,{type:d,layout:p,connectNulls:m,needClip:g}=c,h=Rb(c,YU),x=En(En({},lr(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:g?"url(#clipPath-".concat(t,")"):void 0,points:i,type:d,layout:p,connectNulls:m,strokeDasharray:l??c.strokeDasharray});return y.createElement(y.Fragment,null,i?.length>1&&y.createElement(sv,Ka({},x,{pathRef:n})),y.createElement(oH,{points:i,clipPathId:t,props:c}))}function sH(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function lH(e){var{clipPathId:t,props:n,pathRef:i,previousPointsRef:l,longestAnimatedLengthRef:c}=e,{points:d,strokeDasharray:p,isAnimationActive:m,animationBegin:g,animationDuration:h,animationEasing:x,animateNewValues:S,width:j,height:C,onAnimationEnd:w,onAnimationStart:k}=n,z=l.current,E=Ic(n,"recharts-line-"),[A,D]=y.useState(!1),T=!A,R=y.useCallback(()=>{typeof w=="function"&&w(),D(!1)},[w]),M=y.useCallback(()=>{typeof k=="function"&&k(),D(!0)},[k]),F=sH(i.current),U=c.current;return y.createElement(aH,{points:d,showLabels:T},n.children,y.createElement(Bc,{animationId:E,begin:g,duration:h,isActive:m,easing:x,onAnimationEnd:R,onAnimationStart:M,key:E},le=>{var Z=pr(U,F+U,le),ie=Math.min(Z,F),ge;if(m)if(p){var fe="".concat(p).split(/[,\s]+/gim).map(J=>parseFloat(J));ge=rH(ie,F,fe)}else ge=$E(F,ie);else ge=p==null?void 0:String(p);if(z){var Ee=z.length/d.length,W=le===1?d:d.map((J,ue)=>{var _e=Math.floor(ue*Ee);if(z[_e]){var Ae=z[_e];return En(En({},J),{},{x:pr(Ae.x,J.x,le),y:pr(Ae.y,J.y,le)})}return S?En(En({},J),{},{x:pr(j*2,J.x,le),y:pr(C/2,J.y,le)}):En(En({},J),{},{x:J.x,y:J.y})});return l.current=W,y.createElement(O2,{props:n,points:W,clipPathId:t,pathRef:i,strokeDasharray:ge})}return le>0&&F>0&&(l.current=d,c.current=ie),y.createElement(O2,{props:n,points:d,clipPathId:t,pathRef:i,strokeDasharray:ge})}),y.createElement(mb,{label:n.label}))}function cH(e){var{clipPathId:t,props:n}=e,i=y.useRef(null),l=y.useRef(0),c=y.useRef(null);return y.createElement(lH,{props:n,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:l,pathRef:c})}var uH=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Yt(e.payload,t)});class dH extends y.Component{render(){var t,{hide:n,dot:i,points:l,className:c,xAxisId:d,yAxisId:p,top:m,left:g,width:h,height:x,id:S,needClip:j}=this.props;if(n)return null;var C=Ct("recharts-line",c),w=S,{r:k=3,strokeWidth:z=2}=(t=lr(i,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},E=jz(i),A=k*2+z;return y.createElement(y.Fragment,null,y.createElement(Yr,{className:C},j&&y.createElement("defs",null,y.createElement(wE,{clipPathId:w,xAxisId:d,yAxisId:p}),!E&&y.createElement("clipPath",{id:"clipPath-dots-".concat(w)},y.createElement("rect",{x:g-A/2,y:m-A/2,width:h+A,height:x+A}))),y.createElement(jE,{xAxisId:d,yAxisId:p,data:l,dataPointFormatter:uH,errorBarOffset:0},y.createElement(cH,{props:this.props,clipPathId:w}))),y.createElement(Oq,{activeDot:this.props.activeDot,points:l,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var PE={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!sa.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function fH(e){var t=Vr(e,PE),{activeDot:n,animateNewValues:i,animationBegin:l,animationDuration:c,animationEasing:d,connectNulls:p,dot:m,hide:g,isAnimationActive:h,label:x,legendType:S,xAxisId:j,yAxisId:C,id:w}=t,k=Rb(t,VU),{needClip:z}=Tb(j,C),E=zb(),A=rp(),D=yn(),T=Ue(le=>FU(le,j,C,D,w));if(A!=="horizontal"&&A!=="vertical"||T==null||E==null)return null;var{height:R,width:M,x:F,y:U}=E;return y.createElement(dH,Ka({},k,{id:w,connectNulls:p,dot:m,activeDot:n,animateNewValues:i,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:h,hide:g,label:x,legendType:S,xAxisId:j,yAxisId:C,points:T,layout:A,height:R,width:M,left:F,top:U,needClip:z}))}function pH(e){var{layout:t,xAxis:n,yAxis:i,xAxisTicks:l,yAxisTicks:c,dataKey:d,bandSize:p,displayedData:m}=e;return m.map((g,h)=>{var x=Yt(g,d);if(t==="horizontal"){var S=sC({axis:n,ticks:l,bandSize:p,entry:g,index:h}),j=or(x)?null:i.scale(x);return{x:S,y:j,value:x,payload:g}}var C=or(x)?null:n.scale(x),w=sC({axis:i,ticks:c,bandSize:p,entry:g,index:h});return C==null||w==null?null:{x:C,y:w,value:x,payload:g}}).filter(Boolean)}function gH(e){var t=Vr(e,PE),n=yn();return y.createElement(Cb,{id:t.id,type:"line"},i=>y.createElement(y.Fragment,null,y.createElement(hE,{legendPayload:JU(t)}),y.createElement(wb,{fn:eH,args:t}),y.createElement(xE,{type:"line",id:i,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),y.createElement(fH,Ka({},t,{id:i}))))}var NE=y.memo(gH);NE.displayName="Line";var mH=["dangerouslySetInnerHTML","ticks"],hH=["id"],yH=["domain"],xH=["domain"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gx.apply(null,arguments)}function Mf(e,t){if(e==null)return{};var n,i,l=vH(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function vH(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function bH(e){var t=cr();return y.useEffect(()=>(t(xq(e)),()=>{t(vq(e))}),[e,t]),null}var SH=e=>{var{xAxisId:t,className:n}=e,i=Ue(rv),l=yn(),c="xAxis",d=Ue(k=>al(k,c,t,l)),p=Ue(k=>wA(k,c,t,l)),m=Ue(k=>vA(k,t)),g=Ue(k=>JL(k,t)),h=Ue(k=>XT(k,t));if(m==null||g==null||h==null)return null;var{dangerouslySetInnerHTML:x,ticks:S}=e,j=Mf(e,mH),{id:C}=h,w=Mf(h,hH);return y.createElement(Mb,gx({},j,w,{scale:d,x:g.x,y:g.y,width:m.width,height:m.height,className:Ct("recharts-".concat(c," ").concat(c),n),viewBox:i,ticks:p}))},jH={allowDataOverflow:_n.allowDataOverflow,allowDecimals:_n.allowDecimals,allowDuplicatedCategory:_n.allowDuplicatedCategory,height:_n.height,hide:!1,mirror:_n.mirror,orientation:_n.orientation,padding:_n.padding,reversed:_n.reversed,scale:_n.scale,tickCount:_n.tickCount,type:_n.type,xAxisId:0},wH=e=>{var t,n,i,l,c,d=Vr(e,jH);return y.createElement(y.Fragment,null,y.createElement(bH,{interval:(t=d.interval)!==null&&t!==void 0?t:"preserveEnd",id:d.xAxisId,scale:d.scale,type:d.type,padding:d.padding,allowDataOverflow:d.allowDataOverflow,domain:d.domain,dataKey:d.dataKey,allowDuplicatedCategory:d.allowDuplicatedCategory,allowDecimals:d.allowDecimals,tickCount:d.tickCount,includeHidden:(n=d.includeHidden)!==null&&n!==void 0?n:!1,reversed:d.reversed,ticks:d.ticks,height:d.height,orientation:d.orientation,mirror:d.mirror,hide:d.hide,unit:d.unit,name:d.name,angle:(i=d.angle)!==null&&i!==void 0?i:0,minTickGap:(l=d.minTickGap)!==null&&l!==void 0?l:5,tick:(c=d.tick)!==null&&c!==void 0?c:!0,tickFormatter:d.tickFormatter}),y.createElement(SH,d))},CH=(e,t)=>{var{domain:n}=e,i=Mf(e,yH),{domain:l}=t,c=Mf(t,xH);return Ks(i,c)?Array.isArray(n)&&n.length===2&&Array.isArray(l)&&l.length===2?n[0]===l[0]&&n[1]===l[1]:Ks({domain:n},{domain:l}):!1},Ud=y.memo(wH,CH);Ud.displayName="XAxis";var kH=["dangerouslySetInnerHTML","ticks"],zH=["id"],_H=["domain"],TH=["domain"];function mx(){return mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mx.apply(null,arguments)}function Rf(e,t){if(e==null)return{};var n,i,l=AH(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function AH(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function EH(e){var t=cr();return y.useEffect(()=>(t(bq(e)),()=>{t(Sq(e))}),[e,t]),null}var OH=e=>{var{yAxisId:t,className:n,width:i,label:l}=e,c=y.useRef(null),d=y.useRef(null),p=Ue(rv),m=yn(),g=cr(),h="yAxis",x=Ue(T=>al(T,h,t,m)),S=Ue(T=>bA(T,t)),j=Ue(T=>tW(T,t)),C=Ue(T=>wA(T,h,t,m)),w=Ue(T=>QT(T,t));if(y.useLayoutEffect(()=>{if(!(i!=="auto"||!S||gb(l)||y.isValidElement(l)||w==null)){var T=c.current;if(T){var R=T.getCalculatedWidth();Math.round(S.width)!==Math.round(R)&&g(jq({id:t,width:R}))}}},[C,S,g,l,t,i,w]),S==null||j==null||w==null)return null;var{dangerouslySetInnerHTML:k,ticks:z}=e,E=Rf(e,kH),{id:A}=w,D=Rf(w,zH);return y.createElement(Mb,mx({},E,D,{ref:c,labelRef:d,scale:x,x:j.x,y:j.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:S.width,height:S.height,className:Ct("recharts-".concat(h," ").concat(h),n),viewBox:p,ticks:C}))},MH={allowDataOverflow:Tn.allowDataOverflow,allowDecimals:Tn.allowDecimals,allowDuplicatedCategory:Tn.allowDuplicatedCategory,hide:!1,mirror:Tn.mirror,orientation:Tn.orientation,padding:Tn.padding,reversed:Tn.reversed,scale:Tn.scale,tickCount:Tn.tickCount,type:Tn.type,width:Tn.width,yAxisId:0},RH=e=>{var t,n,i,l,c,d=Vr(e,MH);return y.createElement(y.Fragment,null,y.createElement(EH,{interval:(t=d.interval)!==null&&t!==void 0?t:"preserveEnd",id:d.yAxisId,scale:d.scale,type:d.type,domain:d.domain,allowDataOverflow:d.allowDataOverflow,dataKey:d.dataKey,allowDuplicatedCategory:d.allowDuplicatedCategory,allowDecimals:d.allowDecimals,tickCount:d.tickCount,padding:d.padding,includeHidden:(n=d.includeHidden)!==null&&n!==void 0?n:!1,reversed:d.reversed,ticks:d.ticks,width:d.width,orientation:d.orientation,mirror:d.mirror,hide:d.hide,unit:d.unit,name:d.name,angle:(i=d.angle)!==null&&i!==void 0?i:0,minTickGap:(l=d.minTickGap)!==null&&l!==void 0?l:5,tick:(c=d.tick)!==null&&c!==void 0?c:!0,tickFormatter:d.tickFormatter}),y.createElement(OH,d))},DH=(e,t)=>{var{domain:n}=e,i=Rf(e,_H),{domain:l}=t,c=Rf(t,TH);return Ks(i,c)?Array.isArray(n)&&n.length===2&&Array.isArray(l)&&l.length===2?n[0]===l[0]&&n[1]===l[1]:Ks({domain:n},{domain:l}):!1},Hd=y.memo(RH,DH);Hd.displayName="YAxis";var dy={exports:{}},fy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M2;function $H(){if(M2)return fy;M2=1;var e=Gs();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,p=e.useDebugValue;return fy.useSyncExternalStoreWithSelector=function(m,g,h,x,S){var j=l(null);if(j.current===null){var C={hasValue:!1,value:null};j.current=C}else C=j.current;j=d(function(){function k(T){if(!z){if(z=!0,E=T,T=x(T),S!==void 0&&C.hasValue){var R=C.value;if(S(R,T))return A=R}return A=T}if(R=A,n(E,T))return R;var M=x(T);return S!==void 0&&S(R,M)?(E=T,R):(E=T,A=M)}var z=!1,E,A,D=h===void 0?null:h;return[function(){return k(g())},D===null?void 0:function(){return k(D())}]},[g,h,x,S]);var w=i(m,j[0],j[1]);return c(function(){C.hasValue=!0,C.value=w},[w]),p(w),w},fy}var R2;function PH(){return R2||(R2=1,dy.exports=$H()),dy.exports}PH();function NH(e){e()}function LH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){NH(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const l=t={callback:n,next:null,prev:t};return l.prev?l.prev.next=l:e=l,function(){!i||e===null||(i=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}var D2={notify(){},get:()=>[]};function WH(e,t){let n,i=D2,l=0,c=!1;function d(w){h();const k=i.subscribe(w);let z=!1;return()=>{z||(z=!0,k(),x())}}function p(){i.notify()}function m(){C.onStateChange&&C.onStateChange()}function g(){return c}function h(){l++,n||(n=e.subscribe(m),i=LH())}function x(){l--,n&&l===0&&(n(),n=void 0,i.clear(),i=D2)}function S(){c||(c=!0,h())}function j(){c&&(c=!1,x())}const C={addNestedSub:d,notifyNestedSubs:p,handleChangeWrapper:m,isSubscribed:g,trySubscribe:S,tryUnsubscribe:j,getListeners:()=>i};return C}var BH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IH=BH(),qH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",UH=qH(),HH=()=>IH||UH?y.useLayoutEffect:y.useEffect,FH=HH(),KH=Symbol.for("react-redux-context"),YH=typeof globalThis<"u"?globalThis:{};function VH(){if(!y.createContext)return{};const e=YH[KH]??=new Map;let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var GH=VH();function XH(e){const{children:t,context:n,serverState:i,store:l}=e,c=y.useMemo(()=>{const m=WH(l);return{store:l,subscription:m,getServerState:i?()=>i:void 0}},[l,i]),d=y.useMemo(()=>l.getState(),[l]);FH(()=>{const{subscription:m}=c;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),d!==l.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[c,d]);const p=n||GH;return y.createElement(p.Provider,{value:c},t)}var QH=XH,ZH=(e,t)=>t,Db=de([ZH,St,YT,Rr,LA,wo,aB,Or],dB),$b=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,i=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/i)}},LE=ri("mouseClick"),WE=Lc();WE.startListening({actionCreator:LE,effect:(e,t)=>{var n=e.payload,i=Db(t.getState(),$b(n));i?.activeIndex!=null&&t.dispatch(gW({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var hx=ri("mouseMove"),BE=Lc();BE.startListening({actionCreator:hx,effect:(e,t)=>{var n=e.payload,i=t.getState(),l=ib(i,i.tooltip.settings.shared),c=Db(i,$b(n));l==="axis"&&(c?.activeIndex!=null?t.dispatch(OA({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(EA()))}});var $2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},IE=Ln({name:"rootProps",initialState:$2,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:$2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),JH=IE.reducer,{updateOptions:eF}=IE.actions,qE=Ln({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:tF}=qE.actions,rF=qE.reducer,UE=ri("keyDown"),HE=ri("focus"),Pb=Lc();Pb.startListening({actionCreator:UE,effect:(e,t)=>{var n=t.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:l}=n.tooltip,c=e.payload;if(!(c!=="ArrowRight"&&c!=="ArrowLeft"&&c!=="Enter")){var d=Number(ob(l,ll(n))),p=wo(n);if(c==="Enter"){var m=kf(n,"axis","hover",String(l.index));t.dispatch(ax({active:!l.active,activeIndex:l.index,activeDataKey:l.dataKey,activeCoordinate:m}));return}var g=oW(n),h=g==="left-to-right"?1:-1,x=c==="ArrowRight"?1:-1,S=d+x*h;if(!(p==null||S>=p.length||S<0)){var j=kf(n,"axis","hover",String(S));t.dispatch(ax({active:!0,activeIndex:S.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}});Pb.startListening({actionCreator:HE,effect:(e,t)=>{var n=t.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:l}=n.tooltip;if(!l.active&&l.index==null){var c="0",d=kf(n,"axis","hover",String(c));t.dispatch(ax({activeDataKey:void 0,active:!0,activeIndex:c,activeCoordinate:d}))}}}});var Qn=ri("externalEvent"),FE=Lc();FE.startListening({actionCreator:Qn,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),i={activeCoordinate:XW(n),activeDataKey:qA(n),activeIndex:ta(n),activeLabel:IA(n),activeTooltipIndex:ta(n),isTooltipActive:QW(n)};e.payload.handler(i,e.payload.reactEvent)}}});var nF=de([sl],e=>e.tooltipItemPayloads),iF=de([nF,Qc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,i)=>{var l=e.find(p=>p.settings.dataKey===i);if(l!=null){var{positions:c}=l;if(c!=null){var d=t(c,n);return d}}}),KE=ri("touchMove"),YE=Lc();YE.startListening({actionCreator:KE,effect:(e,t)=>{var n=e.payload,i=t.getState(),l=ib(i,i.tooltip.settings.shared);if(l==="axis"){var c=Db(i,$b({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));c?.activeIndex!=null&&t.dispatch(OA({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(l==="item"){var d,p=n.touches[0],m=document.elementFromPoint(p.clientX,p.clientY);if(!m||!m.getAttribute)return;var g=m.getAttribute(E_),h=(d=m.getAttribute(O_))!==null&&d!==void 0?d:void 0,x=iF(t.getState(),g,h);t.dispatch(AA({activeDataKey:h,activeIndex:g,activeCoordinate:x}))}}});var oF=r_({brush:H9,cartesianAxis:wq,chartData:_B,errorBars:Uq,graphicalItems:q7,layout:a4,legend:X4,options:jB,polarAxis:o7,polarOptions:rF,referenceElements:Q9,rootProps:JH,tooltip:mW}),aF=function(t){return OP({reducer:oF,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([WE.middleware,BE.middleware,Pb.middleware,FE.middleware,YE.middleware]),devTools:sa.devToolsEnabled})};function VE(e){var{preloadedState:t,children:n,reduxStoreName:i}=e,l=yn(),c=y.useRef(null);if(l)return n;c.current==null&&(c.current=aF(t));var d=Xx;return y.createElement(QH,{context:d,store:c.current},n)}function GE(e){var{layout:t,width:n,height:i,margin:l}=e,c=cr(),d=yn();return y.useEffect(()=>{d||(c(n4(t)),c(i4({width:n,height:i})),c(r4(l)))},[c,d,t,n,i,l]),null}function XE(e){var t=cr();return y.useEffect(()=>{t(eF(e))},[t,e]),null}var sF=["children"];function lF(e,t){if(e==null)return{};var n,i,l=cF(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function cF(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Df.apply(null,arguments)}var uF={width:"100%",height:"100%"},dF=y.forwardRef((e,t)=>{var n=iv(),i=ov(),l=P_();if(!Bs(n)||!Bs(i))return null;var{children:c,otherAttributes:d,title:p,desc:m}=e,g,h;return typeof d.tabIndex=="number"?g=d.tabIndex:g=l?0:void 0,typeof d.role=="string"?h=d.role:h=l?"application":void 0,y.createElement(Ix,Df({},d,{title:p,desc:m,role:h,tabIndex:g,width:n,height:i,style:uF,ref:t}),c)}),fF=e=>{var{children:t}=e,n=Ue(tp);if(!n)return null;var{width:i,height:l,y:c,x:d}=n;return y.createElement(Ix,{width:i,height:l,x:d,y:c},t)},P2=y.forwardRef((e,t)=>{var{children:n}=e,i=lF(e,sF),l=yn();return l?y.createElement(fF,null,n):y.createElement(dF,Df({ref:t},i),n)});function pF(){var e=cr(),[t,n]=y.useState(null),i=Ue($4);return y.useEffect(()=>{if(t!=null){var l=t.getBoundingClientRect(),c=l.width/t.offsetWidth;Nn(c)&&c!==i&&e(o4(c))}},[t,e,i]),n}function N2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function gF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(n),!0).forEach(function(i){mF(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function mF(e,t,n){return(t=hF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hF(e){var t=yF(e,"string");return typeof t=="symbol"?t:t+""}function yF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xF=y.forwardRef((e,t)=>{var{children:n,className:i,height:l,onClick:c,onContextMenu:d,onDoubleClick:p,onMouseDown:m,onMouseEnter:g,onMouseLeave:h,onMouseMove:x,onMouseUp:S,onTouchEnd:j,onTouchMove:C,onTouchStart:w,style:k,width:z}=e,E=cr(),[A,D]=y.useState(null),[T,R]=y.useState(null);PB();var M=pF(),F=y.useCallback(q=>{M(q),typeof t=="function"&&t(q),D(q),R(q)},[M,t,D,R]),U=y.useCallback(q=>{E(LE(q)),E(Qn({handler:c,reactEvent:q}))},[E,c]),le=y.useCallback(q=>{E(hx(q)),E(Qn({handler:g,reactEvent:q}))},[E,g]),Z=y.useCallback(q=>{E(EA()),E(Qn({handler:h,reactEvent:q}))},[E,h]),ie=y.useCallback(q=>{E(hx(q)),E(Qn({handler:x,reactEvent:q}))},[E,x]),ge=y.useCallback(()=>{E(HE())},[E]),fe=y.useCallback(q=>{E(UE(q.key))},[E]),Ee=y.useCallback(q=>{E(Qn({handler:d,reactEvent:q}))},[E,d]),W=y.useCallback(q=>{E(Qn({handler:p,reactEvent:q}))},[E,p]),J=y.useCallback(q=>{E(Qn({handler:m,reactEvent:q}))},[E,m]),ue=y.useCallback(q=>{E(Qn({handler:S,reactEvent:q}))},[E,S]),_e=y.useCallback(q=>{E(Qn({handler:w,reactEvent:q}))},[E,w]),Ae=y.useCallback(q=>{E(KE(q)),E(Qn({handler:C,reactEvent:q}))},[E,C]),N=y.useCallback(q=>{E(Qn({handler:j,reactEvent:q}))},[E,j]);return y.createElement(VA.Provider,{value:A},y.createElement(wz.Provider,{value:T},y.createElement("div",{className:Ct("recharts-wrapper",i),style:gF({position:"relative",cursor:"default",width:z,height:l},k),onClick:U,onContextMenu:Ee,onDoubleClick:W,onFocus:ge,onKeyDown:fe,onMouseDown:J,onMouseEnter:le,onMouseLeave:Z,onMouseMove:ie,onMouseUp:ue,onTouchEnd:N,onTouchMove:Ae,onTouchStart:_e,ref:F},n)))}),vF=["children","className","width","height","style","compact","title","desc"];function bF(e,t){if(e==null)return{};var n,i,l=SF(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function SF(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var QE=y.forwardRef((e,t)=>{var{children:n,className:i,width:l,height:c,style:d,compact:p,title:m,desc:g}=e,h=bF(e,vF),x=Li(h);return p?y.createElement(P2,{otherAttributes:x,title:m,desc:g},n):y.createElement(xF,{className:i,style:d,width:l,height:c,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(P2,{otherAttributes:x,title:m,desc:g,ref:t},y.createElement(J9,null,n)))}),jF=["width","height"];function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},yx.apply(null,arguments)}function wF(e,t){if(e==null)return{};var n,i,l=CF(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function CF(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var kF={top:5,right:5,bottom:5,left:5},zF={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:kF,reverseStackOrder:!1,syncMethod:"index"},ZE=y.forwardRef(function(t,n){var i,l=Vr(t.categoricalChartProps,zF),{width:c,height:d}=l,p=wF(l,jF);if(!Bs(c)||!Bs(d))return null;var{chartName:m,defaultTooltipEventType:g,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,categoricalChartProps:S}=t,j={chartName:m,defaultTooltipEventType:g,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,eventEmitter:void 0};return y.createElement(VE,{preloadedState:{options:j},reduxStoreName:(i=S.id)!==null&&i!==void 0?i:m},y.createElement(zE,{chartData:S.data}),y.createElement(GE,{width:c,height:d,layout:l.layout,margin:l.margin}),y.createElement(XE,{accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className}),y.createElement(QE,yx({},p,{width:c,height:d,ref:n})))}),_F=["axis"],TF=y.forwardRef((e,t)=>y.createElement(ZE,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_F,tooltipPayloadSearcher:pb,categoricalChartProps:e,ref:t})),AF=["axis","item"],L2=y.forwardRef((e,t)=>y.createElement(ZE,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:AF,tooltipPayloadSearcher:pb,categoricalChartProps:e,ref:t}));function EF(e){var t=cr();return y.useEffect(()=>{t(tF(e))},[t,e]),null}var OF=["width","height","layout"];function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xx.apply(null,arguments)}function MF(e,t){if(e==null)return{};var n,i,l=RF(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function RF(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var DF={top:5,right:5,bottom:5,left:5},$F={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:DF,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},PF=y.forwardRef(function(t,n){var i,l=Vr(t.categoricalChartProps,$F),{width:c,height:d,layout:p}=l,m=MF(l,OF);if(!Bs(c)||!Bs(d))return null;var{chartName:g,defaultTooltipEventType:h,validateTooltipEventTypes:x,tooltipPayloadSearcher:S}=t,j={chartName:g,defaultTooltipEventType:h,validateTooltipEventTypes:x,tooltipPayloadSearcher:S,eventEmitter:void 0};return y.createElement(VE,{preloadedState:{options:j},reduxStoreName:(i=l.id)!==null&&i!==void 0?i:g},y.createElement(zE,{chartData:l.data}),y.createElement(GE,{width:c,height:d,layout:p,margin:l.margin}),y.createElement(XE,{accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className}),y.createElement(EF,{cx:l.cx,cy:l.cy,startAngle:l.startAngle,endAngle:l.endAngle,innerRadius:l.innerRadius,outerRadius:l.outerRadius}),y.createElement(QE,xx({width:c,height:d},m,{ref:n})))}),NF=["item"],LF={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},WF=y.forwardRef((e,t)=>{var n=Vr(e,LF);return y.createElement(PF,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:NF,tooltipPayloadSearcher:pb,categoricalChartProps:n,ref:t})});/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IF=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),W2=e=>{const t=IF(e);return t.charAt(0).toUpperCase()+t.slice(1)},JE=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),qF=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:c,iconNode:d,...p},m)=>y.createElement("svg",{ref:m,...UF,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:JE("lucide",l),...!c&&!qF(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,h])=>y.createElement(g,h)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(e,t)=>{const n=y.forwardRef(({className:i,...l},c)=>y.createElement(HF,{ref:c,iconNode:t,className:JE(`lucide-${BF(W2(e))}`,`lucide-${e}`,i),...l}));return n.displayName=W2(e),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],B2=Le("archive",FF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Ys=Le("arrow-down",KF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$f=Le("arrow-left",YF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],GF=Le("arrow-right",VF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],QF=Le("arrow-up-down",XF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Vs=Le("arrow-up",ZF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],eK=Le("bell",JF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vx=Le("calendar",tK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],bx=Le("camera",rK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ei=Le("chevron-down",nK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],oK=Le("chevron-left",iK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eO=Le("chevron-right",aK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ec=Le("chevron-up",sK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],cK=Le("chevrons-left",lK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],dK=Le("chevrons-right",uK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],mn=Le("circle-alert",fK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kt=Le("circle-check-big",pK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Oc=Le("circle-x",gK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tO=Le("circle",mK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mn=Le("clock",hK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],rO=Le("copy",yK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],vK=Le("dollar-sign",xK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ri=Le("external-link",bK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],jK=Le("eye-off",SK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CK=Le("eye",wK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],nO=Le("file-text",kK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],iO=Le("funnel",zK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],oO=Le("git-branch",_K);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],AK=Le("grip-vertical",TK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],aO=Le("info",EK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],MK=Le("key",OK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],DK=Le("layout-dashboard",RK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],py=Le("lightbulb",$K);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Sx=Le("link-2",PK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],sO=Le("list",NK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Dn=Le("loader-circle",LK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Pf=Le("loader",WK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],IK=Le("log-out",BK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Sp=Le("mail",qK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Oi=Le("message-circle",UK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],jx=Le("message-square",HK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ya=Le("minus",FK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],wx=Le("package",KK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],VK=Le("party-popper",YK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],XK=Le("pause",GK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Nf=Le("pen",QK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],cl=Le("phone",ZK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Lf=Le("play",JK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rr=Le("plus",eY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Nb=Le("refresh-cw",tY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],nY=Le("rotate-ccw",rY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Fd=Le("save",iY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yi=Le("search",oY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],sY=Le("send",aY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cY=Le("settings",lY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lO=Le("shield",uY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],cO=Le("shopping-cart",dY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Cx=Le("sparkles",fY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],eu=Le("square-pen",pY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],uO=Le("tag",gY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Mc=Le("target",mY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],uo=Le("ticket",hY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],kx=Le("toggle-left",yY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],zx=Le("toggle-right",xY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Kr=Le("trash-2",vY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],SY=Le("trending-down",bY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],wY=Le("trending-up",jY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xi=Le("triangle-alert",CY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ia=Le("truck",kY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],I2=Le("upload",zY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mc=Le("user-check",_Y);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],AY=Le("user-plus",TY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_x=Le("users",EY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Va=Le("user",OY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],dO=Le("video",MY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],vi=Le("wrench",RY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nt=Le("x",DY),fO=y.createContext(null),gy="",$Y=({children:e})=>{const[t,n]=y.useState(null),[i,l]=y.useState(!1),[c,d]=y.useState(!0);y.useEffect(()=>{const A=new AbortController;return(async()=>{try{const T=await fetch(`${gy}/api/auth/me`,{credentials:"include",signal:A.signal});if(T.ok){const R=await T.json();n(R.user),l(!0)}else l(!1),n(null)}catch(T){if(T.name==="AbortError")return;console.error("Auth check failed:",T),l(!1),n(null)}finally{A.signal.aborted||d(!1)}})(),()=>{A.abort()}},[]);const p=y.useCallback(async(A,D)=>{try{const T=await fetch(`${gy}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:A,password:D})});if(!T.ok){let M="Login failed";try{M=(await T.json()).error||M}catch{}throw new Error(M)}const R=await T.json();return n(R.user),l(!0),{success:!0,user:R.user}}catch(T){return{success:!1,error:T.message}}},[]),m=y.useCallback(async()=>{try{await fetch(`${gy}/api/auth/logout`,{method:"POST",credentials:"include"})}catch(A){console.error("Logout error:",A)}n(null),l(!1)},[]),g=y.useCallback(()=>!t||!t.roles?[]:t.roles.map(A=>A.name),[t]),h=y.useCallback(A=>!t||!t.roles?!1:t.roles.some(D=>D.name===A),[t]),x=y.useCallback(A=>{if(!t||!t.roles)return!1;const D=t.roles.map(T=>T.name);return A.some(T=>D.includes(T))},[t]),S=y.useCallback(A=>{if(!t||!t.roles)return!1;const D=t.roles.map(T=>T.name);return A.every(T=>D.includes(T))},[t]),j=y.useCallback(()=>!t||!t.permissions?[]:t.permissions,[t]),C=y.useCallback(A=>!t||!t.permissions?!1:t.permissions.includes(A),[t]),w=y.useCallback(A=>!t||!t.permissions?!1:A.some(D=>t.permissions.includes(D)),[t]),k=y.useCallback(A=>!t||!t.permissions?!1:A.every(D=>t.permissions.includes(D)),[t]),z=y.useCallback(()=>!t||!t.roles?!1:t.roles.some(A=>A.name==="site_admin"),[t]),E=y.useMemo(()=>({user:t,isAuthenticated:i,authLoading:c,login:p,logout:m,getRoles:g,hasRole:h,hasAnyRole:x,hasAllRoles:S,getPermissions:j,hasPermission:C,hasAnyPermission:w,hasAllPermissions:k,isSiteAdmin:z}),[t,i,c,p,m,g,h,x,S,j,C,w,k,z]);return s.jsx(fO.Provider,{value:E,children:e})},xn=()=>{const e=y.useContext(fO);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},r={colors:{background:{page:"#f8fafc",primary:"#f8fafc",secondary:"#ffffff",tertiary:"#f1f5f9",hover:"#e2e8f0",muted:"#f8fafc"},border:{light:"#e2e8f0",medium:"#cbd5e1",dark:"#94a3b8",focus:"#1e3a5f"},text:{primary:"#0f172a",secondary:"#475569",tertiary:"#64748b",inverse:"#ffffff",link:"#1e3a5f"},accent:{primary:"#1e3a5f",primaryHover:"#152d47",primaryLight:"#e8f0f8",primaryMuted:"#dbeafe",secondary:"#5a8aa3",secondaryHover:"#4a7a93",success:"#059669",successHover:"#047857",successLight:"#d1fae5",warning:"#d97706",warningLight:"#fef3c7",danger:"#dc2626",dangerLight:"#fee2e2",info:"#0891b2",infoLight:"#cffafe"},status:{online:"#059669",onlineLight:"#d1fae5",offline:"#64748b",offlineLight:"#f1f5f9",busy:"#dc2626",busyLight:"#fee2e2",away:"#d97706",awayLight:"#fef3c7"},chart:{blue:"#1e3a5f",lightBlue:"#3b82f6",purple:"#7c3aed",green:"#059669",orange:"#ea580c",pink:"#db2777",cyan:"#0891b2",yellow:"#ca8a04",red:"#dc2626",gray:"#64748b"}},radius:{xs:"4px",sm:"6px",md:"8px",lg:"12px",xl:"16px","2xl":"20px",full:"9999px"},shadows:{xs:"0 1px 2px 0 rgba(0, 0, 0, 0.03)",sm:"0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 1px 2px -1px rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.07), 0 2px 4px -2px rgba(0, 0, 0, 0.05)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -4px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.08), 0 8px 10px -6px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.15)",inner:"inset 0 2px 4px 0 rgba(0, 0, 0, 0.05)",focus:"0 0 0 3px rgba(30, 58, 95, 0.15)"},spacing:{xs:"0.25rem",sm:"0.5rem",md:"0.75rem",lg:"1rem",xl:"1.5rem","2xl":"2rem","3xl":"2.5rem","4xl":"3rem"},fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"},lineHeight:{tight:"1.25",normal:"1.5",relaxed:"1.75"},transitions:{fast:"150ms ease",normal:"200ms ease",slow:"300ms ease",bounce:"300ms cubic-bezier(0.68, -0.55, 0.265, 1.55)"},zIndex:{dropdown:1e3,sticky:1020,fixed:1030,modal:1040,popover:1050,tooltip:1060},breakpoints:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"}};r.shadows.focus,r.colors.background.secondary,r.radius.xl,`${r.colors.border.light}`,r.shadows.sm,r.fontWeight.medium,r.radius.md,r.transitions.fast,r.colors.background.secondary,`${r.colors.border.medium}`,r.radius.md,r.fontSize.base,r.colors.text.primary,r.transitions.fast;const pO=({children:e,variant:t="primary",size:n="md",loading:i=!1,disabled:l=!1,fullWidth:c=!1,icon:d,iconPosition:p="left",type:m="button",onClick:g,className:h,style:x={},...S})=>{const[j,C]=hi.useState(!1),[w,k]=hi.useState(!1),z={primary:{background:r.colors.accent.primary,backgroundHover:r.colors.accent.primaryHover,color:r.colors.text.inverse,border:"none"},secondary:{background:r.colors.background.tertiary,backgroundHover:r.colors.background.hover,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`},outline:{background:"transparent",backgroundHover:r.colors.accent.primaryLight,color:r.colors.accent.primary,border:`1px solid ${r.colors.accent.primary}`},ghost:{background:"transparent",backgroundHover:r.colors.background.tertiary,color:r.colors.text.secondary,border:"none"},danger:{background:r.colors.accent.danger,backgroundHover:"#b91c1c",color:r.colors.text.inverse,border:"none"},dangerOutline:{background:"transparent",backgroundHover:r.colors.accent.dangerLight,color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`},success:{background:r.colors.accent.success,backgroundHover:"#047857",color:r.colors.text.inverse,border:"none"}},E={xs:{padding:"4px 10px",fontSize:r.fontSize.xs,height:"28px",gap:"4px",iconSize:12},sm:{padding:"6px 12px",fontSize:r.fontSize.sm,height:"32px",gap:"6px",iconSize:14},md:{padding:"8px 16px",fontSize:r.fontSize.sm,height:"38px",gap:"8px",iconSize:16},lg:{padding:"12px 24px",fontSize:r.fontSize.base,height:"46px",gap:"10px",iconSize:18},xl:{padding:"16px 32px",fontSize:r.fontSize.lg,height:"54px",gap:"12px",iconSize:20}},A=z[t]||z.primary,D=E[n]||E.md,T=l||i,R=()=>T?r.colors.background.tertiary:w||j?A.backgroundHover:A.background,M={button:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:D.gap,padding:D.padding,height:D.height,backgroundColor:R(),color:T?r.colors.text.tertiary:A.color,border:A.border,borderRadius:r.radius.lg,fontSize:D.fontSize,fontWeight:r.fontWeight.medium,cursor:T?"not-allowed":"pointer",transition:r.transitions.fast,width:c?"100%":"auto",opacity:T?.6:1,transform:w&&!T?"scale(0.98)":"scale(1)",boxShadow:t==="primary"&&!T?r.shadows.sm:"none",outline:"none",textDecoration:"none",whiteSpace:"nowrap",...x},spinner:{animation:"spin 1s linear infinite"}},F=U=>i&&U==="left"?s.jsx(Dn,{size:D.iconSize,style:M.spinner}):d&&p===U?hi.cloneElement(d,{size:D.iconSize}):null;return s.jsxs("button",{type:m,className:h,style:M.button,disabled:T,onClick:g,onMouseEnter:()=>C(!0),onMouseLeave:()=>{C(!1),k(!1)},onMouseDown:()=>k(!0),onMouseUp:()=>k(!1),...S,children:[F("left"),e,F("right")]})},Tx=y.forwardRef(({type:e="text",label:t,placeholder:n,value:i,onChange:l,onBlur:c,onFocus:d,error:p,helperText:m,disabled:g=!1,required:h=!1,icon:x,iconPosition:S="left",clearable:j=!1,onClear:C,size:w="md",fullWidth:k=!0,className:z,style:E={},inputStyle:A={},...D},T)=>{const[R,M]=y.useState(!1),[F,U]=y.useState(!1),le=e==="password",Z=e==="search",ie=i&&i.length>0,ge={sm:{height:"34px",padding:"8px 12px",fontSize:r.fontSize.sm,iconSize:14,labelSize:r.fontSize.xs},md:{height:"42px",padding:"10px 14px",fontSize:r.fontSize.base,iconSize:16,labelSize:r.fontSize.sm},lg:{height:"50px",padding:"12px 16px",fontSize:r.fontSize.lg,iconSize:18,labelSize:r.fontSize.sm}},fe=ge[w]||ge.md,Ee=()=>p?r.colors.accent.danger:R?r.colors.accent.primary:r.colors.border.medium,W=()=>p&&R?`0 0 0 3px ${r.colors.accent.dangerLight}`:R?r.shadows.focus:"none",J={container:{display:"flex",flexDirection:"column",gap:r.spacing.sm,width:k?"100%":"auto",...E},labelWrapper:{display:"flex",alignItems:"center",justifyContent:"space-between"},label:{color:p?r.colors.accent.danger:r.colors.text.primary,fontSize:fe.labelSize,fontWeight:r.fontWeight.medium},required:{color:r.colors.accent.danger,marginLeft:"2px"},inputWrapper:{position:"relative",display:"flex",alignItems:"center"},input:{width:"100%",height:fe.height,padding:fe.padding,paddingLeft:x&&S==="left"?`calc(${fe.padding} + 24px)`:fe.padding,paddingRight:le||j||x&&S==="right"?`calc(${fe.padding} + 28px)`:fe.padding,backgroundColor:g?r.colors.background.tertiary:r.colors.background.secondary,border:`1px solid ${Ee()}`,borderRadius:r.radius.lg,fontSize:fe.fontSize,color:g?r.colors.text.tertiary:r.colors.text.primary,outline:"none",transition:r.transitions.fast,boxShadow:W(),cursor:g?"not-allowed":"text",...A},iconLeft:{position:"absolute",left:"12px",color:R?r.colors.accent.primary:r.colors.text.tertiary,pointerEvents:"none",transition:r.transitions.fast},iconRight:{position:"absolute",right:"12px",color:r.colors.text.tertiary,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"4px",borderRadius:r.radius.sm,transition:r.transitions.fast},helperText:{fontSize:r.fontSize.xs,color:p?r.colors.accent.danger:r.colors.text.tertiary,marginTop:"-2px"}},ue=oe=>{M(!0),d?.(oe)},_e=oe=>{M(!1),c?.(oe)},Ae=()=>{C?.(),l?.({target:{value:""}})},N=()=>Z?s.jsx("div",{style:J.iconLeft,children:s.jsx(yi,{size:fe.iconSize})}):x&&S==="left"?s.jsx("div",{style:J.iconLeft,children:hi.cloneElement(x,{size:fe.iconSize})}):null,q=()=>le?s.jsx("div",{style:J.iconRight,onClick:()=>U(!F),role:"button",tabIndex:-1,onMouseEnter:oe=>{oe.currentTarget.style.backgroundColor=r.colors.background.tertiary},onMouseLeave:oe=>{oe.currentTarget.style.backgroundColor="transparent"},children:F?s.jsx(jK,{size:fe.iconSize}):s.jsx(CK,{size:fe.iconSize})}):j&&ie?s.jsx("div",{style:J.iconRight,onClick:Ae,role:"button",tabIndex:-1,onMouseEnter:oe=>{oe.currentTarget.style.backgroundColor=r.colors.background.tertiary},onMouseLeave:oe=>{oe.currentTarget.style.backgroundColor="transparent"},children:s.jsx(Nt,{size:fe.iconSize})}):x&&S==="right"?s.jsx("div",{style:{...J.iconRight,cursor:"default",pointerEvents:"none"},children:hi.cloneElement(x,{size:fe.iconSize})}):null;return s.jsxs("div",{className:z,style:J.container,children:[t&&s.jsx("div",{style:J.labelWrapper,children:s.jsxs("label",{style:J.label,children:[t,h&&s.jsx("span",{style:J.required,children:"*"})]})}),s.jsxs("div",{style:J.inputWrapper,children:[N(),s.jsx("input",{ref:T,type:le&&F?"text":e,placeholder:n,value:i,onChange:l,onFocus:ue,onBlur:_e,disabled:g,required:h,style:J.input,...D}),q()]}),(m||p)&&s.jsx("span",{style:J.helperText,children:p||m})]})});Tx.displayName="Input";const PY=y.forwardRef(({label:e,placeholder:t,value:n,onChange:i,error:l,helperText:c,disabled:d=!1,required:p=!1,rows:m=4,resize:g="vertical",fullWidth:h=!0,className:x,style:S={},...j},C)=>{const[w,k]=y.useState(!1),z=()=>l?r.colors.accent.danger:w?r.colors.accent.primary:r.colors.border.medium,E={container:{display:"flex",flexDirection:"column",gap:r.spacing.sm,width:h?"100%":"auto",...S},label:{color:l?r.colors.accent.danger:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},required:{color:r.colors.accent.danger,marginLeft:"2px"},textarea:{width:"100%",padding:"12px 14px",backgroundColor:d?r.colors.background.tertiary:r.colors.background.secondary,border:`1px solid ${z()}`,borderRadius:r.radius.lg,fontSize:r.fontSize.base,color:d?r.colors.text.tertiary:r.colors.text.primary,outline:"none",transition:r.transitions.fast,boxShadow:w?r.shadows.focus:"none",resize:g,fontFamily:"inherit",lineHeight:r.lineHeight.normal},helperText:{fontSize:r.fontSize.xs,color:l?r.colors.accent.danger:r.colors.text.tertiary}};return s.jsxs("div",{className:x,style:E.container,children:[e&&s.jsxs("label",{style:E.label,children:[e,p&&s.jsx("span",{style:E.required,children:"*"})]}),s.jsx("textarea",{ref:C,placeholder:t,value:n,onChange:i,onFocus:()=>k(!0),onBlur:()=>k(!1),disabled:d,required:p,rows:m,style:E.textarea,...j}),(c||l)&&s.jsx("span",{style:E.helperText,children:l||c})]})});PY.displayName="Textarea";function NY(){const[e,t]=y.useState(""),[n,i]=y.useState(""),[l,c]=y.useState(""),[d,p]=y.useState(!1),{login:m}=xn(),g=async x=>{x.preventDefault(),c(""),p(!0);const S=await m(e,n);S.success||(c(S.error||"Login failed"),p(!1))},h={page:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:r.colors.background.page,padding:r.spacing.xl},container:{width:"100%",maxWidth:"420px"},logoSection:{textAlign:"center",marginBottom:r.spacing["3xl"]},logo:{maxWidth:"240px",width:"100%",height:"auto",marginBottom:r.spacing.lg},subtitle:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},card:{padding:r.spacing["2xl"],backgroundColor:r.colors.background.secondary,borderRadius:r.radius["2xl"],border:`1px solid ${r.colors.border.light}`,boxShadow:r.shadows.lg},cardHeader:{marginBottom:r.spacing["2xl"],textAlign:"center"},cardTitle:{margin:0,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,marginBottom:r.spacing.xs},cardDescription:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},form:{display:"flex",flexDirection:"column",gap:r.spacing.xl},errorBox:{display:"flex",alignItems:"center",gap:r.spacing.md,padding:r.spacing.lg,backgroundColor:r.colors.accent.dangerLight,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.lg,color:r.colors.accent.danger,fontSize:r.fontSize.sm},footer:{marginTop:r.spacing["2xl"],textAlign:"center",color:r.colors.text.tertiary,fontSize:r.fontSize.xs},footerLink:{color:r.colors.accent.primary,textDecoration:"none",fontWeight:r.fontWeight.medium}};return s.jsx("div",{style:h.page,children:s.jsxs("div",{style:h.container,children:[s.jsxs("div",{style:h.logoSection,children:[s.jsx("img",{src:"/max-logo.png",alt:"MAX - Mobile AI Xpress Support",style:h.logo}),s.jsx("p",{style:h.subtitle,children:"Van Support Management System"})]}),s.jsxs("div",{style:h.card,children:[s.jsxs("div",{style:h.cardHeader,children:[s.jsx("h1",{style:h.cardTitle,children:"Welcome back"}),s.jsx("p",{style:h.cardDescription,children:"Sign in to access your dashboard"})]}),s.jsxs("form",{onSubmit:g,style:h.form,children:[s.jsx(Tx,{label:"Email Address",type:"email",value:e,onChange:x=>t(x.target.value),placeholder:"you@example.com",required:!0,autoComplete:"email",disabled:d}),s.jsx(Tx,{label:"Password",type:"password",value:n,onChange:x=>i(x.target.value),placeholder:"Enter your password",required:!0,autoComplete:"current-password",disabled:d}),l&&s.jsxs("div",{style:h.errorBox,children:[s.jsx(mn,{size:18}),s.jsx("span",{children:l})]}),s.jsx(pO,{type:"submit",loading:d,fullWidth:!0,size:"lg",children:d?"Signing in...":"Sign In"})]}),s.jsx("div",{style:h.footer,children:s.jsxs("p",{style:{margin:0},children:["Need help?"," ",s.jsx("a",{href:"mailto:support@maxsupport.com",style:h.footerLink,children:"Contact Support"})]})})]})]})})}const LY=({notifications:e,unreadCount:t,onMarkAsRead:n,onMarkAllAsRead:i})=>{const[l,c]=y.useState(!1),d=y.useRef(null),p=ii();y.useEffect(()=>{const h=x=>{d.current&&!d.current.contains(x.target)&&c(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const m=h=>{n(h.id),h.ticket_id&&p(`/tickets/${h.ticket_id}`),c(!1)},g=h=>{const x=new Date(h),j=new Date-x,C=Math.floor(j/6e4);if(C<1)return"Just now";if(C<60)return`${C}m ago`;const w=Math.floor(j/36e5);return w<24?`${w}h ago`:x.toLocaleDateString()};return s.jsxs("div",{ref:d,style:{position:"relative"},children:[s.jsxs("button",{onClick:()=>c(!l),"aria-label":`Notifications${t>0?` (${t} unread)`:""}`,style:{position:"relative",background:"transparent",border:"none",cursor:"pointer",padding:r.spacing.sm,borderRadius:r.radius.md,color:r.colors.text.secondary,display:"flex",alignItems:"center",justifyContent:"center"},children:[s.jsx(eK,{size:20}),t>0&&s.jsx("span",{style:{position:"absolute",top:"2px",right:"2px",minWidth:"16px",height:"16px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.danger,color:"#ffffff",fontSize:"10px",fontWeight:r.fontWeight.bold,display:"flex",alignItems:"center",justifyContent:"center",padding:"0 4px"},children:t>9?"9+":t})]}),l&&s.jsxs("div",{style:{position:"absolute",bottom:"100%",left:"0",marginBottom:r.spacing.sm,width:"320px",maxHeight:"400px",overflowY:"auto",backgroundColor:r.colors.background.primary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.lg,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",zIndex:1e3},children:[s.jsxs("div",{style:{padding:r.spacing.md,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:"Notifications"}),t>0&&s.jsx("button",{onClick:h=>{h.stopPropagation(),i()},style:{fontSize:r.fontSize.xs,color:r.colors.accent.primary,background:"none",border:"none",cursor:"pointer",fontWeight:r.fontWeight.medium},children:"Mark all read"})]}),e.length===0?s.jsx("div",{style:{padding:r.spacing.xl,textAlign:"center",color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:"No new notifications"}):e.map(h=>s.jsxs("div",{role:"button",tabIndex:0,onClick:()=>m(h),onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),m(h))},style:{padding:r.spacing.md,borderBottom:`1px solid ${r.colors.border.light}`,cursor:"pointer",transition:"background-color 0.15s",outline:"none"},onMouseEnter:x=>{x.currentTarget.style.backgroundColor=r.colors.background.secondary},onMouseLeave:x=>{x.currentTarget.style.backgroundColor="transparent"},onFocus:x=>{x.currentTarget.style.backgroundColor=r.colors.background.secondary},onBlur:x=>{x.currentTarget.style.backgroundColor="transparent"},children:[s.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,lineHeight:"1.4"},children:h.message_body}),s.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{children:g(h.created_at)}),h.metadata?.priority&&s.jsx("span",{style:{padding:"1px 6px",borderRadius:r.radius.sm,backgroundColor:h.metadata.priority==="high"||h.metadata.priority==="urgent"?"rgba(239, 68, 68, 0.1)":r.colors.background.tertiary,color:h.metadata.priority==="high"||h.metadata.priority==="urgent"?r.colors.accent.danger:r.colors.text.secondary,fontSize:r.fontSize.xs},children:h.metadata.priority})]})]},h.id))]})]})},my="",WY=3e4,BY=e=>{const[t,n]=y.useState([]),[i,l]=y.useState(0),[c,d]=y.useState([]),p=y.useRef(0),m=y.useCallback(async S=>{if(e)try{const j=await fetch(`${my}/api/notifications/unread`,{credentials:"include",signal:S});if(!j.ok)return;const C=await j.json(),w=p.current;if(C.length>w&&w>=0&&p.current!==0){const k=C.slice(0,C.length-w);d(k)}n(C),l(C.length),p.current=C.length}catch(j){if(j.name==="AbortError")return}},[e]),g=y.useCallback(async S=>{try{if(!(await fetch(`${my}/api/notifications/${S}/read`,{method:"POST",credentials:"include"})).ok)return;n(C=>C.filter(w=>w.id!==S)),l(C=>Math.max(0,C-1)),p.current=Math.max(0,p.current-1)}catch{}},[]),h=y.useCallback(async()=>{try{if(!(await fetch(`${my}/api/notifications/read-all`,{method:"POST",credentials:"include"})).ok)return;n([]),l(0),p.current=0}catch{}},[]),x=y.useCallback(()=>{d([])},[]);return y.useEffect(()=>{if(!e)return;const S=new AbortController;let j;const C=async()=>{S.signal.aborted||await m(S.signal)};return C(),j=setInterval(C,WY),()=>{S.abort(),clearInterval(j)}},[e,m]),{notifications:t,unreadCount:i,newNotifications:c,clearNewNotifications:x,markAsRead:g,markAllAsRead:h,refetch:m}},gO=y.createContext(null);let IY=0;const qY=({children:e})=>{const[t,n]=y.useState([]),i=y.useCallback(h=>{n(x=>x.filter(S=>S.id!==h))},[]),l=y.useCallback((h,x="info",S=3e3)=>{const j=IY++,C={id:j,message:h,type:x,duration:S};return n(w=>[...w,C]),S>0&&setTimeout(()=>{i(j)},S),j},[i]),c=y.useCallback((h,x)=>l(h,"success",x),[l]),d=y.useCallback((h,x)=>l(h,"error",x),[l]),p=y.useCallback((h,x)=>l(h,"warning",x),[l]),m=y.useCallback((h,x)=>l(h,"info",x),[l]),g=y.useMemo(()=>({showToast:l,success:c,error:d,warning:p,info:m,removeToast:i}),[l,c,d,p,m,i]);return s.jsxs(gO.Provider,{value:g,children:[e,s.jsx(UY,{toasts:t,removeToast:i})]})},UY=({toasts:e,removeToast:t})=>s.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 pointer-events-none",children:e.map(n=>s.jsx(HY,{toast:n,onClose:()=>t(n.id)},n.id))}),HY=({toast:e,onClose:t})=>{const{message:n,type:i}=e,c=(()=>{switch(i){case"success":return{icon:Kt,bgColor:"bg-green-50",borderColor:"border-green-500",iconColor:"text-green-600",textColor:"text-green-900"};case"error":return{icon:Oc,bgColor:"bg-red-50",borderColor:"border-red-500",iconColor:"text-red-600",textColor:"text-red-900"};case"warning":return{icon:xi,bgColor:"bg-yellow-50",borderColor:"border-yellow-500",iconColor:"text-yellow-600",textColor:"text-yellow-900"};case"info":default:return{icon:aO,bgColor:"bg-blue-50",borderColor:"border-blue-500",iconColor:"text-blue-600",textColor:"text-blue-900"}}})(),d=c.icon;return s.jsxs("div",{className:`${c.bgColor} ${c.borderColor} border-l-4 rounded-lg shadow-lg p-4 flex items-start gap-3 min-w-[300px] max-w-md pointer-events-auto animate-slide-in`,role:"alert",children:[s.jsx(d,{className:`w-5 h-5 ${c.iconColor} flex-shrink-0 mt-0.5`}),s.jsx("p",{className:`${c.textColor} text-sm font-medium flex-1`,children:n}),s.jsx("button",{onClick:t,className:`${c.iconColor} hover:opacity-70 transition-opacity flex-shrink-0`,"aria-label":"Close notification",children:s.jsx(Nt,{className:"w-4 h-4"})})]})},tu=()=>{const e=y.useContext(gO);if(!e)throw new Error("useToast must be used within a ToastProvider");return e};if(typeof document<"u"){const e="toast-animations";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.textContent=`
      @keyframes slide-in {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      .animate-slide-in {
        animation: slide-in 0.3s ease-out;
      }
    `,document.head.appendChild(t)}}const FY="",zr=({user:e,onLogout:t,hasRole:n,isSiteAdmin:i})=>{const l=Ni(),[c,d]=y.useState(!0),[p,m]=y.useState(0),g=tu(),{notifications:h,unreadCount:x,newNotifications:S,clearNewNotifications:j,markAsRead:C,markAllAsRead:w}=BY(!!e),k=M=>i&&i()?!0:M.some(F=>n(F));y.useEffect(()=>{const M=async()=>{if(i&&i()||["technician","manager","admin"].some(le=>n(le)))try{const le=await fetch(`${FY}/api/sequences/active`,{credentials:"include"});if(le.ok){const Z=await le.json();m(Z?.length||0)}}catch(le){console.error("Error fetching active sequences count:",le)}};M();const F=setInterval(M,3e4);return()=>clearInterval(F)},[n,i]),y.useEffect(()=>{S.length>0&&(S.forEach(M=>{g.info(M.message_body,5e3)}),j())},[S,j,g]);const z=()=>{const M=[];return k(["admin","manager"])&&M.push({id:"dashboard",label:"Dashboard",Icon:DK,path:"/",show:!0}),k(["technician","manager","admin"])&&M.push({id:"support-tickets",label:"Support Tickets",Icon:uo,path:"/tickets",show:!0}),k(["technician","manager","admin"])&&M.push({id:"active-sequences",label:"Active Sequences",Icon:jx,path:"/active-sequences",show:!0,badge:p>0?p:null}),M.filter(F=>F.show)},E=()=>{const M=[];return k(["technician","manager","admin"])&&M.push({id:"sequences",label:"Sequences",Icon:sO,path:"/sequences",show:!0}),k(["admin"])&&M.push({id:"trigger-patterns",label:"Trigger Patterns",Icon:Mc,path:"/patterns",show:!0}),k(["technician","manager","admin"])&&M.push({id:"vans",label:"Vans",Icon:ia,path:"/vans",show:!0}),k(["technician","manager","admin"])&&M.push({id:"owners",label:"Owners",Icon:Va,path:"/owners",show:!0}),k(["admin"])&&M.push({id:"users",label:"Users",Icon:lO,path:"/users",show:!0}),M.filter(F=>F.show)},A=z(),D=E(),T=D.length>0,R={sidebar:{width:"260px",height:"100vh",backgroundColor:r.colors.background.secondary,borderRight:`1px solid ${r.colors.border.light}`,display:"flex",flexDirection:"column",position:"fixed",left:0,top:0,overflowY:"auto",zIndex:r.zIndex.fixed,boxShadow:r.shadows.sm},brand:{padding:r.spacing["2xl"],borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:r.colors.background.secondary},logo:{height:"48px",width:"auto",marginBottom:r.spacing.sm},brandName:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.accent.primary,letterSpacing:"0.05em"},brandTagline:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginTop:r.spacing.xs,fontWeight:r.fontWeight.medium,textAlign:"center"},userSection:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,backgroundColor:r.colors.background.tertiary},userInfo:{display:"flex",alignItems:"center",gap:r.spacing.md},avatar:{width:"44px",height:"44px",borderRadius:r.radius.lg,backgroundColor:r.colors.accent.primary,display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.text.inverse,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.lg,boxShadow:r.shadows.sm},userDetails:{flex:1,minWidth:0},userName:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},userRole:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginTop:"2px",textTransform:"capitalize"},navigation:{padding:r.spacing.lg,flex:1},sectionLabel:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.md,paddingLeft:r.spacing.md},navItem:M=>({width:"100%",display:"flex",alignItems:"center",gap:r.spacing.md,padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:M?r.colors.accent.primaryLight:"transparent",color:M?r.colors.accent.primary:r.colors.text.secondary,border:"none",borderRadius:r.radius.lg,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:M?r.fontWeight.semibold:r.fontWeight.medium,marginBottom:r.spacing.xs,transition:r.transitions.fast,textAlign:"left",textDecoration:"none",position:"relative"}),navItemActive:{boxShadow:`inset 3px 0 0 ${r.colors.accent.primary}`},badge:M=>({backgroundColor:M?r.colors.accent.primary:r.colors.background.tertiary,color:M?r.colors.text.inverse:r.colors.text.secondary,padding:"2px 8px",borderRadius:r.radius.full,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,minWidth:"20px",textAlign:"center"}),adminHeader:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:"transparent",color:r.colors.text.secondary,border:"none",borderRadius:r.radius.lg,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.xs,transition:r.transitions.fast,textAlign:"left"},adminSubmenu:{marginLeft:r.spacing.lg,marginTop:r.spacing.xs,paddingLeft:r.spacing.md,borderLeft:`2px solid ${r.colors.border.light}`},subNavItem:M=>({width:"100%",display:"flex",alignItems:"center",gap:r.spacing.md,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:M?r.colors.accent.primaryLight:"transparent",color:M?r.colors.accent.primary:r.colors.text.secondary,border:"none",borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:M?r.fontWeight.medium:r.fontWeight.normal,marginBottom:r.spacing.xs,transition:r.transitions.fast,textAlign:"left",textDecoration:"none"}),logoutSection:{padding:r.spacing.lg,borderTop:`1px solid ${r.colors.border.light}`,backgroundColor:r.colors.background.secondary},logoutButton:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.lg,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:r.transitions.fast}};return s.jsxs("nav",{"aria-label":"Main navigation",style:R.sidebar,children:[s.jsxs("div",{style:R.brand,children:[s.jsx("img",{src:"/max-logo-small.png",alt:"MAX Logo",style:R.logo}),s.jsx("h1",{style:R.brandName,children:"MAX"}),s.jsx("div",{style:R.brandTagline,children:"Mobile AI Xpress Support"})]}),e&&s.jsx("div",{style:R.userSection,children:s.jsxs("div",{style:R.userInfo,children:[s.jsx("div",{style:R.avatar,children:e.email?.charAt(0).toUpperCase()||"U"}),s.jsxs("div",{style:R.userDetails,children:[s.jsx("div",{style:R.userName,children:e.email?.split("@")[0]||"User"}),e.roles&&e.roles.length>0&&s.jsx("div",{style:R.userRole,children:e.roles[0].name})]})]})}),e&&s.jsx("div",{style:{padding:`${r.spacing.sm} ${r.spacing.xl}`,display:"flex",justifyContent:"flex-end",alignItems:"center"},children:s.jsx(LY,{notifications:h,unreadCount:x,onMarkAsRead:C,onMarkAllAsRead:w})}),s.jsxs("div",{style:R.navigation,children:[s.jsx("div",{style:R.sectionLabel,children:"Navigation"}),A.map(M=>{const F=M.Icon,U=l.pathname===M.path;return s.jsxs(xc,{to:M.path,style:{...R.navItem(U),...U?R.navItemActive:{}},onMouseEnter:le=>{U||(le.currentTarget.style.backgroundColor=r.colors.background.tertiary,le.currentTarget.style.color=r.colors.text.primary)},onMouseLeave:le=>{U||(le.currentTarget.style.backgroundColor="transparent",le.currentTarget.style.color=r.colors.text.secondary)},children:[s.jsx(F,{size:20,strokeWidth:U?2.5:2}),s.jsx("span",{style:{flex:1},children:M.label}),M.badge&&s.jsx("span",{style:R.badge(U),children:M.badge})]},M.id)}),T&&s.jsxs("div",{style:{marginTop:r.spacing.lg},children:[s.jsxs("button",{onClick:()=>d(!c),style:R.adminHeader,"aria-expanded":c,"aria-controls":"admin-submenu",onMouseEnter:M=>{M.currentTarget.style.backgroundColor=r.colors.background.tertiary},onMouseLeave:M=>{M.currentTarget.style.backgroundColor="transparent"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx(cY,{size:20}),s.jsx("span",{children:"Admin"})]}),c?s.jsx(ei,{size:16}):s.jsx(eO,{size:16})]}),c&&s.jsx("div",{id:"admin-submenu",role:"group",style:R.adminSubmenu,children:D.map(M=>{const F=M.Icon,U=l.pathname===M.path;return s.jsxs(xc,{to:M.path,style:R.subNavItem(U),onMouseEnter:le=>{U||(le.currentTarget.style.backgroundColor=r.colors.background.tertiary,le.currentTarget.style.color=r.colors.text.primary)},onMouseLeave:le=>{U||(le.currentTarget.style.backgroundColor="transparent",le.currentTarget.style.color=r.colors.text.secondary)},children:[s.jsx(F,{size:16,strokeWidth:U?2.5:2}),M.label]},M.id)})})]})]}),s.jsx("div",{style:R.logoutSection,children:s.jsxs("button",{onClick:t,style:R.logoutButton,onMouseEnter:M=>{M.currentTarget.style.backgroundColor=r.colors.accent.dangerLight,M.currentTarget.style.borderColor=r.colors.accent.danger,M.currentTarget.style.color=r.colors.accent.danger},onMouseLeave:M=>{M.currentTarget.style.backgroundColor="transparent",M.currentTarget.style.borderColor=r.colors.border.medium,M.currentTarget.style.color=r.colors.text.secondary},children:[s.jsx(IK,{size:16}),"Sign Out"]})})]})},rt=({children:e,title:t,description:n,action:i,icon:l,noPadding:c=!1,hoverable:d=!1,className:p,style:m={},headerStyle:g={},bodyStyle:h={},id:x,onDragOver:S,onDragEnter:j,onDragLeave:C,onDrop:w,...k})=>{const[z,E]=hi.useState(!1),A={card:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.xl,border:`1px solid ${r.colors.border.light}`,overflow:"visible",boxShadow:z&&d?r.shadows.md:r.shadows.sm,transition:r.transitions.normal,transform:z&&d?"translateY(-2px)":"translateY(0)",...m},header:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:r.colors.background.secondary,...g},headerContent:{display:"flex",alignItems:"center",gap:r.spacing.md,flex:1},iconWrapper:{width:"40px",height:"40px",borderRadius:r.radius.lg,backgroundColor:r.colors.accent.primaryLight,display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.accent.primary,flexShrink:0},titleWrapper:{flex:1,minWidth:0},title:{margin:0,color:r.colors.text.primary,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.semibold,lineHeight:r.lineHeight.tight},description:{margin:"4px 0 0 0",color:r.colors.text.tertiary,fontSize:r.fontSize.sm,lineHeight:r.lineHeight.normal},body:{padding:c?0:r.spacing.xl,...h}};return s.jsxs("div",{id:x,className:p,style:A.card,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),onDragOver:S,onDragEnter:j,onDragLeave:C,onDrop:w,...k,children:[(t||i||l)&&s.jsxs("div",{style:A.header,children:[s.jsxs("div",{style:A.headerContent,children:[l&&s.jsx("div",{style:A.iconWrapper,children:hi.cloneElement(l,{size:20})}),s.jsxs("div",{style:A.titleWrapper,children:[t&&s.jsx("h3",{style:A.title,children:t}),n&&s.jsx("p",{style:A.description,children:n})]})]}),i&&s.jsx("div",{children:i})]}),s.jsx("div",{style:A.body,children:e})]})},hy=({title:e,value:t,icon:n,trend:i,color:l=r.colors.accent.primary,subtitle:c,loading:d=!1})=>{const p=h=>h===r.colors.accent.primary?r.colors.accent.primaryLight:h===r.colors.accent.success?r.colors.accent.successLight:h===r.colors.accent.warning?r.colors.accent.warningLight:h===r.colors.accent.danger?r.colors.accent.dangerLight:h===r.colors.accent.info?r.colors.accent.infoLight:`${h}15`,m={card:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.xl,border:`1px solid ${r.colors.border.light}`,padding:r.spacing.xl,display:"flex",flexDirection:"column",gap:r.spacing.lg,position:"relative",overflow:"hidden",boxShadow:r.shadows.sm,transition:r.transitions.normal},header:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},content:{flex:1},title:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.sm,letterSpacing:"0.01em"},value:{color:r.colors.text.primary,fontSize:r.fontSize["3xl"],fontWeight:r.fontWeight.bold,lineHeight:1,letterSpacing:"-0.02em"},subtitle:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginTop:r.spacing.sm},iconWrapper:{width:"52px",height:"52px",backgroundColor:p(l),borderRadius:r.radius.lg,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},trend:{display:"flex",alignItems:"center",gap:r.spacing.xs},trendValue:h=>({color:h?r.colors.accent.success:r.colors.accent.danger,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,display:"flex",alignItems:"center",gap:"2px"}),trendLabel:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},loadingValue:{height:"36px",width:"80px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,animation:"pulse 2s ease-in-out infinite"},decorativeCircle:{position:"absolute",top:"-20px",right:"-20px",width:"100px",height:"100px",backgroundColor:l,opacity:.03,borderRadius:r.radius.full,pointerEvents:"none"}},g=n?hi.cloneElement(n,{size:26,color:l,strokeWidth:2}):null;return s.jsxs("div",{style:m.card,children:[s.jsx("div",{style:m.decorativeCircle}),s.jsxs("div",{style:m.header,children:[s.jsxs("div",{style:m.content,children:[s.jsx("div",{style:m.title,children:e}),d?s.jsx("div",{style:m.loadingValue}):s.jsx("div",{style:m.value,children:t}),c&&s.jsx("div",{style:m.subtitle,children:c})]}),g&&s.jsx("div",{style:m.iconWrapper,children:g})]}),i&&s.jsxs("div",{style:m.trend,children:[s.jsxs("span",{style:m.trendValue(i.isPositive),children:[i.isPositive?s.jsx(wY,{size:14}):s.jsx(SY,{size:14}),i.value]}),i.label&&s.jsx("span",{style:m.trendLabel,children:i.label})]})]})},tt=({children:e,variant:t="default",size:n="md",soft:i=!1,dot:l=!1,icon:c,className:d,style:p={}})=>{const m={default:{background:r.colors.background.tertiary,color:r.colors.text.primary},primary:{background:r.colors.accent.primary,color:r.colors.text.inverse},success:{background:r.colors.accent.success,color:r.colors.text.inverse},warning:{background:r.colors.accent.warning,color:r.colors.text.inverse},danger:{background:r.colors.accent.danger,color:r.colors.text.inverse},info:{background:r.colors.accent.info,color:r.colors.text.inverse},secondary:{background:r.colors.accent.secondary,color:r.colors.text.inverse}},g={default:{background:r.colors.background.tertiary,color:r.colors.text.secondary},primary:{background:r.colors.accent.primaryLight,color:r.colors.accent.primary},success:{background:r.colors.accent.successLight,color:r.colors.accent.success},warning:{background:r.colors.accent.warningLight,color:r.colors.accent.warning},danger:{background:r.colors.accent.dangerLight,color:r.colors.accent.danger},info:{background:r.colors.accent.infoLight,color:r.colors.accent.info},secondary:{background:r.colors.background.tertiary,color:r.colors.accent.secondary}},h={xs:{padding:"1px 6px",fontSize:"10px",gap:"3px"},sm:{padding:"2px 8px",fontSize:r.fontSize.xs,gap:"4px"},md:{padding:"4px 10px",fontSize:r.fontSize.sm,gap:"5px"},lg:{padding:"6px 14px",fontSize:r.fontSize.base,gap:"6px"}},x=i?g:m,S=x[t]||x.default,j=h[n]||h.md,C={badge:{display:"inline-flex",alignItems:"center",backgroundColor:S.background,color:S.color,padding:j.padding,borderRadius:r.radius.full,fontSize:j.fontSize,fontWeight:r.fontWeight.medium,whiteSpace:"nowrap",gap:j.gap,lineHeight:1.4,...p},dot:{width:n==="xs"?"4px":n==="sm"?"5px":"6px",height:n==="xs"?"4px":n==="sm"?"5px":"6px",borderRadius:r.radius.full,backgroundColor:"currentColor",flexShrink:0}};return s.jsxs("span",{className:d,style:C.badge,children:[l&&s.jsx("span",{style:C.dot}),c&&hi.cloneElement(c,{size:n==="xs"?10:n==="sm"?12:14}),e]})},KY=({name:e,src:t,size:n="md",color:i,status:l,className:c,style:d={}})=>{const p={xs:{width:"24px",height:"24px",fontSize:r.fontSize.xs,statusSize:"8px"},sm:{width:"32px",height:"32px",fontSize:r.fontSize.sm,statusSize:"10px"},md:{width:"40px",height:"40px",fontSize:r.fontSize.base,statusSize:"12px"},lg:{width:"48px",height:"48px",fontSize:r.fontSize.lg,statusSize:"14px"},xl:{width:"64px",height:"64px",fontSize:r.fontSize.xl,statusSize:"16px"}},m=[r.colors.accent.primary,r.colors.accent.secondary,r.colors.accent.success,r.colors.accent.info,r.colors.chart.purple,r.colors.chart.pink],g={online:r.colors.status.online,offline:r.colors.status.offline,busy:r.colors.status.busy,away:r.colors.status.away},h=()=>{if(i)return i;if(!e)return m[0];const C=e.split("").reduce((w,k)=>w+k.charCodeAt(0),0);return m[C%m.length]},x=()=>{if(!e)return"?";const C=e.trim().split(" ");return C.length>=2?(C[0][0]+C[C.length-1][0]).toUpperCase():e.substring(0,2).toUpperCase()},S=p[n]||p.md,j={container:{position:"relative",display:"inline-flex",flexShrink:0},avatar:{width:S.width,height:S.height,borderRadius:r.radius.full,backgroundColor:t?"transparent":h(),display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.text.inverse,fontWeight:r.fontWeight.semibold,fontSize:S.fontSize,overflow:"hidden",border:`2px solid ${r.colors.background.secondary}`,boxShadow:r.shadows.sm,...d},image:{width:"100%",height:"100%",objectFit:"cover"},status:{position:"absolute",bottom:"0",right:"0",width:S.statusSize,height:S.statusSize,borderRadius:r.radius.full,backgroundColor:g[l]||g.offline,border:`2px solid ${r.colors.background.secondary}`}};return s.jsxs("div",{className:c,style:j.container,children:[s.jsx("div",{style:j.avatar,children:t?s.jsx("img",{src:t,alt:e||"Avatar",style:j.image}):x()}),l&&s.jsx("div",{style:j.status})]})},YY=y.forwardRef(({label:e,options:t=[],value:n,onChange:i,placeholder:l="Select an option",error:c,helperText:d,disabled:p=!1,required:m=!1,size:g="md",fullWidth:h=!0,className:x,style:S={},...j},C)=>{const[w,k]=y.useState(!1),z={sm:{height:"34px",padding:"8px 32px 8px 12px",fontSize:r.fontSize.sm,labelSize:r.fontSize.xs},md:{height:"42px",padding:"10px 36px 10px 14px",fontSize:r.fontSize.base,labelSize:r.fontSize.sm},lg:{height:"50px",padding:"12px 40px 12px 16px",fontSize:r.fontSize.lg,labelSize:r.fontSize.sm}},E=z[g]||z.md,A=()=>c?r.colors.accent.danger:w?r.colors.accent.primary:r.colors.border.medium,D=()=>c&&w?`0 0 0 3px ${r.colors.accent.dangerLight}`:w?r.shadows.focus:"none",T={container:{display:"flex",flexDirection:"column",gap:r.spacing.sm,width:h?"100%":"auto",...S},label:{color:c?r.colors.accent.danger:r.colors.text.primary,fontSize:E.labelSize,fontWeight:r.fontWeight.medium},required:{color:r.colors.accent.danger,marginLeft:"2px"},selectWrapper:{position:"relative",display:"flex",alignItems:"center"},select:{width:"100%",height:E.height,padding:E.padding,backgroundColor:p?r.colors.background.tertiary:r.colors.background.secondary,border:`1px solid ${A()}`,borderRadius:r.radius.lg,fontSize:E.fontSize,color:n?r.colors.text.primary:r.colors.text.tertiary,outline:"none",transition:r.transitions.fast,boxShadow:D(),cursor:p?"not-allowed":"pointer",appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},chevron:{position:"absolute",right:"12px",pointerEvents:"none",color:r.colors.text.tertiary,transition:r.transitions.fast,transform:w?"rotate(180deg)":"rotate(0deg)"},helperText:{fontSize:r.fontSize.xs,color:c?r.colors.accent.danger:r.colors.text.tertiary,marginTop:"-2px"}};return s.jsxs("div",{className:x,style:T.container,children:[e&&s.jsxs("label",{style:T.label,children:[e,m&&s.jsx("span",{style:T.required,children:"*"})]}),s.jsxs("div",{style:T.selectWrapper,children:[s.jsxs("select",{ref:C,value:n,onChange:i,onFocus:()=>k(!0),onBlur:()=>k(!1),disabled:p,required:m,style:T.select,...j,children:[l&&s.jsx("option",{value:"",disabled:!0,children:l}),t.map((R,M)=>s.jsx("option",{value:R.value,disabled:R.disabled,children:R.label},R.value??M))]}),s.jsx(ei,{size:18,style:T.chevron})]}),(d||c)&&s.jsx("span",{style:T.helperText,children:c||d})]})});YY.displayName="Select";function VY(){const{user:e,isAuthenticated:t,authLoading:n,logout:i,hasPermission:l,hasRole:c,isSiteAdmin:d}=xn(),p=ii(),[m,g]=y.useState([]),[h,x]=y.useState(null),[S,j]=y.useState([]),[C,w]=y.useState([]),[k,z]=y.useState([]),[E,A]=y.useState([]),[D,T]=y.useState([]),[R,M]=y.useState([]),[F,U]=y.useState([]),[le,Z]=y.useState(""),[ie,ge]=y.useState("7"),[fe,Ee]=y.useState(""),[W,J]=y.useState(""),[ue,_e]=y.useState(""),[Ae,N]=y.useState(""),[q,oe]=y.useState(!0),be="",Se=V=>V?V.split("_").map(te=>te.charAt(0).toUpperCase()+te.slice(1).toLowerCase()).join(" "):"Unknown",Ce=()=>{fe&&W&&(_e(fe),N(W))},Q=[r.colors.chart.blue,r.colors.chart.green,r.colors.chart.orange,r.colors.chart.purple,r.colors.chart.pink,r.colors.chart.cyan];y.useEffect(()=>{if(!t)return;const V=ie==="custom"?ue&&Ae?`from=${ue}&to=${Ae}`:null:`days=${ie}`;if(!V)return;const te=new AbortController,{signal:Pe}=te;oe(!0);const Me=[fetch(`${be}/api/resolution-by-step?${V}`,{credentials:"include",signal:Pe}).then(K=>{if(!K.ok)throw new Error(`Resolution step error: ${K.status}`);return K.json()}).catch(K=>K.name==="AbortError"?[]:(console.error("Resolution step failed:",K),[])),fetch(`${be}/api/dashboard-summary?${V}`,{credentials:"include",signal:Pe}).then(K=>{if(!K.ok)throw new Error(`Summary error: ${K.status}`);return K.json()}).catch(K=>K.name==="AbortError"?[]:(console.error("Summary failed:",K),[])),fetch(`${be}/api/issue-distribution?${V}`,{credentials:"include",signal:Pe}).then(K=>{if(!K.ok)throw new Error(`Distribution error: ${K.status}`);return K.json()}).catch(K=>K.name==="AbortError"?[]:(console.error("Issue distribution failed:",K),[])),fetch(`${be}/api/resolution-time-trend?${V}`,{credentials:"include",signal:Pe}).then(K=>{if(!K.ok)throw new Error(`Trend error: ${K.status}`);return K.json()}).catch(K=>K.name==="AbortError"?[]:(console.error("Resolution time trend failed:",K),[])),fetch(`${be}/api/first-contact-resolution?${V}`,{credentials:"include",signal:Pe}).then(K=>{if(!K.ok)throw new Error(`FCR error: ${K.status}`);return K.json()}).catch(K=>K.name==="AbortError"?[]:(console.error("First contact resolution failed:",K),[])),fetch(`${be}/api/call-volume-heatmap?${V}`,{credentials:"include",signal:Pe}).then(K=>{if(!K.ok)throw new Error(`Call volume heatmap error: ${K.status}`);return K.json()}).catch(K=>K.name==="AbortError"?[]:(console.error("Call volume heatmap failed:",K),[]))];let he=-1,B=-1,X=-1;return(c("admin")||c("manager"))&&(he=Me.length,Me.push(fetch(`${be}/api/van-performance?${V}`,{credentials:"include",signal:Pe}).then(K=>{if(!K.ok)throw new Error(`Van performance error: ${K.status}`);return K.json()}).catch(K=>K.name==="AbortError"?[]:(console.error("Van performance failed:",K),[]))),B=Me.length,Me.push(fetch(`${be}/api/handoff-patterns?${V}`,{credentials:"include",signal:Pe}).then(K=>{if(!K.ok)throw new Error(`Handoff patterns error: ${K.status}`);return K.json()}).catch(K=>K.name==="AbortError"?[]:(console.error("Handoff patterns failed:",K),[])))),c("admin")&&(X=Me.length,Me.push(fetch(`${be}/api/chronic-problem-vans?${V}`,{credentials:"include",signal:Pe}).then(K=>{if(!K.ok)throw new Error(`Chronic problem vans error: ${K.status}`);return K.json()}).catch(K=>K.name==="AbortError"?[]:(console.error("Chronic problem vans failed:",K),[])))),Promise.all(Me).then(K=>{if(Pe.aborted)return;const[je,L,xe,Be,nt,Je]=K;g(je||[]),x(L?.[0]||null),j(xe||[]),w(Be||[]),z(nt||[]),U(Je||[]),A(he!==-1?K[he]||[]:[]),M(B!==-1?K[B]||[]:[]),T(X!==-1?K[X]||[]:[]),je&&je.length>0&&Z(je[0].sequence_key),oe(!1)}).catch(K=>{Pe.aborted||(console.error("Critical error fetching dashboard data:",K),oe(!1))}),()=>{te.abort()}},[ie,ue,Ae,t,c]),y.useEffect(()=>{t&&c("technician")&&!c("manager")&&!c("admin")&&!d()&&p("/tickets",{replace:!0})},[t,c,d,p]);const me=[...new Set(m.map(V=>V.sequence_key))],ne={};m.forEach(V=>{V.sequence_key&&(ne[V.sequence_key]=V.display_name||Se(V.sequence_key))});const Te=m.filter(V=>V.sequence_key===le);return n?s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:r.colors.background.page,color:r.colors.text.primary,gap:r.spacing.lg},children:[s.jsx(Dn,{size:40,style:{animation:"spin 1s linear infinite"},color:r.colors.accent.primary}),s.jsx("span",{style:{fontSize:r.fontSize.lg,color:r.colors.text.secondary},children:"Loading..."})]}):t?c("technician")&&!c("manager")&&!c("admin")&&!d()?s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:r.colors.background.page,color:r.colors.text.primary,gap:r.spacing.lg},children:[s.jsx(Dn,{size:40,style:{animation:"spin 1s linear infinite"},color:r.colors.accent.primary}),s.jsx("span",{style:{fontSize:r.fontSize.lg,color:r.colors.text.secondary},children:"Redirecting..."})]}):q?s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:r.colors.background.page,color:r.colors.text.primary,gap:r.spacing.lg},children:[s.jsx(Dn,{size:40,style:{animation:"spin 1s linear infinite"},color:r.colors.accent.primary}),s.jsx("span",{style:{fontSize:r.fontSize.lg,color:r.colors.text.secondary},children:"Loading dashboard..."})]}):s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.page},children:[s.jsx(zr,{user:e,onLogout:i,hasRole:c,isSiteAdmin:d}),s.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[s.jsxs("div",{style:{marginBottom:r.spacing["2xl"],display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[s.jsxs("div",{children:[s.jsx("h1",{style:{fontSize:r.fontSize["3xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,marginBottom:r.spacing.xs,letterSpacing:"-0.02em"},children:"Analytics Dashboard"}),s.jsxs("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:["Welcome back, ",e?.email?.split("@")[0]||"User"]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[s.jsx(vx,{size:16}),new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),s.jsx(rt,{style:{marginBottom:r.spacing["2xl"]},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg,flexWrap:"wrap"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.xs,display:"block"},children:"Date Range"}),s.jsxs("select",{value:ie,onChange:V=>ge(V.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none"},children:[s.jsx("option",{value:"7",children:"Last 7 days"}),s.jsx("option",{value:"30",children:"Last 30 days"}),s.jsx("option",{value:"custom",children:"Custom range"})]})]}),ie==="custom"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.xs,display:"block"},children:"From"}),s.jsx("input",{type:"date",value:fe,onChange:V=>Ee(V.target.value),onKeyDown:V=>{V.key==="Enter"&&(V.preventDefault(),Ce())},style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.xs,display:"block"},children:"To"}),s.jsx("input",{type:"date",value:W,onChange:V=>J(V.target.value),onKeyDown:V=>{V.key==="Enter"&&(V.preventDefault(),Ce())},style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}})]}),s.jsx("div",{style:{marginTop:r.spacing.lg},children:s.jsx(pO,{onClick:Ce,disabled:!fe||!W,size:"sm",children:"Apply"})})]})]})}),h&&s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:r.spacing.lg,marginBottom:r.spacing["2xl"]},children:[s.jsx(hy,{title:"Total Calls",value:h.total_calls||0,icon:s.jsx(cl,{size:24}),color:r.colors.accent.primary}),s.jsx(hy,{title:"Completion Rate",value:h.completion_rate?`${h.completion_rate}%`:"0%",icon:s.jsx(Kt,{size:24}),color:r.colors.accent.success}),s.jsx(hy,{title:"Avg Resolution Time",value:h.avg_resolution_minutes?`${Math.round(h.avg_resolution_minutes)}m`:"N/A",icon:s.jsx(Mn,{size:24}),color:r.colors.accent.warning})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:r.spacing.lg,marginBottom:r.spacing["2xl"]},children:[s.jsx(rt,{title:"Issue Distribution",description:"Breakdown of issue types",children:S.length===0?s.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):s.jsx(Md,{width:"100%",height:300,children:s.jsxs(WF,{children:[s.jsx(vE,{data:S,dataKey:"total_count",nameKey:"display_name",cx:"50%",cy:"50%",outerRadius:100,label:({display_name:V,issue_type:te,total_count:Pe})=>`${V||Se(te)}: ${Pe}`,labelLine:{stroke:r.colors.text.secondary},children:S.map((V,te)=>s.jsx(Fs,{fill:Q[te%Q.length]},`cell-${te}`))}),s.jsx(Od,{contentStyle:{backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.primary}}),s.jsx(Ra,{wrapperStyle:{color:r.colors.text.primary}})]})})}),s.jsx(rt,{title:"Resolution Time Trend",description:"Average resolution time over the last 30 days",children:C.length===0?s.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):s.jsx(Md,{width:"100%",height:300,children:s.jsxs(TF,{data:C,children:[s.jsx(qd,{strokeDasharray:"3 3",stroke:r.colors.border.medium}),s.jsx(Ud,{dataKey:"time_bucket",stroke:r.colors.text.secondary}),s.jsx(Hd,{stroke:r.colors.text.secondary}),s.jsx(Od,{contentStyle:{backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.primary}}),s.jsx(Ra,{}),s.jsx(NE,{type:"monotone",dataKey:"avg_minutes",stroke:r.colors.chart.blue,strokeWidth:3,dot:{fill:r.colors.chart.blue,r:5},activeDot:{r:7},name:"Avg Resolution Time (min)"})]})})})]}),s.jsx(rt,{title:"First Contact Resolution Rate",description:"Resolution rate by troubleshooting sequence",style:{marginBottom:r.spacing["2xl"]},children:k.length===0?s.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):s.jsx(Md,{width:"100%",height:400,children:s.jsxs(L2,{data:k.map(V=>({...V,display_label:V.display_name||Se(V.sequence_key)})),layout:"vertical",margin:{left:150},children:[s.jsx(qd,{strokeDasharray:"3 3",stroke:r.colors.border.medium}),s.jsx(Ud,{type:"number",stroke:r.colors.text.secondary,domain:[0,100]}),s.jsx(Hd,{type:"category",dataKey:"display_label",stroke:r.colors.text.secondary,width:140}),s.jsx(Od,{contentStyle:{backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.primary},formatter:V=>`${V}%`}),s.jsx(Ra,{}),s.jsx(fx,{dataKey:"fcr_rate",name:"FCR Rate (%)",radius:[0,8,8,0],children:k.map((V,te)=>s.jsx(Fs,{fill:V.fcr_rate>=80?r.colors.accent.success:V.fcr_rate>=60?r.colors.chart.yellow:V.fcr_rate>=40?r.colors.accent.warning:r.colors.accent.danger},`cell-${te}`))})]})})}),(c("admin")||c("manager"))&&E.length>0&&s.jsx(rt,{title:"Van Performance",description:"Performance metrics by van make, model, and year",style:{marginBottom:r.spacing["2xl"]},noPadding:!0,children:s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`2px solid ${r.colors.border.light}`},children:[s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Make"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Version"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Year"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Total Issues"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Avg Time"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Reliability"})]})}),s.jsx("tbody",{children:[...E].sort((V,te)=>te.total_issues-V.total_issues).map((V,te)=>s.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`},children:[s.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.primary},children:V.make}),s.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.primary},children:V.version}),s.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.primary},children:V.year}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:V.total_issues}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.secondary},children:V.avg_resolution_time?`${Math.round(V.avg_resolution_time)}m`:"N/A"}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},children:s.jsx(tt,{variant:V.reliability_score>=80?"success":V.reliability_score>=60?"warning":"danger",children:V.reliability_score||"N/A"})})]},te))})]})})}),c("admin")&&D.length>0&&s.jsx(rt,{title:"Chronic Problem Vans",description:"Vans with recurring issues requiring attention",style:{marginBottom:r.spacing["2xl"]},noPadding:!0,children:s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`2px solid ${r.colors.border.light}`},children:[s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Van Number"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Make/Model"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Issue Count"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Most Common"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Last Issue"})]})}),s.jsx("tbody",{children:[...D].sort((V,te)=>te.issue_count-V.issue_count).map((V,te)=>s.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`},children:[s.jsx("td",{style:{padding:r.spacing.md},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(KY,{name:V.van_number,size:"sm"}),s.jsx("span",{style:{color:r.colors.text.primary,fontWeight:r.fontWeight.medium},children:V.van_number}),V.issue_count>=5&&s.jsx(tt,{variant:"danger",size:"sm",children:"CRITICAL"}),V.issue_count>=3&&V.issue_count<5&&s.jsx(tt,{variant:"warning",size:"sm",children:"WARNING"})]})}),s.jsxs("td",{style:{padding:r.spacing.md,color:r.colors.text.primary},children:[V.make," ",V.version," (",V.year,")"]}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",fontWeight:r.fontWeight.bold,color:V.issue_count>=5?r.colors.accent.danger:V.issue_count>=3?r.colors.accent.warning:r.colors.text.primary},children:V.issue_count}),s.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.secondary},children:V.most_common_issue||"N/A"}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.secondary},children:V.last_issue_date?new Date(V.last_issue_date).toLocaleDateString():"N/A"})]},te))})]})})}),(c("admin")||c("manager"))&&R.length>0&&s.jsx(rt,{title:"Handoff Patterns",description:"Common troubleshooting sequence transitions",style:{marginBottom:r.spacing["2xl"]},noPadding:!0,children:s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`2px solid ${r.colors.border.light}`},children:[s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Sequence Flow"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Handoff Count"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Avg Handoffs"})]})}),s.jsx("tbody",{children:[...R].sort((V,te)=>te.handoff_count-V.handoff_count).map((V,te)=>{const Pe=V.handoff_count>=10;return s.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`},children:[s.jsx("td",{style:{padding:r.spacing.md},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx(tt,{variant:"default",children:V.from_sequence_name||V.from_sequence}),s.jsx("span",{style:{color:Pe?r.colors.chart.blue:r.colors.text.tertiary,fontSize:r.fontSize.xl},children:""}),s.jsx(tt,{variant:"default",children:V.to_sequence_name||V.to_sequence})]})}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",fontWeight:r.fontWeight.bold,color:Pe?r.colors.chart.blue:r.colors.text.primary},children:V.handoff_count}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.secondary},children:V.avg_handoff_count?V.avg_handoff_count.toFixed(1):"N/A"})]},te)})})]})})}),s.jsx(rt,{title:"Call Volume Heatmap",description:"Support call patterns by day and hour",style:{marginBottom:r.spacing["2xl"]},children:F.length===0?s.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):s.jsx("div",{style:{overflowX:"auto"},children:(()=>{const V={};F.forEach(K=>{const je=`${K.day_of_week}_${K.hour_of_day}`;V[je]=K.call_count||0});const te=F.map(K=>K.call_count||0),Pe=Math.min(...te,0),Me=Math.max(...te,1),he=K=>{if(K===0)return r.colors.background.primary;const je=(K-Pe)/(Me-Pe);return je<.25?r.colors.chart.blue:je<.5?r.colors.chart.purple:je<.75?r.colors.chart.orange:r.colors.accent.danger},B=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],X=Array.from({length:24},(K,je)=>je===0?"12am":je<12?`${je}am`:je===12?"12pm":`${je-12}pm`);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"100px repeat(24, 40px)",gap:"2px",marginBottom:r.spacing.lg},children:[s.jsx("div",{}),X.map((K,je)=>s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,textAlign:"center",transform:"rotate(-45deg)",height:"60px",display:"flex",alignItems:"flex-end",justifyContent:"center"},children:K},je)),B.map((K,je)=>s.jsxs(hi.Fragment,{children:[s.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,display:"flex",alignItems:"center",fontWeight:r.fontWeight.medium},children:K}),X.map((L,xe)=>{const Be=`${je}_${xe}`,nt=V[Be]||0,Je=he(nt);return s.jsx("div",{style:{backgroundColor:Je,height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:r.radius.sm,fontSize:r.fontSize.xs,color:nt>0?r.colors.text.primary:r.colors.text.tertiary,fontWeight:nt>0?r.fontWeight.semibold:r.fontWeight.normal,cursor:"pointer",transition:"transform 0.2s"},title:`${K} ${X[xe]}: ${nt} calls`,onMouseEnter:P=>{P.currentTarget.style.transform="scale(1.1)"},onMouseLeave:P=>{P.currentTarget.style.transform="scale(1)"},children:nt>0?nt:""},`${je}-${xe}`)})]},`day-${je}`))]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg,flexWrap:"wrap"},children:[s.jsx("span",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:"Call Volume:"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.background.primary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.sm}}),s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"None"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.chart.blue,borderRadius:r.radius.sm}}),s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"Low"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.chart.purple,borderRadius:r.radius.sm}}),s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"Medium"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.chart.orange,borderRadius:r.radius.sm}}),s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"High"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.accent.danger,borderRadius:r.radius.sm}}),s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"Very High"})]})]})]})})()})}),s.jsx(rt,{title:"Resolution by Step",description:"Percentage of issues resolved at each troubleshooting step",action:s.jsx("select",{value:le,onChange:V=>Z(V.target.value),style:{padding:`${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:me.map(V=>s.jsx("option",{value:V,children:ne[V]||V},V))}),children:Te.length===0?s.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):s.jsx(Md,{width:"100%",height:400,children:s.jsxs(L2,{data:Te,children:[s.jsx(qd,{strokeDasharray:"3 3",stroke:r.colors.border.medium}),s.jsx(Ud,{dataKey:"step_num",stroke:r.colors.text.secondary}),s.jsx(Hd,{stroke:r.colors.text.secondary}),s.jsx(Od,{contentStyle:{backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.primary}}),s.jsx(Ra,{}),s.jsx(fx,{dataKey:"percentage",fill:r.colors.chart.green,name:"Resolved %",radius:[8,8,0,0]})]})})})]})]}):s.jsx(NY,{})}function GY(){const{user:e,logout:t,hasRole:n,isSiteAdmin:i}=xn(),l=ii(),c=i()||n("admin")||n("manager"),[d,p]=y.useState([]),[m,g]=y.useState([]),[h,x]=y.useState(!0),[S,j]=y.useState(""),[C,w]=y.useState("name"),[k,z]=y.useState(!1),[E,A]=y.useState(null);y.useEffect(()=>{D()},[]),y.useEffect(()=>{let U=[...d];if(S){const le=S.toLowerCase();U=U.filter(Z=>Z.display_name?.toLowerCase().includes(le)||Z.sequence_key?.toLowerCase().includes(le)||Z.category?.toLowerCase().includes(le))}U.sort((le,Z)=>{switch(C){case"name":return(le.display_name||"").localeCompare(Z.display_name||"");case"category":return(le.category||"").localeCompare(Z.category||"");case"created":return new Date(Z.created_at)-new Date(le.created_at);default:return 0}}),g(U)},[d,S,C]);const D=async()=>{x(!0);try{const U=await fetch("/api/sequences",{credentials:"include"});if(!U.ok)throw new Error("Failed to fetch sequences");const le=await U.json();p(le)}catch(U){console.error("Error fetching sequences:",U)}finally{x(!1)}},T=async(U,le)=>{try{if(!(await fetch(`/api/sequences/${U}/toggle`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({is_active:!le})})).ok)throw new Error("Failed to toggle sequence");await D()}catch(Z){console.error("Error toggling sequence:",Z),alert("Failed to toggle sequence status")}},R=U=>{A(U),z(!0)},M=async()=>{if(E)try{if(!(await fetch(`/api/sequences/${E.sequence_key}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete sequence");await D(),z(!1),A(null)}catch(U){console.error("Error deleting sequence:",U),alert("Failed to delete sequence")}},F=U=>({network:"primary",hardware:"warning",software:"secondary",power:"danger",connectivity:"success"})[U?.toLowerCase()]||"default";return s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:e,onLogout:t,hasRole:n,isSiteAdmin:i}),s.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[s.jsx("div",{style:{marginBottom:r.spacing["2xl"]},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.md},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[s.jsx(sO,{size:32,color:r.colors.accent.primary,strokeWidth:2}),s.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Sequences"})]}),s.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Manage troubleshooting sequences"})]}),c&&s.jsxs("button",{onClick:()=>l("/sequences/create"),style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:U=>U.target.style.backgroundColor=r.colors.accent.primaryHover,onMouseLeave:U=>U.target.style.backgroundColor=r.colors.accent.primary,children:[s.jsx(rr,{size:20}),"Create New Sequence"]})]})}),s.jsx(rt,{style:{marginBottom:r.spacing.lg},children:s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,alignItems:"center"},children:[s.jsxs("div",{style:{flex:1,position:"relative"},children:[s.jsx(yi,{size:20,color:r.colors.text.tertiary,style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)"}}),s.jsx("input",{type:"text",placeholder:"Search by name, key, or category...",value:S,onChange:U=>j(U.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md} ${r.spacing.sm} 40px`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:r.colors.background.primary,outline:"none"}})]}),s.jsxs("select",{value:C,onChange:U=>w(U.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:r.colors.background.primary,cursor:"pointer",outline:"none"},children:[s.jsx("option",{value:"name",children:"Sort by Name"}),s.jsx("option",{value:"category",children:"Sort by Category"}),s.jsx("option",{value:"created",children:"Sort by Date"})]})]})}),s.jsx(rt,{noPadding:!0,children:h?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:r.spacing["2xl"],gap:r.spacing.md},children:[s.jsx(Pf,{size:24,color:r.colors.accent.primary,style:{animation:"spin 1s linear infinite"}}),s.jsx("span",{style:{color:r.colors.text.secondary},children:"Loading sequences..."})]}):m.length===0?s.jsx("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:S?s.jsxs(s.Fragment,{children:[s.jsx("p",{style:{fontSize:r.fontSize.lg,marginBottom:r.spacing.sm},children:"No sequences found"}),s.jsx("p",{style:{fontSize:r.fontSize.sm},children:"Try adjusting your search terms"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{style:{fontSize:r.fontSize.lg,marginBottom:r.spacing.sm},children:"No sequences yet"}),s.jsx("p",{style:{fontSize:r.fontSize.sm},children:"Create your first troubleshooting sequence to get started"})]})}):s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`1px solid ${r.colors.border.light}`},children:[s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Sequence Name"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Key"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Category"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Steps"}),c&&s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Status"}),c&&s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Actions"})]})}),s.jsx("tbody",{children:m.map((U,le)=>s.jsxs("tr",{style:{borderBottom:le<m.length-1?`1px solid ${r.colors.border.light}`:"none",cursor:c?"pointer":"default",transition:"background-color 0.2s"},onMouseEnter:Z=>c&&(Z.currentTarget.style.backgroundColor=r.colors.background.hover),onMouseLeave:Z=>Z.currentTarget.style.backgroundColor="transparent",onClick:()=>c&&l(`/sequences/${U.sequence_key}`),children:[s.jsxs("td",{style:{padding:r.spacing.md},children:[s.jsx("div",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.accent.primary},children:U.display_name}),U.description&&s.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,marginTop:"2px"},children:U.description})]}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("code",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,backgroundColor:r.colors.background.tertiary,padding:"2px 6px",borderRadius:r.radius.sm,fontFamily:"monospace"},children:U.sequence_key})}),s.jsx("td",{style:{padding:r.spacing.md},children:U.category?s.jsx(tt,{variant:F(U.category),size:"sm",children:U.category}):s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"-"})}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},children:s.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",minWidth:"32px",height:"32px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:U.total_steps||0})}),c&&s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},onClick:Z=>Z.stopPropagation(),children:s.jsx("button",{onClick:()=>T(U.sequence_key,U.is_active),style:{background:"none",border:"none",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:r.spacing.xs,color:U.is_active?r.colors.accent.success:r.colors.text.tertiary,transition:"color 0.2s"},title:U.is_active?"Active - Click to disable":"Inactive - Click to enable",children:U.is_active?s.jsx(zx,{size:24}):s.jsx(kx,{size:24})})}),c&&s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},onClick:Z=>Z.stopPropagation(),children:s.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,justifyContent:"center"},children:[s.jsx("button",{onClick:()=>l(`/sequences/${U.sequence_key}`),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.primary,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:r.radius.sm,transition:"background-color 0.2s"},onMouseEnter:Z=>Z.target.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:Z=>Z.target.style.backgroundColor="transparent",title:"Edit sequence",children:s.jsx(eu,{size:18})}),s.jsx("button",{onClick:()=>R(U),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.danger,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:r.radius.sm,transition:"background-color 0.2s"},onMouseEnter:Z=>Z.target.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:Z=>Z.target.style.backgroundColor="transparent",title:"Delete sequence",children:s.jsx(Kr,{size:18})})]})})]},U.sequence_key))})]})})})]}),k&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>z(!1),children:s.jsxs("div",{style:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.lg,padding:r.spacing.xl,maxWidth:"500px",width:"90%",boxShadow:r.shadows.xl},onClick:U=>U.stopPropagation(),children:[s.jsx("h2",{style:{margin:`0 0 ${r.spacing.md} 0`,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Delete Sequence"}),s.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.secondary,fontSize:r.fontSize.base,lineHeight:1.6},children:['Are you sure you want to delete the sequence "',s.jsx("strong",{children:E?.display_name}),'"? This action cannot be undone and will remove all steps associated with this sequence.']}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>z(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:U=>U.target.style.backgroundColor=r.colors.background.hover,onMouseLeave:U=>U.target.style.backgroundColor=r.colors.background.tertiary,children:"Cancel"}),s.jsx("button",{onClick:M,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:U=>U.target.style.backgroundColor="#b91c1c",onMouseLeave:U=>U.target.style.backgroundColor=r.colors.accent.danger,children:"Delete"})]})]})}),s.jsx("style",{children:`
          @keyframes spin {
            from {
              transform: rotate(0deg);
            }
            to {
              transform: rotate(360deg);
            }
          }
        `})]})}function XY(){const{user:e,logout:t,hasRole:n,isSiteAdmin:i}=xn(),l=ii(),[c,d]=y.useState({sequenceKey:"",displayName:"",description:"",category:"",messageTemplate:"",docUrl:"",docTitle:"",successTriggers:"",failureTriggers:""}),[p,m]=y.useState({}),[g,h]=y.useState(""),[x,S]=y.useState(!1),j=T=>T.split(",").map(R=>R.trim()).filter(R=>R.length>0),C=j(c.successTriggers),w=j(c.failureTriggers),k=(T,R)=>{d(M=>({...M,[T]:R})),p[T]&&m(M=>({...M,[T]:""})),g&&h("")},z=()=>{const T={};return c.sequenceKey?/^[a-z0-9_]+$/.test(c.sequenceKey)||(T.sequenceKey="Sequence key must be lowercase with underscores only"):T.sequenceKey="Sequence key is required",c.displayName||(T.displayName="Display name is required"),c.description||(T.description="Description is required"),c.category||(T.category="Category is required"),c.messageTemplate||(T.messageTemplate="Message template is required"),c.docUrl?/^https?:\/\/.+/.test(c.docUrl)||(T.docUrl="Please enter a valid URL starting with http:// or https://"):T.docUrl="Document URL is required",c.docTitle||(T.docTitle="Document title is required"),C.length===0&&(T.successTriggers="At least one success trigger is required"),w.length===0&&(T.failureTriggers="At least one failure trigger is required"),m(T),Object.keys(T).length===0},E=async T=>{if(T.preventDefault(),!z()){h("Please fix the errors below before submitting");return}S(!0),h("");try{const R=await fetch("/api/sequences",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({key:c.sequenceKey,name:c.displayName,description:c.description,category:c.category,first_step:{message:c.messageTemplate,doc_url:c.docUrl,doc_title:c.docTitle,success_triggers:C,failure_triggers:w}})});if(!R.ok){const F=await R.json();throw new Error(F.error||"Failed to create sequence")}const M=await R.json();l(`/sequences/${c.sequenceKey}`)}catch(R){console.error("Error creating sequence:",R),h(R.message||"Failed to create sequence. Please try again.")}finally{S(!1)}},A=()=>{l("/sequences")},D=(T,R)=>{const F=j(c[T]).filter(U=>U!==R);k(T,F.join(", "))};return s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:e,onLogout:t,hasRole:n,isSiteAdmin:i}),s.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[s.jsxs("div",{style:{marginBottom:r.spacing["2xl"]},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[s.jsx(rr,{size:32,color:r.colors.accent.primary,strokeWidth:2}),s.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Create New Sequence"})]}),s.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Define a new troubleshooting sequence with its first step"})]}),g&&s.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.md,backgroundColor:"#fee2e2",border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(mn,{size:20,color:r.colors.accent.danger}),s.jsx("span",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.base},children:g})]}),s.jsxs("form",{onSubmit:E,children:[s.jsx(rt,{title:"Sequence Metadata",style:{marginBottom:r.spacing.lg},children:s.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"sequenceKey",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Sequence Key ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{id:"sequenceKey",type:"text",value:c.sequenceKey,onChange:T=>k("sequenceKey",T.target.value),placeholder:"dryer_no_power",disabled:x,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${p.sequenceKey?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:x?r.colors.background.tertiary:r.colors.background.primary,outline:"none",fontFamily:"monospace"},onFocus:T=>!p.sequenceKey&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=p.sequenceKey?r.colors.accent.danger:r.colors.border.light}),p.sequenceKey?s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:p.sequenceKey}):s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"Lowercase letters, numbers, and underscores only (e.g., dryer_no_power)"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"displayName",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Display Name ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{id:"displayName",type:"text",value:c.displayName,onChange:T=>k("displayName",T.target.value),placeholder:"Dryer - No Power",disabled:x,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${p.displayName?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:x?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!p.displayName&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=p.displayName?r.colors.accent.danger:r.colors.border.light}),p.displayName&&s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:p.displayName})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"description",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Description ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("textarea",{id:"description",value:c.description,onChange:T=>k("description",T.target.value),placeholder:"Troubleshooting steps for dryers with no power",rows:3,disabled:x,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${p.description?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:x?r.colors.background.tertiary:r.colors.background.primary,outline:"none",resize:"vertical",fontFamily:"inherit"},onFocus:T=>!p.description&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=p.description?r.colors.accent.danger:r.colors.border.light}),p.description&&s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:p.description})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"category",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Category ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsxs("select",{id:"category",value:c.category,onChange:T=>k("category",T.target.value),disabled:x,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${p.category?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:c.category?r.colors.text.primary:r.colors.text.tertiary,backgroundColor:x?r.colors.background.tertiary:r.colors.background.primary,outline:"none",cursor:"pointer"},onFocus:T=>!p.category&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=p.category?r.colors.accent.danger:r.colors.border.light,children:[s.jsx("option",{value:"",children:"Select a category..."}),s.jsx("option",{value:"Electrical",children:"Electrical"}),s.jsx("option",{value:"Plumbing",children:"Plumbing"}),s.jsx("option",{value:"HVAC",children:"HVAC"}),s.jsx("option",{value:"Appliances",children:"Appliances"}),s.jsx("option",{value:"Mechanical",children:"Mechanical"}),s.jsx("option",{value:"Other",children:"Other"})]}),p.category&&s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:p.category})]})]})}),s.jsx(rt,{title:"First Step",style:{marginBottom:r.spacing.lg},children:s.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"messageTemplate",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Message Template ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("textarea",{id:"messageTemplate",value:c.messageTemplate,onChange:T=>k("messageTemplate",T.target.value),placeholder:"Let's check the power. First, verify the outlet: {url}",rows:4,disabled:x,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${p.messageTemplate?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:x?r.colors.background.tertiary:r.colors.background.primary,outline:"none",resize:"vertical",fontFamily:"inherit"},onFocus:T=>!p.messageTemplate&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=p.messageTemplate?r.colors.accent.danger:r.colors.border.light}),p.messageTemplate?s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:p.messageTemplate}):s.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:["Use ","{url}"," placeholder for the document link"]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"docUrl",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Document URL ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{id:"docUrl",type:"url",value:c.docUrl,onChange:T=>k("docUrl",T.target.value),placeholder:"https://docs.example.com/dryer-power",disabled:x,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${p.docUrl?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:x?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!p.docUrl&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=p.docUrl?r.colors.accent.danger:r.colors.border.light}),p.docUrl&&s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:p.docUrl})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"docTitle",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Document Title ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{id:"docTitle",type:"text",value:c.docTitle,onChange:T=>k("docTitle",T.target.value),placeholder:"Check Power Outlet",disabled:x,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${p.docTitle?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:x?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!p.docTitle&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=p.docTitle?r.colors.accent.danger:r.colors.border.light}),p.docTitle&&s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:p.docTitle})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"successTriggers",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Success Triggers ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{id:"successTriggers",type:"text",value:c.successTriggers,onChange:T=>k("successTriggers",T.target.value),placeholder:"FIXED, YES, WORKING, DONE",disabled:x,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${p.successTriggers?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:x?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!p.successTriggers&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=p.successTriggers?r.colors.accent.danger:r.colors.border.light}),p.successTriggers?s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:p.successTriggers}):s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"Comma-separated responses meaning 'problem fixed'"}),C.length>0&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,marginTop:r.spacing.sm},children:C.map((T,R)=>s.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.success,color:"#ffffff",borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[T,s.jsx("button",{type:"button",onClick:()=>D("successTriggers",T),disabled:x,style:{background:"none",border:"none",padding:0,cursor:"pointer",display:"flex",alignItems:"center",color:"#ffffff"},children:s.jsx(Nt,{size:14})})]},R))})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"failureTriggers",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Failure Triggers ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{id:"failureTriggers",type:"text",value:c.failureTriggers,onChange:T=>k("failureTriggers",T.target.value),placeholder:"NO, STILL BROKEN, NOT WORKING, HELP",disabled:x,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${p.failureTriggers?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:x?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!p.failureTriggers&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=p.failureTriggers?r.colors.accent.danger:r.colors.border.light}),p.failureTriggers?s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:p.failureTriggers}):s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"Comma-separated responses meaning 'still broken'"}),w.length>0&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,marginTop:r.spacing.sm},children:w.map((T,R)=>s.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[T,s.jsx("button",{type:"button",onClick:()=>D("failureTriggers",T),disabled:x,style:{background:"none",border:"none",padding:0,cursor:"pointer",display:"flex",alignItems:"center",color:"#ffffff"},children:s.jsx(Nt,{size:14})})]},R))})]})]})}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{type:"button",onClick:A,disabled:x,style:{padding:`${r.spacing.md} ${r.spacing.xl}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:x?"not-allowed":"pointer",transition:"background-color 0.2s",opacity:x?.6:1},onMouseEnter:T=>!x&&(T.target.style.backgroundColor=r.colors.background.hover),onMouseLeave:T=>T.target.style.backgroundColor=r.colors.background.tertiary,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:x,style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.xl}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:x?"not-allowed":"pointer",transition:"background-color 0.2s",opacity:x?.8:1},onMouseEnter:T=>!x&&(T.target.style.backgroundColor=r.colors.accent.primaryHover),onMouseLeave:T=>T.target.style.backgroundColor=r.colors.accent.primary,children:x?s.jsxs(s.Fragment,{children:[s.jsx(Pf,{size:20,style:{animation:"spin 1s linear infinite"}}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{size:20}),"Create Sequence"]})})]})]}),s.jsx("style",{children:`
            @keyframes spin {
              from {
                transform: rotate(0deg);
              }
              to {
                transform: rotate(360deg);
              }
            }
          `})]})]})}const q2=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`:null;function Ei({children:e,onClose:t,title:n}){return s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:r.spacing.lg},onClick:t,children:s.jsxs("div",{style:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.lg,padding:r.spacing.xl,maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:r.shadows.xl},onClick:i=>i.stopPropagation(),children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[s.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:n}),s.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.tertiary},children:s.jsx(Nt,{size:24})})]}),e]})})}function dt({label:e,required:t,type:n="text",value:i,onChange:l,helpText:c,options:d,disabled:p}){return s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:[e," ",t&&s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),n==="textarea"?s.jsx("textarea",{value:i,onChange:l,disabled:p,rows:4,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:p?r.colors.background.tertiary:r.colors.background.primary,outline:"none",resize:"vertical",fontFamily:"inherit"}}):n==="select"?s.jsx("select",{value:i,onChange:l,disabled:p,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:p?r.colors.background.tertiary:r.colors.background.primary,outline:"none",cursor:"pointer"},children:d?.map((m,g)=>s.jsx("option",{value:m.value,children:m.label},g))}):s.jsx("input",{type:n,value:i,onChange:l,disabled:p,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:p?r.colors.background.tertiary:r.colors.background.primary,outline:"none"}}),c&&s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:c})]})}function U2({isEdit:e,stepForm:t,allSequences:n,onClose:i,onSubmit:l,handleStepNumChange:c,handleMessageChange:d,handleDocUrlChange:p,handleDocTitleChange:m,handleSuccessTriggersChange:g,handleFailureTriggersChange:h,handleHasHandoffChange:x,handleHandoffTriggerChange:S,handleHandoffSequenceChange:j,handleIsActiveChange:C}){return s.jsx(Ei,{onClose:i,title:e?"Edit Step":"Add Step",children:s.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[s.jsx(dt,{label:"Step Number",required:!0,type:"number",value:t.stepNum,onChange:c,disabled:e,helpText:e?"Step number cannot be changed":"Enter the step number for this step"}),s.jsx(dt,{label:"Message Template",required:!0,type:"textarea",value:t.message,onChange:d,helpText:"Use {url} placeholder for the document link"}),s.jsx(dt,{label:"Document URL",required:!0,value:t.docUrl,onChange:p}),s.jsx(dt,{label:"Document Title",required:!0,value:t.docTitle,onChange:m}),s.jsx(dt,{label:"Success Triggers",required:!0,value:t.successTriggers,onChange:g,helpText:"Comma-separated responses meaning 'problem fixed'"}),s.jsx(dt,{label:"Failure Triggers",required:!0,value:t.failureTriggers,onChange:h,helpText:"Comma-separated responses meaning 'still broken'"}),s.jsx("div",{children:s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:t.hasHandoff,onChange:x}),s.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:"Configure Handoff"})]})}),t.hasHandoff&&s.jsxs(s.Fragment,{children:[s.jsx(dt,{label:"Handoff Trigger Word",value:t.handoffTrigger,onChange:S,helpText:"Trigger word to handoff to another sequence"}),s.jsx(dt,{label:"Target Sequence",type:"select",value:t.handoffSequenceKey,onChange:j,options:[{value:"",label:"Select a sequence..."},...n.map(w=>({value:w.sequence_key,label:w.display_name}))]})]}),e&&s.jsx("div",{children:s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:t.isActive,onChange:C}),s.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:"Active"})]})}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:i,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:l,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[e?s.jsx(Fd,{size:16}):s.jsx(rr,{size:16}),e?"Save Changes":"Add Step"]})]})]})})}function H2({stepNum:e,tools:t,parts:n,onAddTool:i,onAddPart:l,onEditTool:c,onDeleteTool:d,onEditPart:p,onDeletePart:m,theme:g,isGeneral:h=!1,sequenceKey:x}){const[S,j]=y.useState(!1),C=t.length+n.length;return C===0&&!h?s.jsx("div",{style:{marginTop:g.spacing.md,paddingTop:g.spacing.md,borderTop:`1px solid ${g.colors.border.light}`},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:g.spacing.sm},children:[s.jsx(vi,{size:14,color:g.colors.text.tertiary}),s.jsx("span",{style:{fontSize:g.fontSize.xs,color:g.colors.text.tertiary},children:"No supplies for this step"}),s.jsxs("button",{onClick:()=>i(e),style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"transparent",border:`1px solid ${g.colors.border.light}`,borderRadius:g.radius.sm,cursor:"pointer",fontSize:g.fontSize.xs,color:g.colors.accent.primary},children:[s.jsx(rr,{size:12}),"Tool"]}),s.jsxs("button",{onClick:()=>l(e),style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"transparent",border:`1px solid ${g.colors.border.light}`,borderRadius:g.radius.sm,cursor:"pointer",fontSize:g.fontSize.xs,color:g.colors.accent.success},children:[s.jsx(rr,{size:12}),"Part"]})]})}):s.jsxs("div",{style:{marginTop:g.spacing.md,paddingTop:g.spacing.md,borderTop:`1px solid ${g.colors.border.light}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:C>0?"pointer":"default"},onClick:()=>C>0&&j(!S),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:g.spacing.sm},children:[s.jsx(vi,{size:14,color:g.colors.text.tertiary}),s.jsx("span",{style:{fontSize:g.fontSize.sm,fontWeight:g.fontWeight.medium,color:g.colors.text.secondary},children:h?"General Supplies":"Supplies"}),C>0&&s.jsx(tt,{variant:h?"primary":"secondary",size:"sm",children:C}),C>0&&(S?s.jsx(Ec,{size:14,color:g.colors.text.tertiary}):s.jsx(ei,{size:14,color:g.colors.text.tertiary}))]}),s.jsxs("div",{style:{display:"flex",gap:g.spacing.xs,alignItems:"center"},onClick:w=>w.stopPropagation(),children:[x&&s.jsx("a",{href:`/supplies/${x}${e?`?step=${e}`:""}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",fontSize:g.fontSize.xs,color:g.colors.text.tertiary,textDecoration:"none"},title:e?`Preview Step ${e} supplies`:"Preview public supplies page",children:s.jsx(Ri,{size:12})}),s.jsxs("button",{onClick:()=>i(e),style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"transparent",border:`1px solid ${g.colors.border.light}`,borderRadius:g.radius.sm,cursor:"pointer",fontSize:g.fontSize.xs,color:g.colors.accent.primary},children:[s.jsx(rr,{size:12}),"Tool"]}),s.jsxs("button",{onClick:()=>l(e),style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"transparent",border:`1px solid ${g.colors.border.light}`,borderRadius:g.radius.sm,cursor:"pointer",fontSize:g.fontSize.xs,color:g.colors.accent.success},children:[s.jsx(rr,{size:12}),"Part"]})]})]}),S&&C>0&&s.jsxs("div",{style:{marginTop:g.spacing.md},children:[t.length>0&&s.jsxs("div",{style:{marginBottom:n.length>0?g.spacing.md:0},children:[s.jsxs("div",{style:{fontSize:g.fontSize.xs,color:g.colors.text.tertiary,marginBottom:g.spacing.xs,textTransform:"uppercase"},children:["Tools (",t.length,")"]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:g.spacing.xs},children:t.map(w=>s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:g.spacing.sm,backgroundColor:g.colors.background.primary,borderRadius:g.radius.sm,border:`1px solid ${g.colors.border.light}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:g.spacing.sm,flex:1},children:[s.jsx("span",{style:{fontSize:g.fontSize.sm,color:g.colors.text.primary},children:w.tool_name}),w.is_required&&s.jsx(tt,{variant:"danger",size:"sm",children:"Required"}),w.tool_link&&s.jsx("a",{href:q2(w.tool_link),target:"_blank",rel:"noopener noreferrer",style:{color:g.colors.accent.primary},children:s.jsx(Ri,{size:12})})]}),s.jsxs("div",{style:{display:"flex",gap:"4px"},children:[s.jsx("button",{onClick:()=>c(w),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:g.colors.text.tertiary},children:s.jsx(Nf,{size:12})}),s.jsx("button",{onClick:()=>d(w),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:g.colors.accent.danger},children:s.jsx(Kr,{size:12})})]})]},w.id))})]}),n.length>0&&s.jsxs("div",{children:[s.jsxs("div",{style:{fontSize:g.fontSize.xs,color:g.colors.text.tertiary,marginBottom:g.spacing.xs,textTransform:"uppercase"},children:["Parts (",n.length,")"]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:g.spacing.xs},children:n.map(w=>s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:g.spacing.sm,backgroundColor:g.colors.background.primary,borderRadius:g.radius.sm,border:`1px solid ${g.colors.border.light}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:g.spacing.sm,flex:1},children:[s.jsx("span",{style:{fontSize:g.fontSize.sm,color:g.colors.text.primary},children:w.part_name}),w.is_required&&s.jsx(tt,{variant:"danger",size:"sm",children:"Required"}),w.part_number&&s.jsxs(tt,{variant:"default",size:"sm",children:["#",w.part_number]}),w.estimated_price&&s.jsxs("span",{style:{fontSize:g.fontSize.xs,color:g.colors.accent.success},children:["~$",Number(w.estimated_price).toFixed(2)]}),w.part_link&&s.jsx("a",{href:q2(w.part_link),target:"_blank",rel:"noopener noreferrer",style:{color:g.colors.accent.success},children:s.jsx(cO,{size:12})})]}),s.jsxs("div",{style:{display:"flex",gap:"4px"},children:[s.jsx("button",{onClick:()=>p(w),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:g.colors.text.tertiary},children:s.jsx(Nf,{size:12})}),s.jsx("button",{onClick:()=>m(w),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:g.colors.accent.danger},children:s.jsx(Kr,{size:12})})]})]},w.id))})]})]})]})}function QY(){const{key:e}=Bf(),{user:t,logout:n,hasRole:i,isSiteAdmin:l}=xn(),c=ii(),[d,p]=y.useState(null),[m,g]=y.useState([]),[h,x]=y.useState([]),[S,j]=y.useState([]),[C,w]=y.useState(!0),[k,z]=y.useState(""),[E,A]=y.useState(""),[D,T]=y.useState(!1),[R,M]=y.useState(!1),[F,U]=y.useState(!1),[le,Z]=y.useState(!1),[ie,ge]=y.useState(!1),[fe,Ee]=y.useState(!1),[W,J]=y.useState(null),[ue,_e]=y.useState(null),[Ae,N]=y.useState({displayName:"",description:"",category:""}),[q,oe]=y.useState({stepNum:"",message:"",docUrl:"",docTitle:"",successTriggers:"",failureTriggers:"",hasHandoff:!1,handoffTrigger:"",handoffSequenceKey:"",isActive:!0}),[be,Se]=y.useState({tools:[],parts:[]}),[Ce,Q]=y.useState(!1),[me,ne]=y.useState(!1),[Te,V]=y.useState(!1),[te,Pe]=y.useState(!1),[Me,he]=y.useState(!1),[B,X]=y.useState(!1),[K,je]=y.useState(!1),[L,xe]=y.useState(null),[Be,nt]=y.useState(null),[Je,P]=y.useState(null),[ke,Ke]=y.useState(null),[Re,Ze]=y.useState({tool_name:"",tool_description:"",tool_link:"",is_required:!0,sort_order:0,step_num:null}),[We,yt]=y.useState({part_name:"",part_number:"",part_description:"",part_link:"",estimated_price:"",is_required:!0,sort_order:0,step_num:null});y.useEffect(()=>{const $=async()=>{w(!0),z("");try{const Rt=await fetch(`/api/sequences/${e}`,{credentials:"include"});if(!Rt.ok)throw Rt.status===404?new Error("Sequence not found"):new Error("Failed to fetch sequence details");const Jr=await Rt.json();p(Jr),N({displayName:Jr.display_name||"",description:Jr.description||"",category:Jr.category||""})}catch(Rt){console.error("Error fetching sequence:",Rt),z(Rt.message)}finally{w(!1)}},$e=async()=>{try{const Rt=await fetch("/api/sequences",{credentials:"include"});if(Rt.ok){const Jr=await Rt.json();g(Jr.filter(nu=>nu.sequence_key!==e))}}catch(Rt){console.error("Error fetching sequences:",Rt)}},ut=async()=>{try{const Rt=await fetch(`/api/patterns?sequence_key=${e}`,{credentials:"include"});if(Rt.ok){const Jr=await Rt.json();x(Jr)}}catch(Rt){console.error("Error fetching trigger patterns:",Rt)}},sn=async()=>{Q(!0);try{const Rt=await fetch(`/api/sequences/${e}/supplies`,{credentials:"include"});if(Rt.ok){const Jr=await Rt.json();Se({tools:Jr.tools||[],parts:Jr.parts||[]})}}catch(Rt){console.error("Error fetching supplies:",Rt)}finally{Q(!1)}};$(),$e(),ut(),sn()},[e]);const _r=async($=!1)=>{$||w(!0),z("");try{const $e=await fetch(`/api/sequences/${e}`,{credentials:"include"});if(!$e.ok)throw $e.status===404?new Error("Sequence not found"):new Error("Failed to fetch sequence details");const ut=await $e.json();p(ut),N({displayName:ut.display_name||"",description:ut.description||"",category:ut.category||""})}catch($e){console.error("Error fetching sequence:",$e),z($e.message)}finally{$||w(!1)}},Zt=async()=>{Q(!0);try{const $=await fetch(`/api/sequences/${e}/supplies`,{credentials:"include"});if($.ok){const $e=await $.json();Se({tools:$e.tools||[],parts:$e.parts||[]})}}catch($){console.error("Error fetching supplies:",$)}finally{Q(!1)}},zt=()=>{Ze({tool_name:"",tool_description:"",tool_link:"",is_required:!0,sort_order:be.tools.length,step_num:null})},sr=($=null)=>{zt(),Ze($e=>({...$e,step_num:$})),ne(!0)},ye=$=>{xe($),Ze({tool_name:$.tool_name||"",tool_description:$.tool_description||"",tool_link:$.tool_link||"",is_required:$.is_required??!0,sort_order:$.sort_order||0,step_num:$.step_num||null}),V(!0)},Ve=$=>{P($),Pe(!0)},qt=async()=>{try{if(!(await fetch(`/api/sequences/${e}/tools`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Re)})).ok)throw new Error("Failed to add tool");await Zt(),ne(!1),zt(),gt("Tool added successfully")}catch($){console.error("Error adding tool:",$),z("Failed to add tool")}},vr=async()=>{try{if(!(await fetch(`/api/sequences/tools/${L.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Re)})).ok)throw new Error("Failed to update tool");await Zt(),V(!1),xe(null),gt("Tool updated successfully")}catch($){console.error("Error updating tool:",$),z("Failed to update tool")}},ur=async()=>{try{if(!(await fetch(`/api/sequences/tools/${Je.id}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete tool");await Zt(),Pe(!1),P(null),gt("Tool deleted successfully")}catch($){console.error("Error deleting tool:",$),z("Failed to delete tool")}},pt=()=>{yt({part_name:"",part_number:"",part_description:"",part_link:"",estimated_price:"",is_required:!0,sort_order:be.parts.length,step_num:null})},Tr=($=null)=>{pt(),yt($e=>({...$e,step_num:$})),he(!0)},re=$=>{nt($),yt({part_name:$.part_name||"",part_number:$.part_number||"",part_description:$.part_description||"",part_link:$.part_link||"",estimated_price:$.estimated_price||"",is_required:$.is_required??!0,sort_order:$.sort_order||0,step_num:$.step_num||null}),X(!0)},Oe=$=>{Ke($),je(!0)},He=async()=>{try{if(!(await fetch(`/api/sequences/${e}/parts`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...We,estimated_price:We.estimated_price?parseFloat(We.estimated_price):null})})).ok)throw new Error("Failed to add part");await Zt(),he(!1),pt(),gt("Part added successfully")}catch($){console.error("Error adding part:",$),z("Failed to add part")}},Vt=async()=>{try{if(!(await fetch(`/api/sequences/parts/${Be.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...We,estimated_price:We.estimated_price?parseFloat(We.estimated_price):null})})).ok)throw new Error("Failed to update part");await Zt(),X(!1),nt(null),gt("Part updated successfully")}catch($){console.error("Error updating part:",$),z("Failed to update part")}},gr=async()=>{try{if(!(await fetch(`/api/sequences/parts/${ke.id}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete part");await Zt(),je(!1),Ke(null),gt("Part deleted successfully")}catch($){console.error("Error deleting part:",$),z("Failed to delete part")}},vn=async()=>{Ee(!0);try{const $=await fetch(`/api/sequences/${e}/validate`,{credentials:"include"});if(!$.ok)throw new Error("Failed to validate sequence");const $e=await $.json();$e.errors&&$e.errors.length>0?(j($e.errors),z("Validation found issues with this sequence")):(j([]),gt("Sequence validated - no errors found"))}catch($){console.error("Error validating sequence:",$),z("Failed to validate sequence")}finally{Ee(!1)}},an=async()=>{try{if(!(await fetch(`/api/sequences/${e}/toggle`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({is_active:!d.is_active})})).ok)throw new Error("Failed to toggle sequence status");await _r(!0),gt(`Sequence ${d.is_active?"deactivated":"activated"} successfully`)}catch($){console.error("Error toggling sequence:",$),z("Failed to toggle sequence status")}},wi=async()=>{try{if(!(await fetch(`/api/sequences/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:Ae.displayName,description:Ae.description,category:Ae.category})})).ok)throw new Error("Failed to update sequence metadata");await _r(!0),T(!1),gt("Sequence updated successfully")}catch($){console.error("Error updating metadata:",$),z("Failed to update sequence")}},Co=async()=>{try{if(!(await fetch(`/api/sequences/${e}/steps`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({step_num:parseInt(q.stepNum),message:q.message,doc_url:q.docUrl,doc_title:q.docTitle,success_triggers:ot(q.successTriggers),failure_triggers:ot(q.failureTriggers)})})).ok)throw new Error("Failed to add step");q.hasHandoff&&q.handoffTrigger&&q.handoffSequenceKey&&await ai(parseInt(q.stepNum)),await _r(!0),M(!1),ft(),gt("Step added successfully")}catch($){console.error("Error adding step:",$),z("Failed to add step")}},ko=async()=>{try{if(!(await fetch(`/api/sequences/${e}/steps/${W.step_num}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:q.message,doc_url:q.docUrl,doc_title:q.docTitle,success_triggers:ot(q.successTriggers),failure_triggers:ot(q.failureTriggers),handoff_trigger:q.hasHandoff?q.handoffTrigger:null,handoff_sequence_key:q.hasHandoff?q.handoffSequenceKey:null,is_active:q.isActive})})).ok)throw new Error("Failed to update step");await _r(!0),U(!1),J(null),ft(),gt("Step updated successfully")}catch($){console.error("Error updating step:",$),z("Failed to update step")}},ai=async $=>{await fetch(`/api/sequences/${e}/steps/${$}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({handoff_trigger:q.handoffTrigger,handoff_sequence_key:q.handoffSequenceKey})})},I=async()=>{try{if(!(await fetch(`/api/sequences/${e}/steps/${ue.step_num}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete step");await _r(!0),Z(!1),_e(null),gt("Step deleted successfully")}catch($){console.error("Error deleting step:",$),z("Failed to delete step")}},De=async()=>{try{if(!(await fetch(`/api/sequences/${e}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete sequence");c("/sequences")}catch($){console.error("Error deleting sequence:",$),z("Failed to delete sequence")}},Mt=async($,$e)=>{const ut=d.steps||[],sn=ut.findIndex(Rt=>Rt.step_num===$.step_num);if($e==="up"&&sn>0){const Rt=ut[sn-1];await _t($,Rt)}else if($e==="down"&&sn<ut.length-1){const Rt=ut[sn+1];await _t($,Rt)}},_t=async($,$e)=>{try{if(!(await fetch(`/api/sequences/${e}/steps/${$.step_num}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:$e.message_template,doc_url:$e.doc_url,doc_title:$e.doc_title,success_triggers:$e.success_triggers,failure_triggers:$e.failure_triggers,handoff_trigger:$e.handoff_trigger,handoff_sequence_key:$e.handoff_sequence_key,is_active:$e.is_active})})).ok)throw new Error("Failed to update first step");if(!(await fetch(`/api/sequences/${e}/steps/${$e.step_num}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:$.message_template,doc_url:$.doc_url,doc_title:$.doc_title,success_triggers:$.success_triggers,failure_triggers:$.failure_triggers,handoff_trigger:$.handoff_trigger,handoff_sequence_key:$.handoff_sequence_key,is_active:$.is_active})})).ok)throw new Error("Failed to update second step");await _r(!0),gt("Steps reordered successfully")}catch(ut){console.error("Error swapping steps:",ut),z("Failed to reorder steps")}},lt=async $=>{try{if(!(await fetch(`/api/sequences/${e}/steps/${$.step_num}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({is_active:!$.is_active})})).ok)throw new Error("Failed to toggle step status");await _r(!0),gt(`Step ${$.is_active?"deactivated":"activated"} successfully`)}catch($e){console.error("Error toggling step:",$e),z("Failed to toggle step status")}},ot=$=>$.split(",").map($e=>$e.trim()).filter($e=>$e.length>0),gt=$=>{A($),setTimeout(()=>A(""),3e3)},ft=()=>{const $=d?.steps?.length?Math.max(...d.steps.map($e=>$e.step_num))+1:1;oe({stepNum:$.toString(),message:"",docUrl:"",docTitle:"",successTriggers:"",failureTriggers:"",hasHandoff:!1,handoffTrigger:"",handoffSequenceKey:"",isActive:!0})},Wi=$=>{J($),oe({stepNum:$.step_num.toString(),message:$.message_template||"",docUrl:$.doc_url||"",docTitle:$.doc_title||"",successTriggers:($.success_triggers||[]).join(", "),failureTriggers:($.failure_triggers||[]).join(", "),hasHandoff:!!$.handoff_trigger,handoffTrigger:$.handoff_trigger||"",handoffSequenceKey:$.handoff_sequence_key||"",isActive:$.is_active!==!1}),U(!0)},da=()=>{ft(),M(!0)},Ci=$=>({electrical:"primary",plumbing:"warning",hvac:"secondary",appliances:"success",mechanical:"danger"})[$?.toLowerCase()]||"default",ki=$=>$<=10?"#1e3a8a":$<=50?"#3b82f6":"#93c5fd",si=$=>({water:"#3b82f6",generator:"#f59e0b",grooming_equipment:"#8b5cf6",electrical:"#eab308",plumbing:"#06b6d4",hvac:"#ef4444"})[$]||r.colors.accent.primary,G=y.useCallback($=>oe($e=>({...$e,stepNum:$.target.value})),[]),Ne=y.useCallback($=>oe($e=>({...$e,message:$.target.value})),[]),Ye=y.useCallback($=>oe($e=>({...$e,docUrl:$.target.value})),[]),Xe=y.useCallback($=>oe($e=>({...$e,docTitle:$.target.value})),[]),Tt=y.useCallback($=>oe($e=>({...$e,successTriggers:$.target.value})),[]),at=y.useCallback($=>oe($e=>({...$e,failureTriggers:$.target.value})),[]),At=y.useCallback($=>oe($e=>({...$e,handoffTrigger:$.target.value})),[]),Et=y.useCallback($=>oe($e=>({...$e,handoffSequenceKey:$.target.value})),[]),Jt=y.useCallback($=>oe($e=>({...$e,hasHandoff:$.target.checked})),[]),li=y.useCallback($=>oe($e=>({...$e,isActive:$.target.checked})),[]);if(C)return s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:t,onLogout:n,hasRole:i,isSiteAdmin:l}),s.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"],display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx(Pf,{size:24,color:r.colors.accent.primary,style:{animation:"spin 1s linear infinite"}}),s.jsx("span",{style:{color:r.colors.text.secondary},children:"Loading sequence..."})]})})]});if(k&&!d)return s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:t,onLogout:n,hasRole:i,isSiteAdmin:l}),s.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:s.jsxs("div",{style:{padding:r.spacing.xl,backgroundColor:"#fee2e2",border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx(xi,{size:24,color:r.colors.accent.danger}),s.jsxs("div",{children:[s.jsx("h2",{style:{margin:0,color:r.colors.accent.danger,fontSize:r.fontSize.xl},children:k}),s.jsx("button",{onClick:()=>c("/sequences"),style:{marginTop:r.spacing.md,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Back to Sequences"})]})]})})]});const Wr=[...d?.steps||[]].sort(($,$e)=>$.step_num-$e.step_num);return s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:t,onLogout:n,hasRole:i,isSiteAdmin:l}),s.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[E&&s.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.md,backgroundColor:"#d1fae5",border:`1px solid ${r.colors.accent.success}`,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(Kt,{size:20,color:r.colors.accent.success}),s.jsx("span",{style:{color:r.colors.accent.success,fontSize:r.fontSize.base},children:E})]}),k&&d&&s.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.md,backgroundColor:"#fee2e2",border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(xi,{size:20,color:r.colors.accent.danger}),s.jsx("span",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.base},children:k})]}),s.jsxs("button",{onClick:()=>c("/sequences"),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,marginBottom:r.spacing.lg,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:"transparent",color:r.colors.accent.primary,border:"none",cursor:"pointer",fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium},children:[s.jsx($f,{size:20}),"Back to Sequences"]}),s.jsx(rt,{style:{marginBottom:r.spacing.lg},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:r.spacing.lg},children:[s.jsxs("div",{style:{flex:1},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.sm},children:[s.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:d?.display_name}),s.jsx("button",{type:"button",onClick:()=>T(!0),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.primary,display:"flex",alignItems:"center"},title:"Edit sequence metadata",children:s.jsx(Nf,{size:20})})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.md},children:[d?.category&&s.jsx(tt,{variant:Ci(d.category),children:d.category}),s.jsxs("button",{onClick:an,style:{background:"none",border:"none",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:r.spacing.xs,color:d?.is_active?r.colors.accent.success:r.colors.text.tertiary},title:d?.is_active?"Active - Click to disable":"Inactive - Click to enable",children:[d?.is_active?s.jsx(zx,{size:24}):s.jsx(kx,{size:24}),s.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:d?.is_active?"Active":"Inactive"})]})]}),s.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,marginBottom:r.spacing.md},children:d?.description}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.lg,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:[s.jsxs("span",{children:["Created: ",d?.created_at?new Date(d.created_at).toLocaleDateString():"N/A"]}),s.jsxs("span",{children:["Updated: ",d?.updated_at?new Date(d.updated_at).toLocaleDateString():"N/A"]}),s.jsxs("span",{children:["Steps: ",Wr.length]})]})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.sm},children:[s.jsxs("button",{onClick:vn,disabled:fe,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.info,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:fe?"not-allowed":"pointer",opacity:fe?.7:1},children:[fe?s.jsx(Pf,{size:16,style:{animation:"spin 1s linear infinite"}}):s.jsx(Kt,{size:16}),"Validate Sequence"]}),s.jsxs("button",{onClick:()=>ge(!0),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:[s.jsx(Kr,{size:16}),"Delete Sequence"]})]})]})}),s.jsxs(rt,{style:{marginBottom:r.spacing.lg},children:[s.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:r.spacing.xs},children:[s.jsx(Mc,{size:20,color:r.colors.accent.primary}),s.jsx("h2",{style:{margin:0,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:"Trigger Patterns"})]}),s.jsx("p",{style:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:"Patterns that trigger this sequence"})]}),h.length===0?s.jsxs("div",{style:{textAlign:"center",padding:r.spacing.xl,color:r.colors.text.secondary,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md},children:[s.jsx(Mc,{size:32,style:{marginBottom:r.spacing.sm,opacity:.5}}),s.jsx("p",{style:{margin:0,fontSize:r.fontSize.sm},children:"No trigger patterns configured for this sequence"})]}):s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:h.map($=>s.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`},children:s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md},children:[s.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:ki($.priority),color:"#ffffff",borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,flexShrink:0},children:$.priority}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{fontFamily:"monospace",fontSize:r.fontSize.sm,color:r.colors.text.primary,marginBottom:r.spacing.xs,wordBreak:"break-all"},children:$.pattern}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,flexWrap:"wrap"},children:[s.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:si($.category_slug)+"20",color:si($.category_slug),borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:$.category_slug}),s.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:"|"}),s.jsx("span",{style:{fontSize:r.fontSize.xs,color:$.is_active?r.colors.status.success:r.colors.text.tertiary,fontWeight:r.fontWeight.medium},children:$.is_active?"Active":"Inactive"}),$.flags&&s.jsxs(s.Fragment,{children:[s.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:"|"}),s.jsxs("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontFamily:"monospace"},children:["flags: ",$.flags]})]})]})]})]})},$.id))}),s.jsxs(xc,{to:"/patterns",style:{display:"flex",alignItems:"center",gap:r.spacing.xs,marginTop:r.spacing.lg,color:r.colors.accent.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,textDecoration:"none"},children:[s.jsx(GF,{size:16}),"Manage All Patterns"]})]}),S.length>0&&s.jsx(rt,{style:{marginBottom:r.spacing.lg,backgroundColor:"#fff7ed",border:`1px solid ${r.colors.accent.warning}`},children:s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md},children:[s.jsx(xi,{size:24,color:r.colors.accent.warning}),s.jsxs("div",{style:{flex:1},children:[s.jsx("h3",{style:{margin:`0 0 ${r.spacing.md} 0`,color:r.colors.accent.warning,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.semibold},children:"Validation Errors"}),s.jsx("ul",{style:{margin:0,paddingLeft:r.spacing.lg,color:r.colors.text.primary},children:S.map(($,$e)=>s.jsx("li",{style:{marginBottom:r.spacing.xs},children:$},$e))})]})]})}),s.jsxs(rt,{title:s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx("span",{children:"Troubleshooting Steps"}),s.jsx(tt,{variant:"primary",size:"sm",children:Wr.length})]}),s.jsxs("a",{href:`/supplies/${e}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,textDecoration:"none"},children:[s.jsx(Ri,{size:14}),"Preview Supplies Page"]})]}),style:{marginBottom:r.spacing.lg},children:[(()=>{const $=be.tools.filter(ut=>!ut.step_num),$e=be.parts.filter(ut=>!ut.step_num);return $.length>0||$e.length>0,s.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.accent.primary}33`},children:[s.jsx(H2,{stepNum:null,tools:$,parts:$e,onAddTool:sr,onAddPart:Tr,onEditTool:ye,onDeleteTool:Ve,onEditPart:re,onDeletePart:Oe,theme:r,isGeneral:!0,sequenceKey:e}),s.jsxs("div",{style:{marginTop:r.spacing.sm,padding:r.spacing.sm,backgroundColor:r.colors.background.primary,borderRadius:r.radius.sm,fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontFamily:"monospace"},children:["Public URL: ",window.location.origin,"/supplies/",e]})]})})(),Wr.length===0?s.jsxs("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:[s.jsx("p",{style:{fontSize:r.fontSize.lg,marginBottom:r.spacing.md},children:"No steps yet"}),s.jsx("p",{style:{fontSize:r.fontSize.sm},children:"Add your first troubleshooting step to get started"})]}):s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:Wr.map(($,$e)=>s.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`,opacity:$.is_active===!1?.6:1},children:[s.jsxs("div",{style:{display:"flex",gap:r.spacing.lg},children:[s.jsx("div",{style:{width:"48px",height:"48px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.primary,color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:r.fontSize.xl,fontWeight:r.fontWeight.bold,flexShrink:0},children:$.step_num}),s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{style:{margin:`0 0 ${r.spacing.md} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base,lineHeight:1.6},children:$.message_template}),$.doc_url&&s.jsxs("a",{href:$.doc_url,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,textDecoration:"none",marginBottom:r.spacing.md},children:[$.doc_title||"View Document",s.jsx(Ri,{size:14})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.sm,marginTop:r.spacing.md},children:[$.success_triggers&&$.success_triggers.length>0&&s.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,alignItems:"center"},children:[s.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontWeight:r.fontWeight.medium},children:"Success:"}),$.success_triggers.slice(0,3).map((ut,sn)=>s.jsx(tt,{variant:"success",size:"sm",children:ut},sn)),$.success_triggers.length>3&&s.jsxs("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:["+",$.success_triggers.length-3," more"]})]}),$.failure_triggers&&$.failure_triggers.length>0&&s.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,alignItems:"center"},children:[s.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontWeight:r.fontWeight.medium},children:"Failure:"}),$.failure_triggers.slice(0,3).map((ut,sn)=>s.jsx(tt,{variant:"danger",size:"sm",children:ut},sn)),$.failure_triggers.length>3&&s.jsxs("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:["+",$.failure_triggers.length-3," more"]})]}),$.handoff_trigger&&$.handoff_sequence_key&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginTop:r.spacing.xs},children:[s.jsx(oO,{size:16,color:r.colors.accent.warning}),s.jsxs(tt,{variant:"warning",size:"sm",children:['If "',$.handoff_trigger,'"  ',$.handoff_sequence_key]})]})]})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xs,alignItems:"flex-end"},children:[s.jsxs("div",{style:{display:"flex",gap:r.spacing.xs},children:[s.jsx("button",{onClick:()=>lt($),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:$.is_active===!1?r.colors.text.tertiary:r.colors.accent.success,display:"flex",alignItems:"center"},title:$.is_active===!1?"Activate step":"Deactivate step",children:$.is_active===!1?s.jsx(kx,{size:20}):s.jsx(zx,{size:20})}),s.jsx("button",{type:"button",onClick:()=>Wi($),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.primary},title:"Edit step",children:s.jsx(Nf,{size:18})}),s.jsx("button",{onClick:()=>{_e($),Z(!0)},style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.danger},title:"Delete step",children:s.jsx(Kr,{size:18})})]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.xs,marginTop:r.spacing.sm},children:[s.jsx("button",{onClick:()=>Mt($,"up"),disabled:$e===0,style:{background:"none",border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.sm,cursor:$e===0?"not-allowed":"pointer",padding:r.spacing.xs,color:$e===0?r.colors.text.tertiary:r.colors.accent.primary,opacity:$e===0?.5:1},title:"Move up",children:s.jsx(Ec,{size:18})}),s.jsx("button",{onClick:()=>Mt($,"down"),disabled:$e===Wr.length-1,style:{background:"none",border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.sm,cursor:$e===Wr.length-1?"not-allowed":"pointer",padding:r.spacing.xs,color:$e===Wr.length-1?r.colors.text.tertiary:r.colors.accent.primary,opacity:$e===Wr.length-1?.5:1},title:"Move down",children:s.jsx(ei,{size:18})})]})]})]}),s.jsx(H2,{stepNum:$.step_num,tools:be.tools.filter(ut=>ut.step_num===$.step_num),parts:be.parts.filter(ut=>ut.step_num===$.step_num),onAddTool:sr,onAddPart:Tr,onEditTool:ye,onDeleteTool:Ve,onEditPart:re,onDeletePart:Oe,theme:r,sequenceKey:e})]},$.step_num))}),s.jsxs("button",{onClick:da,style:{width:"100%",marginTop:r.spacing.lg,padding:r.spacing.lg,backgroundColor:"transparent",border:`2px dashed ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:r.spacing.sm,color:r.colors.accent.primary,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},onMouseEnter:$=>{$.target.style.backgroundColor=r.colors.background.tertiary,$.target.style.borderColor=r.colors.accent.primary},onMouseLeave:$=>{$.target.style.backgroundColor="transparent",$.target.style.borderColor=r.colors.border.medium},children:[s.jsx(rr,{size:20}),"Add Step"]})]}),D&&s.jsx(ru,{}),R&&s.jsx(U2,{isEdit:!1,stepForm:q,allSequences:m,onClose:()=>M(!1),onSubmit:Co,handleStepNumChange:G,handleMessageChange:Ne,handleDocUrlChange:Ye,handleDocTitleChange:Xe,handleSuccessTriggersChange:Tt,handleFailureTriggersChange:at,handleHasHandoffChange:Jt,handleHandoffTriggerChange:At,handleHandoffSequenceChange:Et,handleIsActiveChange:li}),F&&s.jsx(U2,{isEdit:!0,stepForm:q,allSequences:m,onClose:()=>U(!1),onSubmit:ko,handleStepNumChange:G,handleMessageChange:Ne,handleDocUrlChange:Ye,handleDocTitleChange:Xe,handleSuccessTriggersChange:Tt,handleFailureTriggersChange:at,handleHasHandoffChange:Jt,handleHandoffTriggerChange:At,handleHandoffSequenceChange:Et,handleIsActiveChange:li}),le&&s.jsx(jp,{}),ie&&s.jsx(Za,{}),me&&s.jsx(Ei,{onClose:()=>ne(!1),title:"Add Tool",children:s.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[s.jsx(dt,{label:"Tool Name",required:!0,value:Re.tool_name,onChange:$=>Ze({...Re,tool_name:$.target.value})}),s.jsx(dt,{label:"Description",type:"textarea",value:Re.tool_description,onChange:$=>Ze({...Re,tool_description:$.target.value})}),s.jsx(dt,{label:"Link (optional)",value:Re.tool_link,onChange:$=>Ze({...Re,tool_link:$.target.value}),helpText:"e.g., https://amazon.com/dp/... or www.example.com"}),s.jsx(dt,{label:"Required",type:"select",value:Re.is_required?"true":"false",onChange:$=>Ze({...Re,is_required:$.target.value==="true"}),options:[{value:"true",label:"Yes - Required"},{value:"false",label:"No - Optional"}]}),s.jsx(dt,{label:"Sort Order",type:"number",value:Re.sort_order,onChange:$=>Ze({...Re,sort_order:parseInt($.target.value)||0}),helpText:"Lower numbers appear first"}),Re.step_num!==null?s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:"Applies To"}),s.jsxs("div",{style:{padding:r.spacing.sm,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx("div",{style:{width:"20px",height:"20px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.primary,color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.bold},children:Re.step_num}),s.jsxs("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary},children:["Step ",Re.step_num]})]})]}):s.jsx(dt,{label:"Applies To Step",type:"select",value:"",onChange:$=>Ze({...Re,step_num:$.target.value===""?null:parseInt($.target.value)}),options:[{value:"",label:"All Steps (General)"},...Wr.map($=>({value:$.step_num.toString(),label:`Step ${$.step_num}`}))],helpText:"Which step this tool is needed for"}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>ne(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:qt,disabled:!Re.tool_name,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:Re.tool_name?"pointer":"not-allowed",opacity:Re.tool_name?1:.5,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(rr,{size:16}),"Add Tool"]})]})]})}),Te&&s.jsx(Ei,{onClose:()=>V(!1),title:"Edit Tool",children:s.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[s.jsx(dt,{label:"Tool Name",required:!0,value:Re.tool_name,onChange:$=>Ze({...Re,tool_name:$.target.value})}),s.jsx(dt,{label:"Description",type:"textarea",value:Re.tool_description,onChange:$=>Ze({...Re,tool_description:$.target.value})}),s.jsx(dt,{label:"Link (optional)",value:Re.tool_link,onChange:$=>Ze({...Re,tool_link:$.target.value}),helpText:"e.g., https://amazon.com/dp/... or www.example.com"}),s.jsx(dt,{label:"Required",type:"select",value:Re.is_required?"true":"false",onChange:$=>Ze({...Re,is_required:$.target.value==="true"}),options:[{value:"true",label:"Yes - Required"},{value:"false",label:"No - Optional"}]}),s.jsx(dt,{label:"Sort Order",type:"number",value:Re.sort_order,onChange:$=>Ze({...Re,sort_order:parseInt($.target.value)||0}),helpText:"Lower numbers appear first"}),s.jsx(dt,{label:"Applies To Step",type:"select",value:Re.step_num===null?"":Re.step_num.toString(),onChange:$=>Ze({...Re,step_num:$.target.value===""?null:parseInt($.target.value)}),options:[{value:"",label:"All Steps"},...Wr.map($=>({value:$.step_num.toString(),label:`Step ${$.step_num}`}))],helpText:"Which step this tool is needed for"}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>V(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:vr,disabled:!Re.tool_name,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:Re.tool_name?"pointer":"not-allowed",opacity:Re.tool_name?1:.5,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(Fd,{size:16}),"Save Changes"]})]})]})}),te&&Je&&s.jsx(Ei,{onClose:()=>Pe(!1),title:"Delete Tool",children:s.jsxs("div",{children:[s.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base},children:['Are you sure you want to delete the tool "',s.jsx("strong",{children:Je.tool_name}),'"?']}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>Pe(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:ur,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(Kr,{size:16}),"Delete Tool"]})]})]})}),Me&&s.jsx(Ei,{onClose:()=>he(!1),title:"Add Part",children:s.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[s.jsx(dt,{label:"Part Name",required:!0,value:We.part_name,onChange:$=>yt({...We,part_name:$.target.value})}),s.jsx(dt,{label:"Part Number",value:We.part_number,onChange:$=>yt({...We,part_number:$.target.value}),helpText:"Manufacturer part number"}),s.jsx(dt,{label:"Description",type:"textarea",value:We.part_description,onChange:$=>yt({...We,part_description:$.target.value})}),s.jsx(dt,{label:"Buy Link (optional)",value:We.part_link,onChange:$=>yt({...We,part_link:$.target.value}),helpText:"e.g., https://amazon.com/dp/... or www.example.com"}),s.jsx(dt,{label:"Estimated Price",type:"number",value:We.estimated_price,onChange:$=>yt({...We,estimated_price:$.target.value}),helpText:"Approximate cost in USD"}),s.jsx(dt,{label:"Required",type:"select",value:We.is_required?"true":"false",onChange:$=>yt({...We,is_required:$.target.value==="true"}),options:[{value:"true",label:"Yes - Required"},{value:"false",label:"No - Optional"}]}),s.jsx(dt,{label:"Sort Order",type:"number",value:We.sort_order,onChange:$=>yt({...We,sort_order:parseInt($.target.value)||0}),helpText:"Lower numbers appear first"}),We.step_num!==null?s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:"Applies To"}),s.jsxs("div",{style:{padding:r.spacing.sm,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx("div",{style:{width:"20px",height:"20px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.primary,color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.bold},children:We.step_num}),s.jsxs("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary},children:["Step ",We.step_num]})]})]}):s.jsx(dt,{label:"Applies To Step",type:"select",value:"",onChange:$=>yt({...We,step_num:$.target.value===""?null:parseInt($.target.value)}),options:[{value:"",label:"All Steps (General)"},...Wr.map($=>({value:$.step_num.toString(),label:`Step ${$.step_num}`}))],helpText:"Which step this part is needed for"}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>he(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:He,disabled:!We.part_name,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.success,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:We.part_name?"pointer":"not-allowed",opacity:We.part_name?1:.5,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(rr,{size:16}),"Add Part"]})]})]})}),B&&s.jsx(Ei,{onClose:()=>X(!1),title:"Edit Part",children:s.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[s.jsx(dt,{label:"Part Name",required:!0,value:We.part_name,onChange:$=>yt({...We,part_name:$.target.value})}),s.jsx(dt,{label:"Part Number",value:We.part_number,onChange:$=>yt({...We,part_number:$.target.value}),helpText:"Manufacturer part number"}),s.jsx(dt,{label:"Description",type:"textarea",value:We.part_description,onChange:$=>yt({...We,part_description:$.target.value})}),s.jsx(dt,{label:"Buy Link (optional)",value:We.part_link,onChange:$=>yt({...We,part_link:$.target.value}),helpText:"e.g., https://amazon.com/dp/... or www.example.com"}),s.jsx(dt,{label:"Estimated Price",type:"number",value:We.estimated_price,onChange:$=>yt({...We,estimated_price:$.target.value}),helpText:"Approximate cost in USD"}),s.jsx(dt,{label:"Required",type:"select",value:We.is_required?"true":"false",onChange:$=>yt({...We,is_required:$.target.value==="true"}),options:[{value:"true",label:"Yes - Required"},{value:"false",label:"No - Optional"}]}),s.jsx(dt,{label:"Sort Order",type:"number",value:We.sort_order,onChange:$=>yt({...We,sort_order:parseInt($.target.value)||0}),helpText:"Lower numbers appear first"}),s.jsx(dt,{label:"Applies To Step",type:"select",value:We.step_num===null?"":We.step_num.toString(),onChange:$=>yt({...We,step_num:$.target.value===""?null:parseInt($.target.value)}),options:[{value:"",label:"All Steps"},...Wr.map($=>({value:$.step_num.toString(),label:`Step ${$.step_num}`}))],helpText:"Which step this part is needed for"}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>X(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:Vt,disabled:!We.part_name,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.success,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:We.part_name?"pointer":"not-allowed",opacity:We.part_name?1:.5,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(Fd,{size:16}),"Save Changes"]})]})]})}),K&&ke&&s.jsx(Ei,{onClose:()=>je(!1),title:"Delete Part",children:s.jsxs("div",{children:[s.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base},children:['Are you sure you want to delete the part "',s.jsx("strong",{children:ke.part_name}),'"?']}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>je(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:gr,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(Kr,{size:16}),"Delete Part"]})]})]})}),s.jsx("style",{children:`
            @keyframes spin {
              from { transform: rotate(0deg); }
              to { transform: rotate(360deg); }
            }
          `})]})]});function ru(){return s.jsx(Ei,{onClose:()=>T(!1),title:"Edit Sequence Metadata",children:s.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[s.jsx(dt,{label:"Display Name",required:!0,value:Ae.displayName,onChange:$=>N({...Ae,displayName:$.target.value})}),s.jsx(dt,{label:"Description",required:!0,type:"textarea",value:Ae.description,onChange:$=>N({...Ae,description:$.target.value})}),s.jsx(dt,{label:"Category",required:!0,type:"select",value:Ae.category,onChange:$=>N({...Ae,category:$.target.value}),options:[{value:"",label:"Select a category..."},{value:"Electrical",label:"Electrical"},{value:"Plumbing",label:"Plumbing"},{value:"HVAC",label:"HVAC"},{value:"Appliances",label:"Appliances"},{value:"Mechanical",label:"Mechanical"},{value:"Other",label:"Other"}]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>T(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:wi,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(Fd,{size:16}),"Save Changes"]})]})]})})}function jp(){return s.jsx(Ei,{onClose:()=>Z(!1),title:"Delete Step",children:s.jsxs("div",{children:[s.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base},children:["Are you sure you want to delete step ",ue?.step_num,"? This cannot be undone."]}),ue?.message_template&&s.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,marginBottom:r.spacing.lg},children:s.jsxs("p",{style:{margin:0,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:[ue.message_template.substring(0,100),ue.message_template.length>100?"...":""]})}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>Z(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:I,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(Kr,{size:16}),"Delete Step"]})]})]})})}function Za(){return s.jsx(Ei,{onClose:()=>ge(!1),title:"Delete Sequence",children:s.jsxs("div",{children:[s.jsxs("p",{style:{margin:`0 0 ${r.spacing.md} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base},children:['Are you sure you want to delete the entire sequence "',s.jsx("strong",{children:d?.display_name}),'"?']}),s.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.secondary,fontSize:r.fontSize.base},children:["This will delete all ",Wr.length," step",Wr.length!==1?"s":"",". This action cannot be undone."]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>ge(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:De,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(Kr,{size:16}),"Delete Sequence"]})]})]})})}}class ZY{validatePattern(t){if(!t)return{isValid:!1,hasDoubleEscaping:!1,errors:["Pattern is required"],warnings:[]};const n=[],i=[];let l=!1;/\\\\[bBdDwWsS]/.test(t)&&(l=!0,i.push("Pattern contains double-escaped sequences (e.g., \\\\b). These should be single-escaped (\\b)."));const d=(t.match(/\[/g)||[]).length,p=(t.match(/\]/g)||[]).length;d!==p&&n.push("Unbalanced brackets in pattern");const m=(t.match(/\(/g)||[]).length,g=(t.match(/\)/g)||[]).length;m!==g&&n.push("Unbalanced parentheses in pattern"),t.includes("\\b")&&!l&&i.push("Pattern uses \\b (word boundary). This will be automatically converted to \\y for PostgreSQL compatibility.");try{new RegExp(t)}catch(h){n.push(`Invalid regex syntax: ${h.message}`)}return{isValid:n.length===0,hasDoubleEscaping:l,errors:n,warnings:i}}fixDoubleEscaping(t){return t&&t.replace(/\\\\b/g,"\\b").replace(/\\\\B/g,"\\B").replace(/\\\\d/g,"\\d").replace(/\\\\D/g,"\\D").replace(/\\\\w/g,"\\w").replace(/\\\\W/g,"\\W").replace(/\\\\s/g,"\\s").replace(/\\\\S/g,"\\S").replace(/\\\\t/g,"\\t").replace(/\\\\n/g,"\\n").replace(/\\\\r/g,"\\r")}convertToPostgresPattern(t){return t&&t.replace(/\\b/g,"\\y").replace(/\\B/g,"\\Y")}prepareForDatabase(t){if(!t)return t;let n=t;this.validatePattern(t).hasDoubleEscaping&&(console.log(" Auto-fixing double-escaped pattern"),n=this.fixDoubleEscaping(n)),console.log(" Converting JavaScript regex to PostgreSQL POSIX regex"),n=this.convertToPostgresPattern(n);const l=this.validatePattern(n);return l.isValid?console.log(" Pattern prepared successfully for PostgreSQL"):console.warn(" Final pattern validation failed:",l.errors),n}getExamples(){return[{name:"Simple word match",input:"\\bdryer\\b",prepared:"\\ydryer\\y",description:'Matches "dryer" as a complete word. Word boundaries (\\b) are automatically converted to PostgreSQL syntax (\\y).'},{name:"Multiple conditions",input:"\\bwater\\b.*\\b(leak|leaking)\\b",prepared:"\\ywater\\y.*\\y(leak|leaking)\\y",description:'Matches "water" followed by "leak" or "leaking". All word boundaries converted automatically.'},{name:"Case variations",input:"\\b(ac|air\\s*conditioning)\\b.*\\b(not\\s*working|broken)\\b",prepared:"\\y(ac|air\\s*conditioning)\\y.*\\y(not\\s*working|broken)\\y",description:"Matches AC or air conditioning with various problem phrases."},{name:"Double-escaped (will be fixed)",input:"\\\\btest\\\\b",prepared:"\\ytest\\y",description:"Double-escaped pattern will be auto-fixed and converted."}]}}const F2=new ZY;function JY(){const{user:e,logout:t,hasRole:n,isSiteAdmin:i}=xn(),[l,c]=y.useState([]),[d,p]=y.useState([]),[m,g]=y.useState(!0),[h,x]=y.useState(""),[S,j]=y.useState(""),[C,w]=y.useState(""),[k,z]=y.useState("priority"),[E,A]=y.useState("asc"),[D,T]=y.useState(!1),[R,M]=y.useState(!1),[F,U]=y.useState(!1),[le,Z]=y.useState(!1),[ie,ge]=y.useState(null),[fe,Ee]=y.useState(null),[W,J]=y.useState({category_slug:"",pattern:"",flags:"i",priority:100,action_type:"sequence",action_key:"",entry_step_id:"",van_makes:"",years:"",van_versions:"",is_active:!0}),[ue,_e]=y.useState({valid:!0,error:null,warning:null});y.useEffect(()=>{const L=async()=>{g(!0),x("");try{const Be=await fetch("/api/patterns",{credentials:"include"});if(!Be.ok)throw new Error("Failed to fetch patterns");const nt=await Be.json();c(nt)}catch(Be){console.error("Error fetching patterns:",Be),x(Be.message)}finally{g(!1)}},xe=async()=>{try{const Be=await fetch("/api/sequences",{credentials:"include"});if(!Be.ok)throw new Error("Failed to fetch sequences");const nt=await Be.json();p(nt)}catch(Be){console.error("Error fetching sequences:",Be)}};L(),xe()},[]);const Ae=async()=>{g(!0),x("");try{const L=await fetch("/api/patterns",{credentials:"include"});if(!L.ok)throw new Error("Failed to fetch patterns");const xe=await L.json();c(xe)}catch(L){console.error("Error fetching patterns:",L),x(L.message)}finally{g(!1)}},N=()=>{J({category_slug:"",pattern:"",flags:"i",priority:100,action_type:"sequence",action_key:"",entry_step_id:"",van_makes:"",years:"",van_versions:"",is_active:!0}),_e({valid:!0,error:null,warning:null})},q=(L,xe)=>{if(!L){_e({valid:!0,error:null,warning:null});return}try{new RegExp(L,xe),F2.validatePattern(L).hasDoubleEscaping?_e({valid:!0,error:null,warning:"Pattern contains double-escaped sequences (e.g., \\\\b instead of \\b). This may not match as expected in PostgreSQL regex."}):_e({valid:!0,error:null,warning:null})}catch(Be){_e({valid:!1,error:`Invalid regex pattern: ${Be.message}`,warning:null})}},oe=y.useCallback(()=>{J(L=>{const xe=F2.fixDoubleEscaping(L.pattern);return q(xe,L.flags),{...L,pattern:xe}})},[]),be=y.useCallback(L=>{J(xe=>(q(L,xe.flags),{...xe,pattern:L}))},[]),Se=y.useCallback(L=>{J(xe=>(q(xe.pattern,L),{...xe,flags:L}))},[]),Ce=y.useCallback((L,xe)=>{J(Be=>({...Be,[L]:xe}))},[]),Q=L=>{j(L),setTimeout(()=>j(""),3e3)},me=async()=>{if(!ue.valid){x("Please fix the pattern validation errors before saving");return}try{if(!(await fetch("/api/patterns",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...W,priority:parseInt(W.priority),entry_step_id:W.entry_step_id||null,van_makes:W.van_makes?W.van_makes.split(",").map(xe=>xe.trim()):null,years:W.years?W.years.split(",").map(xe=>parseInt(xe.trim())):null,van_versions:W.van_versions?W.van_versions.split(",").map(xe=>xe.trim()):null})})).ok)throw new Error("Failed to create pattern");await Ae(),M(!1),N(),Q("Pattern created successfully")}catch(L){console.error("Error creating pattern:",L),x("Failed to create pattern")}},ne=async()=>{if(!ue.valid){x("Please fix the pattern validation errors before saving");return}try{if(!(await fetch(`/api/patterns/${ie.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...W,priority:parseInt(W.priority),entry_step_id:W.entry_step_id||null,van_makes:W.van_makes?W.van_makes.split(",").map(xe=>xe.trim()):null,years:W.years?W.years.split(",").map(xe=>parseInt(xe.trim())):null,van_versions:W.van_versions?W.van_versions.split(",").map(xe=>xe.trim()):null})})).ok)throw new Error("Failed to update pattern");await Ae(),U(!1),ge(null),N(),Q("Pattern updated successfully")}catch(L){console.error("Error updating pattern:",L),x("Failed to update pattern")}},Te=async()=>{try{if(!(await fetch(`/api/patterns/${fe.id}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete pattern");await Ae(),Z(!1),Ee(null),Q("Pattern deleted successfully")}catch(L){console.error("Error deleting pattern:",L),x("Failed to delete pattern")}},V=async L=>{try{if(!(await fetch(`/api/patterns/${L.id}/toggle`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({is_active:!L.is_active})})).ok)throw new Error("Failed to toggle pattern");await Ae(),Q(`Pattern ${L.is_active?"deactivated":"activated"} successfully`)}catch(xe){console.error("Error toggling pattern:",xe),x("Failed to toggle pattern")}},te=L=>{ge(L);const xe=L.pattern||"",Be=L.flags||"i";J({category_slug:L.category_slug||"",pattern:xe,flags:Be,priority:L.priority||100,action_type:L.action_type||"sequence",action_key:L.action_key||"",entry_step_id:L.entry_step_id||"",van_makes:L.van_makes?L.van_makes.join(", "):"",years:L.years?L.years.join(", "):"",van_versions:L.van_versions?L.van_versions.join(", "):"",is_active:L.is_active}),q(xe,Be),U(!0)},Pe=L=>{Ee(L),Z(!0)},Me=L=>({water:"#3b82f6",generator:"#f59e0b",grooming_equipment:"#8b5cf6",electrical:"#eab308",plumbing:"#06b6d4",hvac:"#ef4444"})[L]||r.colors.accent.primary,he=L=>L<=10?"#1e3a8a":L<=50?"#3b82f6":"#93c5fd",B=L=>d.find(Be=>Be.sequence_key===L)?.display_name||L,X=L=>{k===L?A(E==="asc"?"desc":"asc"):(z(L),A("asc"))},K=y.useMemo(()=>{let L=[...l];return C&&(L=L.filter(xe=>xe.pattern.toLowerCase().includes(C.toLowerCase())||xe.category_slug.toLowerCase().includes(C.toLowerCase())||B(xe.action_key).toLowerCase().includes(C.toLowerCase()))),D&&(L=L.filter(xe=>xe.is_active)),L.sort((xe,Be)=>{let nt,Je;return k==="priority"?(nt=xe.priority,Je=Be.priority):k==="category"?(nt=xe.category_slug,Je=Be.category_slug):k==="created_at"&&(nt=new Date(xe.created_at),Je=new Date(Be.created_at)),E==="asc"?nt>Je?1:-1:nt<Je?1:-1}),L},[l,C,D,k,E,d]),je=y.useMemo(()=>s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Priority ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"number",value:W.priority,onChange:L=>Ce("priority",L.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}},"priority-field"),s.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(mn,{size:12}),"Lower number = higher priority (matched first)"]})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Category Slug ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"text",value:W.category_slug,onChange:L=>Ce("category_slug",L.target.value),placeholder:"e.g., water, generator, grooming_equipment",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Pattern ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("textarea",{value:W.pattern,onChange:L=>be(L.target.value),placeholder:"e.g., (?i)\\bdryer\\b.*(not|won't).*work",rows:3,style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${ue.valid?r.colors.border.medium:r.colors.accent.danger}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontFamily:"monospace"}},"pattern-field"),ue.error&&s.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(mn,{size:12}),ue.error]}),ue.warning&&s.jsxs("div",{style:{marginTop:r.spacing.xs,padding:r.spacing.sm,backgroundColor:r.colors.accent.warning+"10",borderRadius:r.radius.md,border:`1px solid ${r.colors.accent.warning}40`},children:[s.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.warning,display:"flex",alignItems:"center",gap:r.spacing.xs,marginBottom:r.spacing.xs},children:[s.jsx(mn,{size:12}),ue.warning]}),s.jsxs("button",{onClick:oe,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.warning,color:"#ffffff",border:"none",borderRadius:r.radius.sm,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:[s.jsx(vi,{size:12}),"Auto-Fix Pattern"]})]}),!ue.error&&!ue.warning&&s.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(mn,{size:12}),"PostgreSQL regex pattern. Use \\b for word boundaries, \\d for digits, \\s for whitespace."]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Regex Flags"}),s.jsx("input",{type:"text",value:W.flags,onChange:L=>Se(L.target.value),placeholder:"i",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),s.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(mn,{size:12}),"PostgreSQL regex flags. Use 'i' for case-insensitive matching."]})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Triggers Sequence ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsxs("select",{value:W.action_key,onChange:L=>Ce("action_key",L.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[s.jsx("option",{value:"",children:"Select a sequence..."}),d.map(L=>s.jsx("option",{value:L.sequence_key,children:L.display_name||L.sequence_key},L.sequence_key))]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Entry Step (Optional)"}),s.jsx("input",{type:"text",value:W.entry_step_id,onChange:L=>Ce("entry_step_id",L.target.value),placeholder:"Leave empty to start at step 1",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Van Makes (Optional)"}),s.jsx("input",{type:"text",value:W.van_makes,onChange:L=>Ce("van_makes",L.target.value),placeholder:"e.g., Ford, Mercedes, Dodge",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs},children:"Comma-separated list"})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Van Versions (Optional)"}),s.jsx("input",{type:"text",value:W.van_versions,onChange:L=>Ce("van_versions",L.target.value),placeholder:"e.g., Transit, Sprinter, ProMaster",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs},children:"Comma-separated list"})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Years (Optional)"}),s.jsx("input",{type:"text",value:W.years,onChange:L=>Ce("years",L.target.value),placeholder:"e.g., 2020, 2021, 2022",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs},children:"Comma-separated list of years"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx("input",{type:"checkbox",id:"is_active",checked:W.is_active,onChange:L=>Ce("is_active",L.target.checked),style:{width:"16px",height:"16px"}}),s.jsx("label",{htmlFor:"is_active",style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,cursor:"pointer"},children:"Active"})]})]}),[W,ue,d,be,Se,oe,Ce]);return m?s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:e,onLogout:t,hasRole:n,isSiteAdmin:i}),s.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:s.jsx("div",{style:{textAlign:"center",padding:r.spacing["2xl"]},children:s.jsx("p",{style:{color:r.colors.text.secondary},children:"Loading patterns..."})})})]}):s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:e,onLogout:t,hasRole:n,isSiteAdmin:i}),s.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[S&&s.jsx("div",{style:{backgroundColor:r.colors.status.success+"20",color:r.colors.status.success,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.status.success}`},children:S}),h&&s.jsx("div",{style:{backgroundColor:r.colors.accent.danger+"20",color:r.colors.accent.danger,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.accent.danger}`},children:h}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:r.spacing.xl},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[s.jsx(Mc,{size:32,color:r.colors.accent.primary,strokeWidth:2}),s.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Trigger Patterns"})]}),s.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Manage regex patterns that trigger troubleshooting sequences"})]}),s.jsxs("button",{onClick:()=>{N(),M(!0)},style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:L=>L.currentTarget.style.backgroundColor=r.colors.accent.secondary,onMouseLeave:L=>L.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[s.jsx(rr,{size:20}),"Create New Pattern"]})]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.lg,flexWrap:"wrap"},children:[s.jsx("div",{style:{flex:1,minWidth:"300px"},children:s.jsxs("div",{style:{position:"relative"},children:[s.jsx(yi,{size:20,style:{position:"absolute",left:r.spacing.sm,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary}}),s.jsx("input",{type:"text",placeholder:"Search patterns, categories, or sequences...",value:C,onChange:L=>w(L.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.sm} ${r.spacing.sm} 40px`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]})}),s.jsx("button",{onClick:()=>T(!D),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:D?r.colors.accent.primary:"transparent",color:D?"#ffffff":r.colors.text.secondary,border:`1px solid ${D?r.colors.accent.primary:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:D?"Show All":"Active Only"})]}),s.jsx(rt,{children:K.length===0?s.jsxs("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:[s.jsx(Mc,{size:48,style:{marginBottom:r.spacing.md,opacity:.3}}),s.jsx("p",{style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium},children:"No patterns found"}),s.jsx("p",{style:{fontSize:r.fontSize.sm},children:C||D?"Try adjusting your filters":"Create your first pattern to get started"})]}):s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:`2px solid ${r.colors.border.medium}`},children:[s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,cursor:"pointer"},onClick:()=>X("priority"),children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:["Priority",k==="priority"&&(E==="asc"?s.jsx(Vs,{size:14}):s.jsx(Ys,{size:14}))]})}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Pattern"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,cursor:"pointer"},onClick:()=>X("category"),children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:["Category",k==="category"&&(E==="asc"?s.jsx(Vs,{size:14}):s.jsx(Ys,{size:14}))]})}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Triggers Sequence"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Flags"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Status"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"right",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Actions"})]})}),s.jsx("tbody",{children:K.map(L=>s.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.2s"},onMouseEnter:xe=>xe.currentTarget.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:xe=>xe.currentTarget.style.backgroundColor="transparent",children:[s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:he(L.priority),color:"#ffffff",borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold},children:L.priority})}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("div",{style:{fontFamily:"monospace",fontSize:r.fontSize.sm,color:r.colors.text.primary,maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:L.pattern,children:L.pattern})}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:Me(L.category_slug)+"20",color:Me(L.category_slug),borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:L.category_slug})}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsxs("a",{href:`/sequences/${L.action_key}`,style:{color:r.colors.accent.primary,textDecoration:"none",display:"flex",alignItems:"center",gap:r.spacing.xs,fontSize:r.fontSize.sm},onMouseEnter:xe=>xe.currentTarget.style.textDecoration="underline",onMouseLeave:xe=>xe.currentTarget.style.textDecoration="none",children:[B(L.action_key),s.jsx(Ri,{size:14})]})}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontFamily:"monospace"},children:L.flags||"none"})}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("button",{onClick:()=>V(L),style:{padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:L.is_active?r.colors.status.success+"20":r.colors.text.tertiary+"20",color:L.is_active?r.colors.status.success:r.colors.text.tertiary,border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:L.is_active?"Active":"Inactive"})}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"right"},children:s.jsxs("div",{style:{display:"flex",gap:r.spacing.xs,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>te(L),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Edit pattern",children:s.jsx(eu,{size:16})}),s.jsx("button",{onClick:()=>Pe(L),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete pattern",children:s.jsx(Kr,{size:16})})]})})]},L.id))})]})})}),R&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>M(!1),children:s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:L=>L.stopPropagation(),children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Create New Pattern"}),s.jsx("button",{onClick:()=>M(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:s.jsx(Nt,{size:24})})]}),s.jsxs("div",{style:{padding:r.spacing.xl},children:[je,s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[s.jsx("button",{onClick:me,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Create Pattern"}),s.jsx("button",{onClick:()=>M(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),F&&ie&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>U(!1),children:s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:L=>L.stopPropagation(),children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Edit Pattern"}),s.jsx("button",{onClick:()=>U(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:s.jsx(Nt,{size:24})})]}),s.jsxs("div",{style:{padding:r.spacing.xl},children:[je,s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[s.jsx("button",{onClick:ne,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Save Changes"}),s.jsx("button",{onClick:()=>{U(!1),Pe(ie)},style:{padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Delete"}),s.jsx("button",{onClick:()=>U(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),le&&fe&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>Z(!1),children:s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"500px",padding:r.spacing.xl},onClick:L=>L.stopPropagation(),children:[s.jsx("h2",{style:{margin:0,marginBottom:r.spacing.md,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Delete Pattern?"}),s.jsxs("p",{style:{margin:0,marginBottom:r.spacing.lg,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["Are you sure you want to delete the pattern ",s.jsxs("strong",{style:{fontFamily:"monospace"},children:['"',fe.pattern,'"']}),"?"]}),s.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,marginBottom:r.spacing.lg},children:[s.jsxs("p",{style:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[s.jsx("strong",{children:"Triggers:"})," ",B(fe.action_key)]}),s.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[s.jsx("strong",{children:"Category:"})," ",fe.category_slug]})]}),s.jsx("p",{style:{margin:0,marginBottom:r.spacing.xl,color:r.colors.accent.danger,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"This action cannot be undone."}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[s.jsx("button",{onClick:Te,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Delete Pattern"}),s.jsx("button",{onClick:()=>Z(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})})]})]})}const Dd=43200,K2=1440,Y2=Symbol.for("constructDateFrom");function Lb(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Y2 in e?e[Y2](t):e instanceof Date?new e.constructor(t):new Date(t)}function oa(e,t){return Lb(e,e)}let eV={};function tV(){return eV}function V2(e){const t=oa(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Wb(e,...t){const n=Lb.bind(null,e||t.find(i=>typeof i=="object"));return t.map(n)}function Kd(e,t){const n=+oa(e)-+oa(t);return n<0?-1:n>0?1:n}function rV(e){return Lb(e,Date.now())}function nV(e,t,n){const[i,l]=Wb(n?.in,e,t),c=i.getFullYear()-l.getFullYear(),d=i.getMonth()-l.getMonth();return c*12+d}function iV(e){return t=>{const i=(e?Math[e]:Math.trunc)(t);return i===0?0:i}}function oV(e,t){return+oa(e)-+oa(t)}function aV(e,t){const n=oa(e);return n.setHours(23,59,59,999),n}function sV(e,t){const n=oa(e),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function lV(e,t){const n=oa(e);return+aV(n)==+sV(n)}function cV(e,t,n){const[i,l,c]=Wb(n?.in,e,e,t),d=Kd(l,c),p=Math.abs(nV(l,c));if(p<1)return 0;l.getMonth()===1&&l.getDate()>27&&l.setDate(30),l.setMonth(l.getMonth()-d*p);let m=Kd(l,c)===-d;lV(i)&&p===1&&Kd(i,c)===1&&(m=!1);const g=d*(p-+m);return g===0?0:g}function uV(e,t,n){const i=oV(e,t)/1e3;return iV(n?.roundingMethod)(i)}const dV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fV=(e,t,n)=>{let i;const l=dV[e];return typeof l=="string"?i=l:t===1?i=l.one:i=l.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function yy(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const pV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hV={date:yy({formats:pV,defaultWidth:"full"}),time:yy({formats:gV,defaultWidth:"full"}),dateTime:yy({formats:mV,defaultWidth:"full"})},yV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xV=(e,t,n,i)=>yV[e];function lc(e){return(t,n)=>{const i=n?.context?String(n.context):"standalone";let l;if(i==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,p=n?.width?String(n.width):d;l=e.formattingValues[p]||e.formattingValues[d]}else{const d=e.defaultWidth,p=n?.width?String(n.width):e.defaultWidth;l=e.values[p]||e.values[d]}const c=e.argumentCallback?e.argumentCallback(t):t;return l[c]}}const vV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},SV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},CV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kV=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},zV={ordinalNumber:kV,era:lc({values:vV,defaultWidth:"wide"}),quarter:lc({values:bV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:lc({values:SV,defaultWidth:"wide"}),day:lc({values:jV,defaultWidth:"wide"}),dayPeriod:lc({values:wV,defaultWidth:"wide",formattingValues:CV,defaultFormattingWidth:"wide"})};function cc(e){return(t,n={})=>{const i=n.width,l=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],c=t.match(l);if(!c)return null;const d=c[0],p=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(p)?TV(p,x=>x.test(d)):_V(p,x=>x.test(d));let g;g=e.valueCallback?e.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const h=t.slice(d.length);return{value:g,rest:h}}}function _V(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function TV(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function AV(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const l=i[0],c=t.match(e.parsePattern);if(!c)return null;let d=e.valueCallback?e.valueCallback(c[0]):c[0];d=n.valueCallback?n.valueCallback(d):d;const p=t.slice(l.length);return{value:d,rest:p}}}const EV=/^(\d+)(th|st|nd|rd)?/i,OV=/\d+/i,MV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},RV={any:[/^b/i,/^(a|c)/i]},DV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$V={any:[/1/i,/2/i,/3/i,/4/i]},PV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},LV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},WV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},IV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qV={ordinalNumber:AV({matchPattern:EV,parsePattern:OV,valueCallback:e=>parseInt(e,10)}),era:cc({matchPatterns:MV,defaultMatchWidth:"wide",parsePatterns:RV,defaultParseWidth:"any"}),quarter:cc({matchPatterns:DV,defaultMatchWidth:"wide",parsePatterns:$V,defaultParseWidth:"any",valueCallback:e=>e+1}),month:cc({matchPatterns:PV,defaultMatchWidth:"wide",parsePatterns:NV,defaultParseWidth:"any"}),day:cc({matchPatterns:LV,defaultMatchWidth:"wide",parsePatterns:WV,defaultParseWidth:"any"}),dayPeriod:cc({matchPatterns:BV,defaultMatchWidth:"any",parsePatterns:IV,defaultParseWidth:"any"})},UV={code:"en-US",formatDistance:fV,formatLong:hV,formatRelative:xV,localize:zV,match:qV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function HV(e,t,n){const i=tV(),l=n?.locale??i.locale??UV,c=2520,d=Kd(e,t);if(isNaN(d))throw new RangeError("Invalid time value");const p=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:d}),[m,g]=Wb(n?.in,...d>0?[t,e]:[e,t]),h=uV(g,m),x=(V2(g)-V2(m))/1e3,S=Math.round((h-x)/60);let j;if(S<2)return n?.includeSeconds?h<5?l.formatDistance("lessThanXSeconds",5,p):h<10?l.formatDistance("lessThanXSeconds",10,p):h<20?l.formatDistance("lessThanXSeconds",20,p):h<40?l.formatDistance("halfAMinute",0,p):h<60?l.formatDistance("lessThanXMinutes",1,p):l.formatDistance("xMinutes",1,p):S===0?l.formatDistance("lessThanXMinutes",1,p):l.formatDistance("xMinutes",S,p);if(S<45)return l.formatDistance("xMinutes",S,p);if(S<90)return l.formatDistance("aboutXHours",1,p);if(S<K2){const C=Math.round(S/60);return l.formatDistance("aboutXHours",C,p)}else{if(S<c)return l.formatDistance("xDays",1,p);if(S<Dd){const C=Math.round(S/K2);return l.formatDistance("xDays",C,p)}else if(S<Dd*2)return j=Math.round(S/Dd),l.formatDistance("aboutXMonths",j,p)}if(j=cV(g,m),j<12){const C=Math.round(S/Dd);return l.formatDistance("xMonths",C,p)}else{const C=j%12,w=Math.trunc(j/12);return C<3?l.formatDistance("aboutXYears",w,p):C<9?l.formatDistance("overXYears",w,p):l.formatDistance("almostXYears",w+1,p)}}function FV(e,t){return HV(e,rV(e),t)}const hc=({currentPage:e,totalPages:t,pageSize:n,totalCount:i,onPageChange:l,onPageSizeChange:c,loading:d=!1,showPageSize:p=!0,className:m,style:g={}})=>{const h=i===0?0:(e-1)*n+1,x=Math.min(e*n,i),j=(()=>{const T=[];if(t<=7)for(let M=1;M<=t;M++)T.push(M);else{T.push(1);let M=Math.max(2,e-1),F=Math.min(t-1,e+1);e<=3&&(F=4),e>=t-2&&(M=t-3),M>2&&T.push("...");for(let U=M;U<=F;U++)T.push(U);F<t-1&&T.push("..."),t>1&&T.push(t)}return T})(),C=()=>{e>1&&!d&&l(e-1)},w=()=>{e<t&&!d&&l(e+1)},k=()=>{e>1&&!d&&l(1)},z=()=>{e<t&&!d&&l(t)},E=T=>{T!=="..."&&T!==e&&!d&&l(T)},A=T=>{const R=parseInt(T.target.value);c(R)};if(i===0)return null;const D={container:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.lg} ${r.spacing.xl}`,borderTop:`1px solid ${r.colors.border.light}`,backgroundColor:r.colors.background.secondary,flexWrap:"wrap",gap:r.spacing.lg,...g},info:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,minWidth:"200px"},infoHighlight:{fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},nav:{display:"flex",alignItems:"center",gap:r.spacing.xs,flex:1,justifyContent:"center"},navButton:T=>({display:"flex",alignItems:"center",justifyContent:"center",padding:r.spacing.sm,minWidth:"36px",height:"36px",backgroundColor:T?r.colors.background.tertiary:r.colors.background.secondary,color:T?r.colors.text.tertiary:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:T?"not-allowed":"pointer",transition:r.transitions.fast,opacity:T?.5:1}),pageButton:T=>({display:"flex",alignItems:"center",justifyContent:"center",padding:r.spacing.sm,minWidth:"36px",height:"36px",backgroundColor:T?r.colors.accent.primary:r.colors.background.secondary,color:T?r.colors.text.inverse:r.colors.text.primary,border:`1px solid ${T?r.colors.accent.primary:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:T?r.fontWeight.semibold:r.fontWeight.medium,cursor:d?"not-allowed":"pointer",transition:r.transitions.fast}),ellipsis:{padding:r.spacing.sm,color:r.colors.text.tertiary,fontSize:r.fontSize.sm,minWidth:"36px",textAlign:"center"},pageSizeContainer:{display:"flex",alignItems:"center",gap:r.spacing.sm,minWidth:"150px",justifyContent:"flex-end"},pageSizeLabel:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,whiteSpace:"nowrap"},pageSizeSelect:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:d?"not-allowed":"pointer",outline:"none"}};return s.jsxs("div",{className:m,style:D.container,children:[s.jsxs("div",{style:D.info,children:["Showing"," ",s.jsxs("span",{style:D.infoHighlight,children:[h,"-",x]})," ","of"," ",s.jsx("span",{style:D.infoHighlight,children:i.toLocaleString()})," ","items"]}),s.jsxs("div",{style:D.nav,children:[t>5&&s.jsx("button",{onClick:k,disabled:e===1||d,style:D.navButton(e===1||d),title:"First page",children:s.jsx(cK,{size:16})}),s.jsx("button",{onClick:C,disabled:e===1||d,style:D.navButton(e===1||d),title:"Previous page",children:s.jsx(oK,{size:16})}),j.map((T,R)=>{if(T==="...")return s.jsx("span",{style:D.ellipsis,children:"..."},`ellipsis-${R}`);const M=T===e;return s.jsx("button",{onClick:()=>E(T),disabled:d,style:D.pageButton(M),onMouseEnter:F=>{!M&&!d&&(F.currentTarget.style.backgroundColor=r.colors.background.tertiary,F.currentTarget.style.borderColor=r.colors.border.medium)},onMouseLeave:F=>{!M&&!d&&(F.currentTarget.style.backgroundColor=r.colors.background.secondary,F.currentTarget.style.borderColor=r.colors.border.light)},children:T},T)}),s.jsx("button",{onClick:w,disabled:e===t||d,style:D.navButton(e===t||d),title:"Next page",children:s.jsx(eO,{size:16})}),t>5&&s.jsx("button",{onClick:z,disabled:e===t||d,style:D.navButton(e===t||d),title:"Last page",children:s.jsx(dK,{size:16})})]}),p&&s.jsxs("div",{style:D.pageSizeContainer,children:[s.jsx("label",{htmlFor:"pageSize",style:D.pageSizeLabel,children:"Per page:"}),s.jsxs("select",{id:"pageSize",value:n,onChange:A,disabled:d,style:D.pageSizeSelect,children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]})]})]})},uc="",KV=3e4,YV=500,VV=()=>{const e=ii(),{showToast:t}=tu(),{user:n,logout:i,hasRole:l,isSiteAdmin:c}=xn(),[d,p]=qf(),[m,g]=y.useState(d.get("tab")||"active"),[h,x]=y.useState([]),[S,j]=y.useState([]),[C,w]=y.useState(!0),[k,z]=y.useState(null),[E,A]=y.useState(!1),[D,T]=y.useState(null),[R,M]=y.useState(!1),[F,U]=y.useState(parseInt(d.get("unassignedPage"))||1),[le,Z]=y.useState(parseInt(d.get("unassignedLimit"))||25),[ie,ge]=y.useState(null),[fe,Ee]=y.useState(parseInt(d.get("myTicketsPage"))||1),[W,J]=y.useState(parseInt(d.get("myTicketsLimit"))||25),[ue,_e]=y.useState(null),[Ae,N]=y.useState(""),[q,oe]=y.useState("priority"),[be,Se]=y.useState(""),[Ce,Q]=y.useState("last_activity"),[me,ne]=y.useState("all"),[Te,V]=y.useState([]),[te,Pe]=y.useState(parseInt(d.get("closedPage"))||1),[Me,he]=y.useState(parseInt(d.get("closedLimit"))||25),[B,X]=y.useState(null),[K,je]=y.useState(!1),[L,xe]=y.useState(d.get("closedStatus")||"all"),[Be,nt]=y.useState(d.get("closedSearch")||""),[Je,P]=y.useState(d.get("closedSearch")||""),[ke,Ke]=y.useState(d.get("closedDateFrom")||""),[Re,Ze]=y.useState(d.get("closedDateTo")||""),[We,yt]=y.useState(d.get("closedSort")||"closed_date"),[_r]=y.useState("desc"),Zt=y.useRef(null),zt=y.useCallback(async(G=!1)=>{try{G?A(!0):w(!0);const[Ne,Ye]=await Promise.all([fetch(`${uc}/api/tickets/unassigned?page=${F}&limit=${le}`,{credentials:"include"}),fetch(`${uc}/api/tickets/my-tickets?page=${fe}&limit=${W}`,{credentials:"include"})]);if(!Ne.ok||!Ye.ok)throw new Error("Failed to fetch tickets");const Xe=await Ne.json(),Tt=await Ye.json();console.log("=== UNASSIGNED TICKETS DATA ==="),console.log("Pagination:",Xe.pagination),console.log("Tickets:",Xe.tickets?.length||0),console.log("=== MY TICKETS DATA ==="),console.log("Pagination:",Tt.pagination),console.log("Tickets:",Tt.tickets?.length||0),x(Xe.tickets||[]),ge(Xe.pagination),j(Tt.tickets||[]),_e(Tt.pagination)}catch(Ne){console.error("Error fetching tickets:",Ne),t("Failed to load tickets","error")}finally{w(!1),A(!1)}},[t,F,le,fe,W]),sr=y.useCallback(async(G=!1)=>{try{G?A(!0):je(!0);const Ne=new URLSearchParams;Ne.set("page",te.toString()),Ne.set("limit",Me.toString()),Ne.set("sortBy",We),Ne.set("sortOrder",_r),L&&L!=="all"&&Ne.set("status",L),Be&&Ne.set("search",Be),ke&&Ne.set("dateFrom",ke),Re&&Ne.set("dateTo",Re);const Ye=await fetch(`${uc}/api/tickets/closed?${Ne.toString()}`,{credentials:"include"});if(!Ye.ok)throw new Error("Failed to fetch closed tickets");const Xe=await Ye.json();console.log("=== CLOSED TICKETS DATA ==="),console.log("Pagination:",Xe.pagination),console.log("Tickets:",Xe.tickets?.length||0),V(Xe.tickets||[]),X(Xe.pagination)}catch(Ne){console.error("Error fetching closed tickets:",Ne),t("Failed to load closed tickets","error")}finally{je(!1),A(!1)}},[t,te,Me,L,Be,ke,Re,We,_r]);y.useEffect(()=>(Zt.current&&clearTimeout(Zt.current),Zt.current=setTimeout(()=>{nt(Je),Je!==Be&&Pe(1)},YV),()=>{Zt.current&&clearTimeout(Zt.current)}),[Je]),y.useEffect(()=>{m==="active"?zt():m==="closed"&&sr()},[m,zt,sr]),y.useEffect(()=>{const G=setInterval(()=>{m==="active"?zt(!0):m==="closed"&&sr(!0)},KV);return()=>clearInterval(G)},[m,zt,sr]),y.useEffect(()=>{const G=new URLSearchParams(d);m!=="active"?G.set("tab",m):G.delete("tab"),m==="closed"&&(te!==1?G.set("closedPage",te.toString()):G.delete("closedPage"),Me!==25?G.set("closedLimit",Me.toString()):G.delete("closedLimit"),L&&L!=="all"?G.set("closedStatus",L):G.delete("closedStatus"),Be?G.set("closedSearch",Be):G.delete("closedSearch"),ke?G.set("closedDateFrom",ke):G.delete("closedDateFrom"),Re?G.set("closedDateTo",Re):G.delete("closedDateTo"),We&&We!=="closed_date"?G.set("closedSort",We):G.delete("closedSort")),p(G,{replace:!0})},[m,te,Me,L,Be,ke,Re,We,d,p]);const ye=async(G,Ne)=>{z(G);try{if(!(await fetch(`${uc}/api/tickets/${G}/assign`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})})).ok)throw new Error("Failed to assign ticket");t(`Ticket #${Ne} assigned to you`,"success"),await zt()}catch(Ye){console.error("Error assigning ticket:",Ye),t("Failed to assign ticket","error")}finally{z(null)}},Ve=()=>{m==="active"?zt(!0):m==="closed"&&sr(!0)},qt=y.useCallback((G,Ne)=>{T(Ne.ticket_id),G.dataTransfer.setData("text/plain",JSON.stringify({ticketId:Ne.ticket_id,ticketNumber:Ne.ticket_number})),G.dataTransfer.effectAllowed="move"},[]),vr=y.useCallback(()=>{T(null),M(!1)},[]),ur=y.useCallback(G=>{G.preventDefault(),G.dataTransfer.dropEffect="move"},[]),pt=y.useCallback(G=>{G.preventDefault(),M(!0)},[]),Tr=y.useCallback(G=>{const Ne=G.currentTarget,Ye=G.relatedTarget;Ne.contains(Ye)||M(!1)},[]),re=y.useCallback(async G=>{G.preventDefault(),M(!1),T(null);let Ne;try{const at=G.dataTransfer.getData("text/plain");if(!at)return;Ne=JSON.parse(at)}catch{return}if(!Ne||typeof Ne.ticketId>"u"||typeof Ne.ticketNumber>"u")return;const Ye=String(Ne.ticketId),Xe=String(Ne.ticketNumber),Tt=h.find(at=>String(at.ticket_id)===Ye);if(!Tt){t("Ticket not found","error");return}z(Ye);try{const at=await fetch(`${uc}/api/tickets/${Ye}/assign-to-me`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(at.status===409){t(`Ticket #${Xe} is already assigned to another user`,"warning"),await zt();return}if(!at.ok)throw new Error("Failed to assign ticket");const At=await at.json();x(Jt=>Jt.filter(li=>String(li.ticket_id)!==Ye));const Et={...Tt,assigned_to:n?.id,assigned_to_name:n?.name||n?.username,status:At.ticket?.status||"assigned"};j(Jt=>[Et,...Jt]),ge(Jt=>Jt&&{...Jt,totalCount:Math.max(0,(Jt.totalCount||1)-1)}),_e(Jt=>Jt&&{...Jt,totalCount:(Jt.totalCount||0)+1}),t(`Ticket #${Xe} assigned to you`,"success")}catch(at){console.error("Error assigning ticket via drag and drop:",at),t("Failed to assign ticket","error")}finally{z(null)}},[h,n,t,x,j,ge,_e]),Oe=G=>{e(`/tickets/${G}`)},He=G=>{g(G)},Vt=G=>{U(G);const Ne=new URLSearchParams(d);Ne.set("unassignedPage",G.toString()),p(Ne),window.scrollTo({top:0,behavior:"smooth"})},gr=G=>{Z(G),U(1);const Ne=new URLSearchParams(d);Ne.set("unassignedLimit",G.toString()),Ne.set("unassignedPage","1"),p(Ne)},vn=G=>{Ee(G);const Ne=new URLSearchParams(d);Ne.set("myTicketsPage",G.toString()),p(Ne);const Ye=document.getElementById("my-tickets-section");Ye&&Ye.scrollIntoView({behavior:"smooth",block:"start"})},an=G=>{J(G),Ee(1);const Ne=new URLSearchParams(d);Ne.set("myTicketsLimit",G.toString()),Ne.set("myTicketsPage","1"),p(Ne)},wi=G=>{Pe(G),window.scrollTo({top:0,behavior:"smooth"})},Co=G=>{he(G),Pe(1)},ko=()=>{P(""),nt(""),xe("all"),Ke(""),Ze(""),yt("closed_date"),Pe(1)},ai=Je||L!=="all"||ke||Re||We!=="closed_date",I=G=>({open:{color:"blue",icon:Mn,label:"Open"},assigned:{color:"purple",icon:mc,label:"Assigned"},in_progress:{color:"yellow",icon:vi,label:"In Progress"},waiting_customer:{color:"orange",icon:Oi,label:"Waiting Customer"},resolved:{color:"green",icon:Kt,label:"Resolved"},closed:{color:"gray",icon:Nt,label:"Closed"},cancelled:{color:"red",icon:Oc,label:"Cancelled"}})[G]||{color:"gray",icon:Mn,label:G},De=G=>({urgent:{color:"red",icon:xi,label:"Urgent"},high:{color:"orange",icon:Vs,label:"High"},normal:{color:"blue",icon:Ya,label:"Normal"},low:{color:"gray",icon:Ys,label:"Low"}})[G]||{color:"gray",icon:Ya,label:G},Mt=G=>G?{high:{color:"red",label:"High"},medium:{color:"yellow",label:"Medium"},low:{color:"green",label:"Low"}}[G]||{color:"gray",label:G}:null,_t=G=>{if(!G)return"N/A";const Ne=new Date(G),Xe=new Date-Ne,Tt=Math.floor(Xe/6e4),at=Math.floor(Xe/36e5),At=Math.floor(Xe/864e5);return Tt<1?"Just now":Tt<60?`${Tt} min${Tt>1?"s":""} ago`:at<24?`${at} hour${at>1?"s":""} ago`:At<7?`${At} day${At>1?"s":""} ago`:Ne.toLocaleDateString()},lt=G=>{if(!G)return"N/A";try{const Ne=new Date(G);return FV(Ne,{addSuffix:!0})}catch{return"N/A"}},ot=(G,Ne)=>G?G.length>Ne?`${G.substring(0,Ne)}...`:G:"",gt=()=>{let G=h.filter(Ye=>{const Xe=Ae.toLowerCase();return Ye.ticket_number?.toString().includes(Xe)||Ye.subject?.toLowerCase().includes(Xe)||Ye.customer_name?.toLowerCase().includes(Xe)||Ye.customer_phone?.includes(Xe)});const Ne={urgent:0,high:1,normal:2,low:3};return G.sort((Ye,Xe)=>{if(q==="priority"){const Tt=(Ne[Ye.priority]||999)-(Ne[Xe.priority]||999);return Tt!==0?Tt:new Date(Ye.created_at)-new Date(Xe.created_at)}else{if(q==="created")return new Date(Xe.created_at)-new Date(Ye.created_at);if(q==="customer")return(Ye.customer_name||"").localeCompare(Xe.customer_name||"")}return 0}),G},ft=()=>{let G=S.filter(Ye=>{if(me!=="all"&&Ye.status!==me)return!1;const Xe=be.toLowerCase();return Ye.ticket_number?.toString().includes(Xe)||Ye.subject?.toLowerCase().includes(Xe)});const Ne={urgent:0,high:1,normal:2,low:3};return G.sort((Ye,Xe)=>Ce==="last_activity"?new Date(Xe.updated_at||Xe.created_at)-new Date(Ye.updated_at||Ye.created_at):Ce==="status"?(Ye.status||"").localeCompare(Xe.status||""):Ce==="priority"?(Ne[Ye.priority]||999)-(Ne[Xe.priority]||999):0),G},Wi=gt(),da=ft(),Ci=()=>s.jsxs("tr",{className:"animate-pulse",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-48"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"})})]}),ki=()=>s.jsxs("tr",{className:"animate-pulse",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-48"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-28"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})})]}),si=G=>({display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.xl}`,backgroundColor:G?r.colors.accent.primary:"transparent",border:G?"none":`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:G?r.colors.text.inverse:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,cursor:"pointer",transition:r.transitions.normal});return s.jsxs("div",{className:"flex min-h-screen",style:{backgroundColor:r.colors.background.page},children:[s.jsx("div",{role:"status","aria-live":"polite",className:"sr-only",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",overflow:"hidden"},children:D?"Dragging ticket. Drop on My Tickets section to assign it to yourself.":""}),s.jsx(zr,{user:n,onLogout:i,hasRole:l,isSiteAdmin:c}),s.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"],position:"relative",zIndex:1},children:[s.jsx("div",{style:{marginBottom:r.spacing["2xl"]},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.accent.primary,borderRadius:r.radius.lg},children:s.jsx(uo,{size:24,style:{color:r.colors.text.inverse}})}),s.jsxs("div",{children:[s.jsx("h1",{style:{fontSize:r.fontSize["3xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0,lineHeight:r.lineHeight.tight},children:"Support Tickets"}),s.jsx("p",{style:{marginTop:r.spacing.xs,marginBottom:0,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"Manage and track customer support tickets"})]})]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[s.jsxs("button",{onClick:Ve,disabled:E,style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:E?"not-allowed":"pointer",opacity:E?.5:1,transition:r.transitions.fast,height:"40px",boxSizing:"border-box"},onMouseEnter:G=>!E&&(G.currentTarget.style.backgroundColor=r.colors.background.tertiary),onMouseLeave:G=>G.currentTarget.style.backgroundColor=r.colors.background.secondary,children:[s.jsx(Nb,{size:18,className:E?"animate-spin":""}),"Refresh"]}),(c()||l("admin")||l("manager")||l("technician"))&&s.jsxs("button",{onClick:()=>e("/tickets/new"),style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,border:"none",borderRadius:r.radius.md,color:r.colors.text.inverse,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",boxShadow:r.shadows.sm,transition:r.transitions.fast,height:"40px",boxSizing:"border-box"},onMouseEnter:G=>G.currentTarget.style.backgroundColor=r.colors.accent.primaryHover,onMouseLeave:G=>G.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[s.jsx(rr,{size:18}),"Create New Ticket"]})]})]})}),s.jsxs("div",{role:"tablist",style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl,marginBottom:r.spacing.xl},children:[s.jsxs("button",{role:"tab","aria-selected":m==="active","aria-controls":"active-tab-panel",id:"active-tab",onClick:()=>He("active"),style:si(m==="active"),onMouseEnter:G=>{m!=="active"&&(G.currentTarget.style.backgroundColor=r.colors.background.hover)},onMouseLeave:G=>{m!=="active"&&(G.currentTarget.style.backgroundColor="transparent")},children:[s.jsx(uo,{size:18}),"Active Tickets",(ie?.totalCount||0)+(ue?.totalCount||0)>0&&s.jsx(tt,{color:"blue",style:{marginLeft:"4px"},children:(ie?.totalCount||0)+(ue?.totalCount||0)})]}),s.jsxs("button",{role:"tab","aria-selected":m==="closed","aria-controls":"closed-tab-panel",id:"closed-tab",onClick:()=>He("closed"),style:si(m==="closed"),onMouseEnter:G=>{m!=="closed"&&(G.currentTarget.style.backgroundColor=r.colors.background.hover)},onMouseLeave:G=>{m!=="closed"&&(G.currentTarget.style.backgroundColor="transparent")},children:[s.jsx(B2,{size:18}),"Closed Tickets",B?.totalCount>0&&s.jsx(tt,{color:"gray",style:{marginLeft:"4px"},children:B.totalCount})]})]}),m==="active"&&s.jsxs("div",{role:"tabpanel",id:"active-tab-panel","aria-labelledby":"active-tab",children:[s.jsxs(rt,{style:{marginBottom:r.spacing["2xl"]},children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.lg},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Unassigned Tickets"}),s.jsx(tt,{color:"blue",children:ie?.totalCount||0})]}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:'Drag tickets to "My Tickets" to assign'})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsxs("div",{style:{flex:1,position:"relative",minWidth:"200px"},children:[s.jsx(yi,{size:16,style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"},"aria-hidden":"true"}),s.jsx("input",{type:"text",id:"unassigned-search","aria-label":"Search unassigned tickets by ticket number, customer name, or phone",placeholder:"Search tickets, customer name, or phone",value:Ae,onChange:G=>N(G.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,lineHeight:r.lineHeight.normal,outline:"none",transition:r.transitions.fast,height:"38px",boxSizing:"border-box"}})]}),s.jsxs("select",{id:"unassigned-sort","aria-label":"Sort unassigned tickets",value:q,onChange:G=>oe(G.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none",minWidth:"180px",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[s.jsx("option",{value:"priority",children:"Sort by Priority"}),s.jsx("option",{value:"created",children:"Sort by Created Date"}),s.jsx("option",{value:"customer",children:"Sort by Customer Name"})]})]})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`1px solid ${r.colors.border.light}`},children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"120px",width:"120px"},children:"Ticket #"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"300px"},children:"Subject"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Priority"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Urgency"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Customer"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Created"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Actions"})]})}),s.jsx("tbody",{style:{backgroundColor:r.colors.background.secondary},children:C?s.jsxs(s.Fragment,{children:[s.jsx(Ci,{}),s.jsx(Ci,{}),s.jsx(Ci,{})]}):Wi.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",style:{padding:0},children:s.jsxs("div",{style:{textAlign:"center",padding:`${r.spacing["2xl"]} ${r.spacing.lg}`,backgroundColor:r.colors.background.primary},children:[s.jsx(VK,{size:48,style:{color:r.colors.border.medium,margin:"0 auto",marginBottom:r.spacing.md}}),s.jsx("p",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:"No unassigned tickets"}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"All tickets are assigned!"})]})})}):Wi.map((G,Ne)=>{const Ye=De(G.priority),Xe=Mt(G.urgency),Tt=Ye.icon,at=G.unread_customer_comments>0,At=D===G.ticket_id;return s.jsxs("tr",{draggable:"true",onDragStart:Et=>qt(Et,G),onDragEnd:vr,onClick:()=>Oe(G.ticket_id),onKeyDown:Et=>{(Et.key==="Enter"||Et.key===" ")&&(Et.preventDefault(),Oe(G.ticket_id))},tabIndex:0,"aria-label":`View ticket ${G.ticket_number}. Drag to My Tickets to assign.`,style:{cursor:At?"grabbing":"grab",transition:r.transitions.fast,borderBottom:Ne<Wi.length-1?`1px solid ${r.colors.border.light}`:"none",opacity:At?.5:1,backgroundColor:At?r.colors.background.tertiary:"transparent"},onMouseEnter:Et=>{At||(Et.currentTarget.style.backgroundColor=r.colors.background.hover)},onMouseLeave:Et=>{At||(Et.currentTarget.style.backgroundColor="transparent")},children:[s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",minWidth:"120px",width:"120px"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(AK,{size:16,style:{color:At?r.colors.accent.primary:r.colors.text.tertiary,flexShrink:0,cursor:"grab"},"aria-hidden":"true"}),s.jsxs("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.bold,color:r.colors.accent.info},children:["#",G.ticket_number]}),at&&s.jsx("span",{style:{width:"8px",height:"8px",backgroundColor:r.colors.accent.warning,borderRadius:r.radius.full},title:"Unread customer comments"})]})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,minWidth:"300px"},children:s.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:ot(G.subject,60)})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:s.jsxs(tt,{color:Ye.color,children:[s.jsx(Tt,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),Ye.label]})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:Xe?s.jsx(tt,{color:Xe.color,children:Xe.label}):s.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"N/A"})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`},children:s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:G.customer_name||"N/A"}),s.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:G.customer_phone||"No phone"})]})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:_t(G.created_at)}),(c()||l("admin")||l("manager"))&&s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},onClick:Et=>Et.stopPropagation(),children:s.jsxs("button",{onClick:()=>ye(G.ticket_id,G.ticket_number),disabled:k===G.ticket_id,style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,border:"none",borderRadius:r.radius.md,cursor:k===G.ticket_id?"not-allowed":"pointer",opacity:k===G.ticket_id?.5:1,transition:r.transitions.fast},onMouseEnter:Et=>{k!==G.ticket_id&&(Et.currentTarget.style.backgroundColor=r.colors.accent.primaryHover)},onMouseLeave:Et=>{Et.currentTarget.style.backgroundColor=r.colors.accent.primary},children:[s.jsx(AY,{size:16}),k===G.ticket_id?"Assigning...":"Assign to Me"]})})]},G.ticket_id)})})]})}),ie&&ie.totalCount>0&&s.jsx(hc,{currentPage:ie.page,totalPages:ie.totalPages,pageSize:ie.limit,totalCount:ie.totalCount,onPageChange:Vt,onPageSizeChange:gr,loading:C||E})]}),s.jsxs(rt,{id:"my-tickets-section","aria-dropeffect":D?"move":"none",onDragOver:ur,onDragEnter:pt,onDragLeave:Tr,onDrop:re,style:{transition:r.transitions.normal,border:R?`2px dashed ${r.colors.accent.primary}`:`1px solid ${r.colors.border.light}`,backgroundColor:R?r.colors.accent.primaryLight:r.colors.background.secondary,boxShadow:R?r.shadows.md:r.shadows.sm},children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.lg},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"My Tickets"}),s.jsx(tt,{color:"purple",children:ue?.totalCount||0}),R&&s.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.accent.primary,fontWeight:r.fontWeight.medium},children:"Drop to assign"})]}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:D?"Drop ticket here to assign to yourself":"Tickets assigned to you"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsxs("div",{style:{flex:1,position:"relative",minWidth:"200px"},children:[s.jsx(yi,{size:16,style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"},"aria-hidden":"true"}),s.jsx("input",{type:"text",id:"my-tickets-search","aria-label":"Search my assigned tickets",placeholder:"Search tickets, customer name, or phone",value:be,onChange:G=>Se(G.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,lineHeight:r.lineHeight.normal,outline:"none",transition:r.transitions.fast,height:"38px",boxSizing:"border-box"}})]}),s.jsxs("select",{id:"my-tickets-status-filter","aria-label":"Filter my tickets by status",value:me,onChange:G=>ne(G.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none",minWidth:"150px",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"assigned",children:"Assigned"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"waiting_customer",children:"Waiting Customer"}),s.jsx("option",{value:"resolved",children:"Resolved"})]}),s.jsxs("select",{id:"my-tickets-sort","aria-label":"Sort my tickets",value:Ce,onChange:G=>Q(G.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none",minWidth:"180px",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[s.jsx("option",{value:"last_activity",children:"Sort by Last Activity"}),s.jsx("option",{value:"status",children:"Sort by Status"}),s.jsx("option",{value:"priority",children:"Sort by Priority"})]})]})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`1px solid ${r.colors.border.light}`},children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"100px",width:"100px"},children:"Ticket #"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"300px"},children:"Subject"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Status"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Priority"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Customer"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Last Activity"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Unread"})]})}),s.jsx("tbody",{style:{backgroundColor:r.colors.background.secondary},children:C?s.jsxs(s.Fragment,{children:[s.jsx(Ci,{}),s.jsx(Ci,{}),s.jsx(Ci,{})]}):da.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",style:{padding:0},children:s.jsxs("div",{style:{textAlign:"center",padding:`${r.spacing["2xl"]} ${r.spacing.lg}`,backgroundColor:r.colors.background.primary},children:[s.jsx(uo,{size:48,style:{color:r.colors.border.medium,margin:"0 auto",marginBottom:r.spacing.md}}),s.jsx("p",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:"No tickets assigned to you"}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"Assign tickets from the queue above"})]})})}):da.map((G,Ne)=>{const Ye=I(G.status),Xe=De(G.priority),Tt=Ye.icon,at=Xe.icon,At=G.unread_customer_comments>0;return s.jsxs("tr",{onClick:()=>Oe(G.ticket_id),onKeyDown:Et=>{(Et.key==="Enter"||Et.key===" ")&&(Et.preventDefault(),Oe(G.ticket_id))},tabIndex:0,"aria-label":`View ticket ${G.ticket_number}`,style:{cursor:"pointer",transition:r.transitions.fast,backgroundColor:At?r.colors.accent.warningLight:"transparent",borderBottom:Ne<da.length-1?`1px solid ${r.colors.border.light}`:"none"},onMouseEnter:Et=>Et.currentTarget.style.backgroundColor=At?r.colors.accent.warningLight:r.colors.background.hover,onMouseLeave:Et=>Et.currentTarget.style.backgroundColor=At?r.colors.accent.warningLight:"transparent",children:[s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",minWidth:"100px",width:"100px"},children:s.jsxs("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.bold,color:r.colors.accent.info},children:["#",G.ticket_number]})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,minWidth:"300px"},children:s.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:ot(G.subject,60)})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:s.jsxs(tt,{color:Ye.color,children:[s.jsx(Tt,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),Ye.label]})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:s.jsxs(tt,{color:Xe.color,children:[s.jsx(at,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),Xe.label]})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`},children:s.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary},children:G.customer_name||"N/A"})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:_t(G.updated_at||G.created_at)}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:At&&s.jsx(tt,{color:"orange",children:G.unread_customer_comments})})]},G.ticket_id)})})]})}),ue&&ue.totalCount>0&&s.jsx(hc,{currentPage:ue.page,totalPages:ue.totalPages,pageSize:ue.limit,totalCount:ue.totalCount,onPageChange:vn,onPageSizeChange:an,loading:C||E})]})]}),m==="closed"&&s.jsxs("div",{role:"tabpanel",id:"closed-tab-panel","aria-labelledby":"closed-tab",children:[K&&s.jsx("div",{role:"status","aria-live":"polite",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",overflow:"hidden"},children:"Loading closed tickets..."}),s.jsxs(rt,{children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.lg},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Closed Tickets"}),s.jsx(tt,{color:"gray",children:B?.totalCount||0})]}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:"Resolved, closed, and cancelled tickets"})]}),s.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.md,alignItems:"flex-end"},children:[s.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[s.jsx("label",{htmlFor:"closed-tickets-search",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Search"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx(yi,{size:16,"aria-hidden":"true",style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"}}),s.jsx("input",{type:"text",id:"closed-tickets-search",placeholder:"Ticket #, subject, or customer",value:Je,onChange:G=>P(G.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,lineHeight:r.lineHeight.normal,outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast}})]})]}),s.jsxs("div",{style:{minWidth:"140px"},children:[s.jsx("label",{htmlFor:"closed-status-filter",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Status"}),s.jsxs("select",{id:"closed-status-filter",value:L,onChange:G=>{xe(G.target.value),Pe(1)},style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[s.jsx("option",{value:"all",children:"All Closed"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"closed",children:"Closed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{style:{minWidth:"150px"},children:[s.jsx("label",{htmlFor:"closed-date-from",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Date From"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx(vx,{size:16,"aria-hidden":"true",style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"}}),s.jsx("input",{type:"date",id:"closed-date-from",value:ke,onChange:G=>{Ke(G.target.value),Pe(1)},style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast}})]})]}),s.jsxs("div",{style:{minWidth:"150px"},children:[s.jsx("label",{htmlFor:"closed-date-to",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Date To"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx(vx,{size:16,"aria-hidden":"true",style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"}}),s.jsx("input",{type:"date",id:"closed-date-to",value:Re,onChange:G=>{Ze(G.target.value),Pe(1)},style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast}})]})]}),s.jsxs("div",{style:{minWidth:"150px"},children:[s.jsx("label",{htmlFor:"closed-sort-by",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Sort By"}),s.jsxs("select",{id:"closed-sort-by",value:We,onChange:G=>{yt(G.target.value),Pe(1)},style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[s.jsx("option",{value:"closed_date",children:"Closed Date"}),s.jsx("option",{value:"created_at",children:"Created Date"}),s.jsx("option",{value:"priority",children:"Priority"}),s.jsx("option",{value:"ticket_number",children:"Ticket #"})]})]}),ai&&s.jsxs("button",{onClick:ko,style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:"transparent",border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:r.transitions.fast,height:"38px",boxSizing:"border-box"},onMouseEnter:G=>{G.currentTarget.style.backgroundColor=r.colors.background.tertiary,G.currentTarget.style.color=r.colors.text.primary},onMouseLeave:G=>{G.currentTarget.style.backgroundColor="transparent",G.currentTarget.style.color=r.colors.text.secondary},children:[s.jsx(iO,{size:14}),"Clear Filters"]})]})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`1px solid ${r.colors.border.light}`},children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"100px",width:"100px"},children:"Ticket #"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"220px"},children:"Subject"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Status"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Priority"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Customer"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Closed"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"180px"},children:"Resolution"})]})}),s.jsx("tbody",{style:{backgroundColor:r.colors.background.secondary},children:K?s.jsxs(s.Fragment,{children:[s.jsx(ki,{}),s.jsx(ki,{}),s.jsx(ki,{}),s.jsx(ki,{}),s.jsx(ki,{})]}):Te.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",style:{padding:0},children:s.jsxs("div",{style:{textAlign:"center",padding:`${r.spacing["2xl"]} ${r.spacing.lg}`,backgroundColor:r.colors.background.primary},children:[s.jsx(B2,{size:48,style:{color:r.colors.border.medium,margin:"0 auto",marginBottom:r.spacing.md}}),s.jsx("p",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:"No closed tickets found"}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:ai?"Try adjusting your filters to find more tickets":"Closed tickets will appear here once resolved"})]})})}):Te.map((G,Ne)=>{const Ye=I(G.status),Xe=De(G.priority),Tt=Ye.icon,at=Xe.icon;return s.jsxs("tr",{onClick:()=>Oe(G.ticket_id),onKeyDown:At=>{(At.key==="Enter"||At.key===" ")&&(At.preventDefault(),Oe(G.ticket_id))},tabIndex:0,"aria-label":`View ticket ${G.ticket_number}`,style:{cursor:"pointer",transition:r.transitions.fast,borderBottom:Ne<Te.length-1?`1px solid ${r.colors.border.light}`:"none"},onMouseEnter:At=>At.currentTarget.style.backgroundColor=r.colors.background.hover,onMouseLeave:At=>At.currentTarget.style.backgroundColor="transparent",children:[s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",minWidth:"100px",width:"100px"},children:s.jsxs("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.bold,color:r.colors.accent.info},children:["#",G.ticket_number]})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,minWidth:"220px"},children:s.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:ot(G.subject,50)})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:s.jsxs(tt,{color:Ye.color,children:[s.jsx(Tt,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),Ye.label]})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:s.jsxs(tt,{color:Xe.color,children:[s.jsx(at,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),Xe.label]})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`},children:s.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary},children:G.customer_name||"N/A"})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:lt(G.closed_date||G.updated_at)}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,minWidth:"180px"},children:s.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:ot(G.resolution_text||G.resolution_summary||"-",40)})})]},G.ticket_id)})})]})}),B&&B.totalCount>0&&s.jsx(hc,{currentPage:B.page,totalPages:B.totalPages,pageSize:B.limit,totalCount:B.totalCount,onPageChange:wi,onPageSizeChange:Co,loading:K||E})]})]})]})]})},xy="",G2="convert-sequence-modal-animations";if(typeof document<"u"&&!document.getElementById(G2)){const e=document.createElement("style");e.id=G2,e.textContent=`
    @keyframes skeleton-spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    @keyframes skeleton-shimmer {
      0% { opacity: 0.4; }
      50% { opacity: 0.7; }
      100% { opacity: 0.4; }
    }
    @media (prefers-reduced-motion: reduce) {
      .skeleton-shimmer {
        animation: none !important;
        opacity: 0.5 !important;
      }
      .skeleton-spin {
        animation: none !important;
      }
    }
  `,document.head.appendChild(e)}const GV=["Electrical","Plumbing","HVAC","Appliances","Mechanical","Other"],XV=[{value:"tool",label:"Tool",icon:vi},{value:"video",label:"Video",icon:dO},{value:"documentation",label:"Documentation",icon:nO}],vy=e=>{try{const t=new URL(e);return["http:","https:"].includes(t.protocol)}catch{return!1}},X2=({stepNum:e,type:t,triggers:n,addTrigger:i,removeTrigger:l})=>{const[c,d]=y.useState(""),p=t==="success";return s.jsxs("div",{style:{marginBottom:r.spacing.md},children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:p?r.colors.accent.success:r.colors.accent.danger,marginBottom:r.spacing.xs,textTransform:"uppercase",letterSpacing:"0.05em"},children:p?"Success Triggers":"Failure Triggers"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,marginBottom:r.spacing.sm},children:n?.map((m,g)=>s.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:p?r.colors.accent.successLight:r.colors.accent.dangerLight,color:p?r.colors.accent.success:r.colors.accent.danger,borderRadius:r.radius.full,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:[m,s.jsx("button",{type:"button",onClick:()=>l(e,t,g),style:{background:"none",border:"none",padding:0,cursor:"pointer",color:"inherit",display:"flex",alignItems:"center"},"aria-label":`Remove ${m}`,children:s.jsx(Nt,{size:12})})]},g))}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.sm},children:[s.jsx("input",{type:"text",value:c,onChange:m=>d(m.target.value),onKeyDown:m=>{m.key==="Enter"&&(m.preventDefault(),i(e,t,c),d(""))},placeholder:`Add ${t} trigger...`,style:{flex:1,padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary}}),s.jsxs("button",{type:"button",onClick:()=>{i(e,t,c),d("")},style:{padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:"none",backgroundColor:p?r.colors.accent.success:r.colors.accent.danger,color:r.colors.text.inverse,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[s.jsx(rr,{size:14}),"Add"]})]})]})},QV=({ticketId:e,ticketNumber:t,onClose:n,onSuccess:i})=>{const l=y.useRef(null),c=y.useRef(null),[d,p]=y.useState(!0),[m,g]=y.useState(null),[h,x]=y.useState(!1),[S,j]=y.useState({sequence_name:"",description:"",category:"Other",keywords:[],steps:[],urls:[],tools:[],parts:[]}),[C,w]=y.useState({}),[k,z]=y.useState(!1),[E,A]=y.useState(""),[D,T]=y.useState([]),R=y.useRef(null),[M,F]=y.useState(window.innerWidth<768);y.useEffect(()=>{let B;const X=()=>{clearTimeout(B),B=setTimeout(()=>F(window.innerWidth<768),150)};return window.addEventListener("resize",X),()=>{window.removeEventListener("resize",X),clearTimeout(B)}},[]),y.useEffect(()=>{const B=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=B}},[]),y.useEffect(()=>{(async()=>{try{const X=await fetch(`${xy}/api/sequences`,{credentials:"include"});if(X.ok){const K=await X.json();T(K||[])}}catch{}})()},[]);const U=y.useCallback(async()=>{R.current&&R.current.abort(),R.current=new AbortController;try{p(!0),g(null);const B=new Promise(L=>setTimeout(L,800)),X=fetch(`${xy}/api/tickets/${e}/generate-sequence`,{method:"POST",credentials:"include",signal:R.current.signal}),[K]=await Promise.all([X,B]);if(!K.ok){let L="Failed to generate sequence";try{L=(await K.json()).error||L}catch{L=`Server error: ${K.status} ${K.statusText}`}throw new Error(L)}const je=await K.json();j({sequence_name:je.sequence_name||"",description:je.description||"",category:je.category||"Other",keywords:je.keywords||[],steps:je.steps||[],urls:(je.urls||[]).map(L=>({_id:crypto.randomUUID(),url:L.url||"",title:L.title||"",category:L.category||"documentation"})),tools:(je.tools||[]).map(L=>({_id:crypto.randomUUID(),tool_name:L.tool_name||"",tool_description:L.tool_description||"",tool_link:L.tool_link||"",is_required:L.is_required!==!1,step_num:L.step_num||null})),parts:(je.parts||[]).map(L=>({_id:crypto.randomUUID(),part_name:L.part_name||"",part_number:L.part_number||"",part_description:L.part_description||"",part_link:L.part_link||"",estimated_price:L.estimated_price!=null?String(L.estimated_price):"",is_required:L.is_required!==!1,step_num:L.step_num||null}))}),je.steps?.length>0&&w({1:!0}),p(!1)}catch(B){if(B.name==="AbortError")return;console.error("Error generating sequence:",B),g(B.message),p(!1)}},[e]);y.useEffect(()=>(U(),()=>{R.current&&R.current.abort(),J.current&&J.current.abort()}),[U]),y.useEffect(()=>{d||c.current?.focus()},[d]),y.useEffect(()=>{const B=X=>{X.key==="Escape"&&!h&&n()};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[n,h]);const le=B=>B.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"").substring(0,50),Z=B=>/^[a-z0-9-]{1,50}$/.test(B)&&B.length>0,ie={width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary},ge={display:"block",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,color:r.colors.text.tertiary,marginBottom:r.spacing.xs},fe={display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.sm},Ee={display:"flex",alignItems:"center",gap:r.spacing.sm,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},W={padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:"none",backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},J=y.useRef(null),ue=async()=>{J.current&&J.current.abort(),J.current=new AbortController;try{x(!0),g(null);const B=le(S.sequence_name);if(!Z(B))throw new Error("Invalid sequence name. Please use letters, numbers, and hyphens only.");const X=(L,xe)=>{for(const Be of L)if(Be[xe]&&Be[xe].trim()&&!vy(Be[xe].trim()))throw new Error("Invalid URL detected. Only http/https URLs are allowed.")};try{X(S.tools,"tool_link"),X(S.parts,"part_link"),X(S.urls,"url"),S.steps.forEach(L=>{if(L.doc_url&&L.doc_url.trim()&&!vy(L.doc_url.trim()))throw new Error("Invalid document URL. Only http/https URLs are allowed.")})}catch(L){g(L.message),x(!1);return}const K={ticket_id:e,sequence_key:B,display_name:S.sequence_name,description:S.description,category:S.category,is_active:k,steps:S.steps,urls:S.urls.map(({_id:L,...xe})=>xe),keywords:S.keywords,tools:S.tools.filter(L=>L.tool_name&&L.tool_name.trim()).map(({_id:L,...xe})=>xe),parts:S.parts.filter(L=>L.part_name&&L.part_name.trim()).map(({_id:L,estimated_price:xe,...Be})=>({...Be,estimated_price:xe?parseFloat(xe):null}))},je=await fetch(`${xy}/api/sequences/from-ticket`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(K),signal:J.current.signal});if(!je.ok){let L="Failed to create sequence";try{L=(await je.json()).error||L}catch{L=`Server error: ${je.status} ${je.statusText}`}throw new Error(L)}await je.json(),x(!1),i(B)}catch(B){if(B.name==="AbortError")return;console.error("Error saving sequence:",B),g(B.message),x(!1)}},_e=B=>{w(X=>({...X,[B]:!X[B]}))},Ae=(B,X,K)=>{j(je=>({...je,steps:je.steps.map(L=>L.step_num===B?{...L,[X]:K}:L)}))},N=(B,X,K)=>{K.trim()&&j(je=>({...je,steps:je.steps.map(L=>{if(L.step_num===B){const xe=X==="success"?"success_triggers":"failure_triggers";return{...L,[xe]:[...L[xe]||[],K.trim()]}}return L})}))},q=(B,X,K)=>{j(je=>({...je,steps:je.steps.map(L=>{if(L.step_num===B){const xe=X==="success"?"success_triggers":"failure_triggers";return{...L,[xe]:L[xe].filter((Be,nt)=>nt!==K)}}return L})}))},oe=()=>{const B=S.steps.length+1;j(X=>({...X,steps:[...X.steps,{step_num:B,message_template:"",success_triggers:[],failure_triggers:[]}]})),w(X=>({...X,[B]:!0}))},be=B=>{j(X=>{const K=X.steps.filter(L=>L.step_num!==B).map((L,xe)=>({...L,step_num:xe+1})),je=L=>L.step_num===null?L:L.step_num===B?{...L,step_num:null}:L.step_num>B?{...L,step_num:L.step_num-1}:L;return{...X,steps:K,tools:X.tools.map(je),parts:X.parts.map(je)}}),w(X=>{const K={};return Object.entries(X).forEach(([je,L])=>{const xe=parseInt(je);xe<B?K[xe]=L:xe>B&&(K[xe-1]=L)}),K})},Se=(B,X,K)=>{j(je=>({...je,urls:je.urls.map((L,xe)=>xe===B?{...L,[X]:K}:L)}))},Ce=B=>{j(X=>({...X,urls:X.urls.filter((K,je)=>je!==B)}))},Q=()=>{j(B=>({...B,urls:[...B.urls,{_id:crypto.randomUUID(),url:"",title:"",category:"documentation"}]}))},me=()=>{if(!E.trim())return;const B=E.trim();S.keywords.some(X=>X.toLowerCase()===B.toLowerCase())||(j(X=>({...X,keywords:[...X.keywords,B]})),A(""))},ne=B=>{j(X=>({...X,keywords:X.keywords.filter((K,je)=>je!==B)}))},Te=()=>{j(B=>({...B,tools:[...B.tools,{_id:crypto.randomUUID(),tool_name:"",tool_description:"",tool_link:"",is_required:!0,step_num:null}]}))},V=(B,X,K)=>{j(je=>({...je,tools:je.tools.map((L,xe)=>xe===B?{...L,[X]:K}:L)}))},te=B=>{j(X=>({...X,tools:X.tools.filter((K,je)=>je!==B)}))},Pe=()=>{j(B=>({...B,parts:[...B.parts,{_id:crypto.randomUUID(),part_name:"",part_number:"",part_description:"",part_link:"",estimated_price:"",is_required:!0,step_num:null}]}))},Me=(B,X,K)=>{j(je=>({...je,parts:je.parts.map((L,xe)=>xe===B?{...L,[X]:K}:L)}))},he=B=>{j(X=>({...X,parts:X.parts.filter((K,je)=>je!==B)}))};return s.jsx("div",{onClick:h?void 0:n,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:r.zIndex.modal,padding:M?0:r.spacing.xl,backdropFilter:"blur(4px)"},children:s.jsxs("div",{ref:l,onClick:B=>B.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"convert-sequence-title",style:{backgroundColor:r.colors.background.secondary,borderRadius:M?0:r.radius.xl,maxWidth:M?"100%":"900px",width:"100%",maxHeight:M?"100vh":"90vh",height:M?"100vh":"auto",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:r.shadows["2xl"]},children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx("div",{style:{width:"44px",height:"44px",borderRadius:r.radius.lg,backgroundColor:`${r.colors.chart.purple}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Cx,{size:22,style:{color:r.colors.chart.purple}})}),s.jsxs("div",{children:[s.jsx("h2",{id:"convert-sequence-title",style:{color:r.colors.text.primary,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,margin:0},children:"Convert to Sequence"}),s.jsxs("p",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm,margin:0},children:["Ticket #",t]})]})]}),s.jsx("button",{ref:c,onClick:h?void 0:n,disabled:h,"aria-label":"Close modal",style:{background:"none",border:"none",padding:r.spacing.sm,cursor:"pointer",borderRadius:r.radius.md,color:r.colors.text.tertiary,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Nt,{size:24})})]}),s.jsx("div",{style:{flex:1,overflow:"auto",padding:r.spacing.xl},children:d?s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xl},children:[s.jsx("div",{role:"status","aria-live":"polite",style:{position:"absolute",width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0},children:"Analyzing ticket with AI. Please wait while we generate sequence steps."}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:r.spacing.lg,gap:r.spacing.md},children:[s.jsx("div",{style:{width:"64px",height:"64px",borderRadius:r.radius.full,backgroundColor:`${r.colors.chart.purple}20`,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Dn,{size:32,className:"skeleton-spin",style:{color:r.colors.chart.purple,animation:"skeleton-spin 1s linear infinite"}})}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("p",{style:{color:r.colors.text.primary,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.semibold,margin:0,marginBottom:r.spacing.xs},children:"Analyzing ticket with AI"}),s.jsx("p",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm,margin:0},children:"Generating sequence steps, keywords, and resources..."})]})]}),s.jsxs("div",{"aria-hidden":"true",children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:r.spacing.lg,marginBottom:r.spacing.xl},children:[s.jsxs("div",{children:[s.jsx("div",{className:"skeleton-shimmer",style:{height:"14px",width:"100px",backgroundColor:r.colors.border.light,borderRadius:r.radius.sm,marginBottom:r.spacing.sm,animation:"skeleton-shimmer 1.5s infinite"}}),s.jsx("div",{className:"skeleton-shimmer",style:{height:"40px",backgroundColor:r.colors.border.light,borderRadius:r.radius.md,animation:"skeleton-shimmer 1.5s infinite"}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"skeleton-shimmer",style:{height:"14px",width:"70px",backgroundColor:r.colors.border.light,borderRadius:r.radius.sm,marginBottom:r.spacing.sm,animation:"skeleton-shimmer 1.5s infinite"}}),s.jsx("div",{className:"skeleton-shimmer",style:{height:"40px",backgroundColor:r.colors.border.light,borderRadius:r.radius.md,animation:"skeleton-shimmer 1.5s infinite"}})]})]}),s.jsxs("div",{style:{marginBottom:r.spacing.xl},children:[s.jsx("div",{className:"skeleton-shimmer",style:{height:"14px",width:"80px",backgroundColor:r.colors.border.light,borderRadius:r.radius.sm,marginBottom:r.spacing.sm,animation:"skeleton-shimmer 1.5s infinite"}}),s.jsx("div",{className:"skeleton-shimmer",style:{height:"80px",backgroundColor:r.colors.border.light,borderRadius:r.radius.md,animation:"skeleton-shimmer 1.5s infinite"}})]}),s.jsxs("div",{style:{marginBottom:r.spacing.xl},children:[s.jsx("div",{className:"skeleton-shimmer",style:{height:"14px",width:"70px",backgroundColor:r.colors.border.light,borderRadius:r.radius.sm,marginBottom:r.spacing.sm,animation:"skeleton-shimmer 1.5s infinite"}}),s.jsx("div",{style:{display:"flex",gap:r.spacing.sm,flexWrap:"wrap"},children:[80,60,90,55].map((B,X)=>s.jsx("div",{className:"skeleton-shimmer",style:{height:"28px",width:`${B}px`,backgroundColor:r.colors.border.light,borderRadius:r.radius.full,animation:"skeleton-shimmer 1.5s infinite",animationDelay:`${X*.1}s`}},X))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"skeleton-shimmer",style:{height:"14px",width:"50px",backgroundColor:r.colors.border.light,borderRadius:r.radius.sm,marginBottom:r.spacing.md,animation:"skeleton-shimmer 1.5s infinite"}}),[48,56,52].map((B,X)=>s.jsx("div",{className:"skeleton-shimmer",style:{height:`${B}px`,backgroundColor:r.colors.border.light,borderRadius:r.radius.lg,marginBottom:r.spacing.md,animation:"skeleton-shimmer 1.5s infinite",animationDelay:`${X*.15}s`}},X))]})]})]}):m&&!S.sequence_name?s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:r.spacing["4xl"],gap:r.spacing.lg},children:[s.jsx(mn,{size:48,style:{color:r.colors.accent.danger}}),s.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.base,textAlign:"center"},children:m}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[s.jsx("button",{onClick:n,style:{padding:`${r.spacing.sm} ${r.spacing.xl}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.secondary,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"Close"}),s.jsxs("button",{onClick:U,style:{padding:`${r.spacing.sm} ${r.spacing.xl}`,borderRadius:r.radius.md,border:"none",backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(Nb,{size:16}),"Try Again"]})]})]}):s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xl},children:[m&&s.jsxs("div",{role:"alert",style:{padding:r.spacing.md,backgroundColor:r.colors.accent.dangerLight,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(mn,{size:18,style:{color:r.colors.accent.danger}}),s.jsx("span",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.sm},children:m})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:r.spacing.lg},children:[s.jsxs("div",{children:[s.jsx("label",{style:fe,children:"Sequence Name *"}),s.jsx("input",{type:"text",value:S.sequence_name,onChange:B=>j(X=>({...X,sequence_name:B.target.value})),style:{...ie,fontSize:r.fontSize.base}}),S.sequence_name&&s.jsxs("p",{style:{fontSize:r.fontSize.xs,color:Z(le(S.sequence_name))?r.colors.text.tertiary:r.colors.accent.danger,margin:0,marginTop:r.spacing.xs},children:["Key: ",le(S.sequence_name)||"(invalid characters)"]})]}),s.jsxs("div",{children:[s.jsx("label",{style:fe,children:"Category"}),s.jsx("select",{value:S.category,onChange:B=>j(X=>({...X,category:B.target.value})),style:{...ie,fontSize:r.fontSize.base,cursor:"pointer"},children:GV.map(B=>s.jsx("option",{value:B,children:B},B))})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:fe,children:"Description"}),s.jsx("textarea",{value:S.description,onChange:B=>j(X=>({...X,description:B.target.value})),rows:3,style:{...ie,fontSize:r.fontSize.base,padding:r.spacing.md,resize:"vertical",fontFamily:"inherit"}})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.sm},children:[s.jsx(uO,{size:16}),"Keywords"]}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.sm,marginBottom:r.spacing.sm},children:S.keywords.map((B,X)=>s.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.accent.primaryLight,color:r.colors.accent.primary,borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[B,s.jsx("button",{type:"button",onClick:()=>ne(X),style:{background:"none",border:"none",padding:0,cursor:"pointer",color:"inherit",display:"flex",alignItems:"center"},"aria-label":`Remove ${B}`,children:s.jsx(Nt,{size:14})})]},X))}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.sm},children:[s.jsx("input",{type:"text",value:E,onChange:B=>A(B.target.value),onKeyDown:B=>{B.key==="Enter"&&(B.preventDefault(),me())},placeholder:"Add keyword...",style:{...ie,flex:1,width:"auto"}}),s.jsxs("button",{type:"button",onClick:me,style:W,children:[s.jsx(rr,{size:14}),"Add"]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.md},children:[s.jsxs("label",{style:Ee,children:["Steps (",S.steps.length,")"]}),s.jsxs("button",{type:"button",onClick:oe,style:W,children:[s.jsx(rr,{size:14}),"Add Step"]})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:S.steps.map(B=>s.jsxs("div",{style:{border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.lg,backgroundColor:r.colors.background.tertiary,overflow:"hidden"},children:[s.jsxs("div",{role:"button",tabIndex:0,"aria-expanded":C[B.step_num],"aria-controls":`step-content-${B.step_num}`,onClick:()=>_e(B.step_num),onKeyDown:X=>{(X.key==="Enter"||X.key===" ")&&(X.preventDefault(),_e(B.step_num))},style:{padding:r.spacing.md,display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",backgroundColor:r.colors.background.secondary,outline:"none"},onFocus:X=>{X.currentTarget.style.boxShadow=r.shadows.focus},onBlur:X=>{X.currentTarget.style.boxShadow="none"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx("span",{style:{width:"28px",height:"28px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,display:"flex",alignItems:"center",justifyContent:"center",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold},children:B.step_num}),s.jsxs("span",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,maxWidth:"400px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[B.message_template?.substring(0,60)||"New step...",B.message_template?.length>60?"...":""]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[S.steps.length>1&&s.jsx("button",{type:"button",onClick:X=>{X.stopPropagation(),be(B.step_num)},style:{padding:r.spacing.sm,borderRadius:r.radius.md,border:"none",backgroundColor:"transparent",color:r.colors.accent.danger,cursor:"pointer",display:"flex",alignItems:"center"},"aria-label":`Remove step ${B.step_num}`,children:s.jsx(Kr,{size:16})}),C[B.step_num]?s.jsx(Ec,{size:20,style:{color:r.colors.text.tertiary}}):s.jsx(ei,{size:20,style:{color:r.colors.text.tertiary}})]})]}),C[B.step_num]&&s.jsxs("div",{id:`step-content-${B.step_num}`,style:{padding:r.spacing.lg},children:[s.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[s.jsx("label",{style:fe,children:"Message"}),s.jsx("textarea",{value:B.message_template,onChange:X=>Ae(B.step_num,"message_template",X.target.value),rows:4,style:{...ie,padding:r.spacing.md,resize:"vertical",fontFamily:"inherit"}})]}),s.jsx(X2,{stepNum:B.step_num,type:"success",triggers:B.success_triggers,addTrigger:N,removeTrigger:q}),s.jsx(X2,{stepNum:B.step_num,type:"failure",triggers:B.failure_triggers,addTrigger:N,removeTrigger:q}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:M?"1fr":"1fr 1fr",gap:r.spacing.md,marginBottom:r.spacing.md},children:[s.jsxs("div",{children:[s.jsx("label",{style:{...ge,color:r.colors.text.secondary},children:"Document URL"}),s.jsx("input",{type:"text",value:B.doc_url||"",onChange:X=>Ae(B.step_num,"doc_url",X.target.value),placeholder:"https://...",style:ie})]}),s.jsxs("div",{children:[s.jsx("label",{style:{...ge,color:r.colors.text.secondary},children:"Document Title"}),s.jsx("input",{type:"text",value:B.doc_title||"",onChange:X=>Ae(B.step_num,"doc_title",X.target.value),placeholder:"Reference doc title",style:ie})]})]}),s.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.secondary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,cursor:"pointer",marginBottom:B.handoff_trigger!==void 0&&B.handoff_trigger!==null?r.spacing.md:0},children:[s.jsx("input",{type:"checkbox",checked:B.handoff_trigger!==null&&B.handoff_trigger!==void 0,onChange:X=>{j(K=>({...K,steps:K.steps.map(je=>je.step_num===B.step_num?{...je,handoff_trigger:X.target.checked?"":null,handoff_sequence_key:X.target.checked?"":null}:je)}))},style:{width:"16px",height:"16px",cursor:"pointer",accentColor:r.colors.accent.warning}}),s.jsx(oO,{size:16,style:{color:r.colors.accent.warning}}),s.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary},children:"Configure Handoff"})]}),B.handoff_trigger!==null&&B.handoff_trigger!==void 0&&s.jsxs(s.Fragment,{children:[s.jsx("p",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,margin:`0 0 ${r.spacing.sm} 0`},children:"When the customer responds with the trigger word, the conversation will switch to the target sequence."}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:M?"1fr":"1fr 1fr",gap:r.spacing.md},children:[s.jsxs("div",{children:[s.jsx("label",{style:ge,children:"Trigger Word"}),s.jsx("input",{type:"text",value:B.handoff_trigger||"",onChange:X=>Ae(B.step_num,"handoff_trigger",X.target.value),placeholder:"e.g. yes, ready",style:{...ie,backgroundColor:r.colors.background.tertiary}})]}),s.jsxs("div",{children:[s.jsx("label",{style:ge,children:"Target Sequence"}),s.jsxs("select",{value:B.handoff_sequence_key||"",onChange:X=>Ae(B.step_num,"handoff_sequence_key",X.target.value),style:{...ie,backgroundColor:r.colors.background.tertiary,cursor:"pointer"},children:[s.jsx("option",{value:"",children:"Select a sequence..."}),D.map(X=>s.jsx("option",{value:X.sequence_key,children:X.display_name},X.sequence_key))]})]})]})]})]})]})]},B.step_num))})]}),s.jsxs("div",{style:{borderTop:`1px solid ${r.colors.border.light}`,paddingTop:r.spacing.xl},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.md},children:[s.jsxs("label",{style:Ee,children:[s.jsx(vi,{size:16}),"Tools (",S.tools.length,")"]}),s.jsxs("button",{type:"button",onClick:Te,style:W,children:[s.jsx(rr,{size:14}),"Add Tool"]})]}),S.tools.length===0&&s.jsxs("div",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,textAlign:"center",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px dashed ${r.colors.border.medium}`},children:[s.jsx(vi,{size:20,style:{color:r.colors.text.tertiary,marginBottom:r.spacing.xs}}),s.jsx("p",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm,margin:0},children:'No tools added. Click "Add Tool" to specify tools needed for this sequence.'})]}),S.tools.length>0&&s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:S.tools.map((B,X)=>s.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:M?"1fr":"1fr 1fr",gap:r.spacing.md,marginBottom:r.spacing.md},children:[s.jsxs("div",{children:[s.jsx("label",{style:ge,children:"Tool Name *"}),s.jsx("input",{type:"text",value:B.tool_name,onChange:K=>V(X,"tool_name",K.target.value),placeholder:"e.g. Multimeter",style:ie})]}),s.jsxs("div",{children:[s.jsx("label",{style:ge,children:"Link"}),s.jsx("input",{type:"text",value:B.tool_link,onChange:K=>V(X,"tool_link",K.target.value),placeholder:"https://...",style:ie})]})]}),s.jsxs("div",{style:{marginBottom:r.spacing.md},children:[s.jsx("label",{style:ge,children:"Description"}),s.jsx("input",{type:"text",value:B.tool_description,onChange:K=>V(X,"tool_description",K.target.value),placeholder:"Brief description...",style:ie})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,fontSize:r.fontSize.sm,color:r.colors.text.secondary,cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:B.is_required,onChange:K=>V(X,"is_required",K.target.checked),style:{width:"16px",height:"16px",cursor:"pointer",accentColor:r.colors.accent.primary}}),"Required"]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx("label",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:"Step:"}),s.jsxs("select",{value:B.step_num||"",onChange:K=>V(X,"step_num",K.target.value?parseInt(K.target.value):null),style:{padding:`${r.spacing.xs} ${r.spacing.sm}`,borderRadius:r.radius.sm,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.xs,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,cursor:"pointer"},children:[s.jsx("option",{value:"",children:"All Steps"}),S.steps.map(K=>s.jsxs("option",{value:K.step_num,children:["Step ",K.step_num,": ",(K.message_template||"").substring(0,25),(K.message_template||"").length>25?"...":""]},K.step_num))]})]})]}),s.jsx("button",{type:"button",onClick:()=>te(X),style:{padding:r.spacing.sm,borderRadius:r.radius.md,border:"none",backgroundColor:"transparent",color:r.colors.accent.danger,cursor:"pointer",display:"flex",alignItems:"center"},"aria-label":`Remove tool ${B.tool_name||X+1}`,children:s.jsx(Kr,{size:16})})]})]},B._id))})]}),s.jsxs("div",{style:{borderTop:`1px solid ${r.colors.border.light}`,paddingTop:r.spacing.xl},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.md},children:[s.jsxs("label",{style:Ee,children:[s.jsx(wx,{size:16}),"Parts (",S.parts.length,")"]}),s.jsxs("button",{type:"button",onClick:Pe,style:W,children:[s.jsx(rr,{size:14}),"Add Part"]})]}),S.parts.length===0&&s.jsxs("div",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,textAlign:"center",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px dashed ${r.colors.border.medium}`},children:[s.jsx(wx,{size:20,style:{color:r.colors.text.tertiary,marginBottom:r.spacing.xs}}),s.jsx("p",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm,margin:0},children:'No parts added. Click "Add Part" to specify parts or materials needed.'})]}),S.parts.length>0&&s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:S.parts.map((B,X)=>s.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:M?"1fr":"1fr 1fr",gap:r.spacing.md,marginBottom:r.spacing.md},children:[s.jsxs("div",{children:[s.jsx("label",{style:ge,children:"Part Name *"}),s.jsx("input",{type:"text",value:B.part_name,onChange:K=>Me(X,"part_name",K.target.value),placeholder:"e.g. 30A Fuse",style:ie})]}),s.jsxs("div",{children:[s.jsx("label",{style:ge,children:"Part Number"}),s.jsx("input",{type:"text",value:B.part_number,onChange:K=>Me(X,"part_number",K.target.value),placeholder:"e.g. ABC-123",style:ie})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:M?"1fr":"1fr 1fr",gap:r.spacing.md,marginBottom:r.spacing.md},children:[s.jsxs("div",{children:[s.jsx("label",{style:ge,children:"Buy Link"}),s.jsx("input",{type:"text",value:B.part_link,onChange:K=>Me(X,"part_link",K.target.value),placeholder:"https://...",style:ie})]}),s.jsxs("div",{children:[s.jsx("label",{style:ge,children:"Estimated Price"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx(vK,{size:14,style:{position:"absolute",left:r.spacing.sm,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary}}),s.jsx("input",{type:"number",min:"0",step:"0.01",value:B.estimated_price,onChange:K=>Me(X,"estimated_price",K.target.value),placeholder:"0.00",style:{...ie,paddingLeft:"28px"}})]})]})]}),s.jsxs("div",{style:{marginBottom:r.spacing.md},children:[s.jsx("label",{style:ge,children:"Description"}),s.jsx("input",{type:"text",value:B.part_description,onChange:K=>Me(X,"part_description",K.target.value),placeholder:"Brief description...",style:ie})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,fontSize:r.fontSize.sm,color:r.colors.text.secondary,cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:B.is_required,onChange:K=>Me(X,"is_required",K.target.checked),style:{width:"16px",height:"16px",cursor:"pointer",accentColor:r.colors.accent.primary}}),"Required"]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx("label",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:"Step:"}),s.jsxs("select",{value:B.step_num||"",onChange:K=>Me(X,"step_num",K.target.value?parseInt(K.target.value):null),style:{padding:`${r.spacing.xs} ${r.spacing.sm}`,borderRadius:r.radius.sm,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.xs,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,cursor:"pointer"},children:[s.jsx("option",{value:"",children:"All Steps"}),S.steps.map(K=>s.jsxs("option",{value:K.step_num,children:["Step ",K.step_num,": ",(K.message_template||"").substring(0,25),(K.message_template||"").length>25?"...":""]},K.step_num))]})]})]}),s.jsx("button",{type:"button",onClick:()=>he(X),style:{padding:r.spacing.sm,borderRadius:r.radius.md,border:"none",backgroundColor:"transparent",color:r.colors.accent.danger,cursor:"pointer",display:"flex",alignItems:"center"},"aria-label":`Remove part ${B.part_name||X+1}`,children:s.jsx(Kr,{size:16})})]})]},B._id))})]}),s.jsxs("div",{style:{borderTop:`1px solid ${r.colors.border.light}`,paddingTop:r.spacing.xl},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.md},children:[s.jsxs("label",{style:Ee,children:[s.jsx(Sx,{size:16}),"URLs (",S.urls.length,")"]}),s.jsxs("button",{type:"button",onClick:Q,style:W,children:[s.jsx(rr,{size:14}),"Add URL"]})]}),S.urls.length===0&&s.jsxs("div",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,textAlign:"center",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px dashed ${r.colors.border.medium}`},children:[s.jsx(Sx,{size:20,style:{color:r.colors.text.tertiary,marginBottom:r.spacing.xs}}),s.jsx("p",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm,margin:0},children:'No reference URLs. Click "Add URL" to add documentation or video links.'})]}),S.urls.length>0&&s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:S.urls.map((B,X)=>s.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,display:"grid",gridTemplateColumns:M?"1fr":"1fr minmax(120px, 150px) auto",gap:r.spacing.md,alignItems:M?"stretch":"center"},children:[s.jsxs("div",{style:{minWidth:0},children:[s.jsx("input",{type:"text",value:B.title,onChange:K=>Se(X,"title",K.target.value),placeholder:"Title",style:{...ie,marginBottom:r.spacing.xs}}),s.jsx("input",{type:"text",value:B.url,onChange:K=>Se(X,"url",K.target.value),placeholder:"https://...",style:{...ie,marginBottom:r.spacing.xs}}),B.url&&!vy(B.url)&&s.jsx("span",{style:{color:r.colors.accent.warning,fontSize:r.fontSize.xs},children:"URL must start with http:// or https://"})]}),s.jsx("select",{value:B.category,onChange:K=>Se(X,"category",K.target.value),style:{...ie,cursor:"pointer",width:M?"100%":"auto"},children:XV.map(K=>s.jsx("option",{value:K.value,children:K.label},K.value))}),s.jsx("button",{type:"button",onClick:()=>Ce(X),style:{padding:r.spacing.sm,borderRadius:r.radius.md,alignSelf:M?"flex-end":"center",border:"none",backgroundColor:"transparent",color:r.colors.accent.danger,cursor:"pointer",display:"flex",alignItems:"center"},"aria-label":"Remove URL",children:s.jsx(Kr,{size:16})})]},B._id))})]})]})}),!d&&(!m||S.sequence_name)&&s.jsxs("div",{style:{padding:r.spacing.xl,borderTop:`1px solid ${r.colors.border.light}`,display:"flex",flexDirection:M?"column":"row",alignItems:M?"stretch":"center",justifyContent:"space-between",gap:M?r.spacing.lg:0,backgroundColor:r.colors.background.secondary},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:k,onChange:B=>z(B.target.checked),style:{width:"18px",height:"18px",cursor:"pointer",accentColor:r.colors.accent.primary}}),s.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:"Create as Active"})]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{type:"button",onClick:h?void 0:n,disabled:h,style:{padding:`${r.spacing.sm} ${r.spacing.xl}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.secondary,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,flex:M?1:void 0},children:"Cancel"}),s.jsx("button",{type:"button",onClick:ue,disabled:h||!S.sequence_name||S.steps.length===0,style:{padding:`${r.spacing.sm} ${r.spacing.xl}`,borderRadius:r.radius.md,border:"none",backgroundColor:r.colors.chart.purple,color:r.colors.text.inverse,cursor:h||!S.sequence_name||S.steps.length===0?"not-allowed":"pointer",opacity:h||!S.sequence_name||S.steps.length===0?.5:1,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,display:"flex",alignItems:"center",justifyContent:"center",gap:r.spacing.sm,flex:M?1:void 0},children:h?s.jsxs(s.Fragment,{children:[s.jsx(Dn,{size:16,style:{animation:"skeleton-spin 1s linear infinite"}}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Cx,{size:16}),"Create Sequence"]})})]})]})]})})},fi="",tn=(e,t=!1)=>{const n={display:"inline-flex",alignItems:"center",justifyContent:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:t?"not-allowed":"pointer",opacity:t?.5:1,transition:`all ${r.transitions.fast}`,border:"none",whiteSpace:"nowrap"},i={primary:{backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse},success:{backgroundColor:r.colors.accent.success,color:r.colors.text.inverse},warning:{backgroundColor:r.colors.accent.warning,color:r.colors.text.inverse},danger:{backgroundColor:r.colors.accent.danger,color:r.colors.text.inverse},secondary:{backgroundColor:r.colors.background.tertiary,color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`},ghost:{backgroundColor:"transparent",color:r.colors.text.secondary},purple:{backgroundColor:r.colors.chart.purple,color:r.colors.text.inverse}};return{...n,...i[e]}},$d=({icon:e,title:t,badge:n,action:i})=>s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.lg},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[e&&s.jsx(e,{size:18,style:{color:r.colors.text.tertiary}}),s.jsx("h3",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:t}),n!==void 0&&s.jsx(tt,{variant:"primary",size:"sm",soft:!0,children:n})]}),i]}),Pd=({icon:e,label:t,value:n,href:i,isEmail:l})=>{const c=i?s.jsx("a",{href:i,style:{color:r.colors.accent.primary,fontSize:r.fontSize.sm,textDecoration:"none",wordBreak:l?"break-all":"normal",transition:`color ${r.transitions.fast}`},onMouseEnter:d=>d.currentTarget.style.textDecoration="underline",onMouseLeave:d=>d.currentTarget.style.textDecoration="none",children:n}):s.jsx("span",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:n});return s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} 0`},children:[s.jsx(e,{size:18,style:{color:r.colors.text.tertiary,flexShrink:0}}),t&&s.jsxs("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,minWidth:"60px"},children:[t,":"]}),c]})},ZV=1e4,JV=`
@keyframes resolutionShine {
  0% {
    background-position: -200% center;
    box-shadow: 0 0 0 0 rgba(5, 150, 105, 0);
  }
  15% {
    box-shadow: 0 0 12px 2px rgba(5, 150, 105, 0.4);
  }
  30% {
    background-position: 200% center;
    box-shadow: 0 0 8px 1px rgba(5, 150, 105, 0.3);
  }
  50% {
    box-shadow: 0 0 0 0 rgba(5, 150, 105, 0);
  }
  65% {
    box-shadow: 0 0 10px 2px rgba(5, 150, 105, 0.35);
  }
  80% {
    box-shadow: 0 0 6px 1px rgba(5, 150, 105, 0.2);
  }
  100% {
    background-position: -200% center;
    box-shadow: 0 0 0 0 rgba(5, 150, 105, 0);
  }
}
`;if(typeof document<"u"){const e="resolution-shine-keyframes";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.textContent=JV,document.head.appendChild(t)}}const eG=()=>{const{uuid:e}=Bf(),t=ii(),{showToast:n}=tu(),{user:i,logout:l,hasRole:c,isSiteAdmin:d}=xn(),p=y.useRef(null),m=y.useRef(null),g=y.useRef(null),h=y.useRef(null),x=y.useRef(null),S=y.useRef(null),j=y.useRef(null),C=y.useRef(null),w=y.useRef(0),k=y.useRef(!0),[z,E]=y.useState(null),[A,D]=y.useState(!0),[T,R]=y.useState(!1),[M,F]=y.useState(!1),[U,le]=y.useState(""),[Z,ie]=y.useState(!1),[ge,fe]=y.useState(!1),[Ee,W]=y.useState(!1),[J,ue]=y.useState(!1),[_e,Ae]=y.useState(0),[N,q]=y.useState(!1),[oe,be]=y.useState([]),[Se,Ce]=y.useState({type:null,url:null}),[Q,me]=y.useState(!1),[ne,Te]=y.useState([]),[V,te]=y.useState(!1),[Pe,Me]=y.useState(!1),[he,B]=y.useState(!1),[X,K]=y.useState(""),[je,L]=y.useState(!1),[xe,Be]=y.useState(!1),[nt,Je]=y.useState(!1),[P,ke]=y.useState(!1),[Ke,Re]=y.useState(window.innerWidth<768),Ze=y.useCallback(async(I=!1)=>{try{I||D(!0);const De=await fetch(`${fi}/api/tickets/${e}`,{credentials:"include"});if(De.status===404){n("Ticket not found","error"),t("/tickets");return}if(!De.ok)throw new Error("Failed to fetch ticket");const Mt=await De.json();E(Mt);const _t=Mt.comments?.length||0;I&&w.current>0&&_t>w.current&&ue(!0),w.current=_t,Ae(_t)}catch(De){console.error("Error fetching ticket:",De),n("Failed to load ticket","error")}finally{D(!1)}},[e,t,n]),We=y.useCallback(async()=>{try{const I=await fetch(`${fi}/api/tickets/${e}/attachments`,{credentials:"include"});if(I.ok){const De=await I.json();be(De||[])}}catch(I){console.error("Error fetching attachments:",I)}},[e]),yt=y.useMemo(()=>{const I=new Map;return oe.forEach(De=>{I.has(De.comment_id)||I.set(De.comment_id,[]),I.get(De.comment_id).push(De)}),I},[oe]),_r=y.useCallback(async()=>{te(!0);try{const I=await fetch(`${fi}/api/tickets/${e}/similar?limit=5`,{credentials:"include"});if(!I.ok){if(I.status===403){n("You do not have permission to view similar tickets","error");return}if(I.status===404){n("Ticket not found","error");return}throw new Error(`Failed to fetch similar tickets: ${I.status}`)}const De=await I.json();Te(De),me(!0)}catch(I){console.error("Error fetching similar tickets:",I),n("Failed to load similar tickets","error")}finally{te(!1)}},[e,n]),Zt=y.useCallback(I=>{le(I),ie(!0),me(!1),Me(!0),setTimeout(()=>{k.current&&Me(!1)},3e3),setTimeout(()=>{k.current&&m.current?.scrollIntoView({behavior:"smooth",block:"center"})},100),n("Resolution copied - review and submit when ready","success")},[n]);y.useEffect(()=>(k.current=!0,()=>{k.current=!1}),[]),y.useEffect(()=>{Ze(),We()},[Ze,We]),y.useEffect(()=>{if(N)return;const I=setInterval(()=>{Ze(!0)},ZV);return()=>clearInterval(I)},[Ze,N]),y.useEffect(()=>{z?.id&&fetch(`${fi}/api/tickets/${z.id}/mark-read`,{method:"POST",credentials:"include"}).catch(I=>console.error("Error marking comments read:",I))},[z?.id]),y.useEffect(()=>{const I=De=>{De.key==="Escape"&&(he&&!xe&&(B(!1),x.current?.focus()),Q&&(me(!1),g.current?.focus()),Se.type&&(Ce({type:null,url:null}),j.current?.focus()))};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[he,Q,Se.type,xe]),y.useEffect(()=>{if(!Q)return;h.current?.focus();const I=De=>{if(De.key!=="Tab")return;const Mt=document.getElementById("similar-tickets-modal");if(!Mt)return;const _t=Mt.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),lt=_t[0],ot=_t[_t.length-1];De.shiftKey&&document.activeElement===lt?(De.preventDefault(),ot?.focus()):!De.shiftKey&&document.activeElement===ot&&(De.preventDefault(),lt?.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[Q]),y.useEffect(()=>{if(!he)return;S.current?.focus();const I=De=>{if(De.key!=="Tab")return;const Mt=document.getElementById("resolve-modal");if(!Mt)return;const _t=Mt.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),lt=_t[0],ot=_t[_t.length-1];De.shiftKey&&document.activeElement===lt?(De.preventDefault(),ot?.focus()):!De.shiftKey&&document.activeElement===ot&&(De.preventDefault(),lt?.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[he]),y.useEffect(()=>{if(!Se.type)return;C.current?.focus();const I=De=>{if(De.key!=="Tab")return;const Mt=document.getElementById("lightbox-modal");if(!Mt)return;const _t=Mt.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"]), video'),lt=_t[0],ot=_t[_t.length-1];De.shiftKey&&document.activeElement===lt?(De.preventDefault(),ot?.focus()):!De.shiftKey&&document.activeElement===ot&&(De.preventDefault(),lt?.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[Se.type]),y.useEffect(()=>{const I=()=>{Re(window.innerWidth<768)};return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]);const zt=()=>{ue(!1),Ze(),setTimeout(()=>{p.current?.scrollIntoView({behavior:"smooth"})},100)},sr=y.useCallback(async I=>{if(I!==z?.priority){W(!0);try{if(!(await fetch(`${fi}/api/tickets/${e}/priority`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({priority:I})})).ok)throw new Error("Failed to update priority");n("Priority updated successfully","success"),await Ze()}catch(De){console.error("Error updating priority:",De),n("Failed to update priority","error")}finally{W(!1)}}},[z?.priority,e,n,Ze]),ye=y.useCallback(async I=>{if(I===z?.status){n("Status unchanged","info");return}R(!0);try{if(!(await fetch(`${fi}/api/tickets/${e}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:I})})).ok)throw new Error("Failed to update status");n("Status updated successfully","success"),await Ze()}catch(De){console.error("Error updating status:",De),n("Failed to update status","error")}finally{R(!1)}},[z?.status,e,n,Ze]),Ve=y.useCallback(async I=>{if(I.preventDefault(),!U.trim()||U.trim().length<10){n("Comment must be at least 10 characters","error");return}fe(!0);try{if(!(await fetch(`${fi}/api/tickets/${e}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({comment_text:U,is_resolution:Z})})).ok)throw new Error("Failed to add comment");if(Z&&z?.status!=="resolved")try{(await fetch(`${fi}/api/tickets/${e}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"resolved",reason:"Resolution comment added"})})).ok?n("Resolution added and ticket resolved","success"):(console.error("Failed to update ticket status to resolved"),n("Resolution added but failed to update ticket status","warning"))}catch(Mt){console.error("Error updating ticket status:",Mt),n("Resolution added but failed to update ticket status","warning")}else n("Comment added successfully","success");le(""),ie(!1),q(!1),await Ze(),setTimeout(()=>{p.current?.scrollIntoView({behavior:"smooth"})},100)}catch(De){console.error("Error adding comment:",De),n("Failed to add comment","error")}finally{fe(!1)}},[U,Z,z?.status,e,n,Ze]),qt=y.useCallback(async()=>{R(!0);try{const I=await fetch(`${fi}/api/tickets/${e}/assign-to-me`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!I.ok){let De;switch(I.status){case 403:De="You do not have permission to assign this ticket";break;case 404:De="Ticket not found. It may have been deleted.";break;case 409:De="This ticket has already been assigned to someone else";break;default:De="Failed to assign ticket. Please try again."}throw new Error(De)}n("Ticket assigned to you","success"),await Ze()}catch(I){console.error("Error assigning ticket:",I),n(I.message||"Failed to assign ticket","error")}finally{R(!1)}},[e,n,Ze]),vr=y.useCallback(()=>{z?.resolution||z?.comments?.some(De=>De.is_resolution)?ye("resolved"):(K(""),L(!1),Je(!1),B(!0))},[z?.resolution,z?.comments,ye]),ur=y.useCallback(async()=>{Be(!0);try{if(X.trim()&&!je&&!nt){if(!(await fetch(`${fi}/api/tickets/${e}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({comment_text:X,is_resolution:!0})})).ok)throw new Error("Failed to add resolution comment");Je(!0)}if(!(await fetch(`${fi}/api/tickets/${e}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"resolved"})})).ok)throw new Error("Failed to update status");n("Ticket resolved successfully","success"),B(!1),K(""),L(!1),Je(!1),await Ze()}catch(I){console.error("Error resolving ticket:",I),nt&&I.message==="Failed to update status"?n("Resolution comment saved. Failed to update status - please try again.","error"):n(I.message||"Failed to resolve ticket","error")}finally{Be(!1)}},[X,je,nt,e,n,Ze]),pt=I=>({open:{variant:"info",icon:Mn,label:"Open"},assigned:{variant:"secondary",icon:mc,label:"Assigned"},in_progress:{variant:"warning",icon:vi,label:"In Progress"},waiting_customer:{variant:"warning",icon:Oi,label:"Waiting on Customer"},resolved:{variant:"success",icon:Kt,label:"Resolved"},closed:{variant:"default",icon:Nt,label:"Closed"},cancelled:{variant:"danger",icon:Oc,label:"Cancelled"}})[I]||{variant:"default",icon:Mn,label:I},Tr=I=>({urgent:{variant:"danger",icon:xi,label:"Urgent"},high:{variant:"warning",icon:Vs,label:"High"},normal:{variant:"info",icon:Ya,label:"Normal"},low:{variant:"default",icon:Ys,label:"Low"}})[I]||{variant:"default",icon:Ya,label:I},re=I=>I?{high:{variant:"danger",label:"High Urgency",pulse:!0},medium:{variant:"warning",label:"Medium Urgency",pulse:!1},low:{variant:"success",label:"Low Urgency",pulse:!1}}[I]||{variant:"default",label:I,pulse:!1}:null,Oe=I=>{if(!I)return"N/A";const De=new Date(I),_t=new Date-De,lt=Math.floor(_t/6e4),ot=Math.floor(_t/36e5),gt=Math.floor(_t/864e5);return lt<1?"Just now":lt<60?`${lt} min${lt>1?"s":""} ago`:ot<24?`${ot} hour${ot>1?"s":""} ago`:gt<7?`${gt} day${gt>1?"s":""} ago`:De.toLocaleDateString()+" "+De.toLocaleTimeString()},He=I=>I?new Date(I).toLocaleString():"N/A",Vt=I=>({customer:"C",tech:"T",system:"S"})[I]||"?",gr={wrapper:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.page},main:{marginLeft:Ke?0:"260px",flex:1,padding:Ke?r.spacing.lg:r.spacing["2xl"],maxWidth:"1400px"}};if(A)return s.jsxs("div",{style:gr.wrapper,children:[s.jsx(zr,{user:i,onLogout:l,hasRole:c,isSiteAdmin:d}),s.jsx("div",{style:gr.main,children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xl},children:[s.jsx("div",{style:{height:"180px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.xl,animation:"pulse 2s ease-in-out infinite"}}),s.jsx("div",{style:{height:"120px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.xl,animation:"pulse 2s ease-in-out infinite",animationDelay:"0.1s"}}),s.jsx("div",{style:{height:"400px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.xl,animation:"pulse 2s ease-in-out infinite",animationDelay:"0.2s"}})]})})]});if(!z)return s.jsxs("div",{style:gr.wrapper,children:[s.jsx(zr,{user:i,onLogout:l,hasRole:c,isSiteAdmin:d}),s.jsx("div",{style:{...gr.main,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsxs("div",{style:{textAlign:"center",maxWidth:"400px"},children:[s.jsx("div",{style:{width:"80px",height:"80px",borderRadius:r.radius.full,backgroundColor:r.colors.background.tertiary,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",marginBottom:r.spacing.xl},children:s.jsx(mn,{size:40,style:{color:r.colors.text.tertiary}})}),s.jsx("h2",{style:{fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,marginBottom:r.spacing.sm},children:"Ticket Not Found"}),s.jsx("p",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.base,marginBottom:r.spacing.xl,lineHeight:r.lineHeight.relaxed},children:"The ticket you are looking for does not exist or you do not have permission to view it."}),s.jsxs("button",{onClick:()=>t("/tickets"),style:tn("primary"),onMouseEnter:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primaryHover,onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[s.jsx($f,{size:16}),"Back to Tickets"]})]})})]});const vn=pt(z.status),an=Tr(z.priority),wi=re(z.urgency),Co=vn.icon,ko=an.icon,ai={page:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.page},main:{marginLeft:Ke?0:"260px",flex:1,padding:Ke?r.spacing.lg:r.spacing["2xl"],display:"flex",flexDirection:"column",gap:Ke?r.spacing.lg:r.spacing.xl,maxWidth:"1400px"},newCommentsBanner:{padding:Ke?r.spacing.md:r.spacing.lg,backgroundColor:r.colors.accent.primaryLight,border:`1px solid ${r.colors.accent.primary}20`,borderRadius:r.radius.lg,display:"flex",alignItems:Ke?"flex-start":"center",justifyContent:"space-between",flexDirection:Ke?"column":"row",gap:r.spacing.md}};return s.jsxs("div",{style:ai.page,children:[s.jsx(zr,{user:i,onLogout:l,hasRole:c,isSiteAdmin:d}),s.jsxs("div",{style:ai.main,children:[J&&s.jsxs("div",{style:ai.newCommentsBanner,children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(Oi,{size:20,style:{color:r.colors.accent.primary}}),s.jsx("span",{style:{color:r.colors.accent.primary,fontWeight:r.fontWeight.medium,fontSize:r.fontSize.sm},children:"New comments available"})]}),s.jsx("button",{onClick:zt,style:tn("primary"),onMouseEnter:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primaryHover,onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primary,children:"View New Comments"})]}),s.jsx(rt,{children:s.jsxs("div",{style:{padding:r.spacing.xl},children:[s.jsxs("button",{onClick:()=>t("/tickets"),style:{...tn("ghost"),padding:`${r.spacing.xs} 0`,marginBottom:r.spacing.lg,gap:r.spacing.xs},onMouseEnter:I=>I.currentTarget.style.color=r.colors.text.primary,onMouseLeave:I=>I.currentTarget.style.color=r.colors.text.secondary,children:[s.jsx($f,{size:16}),"Back to Tickets"]}),s.jsxs("div",{style:{marginBottom:r.spacing.xl},children:[s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexWrap:"wrap",gap:r.spacing.md,marginBottom:r.spacing.sm},children:[s.jsxs("h1",{style:{color:r.colors.text.primary,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,margin:0,lineHeight:r.lineHeight.tight},children:["Ticket #",z.ticket_number]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,flexWrap:"wrap"},children:[s.jsx(tt,{variant:vn.variant,size:"md",icon:s.jsx(Co,{}),children:vn.label}),wi&&s.jsx(tt,{variant:wi.variant,size:"md",style:{animation:wi.pulse?"pulse 2s infinite":"none"},children:wi.label})]})]}),s.jsx("h2",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium,margin:0,marginBottom:r.spacing.md,lineHeight:r.lineHeight.normal},children:z.subject}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg,flexWrap:"wrap"},children:[z.van_info&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[s.jsx(ia,{size:14}),s.jsx("span",{children:z.van_info})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[s.jsx(Mn,{size:14}),s.jsxs("span",{children:["Created ",He(z.created_at)]})]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:r.spacing.md,paddingTop:r.spacing.lg,borderTop:`1px solid ${r.colors.border.light}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"Priority:"}),s.jsxs("div",{style:{position:"relative",display:"inline-flex",alignItems:"center"},children:[s.jsxs("select",{"aria-label":"Priority",value:z.priority,onChange:I=>sr(I.target.value),disabled:Ee,style:{padding:`${r.spacing.xs} ${r.spacing["2xl"]} ${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:Ee?"not-allowed":"pointer",opacity:Ee?.5:1,outline:"none",appearance:"none",transition:`all ${r.transitions.fast}`},onFocus:I=>I.currentTarget.style.borderColor=r.colors.border.focus,onBlur:I=>I.currentTarget.style.borderColor=r.colors.border.medium,children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"normal",children:"Normal"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"urgent",children:"Urgent"})]}),s.jsx("div",{style:{position:"absolute",right:r.spacing.sm,pointerEvents:"none",display:"flex",alignItems:"center"},children:s.jsx(ko,{size:14,style:{color:an.variant==="danger"?r.colors.accent.danger:an.variant==="warning"?r.colors.accent.warning:an.variant==="info"?r.colors.accent.info:r.colors.text.tertiary}})})]})]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,flexWrap:"wrap"},children:[(!z.assigned_to_name||z.assigned_to_name!==i?.email)&&s.jsxs("button",{onClick:qt,disabled:T,style:tn("primary",T),onMouseEnter:I=>!T&&(I.currentTarget.style.backgroundColor=r.colors.accent.primaryHover),onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[s.jsx(mc,{size:16}),T?"Assigning...":z.assigned_to_name?"Reassign to Me":"Assign to Me"]}),z.status!=="in_progress"&&z.status!=="resolved"&&z.status!=="closed"&&s.jsxs("button",{onClick:()=>ye("in_progress"),disabled:T,style:tn("warning",T),onMouseEnter:I=>!T&&(I.currentTarget.style.opacity="0.9"),onMouseLeave:I=>I.currentTarget.style.opacity=T?"0.5":"1",children:[s.jsx(vi,{size:16}),"Start Work"]}),z.status==="in_progress"&&s.jsxs("button",{onClick:()=>ye("waiting_customer"),disabled:T,style:{...tn("secondary",T),backgroundColor:r.colors.accent.warningLight,color:r.colors.accent.warning,border:`1px solid ${r.colors.accent.warning}40`},onMouseEnter:I=>!T&&(I.currentTarget.style.backgroundColor=r.colors.accent.warning)&&(I.currentTarget.style.color=r.colors.text.inverse),onMouseLeave:I=>{I.currentTarget.style.backgroundColor=r.colors.accent.warningLight,I.currentTarget.style.color=r.colors.accent.warning},children:[s.jsx(Oi,{size:16}),"Waiting on Customer"]}),z.status!=="resolved"&&z.status!=="closed"&&s.jsxs("button",{ref:x,onClick:vr,disabled:T,style:tn("success",T),onMouseEnter:I=>!T&&(I.currentTarget.style.backgroundColor=r.colors.accent.successHover),onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.accent.success,children:[s.jsx(Kt,{size:16,"aria-hidden":"true"}),"Resolve Ticket"]}),z.status==="resolved"&&s.jsxs("button",{onClick:()=>ye("closed"),disabled:T,style:{...tn("secondary",T)},onMouseEnter:I=>!T&&(I.currentTarget.style.backgroundColor=r.colors.background.hover),onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.background.tertiary,children:[s.jsx(Nt,{size:16}),"Close Ticket"]}),s.jsxs("button",{ref:g,onClick:_r,disabled:V,style:tn("purple",V),onMouseEnter:I=>!V&&(I.currentTarget.style.opacity="0.9"),onMouseLeave:I=>I.currentTarget.style.opacity=V?"0.5":"1",children:[s.jsx(py,{size:16,"aria-hidden":"true"}),s.jsx("span",{"aria-live":"polite",children:V?"Searching...":"Suggest Solutions"})]}),["resolved","closed"].includes(z.status)&&s.jsxs("button",{onClick:()=>ke(!0),style:{...tn("purple",!1),backgroundColor:r.colors.chart.purple},onMouseEnter:I=>I.currentTarget.style.opacity="0.9",onMouseLeave:I=>I.currentTarget.style.opacity="1",title:"Convert this resolved ticket into a reusable troubleshooting sequence",children:[s.jsx(Cx,{size:16,"aria-hidden":"true"}),"Convert to Sequence"]})]})]})]})}),s.jsx(rt,{children:s.jsxs("div",{style:{padding:r.spacing.xl},children:[s.jsx($d,{icon:Va,title:"Ticket Details"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:r.spacing.xl},children:[s.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg},children:[s.jsx("h4",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.md},children:"Customer"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xs},children:[s.jsx(Pd,{icon:Va,value:z.customer_name||"N/A"}),z.customer_phone&&s.jsx(Pd,{icon:cl,value:z.customer_phone,href:`tel:${z.customer_phone}`}),z.customer_email&&s.jsx(Pd,{icon:Sp,value:z.customer_email,href:`mailto:${z.customer_email}`,isEmail:!0})]})]}),s.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg},children:[s.jsx("h4",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.md},children:"Vehicle"}),z.van_info?s.jsx(Pd,{icon:ia,value:z.van_info}):s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm,fontStyle:"italic"},children:"No vehicle assigned"})]}),s.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg},children:[s.jsx("h4",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.md},children:"Assigned To"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx("div",{style:{width:"32px",height:"32px",borderRadius:r.radius.full,backgroundColor:z.assigned_to_name?r.colors.accent.primaryLight:r.colors.background.hover,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:s.jsx(mc,{size:16,style:{color:z.assigned_to_name?r.colors.accent.primary:r.colors.text.tertiary}})}),s.jsxs("div",{children:[s.jsx("div",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:z.assigned_to_name||"Unassigned"}),z.assigned_at&&s.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs},children:Oe(z.assigned_at)})]})]})]})]})]})}),z.description&&z.description!==z.subject&&s.jsx(rt,{children:s.jsxs("div",{style:{padding:r.spacing.xl},children:[s.jsx($d,{icon:nO,title:"Description"}),s.jsx("div",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,backgroundColor:r.colors.background.tertiary,padding:r.spacing.lg,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.accent.primary}`},children:z.description})]})}),(z.category_name||z.session_id||z.related_ticket_id)&&s.jsx(rt,{children:s.jsxs("div",{style:{padding:r.spacing.xl},children:[s.jsx($d,{icon:Sx,title:"Related"}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.lg,flexWrap:"wrap"},children:[z.category_name&&s.jsx(tt,{variant:"primary",size:"md",soft:!0,children:z.category_name}),z.session_id&&s.jsxs("a",{href:`/sessions/${z.session_id}`,style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,textDecoration:"none",padding:`${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.accent.primaryLight,borderRadius:r.radius.md,transition:`all ${r.transitions.fast}`},onMouseEnter:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primaryMuted,onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primaryLight,children:[s.jsx(Ri,{size:14}),"View Session"]}),z.related_ticket_id&&s.jsxs("a",{href:`/tickets/${z.related_ticket_id}`,style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,textDecoration:"none",padding:`${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.accent.primaryLight,borderRadius:r.radius.md,transition:`all ${r.transitions.fast}`},onMouseEnter:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primaryMuted,onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primaryLight,children:[s.jsx(Ri,{size:14}),"Related Ticket #",z.related_ticket_number]})]})]})}),(z.status==="resolved"||z.status==="closed")&&z.resolution&&s.jsx(rt,{style:{backgroundColor:r.colors.accent.successLight,border:`1px solid ${r.colors.accent.success}30`},children:s.jsxs("div",{style:{padding:r.spacing.xl},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:r.spacing.lg},children:[s.jsx("div",{style:{width:"36px",height:"36px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.success,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Kt,{size:20,style:{color:r.colors.text.inverse}})}),s.jsxs("div",{children:[s.jsx("h3",{style:{color:r.colors.accent.success,fontSize:r.fontSize.base,fontWeight:r.fontWeight.semibold,margin:0},children:"Resolution"}),z.resolved_by&&s.jsxs("p",{style:{color:r.colors.accent.success,fontSize:r.fontSize.xs,margin:0,opacity:.8},children:["by ",z.resolved_by," ",z.resolved_at&&` - ${Oe(z.resolved_at)}`]})]})]}),s.jsx("div",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,padding:r.spacing.lg,backgroundColor:r.colors.background.secondary,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.accent.success}`},children:z.resolution})]})}),s.jsx(rt,{style:{display:"flex",flexDirection:"column",flexGrow:1},children:s.jsxs("div",{style:{padding:r.spacing.xl},children:[s.jsx($d,{icon:Oi,title:"Activity & Comments",badge:z.comments?.length||0}),s.jsx("div",{style:{maxHeight:"600px",overflowY:"auto",marginBottom:r.spacing.xl,paddingRight:r.spacing.sm},children:z.comments&&z.comments.length>0?s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:[z.comments.map(I=>{const De=I.author_type==="customer",Mt=I.author_type==="tech";return I.author_type,s.jsx("div",{style:{padding:r.spacing.lg,borderRadius:r.radius.lg,backgroundColor:De?r.colors.accent.primaryLight:Mt?r.colors.background.secondary:r.colors.accent.warningLight,border:`1px solid ${De?`${r.colors.accent.primary}20`:Mt?r.colors.border.light:`${r.colors.accent.warning}30`}`,transition:`all ${r.transitions.fast}`},children:s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md},children:[s.jsx("div",{style:{width:"40px",height:"40px",borderRadius:r.radius.full,display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.text.inverse,fontWeight:r.fontWeight.bold,fontSize:r.fontSize.sm,backgroundColor:De?r.colors.accent.info:Mt?r.colors.accent.primary:r.colors.accent.warning,flexShrink:0},children:Vt(I.author_type)}),s.jsxs("div",{style:{flex:1,minWidth:0},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:r.spacing.sm,flexWrap:"wrap"},children:[s.jsx("span",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold},children:I.author_name}),s.jsx(tt,{variant:De?"info":Mt?"primary":"warning",size:"sm",soft:!0,children:De?"Customer":Mt?"Tech":"System"}),I.is_resolution&&s.jsx(tt,{variant:"success",size:"sm",icon:s.jsx(Kt,{}),children:"Resolution"}),s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs},children:Oe(I.created_at)})]}),s.jsx("p",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,margin:0,wordBreak:"break-word"},children:I.comment_text}),(()=>{const _t=yt.get(I.id)||[];return _t.length===0?null:s.jsx("div",{style:{marginTop:r.spacing.md,display:"flex",flexWrap:"wrap",gap:r.spacing.sm},children:_t.map(lt=>{const ot=lt.mime_type?.startsWith("video/"),gt=lt.mime_type?.startsWith("image/");return s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xs},children:[ot?s.jsxs("div",{role:"button",tabIndex:0,"aria-label":`Play video: ${lt.original_filename||"Video attachment"}`,onClick:ft=>{j.current=ft.currentTarget,Ce({type:"video",url:lt.public_url})},onKeyDown:ft=>{(ft.key==="Enter"||ft.key===" ")&&(ft.preventDefault(),j.current=ft.currentTarget,Ce({type:"video",url:lt.public_url}))},style:{position:"relative",cursor:"pointer",borderRadius:r.radius.md,overflow:"hidden",border:`1px solid ${r.colors.border.medium}`,transition:`all ${r.transitions.fast}`},onMouseOver:ft=>{ft.currentTarget.style.transform="scale(1.02)",ft.currentTarget.style.boxShadow=r.shadows.md},onMouseOut:ft=>{ft.currentTarget.style.transform="scale(1)",ft.currentTarget.style.boxShadow="none"},children:[s.jsx("video",{src:lt.public_url,"aria-hidden":"true",style:{maxWidth:"280px",maxHeight:"180px",display:"block"}}),s.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",transition:`background-color ${r.transitions.fast}`},children:s.jsx("div",{style:{width:"48px",height:"48px",borderRadius:r.radius.full,backgroundColor:r.colors.background.secondary,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:r.shadows.md},children:s.jsx(Lf,{size:20,fill:r.colors.accent.primary,color:r.colors.accent.primary})})})]}):gt?s.jsx("img",{src:lt.public_url,alt:lt.original_filename||"Attachment",role:"button",tabIndex:0,onClick:ft=>{j.current=ft.currentTarget,Ce({type:"image",url:lt.public_url})},onKeyDown:ft=>{(ft.key==="Enter"||ft.key===" ")&&(ft.preventDefault(),j.current=ft.currentTarget,Ce({type:"image",url:lt.public_url}))},style:{maxWidth:"180px",maxHeight:"140px",objectFit:"cover",borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,cursor:"pointer",transition:`all ${r.transitions.fast}`},onMouseOver:ft=>{ft.target.style.transform="scale(1.02)",ft.target.style.boxShadow=r.shadows.md},onMouseOut:ft=>{ft.target.style.transform="scale(1)",ft.target.style.boxShadow="none"}}):s.jsxs("a",{href:lt.public_url,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.primaryLight,borderRadius:r.radius.md,textDecoration:"none"},children:[s.jsx(Ri,{size:14}),lt.original_filename||"Download attachment"]}),s.jsxs("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(bx,{size:12}),lt.uploaded_by_type==="customer"?"From customer":"From technician"]})]},lt.id)})})})()]})]})},I.id)}),s.jsx("div",{ref:p})]}):s.jsxs("div",{style:{textAlign:"center",padding:r.spacing["3xl"],color:r.colors.text.tertiary},children:[s.jsx("div",{style:{width:"64px",height:"64px",borderRadius:r.radius.full,backgroundColor:r.colors.background.tertiary,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",marginBottom:r.spacing.lg},children:s.jsx(Oi,{size:28,style:{opacity:.4}})}),s.jsx("p",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,margin:0,marginBottom:r.spacing.xs},children:"No activity yet"}),s.jsx("p",{style:{fontSize:r.fontSize.sm,margin:0},children:"Be the first to add a comment"})]})}),s.jsxs("div",{ref:m,style:{paddingTop:r.spacing.xl,borderTop:`1px solid ${r.colors.border.light}`},children:[s.jsx("label",{htmlFor:"comment-textarea",style:{display:"block",fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,fontSize:r.fontSize.sm,marginBottom:r.spacing.md},children:"Add Comment"}),s.jsxs("form",{onSubmit:Ve,style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[s.jsxs("div",{children:[s.jsx("textarea",{id:"comment-textarea",value:U,onChange:I=>le(I.target.value),onFocus:()=>q(!0),placeholder:"Write a comment...",rows:4,maxLength:2e3,required:!0,style:{width:"100%",padding:r.spacing.lg,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.lg,fontSize:r.fontSize.sm,outline:"none",resize:"vertical",fontFamily:"inherit",lineHeight:r.lineHeight.relaxed,transition:`border-color ${r.transitions.fast}`,boxSizing:"border-box"},onFocusCapture:I=>I.currentTarget.style.borderColor=r.colors.border.focus,onBlur:I=>I.currentTarget.style.borderColor=r.colors.border.medium}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:r.spacing.sm},children:[s.jsx("p",{style:{fontSize:r.fontSize.xs,color:U.length<10?r.colors.text.tertiary:r.colors.accent.success,margin:0},children:U.length<10?`${10-U.length} more characters needed`:"Ready to submit"}),s.jsxs("p",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,margin:0},children:[U.length,"/2000"]})]})]}),s.jsxs("div",{onClick:()=>ie(!Z),role:"checkbox","aria-checked":Z,tabIndex:0,onKeyDown:I=>{(I.key===" "||I.key==="Enter")&&(I.preventDefault(),ie(!Z))},style:{display:"flex",alignItems:"center",gap:r.spacing.md,padding:r.spacing.lg,backgroundColor:Z?r.colors.accent.successLight:r.colors.background.secondary,border:`2px solid ${Z?r.colors.accent.success:r.colors.border.light}`,borderRadius:r.radius.lg,cursor:"pointer",transition:`all ${r.transitions.fast}`,animation:Pe?"resolutionShine 1.2s ease-in-out 2":"none",backgroundImage:Pe?"linear-gradient(90deg, transparent 0%, rgba(5, 150, 105, 0.15) 25%, rgba(5, 150, 105, 0.3) 50%, rgba(5, 150, 105, 0.15) 75%, transparent 100%)":"none",backgroundSize:Pe?"200% 100%":"auto",transform:Pe?"scale(1.01)":"scale(1)"},children:[s.jsx("div",{style:{width:"22px",height:"22px",borderRadius:r.radius.sm,border:`2px solid ${Z?r.colors.accent.success:r.colors.border.medium}`,backgroundColor:Z?r.colors.accent.success:"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:`all ${r.transitions.fast}`},children:Z&&s.jsx(Kt,{size:14,style:{color:r.colors.text.inverse}})}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:Z?r.colors.accent.success:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Mark as Resolution"}),s.jsx("div",{style:{fontSize:r.fontSize.xs,color:Z?r.colors.accent.success:r.colors.text.tertiary,lineHeight:r.lineHeight.normal},children:"This comment will be saved as the official resolution for this ticket"})]})]}),s.jsxs("button",{type:"submit",disabled:ge||U.trim().length<10,style:{...tn("primary",ge||U.trim().length<10),alignSelf:"flex-start",padding:`${r.spacing.md} ${r.spacing.xl}`},onMouseEnter:I=>!(ge||U.trim().length<10)&&(I.currentTarget.style.backgroundColor=r.colors.accent.primaryHover),onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[s.jsx(sY,{size:16}),ge?"Adding...":"Add Comment"]})]})]})]})}),z.status_history&&z.status_history.length>0&&s.jsx(rt,{children:s.jsxs("div",{style:{padding:r.spacing.xl},children:[s.jsxs("button",{onClick:()=>F(!M),"aria-expanded":M,style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",textAlign:"left",background:"none",border:"none",cursor:"pointer",padding:0},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(Mn,{size:18,style:{color:r.colors.text.tertiary}}),s.jsx("h3",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:"Status History"}),s.jsx(tt,{variant:"default",size:"sm",children:z.status_history.length})]}),s.jsx("div",{style:{width:"28px",height:"28px",borderRadius:r.radius.md,backgroundColor:r.colors.background.tertiary,display:"flex",alignItems:"center",justifyContent:"center",transition:`transform ${r.transitions.fast}`,transform:M?"rotate(180deg)":"rotate(0deg)"},children:s.jsx(ei,{size:16,style:{color:r.colors.text.tertiary}})})]}),M&&s.jsx("div",{style:{marginTop:r.spacing.xl,display:"flex",flexDirection:"column",gap:r.spacing.sm},children:z.status_history.map((I,De)=>s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md,padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.border.medium}`},children:[s.jsx("div",{style:{width:"32px",height:"32px",borderRadius:r.radius.full,backgroundColor:r.colors.background.secondary,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:s.jsx(Mn,{size:14,style:{color:r.colors.text.tertiary}})}),s.jsxs("div",{style:{flex:1,minWidth:0},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,flexWrap:"wrap",marginBottom:r.spacing.sm},children:[s.jsx(tt,{variant:"default",size:"sm",children:I.from_status}),s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.lg},children:""}),s.jsx(tt,{variant:"primary",size:"sm",soft:!0,children:I.to_status})]}),s.jsxs("p",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,margin:0},children:["by ",I.changed_by_name," - ",Oe(I.changed_at)]}),I.reason&&s.jsxs("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontStyle:"italic",margin:0,marginTop:r.spacing.sm,padding:r.spacing.sm,backgroundColor:r.colors.background.secondary,borderRadius:r.radius.md},children:["",I.reason,""]})]})]},De))})]})})]}),Se.type&&s.jsxs("div",{id:"lightbox-modal",onClick:()=>{Ce({type:null,url:null}),j.current?.focus()},role:"dialog","aria-modal":"true","aria-label":"Media viewer",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.95)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:r.zIndex.modal+10,cursor:"pointer"},children:[s.jsx("button",{ref:C,onClick:()=>{Ce({type:null,url:null}),j.current?.focus()},"aria-label":"Close media viewer",style:{position:"absolute",top:r.spacing.xl,right:r.spacing.xl,backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:r.radius.full,width:"44px",height:"44px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:r.colors.text.inverse,transition:`all ${r.transitions.fast}`},onMouseEnter:I=>I.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)",onMouseLeave:I=>I.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)",children:s.jsx(Nt,{size:20})}),Se.type==="image"?s.jsx("img",{src:Se.url,alt:"Full size",onClick:I=>I.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain",borderRadius:r.radius.lg,boxShadow:r.shadows["2xl"]}}):s.jsx("video",{src:Se.url,controls:!0,autoPlay:!0,onClick:I=>I.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh",borderRadius:r.radius.lg,boxShadow:r.shadows["2xl"]}})]}),Q&&s.jsx("div",{onClick:()=>{me(!1),g.current?.focus()},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:r.zIndex.modal,padding:Ke?0:r.spacing.xl,backdropFilter:"blur(4px)"},children:s.jsxs("div",{id:"similar-tickets-modal",onClick:I=>I.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"similar-tickets-title",style:{backgroundColor:r.colors.background.secondary,borderRadius:Ke?0:r.radius.xl,maxWidth:Ke?"100%":"900px",width:"100%",maxHeight:Ke?"100vh":"85vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:r.shadows["2xl"]},children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:r.colors.background.secondary},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx("div",{style:{width:"44px",height:"44px",borderRadius:r.radius.lg,backgroundColor:`${r.colors.chart.purple}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(py,{size:22,style:{color:r.colors.chart.purple},"aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("h2",{id:"similar-tickets-title",style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Suggested Solutions"}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:"Similar resolved tickets that may help"})]})]}),s.jsx("button",{ref:h,onClick:()=>{me(!1),g.current?.focus()},"aria-label":"Close similar tickets modal",style:{backgroundColor:r.colors.background.tertiary,border:"none",cursor:"pointer",color:r.colors.text.secondary,padding:r.spacing.sm,borderRadius:r.radius.md,display:"flex",alignItems:"center",justifyContent:"center",transition:`all ${r.transitions.fast}`},onMouseEnter:I=>{I.currentTarget.style.backgroundColor=r.colors.background.hover,I.currentTarget.style.color=r.colors.text.primary},onMouseLeave:I=>{I.currentTarget.style.backgroundColor=r.colors.background.tertiary,I.currentTarget.style.color=r.colors.text.secondary},children:s.jsx(Nt,{size:20,"aria-hidden":"true"})})]}),s.jsx("div",{style:{padding:r.spacing.xl,overflowY:"auto",flex:1,backgroundColor:r.colors.background.tertiary},children:ne.length===0?s.jsxs("div",{style:{textAlign:"center",padding:r.spacing["3xl"],color:r.colors.text.tertiary},children:[s.jsx("div",{style:{width:"80px",height:"80px",borderRadius:r.radius.full,backgroundColor:r.colors.background.secondary,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",marginBottom:r.spacing.xl},children:s.jsx(py,{size:36,style:{opacity:.3},"aria-hidden":"true"})}),s.jsx("p",{style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.sm},children:"No similar tickets found"}),s.jsx("p",{style:{fontSize:r.fontSize.sm,margin:0},children:"There are no resolved tickets similar to this one."})]}):s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:ne.map(I=>s.jsxs("div",{style:{padding:r.spacing.xl,backgroundColor:r.colors.background.secondary,borderRadius:r.radius.xl,border:`1px solid ${r.colors.border.light}`,boxShadow:r.shadows.sm},children:[s.jsx("div",{style:{marginBottom:r.spacing.lg},children:s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:r.spacing.md,marginBottom:r.spacing.sm},children:[s.jsxs("div",{style:{flex:1},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:r.spacing.xs},children:[s.jsxs("span",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.bold,color:r.colors.accent.primary},children:["#",I.ticket_number]}),s.jsx(tt,{variant:"success",size:"sm",icon:s.jsx(Kt,{}),children:"Resolved"}),I.category_name&&s.jsx(tt,{variant:"primary",size:"sm",soft:!0,children:I.category_name})]}),s.jsx("h3",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0,lineHeight:r.lineHeight.normal},children:I.subject})]}),s.jsxs("button",{onClick:()=>{me(!1),t(`/tickets/${I.id}`)},"aria-label":`View full details for ticket #${I.ticket_number}`,style:{...tn("secondary"),padding:`${r.spacing.xs} ${r.spacing.md}`,fontSize:r.fontSize.xs},onMouseEnter:De=>{De.currentTarget.style.backgroundColor=r.colors.accent.primary,De.currentTarget.style.color=r.colors.text.inverse,De.currentTarget.style.borderColor=r.colors.accent.primary},onMouseLeave:De=>{De.currentTarget.style.backgroundColor=r.colors.background.tertiary,De.currentTarget.style.color=r.colors.text.secondary,De.currentTarget.style.borderColor=r.colors.border.medium},children:[s.jsx(Ri,{size:12,"aria-hidden":"true"}),"View"]})]})}),I.description&&s.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.border.medium}`},children:[s.jsx("h4",{style:{fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.tertiary,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.sm},children:"Original Issue"}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,margin:0},children:I.description.length>400?I.description.substring(0,400)+"...":I.description})]}),I.resolution?s.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.accent.successLight,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.accent.success}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,marginBottom:r.spacing.sm},children:[s.jsx(Kt,{size:16,style:{color:r.colors.accent.success},"aria-hidden":"true"}),s.jsx("h4",{style:{fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.accent.success,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:"Resolution"})]}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,margin:0,marginBottom:r.spacing.lg},children:I.resolution}),s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:r.spacing.md,borderTop:`1px solid ${r.colors.accent.success}30`},children:[I.resolved_at&&s.jsxs("p",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.success,margin:0},children:["Resolved ",Oe(I.resolved_at)]}),s.jsxs("button",{onClick:()=>{Zt(I.resolution)},"aria-label":`Use resolution from ticket #${I.ticket_number}`,style:tn("success"),onMouseEnter:De=>{De.currentTarget.style.backgroundColor=r.colors.accent.successHover,De.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:De=>{De.currentTarget.style.backgroundColor=r.colors.accent.success,De.currentTarget.style.transform="translateY(0)"},children:[s.jsx(Kt,{size:14,"aria-hidden":"true"}),"Use This Solution"]})]})]}):s.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.border.medium}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,marginBottom:r.spacing.sm},children:[s.jsx(mn,{size:16,style:{color:r.colors.text.tertiary},"aria-hidden":"true"}),s.jsx("h4",{style:{fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.tertiary,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:"Resolution"})]}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,fontStyle:"italic",margin:0},children:"No resolution recorded for this ticket."}),I.resolved_at&&s.jsxs("p",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,margin:0,marginTop:r.spacing.sm},children:["Closed ",Oe(I.resolved_at)]})]})]},I.id))})})]})}),he&&s.jsx("div",{onClick:()=>{xe||(B(!1),x.current?.focus())},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:r.zIndex.modal,padding:r.spacing.xl,backdropFilter:"blur(4px)"},children:s.jsxs("div",{id:"resolve-modal",onClick:I=>I.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"resolve-modal-title",style:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.xl,maxWidth:"520px",width:"100%",overflow:"hidden",boxShadow:r.shadows["2xl"]},children:[s.jsx("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx("div",{style:{width:"44px",height:"44px",borderRadius:r.radius.lg,backgroundColor:r.colors.accent.successLight,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Kt,{size:22,style:{color:r.colors.accent.success},"aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("h2",{id:"resolve-modal-title",style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Resolve Ticket"}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:"Document how you resolved this issue"})]})]})}),s.jsxs("div",{style:{padding:r.spacing.xl},children:[s.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[s.jsx("label",{htmlFor:"resolution-textarea",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.sm},children:"Resolution Details"}),s.jsx("textarea",{id:"resolution-textarea",value:X,onChange:I=>K(I.target.value),placeholder:"Describe the steps you took to resolve this ticket...","aria-describedby":"resolution-char-count",rows:5,maxLength:2e3,disabled:je||xe,style:{width:"100%",padding:r.spacing.lg,backgroundColor:je?r.colors.background.hover:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.lg,fontSize:r.fontSize.sm,outline:"none",resize:"vertical",fontFamily:"inherit",lineHeight:r.lineHeight.relaxed,opacity:je?.5:1,cursor:je?"not-allowed":"text",transition:`border-color ${r.transitions.fast}`,boxSizing:"border-box"},onFocus:I=>!je&&(I.currentTarget.style.borderColor=r.colors.border.focus),onBlur:I=>I.currentTarget.style.borderColor=r.colors.border.medium}),s.jsxs("p",{id:"resolution-char-count",style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.sm,marginBottom:0,textAlign:"right"},children:[X.length,"/2000"]})]}),s.jsxs("div",{role:"checkbox","aria-checked":je,"aria-label":"Skip writing a resolution",tabIndex:xe?-1:0,onClick:()=>!xe&&L(!je),onKeyDown:I=>{(I.key===" "||I.key==="Enter")&&!xe&&(I.preventDefault(),L(!je))},style:{display:"flex",alignItems:"center",gap:r.spacing.md,padding:r.spacing.lg,backgroundColor:je?r.colors.background.tertiary:r.colors.background.secondary,border:`1px solid ${je?r.colors.accent.primary:r.colors.border.light}`,borderRadius:r.radius.lg,cursor:xe?"not-allowed":"pointer",transition:`all ${r.transitions.fast}`},children:[s.jsx("div",{"aria-hidden":"true",style:{width:"20px",height:"20px",borderRadius:r.radius.sm,border:`2px solid ${je?r.colors.accent.primary:r.colors.border.medium}`,backgroundColor:je?r.colors.accent.primary:"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:`all ${r.transitions.fast}`},children:je&&s.jsx(Kt,{size:12,style:{color:r.colors.text.inverse}})}),s.jsx("span",{style:{fontSize:r.fontSize.sm,color:je?r.colors.text.primary:r.colors.text.secondary},children:"Resolve without adding resolution notes"})]})]}),s.jsxs("div",{style:{padding:r.spacing.xl,borderTop:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"flex-end",gap:r.spacing.md,backgroundColor:r.colors.background.tertiary},children:[s.jsx("button",{ref:S,onClick:()=>{B(!1),x.current?.focus()},disabled:xe,style:tn("secondary",xe),onMouseEnter:I=>!xe&&(I.currentTarget.style.backgroundColor=r.colors.background.hover),onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.background.tertiary,children:"Cancel"}),s.jsxs("button",{onClick:ur,disabled:xe||!je&&X.trim().length===0,style:tn("success",xe||!je&&X.trim().length===0),onMouseEnter:I=>!(xe||!je&&X.trim().length===0)&&(I.currentTarget.style.backgroundColor=r.colors.accent.successHover),onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.accent.success,children:[s.jsx(Kt,{size:16}),xe?"Resolving...":"Resolve Ticket"]})]})]})}),P&&s.jsx(QV,{ticketId:e,ticketNumber:z.ticket_number,onClose:()=>ke(!1),onSuccess:I=>{ke(!1),n("Sequence created successfully!","success"),t(`/sequences/${I}`)}})]})},Rs="",tG=1e4,rG=()=>{const{uuid:e}=Bf(),t=y.useRef(null),[n,i]=y.useState(null),[l,c]=y.useState(!0),[d,p]=y.useState(null),[m,g]=y.useState(""),[h,x]=y.useState(""),[S,j]=y.useState(!1),[C,w]=y.useState(!1),[k,z]=y.useState(!1),[E,A]=y.useState(!1),[D,T]=y.useState(""),[R,M]=y.useState(""),[F,U]=y.useState(!1),[le,Z]=y.useState(""),[ie,ge]=y.useState([]),[fe,Ee]=y.useState(null),[W,J]=y.useState(null),[ue,_e]=y.useState(null),[Ae,N]=y.useState(0),[q,oe]=y.useState(!1),[be,Se]=y.useState(null),[Ce,Q]=y.useState(""),me=y.useRef(null),ne=y.useCallback(async(ye=!1)=>{try{ye||c(!0);const Ve=await fetch(`${Rs}/api/tickets/public/${e}`);if(Ve.status===404){p("Ticket not found"),c(!1);return}if(!Ve.ok)throw new Error("Failed to fetch ticket");const qt=await Ve.json();i(qt),p(null)}catch(Ve){console.error("Error fetching ticket:",Ve),p("Failed to load ticket")}finally{c(!1)}},[e]),Te=y.useCallback(async()=>{try{const ye=await fetch(`${Rs}/api/tickets/${e}/attachments`);if(ye.ok){const Ve=await ye.json();ge(Ve||[]),console.log(" Attachments fetched:",Ve?.length||0)}}catch(ye){console.error("Error fetching attachments:",ye)}},[e]),V=y.useCallback(ye=>ie.filter(Ve=>Ve.comment_id===ye),[ie]);y.useEffect(()=>{ne(),Te()},[ne,Te]),y.useEffect(()=>{const ye=setInterval(()=>{ne(!0)},tG);return()=>clearInterval(ye)},[ne]);const te=ye=>{Z(ye),setTimeout(()=>Z(""),5e3)},Pe=async ye=>{if(ye.preventDefault(),!m.trim()||m.trim().length<10){alert("Comment must be at least 10 characters");return}if(!h.trim()){alert("Please enter your name");return}j(!0);try{if(!(await fetch(`${Rs}/api/tickets/public/${e}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comment_text:m,author_name:h})})).ok)throw new Error("Failed to add comment");te("Comment added successfully!"),g(""),await ne(),setTimeout(()=>{t.current?.scrollIntoView({behavior:"smooth"})},100)}catch(Ve){console.error("Error adding comment:",Ve),alert("Failed to add comment. Please try again.")}finally{j(!1)}},Me=async()=>{z(!0);try{if(!(await fetch(`${Rs}/api/tickets/public/${e}/resolve`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({resolution:"Customer marked as resolved"})})).ok)throw new Error("Failed to resolve ticket");te("Ticket marked as resolved!"),w(!1),await ne()}catch(ye){console.error("Error resolving ticket:",ye),alert("Failed to mark ticket as resolved. Please try again.")}finally{z(!1)}},he=async()=>{if(!D.trim()){alert("Please provide a reason for reopening");return}if(!R.trim()){alert("Please enter your name");return}U(!0);try{const ye=await fetch(`${Rs}/api/tickets/public/${e}/reopen`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:D,reopened_by_name:R})});if(!ye.ok)throw new Error("Failed to reopen ticket");const Ve=await ye.json();te("Ticket reopened successfully! A new ticket has been created."),A(!1),T(""),M(""),Ve.new_ticket_id&&setTimeout(()=>{window.location.href=`/ticket/${Ve.new_ticket_id}`},2e3)}catch(ye){console.error("Error reopening ticket:",ye),alert("Failed to reopen ticket. Please try again.")}finally{U(!1)}},B=["image/jpeg","image/png","image/gif","image/webp"],X=["video/mp4","video/quicktime","video/webm","video/x-m4v"],K=[...B,...X],je=ye=>X.includes(ye?.type),L=ye=>{const Ve=ye.target.files?.[0];if(!Ve)return;if(!K.includes(Ve.type)){Se("Invalid file type. Only JPEG, PNG, GIF, WebP images and MP4, MOV, WebM videos are allowed."),_e(null);return}const qt=je(Ve)?50*1024*1024:10*1024*1024,vr=je(Ve)?"50MB":"10MB";if(Ve.size>qt){Se(`File size exceeds ${vr} limit.`),_e(null);return}_e(Ve),Se(null)},xe=async()=>{if(!ue){Se("Please select a file first");return}if(!Ce.trim()){Se("Please enter your name");return}oe(!0),N(0),Se(null);try{const ye=new FormData;ye.append("file",ue),ye.append("author_name",Ce.trim());const Ve=new XMLHttpRequest;await new Promise((vr,ur)=>{Ve.upload.addEventListener("progress",pt=>{if(pt.lengthComputable){const Tr=Math.round(pt.loaded/pt.total*100);N(Tr)}}),Ve.addEventListener("load",()=>{if(Ve.status>=200&&Ve.status<300)vr(JSON.parse(Ve.responseText));else try{const pt=JSON.parse(Ve.responseText);ur(new Error(pt.error||"Upload failed"))}catch{ur(new Error("Upload failed"))}}),Ve.addEventListener("error",()=>{ur(new Error("Network error during upload"))}),Ve.open("POST",`${Rs}/api/tickets/public/${e}/attachments`),Ve.send(ye)}),te("Photo uploaded successfully!"),_e(null),N(0),me.current&&(me.current.value=""),await Promise.all([ne(),Te()]),setTimeout(()=>{t.current?.scrollIntoView({behavior:"smooth"})},100)}catch(ye){console.error("Error uploading file:",ye),Se(ye.message||"Failed to upload file. Please try again.")}finally{oe(!1)}},Be=()=>{_e(null),Se(null),N(0),me.current&&(me.current.value="")},nt=ye=>({open:{color:"blue",icon:Mn,label:"Open"},assigned:{color:"purple",icon:mc,label:"Assigned"},in_progress:{color:"yellow",icon:vi,label:"In Progress"},waiting_customer:{color:"orange",icon:Oi,label:"Waiting for You"},resolved:{color:"green",icon:Kt,label:"Resolved"},closed:{color:"gray",icon:Nt,label:"Closed"},cancelled:{color:"red",icon:Oc,label:"Cancelled"}})[ye]||{color:"gray",icon:Mn,label:ye},Je=ye=>({urgent:{color:"red",icon:xi,label:"Urgent"},high:{color:"orange",icon:Vs,label:"High"},normal:{color:"blue",icon:Ya,label:"Normal"},low:{color:"gray",icon:Ys,label:"Low"}})[ye]||{color:"gray",icon:Ya,label:ye},P=ye=>ye?{high:{color:"red",label:"High"},medium:{color:"yellow",label:"Medium"},low:{color:"green",label:"Low"}}[ye]||{color:"gray",label:ye}:null,ke=ye=>{if(!ye)return"N/A";const Ve=new Date(ye),vr=new Date-Ve,ur=Math.floor(vr/6e4),pt=Math.floor(vr/36e5),Tr=Math.floor(vr/864e5);return ur<1?"Just now":ur<60?`${ur} min${ur>1?"s":""} ago`:pt<24?`${pt} hour${pt>1?"s":""} ago`:Tr<7?`${Tr} day${Tr>1?"s":""} ago`:Ve.toLocaleDateString()+" "+Ve.toLocaleTimeString()},Ke=ye=>({customer:"bg-blue-50",tech:"bg-gray-50",system:"bg-yellow-50"})[ye]||"bg-gray-50",Re=ye=>({customer:"C",tech:"T",system:"S"})[ye]||"?";if(l)return s.jsx("div",{style:{minHeight:"100vh",backgroundColor:r.colors.background.primary,padding:"2rem"},children:s.jsx("div",{style:{maxWidth:"900px",margin:"0 auto"},children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{style:{height:"100px",backgroundColor:"#e5e7eb",borderRadius:"8px"}}),s.jsx("div",{style:{height:"300px",backgroundColor:"#e5e7eb",borderRadius:"8px"}}),s.jsx("div",{style:{height:"400px",backgroundColor:"#e5e7eb",borderRadius:"8px"}})]})})});if(d||!n)return s.jsx("div",{style:{minHeight:"100vh",backgroundColor:r.colors.background.primary,display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:s.jsxs("div",{style:{textAlign:"center",maxWidth:"500px"},children:[s.jsx(uo,{style:{width:"64px",height:"64px",color:"#d1d5db",margin:"0 auto 16px"}}),s.jsx("h1",{style:{color:"#111827",fontSize:"1.875rem",fontWeight:"bold",marginBottom:"12px"},children:"Ticket Not Found"}),s.jsx("p",{style:{color:"#6b7280",fontSize:"1rem",marginBottom:"24px"},children:d||"The ticket you're looking for doesn't exist or the link is invalid."}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"Please check the link and try again, or contact support if you need assistance."})]})});const Ze=nt(n.status),We=Je(n.priority),yt=P(n.urgency),_r=Ze.icon,Zt=We.icon,zt=["open","assigned","in_progress","waiting_customer"].includes(n.status),sr=n.status==="closed";return s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:r.colors.background.primary,padding:"1rem"},children:[s.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto"},children:[le&&s.jsxs("div",{style:{padding:"16px",backgroundColor:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx(Kt,{style:{width:"20px",height:"20px",color:"#059669"}}),s.jsx("span",{style:{color:"#065f46",fontSize:"0.875rem",fontWeight:"500"},children:le})]}),s.jsx("div",{style:{marginBottom:"32px",textAlign:"center"},children:s.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"12px",padding:"16px 24px",backgroundColor:"#1e3a5f",borderRadius:"12px",marginBottom:"24px"},children:[s.jsx(uo,{style:{width:"32px",height:"32px",color:"white"}}),s.jsx("h1",{style:{color:"white",fontSize:"1.5rem",fontWeight:"bold",margin:0},children:"MAX Support"})]})}),s.jsx(rt,{className:"mb-6",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[s.jsxs("h2",{style:{color:"#111827",fontSize:"2rem",fontWeight:"bold",marginBottom:"12px"},children:["Ticket #",n.ticket_number]}),s.jsxs(tt,{color:Ze.color,style:{fontSize:"1rem",padding:"8px 16px"},children:[s.jsx(_r,{className:"w-5 h-5 mr-2"}),Ze.label]})]}),s.jsx("h3",{style:{color:"#374151",fontSize:"1.25rem",fontWeight:"600",textAlign:"center",marginTop:"16px"},children:n.subject})]})}),s.jsx(rt,{className:"mb-6",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",marginBottom:"20px"},children:"Ticket Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx(Va,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),s.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Customer:"}),s.jsx("span",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"500"},children:n.customer_name||"N/A"})]}),n.customer_phone&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx(cl,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),s.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Phone:"}),s.jsx("a",{href:`tel:${n.customer_phone}`,style:{color:"#1e3a5f",fontSize:"0.875rem",textDecoration:"none"},onMouseEnter:ye=>ye.currentTarget.style.textDecoration="underline",onMouseLeave:ye=>ye.currentTarget.style.textDecoration="none",children:n.customer_phone})]}),n.customer_email&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx(Sp,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),s.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Email:"}),s.jsx("a",{href:`mailto:${n.customer_email}`,style:{color:"#1e3a5f",fontSize:"0.875rem",textDecoration:"none"},onMouseEnter:ye=>ye.currentTarget.style.textDecoration="underline",onMouseLeave:ye=>ye.currentTarget.style.textDecoration="none",children:n.customer_email})]}),n.van_info&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx(uo,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),s.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Van:"}),s.jsx("span",{style:{color:"#111827",fontSize:"0.875rem"},children:n.van_info})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[s.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Priority:"}),s.jsxs(tt,{color:We.color,children:[s.jsx(Zt,{className:"w-3 h-3 mr-1"}),We.label]}),yt&&s.jsxs(s.Fragment,{children:[s.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",marginLeft:"16px"},children:"Urgency:"}),s.jsx(tt,{color:yt.color,children:yt.label})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx(Mn,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),s.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Created:"}),s.jsx("span",{style:{color:"#111827",fontSize:"0.875rem"},children:new Date(n.created_at).toLocaleString()})]})]}),n.description&&s.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"},children:[s.jsx("h4",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"600",marginBottom:"12px"},children:"Description"}),s.jsx("p",{style:{color:"#374151",fontSize:"0.875rem",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:n.description})]})]})}),s.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"24px",flexWrap:"wrap"},children:[zt&&s.jsxs("button",{onClick:()=>w(!0),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#059669",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",transition:"all 0.2s"},onMouseEnter:ye=>ye.currentTarget.style.backgroundColor="#047857",onMouseLeave:ye=>ye.currentTarget.style.backgroundColor="#059669",children:[s.jsx(Kt,{size:18}),"Mark as Resolved"]}),sr&&s.jsxs("button",{onClick:()=>A(!0),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#ea580c",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",transition:"all 0.2s"},onMouseEnter:ye=>ye.currentTarget.style.backgroundColor="#c2410c",onMouseLeave:ye=>ye.currentTarget.style.backgroundColor="#ea580c",children:[s.jsx(nY,{size:18}),"Reopen Ticket"]})]}),C&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",zIndex:1e3},children:s.jsx(rt,{style:{maxWidth:"400px",width:"100%"},children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",marginBottom:"12px"},children:"Mark as Resolved?"}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem",marginBottom:"24px"},children:"Are you sure this issue has been resolved? This will notify our support team."}),s.jsxs("div",{style:{display:"flex",gap:"12px"},children:[s.jsx("button",{onClick:Me,disabled:k,style:{flex:1,padding:"10px 16px",backgroundColor:"#059669",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:k?"not-allowed":"pointer",opacity:k?.5:1},children:k?"Resolving...":"Yes, Resolve"}),s.jsx("button",{onClick:()=>w(!1),disabled:k,style:{flex:1,padding:"10px 16px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px",color:"#374151",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer"},children:"Cancel"})]})]})})}),E&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",zIndex:1e3},children:s.jsx(rt,{style:{maxWidth:"500px",width:"100%"},children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",marginBottom:"12px"},children:"Reopen Ticket"}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem",marginBottom:"16px"},children:"Please tell us why you're reopening this ticket."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Your Name"}),s.jsx("input",{type:"text",value:R,onChange:ye=>M(ye.target.value),placeholder:"Enter your name",required:!0,style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Reason for Reopening"}),s.jsx("textarea",{value:D,onChange:ye=>T(ye.target.value),placeholder:"Explain why you need to reopen this ticket...",rows:4,required:!0,style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none",resize:"none"}})]})]}),s.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"24px"},children:[s.jsx("button",{onClick:he,disabled:F,style:{flex:1,padding:"10px 16px",backgroundColor:"#ea580c",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:F?"not-allowed":"pointer",opacity:F?.5:1},children:F?"Reopening...":"Reopen Ticket"}),s.jsx("button",{onClick:()=>{A(!1),T(""),M("")},disabled:F,style:{flex:1,padding:"10px 16px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px",color:"#374151",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer"},children:"Cancel"})]})]})})}),s.jsx(rt,{className:"mb-6",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[s.jsx(Oi,{style:{width:"20px",height:"20px",color:"#374151"}}),s.jsx("h3",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Activity Timeline"}),s.jsx(tt,{color:"blue",children:n.comments?.length||0})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[n.comments&&n.comments.length>0?n.comments.map(ye=>s.jsx("div",{className:`p-4 rounded-lg ${Ke(ye.author_type)} border border-gray-200`,children:s.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"12px"},children:[s.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",flexShrink:0,backgroundColor:ye.author_type==="customer"?"#3b82f6":ye.author_type==="tech"?"#6b7280":"#eab308"},children:Re(ye.author_type)}),s.jsxs("div",{style:{flex:1},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px",flexWrap:"wrap"},children:[s.jsx("span",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"600"},children:ye.author_name}),s.jsx(tt,{color:ye.author_type==="customer"?"blue":ye.author_type==="tech"?"gray":"yellow",children:ye.author_type==="customer"?"Customer":ye.author_type==="tech"?"Support":"System"}),ye.is_resolution&&s.jsxs(tt,{color:"green",children:[s.jsx(Kt,{className:"w-3 h-3 mr-1"}),"Resolution"]})]}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginBottom:"8px"},children:ke(ye.created_at)}),s.jsx("p",{style:{color:"#374151",fontSize:"0.875rem",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:ye.comment_text}),(()=>{const Ve=V(ye.id);return Ve.length===0?null:s.jsx("div",{style:{marginTop:"12px",display:"flex",flexWrap:"wrap",gap:"8px"},children:Ve.map(qt=>{const vr=qt.mime_type?.startsWith("video/"),ur=qt.mime_type?.startsWith("image/");return s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[vr?s.jsxs("div",{onClick:()=>J(qt.public_url),style:{position:"relative",cursor:"pointer",maxWidth:"300px",maxHeight:"200px",borderRadius:"8px",overflow:"hidden",border:"1px solid #e5e7eb",backgroundColor:"#000"},children:[s.jsx("video",{src:qt.public_url,style:{width:"100%",height:"100%",maxHeight:"200px",objectFit:"cover"}}),s.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:"50%",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s, background-color 0.2s"},onMouseOver:pt=>{pt.currentTarget.style.transform="translate(-50%, -50%) scale(1.1)",pt.currentTarget.style.backgroundColor="rgba(59, 130, 246, 0.8)"},onMouseOut:pt=>{pt.currentTarget.style.transform="translate(-50%, -50%)",pt.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.6)"},children:s.jsx(Lf,{size:24,style:{color:"white",marginLeft:"3px"}})})]}):ur?s.jsx("img",{src:qt.public_url,alt:qt.original_filename||"Attachment",onClick:()=>Ee(qt.public_url),style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s"},onMouseOver:pt=>{pt.target.style.transform="scale(1.02)",pt.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseOut:pt=>{pt.target.style.transform="scale(1)",pt.target.style.boxShadow="none"}}):s.jsx("a",{href:qt.public_url,target:"_blank",rel:"noopener noreferrer",style:{color:"#3b82f6",fontSize:"0.75rem"},children:qt.original_filename||"Download attachment"}),s.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[s.jsx(bx,{size:12}),qt.uploaded_by_type==="customer"?"Photo from customer":"Photo from technician"]})]},qt.id)})})})()]})]})},ye.id)):s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem",textAlign:"center",padding:"32px 0",fontStyle:"italic"},children:"No comments yet. Be the first to add one!"}),s.jsx("div",{ref:t})]}),s.jsxs("div",{style:{paddingTop:"24px",borderTop:"1px solid #e5e7eb"},children:[s.jsx("h4",{style:{color:"#111827",fontSize:"1rem",fontWeight:"600",marginBottom:"16px"},children:"Add a Comment"}),s.jsxs("form",{onSubmit:Pe,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Your Name"}),s.jsx("input",{type:"text",value:h,onChange:ye=>x(ye.target.value),placeholder:"Enter your name",required:!0,style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Comment"}),s.jsx("textarea",{value:m,onChange:ye=>g(ye.target.value),placeholder:"Add a comment...",rows:4,maxLength:2e3,required:!0,style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none",resize:"none"}}),s.jsxs("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px"},children:[m.length,"/2000 characters (minimum 10)"]})]}),s.jsxs("button",{type:"submit",disabled:S||m.trim().length<10||!h.trim(),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#1e3a5f",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:S||m.trim().length<10||!h.trim()?"not-allowed":"pointer",opacity:S||m.trim().length<10||!h.trim()?.5:1,boxShadow:"0 1px 2px rgba(0,0,0,0.05)",transition:"all 0.2s"},onMouseEnter:ye=>{!S&&m.trim().length>=10&&h.trim()&&(ye.currentTarget.style.backgroundColor="#2c5282")},onMouseLeave:ye=>ye.currentTarget.style.backgroundColor="#1e3a5f",children:[s.jsx(Oi,{size:18}),S?"Adding Comment...":"Add Comment"]})]}),s.jsxs("div",{style:{marginTop:"32px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"},children:[s.jsxs("h4",{style:{color:"#111827",fontSize:"1rem",fontWeight:"600",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx(bx,{size:18}),"Upload Photo or Video"]}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem",marginBottom:"16px"},children:"Share photos or videos related to your issue. Images: JPEG, PNG, GIF, WebP (max 10MB). Videos: MP4, MOV, WebM (max 50MB)"}),s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Your Name"}),s.jsx("input",{type:"text",value:Ce,onChange:ye=>Q(ye.target.value),placeholder:"Enter your name",style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none"}})]}),s.jsx("input",{ref:me,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp,video/mp4,video/quicktime,video/webm",onChange:L,style:{display:"none"},id:"photo-upload"}),ue?s.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"12px",padding:"16px",backgroundColor:"#fafafa"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"16px",marginBottom:"16px"},children:[je(ue)?s.jsxs("div",{style:{width:"120px",height:"100px",borderRadius:"8px",border:"1px solid #e5e7eb",overflow:"hidden",position:"relative",backgroundColor:"#000"},children:[s.jsx("video",{src:URL.createObjectURL(ue),style:{width:"100%",height:"100%",objectFit:"cover"}}),s.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Lf,{size:16,style:{color:"white",marginLeft:"2px"}})})]}):s.jsx("img",{src:URL.createObjectURL(ue),alt:"Preview",style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb"}}),s.jsxs("div",{style:{flex:1},children:[s.jsxs("p",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"500",marginBottom:"4px",display:"flex",alignItems:"center",gap:"6px"},children:[je(ue)&&s.jsx(dO,{size:14,style:{color:"#6b7280"}}),ue.name]}),s.jsxs("p",{style:{color:"#6b7280",fontSize:"0.75rem"},children:[(ue.size/1024/1024).toFixed(2)," MB"]}),s.jsxs("button",{type:"button",onClick:Be,style:{marginTop:"8px",padding:"4px 8px",backgroundColor:"transparent",border:"1px solid #ef4444",borderRadius:"4px",color:"#ef4444",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[s.jsx(Nt,{size:12}),"Remove"]})]})]}),q&&s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("div",{style:{height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"},children:s.jsx("div",{style:{height:"100%",width:`${Ae}%`,backgroundColor:"#3b82f6",transition:"width 0.3s ease"}})}),s.jsxs("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px",textAlign:"center"},children:["Uploading... ",Ae,"%"]})]}),s.jsx("button",{type:"button",onClick:xe,disabled:q||!Ce.trim(),style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",padding:"12px 20px",backgroundColor:"#10b981",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:q||!Ce.trim()?"not-allowed":"pointer",opacity:q||!Ce.trim()?.5:1,transition:"all 0.2s"},children:q?s.jsxs(s.Fragment,{children:[s.jsx(Dn,{size:18,style:{animation:"spin 1s linear infinite"}}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(I2,{size:18}),"Upload Photo"]})})]}):s.jsxs("label",{htmlFor:"photo-upload",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"32px",border:"2px dashed #d1d5db",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s",backgroundColor:"#fafafa"},onMouseEnter:ye=>{ye.currentTarget.style.borderColor="#3b82f6",ye.currentTarget.style.backgroundColor="#f0f9ff"},onMouseLeave:ye=>{ye.currentTarget.style.borderColor="#d1d5db",ye.currentTarget.style.backgroundColor="#fafafa"},children:[s.jsx(I2,{size:32,style:{color:"#9ca3af",marginBottom:"12px"}}),s.jsx("span",{style:{color:"#374151",fontSize:"0.875rem",fontWeight:"500"},children:"Click to select a photo or video"}),s.jsx("span",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px"},children:"or drag and drop"})]}),be&&s.jsxs("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#dc2626",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx(Oc,{size:16}),be]})]})]})]})}),s.jsx("div",{style:{textAlign:"center",paddingTop:"24px",paddingBottom:"24px",borderTop:"1px solid #e5e7eb"},children:s.jsxs("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:["Need help? Contact MAX Support at ",s.jsx("a",{href:"mailto:support@maxsupport.com",style:{color:"#1e3a5f",textDecoration:"none"},children:"support@maxsupport.com"})]})})]}),fe&&s.jsxs("div",{onClick:()=>Ee(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,cursor:"pointer"},children:[s.jsx("button",{onClick:()=>Ee(null),style:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#ffffff"},children:s.jsx(Nt,{size:24})}),s.jsx("img",{src:fe,alt:"Full size",onClick:ye=>ye.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain",borderRadius:"8px"}})]}),W&&s.jsxs("div",{onClick:()=>J(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,cursor:"pointer"},children:[s.jsx("button",{onClick:()=>J(null),style:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#ffffff",zIndex:1e4},children:s.jsx(Nt,{size:24})}),s.jsx("video",{src:W,controls:!0,autoPlay:!0,onClick:ye=>ye.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh",borderRadius:"8px"}})]})]})},Nd="",nG=()=>{const e=ii(),{showToast:t}=tu(),{user:n,logout:i,hasRole:l,isSiteAdmin:c}=xn(),[d,p]=y.useState({owner_name:"",phone:"",email:"",subject:"",description:"",priority:"normal",urgency:"medium",owner_id:"",van_id:"",category_id:""}),[m,g]=y.useState({}),[h,x]=y.useState(!1),[S,j]=y.useState(!1),[C,w]=y.useState(null),[k,z]=y.useState(!1),[E,A]=y.useState([]),[D,T]=y.useState([]),[R,M]=y.useState([]),[F,U]=y.useState(!0),[le,Z]=y.useState(!0),[ie,ge]=y.useState(!0),[fe,Ee]=y.useState(""),[W,J]=y.useState(!1),[ue,_e]=y.useState(""),[Ae,N]=y.useState(!1),q=y.useRef(null),oe=y.useRef(null),be=y.useRef(null),Se=y.useRef(null),Ce=y.useRef(null),[Q,me]=y.useState(-1),[ne,Te]=y.useState(-1),V=y.useRef([]),te=y.useRef([]),[Pe,Me]=y.useState({top:0,left:0,width:0}),[he,B]=y.useState({top:0,left:0,width:0}),X=y.useRef(null);y.useEffect(()=>{const re=Oe=>{const He=q.current&&q.current.contains(Oe.target),Vt=document.getElementById("owner-listbox"),gr=Vt&&Vt.contains(Oe.target);!He&&!gr&&J(!1)};return W&&document.addEventListener("mousedown",re),()=>{document.removeEventListener("mousedown",re)}},[W]),y.useEffect(()=>{const re=Oe=>{const He=be.current&&be.current.contains(Oe.target),Vt=document.getElementById("van-listbox"),gr=Vt&&Vt.contains(Oe.target);!He&&!gr&&N(!1)};return Ae&&document.addEventListener("mousedown",re),()=>{document.removeEventListener("mousedown",re)}},[Ae]),y.useEffect(()=>{S&&X.current&&X.current.focus()},[S]),y.useEffect(()=>()=>{Ce.current&&clearTimeout(Ce.current)},[]),y.useEffect(()=>{W&&me(-1)},[W]),y.useEffect(()=>{Ae&&Te(-1)},[Ae]);const K=y.useCallback(async re=>{U(!0);try{const Oe=await fetch(`${Nd}/api/owners?limit=100`,{credentials:"include",signal:re});if(!Oe.ok)throw new Error("Failed to fetch owners");const He=await Oe.json();A(He.owners||[])}catch(Oe){if(Oe.name==="AbortError")return;t("Failed to load owners","error")}finally{U(!1)}},[t]),je=y.useRef(null),L=y.useCallback(async re=>{if(!re){T([]);return}const Oe=re;je.current=Oe,Z(!0),T([]);try{const He=await fetch(`${Nd}/api/vans?owner_id=${re}&limit=100`,{credentials:"include"});if(!He.ok)throw new Error("Failed to fetch vans");const Vt=await He.json();je.current===Oe&&T(Vt.vans||[])}catch{je.current===Oe&&t("Failed to load vans","error")}finally{je.current===Oe&&Z(!1)}},[t]),xe=y.useCallback(async re=>{ge(!0);try{const Oe=await fetch(`${Nd}/api/categories`,{credentials:"include",signal:re});if(!Oe.ok)throw new Error("Failed to fetch categories");const He=await Oe.json();M(He.categories||[])}catch(Oe){if(Oe.name==="AbortError")return}finally{ge(!1)}},[]);y.useEffect(()=>{const re=new AbortController;return K(re.signal),xe(re.signal),()=>re.abort()},[K,xe]);const Be=y.useMemo(()=>d.owner_id?D:[],[D,d.owner_id,le]),nt=y.useMemo(()=>{if(!ue.trim())return Be;const re=ue.toLowerCase();return Be.filter(Oe=>{const He=(Oe.van_number||"").toLowerCase(),Vt=(Oe.make||"").toLowerCase(),gr=String(Oe.year||"");return He.includes(re)||Vt.includes(re)||gr.includes(re)})},[Be,ue]),Je=y.useMemo(()=>d.van_id&&D.find(re=>re.id===d.van_id)||null,[D,d.van_id]),P=y.useMemo(()=>d.owner_id&&E.find(re=>re.id===d.owner_id)||null,[E,d.owner_id]),ke=y.useMemo(()=>{if(!fe.trim())return E;const re=fe.toLowerCase();return E.filter(Oe=>{const He=(Oe.name||"").toLowerCase(),Vt=(Oe.company||"").toLowerCase(),gr=(Oe.phone||"").toLowerCase(),vn=(Oe.email||"").toLowerCase();return He.includes(re)||Vt.includes(re)||gr.includes(re)||vn.includes(re)})},[E,fe]),Ke=re=>{const{name:Oe,value:He}=re.target;p(Vt=>({...Vt,[Oe]:He})),m[Oe]&&g(Vt=>({...Vt,[Oe]:null}))},Re=y.useCallback(()=>{if(oe.current){const re=oe.current.getBoundingClientRect();Me({top:re.bottom,left:re.left,width:re.width})}},[]),Ze=y.useCallback(()=>{if(Se.current){const re=Se.current.getBoundingClientRect();B({top:re.bottom,left:re.left,width:re.width})}},[]),We=()=>{W||Re(),J(!W)},yt=()=>{Ae||Ze(),N(!Ae)},_r=re=>{const Oe=E.find(He=>He.id===re);p(He=>({...He,owner_id:re,owner_name:Oe?.name||"",phone:Oe?.phone||"",email:Oe?.email||"",van_id:""})),Ee(""),J(!1),_e(""),N(!1),L(re),m.owner_name&&g(He=>({...He,owner_name:null}))},Zt=()=>{p(re=>({...re,owner_id:"",owner_name:"",phone:"",email:"",van_id:""})),Ee(""),_e(""),T([])},zt=re=>{p(Oe=>({...Oe,van_id:re})),_e(""),N(!1),m.van_id&&g(Oe=>({...Oe,van_id:null}))},sr=()=>{p(re=>({...re,van_id:""})),_e("")},ye=()=>{const re={};return d.owner_id||(re.owner_name="Please select a customer"),d.phone.trim()?/^[\d\s\-\+\(\)]+$/.test(d.phone)||(re.phone="Invalid phone number format"):re.phone="Phone number is required - please select a customer",d.email.trim()&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(re.email="Invalid email format")),d.subject.trim()?d.subject.trim().length<5?re.subject="Subject must be at least 5 characters":d.subject.length>200&&(re.subject="Subject must be less than 200 characters"):re.subject="Subject is required",d.description.trim()?d.description.trim().length<20?re.description="Description must be at least 20 characters":d.description.length>2e3&&(re.description="Description must be less than 2000 characters"):re.description="Description is required",g(re),Object.keys(re).length===0},Ve=async re=>{if(re.preventDefault(),!ye()){t("Please fix the errors in the form","error");return}x(!0);try{const Oe=await fetch(`${Nd}/api/tickets/create`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({owner_name:d.owner_name.trim(),phone:d.phone.trim(),email:d.email.trim()||null,subject:d.subject.trim(),issue_summary:d.subject.trim(),description:d.description.trim(),priority:d.priority,urgency:d.urgency||null,owner_id:d.owner_id||null,van_id:d.van_id||null,category_id:d.category_id||null})});if(!Oe.ok){const gr=await Oe.json();throw new Error(gr.error||"Failed to create ticket")}const He=await Oe.json(),Vt={id:He.ticket_id,number:He.ticket_number,uuid:He.ticket_id};w(Vt),j(!0),t(`Ticket #${He.ticket_number} created successfully!`,"success")}catch(Oe){console.error("Error creating ticket:",Oe),t(Oe.message||"Failed to create ticket","error")}finally{x(!1)}},qt=async()=>{if(C){const re=`${window.location.origin}/ticket/${C.uuid}`;try{await navigator.clipboard.writeText(re),z(!0),t("Link copied to clipboard!","success"),Ce.current&&clearTimeout(Ce.current),Ce.current=setTimeout(()=>z(!1),3e3)}catch{t("Failed to copy link to clipboard","error")}}},vr=()=>{j(!1),w(null),z(!1),p({owner_name:"",phone:"",email:"",subject:"",description:"",priority:"normal",urgency:"medium",owner_id:"",van_id:"",category_id:""}),Ee(""),J(!1),g({}),_e(""),N(!1),T([])},pt=(re=>{const Oe={urgent:{color:"red",icon:xi,label:"Urgent"},high:{color:"orange",icon:Vs,label:"High"},normal:{color:"blue",icon:Ya,label:"Normal"},low:{color:"gray",icon:Ys,label:"Low"}};return Oe[re]||Oe.normal})(d.priority),Tr=pt.icon;return s.jsxs("div",{className:"flex min-h-screen",style:{backgroundColor:"#f9fafb"},children:[s.jsx(zr,{user:n,onLogout:i,hasRole:l,isSiteAdmin:c}),s.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:"2rem"},children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>e("/tickets"),style:{display:"flex",alignItems:"center",gap:"8px",color:"#6b7280",fontSize:"0.875rem",marginBottom:"16px",background:"none",border:"none",cursor:"pointer",transition:"color 0.2s"},onMouseEnter:re=>re.currentTarget.style.color="#111827",onMouseLeave:re=>re.currentTarget.style.color="#6b7280",children:[s.jsx($f,{className:"w-4 h-4"}),"Back to Tickets"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-[#1e3a5f] rounded-lg",children:s.jsx(rr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{style:{color:"#111827",fontSize:"1.875rem",fontWeight:"bold",marginBottom:"4px"},children:"Create New Ticket"}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"Create a support ticket for a customer"})]})]})]}),s.jsxs("form",{onSubmit:Ve,children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx(rt,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:[s.jsx(Va,{style:{width:"20px",height:"20px",color:"#1e3a5f"}}),s.jsx("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Customer Information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{id:"owner_id-label",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Customer Name ",s.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),s.jsx("span",{className:"sr-only",children:"(required)"})]}),s.jsxs("div",{ref:q,style:{position:"relative"},children:[s.jsx(Va,{"aria-hidden":"true",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af",pointerEvents:"none",zIndex:1}}),F?s.jsxs("div",{"aria-live":"polite",style:{display:"flex",alignItems:"center",gap:"8px",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[s.jsx(Dn,{"aria-hidden":"true",size:16,style:{animation:"spin 1s linear infinite"}}),"Loading customers..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{ref:oe,role:"combobox","aria-expanded":W,"aria-haspopup":"listbox","aria-controls":"owner-listbox","aria-labelledby":"owner_id-label","aria-required":"true","aria-invalid":!!m.owner_name,"aria-describedby":m.owner_name?"owner_id-error":void 0,tabIndex:0,onClick:We,onKeyDown:re=>{re.key==="Enter"||re.key===" "?(re.preventDefault(),We()):re.key==="Escape"&&J(!1)},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${m.owner_name?"#dc2626":W?"#1e3a5f":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",minHeight:"40px",outline:"none"},children:[P?s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[s.jsxs("span",{style:{color:r.colors.text.primary},children:[P.name,P.company?` (${P.company})`:""]}),s.jsx("button",{type:"button",onClick:re=>{re.stopPropagation(),Zt()},"aria-label":"Clear customer selection",style:{background:"none",border:"none",padding:"2px 6px",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center"},children:s.jsx(Nt,{size:14})})]}):s.jsx("span",{style:{color:r.colors.text.tertiary},children:"Select a customer..."}),s.jsx(ei,{"aria-hidden":"true",size:16,style:{color:"#9ca3af",transform:W?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s",flexShrink:0}})]}),W&&Gd.createPortal(s.jsxs("div",{id:"owner-listbox",role:"listbox","aria-labelledby":"owner_id-label",style:{position:"fixed",top:Pe.top,left:Pe.left,width:Pe.width,backgroundColor:"white",border:"1px solid #1e3a5f",borderRadius:r.radius.md,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:9999,maxHeight:"300px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[s.jsx("div",{style:{padding:"8px",borderBottom:`1px solid ${r.colors.border.light}`},children:s.jsxs("div",{style:{position:"relative"},children:[s.jsx(yi,{size:14,style:{position:"absolute",left:"8px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),s.jsx("input",{type:"text",value:fe,onChange:re=>Ee(re.target.value),onClick:re=>re.stopPropagation(),placeholder:"Search customers...","aria-label":"Search customers",style:{width:"100%",padding:"6px 8px 6px 28px",border:`1px solid ${r.colors.border.medium}`,borderRadius:"4px",fontSize:"0.8125rem",outline:"none"},autoFocus:!0})]})}),s.jsx("div",{style:{overflowY:"auto",maxHeight:"220px"},onKeyDown:re=>{if(ke.length!==0)if(re.key==="ArrowDown"){re.preventDefault();const Oe=Q<ke.length-1?Q+1:0;me(Oe),V.current[Oe]?.focus()}else if(re.key==="ArrowUp"){re.preventDefault();const Oe=Q>0?Q-1:ke.length-1;me(Oe),V.current[Oe]?.focus()}else re.key==="Escape"&&(J(!1),oe.current?.focus())},children:ke.length===0?s.jsx("div",{style:{padding:"12px",textAlign:"center",color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:fe?"No customers match your search":"No customers available"}):ke.map((re,Oe)=>s.jsxs("div",{ref:He=>V.current[Oe]=He,role:"option","aria-selected":d.owner_id===re.id,tabIndex:-1,onClick:()=>_r(re.id),onKeyDown:He=>{(He.key==="Enter"||He.key===" ")&&(He.preventDefault(),_r(re.id))},onFocus:()=>me(Oe),style:{padding:"10px 12px",cursor:"pointer",backgroundColor:Q===Oe?"#e0e7ff":d.owner_id===re.id?"#eff6ff":"transparent",borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.15s",outline:"none"},onMouseEnter:He=>{me(Oe),d.owner_id!==re.id&&(He.currentTarget.style.backgroundColor="#f9fafb")},onMouseLeave:He=>{d.owner_id!==re.id&&Q!==Oe&&(He.currentTarget.style.backgroundColor="transparent")},children:[s.jsxs("div",{style:{fontWeight:"500",color:r.colors.text.primary,fontSize:r.fontSize.sm},children:[re.name,re.company?` (${re.company})`:""]}),s.jsxs("div",{style:{color:r.colors.text.tertiary,fontSize:"0.75rem",marginTop:"2px"},children:[re.phone,re.email?`  ${re.email}`:""]})]},re.id))})]}),document.body)]})]}),m.owner_name&&s.jsx("p",{id:"owner_id-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem",marginTop:"4px"},children:m.owner_name})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"phone",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Phone Number ",s.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),s.jsx("span",{className:"sr-only",children:"(required)"}),P&&d.phone&&s.jsx("span",{style:{color:"#6b7280",fontWeight:"normal",marginLeft:"8px",fontSize:"0.75rem"},children:"(pre-filled, can edit)"})]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx(cl,{"aria-hidden":"true",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af"}}),s.jsx("input",{id:"phone",type:"tel",name:"phone",value:d.phone,onChange:Ke,"aria-required":"true","aria-invalid":!!m.phone,"aria-describedby":m.phone?"phone-error":void 0,placeholder:"Enter phone number",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${m.phone?"#dc2626":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}})]}),m.phone&&s.jsx("p",{id:"phone-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem",marginTop:"4px"},children:m.phone})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Email ",s.jsx("span",{style:{color:"#6b7280",fontWeight:"normal"},children:"(optional)"}),P&&d.email&&s.jsx("span",{style:{color:"#6b7280",fontWeight:"normal",marginLeft:"8px",fontSize:"0.75rem"},children:"(pre-filled, can edit)"})]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx(Sp,{"aria-hidden":"true",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af"}}),s.jsx("input",{id:"email",type:"email",name:"email",value:d.email,onChange:Ke,"aria-invalid":!!m.email,"aria-describedby":m.email?"email-error":void 0,placeholder:"Enter email address",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${m.email?"#dc2626":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}})]}),m.email&&s.jsx("p",{id:"email-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem",marginTop:"4px"},children:m.email})]})]})]})}),s.jsx(rt,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:[s.jsx(ia,{style:{width:"20px",height:"20px",color:"#1e3a5f"}}),s.jsx("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Van Information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{id:"van_id-label",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Van ",s.jsx("span",{style:{color:"#6b7280",fontWeight:"normal"},children:"(optional)"})]}),s.jsxs("div",{ref:be,style:{position:"relative"},children:[s.jsx(ia,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af",pointerEvents:"none",zIndex:1}}),le&&d.owner_id?s.jsxs("div",{"aria-live":"polite",style:{display:"flex",alignItems:"center",gap:"8px",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[s.jsx(Dn,{"aria-hidden":"true",size:16,style:{animation:"spin 1s linear infinite"}}),"Loading vans..."]}):d.owner_id?s.jsxs(s.Fragment,{children:[s.jsxs("div",{ref:Se,role:"combobox","aria-expanded":Ae,"aria-haspopup":"listbox","aria-controls":"van-listbox","aria-labelledby":"van_id-label",tabIndex:0,onClick:yt,onKeyDown:re=>{re.key==="Enter"||re.key===" "?(re.preventDefault(),yt()):re.key==="Escape"&&N(!1)},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${Ae?"#1e3a5f":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",minHeight:"40px",outline:"none"},children:[Je?s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[s.jsxs("span",{style:{color:r.colors.text.primary},children:[Je.van_number," - ",Je.make," ",Je.version," (",Je.year,")"]}),s.jsx("button",{type:"button",onClick:re=>{re.stopPropagation(),sr()},"aria-label":"Clear van selection",style:{background:"none",border:"none",padding:"2px 6px",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center"},children:s.jsx(Nt,{size:14})})]}):s.jsx("span",{style:{color:r.colors.text.tertiary},children:Be.length===0?"No vans for this owner":"Select a van..."}),s.jsx(ei,{"aria-hidden":"true",size:16,style:{color:"#9ca3af",transform:Ae?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s",flexShrink:0}})]}),Ae&&Be.length>0&&Gd.createPortal(s.jsxs("div",{id:"van-listbox",role:"listbox","aria-labelledby":"van_id-label",style:{position:"fixed",top:he.top,left:he.left,width:he.width,backgroundColor:"white",border:"1px solid #1e3a5f",borderRadius:r.radius.md,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:9999,maxHeight:"280px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[s.jsx("div",{style:{padding:"8px",borderBottom:`1px solid ${r.colors.border.light}`},children:s.jsxs("div",{style:{position:"relative"},children:[s.jsx(yi,{size:14,style:{position:"absolute",left:"8px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),s.jsx("input",{type:"text",value:ue,onChange:re=>_e(re.target.value),onClick:re=>re.stopPropagation(),placeholder:"Search vans...","aria-label":"Search vans",style:{width:"100%",padding:"6px 8px 6px 28px",border:`1px solid ${r.colors.border.medium}`,borderRadius:"4px",fontSize:"0.8125rem",outline:"none"},autoFocus:!0})]})}),s.jsx("div",{style:{overflowY:"auto",maxHeight:"220px"},onKeyDown:re=>{if(nt.length!==0)if(re.key==="ArrowDown"){re.preventDefault();const Oe=ne<nt.length-1?ne+1:0;Te(Oe),te.current[Oe]?.focus()}else if(re.key==="ArrowUp"){re.preventDefault();const Oe=ne>0?ne-1:nt.length-1;Te(Oe),te.current[Oe]?.focus()}else re.key==="Escape"&&(N(!1),Se.current?.focus())},children:nt.length===0?s.jsx("div",{style:{padding:"12px",textAlign:"center",color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"No vans match your search"}):nt.map((re,Oe)=>s.jsxs("div",{ref:He=>te.current[Oe]=He,role:"option","aria-selected":d.van_id===re.id,tabIndex:-1,onClick:()=>zt(re.id),onKeyDown:He=>{(He.key==="Enter"||He.key===" ")&&(He.preventDefault(),zt(re.id))},onFocus:()=>Te(Oe),style:{padding:"10px 12px",cursor:"pointer",backgroundColor:ne===Oe?"#e0e7ff":d.van_id===re.id?"#eff6ff":"transparent",borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.15s",outline:"none"},onMouseEnter:He=>{Te(Oe),d.van_id!==re.id&&(He.currentTarget.style.backgroundColor="#f9fafb")},onMouseLeave:He=>{d.van_id!==re.id&&ne!==Oe&&(He.currentTarget.style.backgroundColor="transparent")},children:[s.jsx("div",{style:{fontWeight:"500",color:r.colors.text.primary,fontSize:r.fontSize.sm},children:re.van_number}),s.jsxs("div",{style:{color:r.colors.text.tertiary,fontSize:"0.75rem",marginTop:"2px"},children:[re.make," ",re.version," - ",re.year]})]},re.id))})]}),document.body)]}):s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:"#f3f4f6",border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.tertiary,fontSize:r.fontSize.sm,cursor:"not-allowed"},children:[s.jsx("span",{children:"Select a customer first"}),s.jsx(ei,{size:16,style:{color:"#9ca3af"}})]})]}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px"},children:d.owner_id?Be.length===0?"This customer has no registered vans":`${Be.length} van${Be.length!==1?"s":""} available for this customer`:"Select a customer in Customer Information to see available vans"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"category_id",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Category ",s.jsx("span",{style:{color:"#6b7280",fontWeight:"normal"},children:"(optional)"})]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx(uO,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af",pointerEvents:"none",zIndex:1}}),ie?s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[s.jsx(Dn,{size:16,style:{animation:"spin 1s linear infinite"}}),"Loading categories..."]}):s.jsxs("select",{id:"category_id",name:"category_id",value:d.category_id,onChange:Ke,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,color:d.category_id?r.colors.text.primary:r.colors.text.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none",cursor:"pointer",appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},children:[s.jsx("option",{value:"",children:"Select a category..."}),R.map(re=>s.jsx("option",{value:re.id,children:re.name},re.id))]}),s.jsx(ei,{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af",pointerEvents:"none"}})]}),R.length===0&&!ie&&s.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px"},children:"No categories available"})]})]})]})})]}),s.jsx("div",{className:"space-y-6",children:s.jsx(rt,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:[s.jsx(uo,{style:{width:"20px",height:"20px",color:"#1e3a5f"}}),s.jsx("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Ticket Details"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"subject",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Subject ",s.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),s.jsx("span",{className:"sr-only",children:"(required)"})]}),s.jsx("input",{id:"subject",type:"text",name:"subject",value:d.subject,onChange:Ke,placeholder:"Brief description of the issue",maxLength:200,required:!0,"aria-required":"true","aria-invalid":!!m.subject,"aria-describedby":m.subject?"subject-error":"subject-hint",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${m.subject?"#dc2626":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"4px"},children:m.subject?s.jsx("p",{id:"subject-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem"},children:m.subject}):s.jsxs("p",{id:"subject-hint",style:{color:"#6b7280",fontSize:"0.75rem"},children:[d.subject.length,"/200 characters"]})})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"description",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Description ",s.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),s.jsx("span",{className:"sr-only",children:"(required)"})]}),s.jsx("textarea",{id:"description",name:"description",value:d.description,onChange:Ke,placeholder:"Describe the issue in detail...",rows:6,maxLength:2e3,required:!0,"aria-required":"true","aria-invalid":!!m.description,"aria-describedby":m.description?"description-error":"description-hint",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${m.description?"#dc2626":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none",resize:"vertical"}}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"4px"},children:m.description?s.jsx("p",{id:"description-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem"},children:m.description}):s.jsxs("p",{id:"description-hint",style:{color:"#6b7280",fontSize:"0.75rem"},children:[d.description.length,"/2000 characters (minimum 20)"]})})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"priority",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Priority ",s.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),s.jsx("span",{className:"sr-only",children:"(required)"})]}),s.jsxs("select",{id:"priority",name:"priority",value:d.priority,onChange:Ke,required:!0,"aria-required":"true",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none"},children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"normal",children:"Normal"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"urgent",children:"Urgent"})]}),s.jsx("div",{style:{marginTop:"8px"},children:s.jsxs(tt,{color:pt.color,children:[s.jsx(Tr,{className:"w-3 h-3 mr-1"}),pt.label]})})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"urgency",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Urgency ",s.jsx("span",{style:{color:"#6b7280",fontWeight:"normal"},children:"(optional)"})]}),s.jsxs("select",{id:"urgency",name:"urgency",value:d.urgency,onChange:Ke,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none"},children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"})]})]})]})]})})})]}),s.jsxs("div",{style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[s.jsx("button",{type:"button",onClick:()=>e("/tickets"),style:{padding:"12px 20px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px",color:"#374151",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:re=>re.currentTarget.style.backgroundColor="#f9fafb",onMouseLeave:re=>re.currentTarget.style.backgroundColor="white",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:h,style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",backgroundColor:"#1e3a5f",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:h?"not-allowed":"pointer",opacity:h?.5:1,boxShadow:"0 1px 2px rgba(0,0,0,0.05)",transition:"all 0.2s"},onMouseEnter:re=>!h&&(re.currentTarget.style.backgroundColor="#2c5282"),onMouseLeave:re=>re.currentTarget.style.backgroundColor="#1e3a5f",children:[s.jsx(rr,{size:18}),h?"Creating Ticket...":"Create Ticket"]})]})]}),S&&C&&s.jsx("div",{ref:X,role:"dialog","aria-modal":"true","aria-labelledby":"success-modal-title",tabIndex:-1,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",zIndex:1e3,outline:"none"},onKeyDown:re=>{re.key==="Escape"&&vr()},children:s.jsx(rt,{style:{maxWidth:"600px",width:"100%"},children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[s.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#d1fae5",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:s.jsx(Kt,{style:{width:"32px",height:"32px",color:"#059669"}})}),s.jsxs("h2",{id:"success-modal-title",style:{color:"#111827",fontSize:"1.5rem",fontWeight:"bold",marginBottom:"8px"},children:["Ticket #",C.number," Created!"]}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"The support ticket has been created successfully"})]}),s.jsxs("div",{style:{padding:"16px",backgroundColor:"#f9fafb",borderRadius:"8px",marginBottom:"24px"},children:[s.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"600",marginBottom:"8px"},children:"Customer Link (share with customer)"}),s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("input",{type:"text",value:`${window.location.origin}/ticket/${C.uuid}`,readOnly:!0,style:{flex:1,padding:"10px 12px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem",color:"#111827"}}),s.jsx("button",{onClick:qt,style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 16px",backgroundColor:k?"#059669":"#1e3a5f",border:"none",borderRadius:"6px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",whiteSpace:"nowrap",transition:"all 0.2s"},children:k?s.jsxs(s.Fragment,{children:[s.jsx(Kt,{size:16}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(rO,{size:16}),"Copy"]})})]})]}),s.jsxs("div",{style:{display:"flex",gap:"12px"},children:[s.jsx("button",{onClick:()=>e(`/tickets/${C.id}`),style:{flex:1,padding:"12px 20px",backgroundColor:"#1e3a5f",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:re=>re.currentTarget.style.backgroundColor="#2c5282",onMouseLeave:re=>re.currentTarget.style.backgroundColor="#1e3a5f",children:"View Ticket"}),s.jsx("button",{onClick:vr,style:{flex:1,padding:"12px 20px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px",color:"#374151",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:re=>re.currentTarget.style.backgroundColor="#f9fafb",onMouseLeave:re=>re.currentTarget.style.backgroundColor="white",children:"Create Another"})]})]})})})]})]})},iG="",mO=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`:null,oG=()=>{const{sequenceKey:e}=Bf(),[t]=qf(),n=t.get("step"),i=n?parseInt(n,10):null,[l,c]=y.useState(null),[d,p]=y.useState(!0),[m,g]=y.useState(null);if(y.useEffect(()=>{e&&(async()=>{try{p(!0);const R=await fetch(`${iG}/api/sequences/${e}/supplies`);if(R.status===404){g("Sequence not found"),p(!1);return}if(!R.ok)throw new Error("Failed to fetch supplies");const M=await R.json();c(M),g(null)}catch(R){console.error("Error fetching supplies:",R),g("Failed to load supplies information")}finally{p(!1)}})()},[e]),d)return s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f8fafc",padding:"1rem"},children:s.jsx("div",{style:{maxWidth:"600px",margin:"0 auto"},children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{style:{height:"80px",backgroundColor:"#e5e7eb",borderRadius:"12px"}}),s.jsx("div",{style:{height:"200px",backgroundColor:"#e5e7eb",borderRadius:"12px"}}),s.jsx("div",{style:{height:"200px",backgroundColor:"#e5e7eb",borderRadius:"12px"}})]})})});if(m||!l)return s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f8fafc",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:s.jsxs("div",{style:{textAlign:"center",maxWidth:"400px"},children:[s.jsx(mn,{style:{width:"48px",height:"48px",color:"#d1d5db",margin:"0 auto 16px"}}),s.jsx("h1",{style:{color:"#111827",fontSize:"1.5rem",fontWeight:"bold",marginBottom:"12px"},children:"Not Found"}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:m||"The supplies information you're looking for doesn't exist."})]})});let h=l.tools||[],x=l.parts||[];i!==null&&(h=h.filter(T=>T.step_num===i||!T.step_num),x=x.filter(T=>T.step_num===i||!T.step_num));const S=h.length>0,j=x.length>0,C=!S&&!j,w=h.filter(T=>!T.step_num),k=x.filter(T=>!T.step_num),z=[...new Set([...h.filter(T=>T.step_num).map(T=>T.step_num),...x.filter(T=>T.step_num).map(T=>T.step_num)])].sort((T,R)=>T-R),E=w.length>0||k.length>0,A=z.length>0,D=i===null&&A;return s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f8fafc",padding:"1rem"},children:s.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem",padding:"1rem"},children:[s.jsx("h1",{style:{color:"#1e3a5f",fontSize:"1.5rem",fontWeight:"700",marginBottom:"0.5rem"},children:i!==null?`Step ${i} Supplies`:"Supplies Needed"}),l.sequence_name&&s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:l.sequence_name})]}),C&&s.jsx(rt,{children:s.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[s.jsx(Kt,{style:{width:"48px",height:"48px",color:"#10b981",margin:"0 auto 16px"}}),s.jsx("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",marginBottom:"8px"},children:"No Special Supplies Needed"}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"You can complete this repair without any special tools or replacement parts."})]})}),E&&s.jsx(rt,{style:{marginBottom:"1rem"},children:s.jsxs("div",{style:{padding:"1rem"},children:[D&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:"2px solid #1e3a5f"},children:[s.jsx("h2",{style:{color:"#1e3a5f",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"General Supplies"}),s.jsx(tt,{color:"blue",children:w.length+k.length})]}),s.jsx(Q2,{tools:w,parts:k,showStepHeaders:D})]})}),z.map(T=>{const R=l.tools?.filter(F=>F.step_num===T)||[],M=l.parts?.filter(F=>F.step_num===T)||[];return s.jsx(rt,{style:{marginBottom:"1rem"},children:s.jsxs("div",{style:{padding:"1rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:"2px solid #5a8aa3"},children:[s.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",backgroundColor:"#1e3a5f",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",fontWeight:"700"},children:T}),s.jsxs("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:["Step ",T," Supplies"]}),s.jsx(tt,{color:"blue",children:R.length+M.length})]}),s.jsx(Q2,{tools:R,parts:M,showStepHeaders:!0})]})},T)}),!C&&s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",padding:"1rem",backgroundColor:"#eff6ff",borderRadius:"8px",marginBottom:"1rem"},children:[s.jsx(aO,{style:{width:"16px",height:"16px",color:"#3b82f6",flexShrink:0,marginTop:"2px"}}),s.jsx("p",{style:{color:"#1e40af",fontSize:"0.75rem",margin:0,lineHeight:"1.5"},children:"Having the right tools and parts ready before you start will help you complete the repair more efficiently."})]}),s.jsx("div",{style:{textAlign:"center",padding:"1rem",borderTop:"1px solid #e5e7eb"},children:s.jsx("p",{style:{color:"#9ca3af",fontSize:"0.75rem"},children:"MAX Van Support"})})]})})},Q2=({tools:e,parts:t,showStepHeaders:n})=>{const i=e.filter(g=>g.is_required),l=e.filter(g=>!g.is_required),c=t.filter(g=>g.is_required),d=t.filter(g=>!g.is_required),p=e.length>0,m=t.length>0;return s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[p&&s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"0.75rem",paddingBottom:"0.5rem",borderBottom:"1px solid #e5e7eb"},children:[s.jsx(vi,{style:{width:"18px",height:"18px",color:"#1e3a5f"}}),s.jsx("h3",{style:{color:"#111827",fontSize:"1rem",fontWeight:"600",margin:0},children:"Tools"}),s.jsx(tt,{color:"blue",children:e.length})]}),i.length>0&&s.jsxs("div",{style:{marginBottom:l.length>0?"1rem":0},children:[l.length>0&&s.jsx("p",{style:{color:"#dc2626",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Required"}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:i.map(g=>s.jsx(Z2,{tool:g},g.id))})]}),l.length>0&&s.jsxs("div",{children:[s.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Optional"}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:l.map(g=>s.jsx(Z2,{tool:g},g.id))})]})]}),m&&s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"0.75rem",paddingBottom:"0.5rem",borderBottom:"1px solid #e5e7eb"},children:[s.jsx(wx,{style:{width:"18px",height:"18px",color:"#10b981"}}),s.jsx("h3",{style:{color:"#111827",fontSize:"1rem",fontWeight:"600",margin:0},children:"Replacement Parts"}),s.jsx(tt,{color:"green",children:t.length})]}),c.length>0&&s.jsxs("div",{style:{marginBottom:d.length>0?"1rem":0},children:[d.length>0&&s.jsx("p",{style:{color:"#dc2626",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Required"}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:c.map(g=>s.jsx(J2,{part:g},g.id))})]}),d.length>0&&s.jsxs("div",{children:[s.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Optional"}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:d.map(g=>s.jsx(J2,{part:g},g.id))})]})]})]})},Z2=({tool:e})=>s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[s.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:e.is_required?"#fef2f2":"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.is_required?s.jsx(Kt,{size:14,style:{color:"#dc2626"}}):s.jsx(tO,{size:14,style:{color:"#9ca3af"}})}),s.jsxs("div",{style:{flex:1,minWidth:0},children:[s.jsx("p",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"500",margin:0,marginBottom:e.tool_description?"4px":0},children:e.tool_name}),e.tool_description&&s.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",margin:0,lineHeight:"1.4"},children:e.tool_description})]}),e.tool_link&&s.jsxs("a",{href:mO(e.tool_link),target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 10px",backgroundColor:"#1e3a5f",color:"white",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"500",textDecoration:"none",flexShrink:0},children:["View",s.jsx(Ri,{size:12})]})]}),J2=({part:e})=>{const t=n=>n?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n):null;return s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[s.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:e.is_required?"#fef2f2":"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.is_required?s.jsx(Kt,{size:14,style:{color:"#dc2626"}}):s.jsx(tO,{size:14,style:{color:"#9ca3af"}})}),s.jsxs("div",{style:{flex:1,minWidth:0},children:[s.jsx("p",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"500",margin:0,marginBottom:"4px"},children:e.part_name}),s.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",alignItems:"center"},children:[e.part_number&&s.jsxs("span",{style:{color:"#6b7280",fontSize:"0.75rem",backgroundColor:"#e5e7eb",padding:"2px 6px",borderRadius:"4px"},children:["#",e.part_number]}),e.estimated_price&&s.jsxs("span",{style:{color:"#059669",fontSize:"0.75rem",fontWeight:"500"},children:["~",t(e.estimated_price)]})]}),e.part_description&&s.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",margin:0,marginTop:"4px",lineHeight:"1.4"},children:e.part_description})]}),e.part_link&&s.jsxs("a",{href:mO(e.part_link),target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 10px",backgroundColor:"#10b981",color:"white",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"500",textDecoration:"none",flexShrink:0},children:["Buy",s.jsx(cO,{size:12})]})]})},by="",aG=3e4,Sy={active:5,waiting:30},sG=[{value:"recent",label:"Most Recent Activity"},{value:"oldest",label:"Oldest First"},{value:"longest_wait",label:"Longest Wait"},{value:"step",label:"By Step Number"},{value:"van",label:"By Van Number"}],lG=()=>{ii();const{showToast:e}=tu(),{user:t,logout:n,hasRole:i,isSiteAdmin:l}=xn(),[c,d]=y.useState([]),[p,m]=y.useState(!0),[g,h]=y.useState(!1),[x,S]=y.useState(!0),[j,C]=y.useState(new Set),[w,k]=y.useState(null),[z,E]=y.useState(null),[A,D]=y.useState("all"),[T,R]=y.useState("recent"),[M,F]=y.useState(new Set),[U,le]=y.useState({}),[Z,ie]=y.useState(new Set),ge=y.useCallback(async(Q=!1)=>{try{Q?h(!0):m(!0);const me=await fetch(`${by}/api/sequences/active`,{credentials:"include"});if(!me.ok)throw new Error("Failed to fetch active sequences");const ne=await me.json();d(ne||[])}catch(me){console.error("Error fetching active sequences:",me),e("Failed to load active sequences","error")}finally{m(!1),h(!1)}},[e]);y.useEffect(()=>{ge()},[ge]),y.useEffect(()=>{if(!x)return;const Q=setInterval(()=>{ge(!0)},aG);return()=>clearInterval(Q)},[ge,x]);const fe=y.useMemo(()=>{const Q=new Set;return c.forEach(me=>{me.sequence_name?Q.add(me.sequence_name):me.sequence_key&&Q.add(me.sequence_key)}),Array.from(Q).sort()},[c]),Ee=y.useMemo(()=>{const Q=c.length,me=c.filter(Te=>(Te.minutes_since_last_interaction||0)>Sy.waiting).length,ne=Q>0?Math.round(c.reduce((Te,V)=>Te+(V.minutes_since_last_interaction||0),0)/Q):0;return{total:Q,needsAttention:me,avgTime:ne}},[c]),W=y.useMemo(()=>{let Q=[...c];switch(A!=="all"&&(Q=Q.filter(me=>me.sequence_name===A||me.sequence_key===A)),T){case"recent":Q.sort((me,ne)=>new Date(ne.last_interaction||0)-new Date(me.last_interaction||0));break;case"oldest":Q.sort((me,ne)=>new Date(me.last_interaction||0)-new Date(ne.last_interaction||0));break;case"longest_wait":Q.sort((me,ne)=>(ne.minutes_since_last_interaction||0)-(me.minutes_since_last_interaction||0));break;case"step":Q.sort((me,ne)=>(ne.current_step||0)-(me.current_step||0));break;case"van":Q.sort((me,ne)=>{const Te=me.van_number||"",V=ne.van_number||"";return Te.toString().localeCompare(V.toString(),void 0,{numeric:!0})});break}return Q},[c,A,T]),J=Q=>Q<Sy.active?{label:"Active",color:"green",dotColor:r.colors.accent.success}:Q<Sy.waiting?{label:"Waiting",color:"yellow",dotColor:r.colors.accent.warning}:{label:"Needs Attention",color:"red",dotColor:r.colors.accent.danger},ue=Q=>{if(!Q)return"N/A";const me=new Date(Q),Te=new Date-me,V=Math.floor(Te/6e4),te=Math.floor(V/60),Pe=Math.floor(te/24);return V<1?"Just now":V<60?`${V}m ago`:te<24?`${te}h ${V%60}m ago`:`${Pe}d ${te%24}h ago`},_e=Q=>{C(me=>{const ne=new Set(me);return ne.has(Q)?ne.delete(Q):ne.add(Q),ne})},Ae=async Q=>{if(!U[Q]){ie(me=>new Set(me).add(Q));try{const me=await fetch(`${by}/api/sequences/${Q}/messages`,{credentials:"include"});if(!me.ok)throw new Error("Failed to fetch messages");const ne=await me.json();le(Te=>({...Te,[Q]:ne||[]}))}catch(me){console.error("Error fetching messages:",me),e("Failed to load messages","error")}finally{ie(me=>{const ne=new Set(me);return ne.delete(Q),ne})}}},N=(Q,me)=>{me.stopPropagation(),F(ne=>{const Te=new Set(ne);return Te.has(Q)?Te.delete(Q):(Te.add(Q),U[Q]||Ae(Q)),Te})},q=(Q,me)=>{me.stopPropagation();const ne=Q.replace(/\D/g,"");navigator.clipboard.writeText(ne).then(()=>{e("Phone number copied!","success")}).catch(()=>{e("Failed to copy phone number","error")})},oe=async(Q,me=!1)=>{k(Q.id),E(null);try{const ne=await fetch(`${by}/api/sequences/${Q.id}/close`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"closed",createTicket:me,closedBy:t?.email||"tech"})});if(!ne.ok)throw new Error("Failed to close sequence");const Te=await ne.json();Te.success?(me&&Te.ticketNumber?e(`Sequence closed. Ticket #${Te.ticketNumber} created.`,"success"):e("Sequence closed successfully","success"),d(V=>V.filter(te=>te.id!==Q.id))):e(Te.message||"Failed to close sequence","error")}catch(ne){console.error("Error closing sequence:",ne),e("Failed to close sequence","error")}finally{k(null)}},be=(Q,me)=>{E({sequence:Q,createTicket:me,title:me?"Close & Create Ticket":"Close Sequence",message:me?`Close this sequence and create a support ticket for ${Q.phone_number}?`:`Close this sequence for ${Q.phone_number}? This cannot be undone.`})},Se=Q=>{if(!Q)return"Unknown";const me=Q.replace(/\D/g,"");return me.length===10?`(${me.slice(0,3)}) ${me.slice(3,6)}-${me.slice(6)}`:me.length===11&&me.startsWith("1")?`+1 (${me.slice(1,4)}) ${me.slice(4,7)}-${me.slice(7)}`:Q},Ce=Q=>Q?new Date(Q).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return p?s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:t,onLogout:n,hasRole:i,isSiteAdmin:l}),s.jsx("div",{style:{flex:1,marginLeft:"260px",padding:r.spacing.xl},children:s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:s.jsx(Dn,{size:48,style:{color:r.colors.accent.primary,animation:"spin 1s linear infinite"}})})})]}):s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:t,onLogout:n,hasRole:i,isSiteAdmin:l}),s.jsxs("div",{style:{flex:1,marginLeft:"260px",padding:r.spacing.xl},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx(jx,{size:28,style:{color:r.colors.accent.primary}}),s.jsx("h1",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Active Sequences"}),s.jsx(tt,{color:"blue",children:c.length})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsxs("button",{onClick:()=>S(!x),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:x?r.colors.accent.primary:"transparent",color:x?"#fff":r.colors.text.secondary,border:`1px solid ${x?r.colors.accent.primary:r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},title:x?"Auto-refresh enabled (30s)":"Auto-refresh disabled",children:[x?s.jsx(Lf,{size:16}):s.jsx(XK,{size:16}),"Auto-refresh"]}),s.jsxs("button",{onClick:()=>ge(!0),disabled:g,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:g?"not-allowed":"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,opacity:g?.6:1,transition:"all 0.2s"},children:[s.jsx(Nb,{size:16,style:{animation:g?"spin 1s linear infinite":"none"}}),"Refresh"]})]})]}),s.jsx(rt,{style:{marginBottom:r.spacing.lg},children:s.jsxs("div",{style:{padding:r.spacing.md,display:"flex",alignItems:"center",justifyContent:"center",gap:r.spacing.xl},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(jx,{size:18,style:{color:r.colors.accent.primary}}),s.jsxs("span",{style:{color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:[Ee.total," active"]})]}),s.jsx("div",{style:{width:"1px",height:"20px",backgroundColor:r.colors.border.light}}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(mn,{size:18,style:{color:Ee.needsAttention>0?r.colors.accent.danger:r.colors.text.tertiary}}),s.jsxs("span",{style:{color:Ee.needsAttention>0?r.colors.accent.danger:r.colors.text.secondary,fontWeight:Ee.needsAttention>0?r.fontWeight.semibold:r.fontWeight.normal},children:[Ee.needsAttention," waiting >30min"]})]}),s.jsx("div",{style:{width:"1px",height:"20px",backgroundColor:r.colors.border.light}}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(Mn,{size:18,style:{color:r.colors.text.tertiary}}),s.jsxs("span",{style:{color:r.colors.text.secondary},children:["Avg time: ",Ee.avgTime," min"]})]})]})}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.lg,alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(iO,{size:16,style:{color:r.colors.text.tertiary}}),s.jsxs("select",{value:A,onChange:Q=>D(Q.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",minWidth:"180px"},children:[s.jsx("option",{value:"all",children:"All Sequences"}),fe.map(Q=>s.jsx("option",{value:Q,children:Q},Q))]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(QF,{size:16,style:{color:r.colors.text.tertiary}}),s.jsx("select",{value:T,onChange:Q=>R(Q.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",minWidth:"180px"},children:sG.map(Q=>s.jsx("option",{value:Q.value,children:Q.label},Q.value))})]}),A!=="all"&&s.jsxs("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:["Showing ",W.length," of ",c.length]})]}),W.length===0&&s.jsx(rt,{children:s.jsxs("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:[s.jsx(Kt,{size:48,style:{color:r.colors.accent.success,marginBottom:r.spacing.md}}),s.jsx("h3",{style:{margin:0,marginBottom:r.spacing.sm,color:r.colors.text.primary,fontSize:r.fontSize.lg},children:A!=="all"?"No Matching Sequences":"No Active Sequences"}),s.jsx("p",{style:{margin:0,fontSize:r.fontSize.sm},children:A!=="all"?"No sequences match the selected filter.":"There are no customers currently going through troubleshooting sequences."})]})}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:W.map(Q=>{const me=J(Q.minutes_since_last_interaction||0),ne=j.has(Q.id),Te=w===Q.id,V=M.has(Q.id),te=Z.has(Q.id),Pe=U[Q.id]||[];return s.jsx(rt,{style:{opacity:Te?.6:1},children:s.jsxs("div",{style:{padding:r.spacing.lg},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg,cursor:"pointer"},onClick:()=>_e(Q.id),children:[s.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:me.dotColor,flexShrink:0}}),s.jsxs("div",{style:{flex:1,minWidth:0},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:"4px"},children:[s.jsx(cl,{size:14,style:{color:r.colors.text.tertiary}}),s.jsxs("button",{onClick:Me=>q(Q.phone_number,Me),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,background:"none",border:"none",padding:0,cursor:"pointer",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.base},title:"Click to copy phone number",children:[Se(Q.phone_number),s.jsx(rO,{size:12,style:{color:r.colors.text.tertiary}})]}),Q.owner_name&&s.jsxs("span",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["(",Q.owner_name,")"]})]}),Q.van_number&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(ia,{size:14,style:{color:r.colors.text.tertiary}}),s.jsxs("span",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["Van #",Q.van_number,Q.van_make&&` - ${Q.van_make}`,Q.van_version&&` ${Q.van_version}`,Q.van_year&&` ${Q.van_year}`]})]})]}),s.jsxs("div",{style:{textAlign:"center",minWidth:"150px"},children:[s.jsx("div",{style:{color:r.colors.text.primary,fontWeight:r.fontWeight.medium,fontSize:r.fontSize.sm},children:Q.sequence_name||Q.sequence_key}),s.jsxs("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs},children:["Step ",Q.current_step]})]}),s.jsxs("div",{style:{textAlign:"right",minWidth:"120px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,justifyContent:"flex-end"},children:[s.jsx(Mn,{size:14,style:{color:r.colors.text.tertiary}}),s.jsx("span",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:ue(Q.last_interaction)})]}),s.jsx(tt,{color:me.color,size:"sm",style:{marginTop:"4px"},children:me.label})]}),s.jsx("div",{style:{flexShrink:0},children:ne?s.jsx(Ec,{size:20,style:{color:r.colors.text.tertiary}}):s.jsx(ei,{size:20,style:{color:r.colors.text.tertiary}})})]}),ne&&s.jsxs("div",{style:{marginTop:r.spacing.lg,paddingTop:r.spacing.lg,borderTop:`1px solid ${r.colors.border.light}`},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:r.spacing.md,marginBottom:r.spacing.lg},children:[Q.sequence_description&&s.jsxs("div",{children:[s.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Description"}),s.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:Q.sequence_description})]}),s.jsxs("div",{children:[s.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Started"}),s.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:Q.started_at?new Date(Q.started_at).toLocaleString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Last Interaction"}),s.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:Q.last_interaction?new Date(Q.last_interaction).toLocaleString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Handoff Count"}),s.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:Q.handoff_count||0})]}),Q.owner_phone&&s.jsxs("div",{children:[s.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Owner Phone"}),s.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:Se(Q.owner_phone)})]})]}),s.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[s.jsxs("button",{onClick:Me=>N(Q.id,Me),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:V?r.colors.background.tertiary:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},children:[s.jsx(Oi,{size:16}),V?"Hide Messages":"View Messages",V?s.jsx(Ec,{size:14}):s.jsx(ei,{size:14})]}),V&&s.jsx("div",{style:{marginTop:r.spacing.md,padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,maxHeight:"400px",overflowY:"auto"},children:te?s.jsx("div",{style:{display:"flex",justifyContent:"center",padding:r.spacing.lg},children:s.jsx(Dn,{size:24,style:{color:r.colors.accent.primary,animation:"spin 1s linear infinite"}})}):Pe.length===0?s.jsx("div",{style:{textAlign:"center",color:r.colors.text.tertiary,padding:r.spacing.lg},children:"No messages found"}):s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.sm},children:Pe.map(Me=>{const he=Me.direction==="outbound";return s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:he?"flex-start":"flex-end"},children:[s.jsx("div",{style:{maxWidth:"80%",padding:r.spacing.sm,borderRadius:r.radius.md,backgroundColor:he?r.colors.background.secondary:r.colors.accent.primary,color:he?r.colors.text.primary:"#fff",fontSize:r.fontSize.sm,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:Me.message_body}),s.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:"2px"},children:[Ce(Me.created_at),he?" (System)":" (Customer)"]})]},Me.id)})})})]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,justifyContent:"flex-end"},children:[s.jsxs("button",{onClick:Me=>{Me.stopPropagation(),be(Q,!1)},disabled:Te,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:Te?"not-allowed":"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},children:[s.jsx(Nt,{size:16}),"Close Sequence"]}),s.jsxs("button",{onClick:Me=>{Me.stopPropagation(),be(Q,!0)},disabled:Te,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.primary,color:"#fff",border:"none",borderRadius:r.radius.md,cursor:Te?"not-allowed":"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},children:[Te?s.jsx(Dn,{size:16,style:{animation:"spin 1s linear infinite"}}):s.jsx(uo,{size:16}),"Close & Create Ticket"]})]})]})]})},Q.id)})}),z&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsx(rt,{style:{width:"400px",maxWidth:"90vw"},children:s.jsxs("div",{style:{padding:r.spacing.xl},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.lg},children:[s.jsx(mn,{size:24,style:{color:r.colors.accent.warning}}),s.jsx("h3",{style:{margin:0,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:z.title})]}),s.jsx("p",{style:{margin:0,marginBottom:r.spacing.xl,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:z.message}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>E(null),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"Cancel"}),s.jsx("button",{onClick:()=>oe(z.sequence,z.createTicket),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:z.createTicket?r.colors.accent.primary:r.colors.accent.danger,color:"#fff",border:"none",borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:z.createTicket?"Create Ticket":"Close"})]})]})})})]})]})},Yd=e=>{if(!e)return{valid:!1,error:"Phone number is required"};const t=e.replace(/\D/g,"");return t.length===10||t.length===11&&t[0]==="1"?{valid:!0,formatted:hO(t)}:{valid:!1,error:"Phone number must be 10 digits"}},hO=e=>{const t=e.replace(/\D/g,"");if(t.length===11&&t[0]==="1"){const n=t.slice(1,4),i=t.slice(4,7),l=t.slice(7,11);return`+1 (${n}) ${i}-${l}`}if(t.length===10){const n=t.slice(0,3),i=t.slice(3,6),l=t.slice(6,10);return`+1 (${n}) ${i}-${l}`}return e},yO=e=>e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?{valid:!0}:{valid:!1,error:"Invalid email format"}:{valid:!1,error:"Email is required"},cG=e=>{if(!e)return{valid:!1,error:"Year is required"};const t=new Date().getFullYear(),n=parseInt(e,10);return isNaN(n)?{valid:!1,error:"Year must be a number"}:n<2e3?{valid:!1,error:"Year must be 2000 or later"}:n>t+1?{valid:!1,error:`Year cannot be later than ${t+1}`}:{valid:!0}},uG=e=>!e||e.trim()===""?{valid:!1,error:"Van number is required"}:{valid:!0},dG=e=>{if(!e||e.trim()==="")return{valid:!0};const t=e.toUpperCase();return t.length!==17?{valid:!1,error:"VIN must be exactly 17 characters"}:/[IOQ]/.test(t)?{valid:!1,error:"VIN cannot contain letters I, O, or Q"}:{valid:!0}},xO=e=>!e||e.trim()===""?{valid:!1,error:"Name is required"}:e.trim().length<2?{valid:!1,error:"Name must be at least 2 characters"}:{valid:!0},fG=e=>{const t=["Ford","Mercedes"];return e?t.includes(e)?{valid:!0}:{valid:!1,error:"Make must be Ford or Mercedes"}:{valid:!1,error:"Make is required"}},pG=e=>{const t=["3000","4000"];return e?t.includes(e)?{valid:!0}:{valid:!1,error:"Version must be 3000 or 4000"}:{valid:!1,error:"Version is required"}};function gG(){const{user:e,logout:t,hasRole:n,isSiteAdmin:i}=xn(),[l,c]=qf(),[d,p]=y.useState([]),[m,g]=y.useState([]),[h,x]=y.useState(!0),[S,j]=y.useState(""),[C,w]=y.useState(""),[k,z]=y.useState(""),[E,A]=y.useState(""),[D,T]=y.useState(""),[R,M]=y.useState(""),[F,U]=y.useState(""),[le,Z]=y.useState(parseInt(l.get("page"))||1),[ie,ge]=y.useState(parseInt(l.get("limit"))||25),[fe,Ee]=y.useState(null),[W,J]=y.useState(!1),[ue,_e]=y.useState(!1),[Ae,N]=y.useState(!1),[q,oe]=y.useState(null),[be,Se]=y.useState(null),[Ce,Q]=y.useState({van_number:"",make:"",version:"",year:new Date().getFullYear(),vin:"",owner_id:""}),[me,ne]=y.useState({});y.useEffect(()=>{const P=setTimeout(()=>{if(A(k),k!==E){Z(1);const ke=new URLSearchParams(window.location.search);ke.set("page","1"),c(ke)}},500);return()=>clearTimeout(P)},[k,E,c]);const Te=y.useCallback(async()=>{x(!0),j("");try{const P=new URLSearchParams({page:le.toString(),limit:ie.toString()});E&&E.trim()!==""&&P.append("search",E.trim());const ke=await fetch(`/api/vans?${P.toString()}`,{credentials:"include"});if(!ke.ok)throw new Error("Failed to fetch vans");const Ke=await ke.json();p(Ke.vans||[]),Ee(Ke.pagination)}catch(P){j(P.message)}finally{x(!1)}},[le,ie,E]),V=y.useCallback(async()=>{try{const P=await fetch("/api/owners?limit=100",{credentials:"include"});if(!P.ok)throw new Error("Failed to fetch owners");const ke=await P.json();g(ke.owners||ke)}catch{}},[]);y.useEffect(()=>{Te(),V()},[Te,V]);const te=y.useCallback(()=>{Q({van_number:"",make:"",version:"",year:new Date().getFullYear(),vin:"",owner_id:""}),ne({})},[]),Pe=y.useCallback(()=>{const P={},ke=uG(Ce.van_number);ke.valid||(P.van_number=ke.error);const Ke=fG(Ce.make);Ke.valid||(P.make=Ke.error);const Re=pG(Ce.version);Re.valid||(P.version=Re.error);const Ze=cG(Ce.year);if(Ze.valid||(P.year=Ze.error),Ce.vin){const We=dG(Ce.vin);We.valid||(P.vin=We.error)}return Ce.owner_id||(P.owner_id="Owner is required"),ne(P),Object.keys(P).length===0},[Ce]),Me=y.useCallback((P,ke)=>{Q(Ke=>({...Ke,[P]:ke}))},[]),he=y.useCallback(P=>{w(P),setTimeout(()=>w(""),3e3)},[]),B=y.useCallback(async()=>{if(!Pe()){j("Please fix validation errors");return}try{const P=await fetch("/api/vans",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Ce)}),ke=await P.json();if(!P.ok)throw new Error(ke.error||"Failed to create van");await Te(),J(!1),te(),he("Van created successfully")}catch(P){j(P.message)}},[Ce,Pe,Te,te,he]),X=y.useCallback(async()=>{if(!Pe()){j("Please fix validation errors");return}try{const P=await fetch(`/api/vans/${q.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Ce)}),ke=await P.json();if(!P.ok)throw new Error(ke.error||"Failed to update van");await Te(),_e(!1),oe(null),te(),he("Van updated successfully")}catch(P){j(P.message)}},[q,Ce,Pe,Te,te,he]),K=y.useCallback(async()=>{try{const P=await fetch(`/api/vans/${be.id}/check-dependencies`,{credentials:"include"});if(!P.ok)throw new Error("Failed to check van dependencies");const ke=await P.json();if(ke.hasDependencies){const Re=`Cannot delete van ${be.van_number}. ${ke.message}. You cannot delete vans with historical data to maintain analytics integrity.`;j(Re),N(!1),Se(null);return}const Ke=await fetch(`/api/vans/${be.id}`,{method:"DELETE",credentials:"include"});if(!Ke.ok){const Re=await Ke.json();throw new Error(Re.error||"Failed to delete van")}await Te(),N(!1),Se(null),he(`Van ${be.van_number} deleted successfully!`)}catch(P){j(P.message)}},[be,Te,he]),je=y.useCallback(P=>{oe(P),Q({van_number:P.van_number||"",make:P.make||"",version:P.version||"",year:P.year||new Date().getFullYear(),vin:P.vin||"",owner_id:P.owner_id||""}),ne({}),_e(!0)},[]),L=y.useCallback(P=>{Se(P),N(!0)},[]),xe=y.useCallback(P=>{Z(P);const ke=new URLSearchParams(l);ke.set("page",P.toString()),c(ke),window.scrollTo({top:0,behavior:"smooth"})},[l,c]),Be=y.useCallback(P=>{ge(P),Z(1);const ke=new URLSearchParams(l);ke.set("limit",P.toString()),ke.set("page","1"),c(ke)},[l,c]),nt=y.useMemo(()=>{let P=[...d];return D&&(P=P.filter(ke=>ke.make===D)),R&&(P=P.filter(ke=>ke.year>=parseInt(R))),F&&(P=P.filter(ke=>ke.year<=parseInt(F))),P},[d,D,R,F]),Je=y.useMemo(()=>s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Van Number ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"text",value:Ce.van_number,onChange:P=>Me("van_number",P.target.value.toUpperCase()),placeholder:"e.g., VAN001",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${me.van_number?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,textTransform:"uppercase"}}),me.van_number&&s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:me.van_number})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Make ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsxs("select",{value:Ce.make,onChange:P=>Me("make",P.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${me.make?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[s.jsx("option",{value:"",children:"Select make..."}),s.jsx("option",{value:"Ford",children:"Ford"}),s.jsx("option",{value:"Mercedes",children:"Mercedes"})]}),me.make&&s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:me.make})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Version ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsxs("select",{value:Ce.version,onChange:P=>Me("version",P.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${me.version?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[s.jsx("option",{value:"",children:"Select version..."}),s.jsx("option",{value:"3000",children:"3000"}),s.jsx("option",{value:"4000",children:"4000"})]}),me.version&&s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:me.version})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Year ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"number",value:Ce.year,onChange:P=>Me("year",P.target.value),min:"2000",max:new Date().getFullYear()+1,style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${me.year?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),me.year&&s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:me.year})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"VIN (Optional)"}),s.jsx("input",{type:"text",value:Ce.vin,onChange:P=>Me("vin",P.target.value.toUpperCase()),placeholder:"17-character VIN",maxLength:17,style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${me.vin?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontFamily:"monospace",textTransform:"uppercase"}}),me.vin&&s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:me.vin})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Owner ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsxs("select",{value:Ce.owner_id,onChange:P=>Me("owner_id",P.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${me.owner_id?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[s.jsx("option",{value:"",children:"Select owner..."}),m.map(P=>s.jsxs("option",{value:P.id,children:[P.name," - ",P.phone]},P.id))]}),me.owner_id&&s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:me.owner_id})]})]}),[Ce,me,m,Me]);return h?s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:e,onLogout:t,hasRole:n,isSiteAdmin:i}),s.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:s.jsx("div",{style:{textAlign:"center",padding:r.spacing["2xl"]},children:s.jsx("p",{style:{color:r.colors.text.secondary},children:"Loading vans..."})})})]}):s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:e,onLogout:t,hasRole:n,isSiteAdmin:i}),s.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[C&&s.jsx("div",{style:{backgroundColor:r.colors.status.success+"20",color:r.colors.status.success,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.status.success}`},children:C}),S&&s.jsx("div",{style:{backgroundColor:r.colors.accent.danger+"20",color:r.colors.accent.danger,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.accent.danger}`},children:S}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:r.spacing.xl},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[s.jsx(ia,{size:32,color:r.colors.accent.primary,strokeWidth:2}),s.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Vans"}),fe&&fe.totalCount>0&&s.jsx("span",{style:{backgroundColor:r.colors.accent.primary,color:"#ffffff",padding:`${r.spacing.xs} ${r.spacing.sm}`,borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:fe.totalCount})]}),s.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Manage mobile grooming vans and their owners"})]}),(i()||n("admin")||n("manager"))&&s.jsxs("button",{onClick:()=>{te(),J(!0)},style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:P=>P.currentTarget.style.backgroundColor=r.colors.accent.secondary,onMouseLeave:P=>P.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[s.jsx(rr,{size:20}),"Add New Van"]})]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.lg,flexWrap:"wrap"},children:[s.jsx("div",{style:{flex:1,minWidth:"300px"},children:s.jsxs("div",{style:{position:"relative"},children:[s.jsx(yi,{size:20,style:{position:"absolute",left:r.spacing.sm,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary}}),s.jsx("input",{type:"text",placeholder:"Search by van number, make, or owner...",value:k,onChange:P=>z(P.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.sm} ${r.spacing.sm} 40px`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]})}),s.jsxs("select",{value:D,onChange:P=>T(P.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[s.jsx("option",{value:"",children:"All Makes"}),s.jsx("option",{value:"Ford",children:"Ford"}),s.jsx("option",{value:"Mercedes",children:"Mercedes"})]}),s.jsx("input",{type:"number",placeholder:"Year from",value:R,onChange:P=>M(P.target.value),style:{padding:`${r.spacing.sm}`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,width:"120px"}}),s.jsx("input",{type:"number",placeholder:"Year to",value:F,onChange:P=>U(P.target.value),style:{padding:`${r.spacing.sm}`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,width:"120px"}})]}),s.jsx(rt,{children:nt.length===0&&!h?s.jsxs("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:[s.jsx(ia,{size:48,style:{marginBottom:r.spacing.md,opacity:.3}}),s.jsx("p",{style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium},children:"No vans found"}),s.jsx("p",{style:{fontSize:r.fontSize.sm},children:k||D||R||F?"Try adjusting your filters":"Add your first van to get started"})]}):s.jsxs("div",{style:{overflowX:"auto"},children:[s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:`2px solid ${r.colors.border.medium}`},children:[s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Van Number"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Make"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Version"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Year"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Owner"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"right",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Actions"})]})}),s.jsx("tbody",{children:nt.map(P=>s.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.2s"},onMouseEnter:ke=>ke.currentTarget.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:ke=>ke.currentTarget.style.backgroundColor="transparent",children:[s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("div",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:P.van_number})}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.primary+"20",color:r.colors.accent.primary,borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:P.make})}),s.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:P.version||"-"}),s.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:P.year}),s.jsx("td",{style:{padding:r.spacing.md},children:P.owner?s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,fontWeight:r.fontWeight.medium},children:P.owner.name}),s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:P.owner.phone})]}):s.jsx("span",{style:{color:r.colors.text.tertiary},children:"-"})}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"right"},children:(i()||n("admin")||n("manager"))&&s.jsxs("div",{style:{display:"flex",gap:r.spacing.xs,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>je(P),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Edit van",children:s.jsx(eu,{size:16})}),s.jsx("button",{onClick:()=>L(P),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete van",children:s.jsx(Kr,{size:16})})]})})]},P.id))})]}),fe&&fe.totalCount>0&&s.jsx(hc,{currentPage:fe.page,totalPages:fe.totalPages,pageSize:fe.limit,totalCount:fe.totalCount,onPageChange:xe,onPageSizeChange:Be,loading:h})]})}),W&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>J(!1),children:s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:P=>P.stopPropagation(),children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Add New Van"}),s.jsx("button",{onClick:()=>J(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:s.jsx(Nt,{size:24})})]}),s.jsxs("div",{style:{padding:r.spacing.xl},children:[Je,s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[s.jsx("button",{onClick:B,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Create Van"}),s.jsx("button",{onClick:()=>J(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),ue&&q&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>_e(!1),children:s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:P=>P.stopPropagation(),children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Edit Van"}),s.jsx("button",{onClick:()=>_e(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:s.jsx(Nt,{size:24})})]}),s.jsxs("div",{style:{padding:r.spacing.xl},children:[Je,s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[s.jsx("button",{onClick:X,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Save Changes"}),s.jsx("button",{onClick:()=>_e(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),Ae&&be&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>N(!1),children:s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"500px",padding:r.spacing.xl},onClick:P=>P.stopPropagation(),children:[s.jsx("h2",{style:{margin:0,marginBottom:r.spacing.md,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Delete Van?"}),s.jsxs("p",{style:{margin:0,marginBottom:r.spacing.lg,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["Are you sure you want to delete van ",s.jsx("strong",{children:be.van_number}),"?"]}),s.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,marginBottom:r.spacing.lg},children:[s.jsxs("p",{style:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[s.jsx("strong",{children:"Make:"})," ",be.make," ",be.version]}),s.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[s.jsx("strong",{children:"Year:"})," ",be.year]}),s.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[s.jsx("strong",{children:"Owner:"})," ",be.owner?.name]})]}),s.jsx("p",{style:{margin:0,marginBottom:r.spacing.xl,color:r.colors.accent.danger,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"This action cannot be undone."}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[s.jsx("button",{onClick:K,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Delete Van"}),s.jsx("button",{onClick:()=>N(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})})]})]})}function mG(){const{user:e,logout:t,hasRole:n,isSiteAdmin:i}=xn(),[l,c]=qf(),[d,p]=y.useState([]),[m,g]=y.useState(!0),[h,x]=y.useState(""),[S,j]=y.useState(""),[C,w]=y.useState(""),[k,z]=y.useState(""),[E,A]=y.useState(parseInt(l.get("page"))||1),[D,T]=y.useState(parseInt(l.get("limit"))||25),[R,M]=y.useState(null),[F,U]=y.useState(!1),[le,Z]=y.useState(!1),[ie,ge]=y.useState(!1),[fe,Ee]=y.useState(null),[W,J]=y.useState(null),[ue,_e]=y.useState({name:"",company:"",phone:"",email:""}),[Ae,N]=y.useState({});y.useEffect(()=>{const he=setTimeout(()=>{if(z(C),C!==k){A(1);const B=new URLSearchParams(window.location.search);B.set("page","1"),c(B)}},500);return()=>clearTimeout(he)},[C,k,c]);const q=y.useCallback(async()=>{g(!0),x("");try{const he=new URLSearchParams({page:E.toString(),limit:D.toString()});k&&k.trim()!==""&&he.append("search",k.trim());const B=await fetch(`/api/owners?${he.toString()}`,{credentials:"include"});if(!B.ok)throw new Error("Failed to fetch owners");const X=await B.json();p(X.owners||[]),M(X.pagination)}catch(he){x(he.message)}finally{g(!1)}},[E,D,k]);y.useEffect(()=>{q()},[q]);const oe=y.useCallback(()=>{_e({name:"",company:"",phone:"",email:""}),N({})},[]),be=y.useCallback(()=>{const he={},B=xO(ue.name);B.valid||(he.name=B.error);const X=Yd(ue.phone);X.valid||(he.phone=X.error);const K=yO(ue.email);return K.valid||(he.email=K.error),N(he),Object.keys(he).length===0},[ue]),Se=y.useCallback((he,B)=>{_e(X=>({...X,[he]:B}))},[]),Ce=y.useCallback(he=>{j(he),setTimeout(()=>j(""),3e3)},[]),Q=y.useCallback(async()=>{if(!be()){x("Please fix validation errors");return}try{const he=Yd(ue.phone),B={...ue,phone:he.formatted||ue.phone},X=await fetch("/api/owners",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(B)}),K=await X.json();if(!X.ok)throw new Error(K.error||"Failed to create owner");await q(),U(!1),oe(),Ce("Owner created successfully")}catch(he){x(he.message)}},[ue,be,oe,Ce,q]),me=y.useCallback(async()=>{if(!be()){x("Please fix validation errors");return}try{const he=Yd(ue.phone),B={...ue,phone:he.formatted||ue.phone},X=await fetch(`/api/owners/${fe.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(B)}),K=await X.json();if(!X.ok)throw new Error(K.error||"Failed to update owner");await q(),Z(!1),Ee(null),oe(),Ce("Owner updated successfully")}catch(he){x(he.message)}},[fe,ue,be,oe,Ce,q]),ne=y.useCallback(async()=>{try{const he=await fetch(`/api/owners/${W.id}/check-dependencies`,{credentials:"include"});if(!he.ok)throw new Error("Failed to check owner dependencies");const B=await he.json();if(B.hasDependencies){const K=`Cannot delete ${W.name}. ${B.message}. You cannot delete owners with historical data to maintain system integrity.`;x(K),ge(!1),J(null);return}const X=await fetch(`/api/owners/${W.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"});if(!X.ok){const K=await X.json();throw new Error(K.error||"Failed to delete owner")}await q(),ge(!1),J(null),Ce(`Owner ${W.name} deleted successfully!`)}catch(he){x(he.message)}},[W,Ce,q]),Te=y.useCallback(he=>{Ee(he),_e({name:he.name||"",company:he.company||"",phone:he.phone||"",email:he.email||""}),N({}),Z(!0)},[]),V=y.useCallback(he=>{J(he),ge(!0)},[]),te=y.useCallback(he=>{A(he);const B=new URLSearchParams(l);B.set("page",he.toString()),c(B),window.scrollTo({top:0,behavior:"smooth"})},[l,c]),Pe=y.useCallback(he=>{T(he),A(1);const B=new URLSearchParams(l);B.set("limit",he.toString()),B.set("page","1"),c(B)},[l,c]),Me=y.useMemo(()=>s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Name ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"text",value:ue.name,onChange:he=>Se("name",he.target.value),placeholder:"Enter owner name",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${Ae.name?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),Ae.name&&s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:Ae.name})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Company"}),s.jsx("input",{type:"text",value:ue.company,onChange:he=>Se("company",he.target.value),placeholder:"Company name (optional)",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Phone ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"tel",value:ue.phone,onChange:he=>Se("phone",he.target.value),placeholder:"(555) 123-4567",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${Ae.phone?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),Ae.phone&&s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:Ae.phone})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Email ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"email",value:ue.email,onChange:he=>Se("email",he.target.value),placeholder:"owner@example.com",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${Ae.email?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),Ae.email&&s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:Ae.email})]})]}),[ue,Ae,Se]);return m?s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:e,onLogout:t,hasRole:n,isSiteAdmin:i}),s.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:s.jsx("div",{style:{textAlign:"center",padding:r.spacing["2xl"]},children:s.jsx("p",{style:{color:r.colors.text.secondary},children:"Loading owners..."})})})]}):s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:e,onLogout:t,hasRole:n,isSiteAdmin:i}),s.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[S&&s.jsx("div",{style:{backgroundColor:r.colors.status.success+"20",color:r.colors.status.success,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.status.success}`},children:S}),h&&s.jsx("div",{style:{backgroundColor:r.colors.accent.danger+"20",color:r.colors.accent.danger,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.accent.danger}`},children:h}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:r.spacing.xl},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[s.jsx(_x,{size:32,color:r.colors.accent.primary,strokeWidth:2}),s.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Owners"}),R&&R.totalCount>0&&s.jsx("span",{style:{padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.primary+"20",color:r.colors.accent.primary,borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold},children:R.totalCount})]}),s.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Manage van owners and their contact information"})]}),(i()||n("admin")||n("manager"))&&s.jsxs("button",{onClick:()=>{oe(),U(!0)},style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:he=>he.currentTarget.style.backgroundColor=r.colors.accent.secondary,onMouseLeave:he=>he.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[s.jsx(rr,{size:20}),"Add New Owner"]})]}),s.jsx("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.lg,flexWrap:"wrap"},children:s.jsx("div",{style:{flex:1,minWidth:"300px"},children:s.jsxs("div",{style:{position:"relative"},children:[s.jsx(yi,{size:20,style:{position:"absolute",left:r.spacing.sm,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary}}),s.jsx("input",{type:"text",placeholder:"Search by name, company, phone, or email...",value:C,onChange:he=>w(he.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.sm} ${r.spacing.sm} 40px`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]})})}),s.jsx(rt,{children:d.length===0&&!m?s.jsxs("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:[s.jsx(_x,{size:48,style:{marginBottom:r.spacing.md,opacity:.3}}),s.jsx("p",{style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium},children:"No owners found"}),s.jsx("p",{style:{fontSize:r.fontSize.sm},children:C?"Try adjusting your search":"Add your first owner to get started"})]}):s.jsxs("div",{style:{overflowX:"auto"},children:[s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:`2px solid ${r.colors.border.medium}`},children:[s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Name"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Company"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Phone"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Email"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Vans"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"right",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Actions"})]})}),s.jsx("tbody",{children:d.map(he=>s.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.2s"},onMouseEnter:B=>B.currentTarget.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:B=>B.currentTarget.style.backgroundColor="transparent",children:[s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("div",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:he.name})}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:he.company||"-"})}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:he.phone})}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:he.email})}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},children:s.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:he.van_count>0?r.colors.accent.primary+"20":r.colors.background.tertiary,color:he.van_count>0?r.colors.accent.primary:r.colors.text.tertiary,borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:he.van_count||0})}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"right"},children:(i()||n("admin")||n("manager"))&&s.jsxs("div",{style:{display:"flex",gap:r.spacing.xs,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>Te(he),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Edit owner",children:s.jsx(eu,{size:16})}),s.jsx("button",{onClick:()=>V(he),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete owner",children:s.jsx(Kr,{size:16})})]})})]},he.id))})]}),R&&R.totalCount>0&&s.jsx(hc,{currentPage:R.page,totalPages:R.totalPages,pageSize:R.limit,totalCount:R.totalCount,onPageChange:te,onPageSizeChange:Pe,loading:m})]})}),F&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>U(!1),children:s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:he=>he.stopPropagation(),children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Add New Owner"}),s.jsx("button",{onClick:()=>U(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:s.jsx(Nt,{size:24})})]}),s.jsxs("div",{style:{padding:r.spacing.xl},children:[Me,s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[s.jsx("button",{onClick:Q,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Create Owner"}),s.jsx("button",{onClick:()=>U(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),le&&fe&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>Z(!1),children:s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:he=>he.stopPropagation(),children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Edit Owner"}),s.jsx("button",{onClick:()=>Z(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:s.jsx(Nt,{size:24})})]}),s.jsxs("div",{style:{padding:r.spacing.xl},children:[Me,fe.van_count>0&&s.jsx("div",{style:{marginTop:r.spacing.lg,padding:r.spacing.md,backgroundColor:r.colors.accent.warning+"10",borderRadius:r.radius.md,border:`1px solid ${r.colors.accent.warning}40`},children:s.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.warning,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(xi,{size:14}),"This owner has ",fe.van_count," van(s). Changes will affect all associated vans."]})}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[s.jsx("button",{onClick:me,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Save Changes"}),s.jsx("button",{onClick:()=>Z(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),ie&&W&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>ge(!1),children:s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"500px",padding:r.spacing.xl},onClick:he=>he.stopPropagation(),children:[s.jsx("h2",{style:{margin:0,marginBottom:r.spacing.md,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Delete Owner?"}),s.jsxs("p",{style:{margin:0,marginBottom:r.spacing.lg,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["Are you sure you want to delete ",s.jsx("strong",{children:W.name}),"?"]}),s.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,marginBottom:r.spacing.lg},children:[s.jsxs("p",{style:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[s.jsx("strong",{children:"Email:"})," ",W.email]}),s.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[s.jsx("strong",{children:"Phone:"})," ",W.phone]}),W.company&&s.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[s.jsx("strong",{children:"Company:"})," ",W.company]})]}),s.jsx("p",{style:{margin:0,marginBottom:r.spacing.xl,color:r.colors.accent.danger,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"This action cannot be undone."}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[s.jsx("button",{onClick:ne,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Delete Owner"}),s.jsx("button",{onClick:()=>ge(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})})]})]})}function hG(){const{user:e,logout:t,hasPermission:n,hasRole:i,isSiteAdmin:l}=xn(),[c,d]=y.useState([]),[p,m]=y.useState([]),[g,h]=y.useState(!0),[x,S]=y.useState(""),[j,C]=y.useState(""),[w,k]=y.useState(""),[z,E]=y.useState(""),[A,D]=y.useState("all"),[T,R]=y.useState(!1),[M,F]=y.useState(!1),[U,le]=y.useState(!1),[Z,ie]=y.useState(!1),[ge,fe]=y.useState(null),[Ee,W]=y.useState(null),[J,ue]=y.useState(null),[_e,Ae]=y.useState(""),[N,q]=y.useState(""),[oe,be]=y.useState({email:"",password:"",full_name:"",phone:"",role_name:""}),[Se,Ce]=y.useState({});y.useEffect(()=>{Q(),me()},[]);const Q=async()=>{h(!0),S("");try{console.log(" Fetching users...");const P=await fetch("/api/users",{credentials:"include"});if(!P.ok)throw new Error("Failed to fetch users");const ke=await P.json();console.log(" Users data:",ke),d(ke)}catch(P){console.error(" Error fetching users:",P),S(P.message)}finally{h(!1)}},me=async()=>{try{console.log(" Fetching roles...");const P=await fetch("/api/roles",{credentials:"include"});if(!P.ok){m([{name:"admin",description:"Full system access"},{name:"manager",description:"Operational access"},{name:"technician",description:"View-only field access"}]);return}const ke=await P.json();console.log(" Roles data:",ke),m(ke)}catch(P){console.error(" Error fetching roles:",P),m([{name:"admin",description:"Full system access"},{name:"manager",description:"Operational access"},{name:"technician",description:"View-only field access"}])}},ne=y.useCallback(()=>{be({email:"",password:"",full_name:"",phone:"",role_name:""}),Ce({})},[]),Te=y.useCallback((P=!1)=>{const ke={},Ke=yO(oe.email);if(Ke.valid||(ke.email=Ke.error),!P&&!oe.password&&(ke.password="Password is required"),!P&&oe.password&&oe.password.length<6&&(ke.password="Password must be at least 6 characters"),oe.full_name){const Re=xO(oe.full_name);Re.valid||(ke.full_name=Re.error)}if(oe.phone){const Re=Yd(oe.phone);Re.valid||(ke.phone=Re.error)}return oe.role_name||(ke.role_name="Role is required"),Ce(ke),Object.keys(ke).length===0},[oe]),V=y.useCallback((P,ke)=>{be(Ke=>({...Ke,[P]:ke})),Ce(Ke=>({...Ke,[P]:""}))},[]),te=y.useCallback(P=>{C(P),setTimeout(()=>C(""),3e3)},[]),Pe=y.useCallback(async P=>{try{const ke=!P.notify_new_tickets;if(!(await fetch(`/api/users/${P.id}/notify-new-tickets`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({notify_new_tickets:ke})})).ok)throw new Error("Failed to update notification preference");d(Re=>Re.map(Ze=>Ze.id===P.id?{...Ze,notify_new_tickets:ke}:Ze)),te(`Ticket notifications ${ke?"enabled":"disabled"} for ${P.email}`)}catch(ke){S(ke.message),setTimeout(()=>S(""),5e3)}},[te]),Me=y.useCallback(async()=>{if(console.log(" handleCreateUser called"),console.log(" userForm:",oe),!Te(!1)){S("Please fix validation errors"),setTimeout(()=>S(""),5e3);return}if(oe.role_name==="admin"&&!window.confirm(" You are creating an admin user with full system access. Are you sure?")){console.log(" Admin user creation cancelled by user");return}try{console.log(" Submitting to API...");const P=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(oe)});console.log(" Response status:",P.status);const ke=await P.json();if(console.log(" Response data:",ke),!P.ok)throw new Error(ke.error||"Failed to create user");await Q(),R(!1),ne(),te("User created successfully")}catch(P){console.error(" Error creating user:",P),S(P.message),setTimeout(()=>S(""),5e3)}},[oe,Te,ne,te]),he=y.useCallback(async()=>{if(console.log(" handleUpdateUser called"),console.log(" editingUser:",ge),console.log(" userForm:",oe),!Te(!0)){console.log(" Validation failed"),S("Please fix validation errors"),setTimeout(()=>S(""),5e3);return}if(ge.id===e.id&&oe.role_name!==ge.role?.name){S("Cannot modify your own role"),setTimeout(()=>S(""),5e3);return}if(oe.role_name==="admin"&&ge.role?.name!=="admin"&&!window.confirm(" You are assigning admin role with full system access. Are you sure?")){console.log(" Admin role assignment cancelled by user");return}try{console.log(" Submitting to API...");const{password:P,...ke}=oe,Ke=await fetch(`/api/users/${ge.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(ke)});console.log(" Response status:",Ke.status);const Re=await Ke.json();if(console.log(" Response data:",Re),!Ke.ok)throw new Error(Re.error||"Failed to update user");await Q(),F(!1),fe(null),ne(),te("User updated successfully")}catch(P){console.error(" Error updating user:",P),S(P.message),setTimeout(()=>S(""),5e3)}},[ge,oe,Te,ne,te,e]),B=y.useCallback(async()=>{try{if(console.log(" handleDeactivateUser called"),console.log(" deactivatingUser:",Ee),Ee.id===e.id){S("Cannot deactivate your own account"),setTimeout(()=>S(""),5e3),le(!1),W(null);return}console.log(" Sending deactivation request...");const P=await fetch(`/api/users/${Ee.id}`,{method:"DELETE",credentials:"include"});if(console.log(" Response status:",P.status),!P.ok){const Ke=await P.json();throw new Error(Ke.error||"Failed to deactivate user")}const ke=await P.json();console.log(" Response data:",ke),await Q(),le(!1),W(null),te(`User ${Ee.email} deactivated successfully!`)}catch(P){console.error(" Error deactivating user:",P),S(P.message),setTimeout(()=>S(""),5e3)}},[Ee,te,e]),X=y.useCallback(P=>{fe(P),be({email:P.email||"",password:"",full_name:P.full_name||"",phone:P.phone||"",role_name:P.role?.name||""}),Ce({}),F(!0)},[]),K=y.useCallback(P=>{W(P),le(!0)},[]),je=y.useCallback(P=>{ue(P),Ae(""),q(""),ie(!0)},[]),L=y.useCallback(async()=>{try{if(console.log(" handleResetPassword called"),console.log(" resettingUser:",J),q(""),!_e||_e.length<6){q("Password must be at least 6 characters");return}console.log(" Sending password reset request...");const P=await fetch(`/api/users/${J.id}/reset-password`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({new_password:_e})});console.log(" Response status:",P.status);const ke=await P.json();if(console.log(" Response data:",ke),!P.ok)throw new Error(ke.error||"Failed to reset password");te(`Password reset successfully for ${J.email}`),ie(!1),ue(null),Ae(""),q("")}catch(P){console.error(" Error resetting password:",P),q(P.message||"Failed to reset password")}},[J,_e,te]),xe=y.useCallback(P=>{if(!P)return"Never";const ke=new Date(P),Ke=new Date,Re=Ke-ke,Ze=Math.floor(Re/6e4),We=Math.floor(Re/36e5),yt=Math.floor(Re/864e5);return Ze<1?"Just now":Ze<60?`${Ze}m ago`:We<24?`${We}h ago`:yt<7?`${yt}d ago`:ke.toLocaleDateString("en-US",{month:"short",day:"numeric",year:ke.getFullYear()!==Ke.getFullYear()?"numeric":void 0})},[]),Be=y.useMemo(()=>{let P=[...c];return w&&(P=P.filter(ke=>ke.email.toLowerCase().includes(w.toLowerCase())||ke.full_name&&ke.full_name.toLowerCase().includes(w.toLowerCase())||ke.phone&&ke.phone.includes(w))),z&&(P=P.filter(ke=>ke.role?.name===z)),A==="active"?P=P.filter(ke=>ke.is_active):A==="inactive"&&(P=P.filter(ke=>!ke.is_active)),P},[c,w,z,A]),nt=y.useMemo(()=>s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Email ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"email",value:oe.email,onChange:P=>V("email",P.target.value),placeholder:"user@example.com",disabled:!!ge,style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${Se.email?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:ge?r.colors.background.secondary:r.colors.background.primary,color:r.colors.text.primary,outline:"none",transition:"border-color 0.2s"}}),Se.email&&s.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:Se.email})]}),!ge&&s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Password ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"password",value:oe.password,onChange:P=>V("password",P.target.value),placeholder:"Minimum 6 characters",style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${Se.password?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",transition:"border-color 0.2s"}}),Se.password&&s.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:Se.password})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Full Name"}),s.jsx("input",{type:"text",value:oe.full_name,onChange:P=>V("full_name",P.target.value),placeholder:"John Doe",style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${Se.full_name?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",transition:"border-color 0.2s"}}),Se.full_name&&s.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:Se.full_name})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Phone"}),s.jsx("input",{type:"tel",value:oe.phone,onChange:P=>V("phone",hO(P.target.value)),placeholder:"(555) 123-4567",style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${Se.phone?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",transition:"border-color 0.2s"}}),Se.phone&&s.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:Se.phone})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Role ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsxs("select",{value:oe.role_name,onChange:P=>V("role_name",P.target.value),disabled:ge&&ge.id===e.id,style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${Se.role_name?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:ge&&ge.id===e.id?r.colors.background.secondary:r.colors.background.primary,color:r.colors.text.primary,outline:"none",cursor:ge&&ge.id===e.id?"not-allowed":"pointer"},children:[s.jsx("option",{value:"",children:"Select role..."}),p.filter(P=>l()||P.name!=="site_admin").map(P=>s.jsxs("option",{value:P.name,children:[P.name.charAt(0).toUpperCase()+P.name.slice(1)," - ",P.description]},P.name))]}),Se.role_name&&s.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:Se.role_name}),ge&&ge.id===e.id&&s.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:" You cannot change your own role"})]})]}),[oe,Se,V,p,ge,e,l]),Je=n("manage_users")||l();return s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:e,onLogout:t,hasRole:i,isSiteAdmin:l}),s.jsxs("main",{style:{flex:1,padding:r.spacing.xl,marginLeft:"240px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.xl},children:[s.jsxs("div",{children:[s.jsx("h1",{style:{fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0,marginBottom:r.spacing.xs},children:"User Management"}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,margin:0},children:"Manage system users and role assignments"})]}),Je&&s.jsxs("button",{onClick:()=>{ne(),R(!0)},style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"white",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:P=>{P.target.style.backgroundColor=r.colors.accent.primaryDark,P.target.style.transform="translateY(-1px)"},onMouseLeave:P=>{P.target.style.backgroundColor=r.colors.accent.primary,P.target.style.transform="translateY(0)"},children:[s.jsx(rr,{size:16}),"Add User"]})]}),x&&s.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.accent.dangerLight,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,marginBottom:r.spacing.lg,color:r.colors.accent.danger,fontSize:r.fontSize.sm},children:x}),j&&s.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.accent.successLight,border:`1px solid ${r.colors.accent.success}`,borderRadius:r.radius.md,marginBottom:r.spacing.lg,color:r.colors.accent.success,fontSize:r.fontSize.sm},children:j}),s.jsx(rt,{style:{marginBottom:r.spacing.lg},children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gap:r.spacing.md},children:[s.jsxs("div",{style:{position:"relative"},children:[s.jsx(yi,{size:16,style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.secondary}}),s.jsx("input",{type:"text",placeholder:"Search by email, name, or phone...",value:w,onChange:P=>k(P.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"36px",fontSize:r.fontSize.sm,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none"}})]}),s.jsxs("select",{value:z,onChange:P=>E(P.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,fontSize:r.fontSize.sm,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",cursor:"pointer"},children:[s.jsx("option",{value:"",children:"All Roles"}),p.map(P=>s.jsx("option",{value:P.name,children:P.name.charAt(0).toUpperCase()+P.name.slice(1)},P.name))]}),s.jsxs("select",{value:A,onChange:P=>D(P.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,fontSize:r.fontSize.sm,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",cursor:"pointer"},children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active Only"}),s.jsx("option",{value:"inactive",children:"Inactive Only"})]})]})}),s.jsx(rt,{children:g?s.jsx("div",{style:{textAlign:"center",padding:r.spacing.xl,color:r.colors.text.secondary},children:"Loading users..."}):Be.length===0?s.jsxs("div",{style:{textAlign:"center",padding:r.spacing.xl,color:r.colors.text.secondary},children:[s.jsx(_x,{size:48,style:{marginBottom:r.spacing.md,opacity:.5}}),s.jsx("p",{children:"No users found"})]}):s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`},children:[s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Email"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Name"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Phone"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Role"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Last Login"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Status"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Notify"}),Je&&s.jsx("th",{style:{padding:r.spacing.md,textAlign:"right",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Actions"})]})}),s.jsx("tbody",{children:Be.map(P=>s.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`,opacity:P.is_active?1:.5,backgroundColor:P.is_active?"transparent":r.colors.background.secondary},children:[s.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(Sp,{size:14,style:{color:r.colors.text.secondary}}),P.email,P.id===e.id&&s.jsx("span",{style:{fontSize:r.fontSize.xs,padding:"2px 6px",backgroundColor:r.colors.accent.primaryLight,color:r.colors.accent.primary,borderRadius:r.radius.sm},children:"You"})]})}),s.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(Va,{size:14,style:{color:r.colors.text.secondary}}),P.full_name||"-"]})}),s.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(cl,{size:14,style:{color:r.colors.text.secondary}}),P.phone||"-"]})}),s.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(lO,{size:14,style:{color:r.colors.text.secondary}}),s.jsx("span",{style:{padding:"4px 8px",backgroundColor:P.role?.name==="admin"?r.colors.accent.dangerLight:r.colors.accent.primaryLight,color:P.role?.name==="admin"?r.colors.accent.danger:r.colors.accent.primary,borderRadius:r.radius.sm,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:P.role?.name?P.role.name.charAt(0).toUpperCase()+P.role.name.slice(1):"No Role"})]})}),s.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:xe(P.last_login)}),s.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:s.jsx("span",{style:{padding:"4px 8px",backgroundColor:P.is_active?r.colors.accent.successLight:r.colors.background.secondary,color:P.is_active?r.colors.accent.success:r.colors.text.secondary,borderRadius:r.radius.sm,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:P.is_active?"Active":"Inactive"})}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},children:s.jsx("button",{onClick:()=>Pe(P),"aria-label":P.notify_new_tickets?"Disable ticket notifications":"Enable ticket notifications",title:P.notify_new_tickets?"Receiving new ticket notifications":"Not receiving notifications",style:{width:"36px",height:"20px",borderRadius:"10px",border:"none",cursor:"pointer",backgroundColor:P.notify_new_tickets?r.colors.accent.primary:r.colors.border.medium,position:"relative",transition:"background-color 0.2s",padding:0},children:s.jsx("span",{style:{position:"absolute",top:"2px",left:P.notify_new_tickets?"18px":"2px",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:"white",transition:"left 0.2s",boxShadow:"0 1px 2px rgba(0,0,0,0.2)"}})})}),Je&&s.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,textAlign:"right"},children:(()=>{const ke=P.role?.name==="site_admin";return!(l()||!ke)&&P.id!==e.id?s.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.secondary,fontStyle:"italic"},children:"Site admin"}):s.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>X(P),style:{padding:r.spacing.sm,backgroundColor:"transparent",border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.sm,cursor:"pointer",display:"flex",alignItems:"center",color:r.colors.text.secondary,transition:"all 0.2s"},onMouseEnter:Re=>{Re.target.style.borderColor=r.colors.accent.primary,Re.target.style.color=r.colors.accent.primary},onMouseLeave:Re=>{Re.target.style.borderColor=r.colors.border.light,Re.target.style.color=r.colors.text.secondary},children:s.jsx(eu,{size:14})}),P.id!==e.id&&s.jsx("button",{onClick:()=>je(P),style:{padding:r.spacing.sm,backgroundColor:"transparent",border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.sm,cursor:"pointer",display:"flex",alignItems:"center",color:r.colors.text.secondary,transition:"all 0.2s"},onMouseEnter:Re=>{Re.target.style.borderColor=r.colors.accent.warning,Re.target.style.color=r.colors.accent.warning},onMouseLeave:Re=>{Re.target.style.borderColor=r.colors.border.light,Re.target.style.color=r.colors.text.secondary},title:"Reset password",children:s.jsx(MK,{size:14})}),P.is_active&&P.id!==e.id&&s.jsx("button",{onClick:()=>K(P),style:{padding:r.spacing.sm,backgroundColor:"transparent",border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.sm,cursor:"pointer",display:"flex",alignItems:"center",color:r.colors.text.secondary,transition:"all 0.2s"},onMouseEnter:Re=>{Re.target.style.borderColor=r.colors.accent.danger,Re.target.style.color=r.colors.accent.danger},onMouseLeave:Re=>{Re.target.style.borderColor=r.colors.border.light,Re.target.style.color=r.colors.text.secondary},children:s.jsx(Kr,{size:14})})]})})()})]},P.id))})]})})}),T&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{backgroundColor:r.colors.background.primary,borderRadius:r.radius.lg,padding:r.spacing.xl,width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[s.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Create New User"}),s.jsx("button",{onClick:()=>{R(!1),ne()},style:{padding:r.spacing.xs,backgroundColor:"transparent",border:"none",cursor:"pointer",color:r.colors.text.secondary},children:s.jsx(Nt,{size:20})})]}),nt,s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[s.jsx("button",{onClick:Me,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"white",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Create User"}),s.jsx("button",{onClick:()=>{R(!1),ne()},style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})}),M&&ge&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{backgroundColor:r.colors.background.primary,borderRadius:r.radius.lg,padding:r.spacing.xl,width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[s.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Edit User"}),s.jsx("button",{onClick:()=>{F(!1),fe(null),ne()},style:{padding:r.spacing.xs,backgroundColor:"transparent",border:"none",cursor:"pointer",color:r.colors.text.secondary},children:s.jsx(Nt,{size:20})})]}),nt,s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[s.jsx("button",{onClick:he,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"white",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Save Changes"}),s.jsx("button",{onClick:()=>{F(!1),fe(null),ne()},style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})}),U&&Ee&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{backgroundColor:r.colors.background.primary,borderRadius:r.radius.lg,padding:r.spacing.xl,width:"90%",maxWidth:"400px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md,marginBottom:r.spacing.lg},children:[s.jsx(xi,{size:24,style:{color:r.colors.accent.warning,flexShrink:0}}),s.jsxs("div",{children:[s.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0,marginBottom:r.spacing.sm},children:"Deactivate User"}),s.jsxs("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,margin:0},children:["Are you sure you want to deactivate user ",s.jsx("strong",{children:Ee.email}),"? They will no longer be able to access the system."]})]})]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[s.jsx("button",{onClick:B,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.danger,color:"white",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Deactivate"}),s.jsx("button",{onClick:()=>{le(!1),W(null)},style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})}),Z&&J&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{backgroundColor:r.colors.background.primary,borderRadius:r.radius.lg,padding:r.spacing.xl,width:"90%",maxWidth:"400px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[s.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Reset Password"}),s.jsx("button",{onClick:()=>{ie(!1),ue(null),Ae(""),q("")},style:{padding:r.spacing.xs,backgroundColor:"transparent",border:"none",cursor:"pointer",color:r.colors.text.secondary},children:s.jsx(Nt,{size:20})})]}),s.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[s.jsxs("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,marginBottom:r.spacing.lg},children:["Reset password for ",s.jsx("strong",{children:J.email})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["New Password ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"password",value:_e,onChange:P=>Ae(P.target.value),placeholder:"Enter new password (min 6 characters)",style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${N?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none"}}),N&&s.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:N})]})]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.md},children:[s.jsx("button",{onClick:L,disabled:!_e,style:{flex:1,padding:r.spacing.md,backgroundColor:_e?r.colors.accent.warning:r.colors.background.secondary,color:_e?"white":r.colors.text.secondary,border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:_e?"pointer":"not-allowed",opacity:_e?1:.5},children:"Reset Password"}),s.jsx("button",{onClick:()=>{ie(!1),ue(null),Ae(""),q("")},style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.xs,padding:r.spacing.sm,backgroundColor:r.colors.background.secondary,borderRadius:r.radius.sm},children:[s.jsx(xi,{size:14,style:{color:r.colors.text.secondary,flexShrink:0,marginTop:"2px"}}),s.jsx("p",{style:{fontSize:r.fontSize.xs,color:r.colors.text.secondary,margin:0},children:"The user will need to use this new password on their next login."})]})]})})]})]})}function pi({children:e,requireAdmin:t=!1,requireManager:n=!1,requireTechnician:i=!1}){const{isAuthenticated:l,authLoading:c,hasRole:d,isSiteAdmin:p}=xn();return c?s.jsx("div",{children:"Loading..."}):l?p()?e:t&&!d("admin")?s.jsx(gd,{to:"/",replace:!0}):n&&!(d("manager")||d("admin"))?s.jsx(gd,{to:"/",replace:!0}):i&&!(d("technician")||d("manager")||d("admin"))?s.jsx(gd,{to:"/",replace:!0}):e:s.jsx(gd,{to:"/",replace:!0})}$R.createRoot(document.getElementById("root")).render(s.jsx(y.StrictMode,{children:s.jsx(GD,{children:s.jsx($Y,{children:s.jsx(qY,{children:s.jsxs(kD,{children:[s.jsx(rn,{path:"/",element:s.jsx(VY,{})}),s.jsx(rn,{path:"/sequences",element:s.jsx(pi,{requireTechnician:!0,children:s.jsx(GY,{})})}),s.jsx(rn,{path:"/sequences/create",element:s.jsx(pi,{requireManager:!0,children:s.jsx(XY,{})})}),s.jsx(rn,{path:"/sequences/:key",element:s.jsx(pi,{requireManager:!0,children:s.jsx(QY,{})})}),s.jsx(rn,{path:"/patterns",element:s.jsx(pi,{requireAdmin:!0,children:s.jsx(JY,{})})}),s.jsx(rn,{path:"/tickets",element:s.jsx(pi,{requireTechnician:!0,children:s.jsx(VV,{})})}),s.jsx(rn,{path:"/active-sequences",element:s.jsx(pi,{requireTechnician:!0,children:s.jsx(lG,{})})}),s.jsx(rn,{path:"/tickets/new",element:s.jsx(pi,{requireTechnician:!0,children:s.jsx(nG,{})})}),s.jsx(rn,{path:"/tickets/:uuid",element:s.jsx(pi,{requireTechnician:!0,children:s.jsx(eG,{})})}),s.jsx(rn,{path:"/ticket/:uuid",element:s.jsx(rG,{})}),s.jsx(rn,{path:"/supplies/:sequenceKey",element:s.jsx(oG,{})}),s.jsx(rn,{path:"/vans",element:s.jsx(pi,{requireTechnician:!0,children:s.jsx(gG,{})})}),s.jsx(rn,{path:"/owners",element:s.jsx(pi,{requireTechnician:!0,children:s.jsx(mG,{})})}),s.jsx(rn,{path:"/users",element:s.jsx(pi,{requireAdmin:!0,children:s.jsx(hG,{})})})]})})})})}));
