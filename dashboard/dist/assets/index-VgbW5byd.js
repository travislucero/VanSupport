function wR(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(i,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function yo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Am={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sj;function kR(){if(Sj)return Ql;Sj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:e,type:i,key:d,ref:l!==void 0?l:null,props:c}}return Ql.Fragment=t,Ql.jsx=n,Ql.jsxs=n,Ql}var jj;function CR(){return jj||(jj=1,Am.exports=kR()),Am.exports}var s=CR(),Em={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wj;function zR(){if(wj)return it;wj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),S=Symbol.iterator;function j(W){return W===null||typeof W!="object"?null:(W=S&&W[S]||W["@@iterator"],typeof W=="function"?W:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function z(W,q,re){this.props=W,this.context=q,this.refs=C,this.updater=re||k}z.prototype.isReactComponent={},z.prototype.setState=function(W,q){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,q,"setState")},z.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function E(){}E.prototype=z.prototype;function A(W,q,re){this.props=W,this.context=q,this.refs=C,this.updater=re||k}var $=A.prototype=new E;$.constructor=A,w($,z.prototype),$.isPureReactComponent=!0;var T=Array.isArray;function D(){}var R={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function U(W,q,re){var be=re.ref;return{$$typeof:e,type:W,key:q,ref:be!==void 0?be:null,props:re}}function le(W,q){return U(W.type,q,W.props)}function X(W){return typeof W=="object"&&W!==null&&W.$$typeof===e}function ae(W){var q={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(re){return q[re]})}var ye=/\/+/g;function pe(W,q){return typeof W=="object"&&W!==null&&W.key!=null?ae(""+W.key):q.toString(36)}function _e(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(D,D):(W.status="pending",W.then(function(q){W.status==="pending"&&(W.status="fulfilled",W.value=q)},function(q){W.status==="pending"&&(W.status="rejected",W.reason=q)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function B(W,q,re,be,xe){var je=typeof W;(je==="undefined"||je==="boolean")&&(W=null);var G=!1;if(W===null)G=!0;else switch(je){case"bigint":case"string":case"number":G=!0;break;case"object":switch(W.$$typeof){case e:case t:G=!0;break;case h:return G=W._init,B(G(W._payload),q,re,be,xe)}}if(G)return xe=xe(W),G=be===""?"."+pe(W,0):be,T(xe)?(re="",G!=null&&(re=G.replace(ye,"$&/")+"/"),B(xe,q,re,"",function(ze){return ze})):xe!=null&&(X(xe)&&(xe=le(xe,re+(xe.key==null||W&&W.key===xe.key?"":(""+xe.key).replace(ye,"$&/")+"/")+G)),q.push(xe)),1;G=0;var de=be===""?".":be+":";if(T(W))for(var ee=0;ee<W.length;ee++)be=W[ee],je=de+pe(be,ee),G+=B(be,q,re,je,xe);else if(ee=j(W),typeof ee=="function")for(W=ee.call(W),ee=0;!(be=W.next()).done;)be=be.value,je=de+pe(be,ee++),G+=B(be,q,re,je,xe);else if(je==="object"){if(typeof W.then=="function")return B(_e(W),q,re,be,xe);throw q=String(W),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return G}function Z(W,q,re){if(W==null)return W;var be=[],xe=0;return B(W,be,"","",function(je){return q.call(re,je,xe++)}),be}function ce(W){if(W._status===-1){var q=W._result;q=q(),q.then(function(re){(W._status===0||W._status===-1)&&(W._status=1,W._result=re)},function(re){(W._status===0||W._status===-1)&&(W._status=2,W._result=re)}),W._status===-1&&(W._status=0,W._result=q)}if(W._status===1)return W._result.default;throw W._result}var Ce=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},Te={map:Z,forEach:function(W,q,re){Z(W,function(){q.apply(this,arguments)},re)},count:function(W){var q=0;return Z(W,function(){q++}),q},toArray:function(W){return Z(W,function(q){return q})||[]},only:function(W){if(!X(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return it.Activity=x,it.Children=Te,it.Component=z,it.Fragment=n,it.Profiler=l,it.PureComponent=A,it.StrictMode=i,it.Suspense=m,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,it.__COMPILER_RUNTIME={__proto__:null,c:function(W){return R.H.useMemoCache(W)}},it.cache=function(W){return function(){return W.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function(W,q,re){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var be=w({},W.props),xe=W.key;if(q!=null)for(je in q.key!==void 0&&(xe=""+q.key),q)!F.call(q,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&q.ref===void 0||(be[je]=q[je]);var je=arguments.length-2;if(je===1)be.children=re;else if(1<je){for(var G=Array(je),de=0;de<je;de++)G[de]=arguments[de+2];be.children=G}return U(W.type,xe,be)},it.createContext=function(W){return W={$$typeof:d,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:c,_context:W},W},it.createElement=function(W,q,re){var be,xe={},je=null;if(q!=null)for(be in q.key!==void 0&&(je=""+q.key),q)F.call(q,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(xe[be]=q[be]);var G=arguments.length-2;if(G===1)xe.children=re;else if(1<G){for(var de=Array(G),ee=0;ee<G;ee++)de[ee]=arguments[ee+2];xe.children=de}if(W&&W.defaultProps)for(be in G=W.defaultProps,G)xe[be]===void 0&&(xe[be]=G[be]);return U(W,je,xe)},it.createRef=function(){return{current:null}},it.forwardRef=function(W){return{$$typeof:p,render:W}},it.isValidElement=X,it.lazy=function(W){return{$$typeof:h,_payload:{_status:-1,_result:W},_init:ce}},it.memo=function(W,q){return{$$typeof:g,type:W,compare:q===void 0?null:q}},it.startTransition=function(W){var q=R.T,re={};R.T=re;try{var be=W(),xe=R.S;xe!==null&&xe(re,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(D,Ce)}catch(je){Ce(je)}finally{q!==null&&re.types!==null&&(q.types=re.types),R.T=q}},it.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},it.use=function(W){return R.H.use(W)},it.useActionState=function(W,q,re){return R.H.useActionState(W,q,re)},it.useCallback=function(W,q){return R.H.useCallback(W,q)},it.useContext=function(W){return R.H.useContext(W)},it.useDebugValue=function(){},it.useDeferredValue=function(W,q){return R.H.useDeferredValue(W,q)},it.useEffect=function(W,q){return R.H.useEffect(W,q)},it.useEffectEvent=function(W){return R.H.useEffectEvent(W)},it.useId=function(){return R.H.useId()},it.useImperativeHandle=function(W,q,re){return R.H.useImperativeHandle(W,q,re)},it.useInsertionEffect=function(W,q){return R.H.useInsertionEffect(W,q)},it.useLayoutEffect=function(W,q){return R.H.useLayoutEffect(W,q)},it.useMemo=function(W,q){return R.H.useMemo(W,q)},it.useOptimistic=function(W,q){return R.H.useOptimistic(W,q)},it.useReducer=function(W,q,re){return R.H.useReducer(W,q,re)},it.useRef=function(W){return R.H.useRef(W)},it.useState=function(W){return R.H.useState(W)},it.useSyncExternalStore=function(W,q,re){return R.H.useSyncExternalStore(W,q,re)},it.useTransition=function(){return R.H.useTransition()},it.version="19.2.0",it}var kj;function Gs(){return kj||(kj=1,Em.exports=zR()),Em.exports}var y=Gs();const hi=yo(y),_R=wR({__proto__:null,default:hi},[y]);var Om={exports:{}},Zl={},Mm={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cj;function TR(){return Cj||(Cj=1,(function(e){function t(B,Z){var ce=B.length;B.push(Z);e:for(;0<ce;){var Ce=ce-1>>>1,Te=B[Ce];if(0<l(Te,Z))B[Ce]=Z,B[ce]=Te,ce=Ce;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var Z=B[0],ce=B.pop();if(ce!==Z){B[0]=ce;e:for(var Ce=0,Te=B.length,W=Te>>>1;Ce<W;){var q=2*(Ce+1)-1,re=B[q],be=q+1,xe=B[be];if(0>l(re,ce))be<Te&&0>l(xe,re)?(B[Ce]=xe,B[be]=ce,Ce=be):(B[Ce]=re,B[q]=ce,Ce=q);else if(be<Te&&0>l(xe,ce))B[Ce]=xe,B[be]=ce,Ce=be;else break e}}return Z}function l(B,Z){var ce=B.sortIndex-Z.sortIndex;return ce!==0?ce:B.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();e.unstable_now=function(){return d.now()-p}}var m=[],g=[],h=1,x=null,S=3,j=!1,k=!1,w=!1,C=!1,z=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function $(B){for(var Z=n(g);Z!==null;){if(Z.callback===null)i(g);else if(Z.startTime<=B)i(g),Z.sortIndex=Z.expirationTime,t(m,Z);else break;Z=n(g)}}function T(B){if(w=!1,$(B),!k)if(n(m)!==null)k=!0,D||(D=!0,ae());else{var Z=n(g);Z!==null&&_e(T,Z.startTime-B)}}var D=!1,R=-1,F=5,U=-1;function le(){return C?!0:!(e.unstable_now()-U<F)}function X(){if(C=!1,D){var B=e.unstable_now();U=B;var Z=!0;try{e:{k=!1,w&&(w=!1,E(R),R=-1),j=!0;var ce=S;try{t:{for($(B),x=n(m);x!==null&&!(x.expirationTime>B&&le());){var Ce=x.callback;if(typeof Ce=="function"){x.callback=null,S=x.priorityLevel;var Te=Ce(x.expirationTime<=B);if(B=e.unstable_now(),typeof Te=="function"){x.callback=Te,$(B),Z=!0;break t}x===n(m)&&i(m),$(B)}else i(m);x=n(m)}if(x!==null)Z=!0;else{var W=n(g);W!==null&&_e(T,W.startTime-B),Z=!1}}break e}finally{x=null,S=ce,j=!1}Z=void 0}}finally{Z?ae():D=!1}}}var ae;if(typeof A=="function")ae=function(){A(X)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,pe=ye.port2;ye.port1.onmessage=X,ae=function(){pe.postMessage(null)}}else ae=function(){z(X,0)};function _e(B,Z){R=z(function(){B(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(B){switch(S){case 1:case 2:case 3:var Z=3;break;default:Z=S}var ce=S;S=Z;try{return B()}finally{S=ce}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ce=S;S=B;try{return Z()}finally{S=ce}},e.unstable_scheduleCallback=function(B,Z,ce){var Ce=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ce+ce:Ce):ce=Ce,B){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ce+Te,B={id:h++,callback:Z,priorityLevel:B,startTime:ce,expirationTime:Te,sortIndex:-1},ce>Ce?(B.sortIndex=ce,t(g,B),n(m)===null&&B===n(g)&&(w?(E(R),R=-1):w=!0,_e(T,ce-Ce))):(B.sortIndex=Te,t(m,B),k||j||(k=!0,D||(D=!0,ae()))),B},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(B){var Z=S;return function(){var ce=S;S=Z;try{return B.apply(this,arguments)}finally{S=ce}}}})(Rm)),Rm}var zj;function AR(){return zj||(zj=1,Mm.exports=TR()),Mm.exports}var Dm={exports:{}},Gr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _j;function ER(){if(_j)return Gr;_j=1;var e=Gs();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)g+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,g,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:m,containerInfo:g,implementation:h}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Gr.createPortal=function(m,g){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(m,g,null,h)},Gr.flushSync=function(m){var g=d.T,h=i.p;try{if(d.T=null,i.p=2,m)return m()}finally{d.T=g,i.p=h,i.d.f()}},Gr.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},Gr.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Gr.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var h=g.as,x=p(h,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;h==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:j}):h==="script"&&i.d.X(m,{crossOrigin:x,integrity:S,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Gr.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var h=p(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:h,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},Gr.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var h=g.as,x=p(h,g.crossOrigin);i.d.L(m,h,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Gr.preloadModule=function(m,g){if(typeof m=="string")if(g){var h=p(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:h,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},Gr.requestFormReset=function(m){i.d.r(m)},Gr.unstable_batchedUpdates=function(m,g){return m(g)},Gr.useFormState=function(m,g,h){return d.H.useFormState(m,g,h)},Gr.useFormStatus=function(){return d.H.useHostTransitionStatus()},Gr.version="19.2.0",Gr}var Tj;function X2(){if(Tj)return Dm.exports;Tj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Dm.exports=ER(),Dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aj;function OR(){if(Aj)return Zl;Aj=1;var e=AR(),t=Gs(),n=X2();function i(o){var a="https://react.dev/errors/"+o;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function c(o){var a=o,u=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(u=a.return),o=a.return;while(o)}return a.tag===3?u:null}function d(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function p(o){if(o.tag===31){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function m(o){if(c(o)!==o)throw Error(i(188))}function g(o){var a=o.alternate;if(!a){if(a=c(o),a===null)throw Error(i(188));return a!==o?null:o}for(var u=o,f=a;;){var v=u.return;if(v===null)break;var b=v.alternate;if(b===null){if(f=v.return,f!==null){u=f;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===u)return m(v),o;if(b===f)return m(v),a;b=b.sibling}throw Error(i(188))}if(u.return!==f.return)u=v,f=b;else{for(var _=!1,O=v.child;O;){if(O===u){_=!0,u=v,f=b;break}if(O===f){_=!0,f=v,u=b;break}O=O.sibling}if(!_){for(O=b.child;O;){if(O===u){_=!0,u=b,f=v;break}if(O===f){_=!0,f=b,u=v;break}O=O.sibling}if(!_)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?o:a}function h(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o;for(o=o.child;o!==null;){if(a=h(o),a!==null)return a;o=o.sibling}return null}var x=Object.assign,S=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function ae(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var ye=Symbol.for("react.client.reference");function pe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ye?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case z:return"Profiler";case C:return"StrictMode";case T:return"Suspense";case D:return"SuspenseList";case U:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case k:return"Portal";case A:return o.displayName||"Context";case E:return(o._context.displayName||"Context")+".Consumer";case $:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case R:return a=o.displayName||null,a!==null?a:pe(o.type)||"Memo";case F:a=o._payload,o=o._init;try{return pe(o(a))}catch{}}return null}var _e=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ce=[],Te=-1;function W(o){return{current:o}}function q(o){0>Te||(o.current=Ce[Te],Ce[Te]=null,Te--)}function re(o,a){Te++,Ce[Te]=o.current,o.current=a}var be=W(null),xe=W(null),je=W(null),G=W(null);function de(o,a){switch(re(je,a),re(xe,o),re(be,null),a.nodeType){case 9:case 11:o=(o=a.documentElement)&&(o=o.namespaceURI)?HS(o):0;break;default:if(o=a.tagName,a=a.namespaceURI)a=HS(a),o=FS(a,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}q(be),re(be,o)}function ee(){q(be),q(xe),q(je)}function ze(o){o.memoizedState!==null&&re(G,o);var a=be.current,u=FS(a,o.type);a!==u&&(re(xe,o),re(be,u))}function M(o){xe.current===o&&(q(be),q(xe)),G.current===o&&(q(G),Yl._currentValue=ce)}var P,ie;function ge(o){if(P===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);P=a&&a[1]||"",ie=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+o+ie}var V=!1;function Ae(o,a){if(!o||V)return"";V=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(fe){var se=fe}Reflect.construct(o,[],ke)}else{try{ke.call()}catch(fe){se=fe}o.call(ke.prototype)}}else{try{throw Error()}catch(fe){se=fe}(ke=o())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(fe){if(fe&&se&&typeof fe.stack=="string")return[fe.stack,se.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),_=b[0],O=b[1];if(_&&O){var H=_.split(`
`),oe=O.split(`
`);for(v=f=0;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;for(;v<oe.length&&!oe[v].includes("DetermineComponentFrameRoot");)v++;if(f===H.length||v===oe.length)for(f=H.length-1,v=oe.length-1;1<=f&&0<=v&&H[f]!==oe[v];)v--;for(;1<=f&&0<=v;f--,v--)if(H[f]!==oe[v]){if(f!==1||v!==1)do if(f--,v--,0>v||H[f]!==oe[v]){var ve=`
`+H[f].replace(" at new "," at ");return o.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",o.displayName)),ve}while(1<=f&&0<=v);break}}}finally{V=!1,Error.prepareStackTrace=u}return(u=o?o.displayName||o.name:"")?ge(u):""}function Le(o,a){switch(o.tag){case 26:case 27:case 5:return ge(o.type);case 16:return ge("Lazy");case 13:return o.child!==a&&a!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return Ae(o.type,!1);case 11:return Ae(o.type.render,!1);case 1:return Ae(o.type,!0);case 31:return ge("Activity");default:return""}}function he(o){try{var a="",u=null;do a+=Le(o,u),u=o,o=o.return;while(o);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var We=Object.prototype.hasOwnProperty,te=e.unstable_scheduleCallback,Oe=e.unstable_cancelCallback,Ye=e.unstable_shouldYield,nt=e.unstable_requestPaint,Je=e.unstable_now,L=e.unstable_getCurrentPriorityLevel,we=e.unstable_ImmediatePriority,Fe=e.unstable_UserBlockingPriority,Me=e.unstable_NormalPriority,Ze=e.unstable_LowPriority,Ne=e.unstable_IdlePriority,yt=e.log,_r=e.unstable_setDisableYieldValue,Zt=null,zt=null;function ar(o){if(typeof yt=="function"&&_r(o),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Zt,o)}catch{}}var me=Math.clz32?Math.clz32:vr,Ve=Math.log,qt=Math.LN2;function vr(o){return o>>>=0,o===0?32:31-(Ve(o)/qt|0)|0}var ur=256,pt=262144,Tr=4194304;function J(o){var a=o&42;if(a!==0)return a;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ee(o,a,u){var f=o.pendingLanes;if(f===0)return 0;var v=0,b=o.suspendedLanes,_=o.pingedLanes;o=o.warmLanes;var O=f&134217727;return O!==0?(f=O&~b,f!==0?v=J(f):(_&=O,_!==0?v=J(_):u||(u=O&~o,u!==0&&(v=J(u))))):(O=f&~b,O!==0?v=J(O):_!==0?v=J(_):u||(u=f&~o,u!==0&&(v=J(u)))),v===0?0:a!==0&&a!==v&&(a&b)===0&&(b=v&-v,u=a&-a,b>=u||b===32&&(u&4194048)!==0)?a:v}function Ue(o,a){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&a)===0}function Vt(o,a){switch(o){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gr(){var o=Tr;return Tr<<=1,(Tr&62914560)===0&&(Tr=4194304),o}function vn(o){for(var a=[],u=0;31>u;u++)a.push(o);return a}function an(o,a){o.pendingLanes|=a,a!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ji(o,a,u,f,v,b){var _=o.pendingLanes;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=u,o.entangledLanes&=u,o.errorRecoveryDisabledLanes&=u,o.shellSuspendCounter=0;var O=o.entanglements,H=o.expirationTimes,oe=o.hiddenUpdates;for(u=_&~u;0<u;){var ve=31-me(u),ke=1<<ve;O[ve]=0,H[ve]=-1;var se=oe[ve];if(se!==null)for(oe[ve]=null,ve=0;ve<se.length;ve++){var fe=se[ve];fe!==null&&(fe.lane&=-536870913)}u&=~ke}f!==0&&ko(o,f,0),b!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=b&~(_&~a))}function ko(o,a,u){o.pendingLanes|=a,o.suspendedLanes&=~a;var f=31-me(a);o.entangledLanes|=a,o.entanglements[f]=o.entanglements[f]|1073741824|u&261930}function Co(o,a){var u=o.entangledLanes|=a;for(o=o.entanglements;u;){var f=31-me(u),v=1<<f;v&a|o[f]&a&&(o[f]|=a),u&=~v}}function ai(o,a){var u=a&-a;return u=(u&42)!==0?1:I(u),(u&(o.suspendedLanes|a))!==0?0:u}function I(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Re(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Mt(){var o=Z.p;return o!==0?o:(o=window.event,o===void 0?32:gj(o.type))}function _t(o,a){var u=Z.p;try{return Z.p=o,a()}finally{Z.p=u}}var lt=Math.random().toString(36).slice(2),ot="__reactFiber$"+lt,gt="__reactProps$"+lt,ft="__reactContainer$"+lt,Wi="__reactEvents$"+lt,da="__reactListeners$"+lt,wi="__reactHandles$"+lt,ki="__reactResources$"+lt,si="__reactMarker$"+lt;function Y(o){delete o[ot],delete o[gt],delete o[Wi],delete o[da],delete o[wi]}function $e(o){var a=o[ot];if(a)return a;for(var u=o.parentNode;u;){if(a=u[ft]||u[ot]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(o=ZS(o);o!==null;){if(u=o[ot])return u;o=ZS(o)}return a}o=u,u=o.parentNode}return null}function Ke(o){if(o=o[ot]||o[ft]){var a=o.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return o}return null}function Xe(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o.stateNode;throw Error(i(33))}function Tt(o){var a=o[ki];return a||(a=o[ki]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function at(o){o[si]=!0}var At=new Set,Et={};function Jt(o,a){li(o,a),li(o+"Capture",a)}function li(o,a){for(Et[o]=a,o=0;o<a.length;o++)At.add(a[o])}var Nb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wr={},ru={};function jp(o){return We.call(ru,o)?!0:We.call(Wr,o)?!1:Nb.test(o)?ru[o]=!0:(Wr[o]=!0,!1)}function Za(o,a,u){if(jp(a))if(u===null)o.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":o.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){o.removeAttribute(a);return}}o.setAttribute(a,""+u)}}function N(o,a,u){if(u===null)o.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(a);return}o.setAttribute(a,""+u)}}function De(o,a,u,f){if(f===null)o.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttributeNS(a,u,""+f)}}function ut(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function sn(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Rt(o,a,u){var f=Object.getOwnPropertyDescriptor(o.constructor.prototype,a);if(!o.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,b=f.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return v.call(this)},set:function(_){u=""+_,b.call(this,_)}}),Object.defineProperty(o,a,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Jr(o){if(!o._valueTracker){var a=sn(o)?"checked":"value";o._valueTracker=Rt(o,a,""+o[a])}}function nu(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return o&&(f=sn(o)?o.checked?"true":"false":o.value),o=f,o!==u?(a.setValue(o),!0):!1}function iu(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var yO=/[\n"\\]/g;function Wn(o){return o.replace(yO,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function wp(o,a,u,f,v,b,_,O){o.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?o.type=_:o.removeAttribute("type"),a!=null?_==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+ut(a)):o.value!==""+ut(a)&&(o.value=""+ut(a)):_!=="submit"&&_!=="reset"||o.removeAttribute("value"),a!=null?kp(o,_,ut(a)):u!=null?kp(o,_,ut(u)):f!=null&&o.removeAttribute("value"),v==null&&b!=null&&(o.defaultChecked=!!b),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.name=""+ut(O):o.removeAttribute("name")}function Lb(o,a,u,f,v,b,_,O){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(o.type=b),a!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){Jr(o);return}u=u!=null?""+ut(u):"",a=a!=null?""+ut(a):u,O||a===o.value||(o.value=a),o.defaultValue=a}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,o.checked=O?o.checked:!!f,o.defaultChecked=!!f,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.name=_),Jr(o)}function kp(o,a,u){a==="number"&&iu(o.ownerDocument)===o||o.defaultValue===""+u||(o.defaultValue=""+u)}function Ja(o,a,u,f){if(o=o.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<o.length;u++)v=a.hasOwnProperty("$"+o[u].value),o[u].selected!==v&&(o[u].selected=v),v&&f&&(o[u].defaultSelected=!0)}else{for(u=""+ut(u),a=null,v=0;v<o.length;v++){if(o[v].value===u){o[v].selected=!0,f&&(o[v].defaultSelected=!0);return}a!==null||o[v].disabled||(a=o[v])}a!==null&&(a.selected=!0)}}function Wb(o,a,u){if(a!=null&&(a=""+ut(a),a!==o.value&&(o.value=a),u==null)){o.defaultValue!==a&&(o.defaultValue=a);return}o.defaultValue=u!=null?""+ut(u):""}function Bb(o,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(i(92));if(_e(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=ut(a),o.defaultValue=u,f=o.textContent,f===u&&f!==""&&f!==null&&(o.value=f),Jr(o)}function es(o,a){if(a){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=a;return}}o.textContent=a}var xO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ib(o,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?o.setProperty(a,""):a==="float"?o.cssFloat="":o[a]="":f?o.setProperty(a,u):typeof u!="number"||u===0||xO.has(a)?a==="float"?o.cssFloat=u:o[a]=(""+u).trim():o[a]=u+"px"}function qb(o,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(o=o.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?o.setProperty(f,""):f==="float"?o.cssFloat="":o[f]="");for(var v in a)f=a[v],a.hasOwnProperty(v)&&u[v]!==f&&Ib(o,v,f)}else for(var b in a)a.hasOwnProperty(b)&&Ib(o,b,a[b])}function Cp(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ou(o){return bO.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Bi(){}var zp=null;function _p(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ts=null,rs=null;function Ub(o){var a=Ke(o);if(a&&(o=a.stateNode)){var u=o[gt]||null;e:switch(o=a.stateNode,a.type){case"input":if(wp(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Wn(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==o&&f.form===o.form){var v=f[gt]||null;if(!v)throw Error(i(90));wp(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===o.form&&nu(f)}break e;case"textarea":Wb(o,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Ja(o,!!u.multiple,a,!1)}}}var Tp=!1;function Hb(o,a,u){if(Tp)return o(a,u);Tp=!0;try{var f=o(a);return f}finally{if(Tp=!1,(ts!==null||rs!==null)&&(Ku(),ts&&(a=ts,o=rs,rs=ts=null,Ub(a),o)))for(a=0;a<o.length;a++)Ub(o[a])}}function ul(o,a){var u=o.stateNode;if(u===null)return null;var f=u[gt]||null;if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ap=!1;if(Ii)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){Ap=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{Ap=!1}var zo=null,Ep=null,au=null;function Fb(){if(au)return au;var o,a=Ep,u=a.length,f,v="value"in zo?zo.value:zo.textContent,b=v.length;for(o=0;o<u&&a[o]===v[o];o++);var _=u-o;for(f=1;f<=_&&a[u-f]===v[b-f];f++);return au=v.slice(o,1<f?1-f:void 0)}function su(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function lu(){return!0}function Kb(){return!1}function ln(o){function a(u,f,v,b,_){this._reactName=u,this._targetInst=v,this.type=f,this.nativeEvent=b,this.target=_,this.currentTarget=null;for(var O in o)o.hasOwnProperty(O)&&(u=o[O],this[O]=u?u(b):b[O]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?lu:Kb,this.isPropagationStopped=Kb,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=lu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=lu)},persist:function(){},isPersistent:lu}),a}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cu=ln(fa),fl=x({},fa,{view:0,detail:0}),SO=ln(fl),Op,Mp,pl,uu=x({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==pl&&(pl&&o.type==="mousemove"?(Op=o.screenX-pl.screenX,Mp=o.screenY-pl.screenY):Mp=Op=0,pl=o),Op)},movementY:function(o){return"movementY"in o?o.movementY:Mp}}),Yb=ln(uu),jO=x({},uu,{dataTransfer:0}),wO=ln(jO),kO=x({},fl,{relatedTarget:0}),Rp=ln(kO),CO=x({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),zO=ln(CO),_O=x({},fa,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),TO=ln(_O),AO=x({},fa,{data:0}),Vb=ln(AO),EO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RO(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=MO[o])?!!a[o]:!1}function Dp(){return RO}var DO=x({},fl,{key:function(o){if(o.key){var a=EO[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=su(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?OO[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dp,charCode:function(o){return o.type==="keypress"?su(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?su(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),$O=ln(DO),PO=x({},uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gb=ln(PO),NO=x({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dp}),LO=ln(NO),WO=x({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),BO=ln(WO),IO=x({},uu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),qO=ln(IO),UO=x({},fa,{newState:0,oldState:0}),HO=ln(UO),FO=[9,13,27,32],$p=Ii&&"CompositionEvent"in window,gl=null;Ii&&"documentMode"in document&&(gl=document.documentMode);var KO=Ii&&"TextEvent"in window&&!gl,Xb=Ii&&(!$p||gl&&8<gl&&11>=gl),Qb=" ",Zb=!1;function Jb(o,a){switch(o){case"keyup":return FO.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e0(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ns=!1;function YO(o,a){switch(o){case"compositionend":return e0(a);case"keypress":return a.which!==32?null:(Zb=!0,Qb);case"textInput":return o=a.data,o===Qb&&Zb?null:o;default:return null}}function VO(o,a){if(ns)return o==="compositionend"||!$p&&Jb(o,a)?(o=Fb(),au=Ep=zo=null,ns=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Xb&&a.locale!=="ko"?null:a.data;default:return null}}var GO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t0(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!GO[o.type]:a==="textarea"}function r0(o,a,u,f){ts?rs?rs.push(f):rs=[f]:ts=f,a=Ju(a,"onChange"),0<a.length&&(u=new cu("onChange","change",null,u,f),o.push({event:u,listeners:a}))}var ml=null,hl=null;function XO(o){LS(o,0)}function du(o){var a=Xe(o);if(nu(a))return o}function n0(o,a){if(o==="change")return a}var i0=!1;if(Ii){var Pp;if(Ii){var Np="oninput"in document;if(!Np){var o0=document.createElement("div");o0.setAttribute("oninput","return;"),Np=typeof o0.oninput=="function"}Pp=Np}else Pp=!1;i0=Pp&&(!document.documentMode||9<document.documentMode)}function a0(){ml&&(ml.detachEvent("onpropertychange",s0),hl=ml=null)}function s0(o){if(o.propertyName==="value"&&du(hl)){var a=[];r0(a,hl,o,_p(o)),Hb(XO,a)}}function QO(o,a,u){o==="focusin"?(a0(),ml=a,hl=u,ml.attachEvent("onpropertychange",s0)):o==="focusout"&&a0()}function ZO(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return du(hl)}function JO(o,a){if(o==="click")return du(a)}function eM(o,a){if(o==="input"||o==="change")return du(a)}function tM(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var bn=typeof Object.is=="function"?Object.is:tM;function yl(o,a){if(bn(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var u=Object.keys(o),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var v=u[f];if(!We.call(a,v)||!bn(o[v],a[v]))return!1}return!0}function l0(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function c0(o,a){var u=l0(o);o=0;for(var f;u;){if(u.nodeType===3){if(f=o+u.textContent.length,o<=a&&f>=a)return{node:u,offset:a-o};o=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=l0(u)}}function u0(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?u0(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function d0(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var a=iu(o.document);a instanceof o.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)o=a.contentWindow;else break;a=iu(o.document)}return a}function Lp(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}var rM=Ii&&"documentMode"in document&&11>=document.documentMode,is=null,Wp=null,xl=null,Bp=!1;function f0(o,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Bp||is==null||is!==iu(f)||(f=is,"selectionStart"in f&&Lp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),xl&&yl(xl,f)||(xl=f,f=Ju(Wp,"onSelect"),0<f.length&&(a=new cu("onSelect","select",null,a,u),o.push({event:a,listeners:f}),a.target=is)))}function pa(o,a){var u={};return u[o.toLowerCase()]=a.toLowerCase(),u["Webkit"+o]="webkit"+a,u["Moz"+o]="moz"+a,u}var os={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},Ip={},p0={};Ii&&(p0=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function ga(o){if(Ip[o])return Ip[o];if(!os[o])return o;var a=os[o],u;for(u in a)if(a.hasOwnProperty(u)&&u in p0)return Ip[o]=a[u];return o}var g0=ga("animationend"),m0=ga("animationiteration"),h0=ga("animationstart"),nM=ga("transitionrun"),iM=ga("transitionstart"),oM=ga("transitioncancel"),y0=ga("transitionend"),x0=new Map,qp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qp.push("scrollEnd");function ci(o,a){x0.set(o,a),Jt(a,[o])}var fu=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Bn=[],as=0,Up=0;function pu(){for(var o=as,a=Up=as=0;a<o;){var u=Bn[a];Bn[a++]=null;var f=Bn[a];Bn[a++]=null;var v=Bn[a];Bn[a++]=null;var b=Bn[a];if(Bn[a++]=null,f!==null&&v!==null){var _=f.pending;_===null?v.next=v:(v.next=_.next,_.next=v),f.pending=v}b!==0&&v0(u,v,b)}}function gu(o,a,u,f){Bn[as++]=o,Bn[as++]=a,Bn[as++]=u,Bn[as++]=f,Up|=f,o.lanes|=f,o=o.alternate,o!==null&&(o.lanes|=f)}function Hp(o,a,u,f){return gu(o,a,u,f),mu(o)}function ma(o,a){return gu(o,null,null,a),mu(o)}function v0(o,a,u){o.lanes|=u;var f=o.alternate;f!==null&&(f.lanes|=u);for(var v=!1,b=o.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(o=b.stateNode,o===null||o._visibility&1||(v=!0)),o=b,b=b.return;return o.tag===3?(b=o.stateNode,v&&a!==null&&(v=31-me(u),o=b.hiddenUpdates,f=o[v],f===null?o[v]=[a]:f.push(a),a.lane=u|536870912),b):null}function mu(o){if(50<Bl)throw Bl=0,Jg=null,Error(i(185));for(var a=o.return;a!==null;)o=a,a=o.return;return o.tag===3?o.stateNode:null}var ss={};function aM(o,a,u,f){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(o,a,u,f){return new aM(o,a,u,f)}function Fp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function qi(o,a){var u=o.alternate;return u===null?(u=Sn(o.tag,a,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=a,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&65011712,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,a=o.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u.refCleanup=o.refCleanup,u}function b0(o,a){o.flags&=65011714;var u=o.alternate;return u===null?(o.childLanes=0,o.lanes=a,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,a=u.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),o}function hu(o,a,u,f,v,b){var _=0;if(f=o,typeof o=="function")Fp(o)&&(_=1);else if(typeof o=="string")_=dR(o,u,be.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case U:return o=Sn(31,u,a,v),o.elementType=U,o.lanes=b,o;case w:return ha(u.children,v,b,a);case C:_=8,v|=24;break;case z:return o=Sn(12,u,a,v|2),o.elementType=z,o.lanes=b,o;case T:return o=Sn(13,u,a,v),o.elementType=T,o.lanes=b,o;case D:return o=Sn(19,u,a,v),o.elementType=D,o.lanes=b,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case A:_=10;break e;case E:_=9;break e;case $:_=11;break e;case R:_=14;break e;case F:_=16,f=null;break e}_=29,u=Error(i(130,o===null?"null":typeof o,"")),f=null}return a=Sn(_,u,a,v),a.elementType=o,a.type=f,a.lanes=b,a}function ha(o,a,u,f){return o=Sn(7,o,f,a),o.lanes=u,o}function Kp(o,a,u){return o=Sn(6,o,null,a),o.lanes=u,o}function S0(o){var a=Sn(18,null,null,0);return a.stateNode=o,a}function Yp(o,a,u){return a=Sn(4,o.children!==null?o.children:[],o.key,a),a.lanes=u,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}var j0=new WeakMap;function In(o,a){if(typeof o=="object"&&o!==null){var u=j0.get(o);return u!==void 0?u:(a={value:o,source:a,stack:he(a)},j0.set(o,a),a)}return{value:o,source:a,stack:he(a)}}var ls=[],cs=0,yu=null,vl=0,qn=[],Un=0,_o=null,Ci=1,zi="";function Ui(o,a){ls[cs++]=vl,ls[cs++]=yu,yu=o,vl=a}function w0(o,a,u){qn[Un++]=Ci,qn[Un++]=zi,qn[Un++]=_o,_o=o;var f=Ci;o=zi;var v=32-me(f)-1;f&=~(1<<v),u+=1;var b=32-me(a)+v;if(30<b){var _=v-v%5;b=(f&(1<<_)-1).toString(32),f>>=_,v-=_,Ci=1<<32-me(a)+v|u<<v|f,zi=b+o}else Ci=1<<b|u<<v|f,zi=o}function Vp(o){o.return!==null&&(Ui(o,1),w0(o,1,0))}function Gp(o){for(;o===yu;)yu=ls[--cs],ls[cs]=null,vl=ls[--cs],ls[cs]=null;for(;o===_o;)_o=qn[--Un],qn[Un]=null,zi=qn[--Un],qn[Un]=null,Ci=qn[--Un],qn[Un]=null}function k0(o,a){qn[Un++]=Ci,qn[Un++]=zi,qn[Un++]=_o,Ci=a.id,zi=a.overflow,_o=o}var Br=null,Gt=null,bt=!1,To=null,Hn=!1,Xp=Error(i(519));function Ao(o){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(In(a,o)),Xp}function C0(o){var a=o.stateNode,u=o.type,f=o.memoizedProps;switch(a[ot]=o,a[gt]=f,u){case"dialog":ht("cancel",a),ht("close",a);break;case"iframe":case"object":case"embed":ht("load",a);break;case"video":case"audio":for(u=0;u<ql.length;u++)ht(ql[u],a);break;case"source":ht("error",a);break;case"img":case"image":case"link":ht("error",a),ht("load",a);break;case"details":ht("toggle",a);break;case"input":ht("invalid",a),Lb(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":ht("invalid",a);break;case"textarea":ht("invalid",a),Bb(a,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||qS(a.textContent,u)?(f.popover!=null&&(ht("beforetoggle",a),ht("toggle",a)),f.onScroll!=null&&ht("scroll",a),f.onScrollEnd!=null&&ht("scrollend",a),f.onClick!=null&&(a.onclick=Bi),a=!0):a=!1,a||Ao(o,!0)}function z0(o){for(Br=o.return;Br;)switch(Br.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Br=Br.return}}function us(o){if(o!==Br)return!1;if(!bt)return z0(o),bt=!0,!1;var a=o.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=o.type,u=!(u!=="form"&&u!=="button")||gm(o.type,o.memoizedProps)),u=!u),u&&Gt&&Ao(o),z0(o),a===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Gt=QS(o)}else if(a===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Gt=QS(o)}else a===27?(a=Gt,Uo(o.type)?(o=vm,vm=null,Gt=o):Gt=a):Gt=Br?Kn(o.stateNode.nextSibling):null;return!0}function ya(){Gt=Br=null,bt=!1}function Qp(){var o=To;return o!==null&&(fn===null?fn=o:fn.push.apply(fn,o),To=null),o}function bl(o){To===null?To=[o]:To.push(o)}var Zp=W(null),xa=null,Hi=null;function Eo(o,a,u){re(Zp,a._currentValue),a._currentValue=u}function Fi(o){o._currentValue=Zp.current,q(Zp)}function Jp(o,a,u){for(;o!==null;){var f=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),o===u)break;o=o.return}}function eg(o,a,u,f){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var b=v.dependencies;if(b!==null){var _=v.child;b=b.firstContext;e:for(;b!==null;){var O=b;b=v;for(var H=0;H<a.length;H++)if(O.context===a[H]){b.lanes|=u,O=b.alternate,O!==null&&(O.lanes|=u),Jp(b.return,u,o),f||(_=null);break e}b=O.next}}else if(v.tag===18){if(_=v.return,_===null)throw Error(i(341));_.lanes|=u,b=_.alternate,b!==null&&(b.lanes|=u),Jp(_,u,o),_=null}else _=v.child;if(_!==null)_.return=v;else for(_=v;_!==null;){if(_===o){_=null;break}if(v=_.sibling,v!==null){v.return=_.return,_=v;break}_=_.return}v=_}}function ds(o,a,u,f){o=null;for(var v=a,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var _=v.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var O=v.type;bn(v.pendingProps.value,_.value)||(o!==null?o.push(O):o=[O])}}else if(v===G.current){if(_=v.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(Yl):o=[Yl])}v=v.return}o!==null&&eg(a,o,u,f),a.flags|=262144}function xu(o){for(o=o.firstContext;o!==null;){if(!bn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function va(o){xa=o,Hi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Ir(o){return _0(xa,o)}function vu(o,a){return xa===null&&va(o),_0(o,a)}function _0(o,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Hi===null){if(o===null)throw Error(i(308));Hi=a,o.dependencies={lanes:0,firstContext:a},o.flags|=524288}else Hi=Hi.next=a;return u}var sM=typeof AbortController<"u"?AbortController:function(){var o=[],a=this.signal={aborted:!1,addEventListener:function(u,f){o.push(f)}};this.abort=function(){a.aborted=!0,o.forEach(function(u){return u()})}},lM=e.unstable_scheduleCallback,cM=e.unstable_NormalPriority,br={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tg(){return{controller:new sM,data:new Map,refCount:0}}function Sl(o){o.refCount--,o.refCount===0&&lM(cM,function(){o.controller.abort()})}var jl=null,rg=0,fs=0,ps=null;function uM(o,a){if(jl===null){var u=jl=[];rg=0,fs=om(),ps={status:"pending",value:void 0,then:function(f){u.push(f)}}}return rg++,a.then(T0,T0),a}function T0(){if(--rg===0&&jl!==null){ps!==null&&(ps.status="fulfilled");var o=jl;jl=null,fs=0,ps=null;for(var a=0;a<o.length;a++)(0,o[a])()}}function dM(o,a){var u=[],f={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return o.then(function(){f.status="fulfilled",f.value=a;for(var v=0;v<u.length;v++)(0,u[v])(a)},function(v){for(f.status="rejected",f.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),f}var A0=B.S;B.S=function(o,a){fS=Je(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&uM(o,a),A0!==null&&A0(o,a)};var ba=W(null);function ng(){var o=ba.current;return o!==null?o:Ut.pooledCache}function bu(o,a){a===null?re(ba,ba.current):re(ba,a.pool)}function E0(){var o=ng();return o===null?null:{parent:br._currentValue,pool:o}}var gs=Error(i(460)),ig=Error(i(474)),Su=Error(i(542)),ju={then:function(){}};function O0(o){return o=o.status,o==="fulfilled"||o==="rejected"}function M0(o,a,u){switch(u=o[u],u===void 0?o.push(a):u!==a&&(a.then(Bi,Bi),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,D0(o),o;default:if(typeof a.status=="string")a.then(Bi,Bi);else{if(o=Ut,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=a,o.status="pending",o.then(function(f){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=f}},function(f){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,D0(o),o}throw ja=a,gs}}function Sa(o){try{var a=o._init;return a(o._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ja=u,gs):u}}var ja=null;function R0(){if(ja===null)throw Error(i(459));var o=ja;return ja=null,o}function D0(o){if(o===gs||o===Su)throw Error(i(483))}var ms=null,wl=0;function wu(o){var a=wl;return wl+=1,ms===null&&(ms=[]),M0(ms,o,a)}function kl(o,a){a=a.props.ref,o.ref=a!==void 0?a:null}function ku(o,a){throw a.$$typeof===S?Error(i(525)):(o=Object.prototype.toString.call(a),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o)))}function $0(o){function a(Q,K){if(o){var ne=Q.deletions;ne===null?(Q.deletions=[K],Q.flags|=16):ne.push(K)}}function u(Q,K){if(!o)return null;for(;K!==null;)a(Q,K),K=K.sibling;return null}function f(Q){for(var K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function v(Q,K){return Q=qi(Q,K),Q.index=0,Q.sibling=null,Q}function b(Q,K,ne){return Q.index=ne,o?(ne=Q.alternate,ne!==null?(ne=ne.index,ne<K?(Q.flags|=67108866,K):ne):(Q.flags|=67108866,K)):(Q.flags|=1048576,K)}function _(Q){return o&&Q.alternate===null&&(Q.flags|=67108866),Q}function O(Q,K,ne,Se){return K===null||K.tag!==6?(K=Kp(ne,Q.mode,Se),K.return=Q,K):(K=v(K,ne),K.return=Q,K)}function H(Q,K,ne,Se){var Qe=ne.type;return Qe===w?ve(Q,K,ne.props.children,Se,ne.key):K!==null&&(K.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===F&&Sa(Qe)===K.type)?(K=v(K,ne.props),kl(K,ne),K.return=Q,K):(K=hu(ne.type,ne.key,ne.props,null,Q.mode,Se),kl(K,ne),K.return=Q,K)}function oe(Q,K,ne,Se){return K===null||K.tag!==4||K.stateNode.containerInfo!==ne.containerInfo||K.stateNode.implementation!==ne.implementation?(K=Yp(ne,Q.mode,Se),K.return=Q,K):(K=v(K,ne.children||[]),K.return=Q,K)}function ve(Q,K,ne,Se,Qe){return K===null||K.tag!==7?(K=ha(ne,Q.mode,Se,Qe),K.return=Q,K):(K=v(K,ne),K.return=Q,K)}function ke(Q,K,ne){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Kp(""+K,Q.mode,ne),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case j:return ne=hu(K.type,K.key,K.props,null,Q.mode,ne),kl(ne,K),ne.return=Q,ne;case k:return K=Yp(K,Q.mode,ne),K.return=Q,K;case F:return K=Sa(K),ke(Q,K,ne)}if(_e(K)||ae(K))return K=ha(K,Q.mode,ne,null),K.return=Q,K;if(typeof K.then=="function")return ke(Q,wu(K),ne);if(K.$$typeof===A)return ke(Q,vu(Q,K),ne);ku(Q,K)}return null}function se(Q,K,ne,Se){var Qe=K!==null?K.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Qe!==null?null:O(Q,K,""+ne,Se);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case j:return ne.key===Qe?H(Q,K,ne,Se):null;case k:return ne.key===Qe?oe(Q,K,ne,Se):null;case F:return ne=Sa(ne),se(Q,K,ne,Se)}if(_e(ne)||ae(ne))return Qe!==null?null:ve(Q,K,ne,Se,null);if(typeof ne.then=="function")return se(Q,K,wu(ne),Se);if(ne.$$typeof===A)return se(Q,K,vu(Q,ne),Se);ku(Q,ne)}return null}function fe(Q,K,ne,Se,Qe){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Q=Q.get(ne)||null,O(K,Q,""+Se,Qe);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case j:return Q=Q.get(Se.key===null?ne:Se.key)||null,H(K,Q,Se,Qe);case k:return Q=Q.get(Se.key===null?ne:Se.key)||null,oe(K,Q,Se,Qe);case F:return Se=Sa(Se),fe(Q,K,ne,Se,Qe)}if(_e(Se)||ae(Se))return Q=Q.get(ne)||null,ve(K,Q,Se,Qe,null);if(typeof Se.then=="function")return fe(Q,K,ne,wu(Se),Qe);if(Se.$$typeof===A)return fe(Q,K,ne,vu(K,Se),Qe);ku(K,Se)}return null}function Ie(Q,K,ne,Se){for(var Qe=null,jt=null,He=K,ct=K=0,vt=null;He!==null&&ct<ne.length;ct++){He.index>ct?(vt=He,He=null):vt=He.sibling;var wt=se(Q,He,ne[ct],Se);if(wt===null){He===null&&(He=vt);break}o&&He&&wt.alternate===null&&a(Q,He),K=b(wt,K,ct),jt===null?Qe=wt:jt.sibling=wt,jt=wt,He=vt}if(ct===ne.length)return u(Q,He),bt&&Ui(Q,ct),Qe;if(He===null){for(;ct<ne.length;ct++)He=ke(Q,ne[ct],Se),He!==null&&(K=b(He,K,ct),jt===null?Qe=He:jt.sibling=He,jt=He);return bt&&Ui(Q,ct),Qe}for(He=f(He);ct<ne.length;ct++)vt=fe(He,Q,ct,ne[ct],Se),vt!==null&&(o&&vt.alternate!==null&&He.delete(vt.key===null?ct:vt.key),K=b(vt,K,ct),jt===null?Qe=vt:jt.sibling=vt,jt=vt);return o&&He.forEach(function(Vo){return a(Q,Vo)}),bt&&Ui(Q,ct),Qe}function et(Q,K,ne,Se){if(ne==null)throw Error(i(151));for(var Qe=null,jt=null,He=K,ct=K=0,vt=null,wt=ne.next();He!==null&&!wt.done;ct++,wt=ne.next()){He.index>ct?(vt=He,He=null):vt=He.sibling;var Vo=se(Q,He,wt.value,Se);if(Vo===null){He===null&&(He=vt);break}o&&He&&Vo.alternate===null&&a(Q,He),K=b(Vo,K,ct),jt===null?Qe=Vo:jt.sibling=Vo,jt=Vo,He=vt}if(wt.done)return u(Q,He),bt&&Ui(Q,ct),Qe;if(He===null){for(;!wt.done;ct++,wt=ne.next())wt=ke(Q,wt.value,Se),wt!==null&&(K=b(wt,K,ct),jt===null?Qe=wt:jt.sibling=wt,jt=wt);return bt&&Ui(Q,ct),Qe}for(He=f(He);!wt.done;ct++,wt=ne.next())wt=fe(He,Q,ct,wt.value,Se),wt!==null&&(o&&wt.alternate!==null&&He.delete(wt.key===null?ct:wt.key),K=b(wt,K,ct),jt===null?Qe=wt:jt.sibling=wt,jt=wt);return o&&He.forEach(function(jR){return a(Q,jR)}),bt&&Ui(Q,ct),Qe}function Bt(Q,K,ne,Se){if(typeof ne=="object"&&ne!==null&&ne.type===w&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case j:e:{for(var Qe=ne.key;K!==null;){if(K.key===Qe){if(Qe=ne.type,Qe===w){if(K.tag===7){u(Q,K.sibling),Se=v(K,ne.props.children),Se.return=Q,Q=Se;break e}}else if(K.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===F&&Sa(Qe)===K.type){u(Q,K.sibling),Se=v(K,ne.props),kl(Se,ne),Se.return=Q,Q=Se;break e}u(Q,K);break}else a(Q,K);K=K.sibling}ne.type===w?(Se=ha(ne.props.children,Q.mode,Se,ne.key),Se.return=Q,Q=Se):(Se=hu(ne.type,ne.key,ne.props,null,Q.mode,Se),kl(Se,ne),Se.return=Q,Q=Se)}return _(Q);case k:e:{for(Qe=ne.key;K!==null;){if(K.key===Qe)if(K.tag===4&&K.stateNode.containerInfo===ne.containerInfo&&K.stateNode.implementation===ne.implementation){u(Q,K.sibling),Se=v(K,ne.children||[]),Se.return=Q,Q=Se;break e}else{u(Q,K);break}else a(Q,K);K=K.sibling}Se=Yp(ne,Q.mode,Se),Se.return=Q,Q=Se}return _(Q);case F:return ne=Sa(ne),Bt(Q,K,ne,Se)}if(_e(ne))return Ie(Q,K,ne,Se);if(ae(ne)){if(Qe=ae(ne),typeof Qe!="function")throw Error(i(150));return ne=Qe.call(ne),et(Q,K,ne,Se)}if(typeof ne.then=="function")return Bt(Q,K,wu(ne),Se);if(ne.$$typeof===A)return Bt(Q,K,vu(Q,ne),Se);ku(Q,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,K!==null&&K.tag===6?(u(Q,K.sibling),Se=v(K,ne),Se.return=Q,Q=Se):(u(Q,K),Se=Kp(ne,Q.mode,Se),Se.return=Q,Q=Se),_(Q)):u(Q,K)}return function(Q,K,ne,Se){try{wl=0;var Qe=Bt(Q,K,ne,Se);return ms=null,Qe}catch(He){if(He===gs||He===Su)throw He;var jt=Sn(29,He,null,Q.mode);return jt.lanes=Se,jt.return=Q,jt}finally{}}}var wa=$0(!0),P0=$0(!1),Oo=!1;function og(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ag(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Mo(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ro(o,a,u){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(Ot&2)!==0){var v=f.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),f.pending=a,a=mu(o),v0(o,null,u),a}return gu(o,f,a,u),mu(o)}function Cl(o,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=o.pendingLanes,u|=f,a.lanes=u,Co(o,u)}}function sg(o,a){var u=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var v=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var _={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?v=b=_:b=b.next=_,u=u.next}while(u!==null);b===null?v=b=a:b=b.next=a}else v=b=a;u={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=a:o.next=a,u.lastBaseUpdate=a}var lg=!1;function zl(){if(lg){var o=ps;if(o!==null)throw o}}function _l(o,a,u,f){lg=!1;var v=o.updateQueue;Oo=!1;var b=v.firstBaseUpdate,_=v.lastBaseUpdate,O=v.shared.pending;if(O!==null){v.shared.pending=null;var H=O,oe=H.next;H.next=null,_===null?b=oe:_.next=oe,_=H;var ve=o.alternate;ve!==null&&(ve=ve.updateQueue,O=ve.lastBaseUpdate,O!==_&&(O===null?ve.firstBaseUpdate=oe:O.next=oe,ve.lastBaseUpdate=H))}if(b!==null){var ke=v.baseState;_=0,ve=oe=H=null,O=b;do{var se=O.lane&-536870913,fe=se!==O.lane;if(fe?(xt&se)===se:(f&se)===se){se!==0&&se===fs&&(lg=!0),ve!==null&&(ve=ve.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ie=o,et=O;se=a;var Bt=u;switch(et.tag){case 1:if(Ie=et.payload,typeof Ie=="function"){ke=Ie.call(Bt,ke,se);break e}ke=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=et.payload,se=typeof Ie=="function"?Ie.call(Bt,ke,se):Ie,se==null)break e;ke=x({},ke,se);break e;case 2:Oo=!0}}se=O.callback,se!==null&&(o.flags|=64,fe&&(o.flags|=8192),fe=v.callbacks,fe===null?v.callbacks=[se]:fe.push(se))}else fe={lane:se,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ve===null?(oe=ve=fe,H=ke):ve=ve.next=fe,_|=se;if(O=O.next,O===null){if(O=v.shared.pending,O===null)break;fe=O,O=fe.next,fe.next=null,v.lastBaseUpdate=fe,v.shared.pending=null}}while(!0);ve===null&&(H=ke),v.baseState=H,v.firstBaseUpdate=oe,v.lastBaseUpdate=ve,b===null&&(v.shared.lanes=0),Lo|=_,o.lanes=_,o.memoizedState=ke}}function N0(o,a){if(typeof o!="function")throw Error(i(191,o));o.call(a)}function L0(o,a){var u=o.callbacks;if(u!==null)for(o.callbacks=null,o=0;o<u.length;o++)N0(u[o],a)}var hs=W(null),Cu=W(0);function W0(o,a){o=eo,re(Cu,o),re(hs,a),eo=o|a.baseLanes}function cg(){re(Cu,eo),re(hs,hs.current)}function ug(){eo=Cu.current,q(hs),q(Cu)}var jn=W(null),Fn=null;function Do(o){var a=o.alternate;re(mr,mr.current&1),re(jn,o),Fn===null&&(a===null||hs.current!==null||a.memoizedState!==null)&&(Fn=o)}function dg(o){re(mr,mr.current),re(jn,o),Fn===null&&(Fn=o)}function B0(o){o.tag===22?(re(mr,mr.current),re(jn,o),Fn===null&&(Fn=o)):$o()}function $o(){re(mr,mr.current),re(jn,jn.current)}function wn(o){q(jn),Fn===o&&(Fn=null),q(mr)}var mr=W(0);function zu(o){for(var a=o;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||ym(u)||xm(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ki=0,st=null,Lt=null,Sr=null,_u=!1,ys=!1,ka=!1,Tu=0,Tl=0,xs=null,fM=0;function dr(){throw Error(i(321))}function fg(o,a){if(a===null)return!1;for(var u=0;u<a.length&&u<o.length;u++)if(!bn(o[u],a[u]))return!1;return!0}function pg(o,a,u,f,v,b){return Ki=b,st=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=o===null||o.memoizedState===null?w1:Tg,ka=!1,b=u(f,v),ka=!1,ys&&(b=q0(a,u,f,v)),I0(o),b}function I0(o){B.H=Ol;var a=Lt!==null&&Lt.next!==null;if(Ki=0,Sr=Lt=st=null,_u=!1,Tl=0,xs=null,a)throw Error(i(300));o===null||jr||(o=o.dependencies,o!==null&&xu(o)&&(jr=!0))}function q0(o,a,u,f){st=o;var v=0;do{if(ys&&(xs=null),Tl=0,ys=!1,25<=v)throw Error(i(301));if(v+=1,Sr=Lt=null,o.updateQueue!=null){var b=o.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}B.H=k1,b=a(u,f)}while(ys);return b}function pM(){var o=B.H,a=o.useState()[0];return a=typeof a.then=="function"?Al(a):a,o=o.useState()[0],(Lt!==null?Lt.memoizedState:null)!==o&&(st.flags|=1024),a}function gg(){var o=Tu!==0;return Tu=0,o}function mg(o,a,u){a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~u}function hg(o){if(_u){for(o=o.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}_u=!1}Ki=0,Sr=Lt=st=null,ys=!1,Tl=Tu=0,xs=null}function en(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?st.memoizedState=Sr=o:Sr=Sr.next=o,Sr}function hr(){if(Lt===null){var o=st.alternate;o=o!==null?o.memoizedState:null}else o=Lt.next;var a=Sr===null?st.memoizedState:Sr.next;if(a!==null)Sr=a,Lt=o;else{if(o===null)throw st.alternate===null?Error(i(467)):Error(i(310));Lt=o,o={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Sr===null?st.memoizedState=Sr=o:Sr=Sr.next=o}return Sr}function Au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(o){var a=Tl;return Tl+=1,xs===null&&(xs=[]),o=M0(xs,o,a),a=st,(Sr===null?a.memoizedState:Sr.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?w1:Tg),o}function Eu(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Al(o);if(o.$$typeof===A)return Ir(o)}throw Error(i(438,String(o)))}function yg(o){var a=null,u=st.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=st.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Au(),st.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(o),f=0;f<o;f++)u[f]=le;return a.index++,u}function Yi(o,a){return typeof a=="function"?a(o):a}function Ou(o){var a=hr();return xg(a,Lt,o)}function xg(o,a,u){var f=o.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var v=o.baseQueue,b=f.pending;if(b!==null){if(v!==null){var _=v.next;v.next=b.next,b.next=_}a.baseQueue=v=b,f.pending=null}if(b=o.baseState,v===null)o.memoizedState=b;else{a=v.next;var O=_=null,H=null,oe=a,ve=!1;do{var ke=oe.lane&-536870913;if(ke!==oe.lane?(xt&ke)===ke:(Ki&ke)===ke){var se=oe.revertLane;if(se===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),ke===fs&&(ve=!0);else if((Ki&se)===se){oe=oe.next,se===fs&&(ve=!0);continue}else ke={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},H===null?(O=H=ke,_=b):H=H.next=ke,st.lanes|=se,Lo|=se;ke=oe.action,ka&&u(b,ke),b=oe.hasEagerState?oe.eagerState:u(b,ke)}else se={lane:ke,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},H===null?(O=H=se,_=b):H=H.next=se,st.lanes|=ke,Lo|=ke;oe=oe.next}while(oe!==null&&oe!==a);if(H===null?_=b:H.next=O,!bn(b,o.memoizedState)&&(jr=!0,ve&&(u=ps,u!==null)))throw u;o.memoizedState=b,o.baseState=_,o.baseQueue=H,f.lastRenderedState=b}return v===null&&(f.lanes=0),[o.memoizedState,f.dispatch]}function vg(o){var a=hr(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=u.dispatch,v=u.pending,b=a.memoizedState;if(v!==null){u.pending=null;var _=v=v.next;do b=o(b,_.action),_=_.next;while(_!==v);bn(b,a.memoizedState)||(jr=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,f]}function U0(o,a,u){var f=st,v=hr(),b=bt;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=a();var _=!bn((Lt||v).memoizedState,u);if(_&&(v.memoizedState=u,jr=!0),v=v.queue,jg(K0.bind(null,f,v,o),[o]),v.getSnapshot!==a||_||Sr!==null&&Sr.memoizedState.tag&1){if(f.flags|=2048,vs(9,{destroy:void 0},F0.bind(null,f,v,u,a),null),Ut===null)throw Error(i(349));b||(Ki&127)!==0||H0(f,a,u)}return u}function H0(o,a,u){o.flags|=16384,o={getSnapshot:a,value:u},a=st.updateQueue,a===null?(a=Au(),st.updateQueue=a,a.stores=[o]):(u=a.stores,u===null?a.stores=[o]:u.push(o))}function F0(o,a,u,f){a.value=u,a.getSnapshot=f,Y0(a)&&V0(o)}function K0(o,a,u){return u(function(){Y0(a)&&V0(o)})}function Y0(o){var a=o.getSnapshot;o=o.value;try{var u=a();return!bn(o,u)}catch{return!0}}function V0(o){var a=ma(o,2);a!==null&&pn(a,o,2)}function bg(o){var a=en();if(typeof o=="function"){var u=o;if(o=u(),ka){ar(!0);try{u()}finally{ar(!1)}}}return a.memoizedState=a.baseState=o,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:o},a}function G0(o,a,u,f){return o.baseState=u,xg(o,Lt,typeof f=="function"?f:Yi)}function gM(o,a,u,f,v){if(Du(o))throw Error(i(485));if(o=a.action,o!==null){var b={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){b.listeners.push(_)}};B.T!==null?u(!0):b.isTransition=!1,f(b),u=a.pending,u===null?(b.next=a.pending=b,X0(a,b)):(b.next=u.next,a.pending=u.next=b)}}function X0(o,a){var u=a.action,f=a.payload,v=o.state;if(a.isTransition){var b=B.T,_={};B.T=_;try{var O=u(v,f),H=B.S;H!==null&&H(_,O),Q0(o,a,O)}catch(oe){Sg(o,a,oe)}finally{b!==null&&_.types!==null&&(b.types=_.types),B.T=b}}else try{b=u(v,f),Q0(o,a,b)}catch(oe){Sg(o,a,oe)}}function Q0(o,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Z0(o,a,f)},function(f){return Sg(o,a,f)}):Z0(o,a,u)}function Z0(o,a,u){a.status="fulfilled",a.value=u,J0(a),o.state=u,a=o.pending,a!==null&&(u=a.next,u===a?o.pending=null:(u=u.next,a.next=u,X0(o,u)))}function Sg(o,a,u){var f=o.pending;if(o.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,J0(a),a=a.next;while(a!==f)}o.action=null}function J0(o){o=o.listeners;for(var a=0;a<o.length;a++)(0,o[a])()}function e1(o,a){return a}function t1(o,a){if(bt){var u=Ut.formState;if(u!==null){e:{var f=st;if(bt){if(Gt){t:{for(var v=Gt,b=Hn;v.nodeType!==8;){if(!b){v=null;break t}if(v=Kn(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){Gt=Kn(v.nextSibling),f=v.data==="F!";break e}}Ao(f)}f=!1}f&&(a=u[0])}}return u=en(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e1,lastRenderedState:a},u.queue=f,u=b1.bind(null,st,f),f.dispatch=u,f=bg(!1),b=_g.bind(null,st,!1,f.queue),f=en(),v={state:a,dispatch:null,action:o,pending:null},f.queue=v,u=gM.bind(null,st,v,b,u),v.dispatch=u,f.memoizedState=o,[a,u,!1]}function r1(o){var a=hr();return n1(a,Lt,o)}function n1(o,a,u){if(a=xg(o,a,e1)[0],o=Ou(Yi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Al(a)}catch(_){throw _===gs?Su:_}else f=a;a=hr();var v=a.queue,b=v.dispatch;return u!==a.memoizedState&&(st.flags|=2048,vs(9,{destroy:void 0},mM.bind(null,v,u),null)),[f,b,o]}function mM(o,a){o.action=a}function i1(o){var a=hr(),u=Lt;if(u!==null)return n1(a,u,o);hr(),a=a.memoizedState,u=hr();var f=u.queue.dispatch;return u.memoizedState=o,[a,f,!1]}function vs(o,a,u,f){return o={tag:o,create:u,deps:f,inst:a,next:null},a=st.updateQueue,a===null&&(a=Au(),st.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=o.next=o:(f=u.next,u.next=o,o.next=f,a.lastEffect=o),o}function o1(){return hr().memoizedState}function Mu(o,a,u,f){var v=en();st.flags|=o,v.memoizedState=vs(1|a,{destroy:void 0},u,f===void 0?null:f)}function Ru(o,a,u,f){var v=hr();f=f===void 0?null:f;var b=v.memoizedState.inst;Lt!==null&&f!==null&&fg(f,Lt.memoizedState.deps)?v.memoizedState=vs(a,b,u,f):(st.flags|=o,v.memoizedState=vs(1|a,b,u,f))}function a1(o,a){Mu(8390656,8,o,a)}function jg(o,a){Ru(2048,8,o,a)}function hM(o){st.flags|=4;var a=st.updateQueue;if(a===null)a=Au(),st.updateQueue=a,a.events=[o];else{var u=a.events;u===null?a.events=[o]:u.push(o)}}function s1(o){var a=hr().memoizedState;return hM({ref:a,nextImpl:o}),function(){if((Ot&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function l1(o,a){return Ru(4,2,o,a)}function c1(o,a){return Ru(4,4,o,a)}function u1(o,a){if(typeof a=="function"){o=o();var u=a(o);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function d1(o,a,u){u=u!=null?u.concat([o]):null,Ru(4,4,u1.bind(null,a,o),u)}function wg(){}function f1(o,a){var u=hr();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&fg(a,f[1])?f[0]:(u.memoizedState=[o,a],o)}function p1(o,a){var u=hr();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&fg(a,f[1]))return f[0];if(f=o(),ka){ar(!0);try{o()}finally{ar(!1)}}return u.memoizedState=[f,a],f}function kg(o,a,u){return u===void 0||(Ki&1073741824)!==0&&(xt&261930)===0?o.memoizedState=a:(o.memoizedState=u,o=gS(),st.lanes|=o,Lo|=o,u)}function g1(o,a,u,f){return bn(u,a)?u:hs.current!==null?(o=kg(o,u,f),bn(o,a)||(jr=!0),o):(Ki&42)===0||(Ki&1073741824)!==0&&(xt&261930)===0?(jr=!0,o.memoizedState=u):(o=gS(),st.lanes|=o,Lo|=o,a)}function m1(o,a,u,f,v){var b=Z.p;Z.p=b!==0&&8>b?b:8;var _=B.T,O={};B.T=O,_g(o,!1,a,u);try{var H=v(),oe=B.S;if(oe!==null&&oe(O,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ve=dM(H,f);El(o,a,ve,zn(o))}else El(o,a,f,zn(o))}catch(ke){El(o,a,{then:function(){},status:"rejected",reason:ke},zn())}finally{Z.p=b,_!==null&&O.types!==null&&(_.types=O.types),B.T=_}}function yM(){}function Cg(o,a,u,f){if(o.tag!==5)throw Error(i(476));var v=h1(o).queue;m1(o,v,a,ce,u===null?yM:function(){return y1(o),u(f)})}function h1(o){var a=o.memoizedState;if(a!==null)return a;a={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ce},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:u},next:null},o.memoizedState=a,o=o.alternate,o!==null&&(o.memoizedState=a),a}function y1(o){var a=h1(o);a.next===null&&(a=o.alternate.memoizedState),El(o,a.next.queue,{},zn())}function zg(){return Ir(Yl)}function x1(){return hr().memoizedState}function v1(){return hr().memoizedState}function xM(o){for(var a=o.return;a!==null;){switch(a.tag){case 24:case 3:var u=zn();o=Mo(u);var f=Ro(a,o,u);f!==null&&(pn(f,a,u),Cl(f,a,u)),a={cache:tg()},o.payload=a;return}a=a.return}}function vM(o,a,u){var f=zn();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Du(o)?S1(a,u):(u=Hp(o,a,u,f),u!==null&&(pn(u,o,f),j1(u,a,f)))}function b1(o,a,u){var f=zn();El(o,a,u,f)}function El(o,a,u,f){var v={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Du(o))S1(a,v);else{var b=o.alternate;if(o.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var _=a.lastRenderedState,O=b(_,u);if(v.hasEagerState=!0,v.eagerState=O,bn(O,_))return gu(o,a,v,0),Ut===null&&pu(),!1}catch{}finally{}if(u=Hp(o,a,v,f),u!==null)return pn(u,o,f),j1(u,a,f),!0}return!1}function _g(o,a,u,f){if(f={lane:2,revertLane:om(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Du(o)){if(a)throw Error(i(479))}else a=Hp(o,u,f,2),a!==null&&pn(a,o,2)}function Du(o){var a=o.alternate;return o===st||a!==null&&a===st}function S1(o,a){ys=_u=!0;var u=o.pending;u===null?a.next=a:(a.next=u.next,u.next=a),o.pending=a}function j1(o,a,u){if((u&4194048)!==0){var f=a.lanes;f&=o.pendingLanes,u|=f,a.lanes=u,Co(o,u)}}var Ol={readContext:Ir,use:Eu,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useLayoutEffect:dr,useInsertionEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useSyncExternalStore:dr,useId:dr,useHostTransitionStatus:dr,useFormState:dr,useActionState:dr,useOptimistic:dr,useMemoCache:dr,useCacheRefresh:dr};Ol.useEffectEvent=dr;var w1={readContext:Ir,use:Eu,useCallback:function(o,a){return en().memoizedState=[o,a===void 0?null:a],o},useContext:Ir,useEffect:a1,useImperativeHandle:function(o,a,u){u=u!=null?u.concat([o]):null,Mu(4194308,4,u1.bind(null,a,o),u)},useLayoutEffect:function(o,a){return Mu(4194308,4,o,a)},useInsertionEffect:function(o,a){Mu(4,2,o,a)},useMemo:function(o,a){var u=en();a=a===void 0?null:a;var f=o();if(ka){ar(!0);try{o()}finally{ar(!1)}}return u.memoizedState=[f,a],f},useReducer:function(o,a,u){var f=en();if(u!==void 0){var v=u(a);if(ka){ar(!0);try{u(a)}finally{ar(!1)}}}else v=a;return f.memoizedState=f.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},f.queue=o,o=o.dispatch=vM.bind(null,st,o),[f.memoizedState,o]},useRef:function(o){var a=en();return o={current:o},a.memoizedState=o},useState:function(o){o=bg(o);var a=o.queue,u=b1.bind(null,st,a);return a.dispatch=u,[o.memoizedState,u]},useDebugValue:wg,useDeferredValue:function(o,a){var u=en();return kg(u,o,a)},useTransition:function(){var o=bg(!1);return o=m1.bind(null,st,o.queue,!0,!1),en().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,a,u){var f=st,v=en();if(bt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),Ut===null)throw Error(i(349));(xt&127)!==0||H0(f,a,u)}v.memoizedState=u;var b={value:u,getSnapshot:a};return v.queue=b,a1(K0.bind(null,f,b,o),[o]),f.flags|=2048,vs(9,{destroy:void 0},F0.bind(null,f,b,u,a),null),u},useId:function(){var o=en(),a=Ut.identifierPrefix;if(bt){var u=zi,f=Ci;u=(f&~(1<<32-me(f)-1)).toString(32)+u,a="_"+a+"R_"+u,u=Tu++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=fM++,a="_"+a+"r_"+u.toString(32)+"_";return o.memoizedState=a},useHostTransitionStatus:zg,useFormState:t1,useActionState:t1,useOptimistic:function(o){var a=en();a.memoizedState=a.baseState=o;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=_g.bind(null,st,!0,u),u.dispatch=a,[o,a]},useMemoCache:yg,useCacheRefresh:function(){return en().memoizedState=xM.bind(null,st)},useEffectEvent:function(o){var a=en(),u={impl:o};return a.memoizedState=u,function(){if((Ot&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},Tg={readContext:Ir,use:Eu,useCallback:f1,useContext:Ir,useEffect:jg,useImperativeHandle:d1,useInsertionEffect:l1,useLayoutEffect:c1,useMemo:p1,useReducer:Ou,useRef:o1,useState:function(){return Ou(Yi)},useDebugValue:wg,useDeferredValue:function(o,a){var u=hr();return g1(u,Lt.memoizedState,o,a)},useTransition:function(){var o=Ou(Yi)[0],a=hr().memoizedState;return[typeof o=="boolean"?o:Al(o),a]},useSyncExternalStore:U0,useId:x1,useHostTransitionStatus:zg,useFormState:r1,useActionState:r1,useOptimistic:function(o,a){var u=hr();return G0(u,Lt,o,a)},useMemoCache:yg,useCacheRefresh:v1};Tg.useEffectEvent=s1;var k1={readContext:Ir,use:Eu,useCallback:f1,useContext:Ir,useEffect:jg,useImperativeHandle:d1,useInsertionEffect:l1,useLayoutEffect:c1,useMemo:p1,useReducer:vg,useRef:o1,useState:function(){return vg(Yi)},useDebugValue:wg,useDeferredValue:function(o,a){var u=hr();return Lt===null?kg(u,o,a):g1(u,Lt.memoizedState,o,a)},useTransition:function(){var o=vg(Yi)[0],a=hr().memoizedState;return[typeof o=="boolean"?o:Al(o),a]},useSyncExternalStore:U0,useId:x1,useHostTransitionStatus:zg,useFormState:i1,useActionState:i1,useOptimistic:function(o,a){var u=hr();return Lt!==null?G0(u,Lt,o,a):(u.baseState=o,[o,u.queue.dispatch])},useMemoCache:yg,useCacheRefresh:v1};k1.useEffectEvent=s1;function Ag(o,a,u,f){a=o.memoizedState,u=u(f,a),u=u==null?a:x({},a,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var Eg={enqueueSetState:function(o,a,u){o=o._reactInternals;var f=zn(),v=Mo(f);v.payload=a,u!=null&&(v.callback=u),a=Ro(o,v,f),a!==null&&(pn(a,o,f),Cl(a,o,f))},enqueueReplaceState:function(o,a,u){o=o._reactInternals;var f=zn(),v=Mo(f);v.tag=1,v.payload=a,u!=null&&(v.callback=u),a=Ro(o,v,f),a!==null&&(pn(a,o,f),Cl(a,o,f))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var u=zn(),f=Mo(u);f.tag=2,a!=null&&(f.callback=a),a=Ro(o,f,u),a!==null&&(pn(a,o,u),Cl(a,o,u))}};function C1(o,a,u,f,v,b,_){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,b,_):a.prototype&&a.prototype.isPureReactComponent?!yl(u,f)||!yl(v,b):!0}function z1(o,a,u,f){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==o&&Eg.enqueueReplaceState(a,a.state,null)}function Ca(o,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(o=o.defaultProps){u===a&&(u=x({},u));for(var v in o)u[v]===void 0&&(u[v]=o[v])}return u}function _1(o){fu(o)}function T1(o){console.error(o)}function A1(o){fu(o)}function $u(o,a){try{var u=o.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function E1(o,a,u){try{var f=o.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Og(o,a,u){return u=Mo(u),u.tag=3,u.payload={element:null},u.callback=function(){$u(o,a)},u}function O1(o){return o=Mo(o),o.tag=3,o}function M1(o,a,u,f){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var b=f.value;o.payload=function(){return v(b)},o.callback=function(){E1(a,u,f)}}var _=u.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(o.callback=function(){E1(a,u,f),typeof v!="function"&&(Wo===null?Wo=new Set([this]):Wo.add(this));var O=f.stack;this.componentDidCatch(f.value,{componentStack:O!==null?O:""})})}function bM(o,a,u,f,v){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&ds(a,u,v,!0),u=jn.current,u!==null){switch(u.tag){case 31:case 13:return Fn===null?Yu():u.alternate===null&&fr===0&&(fr=3),u.flags&=-257,u.flags|=65536,u.lanes=v,f===ju?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),rm(o,f,v)),!1;case 22:return u.flags|=65536,f===ju?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),rm(o,f,v)),!1}throw Error(i(435,u.tag))}return rm(o,f,v),Yu(),!1}if(bt)return a=jn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,f!==Xp&&(o=Error(i(422),{cause:f}),bl(In(o,u)))):(f!==Xp&&(a=Error(i(423),{cause:f}),bl(In(a,u))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,f=In(f,u),v=Og(o.stateNode,f,v),sg(o,v),fr!==4&&(fr=2)),!1;var b=Error(i(520),{cause:f});if(b=In(b,u),Wl===null?Wl=[b]:Wl.push(b),fr!==4&&(fr=2),a===null)return!0;f=In(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,o=v&-v,u.lanes|=o,o=Og(u.stateNode,f,o),sg(u,o),!1;case 1:if(a=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Wo===null||!Wo.has(b))))return u.flags|=65536,v&=-v,u.lanes|=v,v=O1(v),M1(v,o,u,f),sg(u,v),!1}u=u.return}while(u!==null);return!1}var Mg=Error(i(461)),jr=!1;function qr(o,a,u,f){a.child=o===null?P0(a,null,u,f):wa(a,o.child,u,f)}function R1(o,a,u,f,v){u=u.render;var b=a.ref;if("ref"in f){var _={};for(var O in f)O!=="ref"&&(_[O]=f[O])}else _=f;return va(a),f=pg(o,a,u,_,b,v),O=gg(),o!==null&&!jr?(mg(o,a,v),Vi(o,a,v)):(bt&&O&&Vp(a),a.flags|=1,qr(o,a,f,v),a.child)}function D1(o,a,u,f,v){if(o===null){var b=u.type;return typeof b=="function"&&!Fp(b)&&b.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=b,$1(o,a,b,f,v)):(o=hu(u.type,null,f,a,a.mode,v),o.ref=a.ref,o.return=a,a.child=o)}if(b=o.child,!Bg(o,v)){var _=b.memoizedProps;if(u=u.compare,u=u!==null?u:yl,u(_,f)&&o.ref===a.ref)return Vi(o,a,v)}return a.flags|=1,o=qi(b,f),o.ref=a.ref,o.return=a,a.child=o}function $1(o,a,u,f,v){if(o!==null){var b=o.memoizedProps;if(yl(b,f)&&o.ref===a.ref)if(jr=!1,a.pendingProps=f=b,Bg(o,v))(o.flags&131072)!==0&&(jr=!0);else return a.lanes=o.lanes,Vi(o,a,v)}return Rg(o,a,u,f,v)}function P1(o,a,u,f){var v=f.children,b=o!==null?o.memoizedState:null;if(o===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,o!==null){for(f=a.child=o.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~b}else f=0,a.child=null;return N1(o,a,b,u,f)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},o!==null&&bu(a,b!==null?b.cachePool:null),b!==null?W0(a,b):cg(),B0(a);else return f=a.lanes=536870912,N1(o,a,b!==null?b.baseLanes|u:u,u,f)}else b!==null?(bu(a,b.cachePool),W0(a,b),$o(),a.memoizedState=null):(o!==null&&bu(a,null),cg(),$o());return qr(o,a,v,u),a.child}function Ml(o,a){return o!==null&&o.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function N1(o,a,u,f,v){var b=ng();return b=b===null?null:{parent:br._currentValue,pool:b},a.memoizedState={baseLanes:u,cachePool:b},o!==null&&bu(a,null),cg(),B0(a),o!==null&&ds(o,a,f,!0),a.childLanes=v,null}function Pu(o,a){return a=Lu({mode:a.mode,children:a.children},o.mode),a.ref=o.ref,o.child=a,a.return=o,a}function L1(o,a,u){return wa(a,o.child,null,u),o=Pu(a,a.pendingProps),o.flags|=2,wn(a),a.memoizedState=null,o}function SM(o,a,u){var f=a.pendingProps,v=(a.flags&128)!==0;if(a.flags&=-129,o===null){if(bt){if(f.mode==="hidden")return o=Pu(a,f),a.lanes=536870912,Ml(null,o);if(dg(a),(o=Gt)?(o=XS(o,Hn),o=o!==null&&o.data==="&"?o:null,o!==null&&(a.memoizedState={dehydrated:o,treeContext:_o!==null?{id:Ci,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},u=S0(o),u.return=a,a.child=u,Br=a,Gt=null)):o=null,o===null)throw Ao(a);return a.lanes=536870912,null}return Pu(a,f)}var b=o.memoizedState;if(b!==null){var _=b.dehydrated;if(dg(a),v)if(a.flags&256)a.flags&=-257,a=L1(o,a,u);else if(a.memoizedState!==null)a.child=o.child,a.flags|=128,a=null;else throw Error(i(558));else if(jr||ds(o,a,u,!1),v=(u&o.childLanes)!==0,jr||v){if(f=Ut,f!==null&&(_=ai(f,u),_!==0&&_!==b.retryLane))throw b.retryLane=_,ma(o,_),pn(f,o,_),Mg;Yu(),a=L1(o,a,u)}else o=b.treeContext,Gt=Kn(_.nextSibling),Br=a,bt=!0,To=null,Hn=!1,o!==null&&k0(a,o),a=Pu(a,f),a.flags|=4096;return a}return o=qi(o.child,{mode:f.mode,children:f.children}),o.ref=a.ref,a.child=o,o.return=a,o}function Nu(o,a){var u=a.ref;if(u===null)o!==null&&o.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(o===null||o.ref!==u)&&(a.flags|=4194816)}}function Rg(o,a,u,f,v){return va(a),u=pg(o,a,u,f,void 0,v),f=gg(),o!==null&&!jr?(mg(o,a,v),Vi(o,a,v)):(bt&&f&&Vp(a),a.flags|=1,qr(o,a,u,v),a.child)}function W1(o,a,u,f,v,b){return va(a),a.updateQueue=null,u=q0(a,f,u,v),I0(o),f=gg(),o!==null&&!jr?(mg(o,a,b),Vi(o,a,b)):(bt&&f&&Vp(a),a.flags|=1,qr(o,a,u,b),a.child)}function B1(o,a,u,f,v){if(va(a),a.stateNode===null){var b=ss,_=u.contextType;typeof _=="object"&&_!==null&&(b=Ir(_)),b=new u(f,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Eg,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=f,b.state=a.memoizedState,b.refs={},og(a),_=u.contextType,b.context=typeof _=="object"&&_!==null?Ir(_):ss,b.state=a.memoizedState,_=u.getDerivedStateFromProps,typeof _=="function"&&(Ag(a,u,_,f),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(_=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),_!==b.state&&Eg.enqueueReplaceState(b,b.state,null),_l(a,f,b,v),zl(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(o===null){b=a.stateNode;var O=a.memoizedProps,H=Ca(u,O);b.props=H;var oe=b.context,ve=u.contextType;_=ss,typeof ve=="object"&&ve!==null&&(_=Ir(ve));var ke=u.getDerivedStateFromProps;ve=typeof ke=="function"||typeof b.getSnapshotBeforeUpdate=="function",O=a.pendingProps!==O,ve||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O||oe!==_)&&z1(a,b,f,_),Oo=!1;var se=a.memoizedState;b.state=se,_l(a,f,b,v),zl(),oe=a.memoizedState,O||se!==oe||Oo?(typeof ke=="function"&&(Ag(a,u,ke,f),oe=a.memoizedState),(H=Oo||C1(a,u,H,f,se,oe,_))?(ve||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=oe),b.props=f,b.state=oe,b.context=_,f=H):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{b=a.stateNode,ag(o,a),_=a.memoizedProps,ve=Ca(u,_),b.props=ve,ke=a.pendingProps,se=b.context,oe=u.contextType,H=ss,typeof oe=="object"&&oe!==null&&(H=Ir(oe)),O=u.getDerivedStateFromProps,(oe=typeof O=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_!==ke||se!==H)&&z1(a,b,f,H),Oo=!1,se=a.memoizedState,b.state=se,_l(a,f,b,v),zl();var fe=a.memoizedState;_!==ke||se!==fe||Oo||o!==null&&o.dependencies!==null&&xu(o.dependencies)?(typeof O=="function"&&(Ag(a,u,O,f),fe=a.memoizedState),(ve=Oo||C1(a,u,ve,f,se,fe,H)||o!==null&&o.dependencies!==null&&xu(o.dependencies))?(oe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,fe,H),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,fe,H)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||_===o.memoizedProps&&se===o.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===o.memoizedProps&&se===o.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=fe),b.props=f,b.state=fe,b.context=H,f=ve):(typeof b.componentDidUpdate!="function"||_===o.memoizedProps&&se===o.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===o.memoizedProps&&se===o.memoizedState||(a.flags|=1024),f=!1)}return b=f,Nu(o,a),f=(a.flags&128)!==0,b||f?(b=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,o!==null&&f?(a.child=wa(a,o.child,null,v),a.child=wa(a,null,u,v)):qr(o,a,u,v),a.memoizedState=b.state,o=a.child):o=Vi(o,a,v),o}function I1(o,a,u,f){return ya(),a.flags|=256,qr(o,a,u,f),a.child}var Dg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $g(o){return{baseLanes:o,cachePool:E0()}}function Pg(o,a,u){return o=o!==null?o.childLanes&~u:0,a&&(o|=Cn),o}function q1(o,a,u){var f=a.pendingProps,v=!1,b=(a.flags&128)!==0,_;if((_=b)||(_=o!==null&&o.memoizedState===null?!1:(mr.current&2)!==0),_&&(v=!0,a.flags&=-129),_=(a.flags&32)!==0,a.flags&=-33,o===null){if(bt){if(v?Do(a):$o(),(o=Gt)?(o=XS(o,Hn),o=o!==null&&o.data!=="&"?o:null,o!==null&&(a.memoizedState={dehydrated:o,treeContext:_o!==null?{id:Ci,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},u=S0(o),u.return=a,a.child=u,Br=a,Gt=null)):o=null,o===null)throw Ao(a);return xm(o)?a.lanes=32:a.lanes=536870912,null}var O=f.children;return f=f.fallback,v?($o(),v=a.mode,O=Lu({mode:"hidden",children:O},v),f=ha(f,v,u,null),O.return=a,f.return=a,O.sibling=f,a.child=O,f=a.child,f.memoizedState=$g(u),f.childLanes=Pg(o,_,u),a.memoizedState=Dg,Ml(null,f)):(Do(a),Ng(a,O))}var H=o.memoizedState;if(H!==null&&(O=H.dehydrated,O!==null)){if(b)a.flags&256?(Do(a),a.flags&=-257,a=Lg(o,a,u)):a.memoizedState!==null?($o(),a.child=o.child,a.flags|=128,a=null):($o(),O=f.fallback,v=a.mode,f=Lu({mode:"visible",children:f.children},v),O=ha(O,v,u,null),O.flags|=2,f.return=a,O.return=a,f.sibling=O,a.child=f,wa(a,o.child,null,u),f=a.child,f.memoizedState=$g(u),f.childLanes=Pg(o,_,u),a.memoizedState=Dg,a=Ml(null,f));else if(Do(a),xm(O)){if(_=O.nextSibling&&O.nextSibling.dataset,_)var oe=_.dgst;_=oe,f=Error(i(419)),f.stack="",f.digest=_,bl({value:f,source:null,stack:null}),a=Lg(o,a,u)}else if(jr||ds(o,a,u,!1),_=(u&o.childLanes)!==0,jr||_){if(_=Ut,_!==null&&(f=ai(_,u),f!==0&&f!==H.retryLane))throw H.retryLane=f,ma(o,f),pn(_,o,f),Mg;ym(O)||Yu(),a=Lg(o,a,u)}else ym(O)?(a.flags|=192,a.child=o.child,a=null):(o=H.treeContext,Gt=Kn(O.nextSibling),Br=a,bt=!0,To=null,Hn=!1,o!==null&&k0(a,o),a=Ng(a,f.children),a.flags|=4096);return a}return v?($o(),O=f.fallback,v=a.mode,H=o.child,oe=H.sibling,f=qi(H,{mode:"hidden",children:f.children}),f.subtreeFlags=H.subtreeFlags&65011712,oe!==null?O=qi(oe,O):(O=ha(O,v,u,null),O.flags|=2),O.return=a,f.return=a,f.sibling=O,a.child=f,Ml(null,f),f=a.child,O=o.child.memoizedState,O===null?O=$g(u):(v=O.cachePool,v!==null?(H=br._currentValue,v=v.parent!==H?{parent:H,pool:H}:v):v=E0(),O={baseLanes:O.baseLanes|u,cachePool:v}),f.memoizedState=O,f.childLanes=Pg(o,_,u),a.memoizedState=Dg,Ml(o.child,f)):(Do(a),u=o.child,o=u.sibling,u=qi(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,o!==null&&(_=a.deletions,_===null?(a.deletions=[o],a.flags|=16):_.push(o)),a.child=u,a.memoizedState=null,u)}function Ng(o,a){return a=Lu({mode:"visible",children:a},o.mode),a.return=o,o.child=a}function Lu(o,a){return o=Sn(22,o,null,a),o.lanes=0,o}function Lg(o,a,u){return wa(a,o.child,null,u),o=Ng(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function U1(o,a,u){o.lanes|=a;var f=o.alternate;f!==null&&(f.lanes|=a),Jp(o.return,a,u)}function Wg(o,a,u,f,v,b){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:v,treeForkCount:b}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=v,_.treeForkCount=b)}function H1(o,a,u){var f=a.pendingProps,v=f.revealOrder,b=f.tail;f=f.children;var _=mr.current,O=(_&2)!==0;if(O?(_=_&1|2,a.flags|=128):_&=1,re(mr,_),qr(o,a,f,u),f=bt?vl:0,!O&&o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&U1(o,u,a);else if(o.tag===19)U1(o,u,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(v){case"forwards":for(u=a.child,v=null;u!==null;)o=u.alternate,o!==null&&zu(o)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),Wg(a,!1,v,u,b,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(o=v.alternate,o!==null&&zu(o)===null){a.child=v;break}o=v.sibling,v.sibling=u,u=v,v=o}Wg(a,!0,u,null,b,f);break;case"together":Wg(a,!1,null,null,void 0,f);break;default:a.memoizedState=null}return a.child}function Vi(o,a,u){if(o!==null&&(a.dependencies=o.dependencies),Lo|=a.lanes,(u&a.childLanes)===0)if(o!==null){if(ds(o,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(o!==null&&a.child!==o.child)throw Error(i(153));if(a.child!==null){for(o=a.child,u=qi(o,o.pendingProps),a.child=u,u.return=a;o.sibling!==null;)o=o.sibling,u=u.sibling=qi(o,o.pendingProps),u.return=a;u.sibling=null}return a.child}function Bg(o,a){return(o.lanes&a)!==0?!0:(o=o.dependencies,!!(o!==null&&xu(o)))}function jM(o,a,u){switch(a.tag){case 3:de(a,a.stateNode.containerInfo),Eo(a,br,o.memoizedState.cache),ya();break;case 27:case 5:ze(a);break;case 4:de(a,a.stateNode.containerInfo);break;case 10:Eo(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,dg(a),null;break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Do(a),a.flags|=128,null):(u&a.child.childLanes)!==0?q1(o,a,u):(Do(a),o=Vi(o,a,u),o!==null?o.sibling:null);Do(a);break;case 19:var v=(o.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(ds(o,a,u,!1),f=(u&a.childLanes)!==0),v){if(f)return H1(o,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),re(mr,mr.current),f)break;return null;case 22:return a.lanes=0,P1(o,a,u,a.pendingProps);case 24:Eo(a,br,o.memoizedState.cache)}return Vi(o,a,u)}function F1(o,a,u){if(o!==null)if(o.memoizedProps!==a.pendingProps)jr=!0;else{if(!Bg(o,u)&&(a.flags&128)===0)return jr=!1,jM(o,a,u);jr=(o.flags&131072)!==0}else jr=!1,bt&&(a.flags&1048576)!==0&&w0(a,vl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var f=a.pendingProps;if(o=Sa(a.elementType),a.type=o,typeof o=="function")Fp(o)?(f=Ca(o,f),a.tag=1,a=B1(null,a,o,f,u)):(a.tag=0,a=Rg(null,a,o,f,u));else{if(o!=null){var v=o.$$typeof;if(v===$){a.tag=11,a=R1(null,a,o,f,u);break e}else if(v===R){a.tag=14,a=D1(null,a,o,f,u);break e}}throw a=pe(o)||o,Error(i(306,a,""))}}return a;case 0:return Rg(o,a,a.type,a.pendingProps,u);case 1:return f=a.type,v=Ca(f,a.pendingProps),B1(o,a,f,v,u);case 3:e:{if(de(a,a.stateNode.containerInfo),o===null)throw Error(i(387));f=a.pendingProps;var b=a.memoizedState;v=b.element,ag(o,a),_l(a,f,null,u);var _=a.memoizedState;if(f=_.cache,Eo(a,br,f),f!==b.cache&&eg(a,[br],u,!0),zl(),f=_.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:_.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=I1(o,a,f,u);break e}else if(f!==v){v=In(Error(i(424)),a),bl(v),a=I1(o,a,f,u);break e}else{switch(o=a.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Gt=Kn(o.firstChild),Br=a,bt=!0,To=null,Hn=!0,u=P0(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ya(),f===v){a=Vi(o,a,u);break e}qr(o,a,f,u)}a=a.child}return a;case 26:return Nu(o,a),o===null?(u=rj(a.type,null,a.pendingProps,null))?a.memoizedState=u:bt||(u=a.type,o=a.pendingProps,f=ed(je.current).createElement(u),f[ot]=a,f[gt]=o,Ur(f,u,o),at(f),a.stateNode=f):a.memoizedState=rj(a.type,o.memoizedProps,a.pendingProps,o.memoizedState),null;case 27:return ze(a),o===null&&bt&&(f=a.stateNode=JS(a.type,a.pendingProps,je.current),Br=a,Hn=!0,v=Gt,Uo(a.type)?(vm=v,Gt=Kn(f.firstChild)):Gt=v),qr(o,a,a.pendingProps.children,u),Nu(o,a),o===null&&(a.flags|=4194304),a.child;case 5:return o===null&&bt&&((v=f=Gt)&&(f=ZM(f,a.type,a.pendingProps,Hn),f!==null?(a.stateNode=f,Br=a,Gt=Kn(f.firstChild),Hn=!1,v=!0):v=!1),v||Ao(a)),ze(a),v=a.type,b=a.pendingProps,_=o!==null?o.memoizedProps:null,f=b.children,gm(v,b)?f=null:_!==null&&gm(v,_)&&(a.flags|=32),a.memoizedState!==null&&(v=pg(o,a,pM,null,null,u),Yl._currentValue=v),Nu(o,a),qr(o,a,f,u),a.child;case 6:return o===null&&bt&&((o=u=Gt)&&(u=JM(u,a.pendingProps,Hn),u!==null?(a.stateNode=u,Br=a,Gt=null,o=!0):o=!1),o||Ao(a)),null;case 13:return q1(o,a,u);case 4:return de(a,a.stateNode.containerInfo),f=a.pendingProps,o===null?a.child=wa(a,null,f,u):qr(o,a,f,u),a.child;case 11:return R1(o,a,a.type,a.pendingProps,u);case 7:return qr(o,a,a.pendingProps,u),a.child;case 8:return qr(o,a,a.pendingProps.children,u),a.child;case 12:return qr(o,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,Eo(a,a.type,f.value),qr(o,a,f.children,u),a.child;case 9:return v=a.type._context,f=a.pendingProps.children,va(a),v=Ir(v),f=f(v),a.flags|=1,qr(o,a,f,u),a.child;case 14:return D1(o,a,a.type,a.pendingProps,u);case 15:return $1(o,a,a.type,a.pendingProps,u);case 19:return H1(o,a,u);case 31:return SM(o,a,u);case 22:return P1(o,a,u,a.pendingProps);case 24:return va(a),f=Ir(br),o===null?(v=ng(),v===null&&(v=Ut,b=tg(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=u),v=b),a.memoizedState={parent:f,cache:v},og(a),Eo(a,br,v)):((o.lanes&u)!==0&&(ag(o,a),_l(a,null,null,u),zl()),v=o.memoizedState,b=a.memoizedState,v.parent!==f?(v={parent:f,cache:f},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),Eo(a,br,f)):(f=b.cache,Eo(a,br,f),f!==v.cache&&eg(a,[br],u,!0))),qr(o,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Gi(o){o.flags|=4}function Ig(o,a,u,f,v){if((a=(o.mode&32)!==0)&&(a=!1),a){if(o.flags|=16777216,(v&335544128)===v)if(o.stateNode.complete)o.flags|=8192;else if(xS())o.flags|=8192;else throw ja=ju,ig}else o.flags&=-16777217}function K1(o,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!sj(a))if(xS())o.flags|=8192;else throw ja=ju,ig}function Wu(o,a){a!==null&&(o.flags|=4),o.flags&16384&&(a=o.tag!==22?gr():536870912,o.lanes|=a,ws|=a)}function Rl(o,a){if(!bt)switch(o.tailMode){case"hidden":a=o.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function Xt(o){var a=o.alternate!==null&&o.alternate.child===o.child,u=0,f=0;if(a)for(var v=o.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=f,o.childLanes=u,a}function wM(o,a,u){var f=a.pendingProps;switch(Gp(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(a),null;case 1:return Xt(a),null;case 3:return u=a.stateNode,f=null,o!==null&&(f=o.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Fi(br),ee(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(o===null||o.child===null)&&(us(a)?Gi(a):o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Qp())),Xt(a),null;case 26:var v=a.type,b=a.memoizedState;return o===null?(Gi(a),b!==null?(Xt(a),K1(a,b)):(Xt(a),Ig(a,v,null,f,u))):b?b!==o.memoizedState?(Gi(a),Xt(a),K1(a,b)):(Xt(a),a.flags&=-16777217):(o=o.memoizedProps,o!==f&&Gi(a),Xt(a),Ig(a,v,o,f,u)),null;case 27:if(M(a),u=je.current,v=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==f&&Gi(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Xt(a),null}o=be.current,us(a)?C0(a):(o=JS(v,f,u),a.stateNode=o,Gi(a))}return Xt(a),null;case 5:if(M(a),v=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==f&&Gi(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Xt(a),null}if(b=be.current,us(a))C0(a);else{var _=ed(je.current);switch(b){case 1:b=_.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=_.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=_.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=_.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=_.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof f.is=="string"?_.createElement("select",{is:f.is}):_.createElement("select"),f.multiple?b.multiple=!0:f.size&&(b.size=f.size);break;default:b=typeof f.is=="string"?_.createElement(v,{is:f.is}):_.createElement(v)}}b[ot]=a,b[gt]=f;e:for(_=a.child;_!==null;){if(_.tag===5||_.tag===6)b.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===a)break e;for(;_.sibling===null;){if(_.return===null||_.return===a)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}a.stateNode=b;e:switch(Ur(b,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Gi(a)}}return Xt(a),Ig(a,a.type,o===null?null:o.memoizedProps,a.pendingProps,u),null;case 6:if(o&&a.stateNode!=null)o.memoizedProps!==f&&Gi(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(i(166));if(o=je.current,us(a)){if(o=a.stateNode,u=a.memoizedProps,f=null,v=Br,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}o[ot]=a,o=!!(o.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||qS(o.nodeValue,u)),o||Ao(a,!0)}else o=ed(o).createTextNode(f),o[ot]=a,a.stateNode=o}return Xt(a),null;case 31:if(u=a.memoizedState,o===null||o.memoizedState!==null){if(f=us(a),u!==null){if(o===null){if(!f)throw Error(i(318));if(o=a.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(557));o[ot]=a}else ya(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Xt(a),o=!1}else u=Qp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=u),o=!0;if(!o)return a.flags&256?(wn(a),a):(wn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Xt(a),null;case 13:if(f=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=us(a),f!==null&&f.dehydrated!==null){if(o===null){if(!v)throw Error(i(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[ot]=a}else ya(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Xt(a),v=!1}else v=Qp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(wn(a),a):(wn(a),null)}return wn(a),(a.flags&128)!==0?(a.lanes=u,a):(u=f!==null,o=o!==null&&o.memoizedState!==null,u&&(f=a.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==v&&(f.flags|=2048)),u!==o&&u&&(a.child.flags|=8192),Wu(a,a.updateQueue),Xt(a),null);case 4:return ee(),o===null&&cm(a.stateNode.containerInfo),Xt(a),null;case 10:return Fi(a.type),Xt(a),null;case 19:if(q(mr),f=a.memoizedState,f===null)return Xt(a),null;if(v=(a.flags&128)!==0,b=f.rendering,b===null)if(v)Rl(f,!1);else{if(fr!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(b=zu(o),b!==null){for(a.flags|=128,Rl(f,!1),o=b.updateQueue,a.updateQueue=o,Wu(a,o),a.subtreeFlags=0,o=u,u=a.child;u!==null;)b0(u,o),u=u.sibling;return re(mr,mr.current&1|2),bt&&Ui(a,f.treeForkCount),a.child}o=o.sibling}f.tail!==null&&Je()>Hu&&(a.flags|=128,v=!0,Rl(f,!1),a.lanes=4194304)}else{if(!v)if(o=zu(b),o!==null){if(a.flags|=128,v=!0,o=o.updateQueue,a.updateQueue=o,Wu(a,o),Rl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!bt)return Xt(a),null}else 2*Je()-f.renderingStartTime>Hu&&u!==536870912&&(a.flags|=128,v=!0,Rl(f,!1),a.lanes=4194304);f.isBackwards?(b.sibling=a.child,a.child=b):(o=f.last,o!==null?o.sibling=b:a.child=b,f.last=b)}return f.tail!==null?(o=f.tail,f.rendering=o,f.tail=o.sibling,f.renderingStartTime=Je(),o.sibling=null,u=mr.current,re(mr,v?u&1|2:u&1),bt&&Ui(a,f.treeForkCount),o):(Xt(a),null);case 22:case 23:return wn(a),ug(),f=a.memoizedState!==null,o!==null?o.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(Xt(a),a.subtreeFlags&6&&(a.flags|=8192)):Xt(a),u=a.updateQueue,u!==null&&Wu(a,u.retryQueue),u=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),o!==null&&q(ba),null;case 24:return u=null,o!==null&&(u=o.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Fi(br),Xt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function kM(o,a){switch(Gp(a),a.tag){case 1:return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Fi(br),ee(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 26:case 27:case 5:return M(a),null;case 31:if(a.memoizedState!==null){if(wn(a),a.alternate===null)throw Error(i(340));ya()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 13:if(wn(a),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ya()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return q(mr),null;case 4:return ee(),null;case 10:return Fi(a.type),null;case 22:case 23:return wn(a),ug(),o!==null&&q(ba),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 24:return Fi(br),null;case 25:return null;default:return null}}function Y1(o,a){switch(Gp(a),a.tag){case 3:Fi(br),ee();break;case 26:case 27:case 5:M(a);break;case 4:ee();break;case 31:a.memoizedState!==null&&wn(a);break;case 13:wn(a);break;case 19:q(mr);break;case 10:Fi(a.type);break;case 22:case 23:wn(a),ug(),o!==null&&q(ba);break;case 24:Fi(br)}}function Dl(o,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var v=f.next;u=v;do{if((u.tag&o)===o){f=void 0;var b=u.create,_=u.inst;f=b(),_.destroy=f}u=u.next}while(u!==v)}}catch(O){$t(a,a.return,O)}}function Po(o,a,u){try{var f=a.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var b=v.next;f=b;do{if((f.tag&o)===o){var _=f.inst,O=_.destroy;if(O!==void 0){_.destroy=void 0,v=a;var H=u,oe=O;try{oe()}catch(ve){$t(v,H,ve)}}}f=f.next}while(f!==b)}}catch(ve){$t(a,a.return,ve)}}function V1(o){var a=o.updateQueue;if(a!==null){var u=o.stateNode;try{L0(a,u)}catch(f){$t(o,o.return,f)}}}function G1(o,a,u){u.props=Ca(o.type,o.memoizedProps),u.state=o.memoizedState;try{u.componentWillUnmount()}catch(f){$t(o,a,f)}}function $l(o,a){try{var u=o.ref;if(u!==null){switch(o.tag){case 26:case 27:case 5:var f=o.stateNode;break;case 30:f=o.stateNode;break;default:f=o.stateNode}typeof u=="function"?o.refCleanup=u(f):u.current=f}}catch(v){$t(o,a,v)}}function _i(o,a){var u=o.ref,f=o.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(v){$t(o,a,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){$t(o,a,v)}else u.current=null}function X1(o){var a=o.type,u=o.memoizedProps,f=o.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(v){$t(o,o.return,v)}}function qg(o,a,u){try{var f=o.stateNode;KM(f,o.type,u,a),f[gt]=a}catch(v){$t(o,o.return,v)}}function Q1(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Uo(o.type)||o.tag===4}function Ug(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Q1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Uo(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Hg(o,a,u){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(o,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(o),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Bi));else if(f!==4&&(f===27&&Uo(o.type)&&(u=o.stateNode,a=null),o=o.child,o!==null))for(Hg(o,a,u),o=o.sibling;o!==null;)Hg(o,a,u),o=o.sibling}function Bu(o,a,u){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?u.insertBefore(o,a):u.appendChild(o);else if(f!==4&&(f===27&&Uo(o.type)&&(u=o.stateNode),o=o.child,o!==null))for(Bu(o,a,u),o=o.sibling;o!==null;)Bu(o,a,u),o=o.sibling}function Z1(o){var a=o.stateNode,u=o.memoizedProps;try{for(var f=o.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);Ur(a,f,u),a[ot]=o,a[gt]=u}catch(b){$t(o,o.return,b)}}var Xi=!1,wr=!1,Fg=!1,J1=typeof WeakSet=="function"?WeakSet:Set,Dr=null;function CM(o,a){if(o=o.containerInfo,fm=sd,o=d0(o),Lp(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var v=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var _=0,O=-1,H=-1,oe=0,ve=0,ke=o,se=null;t:for(;;){for(var fe;ke!==u||v!==0&&ke.nodeType!==3||(O=_+v),ke!==b||f!==0&&ke.nodeType!==3||(H=_+f),ke.nodeType===3&&(_+=ke.nodeValue.length),(fe=ke.firstChild)!==null;)se=ke,ke=fe;for(;;){if(ke===o)break t;if(se===u&&++oe===v&&(O=_),se===b&&++ve===f&&(H=_),(fe=ke.nextSibling)!==null)break;ke=se,se=ke.parentNode}ke=fe}u=O===-1||H===-1?null:{start:O,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(pm={focusedElem:o,selectionRange:u},sd=!1,Dr=a;Dr!==null;)if(a=Dr,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Dr=o;else for(;Dr!==null;){switch(a=Dr,b=a.alternate,o=a.flags,a.tag){case 0:if((o&4)!==0&&(o=a.updateQueue,o=o!==null?o.events:null,o!==null))for(u=0;u<o.length;u++)v=o[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&b!==null){o=void 0,u=a,v=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var Ie=Ca(u.type,v);o=f.getSnapshotBeforeUpdate(Ie,b),f.__reactInternalSnapshotBeforeUpdate=o}catch(et){$t(u,u.return,et)}}break;case 3:if((o&1024)!==0){if(o=a.stateNode.containerInfo,u=o.nodeType,u===9)hm(o);else if(u===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":hm(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=a.sibling,o!==null){o.return=a.return,Dr=o;break}Dr=a.return}}function eS(o,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Zi(o,u),f&4&&Dl(5,u);break;case 1:if(Zi(o,u),f&4)if(o=u.stateNode,a===null)try{o.componentDidMount()}catch(_){$t(u,u.return,_)}else{var v=Ca(u.type,a.memoizedProps);a=a.memoizedState;try{o.componentDidUpdate(v,a,o.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(u,u.return,_)}}f&64&&V1(u),f&512&&$l(u,u.return);break;case 3:if(Zi(o,u),f&64&&(o=u.updateQueue,o!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{L0(o,a)}catch(_){$t(u,u.return,_)}}break;case 27:a===null&&f&4&&Z1(u);case 26:case 5:Zi(o,u),a===null&&f&4&&X1(u),f&512&&$l(u,u.return);break;case 12:Zi(o,u);break;case 31:Zi(o,u),f&4&&nS(o,u);break;case 13:Zi(o,u),f&4&&iS(o,u),f&64&&(o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(u=DM.bind(null,u),eR(o,u))));break;case 22:if(f=u.memoizedState!==null||Xi,!f){a=a!==null&&a.memoizedState!==null||wr,v=Xi;var b=wr;Xi=f,(wr=a)&&!b?Ji(o,u,(u.subtreeFlags&8772)!==0):Zi(o,u),Xi=v,wr=b}break;case 30:break;default:Zi(o,u)}}function tS(o){var a=o.alternate;a!==null&&(o.alternate=null,tS(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&Y(a)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var er=null,cn=!1;function Qi(o,a,u){for(u=u.child;u!==null;)rS(o,a,u),u=u.sibling}function rS(o,a,u){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Zt,u)}catch{}switch(u.tag){case 26:wr||_i(u,a),Qi(o,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:wr||_i(u,a);var f=er,v=cn;Uo(u.type)&&(er=u.stateNode,cn=!1),Qi(o,a,u),Hl(u.stateNode),er=f,cn=v;break;case 5:wr||_i(u,a);case 6:if(f=er,v=cn,er=null,Qi(o,a,u),er=f,cn=v,er!==null)if(cn)try{(er.nodeType===9?er.body:er.nodeName==="HTML"?er.ownerDocument.body:er).removeChild(u.stateNode)}catch(b){$t(u,a,b)}else try{er.removeChild(u.stateNode)}catch(b){$t(u,a,b)}break;case 18:er!==null&&(cn?(o=er,VS(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,u.stateNode),Os(o)):VS(er,u.stateNode));break;case 4:f=er,v=cn,er=u.stateNode.containerInfo,cn=!0,Qi(o,a,u),er=f,cn=v;break;case 0:case 11:case 14:case 15:Po(2,u,a),wr||Po(4,u,a),Qi(o,a,u);break;case 1:wr||(_i(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&G1(u,a,f)),Qi(o,a,u);break;case 21:Qi(o,a,u);break;case 22:wr=(f=wr)||u.memoizedState!==null,Qi(o,a,u),wr=f;break;default:Qi(o,a,u)}}function nS(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Os(o)}catch(u){$t(a,a.return,u)}}}function iS(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Os(o)}catch(u){$t(a,a.return,u)}}function zM(o){switch(o.tag){case 31:case 13:case 19:var a=o.stateNode;return a===null&&(a=o.stateNode=new J1),a;case 22:return o=o.stateNode,a=o._retryCache,a===null&&(a=o._retryCache=new J1),a;default:throw Error(i(435,o.tag))}}function Iu(o,a){var u=zM(o);a.forEach(function(f){if(!u.has(f)){u.add(f);var v=$M.bind(null,o,f);f.then(v,v)}})}function un(o,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var v=u[f],b=o,_=a,O=_;e:for(;O!==null;){switch(O.tag){case 27:if(Uo(O.type)){er=O.stateNode,cn=!1;break e}break;case 5:er=O.stateNode,cn=!1;break e;case 3:case 4:er=O.stateNode.containerInfo,cn=!0;break e}O=O.return}if(er===null)throw Error(i(160));rS(b,_,v),er=null,cn=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)oS(a,o),a=a.sibling}var ui=null;function oS(o,a){var u=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:un(a,o),dn(o),f&4&&(Po(3,o,o.return),Dl(3,o),Po(5,o,o.return));break;case 1:un(a,o),dn(o),f&512&&(wr||u===null||_i(u,u.return)),f&64&&Xi&&(o=o.updateQueue,o!==null&&(f=o.callbacks,f!==null&&(u=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var v=ui;if(un(a,o),dn(o),f&512&&(wr||u===null||_i(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=o.memoizedState,u===null)if(f===null)if(o.stateNode===null){e:{f=o.type,u=o.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":b=v.getElementsByTagName("title")[0],(!b||b[si]||b[ot]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(f),v.head.insertBefore(b,v.querySelector("head > title"))),Ur(b,f,u),b[ot]=o,at(b),f=b;break e;case"link":var _=oj("link","href",v).get(f+(u.href||""));if(_){for(var O=0;O<_.length;O++)if(b=_[O],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){_.splice(O,1);break t}}b=v.createElement(f),Ur(b,f,u),v.head.appendChild(b);break;case"meta":if(_=oj("meta","content",v).get(f+(u.content||""))){for(O=0;O<_.length;O++)if(b=_[O],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){_.splice(O,1);break t}}b=v.createElement(f),Ur(b,f,u),v.head.appendChild(b);break;default:throw Error(i(468,f))}b[ot]=o,at(b),f=b}o.stateNode=f}else aj(v,o.type,o.stateNode);else o.stateNode=ij(v,f,o.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?aj(v,o.type,o.stateNode):ij(v,f,o.memoizedProps)):f===null&&o.stateNode!==null&&qg(o,o.memoizedProps,u.memoizedProps)}break;case 27:un(a,o),dn(o),f&512&&(wr||u===null||_i(u,u.return)),u!==null&&f&4&&qg(o,o.memoizedProps,u.memoizedProps);break;case 5:if(un(a,o),dn(o),f&512&&(wr||u===null||_i(u,u.return)),o.flags&32){v=o.stateNode;try{es(v,"")}catch(Ie){$t(o,o.return,Ie)}}f&4&&o.stateNode!=null&&(v=o.memoizedProps,qg(o,v,u!==null?u.memoizedProps:v)),f&1024&&(Fg=!0);break;case 6:if(un(a,o),dn(o),f&4){if(o.stateNode===null)throw Error(i(162));f=o.memoizedProps,u=o.stateNode;try{u.nodeValue=f}catch(Ie){$t(o,o.return,Ie)}}break;case 3:if(nd=null,v=ui,ui=td(a.containerInfo),un(a,o),ui=v,dn(o),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Os(a.containerInfo)}catch(Ie){$t(o,o.return,Ie)}Fg&&(Fg=!1,aS(o));break;case 4:f=ui,ui=td(o.stateNode.containerInfo),un(a,o),dn(o),ui=f;break;case 12:un(a,o),dn(o);break;case 31:un(a,o),dn(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Iu(o,f)));break;case 13:un(a,o),dn(o),o.child.flags&8192&&o.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Uu=Je()),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Iu(o,f)));break;case 22:v=o.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,oe=Xi,ve=wr;if(Xi=oe||v,wr=ve||H,un(a,o),wr=ve,Xi=oe,dn(o),f&8192)e:for(a=o.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(u===null||H||Xi||wr||za(o)),u=null,a=o;;){if(a.tag===5||a.tag===26){if(u===null){H=u=a;try{if(b=H.stateNode,v)_=b.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{O=H.stateNode;var ke=H.memoizedProps.style,se=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;O.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Ie){$t(H,H.return,Ie)}}}else if(a.tag===6){if(u===null){H=a;try{H.stateNode.nodeValue=v?"":H.memoizedProps}catch(Ie){$t(H,H.return,Ie)}}}else if(a.tag===18){if(u===null){H=a;try{var fe=H.stateNode;v?GS(fe,!0):GS(H.stateNode,!1)}catch(Ie){$t(H,H.return,Ie)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===o)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=o.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Iu(o,u))));break;case 19:un(a,o),dn(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Iu(o,f)));break;case 30:break;case 21:break;default:un(a,o),dn(o)}}function dn(o){var a=o.flags;if(a&2){try{for(var u,f=o.return;f!==null;){if(Q1(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var v=u.stateNode,b=Ug(o);Bu(o,b,v);break;case 5:var _=u.stateNode;u.flags&32&&(es(_,""),u.flags&=-33);var O=Ug(o);Bu(o,O,_);break;case 3:case 4:var H=u.stateNode.containerInfo,oe=Ug(o);Hg(o,oe,H);break;default:throw Error(i(161))}}catch(ve){$t(o,o.return,ve)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function aS(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var a=o;aS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),o=o.sibling}}function Zi(o,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)eS(o,a.alternate,a),a=a.sibling}function za(o){for(o=o.child;o!==null;){var a=o;switch(a.tag){case 0:case 11:case 14:case 15:Po(4,a,a.return),za(a);break;case 1:_i(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&G1(a,a.return,u),za(a);break;case 27:Hl(a.stateNode);case 26:case 5:_i(a,a.return),za(a);break;case 22:a.memoizedState===null&&za(a);break;case 30:za(a);break;default:za(a)}o=o.sibling}}function Ji(o,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,v=o,b=a,_=b.flags;switch(b.tag){case 0:case 11:case 15:Ji(v,b,u),Dl(4,b);break;case 1:if(Ji(v,b,u),f=b,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(oe){$t(f,f.return,oe)}if(f=b,v=f.updateQueue,v!==null){var O=f.stateNode;try{var H=v.shared.hiddenCallbacks;if(H!==null)for(v.shared.hiddenCallbacks=null,v=0;v<H.length;v++)N0(H[v],O)}catch(oe){$t(f,f.return,oe)}}u&&_&64&&V1(b),$l(b,b.return);break;case 27:Z1(b);case 26:case 5:Ji(v,b,u),u&&f===null&&_&4&&X1(b),$l(b,b.return);break;case 12:Ji(v,b,u);break;case 31:Ji(v,b,u),u&&_&4&&nS(v,b);break;case 13:Ji(v,b,u),u&&_&4&&iS(v,b);break;case 22:b.memoizedState===null&&Ji(v,b,u),$l(b,b.return);break;case 30:break;default:Ji(v,b,u)}a=a.sibling}}function Kg(o,a){var u=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==u&&(o!=null&&o.refCount++,u!=null&&Sl(u))}function Yg(o,a){o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&Sl(o))}function di(o,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)sS(o,a,u,f),a=a.sibling}function sS(o,a,u,f){var v=a.flags;switch(a.tag){case 0:case 11:case 15:di(o,a,u,f),v&2048&&Dl(9,a);break;case 1:di(o,a,u,f);break;case 3:di(o,a,u,f),v&2048&&(o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&Sl(o)));break;case 12:if(v&2048){di(o,a,u,f),o=a.stateNode;try{var b=a.memoizedProps,_=b.id,O=b.onPostCommit;typeof O=="function"&&O(_,a.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(H){$t(a,a.return,H)}}else di(o,a,u,f);break;case 31:di(o,a,u,f);break;case 13:di(o,a,u,f);break;case 23:break;case 22:b=a.stateNode,_=a.alternate,a.memoizedState!==null?b._visibility&2?di(o,a,u,f):Pl(o,a):b._visibility&2?di(o,a,u,f):(b._visibility|=2,bs(o,a,u,f,(a.subtreeFlags&10256)!==0||!1)),v&2048&&Kg(_,a);break;case 24:di(o,a,u,f),v&2048&&Yg(a.alternate,a);break;default:di(o,a,u,f)}}function bs(o,a,u,f,v){for(v=v&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=o,_=a,O=u,H=f,oe=_.flags;switch(_.tag){case 0:case 11:case 15:bs(b,_,O,H,v),Dl(8,_);break;case 23:break;case 22:var ve=_.stateNode;_.memoizedState!==null?ve._visibility&2?bs(b,_,O,H,v):Pl(b,_):(ve._visibility|=2,bs(b,_,O,H,v)),v&&oe&2048&&Kg(_.alternate,_);break;case 24:bs(b,_,O,H,v),v&&oe&2048&&Yg(_.alternate,_);break;default:bs(b,_,O,H,v)}a=a.sibling}}function Pl(o,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=o,f=a,v=f.flags;switch(f.tag){case 22:Pl(u,f),v&2048&&Kg(f.alternate,f);break;case 24:Pl(u,f),v&2048&&Yg(f.alternate,f);break;default:Pl(u,f)}a=a.sibling}}var Nl=8192;function Ss(o,a,u){if(o.subtreeFlags&Nl)for(o=o.child;o!==null;)lS(o,a,u),o=o.sibling}function lS(o,a,u){switch(o.tag){case 26:Ss(o,a,u),o.flags&Nl&&o.memoizedState!==null&&fR(u,ui,o.memoizedState,o.memoizedProps);break;case 5:Ss(o,a,u);break;case 3:case 4:var f=ui;ui=td(o.stateNode.containerInfo),Ss(o,a,u),ui=f;break;case 22:o.memoizedState===null&&(f=o.alternate,f!==null&&f.memoizedState!==null?(f=Nl,Nl=16777216,Ss(o,a,u),Nl=f):Ss(o,a,u));break;default:Ss(o,a,u)}}function cS(o){var a=o.alternate;if(a!==null&&(o=a.child,o!==null)){a.child=null;do a=o.sibling,o.sibling=null,o=a;while(o!==null)}}function Ll(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Dr=f,dS(f,o)}cS(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)uS(o),o=o.sibling}function uS(o){switch(o.tag){case 0:case 11:case 15:Ll(o),o.flags&2048&&Po(9,o,o.return);break;case 3:Ll(o);break;case 12:Ll(o);break;case 22:var a=o.stateNode;o.memoizedState!==null&&a._visibility&2&&(o.return===null||o.return.tag!==13)?(a._visibility&=-3,qu(o)):Ll(o);break;default:Ll(o)}}function qu(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Dr=f,dS(f,o)}cS(o)}for(o=o.child;o!==null;){switch(a=o,a.tag){case 0:case 11:case 15:Po(8,a,a.return),qu(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,qu(a));break;default:qu(a)}o=o.sibling}}function dS(o,a){for(;Dr!==null;){var u=Dr;switch(u.tag){case 0:case 11:case 15:Po(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Sl(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Dr=f;else e:for(u=o;Dr!==null;){f=Dr;var v=f.sibling,b=f.return;if(tS(f),f===u){Dr=null;break e}if(v!==null){v.return=b,Dr=v;break e}Dr=b}}}var _M={getCacheForType:function(o){var a=Ir(br),u=a.data.get(o);return u===void 0&&(u=o(),a.data.set(o,u)),u},cacheSignal:function(){return Ir(br).controller.signal}},TM=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Ut=null,mt=null,xt=0,Dt=0,kn=null,No=!1,js=!1,Vg=!1,eo=0,fr=0,Lo=0,_a=0,Gg=0,Cn=0,ws=0,Wl=null,fn=null,Xg=!1,Uu=0,fS=0,Hu=1/0,Fu=null,Wo=null,Ar=0,Bo=null,ks=null,to=0,Qg=0,Zg=null,pS=null,Bl=0,Jg=null;function zn(){return(Ot&2)!==0&&xt!==0?xt&-xt:B.T!==null?om():Mt()}function gS(){if(Cn===0)if((xt&536870912)===0||bt){var o=pt;pt<<=1,(pt&3932160)===0&&(pt=262144),Cn=o}else Cn=536870912;return o=jn.current,o!==null&&(o.flags|=32),Cn}function pn(o,a,u){(o===Ut&&(Dt===2||Dt===9)||o.cancelPendingCommit!==null)&&(Cs(o,0),Io(o,xt,Cn,!1)),an(o,u),((Ot&2)===0||o!==Ut)&&(o===Ut&&((Ot&2)===0&&(_a|=u),fr===4&&Io(o,xt,Cn,!1)),Ti(o))}function mS(o,a,u){if((Ot&6)!==0)throw Error(i(327));var f=!u&&(a&127)===0&&(a&o.expiredLanes)===0||Ue(o,a),v=f?OM(o,a):tm(o,a,!0),b=f;do{if(v===0){js&&!f&&Io(o,a,0,!1);break}else{if(u=o.current.alternate,b&&!AM(u)){v=tm(o,a,!1),b=!1;continue}if(v===2){if(b=a,o.errorRecoveryDisabledLanes&b)var _=0;else _=o.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){a=_;e:{var O=o;v=Wl;var H=O.current.memoizedState.isDehydrated;if(H&&(Cs(O,_).flags|=256),_=tm(O,_,!1),_!==2){if(Vg&&!H){O.errorRecoveryDisabledLanes|=b,_a|=b,v=4;break e}b=fn,fn=v,b!==null&&(fn===null?fn=b:fn.push.apply(fn,b))}v=_}if(b=!1,v!==2)continue}}if(v===1){Cs(o,0),Io(o,a,0,!0);break}e:{switch(f=o,b=v,b){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Io(f,a,Cn,!No);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(v=Uu+300-Je(),10<v)){if(Io(f,a,Cn,!No),Ee(f,0,!0)!==0)break e;to=a,f.timeoutHandle=KS(hS.bind(null,f,u,fn,Fu,Xg,a,Cn,_a,ws,No,b,"Throttled",-0,0),v);break e}hS(f,u,fn,Fu,Xg,a,Cn,_a,ws,No,b,null,-0,0)}}break}while(!0);Ti(o)}function hS(o,a,u,f,v,b,_,O,H,oe,ve,ke,se,fe){if(o.timeoutHandle=-1,ke=a.subtreeFlags,ke&8192||(ke&16785408)===16785408){ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bi},lS(a,b,ke);var Ie=(b&62914560)===b?Uu-Je():(b&4194048)===b?fS-Je():0;if(Ie=pR(ke,Ie),Ie!==null){to=b,o.cancelPendingCommit=Ie(kS.bind(null,o,a,b,u,f,v,_,O,H,ve,ke,null,se,fe)),Io(o,b,_,!oe);return}}kS(o,a,b,u,f,v,_,O,H)}function AM(o){for(var a=o;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var v=u[f],b=v.getSnapshot;v=v.value;try{if(!bn(b(),v))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Io(o,a,u,f){a&=~Gg,a&=~_a,o.suspendedLanes|=a,o.pingedLanes&=~a,f&&(o.warmLanes|=a),f=o.expirationTimes;for(var v=a;0<v;){var b=31-me(v),_=1<<b;f[b]=-1,v&=~_}u!==0&&ko(o,u,a)}function Ku(){return(Ot&6)===0?(Il(0),!1):!0}function em(){if(mt!==null){if(Dt===0)var o=mt.return;else o=mt,Hi=xa=null,hg(o),ms=null,wl=0,o=mt;for(;o!==null;)Y1(o.alternate,o),o=o.return;mt=null}}function Cs(o,a){var u=o.timeoutHandle;u!==-1&&(o.timeoutHandle=-1,GM(u)),u=o.cancelPendingCommit,u!==null&&(o.cancelPendingCommit=null,u()),to=0,em(),Ut=o,mt=u=qi(o.current,null),xt=a,Dt=0,kn=null,No=!1,js=Ue(o,a),Vg=!1,ws=Cn=Gg=_a=Lo=fr=0,fn=Wl=null,Xg=!1,(a&8)!==0&&(a|=a&32);var f=o.entangledLanes;if(f!==0)for(o=o.entanglements,f&=a;0<f;){var v=31-me(f),b=1<<v;a|=o[v],f&=~b}return eo=a,pu(),u}function yS(o,a){st=null,B.H=Ol,a===gs||a===Su?(a=R0(),Dt=3):a===ig?(a=R0(),Dt=4):Dt=a===Mg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,kn=a,mt===null&&(fr=1,$u(o,In(a,o.current)))}function xS(){var o=jn.current;return o===null?!0:(xt&4194048)===xt?Fn===null:(xt&62914560)===xt||(xt&536870912)!==0?o===Fn:!1}function vS(){var o=B.H;return B.H=Ol,o===null?Ol:o}function bS(){var o=B.A;return B.A=_M,o}function Yu(){fr=4,No||(xt&4194048)!==xt&&jn.current!==null||(js=!0),(Lo&134217727)===0&&(_a&134217727)===0||Ut===null||Io(Ut,xt,Cn,!1)}function tm(o,a,u){var f=Ot;Ot|=2;var v=vS(),b=bS();(Ut!==o||xt!==a)&&(Fu=null,Cs(o,a)),a=!1;var _=fr;e:do try{if(Dt!==0&&mt!==null){var O=mt,H=kn;switch(Dt){case 8:em(),_=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(a=!0);var oe=Dt;if(Dt=0,kn=null,zs(o,O,H,oe),u&&js){_=0;break e}break;default:oe=Dt,Dt=0,kn=null,zs(o,O,H,oe)}}EM(),_=fr;break}catch(ve){yS(o,ve)}while(!0);return a&&o.shellSuspendCounter++,Hi=xa=null,Ot=f,B.H=v,B.A=b,mt===null&&(Ut=null,xt=0,pu()),_}function EM(){for(;mt!==null;)SS(mt)}function OM(o,a){var u=Ot;Ot|=2;var f=vS(),v=bS();Ut!==o||xt!==a?(Fu=null,Hu=Je()+500,Cs(o,a)):js=Ue(o,a);e:do try{if(Dt!==0&&mt!==null){a=mt;var b=kn;t:switch(Dt){case 1:Dt=0,kn=null,zs(o,a,b,1);break;case 2:case 9:if(O0(b)){Dt=0,kn=null,jS(a);break}a=function(){Dt!==2&&Dt!==9||Ut!==o||(Dt=7),Ti(o)},b.then(a,a);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:O0(b)?(Dt=0,kn=null,jS(a)):(Dt=0,kn=null,zs(o,a,b,7));break;case 5:var _=null;switch(mt.tag){case 26:_=mt.memoizedState;case 5:case 27:var O=mt;if(_?sj(_):O.stateNode.complete){Dt=0,kn=null;var H=O.sibling;if(H!==null)mt=H;else{var oe=O.return;oe!==null?(mt=oe,Vu(oe)):mt=null}break t}}Dt=0,kn=null,zs(o,a,b,5);break;case 6:Dt=0,kn=null,zs(o,a,b,6);break;case 8:em(),fr=6;break e;default:throw Error(i(462))}}MM();break}catch(ve){yS(o,ve)}while(!0);return Hi=xa=null,B.H=f,B.A=v,Ot=u,mt!==null?0:(Ut=null,xt=0,pu(),fr)}function MM(){for(;mt!==null&&!Ye();)SS(mt)}function SS(o){var a=F1(o.alternate,o,eo);o.memoizedProps=o.pendingProps,a===null?Vu(o):mt=a}function jS(o){var a=o,u=a.alternate;switch(a.tag){case 15:case 0:a=W1(u,a,a.pendingProps,a.type,void 0,xt);break;case 11:a=W1(u,a,a.pendingProps,a.type.render,a.ref,xt);break;case 5:hg(a);default:Y1(u,a),a=mt=b0(a,eo),a=F1(u,a,eo)}o.memoizedProps=o.pendingProps,a===null?Vu(o):mt=a}function zs(o,a,u,f){Hi=xa=null,hg(a),ms=null,wl=0;var v=a.return;try{if(bM(o,v,a,u,xt)){fr=1,$u(o,In(u,o.current)),mt=null;return}}catch(b){if(v!==null)throw mt=v,b;fr=1,$u(o,In(u,o.current)),mt=null;return}a.flags&32768?(bt||f===1?o=!0:js||(xt&536870912)!==0?o=!1:(No=o=!0,(f===2||f===9||f===3||f===6)&&(f=jn.current,f!==null&&f.tag===13&&(f.flags|=16384))),wS(a,o)):Vu(a)}function Vu(o){var a=o;do{if((a.flags&32768)!==0){wS(a,No);return}o=a.return;var u=wM(a.alternate,a,eo);if(u!==null){mt=u;return}if(a=a.sibling,a!==null){mt=a;return}mt=a=o}while(a!==null);fr===0&&(fr=5)}function wS(o,a){do{var u=kM(o.alternate,o);if(u!==null){u.flags&=32767,mt=u;return}if(u=o.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(o=o.sibling,o!==null)){mt=o;return}mt=o=u}while(o!==null);fr=6,mt=null}function kS(o,a,u,f,v,b,_,O,H){o.cancelPendingCommit=null;do Gu();while(Ar!==0);if((Ot&6)!==0)throw Error(i(327));if(a!==null){if(a===o.current)throw Error(i(177));if(b=a.lanes|a.childLanes,b|=Up,ji(o,u,b,_,O,H),o===Ut&&(mt=Ut=null,xt=0),ks=a,Bo=o,to=u,Qg=b,Zg=v,pS=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,PM(Me,function(){return AS(),null})):(o.callbackNode=null,o.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=B.T,B.T=null,v=Z.p,Z.p=2,_=Ot,Ot|=4;try{CM(o,a,u)}finally{Ot=_,Z.p=v,B.T=f}}Ar=1,CS(),zS(),_S()}}function CS(){if(Ar===1){Ar=0;var o=Bo,a=ks,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var f=Z.p;Z.p=2;var v=Ot;Ot|=4;try{oS(a,o);var b=pm,_=d0(o.containerInfo),O=b.focusedElem,H=b.selectionRange;if(_!==O&&O&&O.ownerDocument&&u0(O.ownerDocument.documentElement,O)){if(H!==null&&Lp(O)){var oe=H.start,ve=H.end;if(ve===void 0&&(ve=oe),"selectionStart"in O)O.selectionStart=oe,O.selectionEnd=Math.min(ve,O.value.length);else{var ke=O.ownerDocument||document,se=ke&&ke.defaultView||window;if(se.getSelection){var fe=se.getSelection(),Ie=O.textContent.length,et=Math.min(H.start,Ie),Bt=H.end===void 0?et:Math.min(H.end,Ie);!fe.extend&&et>Bt&&(_=Bt,Bt=et,et=_);var Q=c0(O,et),K=c0(O,Bt);if(Q&&K&&(fe.rangeCount!==1||fe.anchorNode!==Q.node||fe.anchorOffset!==Q.offset||fe.focusNode!==K.node||fe.focusOffset!==K.offset)){var ne=ke.createRange();ne.setStart(Q.node,Q.offset),fe.removeAllRanges(),et>Bt?(fe.addRange(ne),fe.extend(K.node,K.offset)):(ne.setEnd(K.node,K.offset),fe.addRange(ne))}}}}for(ke=[],fe=O;fe=fe.parentNode;)fe.nodeType===1&&ke.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ke.length;O++){var Se=ke[O];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}sd=!!fm,pm=fm=null}finally{Ot=v,Z.p=f,B.T=u}}o.current=a,Ar=2}}function zS(){if(Ar===2){Ar=0;var o=Bo,a=ks,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var f=Z.p;Z.p=2;var v=Ot;Ot|=4;try{eS(o,a.alternate,a)}finally{Ot=v,Z.p=f,B.T=u}}Ar=3}}function _S(){if(Ar===4||Ar===3){Ar=0,nt();var o=Bo,a=ks,u=to,f=pS;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ar=5:(Ar=0,ks=Bo=null,TS(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(Wo=null),Re(u),a=a.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Zt,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=B.T,v=Z.p,Z.p=2,B.T=null;try{for(var b=o.onRecoverableError,_=0;_<f.length;_++){var O=f[_];b(O.value,{componentStack:O.stack})}}finally{B.T=a,Z.p=v}}(to&3)!==0&&Gu(),Ti(o),v=o.pendingLanes,(u&261930)!==0&&(v&42)!==0?o===Jg?Bl++:(Bl=0,Jg=o):Bl=0,Il(0)}}function TS(o,a){(o.pooledCacheLanes&=a)===0&&(a=o.pooledCache,a!=null&&(o.pooledCache=null,Sl(a)))}function Gu(){return CS(),zS(),_S(),AS()}function AS(){if(Ar!==5)return!1;var o=Bo,a=Qg;Qg=0;var u=Re(to),f=B.T,v=Z.p;try{Z.p=32>u?32:u,B.T=null,u=Zg,Zg=null;var b=Bo,_=to;if(Ar=0,ks=Bo=null,to=0,(Ot&6)!==0)throw Error(i(331));var O=Ot;if(Ot|=4,uS(b.current),sS(b,b.current,_,u),Ot=O,Il(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Zt,b)}catch{}return!0}finally{Z.p=v,B.T=f,TS(o,a)}}function ES(o,a,u){a=In(u,a),a=Og(o.stateNode,a,2),o=Ro(o,a,2),o!==null&&(an(o,2),Ti(o))}function $t(o,a,u){if(o.tag===3)ES(o,o,u);else for(;a!==null;){if(a.tag===3){ES(a,o,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Wo===null||!Wo.has(f))){o=In(u,o),u=O1(2),f=Ro(a,u,2),f!==null&&(M1(u,f,a,o),an(f,2),Ti(f));break}}a=a.return}}function rm(o,a,u){var f=o.pingCache;if(f===null){f=o.pingCache=new TM;var v=new Set;f.set(a,v)}else v=f.get(a),v===void 0&&(v=new Set,f.set(a,v));v.has(u)||(Vg=!0,v.add(u),o=RM.bind(null,o,a,u),a.then(o,o))}function RM(o,a,u){var f=o.pingCache;f!==null&&f.delete(a),o.pingedLanes|=o.suspendedLanes&u,o.warmLanes&=~u,Ut===o&&(xt&u)===u&&(fr===4||fr===3&&(xt&62914560)===xt&&300>Je()-Uu?(Ot&2)===0&&Cs(o,0):Gg|=u,ws===xt&&(ws=0)),Ti(o)}function OS(o,a){a===0&&(a=gr()),o=ma(o,a),o!==null&&(an(o,a),Ti(o))}function DM(o){var a=o.memoizedState,u=0;a!==null&&(u=a.retryLane),OS(o,u)}function $M(o,a){var u=0;switch(o.tag){case 31:case 13:var f=o.stateNode,v=o.memoizedState;v!==null&&(u=v.retryLane);break;case 19:f=o.stateNode;break;case 22:f=o.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(a),OS(o,u)}function PM(o,a){return te(o,a)}var Xu=null,_s=null,nm=!1,Qu=!1,im=!1,qo=0;function Ti(o){o!==_s&&o.next===null&&(_s===null?Xu=_s=o:_s=_s.next=o),Qu=!0,nm||(nm=!0,LM())}function Il(o,a){if(!im&&Qu){im=!0;do for(var u=!1,f=Xu;f!==null;){if(o!==0){var v=f.pendingLanes;if(v===0)var b=0;else{var _=f.suspendedLanes,O=f.pingedLanes;b=(1<<31-me(42|o)+1)-1,b&=v&~(_&~O),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,$S(f,b))}else b=xt,b=Ee(f,f===Ut?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||Ue(f,b)||(u=!0,$S(f,b));f=f.next}while(u);im=!1}}function NM(){MS()}function MS(){Qu=nm=!1;var o=0;qo!==0&&VM()&&(o=qo);for(var a=Je(),u=null,f=Xu;f!==null;){var v=f.next,b=RS(f,a);b===0?(f.next=null,u===null?Xu=v:u.next=v,v===null&&(_s=u)):(u=f,(o!==0||(b&3)!==0)&&(Qu=!0)),f=v}Ar!==0&&Ar!==5||Il(o),qo!==0&&(qo=0)}function RS(o,a){for(var u=o.suspendedLanes,f=o.pingedLanes,v=o.expirationTimes,b=o.pendingLanes&-62914561;0<b;){var _=31-me(b),O=1<<_,H=v[_];H===-1?((O&u)===0||(O&f)!==0)&&(v[_]=Vt(O,a)):H<=a&&(o.expiredLanes|=O),b&=~O}if(a=Ut,u=xt,u=Ee(o,o===a?u:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f=o.callbackNode,u===0||o===a&&(Dt===2||Dt===9)||o.cancelPendingCommit!==null)return f!==null&&f!==null&&Oe(f),o.callbackNode=null,o.callbackPriority=0;if((u&3)===0||Ue(o,u)){if(a=u&-u,a===o.callbackPriority)return a;switch(f!==null&&Oe(f),Re(u)){case 2:case 8:u=Fe;break;case 32:u=Me;break;case 268435456:u=Ne;break;default:u=Me}return f=DS.bind(null,o),u=te(u,f),o.callbackPriority=a,o.callbackNode=u,a}return f!==null&&f!==null&&Oe(f),o.callbackPriority=2,o.callbackNode=null,2}function DS(o,a){if(Ar!==0&&Ar!==5)return o.callbackNode=null,o.callbackPriority=0,null;var u=o.callbackNode;if(Gu()&&o.callbackNode!==u)return null;var f=xt;return f=Ee(o,o===Ut?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f===0?null:(mS(o,f,a),RS(o,Je()),o.callbackNode!=null&&o.callbackNode===u?DS.bind(null,o):null)}function $S(o,a){if(Gu())return null;mS(o,a,!0)}function LM(){XM(function(){(Ot&6)!==0?te(we,NM):MS()})}function om(){if(qo===0){var o=fs;o===0&&(o=ur,ur<<=1,(ur&261888)===0&&(ur=256)),qo=o}return qo}function PS(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:ou(""+o)}function NS(o,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,o.id&&u.setAttribute("form",o.id),a.parentNode.insertBefore(u,a),o=new FormData(o),u.parentNode.removeChild(u),o}function WM(o,a,u,f,v){if(a==="submit"&&u&&u.stateNode===v){var b=PS((v[gt]||null).action),_=f.submitter;_&&(a=(a=_[gt]||null)?PS(a.formAction):_.getAttribute("formAction"),a!==null&&(b=a,_=null));var O=new cu("action","action",null,f,v);o.push({event:O,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(qo!==0){var H=_?NS(v,_):new FormData(v);Cg(u,{pending:!0,data:H,method:v.method,action:b},null,H)}}else typeof b=="function"&&(O.preventDefault(),H=_?NS(v,_):new FormData(v),Cg(u,{pending:!0,data:H,method:v.method,action:b},b,H))},currentTarget:v}]})}}for(var am=0;am<qp.length;am++){var sm=qp[am],BM=sm.toLowerCase(),IM=sm[0].toUpperCase()+sm.slice(1);ci(BM,"on"+IM)}ci(g0,"onAnimationEnd"),ci(m0,"onAnimationIteration"),ci(h0,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(nM,"onTransitionRun"),ci(iM,"onTransitionStart"),ci(oM,"onTransitionCancel"),ci(y0,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),Jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function LS(o,a){a=(a&4)!==0;for(var u=0;u<o.length;u++){var f=o[u],v=f.event;f=f.listeners;e:{var b=void 0;if(a)for(var _=f.length-1;0<=_;_--){var O=f[_],H=O.instance,oe=O.currentTarget;if(O=O.listener,H!==b&&v.isPropagationStopped())break e;b=O,v.currentTarget=oe;try{b(v)}catch(ve){fu(ve)}v.currentTarget=null,b=H}else for(_=0;_<f.length;_++){if(O=f[_],H=O.instance,oe=O.currentTarget,O=O.listener,H!==b&&v.isPropagationStopped())break e;b=O,v.currentTarget=oe;try{b(v)}catch(ve){fu(ve)}v.currentTarget=null,b=H}}}}function ht(o,a){var u=a[Wi];u===void 0&&(u=a[Wi]=new Set);var f=o+"__bubble";u.has(f)||(WS(a,o,2,!1),u.add(f))}function lm(o,a,u){var f=0;a&&(f|=4),WS(u,o,f,a)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function cm(o){if(!o[Zu]){o[Zu]=!0,At.forEach(function(u){u!=="selectionchange"&&(qM.has(u)||lm(u,!1,o),lm(u,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Zu]||(a[Zu]=!0,lm("selectionchange",!1,a))}}function WS(o,a,u,f){switch(gj(a)){case 2:var v=hR;break;case 8:v=yR;break;default:v=km}u=v.bind(null,a,u,o),v=void 0,!Ap||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),f?v!==void 0?o.addEventListener(a,u,{capture:!0,passive:v}):o.addEventListener(a,u,!0):v!==void 0?o.addEventListener(a,u,{passive:v}):o.addEventListener(a,u,!1)}function um(o,a,u,f,v){var b=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var _=f.tag;if(_===3||_===4){var O=f.stateNode.containerInfo;if(O===v)break;if(_===4)for(_=f.return;_!==null;){var H=_.tag;if((H===3||H===4)&&_.stateNode.containerInfo===v)return;_=_.return}for(;O!==null;){if(_=$e(O),_===null)return;if(H=_.tag,H===5||H===6||H===26||H===27){f=b=_;continue e}O=O.parentNode}}f=f.return}Hb(function(){var oe=b,ve=_p(u),ke=[];e:{var se=x0.get(o);if(se!==void 0){var fe=cu,Ie=o;switch(o){case"keypress":if(su(u)===0)break e;case"keydown":case"keyup":fe=$O;break;case"focusin":Ie="focus",fe=Rp;break;case"focusout":Ie="blur",fe=Rp;break;case"beforeblur":case"afterblur":fe=Rp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Yb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=wO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=LO;break;case g0:case m0:case h0:fe=zO;break;case y0:fe=BO;break;case"scroll":case"scrollend":fe=SO;break;case"wheel":fe=qO;break;case"copy":case"cut":case"paste":fe=TO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Gb;break;case"toggle":case"beforetoggle":fe=HO}var et=(a&4)!==0,Bt=!et&&(o==="scroll"||o==="scrollend"),Q=et?se!==null?se+"Capture":null:se;et=[];for(var K=oe,ne;K!==null;){var Se=K;if(ne=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||ne===null||Q===null||(Se=ul(K,Q),Se!=null&&et.push(Ul(K,Se,ne))),Bt)break;K=K.return}0<et.length&&(se=new fe(se,Ie,null,u,ve),ke.push({event:se,listeners:et}))}}if((a&7)===0){e:{if(se=o==="mouseover"||o==="pointerover",fe=o==="mouseout"||o==="pointerout",se&&u!==zp&&(Ie=u.relatedTarget||u.fromElement)&&($e(Ie)||Ie[ft]))break e;if((fe||se)&&(se=ve.window===ve?ve:(se=ve.ownerDocument)?se.defaultView||se.parentWindow:window,fe?(Ie=u.relatedTarget||u.toElement,fe=oe,Ie=Ie?$e(Ie):null,Ie!==null&&(Bt=c(Ie),et=Ie.tag,Ie!==Bt||et!==5&&et!==27&&et!==6)&&(Ie=null)):(fe=null,Ie=oe),fe!==Ie)){if(et=Yb,Se="onMouseLeave",Q="onMouseEnter",K="mouse",(o==="pointerout"||o==="pointerover")&&(et=Gb,Se="onPointerLeave",Q="onPointerEnter",K="pointer"),Bt=fe==null?se:Xe(fe),ne=Ie==null?se:Xe(Ie),se=new et(Se,K+"leave",fe,u,ve),se.target=Bt,se.relatedTarget=ne,Se=null,$e(ve)===oe&&(et=new et(Q,K+"enter",Ie,u,ve),et.target=ne,et.relatedTarget=Bt,Se=et),Bt=Se,fe&&Ie)t:{for(et=UM,Q=fe,K=Ie,ne=0,Se=Q;Se;Se=et(Se))ne++;Se=0;for(var Qe=K;Qe;Qe=et(Qe))Se++;for(;0<ne-Se;)Q=et(Q),ne--;for(;0<Se-ne;)K=et(K),Se--;for(;ne--;){if(Q===K||K!==null&&Q===K.alternate){et=Q;break t}Q=et(Q),K=et(K)}et=null}else et=null;fe!==null&&BS(ke,se,fe,et,!1),Ie!==null&&Bt!==null&&BS(ke,Bt,Ie,et,!0)}}e:{if(se=oe?Xe(oe):window,fe=se.nodeName&&se.nodeName.toLowerCase(),fe==="select"||fe==="input"&&se.type==="file")var jt=n0;else if(t0(se))if(i0)jt=eM;else{jt=ZO;var He=QO}else fe=se.nodeName,!fe||fe.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?oe&&Cp(oe.elementType)&&(jt=n0):jt=JO;if(jt&&(jt=jt(o,oe))){r0(ke,jt,u,ve);break e}He&&He(o,se,oe),o==="focusout"&&oe&&se.type==="number"&&oe.memoizedProps.value!=null&&kp(se,"number",se.value)}switch(He=oe?Xe(oe):window,o){case"focusin":(t0(He)||He.contentEditable==="true")&&(is=He,Wp=oe,xl=null);break;case"focusout":xl=Wp=is=null;break;case"mousedown":Bp=!0;break;case"contextmenu":case"mouseup":case"dragend":Bp=!1,f0(ke,u,ve);break;case"selectionchange":if(rM)break;case"keydown":case"keyup":f0(ke,u,ve)}var ct;if($p)e:{switch(o){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else ns?Jb(o,u)&&(vt="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(vt="onCompositionStart");vt&&(Xb&&u.locale!=="ko"&&(ns||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&ns&&(ct=Fb()):(zo=ve,Ep="value"in zo?zo.value:zo.textContent,ns=!0)),He=Ju(oe,vt),0<He.length&&(vt=new Vb(vt,o,null,u,ve),ke.push({event:vt,listeners:He}),ct?vt.data=ct:(ct=e0(u),ct!==null&&(vt.data=ct)))),(ct=KO?YO(o,u):VO(o,u))&&(vt=Ju(oe,"onBeforeInput"),0<vt.length&&(He=new Vb("onBeforeInput","beforeinput",null,u,ve),ke.push({event:He,listeners:vt}),He.data=ct)),WM(ke,o,oe,u,ve)}LS(ke,a)})}function Ul(o,a,u){return{instance:o,listener:a,currentTarget:u}}function Ju(o,a){for(var u=a+"Capture",f=[];o!==null;){var v=o,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=ul(o,u),v!=null&&f.unshift(Ul(o,v,b)),v=ul(o,a),v!=null&&f.push(Ul(o,v,b))),o.tag===3)return f;o=o.return}return[]}function UM(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function BS(o,a,u,f,v){for(var b=a._reactName,_=[];u!==null&&u!==f;){var O=u,H=O.alternate,oe=O.stateNode;if(O=O.tag,H!==null&&H===f)break;O!==5&&O!==26&&O!==27||oe===null||(H=oe,v?(oe=ul(u,b),oe!=null&&_.unshift(Ul(u,oe,H))):v||(oe=ul(u,b),oe!=null&&_.push(Ul(u,oe,H)))),u=u.return}_.length!==0&&o.push({event:a,listeners:_})}var HM=/\r\n?/g,FM=/\u0000|\uFFFD/g;function IS(o){return(typeof o=="string"?o:""+o).replace(HM,`
`).replace(FM,"")}function qS(o,a){return a=IS(a),IS(o)===a}function Wt(o,a,u,f,v,b){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||es(o,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&es(o,""+f);break;case"className":N(o,"class",f);break;case"tabIndex":N(o,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":N(o,u,f);break;case"style":qb(o,f,b);break;case"data":if(a!=="object"){N(o,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){o.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(u);break}f=ou(""+f),o.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){o.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(a!=="input"&&Wt(o,a,"name",v.name,v,null),Wt(o,a,"formEncType",v.formEncType,v,null),Wt(o,a,"formMethod",v.formMethod,v,null),Wt(o,a,"formTarget",v.formTarget,v,null)):(Wt(o,a,"encType",v.encType,v,null),Wt(o,a,"method",v.method,v,null),Wt(o,a,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(u);break}f=ou(""+f),o.setAttribute(u,f);break;case"onClick":f!=null&&(o.onclick=Bi);break;case"onScroll":f!=null&&ht("scroll",o);break;case"onScrollEnd":f!=null&&ht("scrollend",o);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(i(60));o.innerHTML=u}}break;case"multiple":o.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":o.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){o.removeAttribute("xlink:href");break}u=ou(""+f),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(u,""+f):o.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(u,""):o.removeAttribute(u);break;case"capture":case"download":f===!0?o.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(u,f):o.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?o.setAttribute(u,f):o.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?o.removeAttribute(u):o.setAttribute(u,f);break;case"popover":ht("beforetoggle",o),ht("toggle",o),Za(o,"popover",f);break;case"xlinkActuate":De(o,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":De(o,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":De(o,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":De(o,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":De(o,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":De(o,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":De(o,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":De(o,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":De(o,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Za(o,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=vO.get(u)||u,Za(o,u,f))}}function dm(o,a,u,f,v,b){switch(u){case"style":qb(o,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(i(60));o.innerHTML=u}}break;case"children":typeof f=="string"?es(o,f):(typeof f=="number"||typeof f=="bigint")&&es(o,""+f);break;case"onScroll":f!=null&&ht("scroll",o);break;case"onScrollEnd":f!=null&&ht("scrollend",o);break;case"onClick":f!=null&&(o.onclick=Bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Et.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),a=u.slice(2,v?u.length-7:void 0),b=o[gt]||null,b=b!=null?b[u]:null,typeof b=="function"&&o.removeEventListener(a,b,v),typeof f=="function")){typeof b!="function"&&b!==null&&(u in o?o[u]=null:o.hasAttribute(u)&&o.removeAttribute(u)),o.addEventListener(a,f,v);break e}u in o?o[u]=f:f===!0?o.setAttribute(u,""):Za(o,u,f)}}}function Ur(o,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",o),ht("load",o);var f=!1,v=!1,b;for(b in u)if(u.hasOwnProperty(b)){var _=u[b];if(_!=null)switch(b){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Wt(o,a,b,_,u,null)}}v&&Wt(o,a,"srcSet",u.srcSet,u,null),f&&Wt(o,a,"src",u.src,u,null);return;case"input":ht("invalid",o);var O=b=_=v=null,H=null,oe=null;for(f in u)if(u.hasOwnProperty(f)){var ve=u[f];if(ve!=null)switch(f){case"name":v=ve;break;case"type":_=ve;break;case"checked":H=ve;break;case"defaultChecked":oe=ve;break;case"value":b=ve;break;case"defaultValue":O=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(i(137,a));break;default:Wt(o,a,f,ve,u,null)}}Lb(o,b,O,H,oe,_,v,!1);return;case"select":ht("invalid",o),f=_=b=null;for(v in u)if(u.hasOwnProperty(v)&&(O=u[v],O!=null))switch(v){case"value":b=O;break;case"defaultValue":_=O;break;case"multiple":f=O;default:Wt(o,a,v,O,u,null)}a=b,u=_,o.multiple=!!f,a!=null?Ja(o,!!f,a,!1):u!=null&&Ja(o,!!f,u,!0);return;case"textarea":ht("invalid",o),b=v=f=null;for(_ in u)if(u.hasOwnProperty(_)&&(O=u[_],O!=null))switch(_){case"value":f=O;break;case"defaultValue":v=O;break;case"children":b=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:Wt(o,a,_,O,u,null)}Bb(o,f,v,b);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(f=u[H],f!=null))switch(H){case"selected":o.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Wt(o,a,H,f,u,null)}return;case"dialog":ht("beforetoggle",o),ht("toggle",o),ht("cancel",o),ht("close",o);break;case"iframe":case"object":ht("load",o);break;case"video":case"audio":for(f=0;f<ql.length;f++)ht(ql[f],o);break;case"image":ht("error",o),ht("load",o);break;case"details":ht("toggle",o);break;case"embed":case"source":case"link":ht("error",o),ht("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in u)if(u.hasOwnProperty(oe)&&(f=u[oe],f!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Wt(o,a,oe,f,u,null)}return;default:if(Cp(a)){for(ve in u)u.hasOwnProperty(ve)&&(f=u[ve],f!==void 0&&dm(o,a,ve,f,u,void 0));return}}for(O in u)u.hasOwnProperty(O)&&(f=u[O],f!=null&&Wt(o,a,O,f,u,null))}function KM(o,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,_=null,O=null,H=null,oe=null,ve=null;for(fe in u){var ke=u[fe];if(u.hasOwnProperty(fe)&&ke!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":H=ke;default:f.hasOwnProperty(fe)||Wt(o,a,fe,null,f,ke)}}for(var se in f){var fe=f[se];if(ke=u[se],f.hasOwnProperty(se)&&(fe!=null||ke!=null))switch(se){case"type":b=fe;break;case"name":v=fe;break;case"checked":oe=fe;break;case"defaultChecked":ve=fe;break;case"value":_=fe;break;case"defaultValue":O=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,a));break;default:fe!==ke&&Wt(o,a,se,fe,f,ke)}}wp(o,_,O,H,oe,ve,b,v);return;case"select":fe=_=O=se=null;for(b in u)if(H=u[b],u.hasOwnProperty(b)&&H!=null)switch(b){case"value":break;case"multiple":fe=H;default:f.hasOwnProperty(b)||Wt(o,a,b,null,f,H)}for(v in f)if(b=f[v],H=u[v],f.hasOwnProperty(v)&&(b!=null||H!=null))switch(v){case"value":se=b;break;case"defaultValue":O=b;break;case"multiple":_=b;default:b!==H&&Wt(o,a,v,b,f,H)}a=O,u=_,f=fe,se!=null?Ja(o,!!u,se,!1):!!f!=!!u&&(a!=null?Ja(o,!!u,a,!0):Ja(o,!!u,u?[]:"",!1));return;case"textarea":fe=se=null;for(O in u)if(v=u[O],u.hasOwnProperty(O)&&v!=null&&!f.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Wt(o,a,O,null,f,v)}for(_ in f)if(v=f[_],b=u[_],f.hasOwnProperty(_)&&(v!=null||b!=null))switch(_){case"value":se=v;break;case"defaultValue":fe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==b&&Wt(o,a,_,v,f,b)}Wb(o,se,fe);return;case"option":for(var Ie in u)if(se=u[Ie],u.hasOwnProperty(Ie)&&se!=null&&!f.hasOwnProperty(Ie))switch(Ie){case"selected":o.selected=!1;break;default:Wt(o,a,Ie,null,f,se)}for(H in f)if(se=f[H],fe=u[H],f.hasOwnProperty(H)&&se!==fe&&(se!=null||fe!=null))switch(H){case"selected":o.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Wt(o,a,H,se,f,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in u)se=u[et],u.hasOwnProperty(et)&&se!=null&&!f.hasOwnProperty(et)&&Wt(o,a,et,null,f,se);for(oe in f)if(se=f[oe],fe=u[oe],f.hasOwnProperty(oe)&&se!==fe&&(se!=null||fe!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,a));break;default:Wt(o,a,oe,se,f,fe)}return;default:if(Cp(a)){for(var Bt in u)se=u[Bt],u.hasOwnProperty(Bt)&&se!==void 0&&!f.hasOwnProperty(Bt)&&dm(o,a,Bt,void 0,f,se);for(ve in f)se=f[ve],fe=u[ve],!f.hasOwnProperty(ve)||se===fe||se===void 0&&fe===void 0||dm(o,a,ve,se,f,fe);return}}for(var Q in u)se=u[Q],u.hasOwnProperty(Q)&&se!=null&&!f.hasOwnProperty(Q)&&Wt(o,a,Q,null,f,se);for(ke in f)se=f[ke],fe=u[ke],!f.hasOwnProperty(ke)||se===fe||se==null&&fe==null||Wt(o,a,ke,se,f,fe)}function US(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YM(){if(typeof performance.getEntriesByType=="function"){for(var o=0,a=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var v=u[f],b=v.transferSize,_=v.initiatorType,O=v.duration;if(b&&O&&US(_)){for(_=0,O=v.responseEnd,f+=1;f<u.length;f++){var H=u[f],oe=H.startTime;if(oe>O)break;var ve=H.transferSize,ke=H.initiatorType;ve&&US(ke)&&(H=H.responseEnd,_+=ve*(H<O?1:(O-oe)/(H-oe)))}if(--f,a+=8*(b+_)/(v.duration/1e3),o++,10<o)break}}if(0<o)return a/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var fm=null,pm=null;function ed(o){return o.nodeType===9?o:o.ownerDocument}function HS(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function FS(o,a){if(o===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&a==="foreignObject"?0:o}function gm(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var mm=null;function VM(){var o=window.event;return o&&o.type==="popstate"?o===mm?!1:(mm=o,!0):(mm=null,!1)}var KS=typeof setTimeout=="function"?setTimeout:void 0,GM=typeof clearTimeout=="function"?clearTimeout:void 0,YS=typeof Promise=="function"?Promise:void 0,XM=typeof queueMicrotask=="function"?queueMicrotask:typeof YS<"u"?function(o){return YS.resolve(null).then(o).catch(QM)}:KS;function QM(o){setTimeout(function(){throw o})}function Uo(o){return o==="head"}function VS(o,a){var u=a,f=0;do{var v=u.nextSibling;if(o.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(f===0){o.removeChild(v),Os(a);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")Hl(o.ownerDocument.documentElement);else if(u==="head"){u=o.ownerDocument.head,Hl(u);for(var b=u.firstChild;b;){var _=b.nextSibling,O=b.nodeName;b[si]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=_}}else u==="body"&&Hl(o.ownerDocument.body);u=v}while(u);Os(a)}function GS(o,a){var u=o;o=0;do{var f=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(o===0)break;o--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||o++;u=f}while(u)}function hm(o){var a=o.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":hm(u),Y(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}o.removeChild(u)}}function ZM(o,a,u,f){for(;o.nodeType===1;){var v=u;if(o.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(f){if(!o[si])switch(a){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(b=o.getAttribute("rel"),b==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(b!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(b=o.getAttribute("src"),(b!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(a==="input"&&o.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===b)return o}else return o;if(o=Kn(o.nextSibling),o===null)break}return null}function JM(o,a,u){if(a==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=Kn(o.nextSibling),o===null))return null;return o}function XS(o,a){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!a||(o=Kn(o.nextSibling),o===null))return null;return o}function ym(o){return o.data==="$?"||o.data==="$~"}function xm(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function eR(o,a){var u=o.ownerDocument;if(o.data==="$~")o._reactRetry=a;else if(o.data!=="$?"||u.readyState!=="loading")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),o._reactRetry=f}}function Kn(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return o}var vm=null;function QS(o){o=o.nextSibling;for(var a=0;o;){if(o.nodeType===8){var u=o.data;if(u==="/$"||u==="/&"){if(a===0)return Kn(o.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}o=o.nextSibling}return null}function ZS(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return o;a--}else u!=="/$"&&u!=="/&"||a++}o=o.previousSibling}return null}function JS(o,a,u){switch(a=ed(u),o){case"html":if(o=a.documentElement,!o)throw Error(i(452));return o;case"head":if(o=a.head,!o)throw Error(i(453));return o;case"body":if(o=a.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function Hl(o){for(var a=o.attributes;a.length;)o.removeAttributeNode(a[0]);Y(o)}var Yn=new Map,ej=new Set;function td(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var ro=Z.d;Z.d={f:tR,r:rR,D:nR,C:iR,L:oR,m:aR,X:lR,S:sR,M:cR};function tR(){var o=ro.f(),a=Ku();return o||a}function rR(o){var a=Ke(o);a!==null&&a.tag===5&&a.type==="form"?y1(a):ro.r(o)}var Ts=typeof document>"u"?null:document;function tj(o,a,u){var f=Ts;if(f&&typeof a=="string"&&a){var v=Wn(a);v='link[rel="'+o+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),ej.has(v)||(ej.add(v),o={rel:o,crossOrigin:u,href:a},f.querySelector(v)===null&&(a=f.createElement("link"),Ur(a,"link",o),at(a),f.head.appendChild(a)))}}function nR(o){ro.D(o),tj("dns-prefetch",o,null)}function iR(o,a){ro.C(o,a),tj("preconnect",o,a)}function oR(o,a,u){ro.L(o,a,u);var f=Ts;if(f&&o&&a){var v='link[rel="preload"][as="'+Wn(a)+'"]';a==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Wn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Wn(u.imageSizes)+'"]')):v+='[href="'+Wn(o)+'"]';var b=v;switch(a){case"style":b=As(o);break;case"script":b=Es(o)}Yn.has(b)||(o=x({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:o,as:a},u),Yn.set(b,o),f.querySelector(v)!==null||a==="style"&&f.querySelector(Fl(b))||a==="script"&&f.querySelector(Kl(b))||(a=f.createElement("link"),Ur(a,"link",o),at(a),f.head.appendChild(a)))}}function aR(o,a){ro.m(o,a);var u=Ts;if(u&&o){var f=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Wn(f)+'"][href="'+Wn(o)+'"]',b=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Es(o)}if(!Yn.has(b)&&(o=x({rel:"modulepreload",href:o},a),Yn.set(b,o),u.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Kl(b)))return}f=u.createElement("link"),Ur(f,"link",o),at(f),u.head.appendChild(f)}}}function sR(o,a,u){ro.S(o,a,u);var f=Ts;if(f&&o){var v=Tt(f).hoistableStyles,b=As(o);a=a||"default";var _=v.get(b);if(!_){var O={loading:0,preload:null};if(_=f.querySelector(Fl(b)))O.loading=5;else{o=x({rel:"stylesheet",href:o,"data-precedence":a},u),(u=Yn.get(b))&&bm(o,u);var H=_=f.createElement("link");at(H),Ur(H,"link",o),H._p=new Promise(function(oe,ve){H.onload=oe,H.onerror=ve}),H.addEventListener("load",function(){O.loading|=1}),H.addEventListener("error",function(){O.loading|=2}),O.loading|=4,rd(_,a,f)}_={type:"stylesheet",instance:_,count:1,state:O},v.set(b,_)}}}function lR(o,a){ro.X(o,a);var u=Ts;if(u&&o){var f=Tt(u).hoistableScripts,v=Es(o),b=f.get(v);b||(b=u.querySelector(Kl(v)),b||(o=x({src:o,async:!0},a),(a=Yn.get(v))&&Sm(o,a),b=u.createElement("script"),at(b),Ur(b,"link",o),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(v,b))}}function cR(o,a){ro.M(o,a);var u=Ts;if(u&&o){var f=Tt(u).hoistableScripts,v=Es(o),b=f.get(v);b||(b=u.querySelector(Kl(v)),b||(o=x({src:o,async:!0,type:"module"},a),(a=Yn.get(v))&&Sm(o,a),b=u.createElement("script"),at(b),Ur(b,"link",o),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(v,b))}}function rj(o,a,u,f){var v=(v=je.current)?td(v):null;if(!v)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=As(u.href),u=Tt(v).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){o=As(u.href);var b=Tt(v).hoistableStyles,_=b.get(o);if(_||(v=v.ownerDocument||v,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(o,_),(b=v.querySelector(Fl(o)))&&!b._p&&(_.instance=b,_.state.loading=5),Yn.has(o)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Yn.set(o,u),b||uR(v,o,u,_.state))),a&&f===null)throw Error(i(528,""));return _}if(a&&f!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Es(u),u=Tt(v).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function As(o){return'href="'+Wn(o)+'"'}function Fl(o){return'link[rel="stylesheet"]['+o+"]"}function nj(o){return x({},o,{"data-precedence":o.precedence,precedence:null})}function uR(o,a,u,f){o.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=o.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Ur(a,"link",u),at(a),o.head.appendChild(a))}function Es(o){return'[src="'+Wn(o)+'"]'}function Kl(o){return"script[async]"+o}function ij(o,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=o.querySelector('style[data-href~="'+Wn(u.href)+'"]');if(f)return a.instance=f,at(f),f;var v=x({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(o.ownerDocument||o).createElement("style"),at(f),Ur(f,"style",v),rd(f,u.precedence,o),a.instance=f;case"stylesheet":v=As(u.href);var b=o.querySelector(Fl(v));if(b)return a.state.loading|=4,a.instance=b,at(b),b;f=nj(u),(v=Yn.get(v))&&bm(f,v),b=(o.ownerDocument||o).createElement("link"),at(b);var _=b;return _._p=new Promise(function(O,H){_.onload=O,_.onerror=H}),Ur(b,"link",f),a.state.loading|=4,rd(b,u.precedence,o),a.instance=b;case"script":return b=Es(u.src),(v=o.querySelector(Kl(b)))?(a.instance=v,at(v),v):(f=u,(v=Yn.get(b))&&(f=x({},u),Sm(f,v)),o=o.ownerDocument||o,v=o.createElement("script"),at(v),Ur(v,"link",f),o.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,rd(f,u.precedence,o));return a.instance}function rd(o,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,b=v,_=0;_<f.length;_++){var O=f[_];if(O.dataset.precedence===a)b=O;else if(b!==v)break}b?b.parentNode.insertBefore(o,b.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(o,a.firstChild))}function bm(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.title==null&&(o.title=a.title)}function Sm(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.integrity==null&&(o.integrity=a.integrity)}var nd=null;function oj(o,a,u){if(nd===null){var f=new Map,v=nd=new Map;v.set(u,f)}else v=nd,f=v.get(u),f||(f=new Map,v.set(u,f));if(f.has(o))return f;for(f.set(o,null),u=u.getElementsByTagName(o),v=0;v<u.length;v++){var b=u[v];if(!(b[si]||b[ot]||o==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var _=b.getAttribute(a)||"";_=o+_;var O=f.get(_);O?O.push(b):f.set(_,[b])}}return f}function aj(o,a,u){o=o.ownerDocument||o,o.head.insertBefore(u,a==="title"?o.querySelector("head > title"):null)}function dR(o,a,u){if(u===1||a.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return o=a.disabled,typeof a.precedence=="string"&&o==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function sj(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function fR(o,a,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=As(f.href),b=a.querySelector(Fl(v));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(o.count++,o=id.bind(o),a.then(o,o)),u.state.loading|=4,u.instance=b,at(b);return}b=a.ownerDocument||a,f=nj(f),(v=Yn.get(v))&&bm(f,v),b=b.createElement("link"),at(b);var _=b;_._p=new Promise(function(O,H){_.onload=O,_.onerror=H}),Ur(b,"link",f),u.instance=b}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(o.count++,u=id.bind(o),a.addEventListener("load",u),a.addEventListener("error",u))}}var jm=0;function pR(o,a){return o.stylesheets&&o.count===0&&ad(o,o.stylesheets),0<o.count||0<o.imgCount?function(u){var f=setTimeout(function(){if(o.stylesheets&&ad(o,o.stylesheets),o.unsuspend){var b=o.unsuspend;o.unsuspend=null,b()}},6e4+a);0<o.imgBytes&&jm===0&&(jm=62500*YM());var v=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&ad(o,o.stylesheets),o.unsuspend)){var b=o.unsuspend;o.unsuspend=null,b()}},(o.imgBytes>jm?50:800)+a);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function id(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ad(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var od=null;function ad(o,a){o.stylesheets=null,o.unsuspend!==null&&(o.count++,od=new Map,a.forEach(gR,o),od=null,id.call(o))}function gR(o,a){if(!(a.state.loading&4)){var u=od.get(o);if(u)var f=u.get(null);else{u=new Map,od.set(o,u);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var _=v[b];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(u.set(_.dataset.precedence,_),f=_)}f&&u.set(null,f)}v=a.instance,_=v.getAttribute("data-precedence"),b=u.get(_)||f,b===f&&u.set(null,v),u.set(_,v),this.count++,f=id.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),b?b.parentNode.insertBefore(v,b.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),a.state.loading|=4}}var Yl={$$typeof:A,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function mR(o,a,u,f,v,b,_,O,H){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.hiddenUpdates=vn(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function lj(o,a,u,f,v,b,_,O,H,oe,ve,ke){return o=new mR(o,a,u,_,H,oe,ve,ke,O),a=1,b===!0&&(a|=24),b=Sn(3,null,null,a),o.current=b,b.stateNode=o,a=tg(),a.refCount++,o.pooledCache=a,a.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:a},og(b),o}function cj(o){return o?(o=ss,o):ss}function uj(o,a,u,f,v,b){v=cj(v),f.context===null?f.context=v:f.pendingContext=v,f=Mo(a),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=Ro(o,f,a),u!==null&&(pn(u,o,a),Cl(u,o,a))}function dj(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<a?u:a}}function wm(o,a){dj(o,a),(o=o.alternate)&&dj(o,a)}function fj(o){if(o.tag===13||o.tag===31){var a=ma(o,67108864);a!==null&&pn(a,o,67108864),wm(o,67108864)}}function pj(o){if(o.tag===13||o.tag===31){var a=zn();a=I(a);var u=ma(o,a);u!==null&&pn(u,o,a),wm(o,a)}}var sd=!0;function hR(o,a,u,f){var v=B.T;B.T=null;var b=Z.p;try{Z.p=2,km(o,a,u,f)}finally{Z.p=b,B.T=v}}function yR(o,a,u,f){var v=B.T;B.T=null;var b=Z.p;try{Z.p=8,km(o,a,u,f)}finally{Z.p=b,B.T=v}}function km(o,a,u,f){if(sd){var v=Cm(f);if(v===null)um(o,a,f,ld,u),mj(o,f);else if(vR(v,o,a,u,f))f.stopPropagation();else if(mj(o,f),a&4&&-1<xR.indexOf(o)){for(;v!==null;){var b=Ke(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var _=J(b.pendingLanes);if(_!==0){var O=b;for(O.pendingLanes|=2,O.entangledLanes|=2;_;){var H=1<<31-me(_);O.entanglements[1]|=H,_&=~H}Ti(b),(Ot&6)===0&&(Hu=Je()+500,Il(0))}}break;case 31:case 13:O=ma(b,2),O!==null&&pn(O,b,2),Ku(),wm(b,2)}if(b=Cm(f),b===null&&um(o,a,f,ld,u),b===v)break;v=b}v!==null&&f.stopPropagation()}else um(o,a,f,null,u)}}function Cm(o){return o=_p(o),zm(o)}var ld=null;function zm(o){if(ld=null,o=$e(o),o!==null){var a=c(o);if(a===null)o=null;else{var u=a.tag;if(u===13){if(o=d(a),o!==null)return o;o=null}else if(u===31){if(o=p(a),o!==null)return o;o=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return ld=o,null}function gj(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(L()){case we:return 2;case Fe:return 8;case Me:case Ze:return 32;case Ne:return 268435456;default:return 32}default:return 32}}var _m=!1,Ho=null,Fo=null,Ko=null,Vl=new Map,Gl=new Map,Yo=[],xR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mj(o,a){switch(o){case"focusin":case"focusout":Ho=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":Ko=null;break;case"pointerover":case"pointerout":Vl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(a.pointerId)}}function Xl(o,a,u,f,v,b){return o===null||o.nativeEvent!==b?(o={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[v]},a!==null&&(a=Ke(a),a!==null&&fj(a)),o):(o.eventSystemFlags|=f,a=o.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),o)}function vR(o,a,u,f,v){switch(a){case"focusin":return Ho=Xl(Ho,o,a,u,f,v),!0;case"dragenter":return Fo=Xl(Fo,o,a,u,f,v),!0;case"mouseover":return Ko=Xl(Ko,o,a,u,f,v),!0;case"pointerover":var b=v.pointerId;return Vl.set(b,Xl(Vl.get(b)||null,o,a,u,f,v)),!0;case"gotpointercapture":return b=v.pointerId,Gl.set(b,Xl(Gl.get(b)||null,o,a,u,f,v)),!0}return!1}function hj(o){var a=$e(o.target);if(a!==null){var u=c(a);if(u!==null){if(a=u.tag,a===13){if(a=d(u),a!==null){o.blockedOn=a,_t(o.priority,function(){pj(u)});return}}else if(a===31){if(a=p(u),a!==null){o.blockedOn=a,_t(o.priority,function(){pj(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function cd(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var u=Cm(o.nativeEvent);if(u===null){u=o.nativeEvent;var f=new u.constructor(u.type,u);zp=f,u.target.dispatchEvent(f),zp=null}else return a=Ke(u),a!==null&&fj(a),o.blockedOn=u,!1;a.shift()}return!0}function yj(o,a,u){cd(o)&&u.delete(a)}function bR(){_m=!1,Ho!==null&&cd(Ho)&&(Ho=null),Fo!==null&&cd(Fo)&&(Fo=null),Ko!==null&&cd(Ko)&&(Ko=null),Vl.forEach(yj),Gl.forEach(yj)}function ud(o,a){o.blockedOn===a&&(o.blockedOn=null,_m||(_m=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bR)))}var dd=null;function xj(o){dd!==o&&(dd=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){dd===o&&(dd=null);for(var a=0;a<o.length;a+=3){var u=o[a],f=o[a+1],v=o[a+2];if(typeof f!="function"){if(zm(f||u)===null)continue;break}var b=Ke(u);b!==null&&(o.splice(a,3),a-=3,Cg(b,{pending:!0,data:v,method:u.method,action:f},f,v))}}))}function Os(o){function a(H){return ud(H,o)}Ho!==null&&ud(Ho,o),Fo!==null&&ud(Fo,o),Ko!==null&&ud(Ko,o),Vl.forEach(a),Gl.forEach(a);for(var u=0;u<Yo.length;u++){var f=Yo[u];f.blockedOn===o&&(f.blockedOn=null)}for(;0<Yo.length&&(u=Yo[0],u.blockedOn===null);)hj(u),u.blockedOn===null&&Yo.shift();if(u=(o.ownerDocument||o).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var v=u[f],b=u[f+1],_=v[gt]||null;if(typeof b=="function")_||xj(u);else if(_){var O=null;if(b&&b.hasAttribute("formAction")){if(v=b,_=b[gt]||null)O=_.formAction;else if(zm(v)!==null)continue}else O=_.action;typeof O=="function"?u[f+1]=O:(u.splice(f,3),f-=3),xj(u)}}}function vj(){function o(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(_){return v=_})},focusReset:"manual",scroll:"manual"})}function a(){v!==null&&(v(),v=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),v!==null&&(v(),v=null)}}}function Tm(o){this._internalRoot=o}fd.prototype.render=Tm.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,f=zn();uj(u,f,o,a,null,null)},fd.prototype.unmount=Tm.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;uj(o.current,2,null,o,null,null),Ku(),a[ft]=null}};function fd(o){this._internalRoot=o}fd.prototype.unstable_scheduleHydration=function(o){if(o){var a=Mt();o={blockedOn:null,target:o,priority:a};for(var u=0;u<Yo.length&&a!==0&&a<Yo[u].priority;u++);Yo.splice(u,0,o),u===0&&hj(o)}};var bj=t.version;if(bj!=="19.2.0")throw Error(i(527,bj,"19.2.0"));Z.findDOMNode=function(o){var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=g(a),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var SR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{Zt=pd.inject(SR),zt=pd}catch{}}return Zl.createRoot=function(o,a){if(!l(o))throw Error(i(299));var u=!1,f="",v=_1,b=T1,_=A1;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),a=lj(o,1,!1,null,null,u,f,null,v,b,_,vj),o[ft]=a.current,cm(o),new Tm(a)},Zl.hydrateRoot=function(o,a,u){if(!l(o))throw Error(i(299));var f=!1,v="",b=_1,_=T1,O=A1,H=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(_=u.onCaughtError),u.onRecoverableError!==void 0&&(O=u.onRecoverableError),u.formState!==void 0&&(H=u.formState)),a=lj(o,1,!0,a,u??null,f,v,H,b,_,O,vj),a.context=cj(null),u=a.current,f=zn(),f=I(f),v=Mo(f),v.callback=null,Ro(u,v,f),u=f,a.current.lanes=u,an(a,u),Ti(a),o[ft]=a.current,cm(o),new fd(a)},Zl.version="19.2.0",Zl}var Ej;function MR(){if(Ej)return Om.exports;Ej=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Om.exports=OR(),Om.exports}var RR=MR();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Oj="popstate";function DR(e={}){function t(i,l){let{pathname:c,search:d,hash:p}=i.location;return Sy("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){return typeof l=="string"?l:yc(l)}return PR(t,n,null,e)}function nr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ti(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $R(){return Math.random().toString(36).substring(2,10)}function Mj(e,t){return{usr:e.state,key:e.key,idx:t}}function Sy(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Xs(t):t,state:n,key:t&&t.key||i||$R()}}function yc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Xs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function PR(e,t,n,i={}){let{window:l=document.defaultView,v5Compat:c=!1}=i,d=l.history,p="POP",m=null,g=h();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function h(){return(d.state||{idx:null}).idx}function x(){p="POP";let C=h(),z=C==null?null:C-g;g=C,m&&m({action:p,location:w.location,delta:z})}function S(C,z){p="PUSH";let E=Sy(w.location,C,z);g=h()+1;let A=Mj(E,g),$=w.createHref(E);try{d.pushState(A,"",$)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;l.location.assign($)}c&&m&&m({action:p,location:w.location,delta:1})}function j(C,z){p="REPLACE";let E=Sy(w.location,C,z);g=h();let A=Mj(E,g),$=w.createHref(E);d.replaceState(A,"",$),c&&m&&m({action:p,location:w.location,delta:0})}function k(C){return NR(C)}let w={get action(){return p},get location(){return e(l,d)},listen(C){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(Oj,x),m=C,()=>{l.removeEventListener(Oj,x),m=null}},createHref(C){return t(l,C)},createURL:k,encodeLocation(C){let z=k(C);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:S,replace:j,go(C){return d.go(C)}};return w}function NR(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nr(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:yc(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Q2(e,t,n="/"){return LR(e,t,n,!1)}function LR(e,t,n,i){let l=typeof t=="string"?Xs(t):t,c=fo(l.pathname||"/",n);if(c==null)return null;let d=Z2(e);WR(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let g=XR(c);p=VR(d[m],g,i)}return p}function Z2(e,t=[],n=[],i="",l=!1){let c=(d,p,m=l,g)=>{let h={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&m)return;nr(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let x=so([i,h.relativePath]),S=n.concat(h);d.children&&d.children.length>0&&(nr(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Z2(d.children,t,S,x,m)),!(d.path==null&&!d.index)&&t.push({path:x,score:KR(x,d.index),routesMeta:S})};return e.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let m of J2(d.path))c(d,p,!0,m)}),t}function J2(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return l?[c,""]:[c];let d=J2(i.join("/")),p=[];return p.push(...d.map(m=>m===""?c:[c,m].join("/"))),l&&p.push(...d),p.map(m=>e.startsWith("/")&&m===""?"/":m)}function WR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:YR(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var BR=/^:[\w-]+$/,IR=3,qR=2,UR=1,HR=10,FR=-2,Rj=e=>e==="*";function KR(e,t){let n=e.split("/"),i=n.length;return n.some(Rj)&&(i+=FR),t&&(i+=qR),n.filter(l=>!Rj(l)).reduce((l,c)=>l+(BR.test(c)?IR:c===""?UR:HR),i)}function YR(e,t){return e.length===t.length&&e.slice(0,-1).every((i,l)=>i===t[l])?e[e.length-1]-t[t.length-1]:0}function VR(e,t,n=!1){let{routesMeta:i}=e,l={},c="/",d=[];for(let p=0;p<i.length;++p){let m=i[p],g=p===i.length-1,h=c==="/"?t:t.slice(c.length)||"/",x=Vd({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},h),S=m.route;if(!x&&g&&n&&!i[i.length-1].route.index&&(x=Vd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},h)),!x)return null;Object.assign(l,x.params),d.push({params:l,pathname:so([c,x.pathname]),pathnameBase:eD(so([c,x.pathnameBase])),route:S}),x.pathnameBase!=="/"&&(c=so([c,x.pathnameBase]))}return d}function Vd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=GR(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:i.reduce((g,{paramName:h,isOptional:x},S)=>{if(h==="*"){let k=p[S]||"";d=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const j=p[S];return x&&!j?g[h]=void 0:g[h]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:e}}function GR(e,t=!1,n=!0){ti(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(i.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),i]}function XR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ti(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function fo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function QR(e,t="/"){let{pathname:n,search:i="",hash:l=""}=typeof e=="string"?Xs(e):e;return{pathname:n?n.startsWith("/")?n:ZR(n,t):t,search:tD(i),hash:rD(l)}}function ZR(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function $m(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JR(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function zx(e){let t=JR(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function _x(e,t,n,i=!1){let l;typeof e=="string"?l=Xs(e):(l={...e},nr(!l.pathname||!l.pathname.includes("?"),$m("?","pathname","search",l)),nr(!l.pathname||!l.pathname.includes("#"),$m("#","pathname","hash",l)),nr(!l.search||!l.search.includes("#"),$m("#","search","hash",l)));let c=e===""||l.pathname==="",d=c?"/":l.pathname,p;if(d==null)p=n;else{let x=t.length-1;if(!i&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),x-=1;l.pathname=S.join("/")}p=x>=0?t[x]:"/"}let m=QR(l,p),g=d&&d!=="/"&&d.endsWith("/"),h=(c||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||h)&&(m.pathname+="/"),m}var so=e=>e.join("/").replace(/\/\/+/g,"/"),eD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var ez=["POST","PUT","PATCH","DELETE"];new Set(ez);var iD=["GET",...ez];new Set(iD);var Qs=y.createContext(null);Qs.displayName="DataRouter";var Wf=y.createContext(null);Wf.displayName="DataRouterState";y.createContext(!1);var tz=y.createContext({isTransitioning:!1});tz.displayName="ViewTransition";var oD=y.createContext(new Map);oD.displayName="Fetchers";var aD=y.createContext(null);aD.displayName="Await";var vi=y.createContext(null);vi.displayName="Navigation";var Rc=y.createContext(null);Rc.displayName="Location";var bi=y.createContext({outlet:null,matches:[],isDataRoute:!1});bi.displayName="Route";var Tx=y.createContext(null);Tx.displayName="RouteError";function sD(e,{relative:t}={}){nr(Zs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=y.useContext(vi),{hash:l,pathname:c,search:d}=Dc(e,{relative:t}),p=c;return n!=="/"&&(p=c==="/"?n:so([n,c])),i.createHref({pathname:p,search:d,hash:l})}function Zs(){return y.useContext(Rc)!=null}function Ni(){return nr(Zs(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Rc).location}var rz="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nz(e){y.useContext(vi).static||y.useLayoutEffect(e)}function ii(){let{isDataRoute:e}=y.useContext(bi);return e?bD():lD()}function lD(){nr(Zs(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(Qs),{basename:t,navigator:n}=y.useContext(vi),{matches:i}=y.useContext(bi),{pathname:l}=Ni(),c=JSON.stringify(zx(i)),d=y.useRef(!1);return nz(()=>{d.current=!0}),y.useCallback((m,g={})=>{if(ti(d.current,rz),!d.current)return;if(typeof m=="number"){n.go(m);return}let h=_x(m,JSON.parse(c),l,g.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:so([t,h.pathname])),(g.replace?n.replace:n.push)(h,g.state,g)},[t,n,c,l,e])}y.createContext(null);function Bf(){let{matches:e}=y.useContext(bi),t=e[e.length-1];return t?t.params:{}}function Dc(e,{relative:t}={}){let{matches:n}=y.useContext(bi),{pathname:i}=Ni(),l=JSON.stringify(zx(n));return y.useMemo(()=>_x(e,JSON.parse(l),i,t==="path"),[e,l,i,t])}function cD(e,t){return iz(e,t)}function iz(e,t,n,i,l){nr(Zs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=y.useContext(vi),{matches:d}=y.useContext(bi),p=d[d.length-1],m=p?p.params:{},g=p?p.pathname:"/",h=p?p.pathnameBase:"/",x=p&&p.route;{let E=x&&x.path||"";oz(g,!x||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let S=Ni(),j;if(t){let E=typeof t=="string"?Xs(t):t;nr(h==="/"||E.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),j=E}else j=S;let k=j.pathname||"/",w=k;if(h!=="/"){let E=h.replace(/^\//,"").split("/");w="/"+k.replace(/^\//,"").split("/").slice(E.length).join("/")}let C=Q2(e,{pathname:w});ti(x||C!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),ti(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=gD(C&&C.map(E=>Object.assign({},E,{params:Object.assign({},m,E.params),pathname:so([h,c.encodeLocation?c.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:so([h,c.encodeLocation?c.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),d,n,i,l);return t&&z?y.createElement(Rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},z):z}function uD(){let e=vD(),t=nD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:c},"ErrorBoundary")," or"," ",y.createElement("code",{style:c},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:l},n):null,d)}var dD=y.createElement(uD,null),fD=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(bi.Provider,{value:this.props.routeContext},y.createElement(Tx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pD({routeContext:e,match:t,children:n}){let i=y.useContext(Qs);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(bi.Provider,{value:e},n)}function gD(e,t=[],n=null,i=null,l=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,d=n?.errors;if(d!=null){let g=c.findIndex(h=>h.route.id&&d?.[h.route.id]!==void 0);nr(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let p=!1,m=-1;if(n)for(let g=0;g<c.length;g++){let h=c[g];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(m=g),h.route.id){let{loaderData:x,errors:S}=n,j=h.route.loader&&!x.hasOwnProperty(h.route.id)&&(!S||S[h.route.id]===void 0);if(h.route.lazy||j){p=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((g,h,x)=>{let S,j=!1,k=null,w=null;n&&(S=d&&h.route.id?d[h.route.id]:void 0,k=h.route.errorElement||dD,p&&(m<0&&x===0?(oz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,w=null):m===x&&(j=!0,w=h.route.hydrateFallbackElement||null)));let C=t.concat(c.slice(0,x+1)),z=()=>{let E;return S?E=k:j?E=w:h.route.Component?E=y.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=g,y.createElement(pD,{match:h,routeContext:{outlet:g,matches:C,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?y.createElement(fD,{location:n.location,revalidation:n.revalidation,component:k,error:S,children:z(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:i}):z()},null)}function Ax(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mD(e){let t=y.useContext(Qs);return nr(t,Ax(e)),t}function hD(e){let t=y.useContext(Wf);return nr(t,Ax(e)),t}function yD(e){let t=y.useContext(bi);return nr(t,Ax(e)),t}function Ex(e){let t=yD(e),n=t.matches[t.matches.length-1];return nr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function xD(){return Ex("useRouteId")}function vD(){let e=y.useContext(Tx),t=hD("useRouteError"),n=Ex("useRouteError");return e!==void 0?e:t.errors?.[n]}function bD(){let{router:e}=mD("useNavigate"),t=Ex("useNavigate"),n=y.useRef(!1);return nz(()=>{n.current=!0}),y.useCallback(async(l,c={})=>{ti(n.current,rz),n.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:t,...c}))},[e,t])}var Dj={};function oz(e,t,n){!t&&!Dj[e]&&(Dj[e]=!0,ti(!1,n))}y.memo(SD);function SD({routes:e,future:t,state:n,unstable_onError:i}){return iz(e,void 0,n,i,t)}function gd({to:e,replace:t,state:n,relative:i}){nr(Zs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=y.useContext(vi);ti(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=y.useContext(bi),{pathname:d}=Ni(),p=ii(),m=_x(e,zx(c),d,i==="path"),g=JSON.stringify(m);return y.useEffect(()=>{p(JSON.parse(g),{replace:t,state:n,relative:i})},[p,g,i,t,n]),null}function rn(e){nr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jD({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:l,static:c=!1}){nr(!Zs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),p=y.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);typeof n=="string"&&(n=Xs(n));let{pathname:m="/",search:g="",hash:h="",state:x=null,key:S="default"}=n,j=y.useMemo(()=>{let k=fo(m,d);return k==null?null:{location:{pathname:k,search:g,hash:h,state:x,key:S},navigationType:i}},[d,m,g,h,x,S,i]);return ti(j!=null,`<Router basename="${d}"> is not able to match the URL "${m}${g}${h}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:y.createElement(vi.Provider,{value:p},y.createElement(Rc.Provider,{children:t,value:j}))}function wD({children:e,location:t}){return cD(jy(e),t)}function jy(e,t=[]){let n=[];return y.Children.forEach(e,(i,l)=>{if(!y.isValidElement(i))return;let c=[...t,l];if(i.type===y.Fragment){n.push.apply(n,jy(i.props.children,c));return}nr(i.type===rn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nr(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=jy(i.props.children,c)),n.push(d)}),n}var Ld="get",Wd="application/x-www-form-urlencoded";function If(e){return e!=null&&typeof e.tagName=="string"}function kD(e){return If(e)&&e.tagName.toLowerCase()==="button"}function CD(e){return If(e)&&e.tagName.toLowerCase()==="form"}function zD(e){return If(e)&&e.tagName.toLowerCase()==="input"}function _D(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function TD(e,t){return e.button===0&&(!t||t==="_self")&&!_D(e)}function wy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(l=>[n,l]):[[n,i]])},[]))}function AD(e,t){let n=wy(e);return t&&t.forEach((i,l)=>{n.has(l)||t.getAll(l).forEach(c=>{n.append(l,c)})}),n}var md=null;function ED(){if(md===null)try{new FormData(document.createElement("form"),0),md=!1}catch{md=!0}return md}var OD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pm(e){return e!=null&&!OD.has(e)?(ti(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wd}"`),null):e}function MD(e,t){let n,i,l,c,d;if(CD(e)){let p=e.getAttribute("action");i=p?fo(p,t):null,n=e.getAttribute("method")||Ld,l=Pm(e.getAttribute("enctype"))||Wd,c=new FormData(e)}else if(kD(e)||zD(e)&&(e.type==="submit"||e.type==="image")){let p=e.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||p.getAttribute("action");if(i=m?fo(m,t):null,n=e.getAttribute("formmethod")||p.getAttribute("method")||Ld,l=Pm(e.getAttribute("formenctype"))||Pm(p.getAttribute("enctype"))||Wd,c=new FormData(p,e),!ED()){let{name:g,type:h,value:x}=e;if(h==="image"){let S=g?`${g}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else g&&c.append(g,x)}}else{if(If(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ld,i=null,l=Wd,d=e}return c&&l==="text/plain"&&(d=c,c=void 0),{action:i,method:n.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ox(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function RD(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&fo(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function DD(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $D(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function PD(e,t,n){let i=await Promise.all(e.map(async l=>{let c=t.routes[l.route.id];if(c){let d=await DD(c,n);return d.links?d.links():[]}return[]}));return BD(i.flat(1).filter($D).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function $j(e,t,n,i,l,c){let d=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return c==="assets"?t.filter((m,g)=>d(m,g)||p(m,g)):c==="data"?t.filter((m,g)=>{let h=i.routes[m.route.id];if(!h||!h.hasLoader)return!1;if(d(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function ND(e,t,{includeHydrateFallback:n}={}){return LD(e.map(i=>{let l=t.routes[i.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function LD(e){return[...new Set(e)]}function WD(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function BD(e,t){let n=new Set;return new Set(t),e.reduce((i,l)=>{let c=JSON.stringify(WD(l));return n.has(c)||(n.add(c),i.push({key:c,link:l})),i},[])}function az(){let e=y.useContext(Qs);return Ox(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ID(){let e=y.useContext(Wf);return Ox(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Mx=y.createContext(void 0);Mx.displayName="FrameworkContext";function sz(){let e=y.useContext(Mx);return Ox(e,"You must render this element inside a <HydratedRouter> element"),e}function qD(e,t){let n=y.useContext(Mx),[i,l]=y.useState(!1),[c,d]=y.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:h,onTouchStart:x}=t,S=y.useRef(null);y.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let w=z=>{z.forEach(E=>{d(E.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return S.current&&C.observe(S.current),()=>{C.disconnect()}}},[e]),y.useEffect(()=>{if(i){let w=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(w)}}},[i]);let j=()=>{l(!0)},k=()=>{l(!1),d(!1)};return n?e!=="intent"?[c,S,{}]:[c,S,{onFocus:Jl(p,j),onBlur:Jl(m,k),onMouseEnter:Jl(g,j),onMouseLeave:Jl(h,k),onTouchStart:Jl(x,j)}]:[!1,S,{}]}function Jl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function UD({page:e,...t}){let{router:n}=az(),i=y.useMemo(()=>Q2(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?y.createElement(FD,{page:e,matches:i,...t}):null}function HD(e){let{manifest:t,routeModules:n}=sz(),[i,l]=y.useState([]);return y.useEffect(()=>{let c=!1;return PD(e,t,n).then(d=>{c||l(d)}),()=>{c=!0}},[e,t,n]),i}function FD({page:e,matches:t,...n}){let i=Ni(),{manifest:l,routeModules:c}=sz(),{basename:d}=az(),{loaderData:p,matches:m}=ID(),g=y.useMemo(()=>$j(e,t,m,l,i,"data"),[e,t,m,l,i]),h=y.useMemo(()=>$j(e,t,m,l,i,"assets"),[e,t,m,l,i]),x=y.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let k=new Set,w=!1;if(t.forEach(z=>{let E=l.routes[z.route.id];!E||!E.hasLoader||(!g.some(A=>A.route.id===z.route.id)&&z.route.id in p&&c[z.route.id]?.shouldRevalidate||E.hasClientLoader?w=!0:k.add(z.route.id))}),k.size===0)return[];let C=RD(e,d,"data");return w&&k.size>0&&C.searchParams.set("_routes",t.filter(z=>k.has(z.route.id)).map(z=>z.route.id).join(",")),[C.pathname+C.search]},[d,p,i,l,g,t,e,c]),S=y.useMemo(()=>ND(h,l),[h,l]),j=HD(h);return y.createElement(y.Fragment,null,x.map(k=>y.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),S.map(k=>y.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),j.map(({key:k,link:w})=>y.createElement("link",{key:k,nonce:n.nonce,...w})))}function KD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var lz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lz&&(window.__reactRouterVersion="7.9.4")}catch{}function YD({basename:e,children:t,window:n}){let i=y.useRef();i.current==null&&(i.current=DR({window:n,v5Compat:!0}));let l=i.current,[c,d]=y.useState({action:l.action,location:l.location}),p=y.useCallback(m=>{y.startTransition(()=>d(m))},[d]);return y.useLayoutEffect(()=>l.listen(p),[l,p]),y.createElement(jD,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l})}var cz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xc=y.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:l,reloadDocument:c,replace:d,state:p,target:m,to:g,preventScrollReset:h,viewTransition:x,...S},j){let{basename:k}=y.useContext(vi),w=typeof g=="string"&&cz.test(g),C,z=!1;if(typeof g=="string"&&w&&(C=g,lz))try{let U=new URL(window.location.href),le=g.startsWith("//")?new URL(U.protocol+g):new URL(g),X=fo(le.pathname,k);le.origin===U.origin&&X!=null?g=X+le.search+le.hash:z=!0}catch{ti(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=sD(g,{relative:l}),[A,$,T]=qD(i,S),D=QD(g,{replace:d,state:p,target:m,preventScrollReset:h,relative:l,viewTransition:x});function R(U){t&&t(U),U.defaultPrevented||D(U)}let F=y.createElement("a",{...S,...T,href:C||E,onClick:z||c?t:R,ref:KD(j,$),target:m,"data-discover":!w&&n==="render"?"true":void 0});return A&&!w?y.createElement(y.Fragment,null,F,y.createElement(UD,{page:E})):F});xc.displayName="Link";var VD=y.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:l=!1,style:c,to:d,viewTransition:p,children:m,...g},h){let x=Dc(d,{relative:g.relative}),S=Ni(),j=y.useContext(Wf),{navigator:k,basename:w}=y.useContext(vi),C=j!=null&&r$(x)&&p===!0,z=k.encodeLocation?k.encodeLocation(x).pathname:x.pathname,E=S.pathname,A=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(E=E.toLowerCase(),A=A?A.toLowerCase():null,z=z.toLowerCase()),A&&w&&(A=fo(A,w)||A);const $=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let T=E===z||!l&&E.startsWith(z)&&E.charAt($)==="/",D=A!=null&&(A===z||!l&&A.startsWith(z)&&A.charAt(z.length)==="/"),R={isActive:T,isPending:D,isTransitioning:C},F=T?t:void 0,U;typeof i=="function"?U=i(R):U=[i,T?"active":null,D?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let le=typeof c=="function"?c(R):c;return y.createElement(xc,{...g,"aria-current":F,className:U,ref:h,style:le,to:d,viewTransition:p},typeof m=="function"?m(R):m)});VD.displayName="NavLink";var GD=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:l,state:c,method:d=Ld,action:p,onSubmit:m,relative:g,preventScrollReset:h,viewTransition:x,...S},j)=>{let k=e$(),w=t$(p,{relative:g}),C=d.toLowerCase()==="get"?"get":"post",z=typeof p=="string"&&cz.test(p),E=A=>{if(m&&m(A),A.defaultPrevented)return;A.preventDefault();let $=A.nativeEvent.submitter,T=$?.getAttribute("formmethod")||d;k($||A.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:l,state:c,relative:g,preventScrollReset:h,viewTransition:x})};return y.createElement("form",{ref:j,method:C,action:w,onSubmit:i?m:E,...S,"data-discover":!z&&e==="render"?"true":void 0})});GD.displayName="Form";function XD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uz(e){let t=y.useContext(Qs);return nr(t,XD(e)),t}function QD(e,{target:t,replace:n,state:i,preventScrollReset:l,relative:c,viewTransition:d}={}){let p=ii(),m=Ni(),g=Dc(e,{relative:c});return y.useCallback(h=>{if(TD(h,t)){h.preventDefault();let x=n!==void 0?n:yc(m)===yc(g);p(e,{replace:x,state:i,preventScrollReset:l,relative:c,viewTransition:d})}},[m,p,g,n,i,t,e,l,c,d])}function qf(e){ti(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=y.useRef(wy(e)),n=y.useRef(!1),i=Ni(),l=y.useMemo(()=>AD(i.search,n.current?null:t.current),[i.search]),c=ii(),d=y.useCallback((p,m)=>{const g=wy(typeof p=="function"?p(new URLSearchParams(l)):p);n.current=!0,c("?"+g,m)},[c,l]);return[l,d]}var ZD=0,JD=()=>`__${String(++ZD)}__`;function e$(){let{router:e}=uz("useSubmit"),{basename:t}=y.useContext(vi),n=xD();return y.useCallback(async(i,l={})=>{let{action:c,method:d,encType:p,formData:m,body:g}=MD(i,t);if(l.navigate===!1){let h=l.fetcherKey||JD();await e.fetch(h,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:g,formMethod:l.method||d,formEncType:l.encType||p,flushSync:l.flushSync})}else await e.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:g,formMethod:l.method||d,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,t,n])}function t$(e,{relative:t}={}){let{basename:n}=y.useContext(vi),i=y.useContext(bi);nr(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),c={...Dc(e||".",{relative:t})},d=Ni();if(e==null){c.search=d.search;let p=new URLSearchParams(c.search),m=p.getAll("index");if(m.some(h=>h==="")){p.delete("index"),m.filter(x=>x).forEach(x=>p.append("index",x));let h=p.toString();c.search=h?`?${h}`:""}}return(!e||e===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:so([n,c.pathname])),yc(c)}function r$(e,{relative:t}={}){let n=y.useContext(tz);nr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=uz("useViewTransitionState"),l=Dc(e,{relative:t});if(!n.isTransitioning)return!1;let c=fo(n.currentLocation.pathname,i)||n.currentLocation.pathname,d=fo(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Vd(l.pathname,d)!=null||Vd(l.pathname,c)!=null}var Gd=X2();function dz(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=dz(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function kt(){for(var e,t,n=0,i="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=dz(e))&&(i&&(i+=" "),i+=t);return i}var Nm={},Lm={},Pj;function n$(){return Pj||(Pj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Lm)),Lm}var Wm={},Nj;function fz(){return Nj||(Nj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Wm)),Wm}var Bm={},Lj;function pz(){return Lj||(Lj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Bm)),Bm}var Im={},Wj;function Rx(){return Wj||(Wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const i=[],l=n.length;if(l===0)return i;let c=0,d="",p="",m=!1;for(n.charCodeAt(0)===46&&(i.push(""),c++);c<l;){const g=n[c];p?g==="\\"&&c+1<l?(c++,d+=n[c]):g===p?p="":d+=g:m?g==='"'||g==="'"?p=g:g==="]"?(m=!1,i.push(d),d=""):d+=g:g==="["?(m=!0,d&&(i.push(d),d="")):g==="."?d&&(i.push(d),d=""):d+=g,c++}return d&&i.push(d),i}e.toPath=t})(Im)),Im}var Bj;function Dx(){return Bj||(Bj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n$(),n=fz(),i=pz(),l=Rx();function c(p,m,g){if(p==null)return g;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return g;const h=p[m];return h===void 0?n.isDeepKey(m)?c(p,l.toPath(m),g):g:h}case"number":case"symbol":{typeof m=="number"&&(m=i.toKey(m));const h=p[m];return h===void 0?g:h}default:{if(Array.isArray(m))return d(p,m,g);if(Object.is(m?.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return g;const h=p[m];return h===void 0?g:h}}}function d(p,m,g){if(m.length===0)return g;let h=p;for(let x=0;x<m.length;x++){if(h==null||t.isUnsafeProperty(m[x]))return g;h=h[m[x]]}return h===void 0?g:h}e.get=c})(Nm)),Nm}var qm,Ij;function i$(){return Ij||(Ij=1,qm=Dx().get),qm}var o$=i$();const Ia=yo(o$);var Um={exports:{}},It={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qj;function a$(){if(qj)return It;qj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.view_transition"),j=Symbol.for("react.client.reference");function k(w){if(typeof w=="object"&&w!==null){var C=w.$$typeof;switch(C){case e:switch(w=w.type,w){case n:case l:case i:case m:case g:case S:return w;default:switch(w=w&&w.$$typeof,w){case d:case p:case x:case h:return w;case c:return w;default:return C}}case t:return C}}}return It.ContextConsumer=c,It.ContextProvider=d,It.Element=e,It.ForwardRef=p,It.Fragment=n,It.Lazy=x,It.Memo=h,It.Portal=t,It.Profiler=l,It.StrictMode=i,It.Suspense=m,It.SuspenseList=g,It.isContextConsumer=function(w){return k(w)===c},It.isContextProvider=function(w){return k(w)===d},It.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},It.isForwardRef=function(w){return k(w)===p},It.isFragment=function(w){return k(w)===n},It.isLazy=function(w){return k(w)===x},It.isMemo=function(w){return k(w)===h},It.isPortal=function(w){return k(w)===t},It.isProfiler=function(w){return k(w)===l},It.isStrictMode=function(w){return k(w)===i},It.isSuspense=function(w){return k(w)===m},It.isSuspenseList=function(w){return k(w)===g},It.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===l||w===i||w===m||w===g||typeof w=="object"&&w!==null&&(w.$$typeof===x||w.$$typeof===h||w.$$typeof===d||w.$$typeof===c||w.$$typeof===p||w.$$typeof===j||w.getModuleId!==void 0)},It.typeOf=k,It}var Uj;function s$(){return Uj||(Uj=1,Um.exports=a$()),Um.exports}var l$=s$(),Pr=e=>e===0?0:e>0?1:-1,$n=e=>typeof e=="number"&&e!=+e,Ma=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ge=e=>(typeof e=="number"||e instanceof Number)&&!$n(e),Di=e=>Ge(e)||typeof e=="string",c$=0,vc=e=>{var t=++c$;return"".concat(e||"").concat(t)},Zr=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ge(t)&&typeof t!="string")return i;var c;if(Ma(t)){if(n==null)return i;var d=t.indexOf("%");c=n*parseFloat(t.slice(0,d))/100}else c=+t;return $n(c)&&(c=i),l&&n!=null&&c>n&&(c=n),c},gz=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},i=0;i<t;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1};function pr(e,t,n){return Ge(e)&&Ge(t)?e+n*(t-e):t}function mz(e,t,n){if(!(!e||!e.length))return e.find(i=>i&&(typeof t=="function"?t(i):Ia(i,t))===n)}var ir=e=>e===null||typeof e>"u",$c=e=>ir(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),u$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function $x(e){if(typeof e!="string")return!1;var t=u$;return t.includes(e)}var d$=["viewBox","children"],Hj=["points","pathLength"],Hm={svg:d$,polygon:Hj,polyline:Hj},Px=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(l=>{$x(l)&&(i[l]=(c=>n[l](n,c)))}),i},f$=(e,t,n)=>i=>(e(t,n,i),null),Pc=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var i=null;return Object.keys(e).forEach(l=>{var c=e[l];$x(l)&&typeof c=="function"&&(i||(i={}),i[l]=f$(c,t,n))}),i},p$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function hz(e){if(typeof e!="string")return!1;var t=p$;return t.includes(e)}function Li(e){var t=Object.entries(e).filter(n=>{var[i]=n;return hz(i)});return Object.fromEntries(t)}var Fj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Kj=null,Fm=null,yz=e=>{if(e===Kj&&Array.isArray(Fm))return Fm;var t=[];return y.Children.forEach(e,n=>{ir(n)||(l$.isFragment(n)?t=t.concat(yz(n.props.children)):t.push(n))}),Fm=t,Kj=e,t};function Nx(e,t){var n=[],i=[];return Array.isArray(t)?i=t.map(l=>Fj(l)):i=[Fj(t)],yz(e).forEach(l=>{var c=Ia(l,"type.displayName")||Ia(l,"type.name");i.indexOf(c)!==-1&&n.push(l)}),n}var xz=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,g$=(e,t,n,i)=>{var l;if(typeof t=="symbol"||typeof t=="number")return!0;var c=(l=i&&Hm?.[i])!==null&&l!==void 0?l:[],d=t.startsWith("data-"),p=typeof e!="function"&&(!!i&&c.includes(t)||hz(t)),m=!!n&&$x(t);return d||p||m},lr=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(y.isValidElement(e)&&(i=e.props),typeof i!="object"&&typeof i!="function")return null;var l={};return Object.keys(i).forEach(c=>{var d;g$((d=i)===null||d===void 0?void 0:d[c],c,t,n)&&(l[c]=i[c])}),l},m$=["children","width","height","viewBox","className","style","title","desc"];function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ky.apply(null,arguments)}function h$(e,t){if(e==null)return{};var n,i,l=y$(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function y$(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Lx=y.forwardRef((e,t)=>{var{children:n,width:i,height:l,viewBox:c,className:d,style:p,title:m,desc:g}=e,h=h$(e,m$),x=c||{width:i,height:l,x:0,y:0},S=kt("recharts-surface",d);return y.createElement("svg",ky({},lr(h,!0,"svg"),{className:S,width:i,height:l,style:p,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),y.createElement("title",null,m),y.createElement("desc",null,g),n)}),x$=["children","className"];function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cy.apply(null,arguments)}function v$(e,t){if(e==null)return{};var n,i,l=b$(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function b$(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Yr=y.forwardRef((e,t)=>{var{children:n,className:i}=e,l=v$(e,x$),c=kt("recharts-layer",i);return y.createElement("g",Cy({className:c},lr(l,!0),{ref:t}),n)}),vz=y.createContext(null),S$=()=>y.useContext(vz);function Ft(e){return function(){return e}}const bz=Math.cos,Xd=Math.sin,Si=Math.sqrt,Qd=Math.PI,Uf=2*Qd,zy=Math.PI,_y=2*zy,Aa=1e-6,j$=_y-Aa;function Sz(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function w$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Sz;const n=10**t;return function(i){this._+=i[0];for(let l=1,c=i.length;l<c;++l)this._+=Math.round(arguments[l]*n)/n+i[l]}}class k${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Sz:w$(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,l){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+l}`}bezierCurveTo(t,n,i,l,c,d){this._append`C${+t},${+n},${+i},${+l},${this._x1=+c},${this._y1=+d}`}arcTo(t,n,i,l,c){if(t=+t,n=+n,i=+i,l=+l,c=+c,c<0)throw new Error(`negative radius: ${c}`);let d=this._x1,p=this._y1,m=i-t,g=l-n,h=d-t,x=p-n,S=h*h+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(S>Aa)if(!(Math.abs(x*m-g*h)>Aa)||!c)this._append`L${this._x1=t},${this._y1=n}`;else{let j=i-d,k=l-p,w=m*m+g*g,C=j*j+k*k,z=Math.sqrt(w),E=Math.sqrt(S),A=c*Math.tan((zy-Math.acos((w+S-C)/(2*z*E)))/2),$=A/E,T=A/z;Math.abs($-1)>Aa&&this._append`L${t+$*h},${n+$*x}`,this._append`A${c},${c},0,0,${+(x*j>h*k)},${this._x1=t+T*m},${this._y1=n+T*g}`}}arc(t,n,i,l,c,d){if(t=+t,n=+n,i=+i,d=!!d,i<0)throw new Error(`negative radius: ${i}`);let p=i*Math.cos(l),m=i*Math.sin(l),g=t+p,h=n+m,x=1^d,S=d?l-c:c-l;this._x1===null?this._append`M${g},${h}`:(Math.abs(this._x1-g)>Aa||Math.abs(this._y1-h)>Aa)&&this._append`L${g},${h}`,i&&(S<0&&(S=S%_y+_y),S>j$?this._append`A${i},${i},0,1,${x},${t-p},${n-m}A${i},${i},0,1,${x},${this._x1=g},${this._y1=h}`:S>Aa&&this._append`A${i},${i},0,${+(S>=zy)},${x},${this._x1=t+i*Math.cos(c)},${this._y1=n+i*Math.sin(c)}`)}rect(t,n,i,l){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+l}h${-i}Z`}toString(){return this._}}function Wx(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new k$(t)}function Bx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jz(e){this._context=e}jz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hf(e){return new jz(e)}function wz(e){return e[0]}function kz(e){return e[1]}function Cz(e,t){var n=Ft(!0),i=null,l=Hf,c=null,d=Wx(p);e=typeof e=="function"?e:e===void 0?wz:Ft(e),t=typeof t=="function"?t:t===void 0?kz:Ft(t);function p(m){var g,h=(m=Bx(m)).length,x,S=!1,j;for(i==null&&(c=l(j=d())),g=0;g<=h;++g)!(g<h&&n(x=m[g],g,m))===S&&((S=!S)?c.lineStart():c.lineEnd()),S&&c.point(+e(x,g,m),+t(x,g,m));if(j)return c=null,j+""||null}return p.x=function(m){return arguments.length?(e=typeof m=="function"?m:Ft(+m),p):e},p.y=function(m){return arguments.length?(t=typeof m=="function"?m:Ft(+m),p):t},p.defined=function(m){return arguments.length?(n=typeof m=="function"?m:Ft(!!m),p):n},p.curve=function(m){return arguments.length?(l=m,i!=null&&(c=l(i)),p):l},p.context=function(m){return arguments.length?(m==null?i=c=null:c=l(i=m),p):i},p}function hd(e,t,n){var i=null,l=Ft(!0),c=null,d=Hf,p=null,m=Wx(g);e=typeof e=="function"?e:e===void 0?wz:Ft(+e),t=typeof t=="function"?t:Ft(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?kz:Ft(+n);function g(x){var S,j,k,w=(x=Bx(x)).length,C,z=!1,E,A=new Array(w),$=new Array(w);for(c==null&&(p=d(E=m())),S=0;S<=w;++S){if(!(S<w&&l(C=x[S],S,x))===z)if(z=!z)j=S,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),k=S-1;k>=j;--k)p.point(A[k],$[k]);p.lineEnd(),p.areaEnd()}z&&(A[S]=+e(C,S,x),$[S]=+t(C,S,x),p.point(i?+i(C,S,x):A[S],n?+n(C,S,x):$[S]))}if(E)return p=null,E+""||null}function h(){return Cz().defined(l).curve(d).context(c)}return g.x=function(x){return arguments.length?(e=typeof x=="function"?x:Ft(+x),i=null,g):e},g.x0=function(x){return arguments.length?(e=typeof x=="function"?x:Ft(+x),g):e},g.x1=function(x){return arguments.length?(i=x==null?null:typeof x=="function"?x:Ft(+x),g):i},g.y=function(x){return arguments.length?(t=typeof x=="function"?x:Ft(+x),n=null,g):t},g.y0=function(x){return arguments.length?(t=typeof x=="function"?x:Ft(+x),g):t},g.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:Ft(+x),g):n},g.lineX0=g.lineY0=function(){return h().x(e).y(t)},g.lineY1=function(){return h().x(e).y(n)},g.lineX1=function(){return h().x(i).y(t)},g.defined=function(x){return arguments.length?(l=typeof x=="function"?x:Ft(!!x),g):l},g.curve=function(x){return arguments.length?(d=x,c!=null&&(p=d(c)),g):d},g.context=function(x){return arguments.length?(x==null?c=p=null:p=d(c=x),g):c},g}class zz{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function C$(e){return new zz(e,!0)}function z$(e){return new zz(e,!1)}const Ix={draw(e,t){const n=Si(t/Qd);e.moveTo(n,0),e.arc(0,0,n,0,Uf)}},_$={draw(e,t){const n=Si(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},_z=Si(1/3),T$=_z*2,A$={draw(e,t){const n=Si(t/T$),i=n*_z;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},E$={draw(e,t){const n=Si(t),i=-n/2;e.rect(i,i,n,n)}},O$=.8908130915292852,Tz=Xd(Qd/10)/Xd(7*Qd/10),M$=Xd(Uf/10)*Tz,R$=-bz(Uf/10)*Tz,D$={draw(e,t){const n=Si(t*O$),i=M$*n,l=R$*n;e.moveTo(0,-n),e.lineTo(i,l);for(let c=1;c<5;++c){const d=Uf*c/5,p=bz(d),m=Xd(d);e.lineTo(m*n,-p*n),e.lineTo(p*i-m*l,m*i+p*l)}e.closePath()}},Km=Si(3),$$={draw(e,t){const n=-Si(t/(Km*3));e.moveTo(0,n*2),e.lineTo(-Km*n,-n),e.lineTo(Km*n,-n),e.closePath()}},Vn=-.5,Gn=Si(3)/2,Ty=1/Si(12),P$=(Ty/2+1)*3,N$={draw(e,t){const n=Si(t/P$),i=n/2,l=n*Ty,c=i,d=n*Ty+n,p=-c,m=d;e.moveTo(i,l),e.lineTo(c,d),e.lineTo(p,m),e.lineTo(Vn*i-Gn*l,Gn*i+Vn*l),e.lineTo(Vn*c-Gn*d,Gn*c+Vn*d),e.lineTo(Vn*p-Gn*m,Gn*p+Vn*m),e.lineTo(Vn*i+Gn*l,Vn*l-Gn*i),e.lineTo(Vn*c+Gn*d,Vn*d-Gn*c),e.lineTo(Vn*p+Gn*m,Vn*m-Gn*p),e.closePath()}};function L$(e,t){let n=null,i=Wx(l);e=typeof e=="function"?e:Ft(e||Ix),t=typeof t=="function"?t:Ft(t===void 0?64:+t);function l(){let c;if(n||(n=c=i()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),c)return n=null,c+""||null}return l.type=function(c){return arguments.length?(e=typeof c=="function"?c:Ft(c),l):e},l.size=function(c){return arguments.length?(t=typeof c=="function"?c:Ft(+c),l):t},l.context=function(c){return arguments.length?(n=c??null,l):n},l}function Zd(){}function Jd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Az(e){this._context=e}Az.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function W$(e){return new Az(e)}function Ez(e){this._context=e}Ez.prototype={areaStart:Zd,areaEnd:Zd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B$(e){return new Ez(e)}function Oz(e){this._context=e}Oz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I$(e){return new Oz(e)}function Mz(e){this._context=e}Mz.prototype={areaStart:Zd,areaEnd:Zd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function q$(e){return new Mz(e)}function Yj(e){return e<0?-1:1}function Vj(e,t,n){var i=e._x1-e._x0,l=t-e._x1,c=(e._y1-e._y0)/(i||l<0&&-0),d=(n-e._y1)/(l||i<0&&-0),p=(c*l+d*i)/(i+l);return(Yj(c)+Yj(d))*Math.min(Math.abs(c),Math.abs(d),.5*Math.abs(p))||0}function Gj(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ym(e,t,n){var i=e._x0,l=e._y0,c=e._x1,d=e._y1,p=(c-i)/3;e._context.bezierCurveTo(i+p,l+p*t,c-p,d-p*n,c,d)}function ef(e){this._context=e}ef.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ym(this,this._t0,Gj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ym(this,Gj(this,n=Vj(this,e,t)),n);break;default:Ym(this,this._t0,n=Vj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Rz(e){this._context=new Dz(e)}(Rz.prototype=Object.create(ef.prototype)).point=function(e,t){ef.prototype.point.call(this,t,e)};function Dz(e){this._context=e}Dz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,l,c){this._context.bezierCurveTo(t,e,i,n,c,l)}};function U$(e){return new ef(e)}function H$(e){return new Rz(e)}function $z(e){this._context=e}$z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=Xj(e),l=Xj(t),c=0,d=1;d<n;++c,++d)this._context.bezierCurveTo(i[0][c],l[0][c],i[1][c],l[1][c],e[d],t[d]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Xj(e){var t,n=e.length-1,i,l=new Array(n),c=new Array(n),d=new Array(n);for(l[0]=0,c[0]=2,d[0]=e[0]+2*e[1],t=1;t<n-1;++t)l[t]=1,c[t]=4,d[t]=4*e[t]+2*e[t+1];for(l[n-1]=2,c[n-1]=7,d[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=l[t]/c[t-1],c[t]-=i,d[t]-=i*d[t-1];for(l[n-1]=d[n-1]/c[n-1],t=n-2;t>=0;--t)l[t]=(d[t]-l[t+1])/c[t];for(c[n-1]=(e[n]+l[n-1])/2,t=0;t<n-1;++t)c[t]=2*e[t+1]-l[t+1];return[l,c]}function F$(e){return new $z(e)}function Ff(e,t){this._context=e,this._t=t}Ff.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function K$(e){return new Ff(e,.5)}function Y$(e){return new Ff(e,0)}function V$(e){return new Ff(e,1)}function Ns(e,t){if((d=e.length)>1)for(var n=1,i,l,c=e[t[0]],d,p=c.length;n<d;++n)for(l=c,c=e[t[n]],i=0;i<p;++i)c[i][1]+=c[i][0]=isNaN(l[i][1])?l[i][0]:l[i][1]}function Ay(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function G$(e,t){return e[t]}function X$(e){const t=[];return t.key=e,t}function Q$(){var e=Ft([]),t=Ay,n=Ns,i=G$;function l(c){var d=Array.from(e.apply(this,arguments),X$),p,m=d.length,g=-1,h;for(const x of c)for(p=0,++g;p<m;++p)(d[p][g]=[0,+i(x,d[p].key,g,c)]).data=x;for(p=0,h=Bx(t(d));p<m;++p)d[h[p]].index=p;return n(d,h),d}return l.keys=function(c){return arguments.length?(e=typeof c=="function"?c:Ft(Array.from(c)),l):e},l.value=function(c){return arguments.length?(i=typeof c=="function"?c:Ft(+c),l):i},l.order=function(c){return arguments.length?(t=c==null?Ay:typeof c=="function"?c:Ft(Array.from(c)),l):t},l.offset=function(c){return arguments.length?(n=c??Ns,l):n},l}function Z$(e,t){if((i=e.length)>0){for(var n,i,l=0,c=e[0].length,d;l<c;++l){for(d=n=0;n<i;++n)d+=e[n][l][1]||0;if(d)for(n=0;n<i;++n)e[n][l][1]/=d}Ns(e,t)}}function J$(e,t){if((l=e.length)>0){for(var n=0,i=e[t[0]],l,c=i.length;n<c;++n){for(var d=0,p=0;d<l;++d)p+=e[d][n][1]||0;i[n][1]+=i[n][0]=-p/2}Ns(e,t)}}function e5(e,t){if(!(!((d=e.length)>0)||!((c=(l=e[t[0]]).length)>0))){for(var n=0,i=1,l,c,d;i<c;++i){for(var p=0,m=0,g=0;p<d;++p){for(var h=e[t[p]],x=h[i][1]||0,S=h[i-1][1]||0,j=(x-S)/2,k=0;k<p;++k){var w=e[t[k]],C=w[i][1]||0,z=w[i-1][1]||0;j+=C-z}m+=x,g+=j*x}l[i-1][1]+=l[i-1][0]=n,m&&(n-=g/m)}l[i-1][1]+=l[i-1][0]=n,Ns(e,t)}}var t5=["type","size","sizeType"];function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ey.apply(null,arguments)}function Qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Zj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(n),!0).forEach(function(i){r5(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function r5(e,t,n){return(t=n5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n5(e){var t=i5(e,"string");return typeof t=="symbol"?t:t+""}function i5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o5(e,t){if(e==null)return{};var n,i,l=a5(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function a5(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Pz={symbolCircle:Ix,symbolCross:_$,symbolDiamond:A$,symbolSquare:E$,symbolStar:D$,symbolTriangle:$$,symbolWye:N$},s5=Math.PI/180,l5=e=>{var t="symbol".concat($c(e));return Pz[t]||Ix},c5=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*s5;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},u5=(e,t)=>{Pz["symbol".concat($c(e))]=t},qx=e=>{var{type:t="circle",size:n=64,sizeType:i="area"}=e,l=o5(e,t5),c=Zj(Zj({},l),{},{type:t,size:n,sizeType:i}),d="circle";typeof t=="string"&&(d=t);var p=()=>{var S=l5(d),j=L$().type(S).size(c5(n,i,d));return j()},{className:m,cx:g,cy:h}=c,x=lr(c,!0);return g===+g&&h===+h&&n===+n?y.createElement("path",Ey({},x,{className:kt("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(h,")"),d:p()})):null};qx.registerSymbol=u5;function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Oy.apply(null,arguments)}function Jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function d5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(n),!0).forEach(function(i){Ux(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Ux(e,t,n){return(t=f5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f5(e){var t=p5(e,"string");return typeof t=="symbol"?t:t+""}function p5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xn=32;class Hx extends y.PureComponent{renderIcon(t,n){var{inactiveColor:i}=this.props,l=Xn/2,c=Xn/6,d=Xn/3,p=t.inactive?i:t.color,m=n??t.type;if(m==="none")return null;if(m==="plainline")return y.createElement("line",{strokeWidth:4,fill:"none",stroke:p,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:l,x2:Xn,y2:l,className:"recharts-legend-icon"});if(m==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:p,d:"M0,".concat(l,"h").concat(d,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*d,",").concat(l,`
            H`).concat(Xn,"M").concat(2*d,",").concat(l,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(d,",").concat(l),className:"recharts-legend-icon"});if(m==="rect")return y.createElement("path",{stroke:"none",fill:p,d:"M0,".concat(Xn/8,"h").concat(Xn,"v").concat(Xn*3/4,"h").concat(-Xn,"z"),className:"recharts-legend-icon"});if(y.isValidElement(t.legendIcon)){var g=d5({},t);return delete g.legendIcon,y.cloneElement(t.legendIcon,g)}return y.createElement(qx,{fill:p,cx:l,cy:l,size:Xn,sizeType:"diameter",type:m})}renderItems(){var{payload:t,iconSize:n,layout:i,formatter:l,inactiveColor:c,iconType:d}=this.props,p={x:0,y:0,width:Xn,height:Xn},m={display:i==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,x)=>{var S=h.formatter||l,j=kt({"recharts-legend-item":!0,["legend-item-".concat(x)]:!0,inactive:h.inactive});if(h.type==="none")return null;var k=h.inactive?c:h.color,w=S?S(h.value,h,x):h.value;return y.createElement("li",Oy({className:j,style:m,key:"legend-item-".concat(x)},Pc(this.props,h,x)),y.createElement(Lx,{width:n,height:n,viewBox:p,style:g,"aria-label":"".concat(w," legend icon")},this.renderIcon(h,d)),y.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},w))})}render(){var{payload:t,layout:n,align:i}=this.props;if(!t||!t.length)return null;var l={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}Ux(Hx,"displayName","Legend");Ux(Hx,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Vm={},Gm={},ew;function g5(){return ew||(ew=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i){const l=new Map;for(let c=0;c<n.length;c++){const d=n[c],p=i(d);l.has(p)||l.set(p,d)}return Array.from(l.values())}e.uniqBy=t})(Gm)),Gm}var Xm={},tw;function Nz(){return tw||(tw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Xm)),Xm}var Qm={},Zm={},Jm={},rw;function m5(){return rw||(rw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Jm)),Jm}var nw;function Fx(){return nw||(nw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m5();function n(i){return i!=null&&typeof i!="function"&&t.isLength(i.length)}e.isArrayLike=n})(Zm)),Zm}var eh={},iw;function h5(){return iw||(iw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(eh)),eh}var ow;function y5(){return ow||(ow=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fx(),n=h5();function i(l){return n.isObjectLike(l)&&t.isArrayLike(l)}e.isArrayLikeObject=i})(Qm)),Qm}var th={},rh={},aw;function x5(){return aw||(aw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dx();function n(i){return function(l){return t.get(l,i)}}e.property=n})(rh)),rh}var nh={},ih={},oh={},ah={},sw;function Lz(){return sw||(sw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(ah)),ah}var sh={},lw;function Wz(){return lw||(lw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(sh)),sh}var lh={},cw;function Bz(){return cw||(cw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}e.eq=t})(lh)),lh}var uw;function v5(){return uw||(uw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kx(),n=Lz(),i=Wz(),l=Bz();function c(x,S,j){return typeof j!="function"?t.isMatch(x,S):d(x,S,function k(w,C,z,E,A,$){const T=j(w,C,z,E,A,$);return T!==void 0?!!T:d(w,C,k,$)},new Map)}function d(x,S,j,k){if(S===x)return!0;switch(typeof S){case"object":return p(x,S,j,k);case"function":return Object.keys(S).length>0?d(x,{...S},j,k):l.eq(x,S);default:return n.isObject(x)?typeof S=="string"?S==="":!0:l.eq(x,S)}}function p(x,S,j,k){if(S==null)return!0;if(Array.isArray(S))return g(x,S,j,k);if(S instanceof Map)return m(x,S,j,k);if(S instanceof Set)return h(x,S,j,k);const w=Object.keys(S);if(x==null)return w.length===0;if(w.length===0)return!0;if(k&&k.has(S))return k.get(S)===x;k&&k.set(S,x);try{for(let C=0;C<w.length;C++){const z=w[C];if(!i.isPrimitive(x)&&!(z in x)||S[z]===void 0&&x[z]!==void 0||S[z]===null&&x[z]!==null||!j(x[z],S[z],z,x,S,k))return!1}return!0}finally{k&&k.delete(S)}}function m(x,S,j,k){if(S.size===0)return!0;if(!(x instanceof Map))return!1;for(const[w,C]of S.entries()){const z=x.get(w);if(j(z,C,w,x,S,k)===!1)return!1}return!0}function g(x,S,j,k){if(S.length===0)return!0;if(!Array.isArray(x))return!1;const w=new Set;for(let C=0;C<S.length;C++){const z=S[C];let E=!1;for(let A=0;A<x.length;A++){if(w.has(A))continue;const $=x[A];let T=!1;if(j($,z,C,x,S,k)&&(T=!0),T){w.add(A),E=!0;break}}if(!E)return!1}return!0}function h(x,S,j,k){return S.size===0?!0:x instanceof Set?g([...x],[...S],j,k):!1}e.isMatchWith=c,e.isSetMatch=h})(oh)),oh}var dw;function Kx(){return dw||(dw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v5();function n(i,l){return t.isMatchWith(i,l,()=>{})}e.isMatch=n})(ih)),ih}var ch={},uh={},dh={},fw;function b5(){return fw||(fw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(i=>Object.prototype.propertyIsEnumerable.call(n,i))}e.getSymbols=t})(dh)),dh}var fh={},pw;function Iz(){return pw||(pw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(fh)),fh}var ph={},gw;function qz(){return gw||(gw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",i="[object Number]",l="[object Boolean]",c="[object Arguments]",d="[object Symbol]",p="[object Date]",m="[object Map]",g="[object Set]",h="[object Array]",x="[object Function]",S="[object ArrayBuffer]",j="[object Object]",k="[object Error]",w="[object DataView]",C="[object Uint8Array]",z="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]",$="[object BigUint64Array]",T="[object Int8Array]",D="[object Int16Array]",R="[object Int32Array]",F="[object BigInt64Array]",U="[object Float32Array]",le="[object Float64Array]";e.argumentsTag=c,e.arrayBufferTag=S,e.arrayTag=h,e.bigInt64ArrayTag=F,e.bigUint64ArrayTag=$,e.booleanTag=l,e.dataViewTag=w,e.dateTag=p,e.errorTag=k,e.float32ArrayTag=U,e.float64ArrayTag=le,e.functionTag=x,e.int16ArrayTag=D,e.int32ArrayTag=R,e.int8ArrayTag=T,e.mapTag=m,e.numberTag=i,e.objectTag=j,e.regexpTag=t,e.setTag=g,e.stringTag=n,e.symbolTag=d,e.uint16ArrayTag=E,e.uint32ArrayTag=A,e.uint8ArrayTag=C,e.uint8ClampedArrayTag=z})(ph)),ph}var gh={},mw;function S5(){return mw||(mw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(gh)),gh}var hw;function Uz(){return hw||(hw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b5(),n=Iz(),i=qz(),l=Wz(),c=S5();function d(h,x){return p(h,void 0,h,new Map,x)}function p(h,x,S,j=new Map,k=void 0){const w=k?.(h,x,S,j);if(w!==void 0)return w;if(l.isPrimitive(h))return h;if(j.has(h))return j.get(h);if(Array.isArray(h)){const C=new Array(h.length);j.set(h,C);for(let z=0;z<h.length;z++)C[z]=p(h[z],z,S,j,k);return Object.hasOwn(h,"index")&&(C.index=h.index),Object.hasOwn(h,"input")&&(C.input=h.input),C}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const C=new RegExp(h.source,h.flags);return C.lastIndex=h.lastIndex,C}if(h instanceof Map){const C=new Map;j.set(h,C);for(const[z,E]of h)C.set(z,p(E,z,S,j,k));return C}if(h instanceof Set){const C=new Set;j.set(h,C);for(const z of h)C.add(p(z,void 0,S,j,k));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(c.isTypedArray(h)){const C=new(Object.getPrototypeOf(h)).constructor(h.length);j.set(h,C);for(let z=0;z<h.length;z++)C[z]=p(h[z],z,S,j,k);return C}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const C=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return j.set(h,C),m(C,h,S,j,k),C}if(typeof File<"u"&&h instanceof File){const C=new File([h],h.name,{type:h.type});return j.set(h,C),m(C,h,S,j,k),C}if(h instanceof Blob){const C=new Blob([h],{type:h.type});return j.set(h,C),m(C,h,S,j,k),C}if(h instanceof Error){const C=new h.constructor;return j.set(h,C),C.message=h.message,C.name=h.name,C.stack=h.stack,C.cause=h.cause,m(C,h,S,j,k),C}if(typeof h=="object"&&g(h)){const C=Object.create(Object.getPrototypeOf(h));return j.set(h,C),m(C,h,S,j,k),C}return h}function m(h,x,S=h,j,k){const w=[...Object.keys(x),...t.getSymbols(x)];for(let C=0;C<w.length;C++){const z=w[C],E=Object.getOwnPropertyDescriptor(h,z);(E==null||E.writable)&&(h[z]=p(x[z],z,S,j,k))}}function g(h){switch(n.getTag(h)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=d,e.cloneDeepWithImpl=p,e.copyProperties=m})(uh)),uh}var yw;function j5(){return yw||(yw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uz();function n(i){return t.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}e.cloneDeep=n})(ch)),ch}var xw;function w5(){return xw||(xw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kx(),n=j5();function i(l){return l=n.cloneDeep(l),c=>t.isMatch(c,l)}e.matches=i})(nh)),nh}var mh={},hh={},yh={},vw;function k5(){return vw||(vw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uz(),n=qz();function i(l,c){return t.cloneDeepWith(l,(d,p,m,g)=>{const h=c?.(d,p,m,g);if(h!==void 0)return h;if(typeof l=="object")switch(Object.prototype.toString.call(l)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new l.constructor(l?.valueOf());return t.copyProperties(x,l),x}case n.argumentsTag:{const x={};return t.copyProperties(x,l),x.length=l.length,x[Symbol.iterator]=l[Symbol.iterator],x}default:return}})}e.cloneDeepWith=i})(yh)),yh}var bw;function C5(){return bw||(bw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k5();function n(i){return t.cloneDeepWith(i)}e.cloneDeep=n})(hh)),hh}var xh={},vh={},Sw;function Hz(){return Sw||(Sw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(i,l=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<l;case"symbol":return!1;case"string":return t.test(i)}}e.isIndex=n})(vh)),vh}var bh={},jw;function z5(){return jw||(jw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iz();function n(i){return i!==null&&typeof i=="object"&&t.getTag(i)==="[object Arguments]"}e.isArguments=n})(bh)),bh}var ww;function _5(){return ww||(ww=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fz(),n=Hz(),i=z5(),l=Rx();function c(d,p){let m;if(Array.isArray(p)?m=p:typeof p=="string"&&t.isDeepKey(p)&&d?.[p]==null?m=l.toPath(p):m=[p],m.length===0)return!1;let g=d;for(let h=0;h<m.length;h++){const x=m[h];if((g==null||!Object.hasOwn(g,x))&&!((Array.isArray(g)||i.isArguments(g))&&n.isIndex(x)&&x<g.length))return!1;g=g[x]}return!0}e.has=c})(xh)),xh}var kw;function T5(){return kw||(kw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kx(),n=pz(),i=C5(),l=Dx(),c=_5();function d(p,m){switch(typeof p){case"object":{Object.is(p?.valueOf(),-0)&&(p="-0");break}case"number":{p=n.toKey(p);break}}return m=i.cloneDeep(m),function(g){const h=l.get(g,p);return h===void 0?c.has(g,p):m===void 0?h===void 0:t.isMatch(h,m)}}e.matchesProperty=d})(mh)),mh}var Cw;function A5(){return Cw||(Cw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nz(),n=x5(),i=w5(),l=T5();function c(d){if(d==null)return t.identity;switch(typeof d){case"function":return d;case"object":return Array.isArray(d)&&d.length===2?l.matchesProperty(d[0],d[1]):i.matches(d);case"string":case"symbol":case"number":return n.property(d)}}e.iteratee=c})(th)),th}var zw;function E5(){return zw||(zw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g5(),n=Nz(),i=y5(),l=A5();function c(d,p=n.identity){return i.isArrayLikeObject(d)?t.uniqBy(Array.from(d),l.iteratee(p)):[]}e.uniqBy=c})(Vm)),Vm}var Sh,_w;function O5(){return _w||(_w=1,Sh=E5().uniqBy),Sh}var M5=O5();const Tw=yo(M5);function Fz(e,t,n){return t===!0?Tw(e,n):typeof t=="function"?Tw(e,t):e}var jh={exports:{}},wh={},kh={exports:{}},Ch={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function R5(){if(Aw)return Ch;Aw=1;var e=Gs();function t(x,S){return x===S&&(x!==0||1/x===1/S)||x!==x&&S!==S}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,l=e.useEffect,c=e.useLayoutEffect,d=e.useDebugValue;function p(x,S){var j=S(),k=i({inst:{value:j,getSnapshot:S}}),w=k[0].inst,C=k[1];return c(function(){w.value=j,w.getSnapshot=S,m(w)&&C({inst:w})},[x,j,S]),l(function(){return m(w)&&C({inst:w}),x(function(){m(w)&&C({inst:w})})},[x]),d(j),j}function m(x){var S=x.getSnapshot;x=x.value;try{var j=S();return!n(x,j)}catch{return!0}}function g(x,S){return S()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:p;return Ch.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Ch}var Ew;function D5(){return Ew||(Ew=1,kh.exports=R5()),kh.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow;function $5(){if(Ow)return wh;Ow=1;var e=Gs(),t=D5();function n(g,h){return g===h&&(g!==0||1/g===1/h)||g!==g&&h!==h}var i=typeof Object.is=="function"?Object.is:n,l=t.useSyncExternalStore,c=e.useRef,d=e.useEffect,p=e.useMemo,m=e.useDebugValue;return wh.useSyncExternalStoreWithSelector=function(g,h,x,S,j){var k=c(null);if(k.current===null){var w={hasValue:!1,value:null};k.current=w}else w=k.current;k=p(function(){function z(D){if(!E){if(E=!0,A=D,D=S(D),j!==void 0&&w.hasValue){var R=w.value;if(j(R,D))return $=R}return $=D}if(R=$,i(A,D))return R;var F=S(D);return j!==void 0&&j(R,F)?(A=D,R):(A=D,$=F)}var E=!1,A,$,T=x===void 0?null:x;return[function(){return z(h())},T===null?void 0:function(){return z(T())}]},[h,x,S,j]);var C=l(g,k[0],k[1]);return d(function(){w.hasValue=!0,w.value=C},[C]),m(C),C},wh}var Mw;function P5(){return Mw||(Mw=1,jh.exports=$5()),jh.exports}var N5=P5(),Yx=y.createContext(null),L5=e=>e,cr=()=>{var e=y.useContext(Yx);return e?e.store.dispatch:L5},Bd=()=>{},W5=()=>Bd,B5=(e,t)=>e===t;function qe(e){var t=y.useContext(Yx);return N5.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:W5,t?t.store.getState:Bd,t?t.store.getState:Bd,t?e:Bd,B5)}function I5(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function q5(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function U5(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${t}[${n}]`)}}var Rw=e=>Array.isArray(e)?e:[e];function H5(e){const t=Array.isArray(e[0])?e[0]:e;return U5(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function F5(e,t){const n=[],{length:i}=e;for(let l=0;l<i;l++)n.push(e[l].apply(null,t));return n}var K5=class{constructor(e){this.value=e}deref(){return this.value}},Y5=typeof WeakRef<"u"?WeakRef:K5,V5=0,Dw=1;function yd(){return{s:V5,v:void 0,o:null,p:null}}function Kz(e,t={}){let n=yd();const{resultEqualityCheck:i}=t;let l,c=0;function d(){let p=n;const{length:m}=arguments;for(let x=0,S=m;x<S;x++){const j=arguments[x];if(typeof j=="function"||typeof j=="object"&&j!==null){let k=p.o;k===null&&(p.o=k=new WeakMap);const w=k.get(j);w===void 0?(p=yd(),k.set(j,p)):p=w}else{let k=p.p;k===null&&(p.p=k=new Map);const w=k.get(j);w===void 0?(p=yd(),k.set(j,p)):p=w}}const g=p;let h;if(p.s===Dw)h=p.v;else if(h=e.apply(null,arguments),c++,i){const x=l?.deref?.()??l;x!=null&&i(x,h)&&(h=x,c!==0&&c--),l=typeof h=="object"&&h!==null||typeof h=="function"?new Y5(h):h}return g.s=Dw,g.v=h,h}return d.clearCache=()=>{n=yd(),d.resetResultsCount()},d.resultsCount=()=>c,d.resetResultsCount=()=>{c=0},d}function G5(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,i=(...l)=>{let c=0,d=0,p,m={},g=l.pop();typeof g=="object"&&(m=g,g=l.pop()),I5(g,`createSelector expects an output function after the inputs, but received: [${typeof g}]`);const h={...n,...m},{memoize:x,memoizeOptions:S=[],argsMemoize:j=Kz,argsMemoizeOptions:k=[]}=h,w=Rw(S),C=Rw(k),z=H5(l),E=x(function(){return c++,g.apply(null,arguments)},...w),A=j(function(){d++;const T=F5(z,arguments);return p=E.apply(null,T),p},...C);return Object.assign(A,{resultFunc:g,memoizedResultFunc:E,dependencies:z,dependencyRecomputations:()=>d,resetDependencyRecomputations:()=>{d=0},lastResult:()=>p,recomputations:()=>c,resetRecomputations:()=>{c=0},memoize:x,argsMemoize:j})};return Object.assign(i,{withTypes:()=>i}),i}var ue=G5(Kz),X5=Object.assign((e,t=ue)=>{q5(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),i=n.map(c=>e[c]);return t(i,(...c)=>c.reduce((d,p,m)=>(d[n[m]]=p,d),{}))},{withTypes:()=>X5}),zh={},_h={},Th={},$w;function Q5(){return $w||($w=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,l,c)=>{if(i!==l){const d=t(i),p=t(l);if(d===p&&d===0){if(i<l)return c==="desc"?1:-1;if(i>l)return c==="desc"?-1:1}return c==="desc"?p-d:d-p}return 0};e.compareValues=n})(Th)),Th}var Ah={},Eh={},Pw;function Yz(){return Pw||(Pw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Eh)),Eh}var Nw;function Z5(){return Nw||(Nw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yz(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function l(c,d){return Array.isArray(c)?!1:typeof c=="number"||typeof c=="boolean"||c==null||t.isSymbol(c)?!0:typeof c=="string"&&(i.test(c)||!n.test(c))||d!=null&&Object.hasOwn(d,c)}e.isKey=l})(Ah)),Ah}var Lw;function J5(){return Lw||(Lw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q5(),n=Z5(),i=Rx();function l(c,d,p,m){if(c==null)return[];p=m?void 0:p,Array.isArray(c)||(c=Object.values(c)),Array.isArray(d)||(d=d==null?[null]:[d]),d.length===0&&(d=[null]),Array.isArray(p)||(p=p==null?[]:[p]),p=p.map(j=>String(j));const g=(j,k)=>{let w=j;for(let C=0;C<k.length&&w!=null;++C)w=w[k[C]];return w},h=(j,k)=>k==null||j==null?k:typeof j=="object"&&"key"in j?Object.hasOwn(k,j.key)?k[j.key]:g(k,j.path):typeof j=="function"?j(k):Array.isArray(j)?g(k,j):typeof k=="object"?k[j]:k,x=d.map(j=>(Array.isArray(j)&&j.length===1&&(j=j[0]),j==null||typeof j=="function"||Array.isArray(j)||n.isKey(j)?j:{key:j,path:i.toPath(j)}));return c.map(j=>({original:j,criteria:x.map(k=>h(k,j))})).slice().sort((j,k)=>{for(let w=0;w<x.length;w++){const C=t.compareValues(j.criteria[w],k.criteria[w],p[w]);if(C!==0)return C}return 0}).map(j=>j.original)}e.orderBy=l})(_h)),_h}var Oh={},Ww;function eP(){return Ww||(Ww=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i=1){const l=[],c=Math.floor(i),d=(p,m)=>{for(let g=0;g<p.length;g++){const h=p[g];Array.isArray(h)&&m<c?d(h,m+1):l.push(h)}};return d(n,0),l}e.flatten=t})(Oh)),Oh}var Mh={},Bw;function Vz(){return Bw||(Bw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hz(),n=Fx(),i=Lz(),l=Bz();function c(d,p,m){return i.isObject(m)&&(typeof p=="number"&&n.isArrayLike(m)&&t.isIndex(p)&&p<m.length||typeof p=="string"&&p in m)?l.eq(m[p],d):!1}e.isIterateeCall=c})(Mh)),Mh}var Iw;function tP(){return Iw||(Iw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J5(),n=eP(),i=Vz();function l(c,...d){const p=d.length;return p>1&&i.isIterateeCall(c,d[0],d[1])?d=[]:p>2&&i.isIterateeCall(d[0],d[1],d[2])&&(d=[d[0]]),t.orderBy(c,n.flatten(d),["asc"])}e.sortBy=l})(zh)),zh}var Rh,qw;function rP(){return qw||(qw=1,Rh=tP().sortBy),Rh}var nP=rP();const Kf=yo(nP);var Gz=e=>e.legend.settings,iP=e=>e.legend.size,oP=e=>e.legend.payload,aP=ue([oP,Gz],(e,t)=>{var{itemSorter:n}=t,i=e.flat(1);return n?Kf(i,n):i});function sP(){return qe(aP)}var xd=1;function Xz(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=y.useState({height:0,left:0,top:0,width:0}),i=y.useCallback(l=>{if(l!=null){var c=l.getBoundingClientRect(),d={height:c.height,left:c.left,top:c.top,width:c.width};(Math.abs(d.height-t.height)>xd||Math.abs(d.left-t.left)>xd||Math.abs(d.top-t.top)>xd||Math.abs(d.width-t.width)>xd)&&n({height:d.height,left:d.left,top:d.top,width:d.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,i]}function Hr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var lP=typeof Symbol=="function"&&Symbol.observable||"@@observable",Uw=lP,Dh=()=>Math.random().toString(36).substring(7).split("").join("."),cP={INIT:`@@redux/INIT${Dh()}`,REPLACE:`@@redux/REPLACE${Dh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dh()}`},tf=cP;function Vx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Qz(e,t,n){if(typeof e!="function")throw new Error(Hr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Hr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Hr(1));return n(Qz)(e,t)}let i=e,l=t,c=new Map,d=c,p=0,m=!1;function g(){d===c&&(d=new Map,c.forEach((C,z)=>{d.set(z,C)}))}function h(){if(m)throw new Error(Hr(3));return l}function x(C){if(typeof C!="function")throw new Error(Hr(4));if(m)throw new Error(Hr(5));let z=!0;g();const E=p++;return d.set(E,C),function(){if(z){if(m)throw new Error(Hr(6));z=!1,g(),d.delete(E),c=null}}}function S(C){if(!Vx(C))throw new Error(Hr(7));if(typeof C.type>"u")throw new Error(Hr(8));if(typeof C.type!="string")throw new Error(Hr(17));if(m)throw new Error(Hr(9));try{m=!0,l=i(l,C)}finally{m=!1}return(c=d).forEach(E=>{E()}),C}function j(C){if(typeof C!="function")throw new Error(Hr(10));i=C,S({type:tf.REPLACE})}function k(){const C=x;return{subscribe(z){if(typeof z!="object"||z===null)throw new Error(Hr(11));function E(){const $=z;$.next&&$.next(h())}return E(),{unsubscribe:C(E)}},[Uw](){return this}}}return S({type:tf.INIT}),{dispatch:S,subscribe:x,getState:h,replaceReducer:j,[Uw]:k}}function uP(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:tf.INIT})>"u")throw new Error(Hr(12));if(typeof n(void 0,{type:tf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Hr(13))})}function Zz(e){const t=Object.keys(e),n={};for(let c=0;c<t.length;c++){const d=t[c];typeof e[d]=="function"&&(n[d]=e[d])}const i=Object.keys(n);let l;try{uP(n)}catch(c){l=c}return function(d={},p){if(l)throw l;let m=!1;const g={};for(let h=0;h<i.length;h++){const x=i[h],S=n[x],j=d[x],k=S(j,p);if(typeof k>"u")throw p&&p.type,new Error(Hr(14));g[x]=k,m=m||k!==j}return m=m||i.length!==Object.keys(d).length,m?g:d}}function rf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function dP(...e){return t=>(n,i)=>{const l=t(n,i);let c=()=>{throw new Error(Hr(15))};const d={getState:l.getState,dispatch:(m,...g)=>c(m,...g)},p=e.map(m=>m(d));return c=rf(...p)(l.dispatch),{...l,dispatch:c}}}function Jz(e){return Vx(e)&&"type"in e&&typeof e.type=="string"}var e_=Symbol.for("immer-nothing"),Hw=Symbol.for("immer-draftable"),Pn=Symbol.for("immer-state");function gi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ls=Object.getPrototypeOf;function qa(e){return!!e&&!!e[Pn]}function po(e){return e?t_(e)||Array.isArray(e)||!!e[Hw]||!!e.constructor?.[Hw]||Nc(e)||Vf(e):!1}var fP=Object.prototype.constructor.toString();function t_(e){if(!e||typeof e!="object")return!1;const t=Ls(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===fP}function nf(e,t){Yf(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,i)=>t(i,n,e))}function Yf(e){const t=e[Pn];return t?t.type_:Array.isArray(e)?1:Nc(e)?2:Vf(e)?3:0}function My(e,t){return Yf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function r_(e,t,n){const i=Yf(e);i===2?e.set(t,n):i===3?e.add(n):e[t]=n}function pP(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Nc(e){return e instanceof Map}function Vf(e){return e instanceof Set}function Ea(e){return e.copy_||e.base_}function Ry(e,t){if(Nc(e))return new Map(e);if(Vf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=t_(e);if(t===!0||t==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(e);delete i[Pn];let l=Reflect.ownKeys(i);for(let c=0;c<l.length;c++){const d=l[c],p=i[d];p.writable===!1&&(p.writable=!0,p.configurable=!0),(p.get||p.set)&&(i[d]={configurable:!0,writable:!0,enumerable:p.enumerable,value:e[d]})}return Object.create(Ls(e),i)}else{const i=Ls(e);if(i!==null&&n)return{...e};const l=Object.create(i);return Object.assign(l,e)}}function Gx(e,t=!1){return Gf(e)||qa(e)||!po(e)||(Yf(e)>1&&Object.defineProperties(e,{set:{value:vd},add:{value:vd},clear:{value:vd},delete:{value:vd}}),Object.freeze(e),t&&Object.values(e).forEach(n=>Gx(n,!0))),e}function vd(){gi(2)}function Gf(e){return Object.isFrozen(e)}var gP={};function Ua(e){const t=gP[e];return t||gi(0,e),t}var bc;function n_(){return bc}function mP(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Fw(e,t){t&&(Ua("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Dy(e){$y(e),e.drafts_.forEach(hP),e.drafts_=null}function $y(e){e===bc&&(bc=e.parent_)}function Kw(e){return bc=mP(bc,e)}function hP(e){const t=e[Pn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Yw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Pn].modified_&&(Dy(t),gi(4)),po(e)&&(e=of(t,e),t.parent_||af(t,e)),t.patches_&&Ua("Patches").generateReplacementPatches_(n[Pn].base_,e,t.patches_,t.inversePatches_)):e=of(t,n,[]),Dy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==e_?e:void 0}function of(e,t,n){if(Gf(t))return t;const i=t[Pn];if(!i)return nf(t,(l,c)=>Vw(e,i,t,l,c,n)),t;if(i.scope_!==e)return t;if(!i.modified_)return af(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const l=i.copy_;let c=l,d=!1;i.type_===3&&(c=new Set(l),l.clear(),d=!0),nf(c,(p,m)=>Vw(e,i,l,p,m,n,d)),af(e,l,!1),n&&e.patches_&&Ua("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function Vw(e,t,n,i,l,c,d){if(qa(l)){const p=c&&t&&t.type_!==3&&!My(t.assigned_,i)?c.concat(i):void 0,m=of(e,l,p);if(r_(n,i,m),qa(m))e.canAutoFreeze_=!1;else return}else d&&n.add(l);if(po(l)&&!Gf(l)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;of(e,l),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&(Nc(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&af(e,l)}}function af(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Gx(t,n)}function yP(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:n_(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=i,c=Xx;n&&(l=[i],c=Sc);const{revoke:d,proxy:p}=Proxy.revocable(l,c);return i.draft_=p,i.revoke_=d,p}var Xx={get(e,t){if(t===Pn)return e;const n=Ea(e);if(!My(n,t))return xP(e,n,t);const i=n[t];return e.finalized_||!po(i)?i:i===$h(e.base_,t)?(Ph(e),e.copy_[t]=Ny(i,e)):i},has(e,t){return t in Ea(e)},ownKeys(e){return Reflect.ownKeys(Ea(e))},set(e,t,n){const i=i_(Ea(e),t);if(i?.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const l=$h(Ea(e),t),c=l?.[Pn];if(c&&c.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(pP(n,l)&&(n!==void 0||My(e.base_,t)))return!0;Ph(e),Py(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return $h(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ph(e),Py(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ea(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:i.enumerable,value:n[t]}},defineProperty(){gi(11)},getPrototypeOf(e){return Ls(e.base_)},setPrototypeOf(){gi(12)}},Sc={};nf(Xx,(e,t)=>{Sc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Sc.deleteProperty=function(e,t){return Sc.set.call(this,e,t,void 0)};Sc.set=function(e,t,n){return Xx.set.call(this,e[0],t,n,e[0])};function $h(e,t){const n=e[Pn];return(n?Ea(n):e)[t]}function xP(e,t,n){const i=i_(t,n);return i?"value"in i?i.value:i.get?.call(e.draft_):void 0}function i_(e,t){if(!(t in e))return;let n=Ls(e);for(;n;){const i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Ls(n)}}function Py(e){e.modified_||(e.modified_=!0,e.parent_&&Py(e.parent_))}function Ph(e){e.copy_||(e.copy_=Ry(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var vP=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,i)=>{if(typeof t=="function"&&typeof n!="function"){const c=n;n=t;const d=this;return function(m=c,...g){return d.produce(m,h=>n.call(this,h,...g))}}typeof n!="function"&&gi(6),i!==void 0&&typeof i!="function"&&gi(7);let l;if(po(t)){const c=Kw(this),d=Ny(t,void 0);let p=!0;try{l=n(d),p=!1}finally{p?Dy(c):$y(c)}return Fw(c,i),Yw(l,c)}else if(!t||typeof t!="object"){if(l=n(t),l===void 0&&(l=t),l===e_&&(l=void 0),this.autoFreeze_&&Gx(l,!0),i){const c=[],d=[];Ua("Patches").generateReplacementPatches_(t,l,c,d),i(c,d)}return l}else gi(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(d,...p)=>this.produceWithPatches(d,m=>t(m,...p));let i,l;return[this.produce(t,n,(d,p)=>{i=d,l=p}),i,l]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){po(e)||gi(8),qa(e)&&(e=lo(e));const t=Kw(this),n=Ny(e,void 0);return n[Pn].isManual_=!0,$y(t),n}finishDraft(e,t){const n=e&&e[Pn];(!n||!n.isManual_)&&gi(9);const{scope_:i}=n;return Fw(i,t),Yw(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const l=t[n];if(l.path.length===0&&l.op==="replace"){e=l.value;break}}n>-1&&(t=t.slice(n+1));const i=Ua("Patches").applyPatches_;return qa(e)?i(e,t):this.produce(e,l=>i(l,t))}};function Ny(e,t){const n=Nc(e)?Ua("MapSet").proxyMap_(e,t):Vf(e)?Ua("MapSet").proxySet_(e,t):yP(e,t);return(t?t.scope_:n_()).drafts_.push(n),n}function lo(e){return qa(e)||gi(10,e),o_(e)}function o_(e){if(!po(e)||Gf(e))return e;const t=e[Pn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ry(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Ry(e,!0);return nf(n,(i,l)=>{r_(n,i,o_(l))}),t&&(t.finalized_=!1),n}var bP=new vP,a_=bP.produce;function s_(e){return({dispatch:n,getState:i})=>l=>c=>typeof c=="function"?c(n,i,e):l(c)}var SP=s_(),jP=s_,wP=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rf:rf.apply(null,arguments)};function ri(e,t){function n(...i){if(t){let l=t(...i);if(!l)throw new Error(Rn(0));return{type:e,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:e,payload:i[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=i=>Jz(i)&&i.type===e,n}var l_=class dc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,dc.prototype)}static get[Symbol.species](){return dc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new dc(...t[0].concat(this)):new dc(...t.concat(this))}};function Gw(e){return po(e)?a_(e,()=>{}):e}function bd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function kP(e){return typeof e=="boolean"}var CP=()=>function(t){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:l=!0,actionCreatorCheck:c=!0}=t??{};let d=new l_;return n&&(kP(n)?d.push(SP):d.push(jP(n.extraArgument))),d},zP="RTK_autoBatch",Xw=e=>t=>{setTimeout(t,e)},_P=(e={type:"raf"})=>t=>(...n)=>{const i=t(...n);let l=!0,c=!1,d=!1;const p=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Xw(10):e.type==="callback"?e.queueNotification:Xw(e.timeout),g=()=>{d=!1,c&&(c=!1,p.forEach(h=>h()))};return Object.assign({},i,{subscribe(h){const x=()=>l&&h(),S=i.subscribe(x);return p.add(h),()=>{S(),p.delete(h)}},dispatch(h){try{return l=!h?.meta?.[zP],c=!l,c&&(d||(d=!0,m(g))),i.dispatch(h)}finally{l=!0}}})},TP=e=>function(n){const{autoBatch:i=!0}=n??{};let l=new l_(e);return i&&l.push(_P(typeof i=="object"?i:void 0)),l};function AP(e){const t=CP(),{reducer:n=void 0,middleware:i,devTools:l=!0,preloadedState:c=void 0,enhancers:d=void 0}=e||{};let p;if(typeof n=="function")p=n;else if(Vx(n))p=Zz(n);else throw new Error(Rn(1));let m;typeof i=="function"?m=i(t):m=t();let g=rf;l&&(g=wP({trace:!1,...typeof l=="object"&&l}));const h=dP(...m),x=TP(h);let S=typeof d=="function"?d(x):x();const j=g(...S);return Qz(p,c,j)}function c_(e){const t={},n=[];let i;const l={addCase(c,d){const p=typeof c=="string"?c:c.type;if(!p)throw new Error(Rn(28));if(p in t)throw new Error(Rn(29));return t[p]=d,l},addAsyncThunk(c,d){return d.pending&&(t[c.pending.type]=d.pending),d.rejected&&(t[c.rejected.type]=d.rejected),d.fulfilled&&(t[c.fulfilled.type]=d.fulfilled),d.settled&&n.push({matcher:c.settled,reducer:d.settled}),l},addMatcher(c,d){return n.push({matcher:c,reducer:d}),l},addDefaultCase(c){return i=c,l}};return e(l),[t,n,i]}function EP(e){return typeof e=="function"}function OP(e,t){let[n,i,l]=c_(t),c;if(EP(e))c=()=>Gw(e());else{const p=Gw(e);c=()=>p}function d(p=c(),m){let g=[n[m.type],...i.filter(({matcher:h})=>h(m)).map(({reducer:h})=>h)];return g.filter(h=>!!h).length===0&&(g=[l]),g.reduce((h,x)=>{if(x)if(qa(h)){const j=x(h,m);return j===void 0?h:j}else{if(po(h))return a_(h,S=>x(S,m));{const S=x(h,m);if(S===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return h},p)}return d.getInitialState=c,d}var MP="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",RP=(e=21)=>{let t="",n=e;for(;n--;)t+=MP[Math.random()*64|0];return t},DP=Symbol.for("rtk-slice-createasyncthunk");function $P(e,t){return`${e}/${t}`}function PP({creators:e}={}){const t=e?.asyncThunk?.[DP];return function(i){const{name:l,reducerPath:c=l}=i;if(!l)throw new Error(Rn(11));const d=(typeof i.reducers=="function"?i.reducers(LP()):i.reducers)||{},p=Object.keys(d),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(A,$){const T=typeof A=="string"?A:A.type;if(!T)throw new Error(Rn(12));if(T in m.sliceCaseReducersByType)throw new Error(Rn(13));return m.sliceCaseReducersByType[T]=$,g},addMatcher(A,$){return m.sliceMatchers.push({matcher:A,reducer:$}),g},exposeAction(A,$){return m.actionCreators[A]=$,g},exposeCaseReducer(A,$){return m.sliceCaseReducersByName[A]=$,g}};p.forEach(A=>{const $=d[A],T={reducerName:A,type:$P(l,A),createNotation:typeof i.reducers=="function"};BP($)?qP(T,$,g,t):WP(T,$,g)});function h(){const[A={},$=[],T=void 0]=typeof i.extraReducers=="function"?c_(i.extraReducers):[i.extraReducers],D={...A,...m.sliceCaseReducersByType};return OP(i.initialState,R=>{for(let F in D)R.addCase(F,D[F]);for(let F of m.sliceMatchers)R.addMatcher(F.matcher,F.reducer);for(let F of $)R.addMatcher(F.matcher,F.reducer);T&&R.addDefaultCase(T)})}const x=A=>A,S=new Map,j=new WeakMap;let k;function w(A,$){return k||(k=h()),k(A,$)}function C(){return k||(k=h()),k.getInitialState()}function z(A,$=!1){function T(R){let F=R[A];return typeof F>"u"&&$&&(F=bd(j,T,C)),F}function D(R=x){const F=bd(S,$,()=>new WeakMap);return bd(F,R,()=>{const U={};for(const[le,X]of Object.entries(i.selectors??{}))U[le]=NP(X,R,()=>bd(j,R,C),$);return U})}return{reducerPath:A,getSelectors:D,get selectors(){return D(T)},selectSlice:T}}const E={name:l,reducer:w,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:C,...z(c),injectInto(A,{reducerPath:$,...T}={}){const D=$??c;return A.inject({reducerPath:D,reducer:w},T),{...E,...z(D,!0)}}};return E}}function NP(e,t,n,i){function l(c,...d){let p=t(c);return typeof p>"u"&&i&&(p=n()),e(p,...d)}return l.unwrapped=e,l}var Ln=PP();function LP(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function WP({type:e,reducerName:t,createNotation:n},i,l){let c,d;if("reducer"in i){if(n&&!IP(i))throw new Error(Rn(17));c=i.reducer,d=i.prepare}else c=i;l.addCase(e,c).exposeCaseReducer(t,c).exposeAction(t,d?ri(e,d):ri(e))}function BP(e){return e._reducerDefinitionType==="asyncThunk"}function IP(e){return e._reducerDefinitionType==="reducerWithPrepare"}function qP({type:e,reducerName:t},n,i,l){if(!l)throw new Error(Rn(18));const{payloadCreator:c,fulfilled:d,pending:p,rejected:m,settled:g,options:h}=n,x=l(e,c,h);i.exposeAction(t,x),d&&i.addCase(x.fulfilled,d),p&&i.addCase(x.pending,p),m&&i.addCase(x.rejected,m),g&&i.addMatcher(x.settled,g),i.exposeCaseReducer(t,{fulfilled:d||Sd,pending:p||Sd,rejected:m||Sd,settled:g||Sd})}function Sd(){}var UP="task",u_="listener",d_="completed",Qx="cancelled",HP=`task-${Qx}`,FP=`task-${d_}`,Ly=`${u_}-${Qx}`,KP=`${u_}-${d_}`,Xf=class{constructor(e){this.code=e,this.message=`${UP} ${Qx} (reason: ${e})`}name="TaskAbortError";message},Zx=(e,t)=>{if(typeof e!="function")throw new TypeError(Rn(32))},sf=()=>{},f_=(e,t=sf)=>(e.catch(t),e),p_=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Na=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},La=e=>{if(e.aborted){const{reason:t}=e;throw new Xf(t)}};function g_(e,t){let n=sf;return new Promise((i,l)=>{const c=()=>l(new Xf(e.reason));if(e.aborted){c();return}n=p_(e,c),t.finally(()=>n()).then(i,l)}).finally(()=>{n=sf})}var YP=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Xf?"cancelled":"rejected",error:n}}finally{t?.()}},lf=e=>t=>f_(g_(e,t).then(n=>(La(e),n))),m_=e=>{const t=lf(e);return n=>t(new Promise(i=>setTimeout(i,n)))},{assign:$s}=Object,Qw={},Qf="listenerMiddleware",VP=(e,t)=>{const n=i=>p_(e,()=>Na(i,e.reason));return(i,l)=>{Zx(i);const c=new AbortController;n(c);const d=YP(async()=>{La(e),La(c.signal);const p=await i({pause:lf(c.signal),delay:m_(c.signal),signal:c.signal});return La(c.signal),p},()=>Na(c,FP));return l?.autoJoin&&t.push(d.catch(sf)),{result:lf(e)(d),cancel(){Na(c,HP)}}}},GP=(e,t)=>{const n=async(i,l)=>{La(t);let c=()=>{};const p=[new Promise((m,g)=>{let h=e({predicate:i,effect:(x,S)=>{S.unsubscribe(),m([x,S.getState(),S.getOriginalState()])}});c=()=>{h(),g()}})];l!=null&&p.push(new Promise(m=>setTimeout(m,l,null)));try{const m=await g_(t,Promise.race(p));return La(t),m}finally{c()}};return(i,l)=>f_(n(i,l))},h_=e=>{let{type:t,actionCreator:n,matcher:i,predicate:l,effect:c}=e;if(t)l=ri(t).match;else if(n)t=n.type,l=n.match;else if(i)l=i;else if(!l)throw new Error(Rn(21));return Zx(c),{predicate:l,type:t,effect:c}},y_=$s(e=>{const{type:t,predicate:n,effect:i}=h_(e);return{id:RP(),effect:i,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Rn(22))}}},{withTypes:()=>y_}),Zw=(e,t)=>{const{type:n,effect:i,predicate:l}=h_(t);return Array.from(e.values()).find(c=>(typeof n=="string"?c.type===n:c.predicate===l)&&c.effect===i)},Wy=e=>{e.pending.forEach(t=>{Na(t,Ly)})},XP=e=>()=>{e.forEach(Wy),e.clear()},Jw=(e,t,n)=>{try{e(t,n)}catch(i){setTimeout(()=>{throw i},0)}},x_=$s(ri(`${Qf}/add`),{withTypes:()=>x_}),QP=ri(`${Qf}/removeAll`),v_=$s(ri(`${Qf}/remove`),{withTypes:()=>v_}),ZP=(...e)=>{console.error(`${Qf}/error`,...e)},Lc=(e={})=>{const t=new Map,{extra:n,onError:i=ZP}=e;Zx(i);const l=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),x=>{h.unsubscribe(),x?.cancelActive&&Wy(h)}),c=h=>{const x=Zw(t,h)??y_(h);return l(x)};$s(c,{withTypes:()=>c});const d=h=>{const x=Zw(t,h);return x&&(x.unsubscribe(),h.cancelActive&&Wy(x)),!!x};$s(d,{withTypes:()=>d});const p=async(h,x,S,j)=>{const k=new AbortController,w=GP(c,k.signal),C=[];try{h.pending.add(k),await Promise.resolve(h.effect(x,$s({},S,{getOriginalState:j,condition:(z,E)=>w(z,E).then(Boolean),take:w,delay:m_(k.signal),pause:lf(k.signal),extra:n,signal:k.signal,fork:VP(k.signal,C),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((z,E,A)=>{z!==k&&(Na(z,Ly),A.delete(z))})},cancel:()=>{Na(k,Ly),h.pending.delete(k)},throwIfCancelled:()=>{La(k.signal)}})))}catch(z){z instanceof Xf||Jw(i,z,{raisedBy:"effect"})}finally{await Promise.all(C),Na(k,KP),h.pending.delete(k)}},m=XP(t);return{middleware:h=>x=>S=>{if(!Jz(S))return x(S);if(x_.match(S))return c(S.payload);if(QP.match(S)){m();return}if(v_.match(S))return d(S.payload);let j=h.getState();const k=()=>{if(j===Qw)throw new Error(Rn(23));return j};let w;try{if(w=x(S),t.size>0){const C=h.getState(),z=Array.from(t.values());for(const E of z){let A=!1;try{A=E.predicate(S,C,j)}catch($){A=!1,Jw(i,$,{raisedBy:"predicate"})}A&&p(E,S,h,k)}}}finally{j=Qw}return w},startListening:c,stopListening:d,clearListeners:m}};function Rn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var JP={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},b_=Ln({name:"chartLayout",initialState:JP,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,i,l,c;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(i=t.payload.right)!==null&&i!==void 0?i:0,e.margin.bottom=(l=t.payload.bottom)!==null&&l!==void 0?l:0,e.margin.left=(c=t.payload.left)!==null&&c!==void 0?c:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:e4,setLayout:t4,setChartSize:r4,setScale:n4}=b_.actions,i4=b_.reducer;function ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function tk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(n),!0).forEach(function(i){o4(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function o4(e,t,n){return(t=a4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a4(e){var t=s4(e,"string");return typeof t=="symbol"?t:t+""}function s4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cf=Math.PI/180,l4=e=>e*180/Math.PI,kr=(e,t,n,i)=>({x:e+Math.cos(-cf*i)*n,y:t+Math.sin(-cf*i)*n}),S_=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},c4=(e,t)=>{var{x:n,y:i}=e,{x:l,y:c}=t;return Math.sqrt((n-l)**2+(i-c)**2)},u4=(e,t)=>{var{x:n,y:i}=e,{cx:l,cy:c}=t,d=c4({x:n,y:i},{x:l,y:c});if(d<=0)return{radius:d,angle:0};var p=(n-l)/d,m=Math.acos(p);return i>c&&(m=2*Math.PI-m),{radius:d,angle:l4(m),angleInRadian:m}},d4=e=>{var{startAngle:t,endAngle:n}=e,i=Math.floor(t/360),l=Math.floor(n/360),c=Math.min(i,l);return{startAngle:t-c*360,endAngle:n-c*360}},f4=(e,t)=>{var{startAngle:n,endAngle:i}=t,l=Math.floor(n/360),c=Math.floor(i/360),d=Math.min(l,c);return e+d*360},p4=(e,t)=>{var{x:n,y:i}=e,{radius:l,angle:c}=u4({x:n,y:i},t),{innerRadius:d,outerRadius:p}=t;if(l<d||l>p||l===0)return null;var{startAngle:m,endAngle:g}=d4(t),h=c,x;if(m<=g){for(;h>g;)h-=360;for(;h<m;)h+=360;x=h>=m&&h<=g}else{for(;h>m;)h-=360;for(;h<g;)h+=360;x=h>=g&&h<=m}return x?tk(tk({},t),{},{radius:l,angle:f4(h,t)}):null};function j_(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(n),!0).forEach(function(i){g4(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function g4(e,t,n){return(t=m4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m4(e){var t=h4(e,"string");return typeof t=="symbol"?t:t+""}function h4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yt(e,t,n){return ir(e)||ir(t)?n:Di(t)?Ia(e,t,n):typeof t=="function"?t(e):n}var y4=(e,t,n,i,l)=>{var c,d=-1,p=(c=t?.length)!==null&&c!==void 0?c:0;if(p<=1||e==null)return 0;if(i==="angleAxis"&&l!=null&&Math.abs(Math.abs(l[1]-l[0])-360)<=1e-6)for(var m=0;m<p;m++){var g=m>0?n[m-1].coordinate:n[p-1].coordinate,h=n[m].coordinate,x=m>=p-1?n[0].coordinate:n[m+1].coordinate,S=void 0;if(Pr(h-g)!==Pr(x-h)){var j=[];if(Pr(x-h)===Pr(l[1]-l[0])){S=x;var k=h+l[1]-l[0];j[0]=Math.min(k,(k+g)/2),j[1]=Math.max(k,(k+g)/2)}else{S=g;var w=x+l[1]-l[0];j[0]=Math.min(h,(w+h)/2),j[1]=Math.max(h,(w+h)/2)}var C=[Math.min(h,(S+h)/2),Math.max(h,(S+h)/2)];if(e>C[0]&&e<=C[1]||e>=j[0]&&e<=j[1]){({index:d}=n[m]);break}}else{var z=Math.min(g,x),E=Math.max(g,x);if(e>(z+h)/2&&e<=(E+h)/2){({index:d}=n[m]);break}}}else if(t){for(var A=0;A<p;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<p-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===p-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:d}=t[A]);break}}return d},x4=(e,t,n)=>{if(t&&n){var{width:i,height:l}=n,{align:c,verticalAlign:d,layout:p}=t;if((p==="vertical"||p==="horizontal"&&d==="middle")&&c!=="center"&&Ge(e[c]))return Zn(Zn({},e),{},{[c]:e[c]+(i||0)});if((p==="horizontal"||p==="vertical"&&c==="center")&&d!=="middle"&&Ge(e[d]))return Zn(Zn({},e),{},{[d]:e[d]+(l||0)})}return e},aa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",w_=(e,t,n,i)=>{if(i)return e.map(p=>p.coordinate);var l,c,d=e.map(p=>(p.coordinate===t&&(l=!0),p.coordinate===n&&(c=!0),p.coordinate));return l||d.push(t),c||d.push(n),d},k_=(e,t,n)=>{if(!e)return null;var{duplicateDomain:i,type:l,range:c,scale:d,realScaleType:p,isCategorical:m,categoricalDomain:g,tickCount:h,ticks:x,niceTicks:S,axisType:j}=e;if(!d)return null;var k=p==="scaleBand"&&d.bandwidth?d.bandwidth()/2:2,w=l==="category"&&d.bandwidth?d.bandwidth()/k:0;if(w=j==="angleAxis"&&c&&c.length>=2?Pr(c[0]-c[1])*2*w:w,x||S){var C=(x||S||[]).map((z,E)=>{var A=i?i.indexOf(z):z;return{coordinate:d(A)+w,value:z,offset:w,index:E}});return C.filter(z=>!$n(z.coordinate))}return m&&g?g.map((z,E)=>({coordinate:d(z)+w,value:z,index:E,offset:w})):d.ticks&&h!=null?d.ticks(h).map((z,E)=>({coordinate:d(z)+w,value:z,offset:w,index:E})):d.domain().map((z,E)=>({coordinate:d(z)+w,value:i?i[z]:z,index:E,offset:w}))},nk=1e-4,v4=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,i=e.range(),l=Math.min(i[0],i[1])-nk,c=Math.max(i[0],i[1])+nk,d=e(t[0]),p=e(t[n-1]);(d<l||d>c||p<l||p>c)&&e.domain([t[0],t[n-1]])}},b4=(e,t)=>{if(!t||t.length!==2||!Ge(t[0])||!Ge(t[1]))return e;var n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),l=[e[0],e[1]];return(!Ge(e[0])||e[0]<n)&&(l[0]=n),(!Ge(e[1])||e[1]>i)&&(l[1]=i),l[0]>i&&(l[0]=i),l[1]<n&&(l[1]=n),l},S4=e=>{var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var l=0,c=0,d=0;d<t;++d){var p=$n(e[d][n][1])?e[d][n][0]:e[d][n][1];p>=0?(e[d][n][0]=l,e[d][n][1]=l+p,l=e[d][n][1]):(e[d][n][0]=c,e[d][n][1]=c+p,c=e[d][n][1])}},j4=e=>{var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var l=0,c=0;c<t;++c){var d=$n(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=l,e[c][n][1]=l+d,l=e[c][n][1]):(e[c][n][0]=0,e[c][n][1]=0)}},w4={sign:S4,expand:Z$,none:Ns,silhouette:J$,wiggle:e5,positive:j4},k4=(e,t,n)=>{var i=w4[n],l=Q$().keys(t).value((c,d)=>+Yt(c,d,0)).order(Ay).offset(i);return l(e)};function C4(e){return e==null?void 0:String(e)}function ik(e){var{axis:t,ticks:n,bandSize:i,entry:l,index:c,dataKey:d}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ir(l[t.dataKey])){var p=mz(n,"value",l[t.dataKey]);if(p)return p.coordinate+i/2}return n[c]?n[c].coordinate+i/2:null}var m=Yt(l,ir(d)?t.dataKey:d);return ir(m)?null:t.scale(m)}var ok=e=>{var{axis:t,ticks:n,offset:i,bandSize:l,entry:c,index:d}=e;if(t.type==="category")return n[d]?n[d].coordinate+i:null;var p=Yt(c,t.dataKey,t.scale.domain()[d]);return ir(p)?null:t.scale(p)-l/2+i},z4=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var i=Math.min(n[0],n[1]),l=Math.max(n[0],n[1]);return i<=0&&l>=0?0:l<0?l:i}return n[0]},_4=e=>{var t=e.flat(2).filter(Ge);return[Math.min(...t),Math.max(...t)]},T4=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],A4=(e,t,n)=>{if(e!=null)return T4(Object.keys(e).reduce((i,l)=>{var c=e[l],{stackedData:d}=c,p=d.reduce((m,g)=>{var h=j_(g,t,n),x=_4(h);return[Math.min(m[0],x[0]),Math.max(m[1],x[1])]},[1/0,-1/0]);return[Math.min(p[0],i[0]),Math.max(p[1],i[1])]},[1/0,-1/0]))},ak=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jc=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&t&&t.length>=2){for(var l=Kf(t,h=>h.coordinate),c=1/0,d=1,p=l.length;d<p;d++){var m=l[d],g=l[d-1];c=Math.min((m.coordinate||0)-(g.coordinate||0),c)}return c===1/0?0:c}return n?void 0:0};function lk(e){var{tooltipEntrySettings:t,dataKey:n,payload:i,value:l,name:c}=e;return Zn(Zn({},t),{},{dataKey:n,payload:i,value:l,name:c})}function Js(e,t){if(e)return String(e);if(typeof t=="string")return t}function E4(e,t,n,i,l){if(n==="horizontal"||n==="vertical"){var c=e>=l.left&&e<=l.left+l.width&&t>=l.top&&t<=l.top+l.height;return c?{x:e,y:t}:null}return i?p4({x:e,y:t},i):null}var O4=(e,t,n,i)=>{var l=t.find(g=>g&&g.index===n);if(l){if(e==="horizontal")return{x:l.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:l.coordinate};if(e==="centric"){var c=l.coordinate,{radius:d}=i;return Zn(Zn(Zn({},i),kr(i.cx,i.cy,d,c)),{},{angle:c,radius:d})}var p=l.coordinate,{angle:m}=i;return Zn(Zn(Zn({},i),kr(i.cx,i.cy,p,m)),{},{angle:m,radius:p})}return{x:0,y:0}},M4=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,xo=e=>e.layout.width,vo=e=>e.layout.height,R4=e=>e.layout.scale,C_=e=>e.layout.margin,Zf=ue(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Jf=ue(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),z_="data-recharts-item-index",__="data-recharts-item-data-key",Wc=60;function ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function jd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(n),!0).forEach(function(i){D4(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function D4(e,t,n){return(t=$4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $4(e){var t=P4(e,"string");return typeof t=="symbol"?t:t+""}function P4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N4=e=>e.brush.height;function L4(e){var t=Jf(e);return t.reduce((n,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var l=typeof i.width=="number"?i.width:Wc;return n+l}return n},0)}function W4(e){var t=Jf(e);return t.reduce((n,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var l=typeof i.width=="number"?i.width:Wc;return n+l}return n},0)}function B4(e){var t=Zf(e);return t.reduce((n,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?n+i.height:n,0)}function I4(e){var t=Zf(e);return t.reduce((n,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?n+i.height:n,0)}var Or=ue([xo,vo,C_,N4,L4,W4,B4,I4,Gz,iP],(e,t,n,i,l,c,d,p,m,g)=>{var h={left:(n.left||0)+l,right:(n.right||0)+c},x={top:(n.top||0)+d,bottom:(n.bottom||0)+p},S=jd(jd({},x),h),j=S.bottom;S.bottom+=i,S=x4(S,m,g);var k=e-S.left-S.right,w=t-S.top-S.bottom;return jd(jd({brushBottom:j},S),{},{width:Math.max(k,0),height:Math.max(w,0)})}),q4=ue(Or,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Jx=ue(xo,vo,(e,t)=>({x:0,y:0,width:e,height:t})),U4=y.createContext(null),yn=()=>y.useContext(U4)!=null,ep=e=>e.brush,tp=ue([ep,Or,C_],(e,t,n)=>({height:e.height,x:Ge(e.x)?e.x:t.left,y:Ge(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Ge(e.width)?e.width:t.width})),ev=()=>{var e,t=yn(),n=qe(q4),i=qe(tp),l=(e=qe(ep))===null||e===void 0?void 0:e.padding;return!t||!i||!l?n:{width:i.width-l.left-l.right,height:i.height-l.top-l.bottom,x:l.left,y:l.top}},H4={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},T_=()=>{var e;return(e=qe(Or))!==null&&e!==void 0?e:H4},tv=()=>qe(xo),rv=()=>qe(vo),F4=()=>qe(e=>e.layout.margin),St=e=>e.layout.layoutType,rp=()=>qe(St),K4={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},A_=Ln({name:"legend",initialState:K4,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=lo(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:uk,setLegendSettings:Y4,addLegendPayload:E_,removeLegendPayload:O_}=A_.actions,V4=A_.reducer,G4=["contextPayload"];function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},By.apply(null,arguments)}function dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Ws(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(n),!0).forEach(function(i){nv(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function nv(e,t,n){return(t=X4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X4(e){var t=Q4(e,"string");return typeof t=="symbol"?t:t+""}function Q4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z4(e,t){if(e==null)return{};var n,i,l=J4(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function J4(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function e3(e){return e.value}function t3(e){var{contextPayload:t}=e,n=Z4(e,G4),i=Fz(t,e.payloadUniqBy,e3),l=Ws(Ws({},n),{},{payload:i});return y.isValidElement(e.content)?y.cloneElement(e.content,l):typeof e.content=="function"?y.createElement(e.content,l):y.createElement(Hx,l)}function r3(e,t,n,i,l,c){var{layout:d,align:p,verticalAlign:m}=t,g,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(p==="center"&&d==="vertical"?g={left:((i||0)-c.width)/2}:g=p==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?h={top:((l||0)-c.height)/2}:h=m==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Ws(Ws({},g),h)}function n3(e){var t=cr();return y.useEffect(()=>{t(Y4(e))},[t,e]),null}function i3(e){var t=cr();return y.useEffect(()=>(t(uk(e)),()=>{t(uk({width:0,height:0}))}),[t,e]),null}function o3(e){var t=sP(),n=S$(),i=F4(),{width:l,height:c,wrapperStyle:d,portal:p}=e,[m,g]=Xz([t]),h=tv(),x=rv();if(h==null||x==null)return null;var S=h-(i.left||0)-(i.right||0),j=Ra.getWidthOrHeight(e.layout,c,l,S),k=p?d:Ws(Ws({position:"absolute",width:j?.width||l||"auto",height:j?.height||c||"auto"},r3(d,e,i,h,x,m)),d),w=p??n;if(w==null)return null;var C=y.createElement("div",{className:"recharts-legend-wrapper",style:k,ref:g},y.createElement(n3,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),y.createElement(i3,{width:m.width,height:m.height}),y.createElement(t3,By({},e,j,{margin:i,chartWidth:h,chartHeight:x,contextPayload:t})));return Gd.createPortal(C,w)}class Ra extends y.PureComponent{static getWidthOrHeight(t,n,i,l){return t==="vertical"&&Ge(n)?{height:n}:t==="horizontal"?{width:i||l}:null}render(){return y.createElement(o3,this.props)}}nv(Ra,"displayName","Legend");nv(Ra,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Iy.apply(null,arguments)}function fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Nh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(n),!0).forEach(function(i){a3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function a3(e,t,n){return(t=s3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s3(e){var t=l3(e,"string");return typeof t=="symbol"?t:t+""}function l3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c3(e){return Array.isArray(e)&&Di(e[0])&&Di(e[1])?e.join(" ~ "):e}var u3=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:i={},labelStyle:l={},payload:c,formatter:d,itemSorter:p,wrapperClassName:m,labelClassName:g,label:h,labelFormatter:x,accessibilityLayer:S=!1}=e,j=()=>{if(c&&c.length){var T={padding:0,margin:0},D=(p?Kf(c,p):c).map((R,F)=>{if(R.type==="none")return null;var U=R.formatter||d||c3,{value:le,name:X}=R,ae=le,ye=X;if(U){var pe=U(le,X,R,F,c);if(Array.isArray(pe))[ae,ye]=pe;else if(pe!=null)ae=pe;else return null}var _e=Nh({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},i);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:_e},Di(ye)?y.createElement("span",{className:"recharts-tooltip-item-name"},ye):null,Di(ye)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},ae),y.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:T},D)}return null},k=Nh({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=Nh({margin:0},l),C=!ir(h),z=C?h:"",E=kt("recharts-default-tooltip",m),A=kt("recharts-tooltip-label",g);C&&x&&c!==void 0&&c!==null&&(z=x(h,c));var $=S?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",Iy({className:E,style:k},$),y.createElement("p",{className:A,style:w},y.isValidElement(z)?z:"".concat(z)),j())},ec="recharts-tooltip-wrapper",d3={visibility:"hidden"};function f3(e){var{coordinate:t,translateX:n,translateY:i}=e;return kt(ec,{["".concat(ec,"-right")]:Ge(n)&&t&&Ge(t.x)&&n>=t.x,["".concat(ec,"-left")]:Ge(n)&&t&&Ge(t.x)&&n<t.x,["".concat(ec,"-bottom")]:Ge(i)&&t&&Ge(t.y)&&i>=t.y,["".concat(ec,"-top")]:Ge(i)&&t&&Ge(t.y)&&i<t.y})}function pk(e){var{allowEscapeViewBox:t,coordinate:n,key:i,offsetTopLeft:l,position:c,reverseDirection:d,tooltipDimension:p,viewBox:m,viewBoxDimension:g}=e;if(c&&Ge(c[i]))return c[i];var h=n[i]-p-(l>0?l:0),x=n[i]+l;if(t[i])return d[i]?h:x;var S=m[i];if(S==null)return 0;if(d[i]){var j=h,k=S;return j<k?Math.max(x,S):Math.max(h,S)}if(g==null)return 0;var w=x+p,C=S+g;return w>C?Math.max(h,S):Math.max(x,S)}function p3(e){var{translateX:t,translateY:n,useTranslate3d:i}=e;return{transform:i?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function g3(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:i,position:l,reverseDirection:c,tooltipBox:d,useTranslate3d:p,viewBox:m}=e,g,h,x;return d.height>0&&d.width>0&&n?(h=pk({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:i,position:l,reverseDirection:c,tooltipDimension:d.width,viewBox:m,viewBoxDimension:m.width}),x=pk({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:i,position:l,reverseDirection:c,tooltipDimension:d.height,viewBox:m,viewBoxDimension:m.height}),g=p3({translateX:h,translateY:x,useTranslate3d:p})):g=d3,{cssProperties:g,cssClasses:f3({translateX:h,translateY:x,coordinate:n})}}function gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(n),!0).forEach(function(i){qy(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function qy(e,t,n){return(t=m3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m3(e){var t=h3(e,"string");return typeof t=="symbol"?t:t+""}function h3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class y3 extends y.PureComponent{constructor(){super(...arguments),qy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),qy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,i,l,c;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0,y:(l=(c=this.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&l!==void 0?l:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:i,animationEasing:l,children:c,coordinate:d,hasPayload:p,isAnimationActive:m,offset:g,position:h,reverseDirection:x,useTranslate3d:S,viewBox:j,wrapperStyle:k,lastBoundingBox:w,innerRef:C,hasPortalFromProps:z}=this.props,{cssClasses:E,cssProperties:A}=g3({allowEscapeViewBox:n,coordinate:d,offsetTopLeft:g,position:h,reverseDirection:x,tooltipBox:{height:w.height,width:w.width},useTranslate3d:S,viewBox:j}),$=z?{}:wd(wd({transition:m&&t?"transform ".concat(i,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&p?"visible":"hidden",position:"absolute",top:0,left:0}),T=wd(wd({},$),{},{visibility:!this.state.dismissed&&t&&p?"visible":"hidden"},k);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:T,ref:C},c)}}var x3=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),sa={devToolsEnabled:!1,isSsr:x3()},M_=()=>qe(e=>e.rootProps.accessibilityLayer);function Nn(e){return Number.isFinite(e)}function Bs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Uy.apply(null,arguments)}function mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function hk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(n),!0).forEach(function(i){v3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function v3(e,t,n){return(t=b3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b3(e){var t=S3(e,"string");return typeof t=="symbol"?t:t+""}function S3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yk={curveBasisClosed:B$,curveBasisOpen:I$,curveBasis:W$,curveBumpX:C$,curveBumpY:z$,curveLinearClosed:q$,curveLinear:Hf,curveMonotoneX:U$,curveMonotoneY:H$,curveNatural:F$,curveStep:K$,curveStepAfter:V$,curveStepBefore:Y$},kd=e=>Nn(e.x)&&Nn(e.y),tc=e=>e.x,rc=e=>e.y,j3=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat($c(e));return(n==="curveMonotone"||n==="curveBump")&&t?yk["".concat(n).concat(t==="vertical"?"Y":"X")]:yk[n]||Hf},w3=e=>{var{type:t="linear",points:n=[],baseLine:i,layout:l,connectNulls:c=!1}=e,d=j3(t,l),p=c?n.filter(kd):n,m;if(Array.isArray(i)){var g=c?i.filter(x=>kd(x)):i,h=p.map((x,S)=>hk(hk({},x),{},{base:g[S]}));return l==="vertical"?m=hd().y(rc).x1(tc).x0(x=>x.base.x):m=hd().x(tc).y1(rc).y0(x=>x.base.y),m.defined(kd).curve(d),m(h)}return l==="vertical"&&Ge(i)?m=hd().y(rc).x1(tc).x0(i):Ge(i)?m=hd().x(tc).y1(rc).y0(i):m=Cz().x(tc).y(rc),m.defined(kd).curve(d),m(p)},iv=e=>{var{className:t,points:n,path:i,pathRef:l}=e;if((!n||!n.length)&&!i)return null;var c=n&&n.length?w3(e):i;return y.createElement("path",Uy({},Li(e),Px(e),{className:kt("recharts-curve",t),d:c===null?void 0:c,ref:l}))},k3=["x","y","top","left","width","height","className"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hy.apply(null,arguments)}function xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function C3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(n),!0).forEach(function(i){z3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function z3(e,t,n){return(t=_3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _3(e){var t=T3(e,"string");return typeof t=="symbol"?t:t+""}function T3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A3(e,t){if(e==null)return{};var n,i,l=E3(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function E3(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var O3=(e,t,n,i,l,c)=>"M".concat(e,",").concat(l,"v").concat(i,"M").concat(c,",").concat(t,"h").concat(n),M3=e=>{var{x:t=0,y:n=0,top:i=0,left:l=0,width:c=0,height:d=0,className:p}=e,m=A3(e,k3),g=C3({x:t,y:n,top:i,left:l,width:c,height:d},m);return!Ge(t)||!Ge(n)||!Ge(c)||!Ge(d)||!Ge(i)||!Ge(l)?null:y.createElement("path",Hy({},lr(g,!0),{className:kt("recharts-cross",p),d:O3(t,n,c,d,i,l)}))};function R3(e,t,n,i){var l=i/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-l:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-l,width:e==="horizontal"?i:n.width-1,height:e==="horizontal"?n.height-1:i}}function vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function D3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(n),!0).forEach(function(i){$3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function $3(e,t,n){return(t=P3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P3(e){var t=N3(e,"string");return typeof t=="symbol"?t:t+""}function N3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vr(e,t){var n=D3({},e),i=t,l=Object.keys(t),c=l.reduce((d,p)=>(d[p]===void 0&&i[p]!==void 0&&(d[p]=i[p]),d),n);return c}function L3(){}function bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Sk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(n),!0).forEach(function(i){W3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function W3(e,t,n){return(t=B3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B3(e){var t=I3(e,"string");return typeof t=="symbol"?t:t+""}function I3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q3=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),R_=(e,t,n)=>e.map(i=>"".concat(q3(i)," ").concat(t,"ms ").concat(n)).join(","),U3=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,i)=>n.filter(l=>i.includes(l))),wc=(e,t)=>Object.keys(t).reduce((n,i)=>Sk(Sk({},n),{},{[i]:e(i,t[i])}),{});function jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(n),!0).forEach(function(i){H3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function H3(e,t,n){return(t=F3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F3(e){var t=K3(e,"string");return typeof t=="symbol"?t:t+""}function K3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uf=(e,t,n)=>e+(t-e)*n,Fy=e=>{var{from:t,to:n}=e;return t!==n},D_=(e,t,n)=>{var i=wc((l,c)=>{if(Fy(c)){var[d,p]=e(c.from,c.to,c.velocity);return Fr(Fr({},c),{},{from:d,velocity:p})}return c},t);return n<1?wc((l,c)=>Fy(c)?Fr(Fr({},c),{},{velocity:uf(c.velocity,i[l].velocity,n),from:uf(c.from,i[l].from,n)}):c,t):D_(e,i,n-1)};function Y3(e,t,n,i,l,c){var d,p=i.reduce((S,j)=>Fr(Fr({},S),{},{[j]:{from:e[j],velocity:0,to:t[j]}}),{}),m=()=>wc((S,j)=>j.from,p),g=()=>!Object.values(p).filter(Fy).length,h=null,x=S=>{d||(d=S);var j=S-d,k=j/n.dt;p=D_(n,p,k),l(Fr(Fr(Fr({},e),t),m())),d=S,g()||(h=c.setTimeout(x))};return()=>(h=c.setTimeout(x),()=>{h()})}function V3(e,t,n,i,l,c,d){var p=null,m=l.reduce((x,S)=>Fr(Fr({},x),{},{[S]:[e[S],t[S]]}),{}),g,h=x=>{g||(g=x);var S=(x-g)/i,j=wc((w,C)=>uf(...C,n(S)),m);if(c(Fr(Fr(Fr({},e),t),j)),S<1)p=d.setTimeout(h);else{var k=wc((w,C)=>uf(...C,n(1)),m);c(Fr(Fr(Fr({},e),t),k))}};return()=>(p=d.setTimeout(h),()=>{p()})}const G3=(e,t,n,i,l,c)=>{var d=U3(e,t);return n.isStepper===!0?Y3(e,t,n,d,l,c):V3(e,t,n,i,d,l,c)};var df=1e-4,$_=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],P_=(e,t)=>e.map((n,i)=>n*t**i).reduce((n,i)=>n+i),wk=(e,t)=>n=>{var i=$_(e,t);return P_(i,n)},X3=(e,t)=>n=>{var i=$_(e,t),l=[...i.map((c,d)=>c*d).slice(1),0];return P_(l,n)},kk=function(){for(var t,n,i,l,c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];if(d.length===1)switch(d[0]){case"linear":[t,i,n,l]=[0,0,1,1];break;case"ease":[t,i,n,l]=[.25,.1,.25,1];break;case"ease-in":[t,i,n,l]=[.42,0,1,1];break;case"ease-out":[t,i,n,l]=[.42,0,.58,1];break;case"ease-in-out":[t,i,n,l]=[0,0,.58,1];break;default:{var m=d[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([t,i,n,l]=m[1].split(")")[0].split(",").map(k=>parseFloat(k)))}}else d.length===4&&([t,i,n,l]=d);var g=wk(t,n),h=wk(i,l),x=X3(t,n),S=k=>k>1?1:k<0?0:k,j=k=>{for(var w=k>1?1:k,C=w,z=0;z<8;++z){var E=g(C)-w,A=x(C);if(Math.abs(E-w)<df||A<df)return h(C);C=S(C-E/A)}return h(C)};return j.isStepper=!1,j},Q3=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:l=17}=t,c=(d,p,m)=>{var g=-(d-p)*n,h=m*i,x=m+(g-h)*l/1e3,S=m*l/1e3+d;return Math.abs(S-p)<df&&Math.abs(x)<df?[p,0]:[S,x]};return c.isStepper=!0,c.dt=l,c},Z3=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kk(e);case"spring":return Q3();default:if(e.split("(")[0]==="cubic-bezier")return kk(e)}return typeof e=="function"?e:null};function J3(e){var t,n=()=>null,i=!1,l=null,c=d=>{if(!i){if(Array.isArray(d)){if(!d.length)return;var p=d,[m,...g]=p;if(typeof m=="number"){l=e.setTimeout(c.bind(null,g),m);return}c(m),l=e.setTimeout(c.bind(null,g));return}typeof d=="string"&&(t=d,n(t)),typeof d=="object"&&(t=d,n(t)),typeof d=="function"&&d()}};return{stop:()=>{i=!0},start:d=>{i=!1,l&&(l(),l=null),c(d)},subscribe:d=>(n=d,()=>{n=()=>null}),getTimeoutController:()=>e}}class e6{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),l=null,c=d=>{d-i>=n?t(d):typeof requestAnimationFrame=="function"&&(l=requestAnimationFrame(c))};return l=requestAnimationFrame(c),()=>{cancelAnimationFrame(l)}}}function t6(){return J3(new e6)}var r6=y.createContext(t6);function n6(e,t){var n=y.useContext(r6);return y.useMemo(()=>t??n(e),[e,t,n])}var i6={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Ck={t:0},Lh={t:1};function Bc(e){var t=Vr(e,i6),{isActive:n,canBegin:i,duration:l,easing:c,begin:d,onAnimationEnd:p,onAnimationStart:m,children:g}=t,h=n6(t.animationId,t.animationManager),[x,S]=y.useState(n?Ck:Lh),j=y.useRef(null);return y.useEffect(()=>{n||S(Lh)},[n]),y.useEffect(()=>{if(!n||!i)return L3;var k=G3(Ck,Lh,Z3(c),l,S,h.getTimeoutController()),w=()=>{j.current=k()};return h.start([m,d,w,l,p]),()=>{h.stop(),j.current&&j.current(),p()}},[n,i,l,c,d,m,p,h]),g(x.t)}function Ic(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=y.useRef(vc(t)),i=y.useRef(e);return i.current!==e&&(n.current=vc(t),i.current=e),n.current}function zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function _k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(n),!0).forEach(function(i){o6(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function o6(e,t,n){return(t=a6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a6(e){var t=s6(e,"string");return typeof t=="symbol"?t:t+""}function s6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ff.apply(null,arguments)}var Tk=(e,t,n,i,l)=>{var c=Math.min(Math.abs(n)/2,Math.abs(i)/2),d=i>=0?1:-1,p=n>=0?1:-1,m=i>=0&&n>=0||i<0&&n<0?1:0,g;if(c>0&&l instanceof Array){for(var h=[0,0,0,0],x=0,S=4;x<S;x++)h[x]=l[x]>c?c:l[x];g="M".concat(e,",").concat(t+d*h[0]),h[0]>0&&(g+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(m,",").concat(e+p*h[0],",").concat(t)),g+="L ".concat(e+n-p*h[1],",").concat(t),h[1]>0&&(g+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(m,`,
        `).concat(e+n,",").concat(t+d*h[1])),g+="L ".concat(e+n,",").concat(t+i-d*h[2]),h[2]>0&&(g+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(m,`,
        `).concat(e+n-p*h[2],",").concat(t+i)),g+="L ".concat(e+p*h[3],",").concat(t+i),h[3]>0&&(g+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+i-d*h[3])),g+="Z"}else if(c>0&&l===+l&&l>0){var j=Math.min(c,l);g="M ".concat(e,",").concat(t+d*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+p*j,",").concat(t,`
            L `).concat(e+n-p*j,",").concat(t,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+n,",").concat(t+d*j,`
            L `).concat(e+n,",").concat(t+i-d*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+n-p*j,",").concat(t+i,`
            L `).concat(e+p*j,",").concat(t+i,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e,",").concat(t+i-d*j," Z")}else g="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return g},l6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},N_=e=>{var t=Vr(e,l6),n=y.useRef(null),[i,l]=y.useState(-1);y.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var pe=n.current.getTotalLength();pe&&l(pe)}catch{}},[]);var{x:c,y:d,width:p,height:m,radius:g,className:h}=t,{animationEasing:x,animationDuration:S,animationBegin:j,isAnimationActive:k,isUpdateAnimationActive:w}=t,C=y.useRef(p),z=y.useRef(m),E=y.useRef(c),A=y.useRef(d),$=y.useMemo(()=>({x:c,y:d,width:p,height:m,radius:g}),[c,d,p,m,g]),T=Ic($,"rectangle-");if(c!==+c||d!==+d||p!==+p||m!==+m||p===0||m===0)return null;var D=kt("recharts-rectangle",h);if(!w)return y.createElement("path",ff({},lr(t,!0),{className:D,d:Tk(c,d,p,m,g)}));var R=C.current,F=z.current,U=E.current,le=A.current,X="0px ".concat(i===-1?1:i,"px"),ae="".concat(i,"px 0px"),ye=R_(["strokeDasharray"],S,typeof x=="string"?x:void 0);return y.createElement(Bc,{animationId:T,key:T,canBegin:i>0,duration:S,easing:x,isActive:w,begin:j},pe=>{var _e=pr(R,p,pe),B=pr(F,m,pe),Z=pr(U,c,pe),ce=pr(le,d,pe);n.current&&(C.current=_e,z.current=B,E.current=Z,A.current=ce);var Ce;return k?pe>0?Ce={transition:ye,strokeDasharray:ae}:Ce={strokeDasharray:X}:Ce={strokeDasharray:ae},y.createElement("path",ff({},lr(t,!0),{className:D,d:Tk(Z,ce,_e,B,g),ref:n,style:_k(_k({},Ce),t.style)}))})};function L_(e){var{cx:t,cy:n,radius:i,startAngle:l,endAngle:c}=e,d=kr(t,n,i,l),p=kr(t,n,i,c);return{points:[d,p],cx:t,cy:n,radius:i,startAngle:l,endAngle:c}}function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ky.apply(null,arguments)}var c6=(e,t)=>{var n=Pr(t-e),i=Math.min(Math.abs(t-e),359.999);return n*i},Cd=e=>{var{cx:t,cy:n,radius:i,angle:l,sign:c,isExternal:d,cornerRadius:p,cornerIsExternal:m}=e,g=p*(d?1:-1)+i,h=Math.asin(p/g)/cf,x=m?l:l+c*h,S=kr(t,n,g,x),j=kr(t,n,i,x),k=m?l-c*h:l,w=kr(t,n,g*Math.cos(h*cf),k);return{center:S,circleTangency:j,lineTangency:w,theta:h}},W_=e=>{var{cx:t,cy:n,innerRadius:i,outerRadius:l,startAngle:c,endAngle:d}=e,p=c6(c,d),m=c+p,g=kr(t,n,l,c),h=kr(t,n,l,m),x="M ".concat(g.x,",").concat(g.y,`
    A `).concat(l,",").concat(l,`,0,
    `).concat(+(Math.abs(p)>180),",").concat(+(c>m),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var S=kr(t,n,i,c),j=kr(t,n,i,m);x+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(p)>180),",").concat(+(c<=m),`,
            `).concat(S.x,",").concat(S.y," Z")}else x+="L ".concat(t,",").concat(n," Z");return x},u6=e=>{var{cx:t,cy:n,innerRadius:i,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:p,startAngle:m,endAngle:g}=e,h=Pr(g-m),{circleTangency:x,lineTangency:S,theta:j}=Cd({cx:t,cy:n,radius:l,angle:m,sign:h,cornerRadius:c,cornerIsExternal:p}),{circleTangency:k,lineTangency:w,theta:C}=Cd({cx:t,cy:n,radius:l,angle:g,sign:-h,cornerRadius:c,cornerIsExternal:p}),z=p?Math.abs(m-g):Math.abs(m-g)-j-C;if(z<0)return d?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):W_({cx:t,cy:n,innerRadius:i,outerRadius:l,startAngle:m,endAngle:g});var E="M ".concat(S.x,",").concat(S.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(l,",").concat(l,",0,").concat(+(z>180),",").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var{circleTangency:A,lineTangency:$,theta:T}=Cd({cx:t,cy:n,radius:i,angle:m,sign:h,isExternal:!0,cornerRadius:c,cornerIsExternal:p}),{circleTangency:D,lineTangency:R,theta:F}=Cd({cx:t,cy:n,radius:i,angle:g,sign:-h,isExternal:!0,cornerRadius:c,cornerIsExternal:p}),U=p?Math.abs(m-g):Math.abs(m-g)-T-F;if(U<0&&c===0)return"".concat(E,"L").concat(t,",").concat(n,"Z");E+="L".concat(R.x,",").concat(R.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat($.x,",").concat($.y,"Z")}else E+="L".concat(t,",").concat(n,"Z");return E},d6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},B_=e=>{var t=Vr(e,d6),{cx:n,cy:i,innerRadius:l,outerRadius:c,cornerRadius:d,forceCornerRadius:p,cornerIsExternal:m,startAngle:g,endAngle:h,className:x}=t;if(c<l||g===h)return null;var S=kt("recharts-sector",x),j=c-l,k=Zr(d,j,0,!0),w;return k>0&&Math.abs(g-h)<360?w=u6({cx:n,cy:i,innerRadius:l,outerRadius:c,cornerRadius:Math.min(k,j/2),forceCornerRadius:p,cornerIsExternal:m,startAngle:g,endAngle:h}):w=W_({cx:n,cy:i,innerRadius:l,outerRadius:c,startAngle:g,endAngle:h}),y.createElement("path",Ky({},lr(t,!0),{className:S,d:w}))};function f6(e,t,n){var i,l,c,d;if(e==="horizontal")i=t.x,c=i,l=n.top,d=n.top+n.height;else if(e==="vertical")l=t.y,d=l,i=n.left,c=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:p,cy:m,innerRadius:g,outerRadius:h,angle:x}=t,S=kr(p,m,g,x),j=kr(p,m,h,x);i=S.x,l=S.y,c=j.x,d=j.y}else return L_(t);return[{x:i,y:l},{x:c,y:d}]}var Wh={},Bh={},Ih={},Ak;function p6(){return Ak||(Ak=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yz();function n(i){return t.isSymbol(i)?NaN:Number(i)}e.toNumber=n})(Ih)),Ih}var Ek;function g6(){return Ek||(Ek=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p6();function n(i){return i?(i=t.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}e.toFinite=n})(Bh)),Bh}var Ok;function m6(){return Ok||(Ok=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vz(),n=g6();function i(l,c,d){d&&typeof d!="number"&&t.isIterateeCall(l,c,d)&&(c=d=void 0),l=n.toFinite(l),c===void 0?(c=l,l=0):c=n.toFinite(c),d=d===void 0?l<c?1:-1:n.toFinite(d);const p=Math.max(Math.ceil((c-l)/(d||1)),0),m=new Array(p);for(let g=0;g<p;g++)m[g]=l,l+=d;return m}e.range=i})(Wh)),Wh}var qh,Mk;function h6(){return Mk||(Mk=1,qh=m6().range),qh}var y6=h6();const I_=yo(y6);function Zo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function x6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ov(e){let t,n,i;e.length!==2?(t=Zo,n=(p,m)=>Zo(e(p),m),i=(p,m)=>e(p)-m):(t=e===Zo||e===x6?e:v6,n=e,i=e);function l(p,m,g=0,h=p.length){if(g<h){if(t(m,m)!==0)return h;do{const x=g+h>>>1;n(p[x],m)<0?g=x+1:h=x}while(g<h)}return g}function c(p,m,g=0,h=p.length){if(g<h){if(t(m,m)!==0)return h;do{const x=g+h>>>1;n(p[x],m)<=0?g=x+1:h=x}while(g<h)}return g}function d(p,m,g=0,h=p.length){const x=l(p,m,g,h-1);return x>g&&i(p[x-1],m)>-i(p[x],m)?x-1:x}return{left:l,center:d,right:c}}function v6(){return 0}function q_(e){return e===null?NaN:+e}function*b6(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const S6=ov(Zo),qc=S6.right;ov(q_).center;class Rk extends Map{constructor(t,n=k6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,l]of t)this.set(i,l)}get(t){return super.get(Dk(this,t))}has(t){return super.has(Dk(this,t))}set(t,n){return super.set(j6(this,t),n)}delete(t){return super.delete(w6(this,t))}}function Dk({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function j6({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function w6({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function k6(e){return e!==null&&typeof e=="object"?e.valueOf():e}function C6(e=Zo){if(e===Zo)return U_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function U_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const z6=Math.sqrt(50),_6=Math.sqrt(10),T6=Math.sqrt(2);function pf(e,t,n){const i=(t-e)/Math.max(0,n),l=Math.floor(Math.log10(i)),c=i/Math.pow(10,l),d=c>=z6?10:c>=_6?5:c>=T6?2:1;let p,m,g;return l<0?(g=Math.pow(10,-l)/d,p=Math.round(e*g),m=Math.round(t*g),p/g<e&&++p,m/g>t&&--m,g=-g):(g=Math.pow(10,l)*d,p=Math.round(e/g),m=Math.round(t/g),p*g<e&&++p,m*g>t&&--m),m<p&&.5<=n&&n<2?pf(e,t,n*2):[p,m,g]}function Yy(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[l,c,d]=i?pf(t,e,n):pf(e,t,n);if(!(c>=l))return[];const p=c-l+1,m=new Array(p);if(i)if(d<0)for(let g=0;g<p;++g)m[g]=(c-g)/-d;else for(let g=0;g<p;++g)m[g]=(c-g)*d;else if(d<0)for(let g=0;g<p;++g)m[g]=(l+g)/-d;else for(let g=0;g<p;++g)m[g]=(l+g)*d;return m}function Vy(e,t,n){return t=+t,e=+e,n=+n,pf(e,t,n)[2]}function Gy(e,t,n){t=+t,e=+e,n=+n;const i=t<e,l=i?Vy(t,e,n):Vy(e,t,n);return(i?-1:1)*(l<0?1/-l:l)}function $k(e,t){let n;for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function Pk(e,t){let n;for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function H_(e,t,n=0,i=1/0,l){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(l=l===void 0?U_:C6(l);i>n;){if(i-n>600){const m=i-n+1,g=t-n+1,h=Math.log(m),x=.5*Math.exp(2*h/3),S=.5*Math.sqrt(h*x*(m-x)/m)*(g-m/2<0?-1:1),j=Math.max(n,Math.floor(t-g*x/m+S)),k=Math.min(i,Math.floor(t+(m-g)*x/m+S));H_(e,t,j,k,l)}const c=e[t];let d=n,p=i;for(nc(e,n,t),l(e[i],c)>0&&nc(e,n,i);d<p;){for(nc(e,d,p),++d,--p;l(e[d],c)<0;)++d;for(;l(e[p],c)>0;)--p}l(e[n],c)===0?nc(e,n,p):(++p,nc(e,p,i)),p<=t&&(n=p+1),t<=p&&(i=p-1)}return e}function nc(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function A6(e,t,n){if(e=Float64Array.from(b6(e)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return Pk(e);if(t>=1)return $k(e);var i,l=(i-1)*t,c=Math.floor(l),d=$k(H_(e,c).subarray(0,c+1)),p=Pk(e.subarray(c+1));return d+(p-d)*(l-c)}}function E6(e,t,n=q_){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,l=(i-1)*t,c=Math.floor(l),d=+n(e[c],c,e),p=+n(e[c+1],c+1,e);return d+(p-d)*(l-c)}}function O6(e,t,n){e=+e,t=+t,n=(l=arguments.length)<2?(t=e,e=0,1):l<3?1:+n;for(var i=-1,l=Math.max(0,Math.ceil((t-e)/n))|0,c=new Array(l);++i<l;)c[i]=e+i*n;return c}function oi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function bo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Xy=Symbol("implicit");function av(){var e=new Rk,t=[],n=[],i=Xy;function l(c){let d=e.get(c);if(d===void 0){if(i!==Xy)return i;e.set(c,d=t.push(c)-1)}return n[d%n.length]}return l.domain=function(c){if(!arguments.length)return t.slice();t=[],e=new Rk;for(const d of c)e.has(d)||e.set(d,t.push(d)-1);return l},l.range=function(c){return arguments.length?(n=Array.from(c),l):n.slice()},l.unknown=function(c){return arguments.length?(i=c,l):i},l.copy=function(){return av(t,n).unknown(i)},oi.apply(l,arguments),l}function sv(){var e=av().unknown(void 0),t=e.domain,n=e.range,i=0,l=1,c,d,p=!1,m=0,g=0,h=.5;delete e.unknown;function x(){var S=t().length,j=l<i,k=j?l:i,w=j?i:l;c=(w-k)/Math.max(1,S-m+g*2),p&&(c=Math.floor(c)),k+=(w-k-c*(S-m))*h,d=c*(1-m),p&&(k=Math.round(k),d=Math.round(d));var C=O6(S).map(function(z){return k+c*z});return n(j?C.reverse():C)}return e.domain=function(S){return arguments.length?(t(S),x()):t()},e.range=function(S){return arguments.length?([i,l]=S,i=+i,l=+l,x()):[i,l]},e.rangeRound=function(S){return[i,l]=S,i=+i,l=+l,p=!0,x()},e.bandwidth=function(){return d},e.step=function(){return c},e.round=function(S){return arguments.length?(p=!!S,x()):p},e.padding=function(S){return arguments.length?(m=Math.min(1,g=+S),x()):m},e.paddingInner=function(S){return arguments.length?(m=Math.min(1,S),x()):m},e.paddingOuter=function(S){return arguments.length?(g=+S,x()):g},e.align=function(S){return arguments.length?(h=Math.max(0,Math.min(1,S)),x()):h},e.copy=function(){return sv(t(),[i,l]).round(p).paddingInner(m).paddingOuter(g).align(h)},oi.apply(x(),arguments)}function F_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return F_(t())},e}function M6(){return F_(sv.apply(null,arguments).paddingInner(1))}function lv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function K_(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Uc(){}var kc=.7,gf=1/kc,Ps="\\s*([+-]?\\d+)\\s*",Cc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",R6=/^#([0-9a-f]{3,8})$/,D6=new RegExp(`^rgb\\(${Ps},${Ps},${Ps}\\)$`),$6=new RegExp(`^rgb\\(${Ri},${Ri},${Ri}\\)$`),P6=new RegExp(`^rgba\\(${Ps},${Ps},${Ps},${Cc}\\)$`),N6=new RegExp(`^rgba\\(${Ri},${Ri},${Ri},${Cc}\\)$`),L6=new RegExp(`^hsl\\(${Cc},${Ri},${Ri}\\)$`),W6=new RegExp(`^hsla\\(${Cc},${Ri},${Ri},${Cc}\\)$`),Nk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lv(Uc,zc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Lk,formatHex:Lk,formatHex8:B6,formatHsl:I6,formatRgb:Wk,toString:Wk});function Lk(){return this.rgb().formatHex()}function B6(){return this.rgb().formatHex8()}function I6(){return Y_(this).formatHsl()}function Wk(){return this.rgb().formatRgb()}function zc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=R6.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Bk(t):n===3?new hn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?zd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?zd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=D6.exec(e))?new hn(t[1],t[2],t[3],1):(t=$6.exec(e))?new hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=P6.exec(e))?zd(t[1],t[2],t[3],t[4]):(t=N6.exec(e))?zd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=L6.exec(e))?Uk(t[1],t[2]/100,t[3]/100,1):(t=W6.exec(e))?Uk(t[1],t[2]/100,t[3]/100,t[4]):Nk.hasOwnProperty(e)?Bk(Nk[e]):e==="transparent"?new hn(NaN,NaN,NaN,0):null}function Bk(e){return new hn(e>>16&255,e>>8&255,e&255,1)}function zd(e,t,n,i){return i<=0&&(e=t=n=NaN),new hn(e,t,n,i)}function q6(e){return e instanceof Uc||(e=zc(e)),e?(e=e.rgb(),new hn(e.r,e.g,e.b,e.opacity)):new hn}function Qy(e,t,n,i){return arguments.length===1?q6(e):new hn(e,t,n,i??1)}function hn(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}lv(hn,Qy,K_(Uc,{brighter(e){return e=e==null?gf:Math.pow(gf,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kc:Math.pow(kc,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hn(Wa(this.r),Wa(this.g),Wa(this.b),mf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ik,formatHex:Ik,formatHex8:U6,formatRgb:qk,toString:qk}));function Ik(){return`#${Da(this.r)}${Da(this.g)}${Da(this.b)}`}function U6(){return`#${Da(this.r)}${Da(this.g)}${Da(this.b)}${Da((isNaN(this.opacity)?1:this.opacity)*255)}`}function qk(){const e=mf(this.opacity);return`${e===1?"rgb(":"rgba("}${Wa(this.r)}, ${Wa(this.g)}, ${Wa(this.b)}${e===1?")":`, ${e})`}`}function mf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Da(e){return e=Wa(e),(e<16?"0":"")+e.toString(16)}function Uk(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mi(e,t,n,i)}function Y_(e){if(e instanceof mi)return new mi(e.h,e.s,e.l,e.opacity);if(e instanceof Uc||(e=zc(e)),!e)return new mi;if(e instanceof mi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,l=Math.min(t,n,i),c=Math.max(t,n,i),d=NaN,p=c-l,m=(c+l)/2;return p?(t===c?d=(n-i)/p+(n<i)*6:n===c?d=(i-t)/p+2:d=(t-n)/p+4,p/=m<.5?c+l:2-c-l,d*=60):p=m>0&&m<1?0:d,new mi(d,p,m,e.opacity)}function H6(e,t,n,i){return arguments.length===1?Y_(e):new mi(e,t,n,i??1)}function mi(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}lv(mi,H6,K_(Uc,{brighter(e){return e=e==null?gf:Math.pow(gf,e),new mi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kc:Math.pow(kc,e),new mi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,l=2*n-i;return new hn(Uh(e>=240?e-240:e+120,l,i),Uh(e,l,i),Uh(e<120?e+240:e-120,l,i),this.opacity)},clamp(){return new mi(Hk(this.h),_d(this.s),_d(this.l),mf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mf(this.opacity);return`${e===1?"hsl(":"hsla("}${Hk(this.h)}, ${_d(this.s)*100}%, ${_d(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Hk(e){return e=(e||0)%360,e<0?e+360:e}function _d(e){return Math.max(0,Math.min(1,e||0))}function Uh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const cv=e=>()=>e;function F6(e,t){return function(n){return e+n*t}}function K6(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Y6(e){return(e=+e)==1?V_:function(t,n){return n-t?K6(t,n,e):cv(isNaN(t)?n:t)}}function V_(e,t){var n=t-e;return n?F6(e,n):cv(isNaN(e)?t:e)}const Fk=(function e(t){var n=Y6(t);function i(l,c){var d=n((l=Qy(l)).r,(c=Qy(c)).r),p=n(l.g,c.g),m=n(l.b,c.b),g=V_(l.opacity,c.opacity);return function(h){return l.r=d(h),l.g=p(h),l.b=m(h),l.opacity=g(h),l+""}}return i.gamma=e,i})(1);function V6(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),l;return function(c){for(l=0;l<n;++l)i[l]=e[l]*(1-c)+t[l]*c;return i}}function G6(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function X6(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,l=new Array(i),c=new Array(n),d;for(d=0;d<i;++d)l[d]=el(e[d],t[d]);for(;d<n;++d)c[d]=t[d];return function(p){for(d=0;d<i;++d)c[d]=l[d](p);return c}}function Q6(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function hf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Z6(e,t){var n={},i={},l;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(l in t)l in e?n[l]=el(e[l],t[l]):i[l]=t[l];return function(c){for(l in n)i[l]=n[l](c);return i}}var Zy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hh=new RegExp(Zy.source,"g");function J6(e){return function(){return e}}function eN(e){return function(t){return e(t)+""}}function tN(e,t){var n=Zy.lastIndex=Hh.lastIndex=0,i,l,c,d=-1,p=[],m=[];for(e=e+"",t=t+"";(i=Zy.exec(e))&&(l=Hh.exec(t));)(c=l.index)>n&&(c=t.slice(n,c),p[d]?p[d]+=c:p[++d]=c),(i=i[0])===(l=l[0])?p[d]?p[d]+=l:p[++d]=l:(p[++d]=null,m.push({i:d,x:hf(i,l)})),n=Hh.lastIndex;return n<t.length&&(c=t.slice(n),p[d]?p[d]+=c:p[++d]=c),p.length<2?m[0]?eN(m[0].x):J6(t):(t=m.length,function(g){for(var h=0,x;h<t;++h)p[(x=m[h]).i]=x.x(g);return p.join("")})}function el(e,t){var n=typeof t,i;return t==null||n==="boolean"?cv(t):(n==="number"?hf:n==="string"?(i=zc(t))?(t=i,Fk):tN:t instanceof zc?Fk:t instanceof Date?Q6:G6(t)?V6:Array.isArray(t)?X6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Z6:hf)(e,t)}function uv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function rN(e,t){t===void 0&&(t=e,e=el);for(var n=0,i=t.length-1,l=t[0],c=new Array(i<0?0:i);n<i;)c[n]=e(l,l=t[++n]);return function(d){var p=Math.max(0,Math.min(i-1,Math.floor(d*=i)));return c[p](d-p)}}function nN(e){return function(){return e}}function yf(e){return+e}var Kk=[0,1];function on(e){return e}function Jy(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:nN(isNaN(t)?NaN:.5)}function iN(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function oN(e,t,n){var i=e[0],l=e[1],c=t[0],d=t[1];return l<i?(i=Jy(l,i),c=n(d,c)):(i=Jy(i,l),c=n(c,d)),function(p){return c(i(p))}}function aN(e,t,n){var i=Math.min(e.length,t.length)-1,l=new Array(i),c=new Array(i),d=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++d<i;)l[d]=Jy(e[d],e[d+1]),c[d]=n(t[d],t[d+1]);return function(p){var m=qc(e,p,1,i)-1;return c[m](l[m](p))}}function Hc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function np(){var e=Kk,t=Kk,n=el,i,l,c,d=on,p,m,g;function h(){var S=Math.min(e.length,t.length);return d!==on&&(d=iN(e[0],e[S-1])),p=S>2?aN:oN,m=g=null,x}function x(S){return S==null||isNaN(S=+S)?c:(m||(m=p(e.map(i),t,n)))(i(d(S)))}return x.invert=function(S){return d(l((g||(g=p(t,e.map(i),hf)))(S)))},x.domain=function(S){return arguments.length?(e=Array.from(S,yf),h()):e.slice()},x.range=function(S){return arguments.length?(t=Array.from(S),h()):t.slice()},x.rangeRound=function(S){return t=Array.from(S),n=uv,h()},x.clamp=function(S){return arguments.length?(d=S?!0:on,h()):d!==on},x.interpolate=function(S){return arguments.length?(n=S,h()):n},x.unknown=function(S){return arguments.length?(c=S,x):c},function(S,j){return i=S,l=j,h()}}function dv(){return np()(on,on)}function sN(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Is(e){return e=xf(Math.abs(e)),e?e[1]:NaN}function lN(e,t){return function(n,i){for(var l=n.length,c=[],d=0,p=e[0],m=0;l>0&&p>0&&(m+p+1>i&&(p=Math.max(1,i-m)),c.push(n.substring(l-=p,l+p)),!((m+=p+1)>i));)p=e[d=(d+1)%e.length];return c.reverse().join(t)}}function cN(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var uN=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _c(e){if(!(t=uN.exec(e)))throw new Error("invalid format: "+e);var t;return new fv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_c.prototype=fv.prototype;function fv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dN(e){e:for(var t=e.length,n=1,i=-1,l;n<t;++n)switch(e[n]){case".":i=l=n;break;case"0":i===0&&(i=n),l=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(l+1):e}var G_;function fN(e,t){var n=xf(e,t);if(!n)return e+"";var i=n[0],l=n[1],c=l-(G_=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,d=i.length;return c===d?i:c>d?i+new Array(c-d+1).join("0"):c>0?i.slice(0,c)+"."+i.slice(c):"0."+new Array(1-c).join("0")+xf(e,Math.max(0,t+c-1))[0]}function Yk(e,t){var n=xf(e,t);if(!n)return e+"";var i=n[0],l=n[1];return l<0?"0."+new Array(-l).join("0")+i:i.length>l+1?i.slice(0,l+1)+"."+i.slice(l+1):i+new Array(l-i.length+2).join("0")}const Vk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:sN,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Yk(e*100,t),r:Yk,s:fN,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Gk(e){return e}var Xk=Array.prototype.map,Qk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pN(e){var t=e.grouping===void 0||e.thousands===void 0?Gk:lN(Xk.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",l=e.decimal===void 0?".":e.decimal+"",c=e.numerals===void 0?Gk:cN(Xk.call(e.numerals,String)),d=e.percent===void 0?"%":e.percent+"",p=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function g(x){x=_c(x);var S=x.fill,j=x.align,k=x.sign,w=x.symbol,C=x.zero,z=x.width,E=x.comma,A=x.precision,$=x.trim,T=x.type;T==="n"?(E=!0,T="g"):Vk[T]||(A===void 0&&(A=12),$=!0,T="g"),(C||S==="0"&&j==="=")&&(C=!0,S="0",j="=");var D=w==="$"?n:w==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",R=w==="$"?i:/[%p]/.test(T)?d:"",F=Vk[T],U=/[defgprs%]/.test(T);A=A===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function le(X){var ae=D,ye=R,pe,_e,B;if(T==="c")ye=F(X)+ye,X="";else{X=+X;var Z=X<0||1/X<0;if(X=isNaN(X)?m:F(Math.abs(X),A),$&&(X=dN(X)),Z&&+X==0&&k!=="+"&&(Z=!1),ae=(Z?k==="("?k:p:k==="-"||k==="("?"":k)+ae,ye=(T==="s"?Qk[8+G_/3]:"")+ye+(Z&&k==="("?")":""),U){for(pe=-1,_e=X.length;++pe<_e;)if(B=X.charCodeAt(pe),48>B||B>57){ye=(B===46?l+X.slice(pe+1):X.slice(pe))+ye,X=X.slice(0,pe);break}}}E&&!C&&(X=t(X,1/0));var ce=ae.length+X.length+ye.length,Ce=ce<z?new Array(z-ce+1).join(S):"";switch(E&&C&&(X=t(Ce+X,Ce.length?z-ye.length:1/0),Ce=""),j){case"<":X=ae+X+ye+Ce;break;case"=":X=ae+Ce+X+ye;break;case"^":X=Ce.slice(0,ce=Ce.length>>1)+ae+X+ye+Ce.slice(ce);break;default:X=Ce+ae+X+ye;break}return c(X)}return le.toString=function(){return x+""},le}function h(x,S){var j=g((x=_c(x),x.type="f",x)),k=Math.max(-8,Math.min(8,Math.floor(Is(S)/3)))*3,w=Math.pow(10,-k),C=Qk[8+k/3];return function(z){return j(w*z)+C}}return{format:g,formatPrefix:h}}var Td,pv,X_;gN({thousands:",",grouping:[3],currency:["$",""]});function gN(e){return Td=pN(e),pv=Td.format,X_=Td.formatPrefix,Td}function mN(e){return Math.max(0,-Is(Math.abs(e)))}function hN(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Is(t)/3)))*3-Is(Math.abs(e)))}function yN(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Is(t)-Is(e))+1}function Q_(e,t,n,i){var l=Gy(e,t,n),c;switch(i=_c(i??",f"),i.type){case"s":{var d=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(c=hN(l,d))&&(i.precision=c),X_(i,d)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(c=yN(l,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=c-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(c=mN(l))&&(i.precision=c-(i.type==="%")*2);break}}return pv(i)}function la(e){var t=e.domain;return e.ticks=function(n){var i=t();return Yy(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var l=t();return Q_(l[0],l[l.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),l=0,c=i.length-1,d=i[l],p=i[c],m,g,h=10;for(p<d&&(g=d,d=p,p=g,g=l,l=c,c=g);h-- >0;){if(g=Vy(d,p,n),g===m)return i[l]=d,i[c]=p,t(i);if(g>0)d=Math.floor(d/g)*g,p=Math.ceil(p/g)*g;else if(g<0)d=Math.ceil(d*g)/g,p=Math.floor(p*g)/g;else break;m=g}return e},e}function Z_(){var e=dv();return e.copy=function(){return Hc(e,Z_())},oi.apply(e,arguments),la(e)}function J_(e){var t;function n(i){return i==null||isNaN(i=+i)?t:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(e=Array.from(i,yf),n):e.slice()},n.unknown=function(i){return arguments.length?(t=i,n):t},n.copy=function(){return J_(e).unknown(t)},e=arguments.length?Array.from(e,yf):[0,1],la(n)}function eT(e,t){e=e.slice();var n=0,i=e.length-1,l=e[n],c=e[i],d;return c<l&&(d=n,n=i,i=d,d=l,l=c,c=d),e[n]=t.floor(l),e[i]=t.ceil(c),e}function Zk(e){return Math.log(e)}function Jk(e){return Math.exp(e)}function xN(e){return-Math.log(-e)}function vN(e){return-Math.exp(-e)}function bN(e){return isFinite(e)?+("1e"+e):e<0?0:e}function SN(e){return e===10?bN:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jN(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function eC(e){return(t,n)=>-e(-t,n)}function gv(e){const t=e(Zk,Jk),n=t.domain;let i=10,l,c;function d(){return l=jN(i),c=SN(i),n()[0]<0?(l=eC(l),c=eC(c),e(xN,vN)):e(Zk,Jk),t}return t.base=function(p){return arguments.length?(i=+p,d()):i},t.domain=function(p){return arguments.length?(n(p),d()):n()},t.ticks=p=>{const m=n();let g=m[0],h=m[m.length-1];const x=h<g;x&&([g,h]=[h,g]);let S=l(g),j=l(h),k,w;const C=p==null?10:+p;let z=[];if(!(i%1)&&j-S<C){if(S=Math.floor(S),j=Math.ceil(j),g>0){for(;S<=j;++S)for(k=1;k<i;++k)if(w=S<0?k/c(-S):k*c(S),!(w<g)){if(w>h)break;z.push(w)}}else for(;S<=j;++S)for(k=i-1;k>=1;--k)if(w=S>0?k/c(-S):k*c(S),!(w<g)){if(w>h)break;z.push(w)}z.length*2<C&&(z=Yy(g,h,C))}else z=Yy(S,j,Math.min(j-S,C)).map(c);return x?z.reverse():z},t.tickFormat=(p,m)=>{if(p==null&&(p=10),m==null&&(m=i===10?"s":","),typeof m!="function"&&(!(i%1)&&(m=_c(m)).precision==null&&(m.trim=!0),m=pv(m)),p===1/0)return m;const g=Math.max(1,i*p/t.ticks().length);return h=>{let x=h/c(Math.round(l(h)));return x*i<i-.5&&(x*=i),x<=g?m(h):""}},t.nice=()=>n(eT(n(),{floor:p=>c(Math.floor(l(p))),ceil:p=>c(Math.ceil(l(p)))})),t}function tT(){const e=gv(np()).domain([1,10]);return e.copy=()=>Hc(e,tT()).base(e.base()),oi.apply(e,arguments),e}function tC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function mv(e){var t=1,n=e(tC(t),rC(t));return n.constant=function(i){return arguments.length?e(tC(t=+i),rC(t)):t},la(n)}function rT(){var e=mv(np());return e.copy=function(){return Hc(e,rT()).constant(e.constant())},oi.apply(e,arguments)}function nC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wN(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function kN(e){return e<0?-e*e:e*e}function hv(e){var t=e(on,on),n=1;function i(){return n===1?e(on,on):n===.5?e(wN,kN):e(nC(n),nC(1/n))}return t.exponent=function(l){return arguments.length?(n=+l,i()):n},la(t)}function yv(){var e=hv(np());return e.copy=function(){return Hc(e,yv()).exponent(e.exponent())},oi.apply(e,arguments),e}function CN(){return yv.apply(null,arguments).exponent(.5)}function iC(e){return Math.sign(e)*e*e}function zN(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function nT(){var e=dv(),t=[0,1],n=!1,i;function l(c){var d=zN(e(c));return isNaN(d)?i:n?Math.round(d):d}return l.invert=function(c){return e.invert(iC(c))},l.domain=function(c){return arguments.length?(e.domain(c),l):e.domain()},l.range=function(c){return arguments.length?(e.range((t=Array.from(c,yf)).map(iC)),l):t.slice()},l.rangeRound=function(c){return l.range(c).round(!0)},l.round=function(c){return arguments.length?(n=!!c,l):n},l.clamp=function(c){return arguments.length?(e.clamp(c),l):e.clamp()},l.unknown=function(c){return arguments.length?(i=c,l):i},l.copy=function(){return nT(e.domain(),t).round(n).clamp(e.clamp()).unknown(i)},oi.apply(l,arguments),la(l)}function iT(){var e=[],t=[],n=[],i;function l(){var d=0,p=Math.max(1,t.length);for(n=new Array(p-1);++d<p;)n[d-1]=E6(e,d/p);return c}function c(d){return d==null||isNaN(d=+d)?i:t[qc(n,d)]}return c.invertExtent=function(d){var p=t.indexOf(d);return p<0?[NaN,NaN]:[p>0?n[p-1]:e[0],p<n.length?n[p]:e[e.length-1]]},c.domain=function(d){if(!arguments.length)return e.slice();e=[];for(let p of d)p!=null&&!isNaN(p=+p)&&e.push(p);return e.sort(Zo),l()},c.range=function(d){return arguments.length?(t=Array.from(d),l()):t.slice()},c.unknown=function(d){return arguments.length?(i=d,c):i},c.quantiles=function(){return n.slice()},c.copy=function(){return iT().domain(e).range(t).unknown(i)},oi.apply(c,arguments)}function oT(){var e=0,t=1,n=1,i=[.5],l=[0,1],c;function d(m){return m!=null&&m<=m?l[qc(i,m,0,n)]:c}function p(){var m=-1;for(i=new Array(n);++m<n;)i[m]=((m+1)*t-(m-n)*e)/(n+1);return d}return d.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,p()):[e,t]},d.range=function(m){return arguments.length?(n=(l=Array.from(m)).length-1,p()):l.slice()},d.invertExtent=function(m){var g=l.indexOf(m);return g<0?[NaN,NaN]:g<1?[e,i[0]]:g>=n?[i[n-1],t]:[i[g-1],i[g]]},d.unknown=function(m){return arguments.length&&(c=m),d},d.thresholds=function(){return i.slice()},d.copy=function(){return oT().domain([e,t]).range(l).unknown(c)},oi.apply(la(d),arguments)}function aT(){var e=[.5],t=[0,1],n,i=1;function l(c){return c!=null&&c<=c?t[qc(e,c,0,i)]:n}return l.domain=function(c){return arguments.length?(e=Array.from(c),i=Math.min(e.length,t.length-1),l):e.slice()},l.range=function(c){return arguments.length?(t=Array.from(c),i=Math.min(e.length,t.length-1),l):t.slice()},l.invertExtent=function(c){var d=t.indexOf(c);return[e[d-1],e[d]]},l.unknown=function(c){return arguments.length?(n=c,l):n},l.copy=function(){return aT().domain(e).range(t).unknown(n)},oi.apply(l,arguments)}const Fh=new Date,Kh=new Date;function Mr(e,t,n,i){function l(c){return e(c=arguments.length===0?new Date:new Date(+c)),c}return l.floor=c=>(e(c=new Date(+c)),c),l.ceil=c=>(e(c=new Date(c-1)),t(c,1),e(c),c),l.round=c=>{const d=l(c),p=l.ceil(c);return c-d<p-c?d:p},l.offset=(c,d)=>(t(c=new Date(+c),d==null?1:Math.floor(d)),c),l.range=(c,d,p)=>{const m=[];if(c=l.ceil(c),p=p==null?1:Math.floor(p),!(c<d)||!(p>0))return m;let g;do m.push(g=new Date(+c)),t(c,p),e(c);while(g<c&&c<d);return m},l.filter=c=>Mr(d=>{if(d>=d)for(;e(d),!c(d);)d.setTime(d-1)},(d,p)=>{if(d>=d)if(p<0)for(;++p<=0;)for(;t(d,-1),!c(d););else for(;--p>=0;)for(;t(d,1),!c(d););}),n&&(l.count=(c,d)=>(Fh.setTime(+c),Kh.setTime(+d),e(Fh),e(Kh),Math.floor(n(Fh,Kh))),l.every=c=>(c=Math.floor(c),!isFinite(c)||!(c>0)?null:c>1?l.filter(i?d=>i(d)%c===0:d=>l.count(0,d)%c===0):l)),l}const vf=Mr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Mr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):vf);vf.range;const oo=1e3,Jn=oo*60,ao=Jn*60,go=ao*24,xv=go*7,oC=go*30,Yh=go*365,$a=Mr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*oo)},(e,t)=>(t-e)/oo,e=>e.getUTCSeconds());$a.range;const vv=Mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oo)},(e,t)=>{e.setTime(+e+t*Jn)},(e,t)=>(t-e)/Jn,e=>e.getMinutes());vv.range;const bv=Mr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Jn)},(e,t)=>(t-e)/Jn,e=>e.getUTCMinutes());bv.range;const Sv=Mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oo-e.getMinutes()*Jn)},(e,t)=>{e.setTime(+e+t*ao)},(e,t)=>(t-e)/ao,e=>e.getHours());Sv.range;const jv=Mr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ao)},(e,t)=>(t-e)/ao,e=>e.getUTCHours());jv.range;const Fc=Mr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jn)/go,e=>e.getDate()-1);Fc.range;const ip=Mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/go,e=>e.getUTCDate()-1);ip.range;const sT=Mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/go,e=>Math.floor(e/go));sT.range;function Ga(e){return Mr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Jn)/xv)}const op=Ga(0),bf=Ga(1),_N=Ga(2),TN=Ga(3),qs=Ga(4),AN=Ga(5),EN=Ga(6);op.range;bf.range;_N.range;TN.range;qs.range;AN.range;EN.range;function Xa(e){return Mr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/xv)}const ap=Xa(0),Sf=Xa(1),ON=Xa(2),MN=Xa(3),Us=Xa(4),RN=Xa(5),DN=Xa(6);ap.range;Sf.range;ON.range;MN.range;Us.range;RN.range;DN.range;const wv=Mr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());wv.range;const kv=Mr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());kv.range;const mo=Mr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());mo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});mo.range;const ho=Mr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ho.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ho.range;function lT(e,t,n,i,l,c){const d=[[$a,1,oo],[$a,5,5*oo],[$a,15,15*oo],[$a,30,30*oo],[c,1,Jn],[c,5,5*Jn],[c,15,15*Jn],[c,30,30*Jn],[l,1,ao],[l,3,3*ao],[l,6,6*ao],[l,12,12*ao],[i,1,go],[i,2,2*go],[n,1,xv],[t,1,oC],[t,3,3*oC],[e,1,Yh]];function p(g,h,x){const S=h<g;S&&([g,h]=[h,g]);const j=x&&typeof x.range=="function"?x:m(g,h,x),k=j?j.range(g,+h+1):[];return S?k.reverse():k}function m(g,h,x){const S=Math.abs(h-g)/x,j=ov(([,,C])=>C).right(d,S);if(j===d.length)return e.every(Gy(g/Yh,h/Yh,x));if(j===0)return vf.every(Math.max(Gy(g,h,x),1));const[k,w]=d[S/d[j-1][2]<d[j][2]/S?j-1:j];return k.every(w)}return[p,m]}const[$N,PN]=lT(ho,kv,ap,sT,jv,bv),[NN,LN]=lT(mo,wv,op,Fc,Sv,vv);function Vh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ic(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function WN(e){var t=e.dateTime,n=e.date,i=e.time,l=e.periods,c=e.days,d=e.shortDays,p=e.months,m=e.shortMonths,g=oc(l),h=ac(l),x=oc(c),S=ac(c),j=oc(d),k=ac(d),w=oc(p),C=ac(p),z=oc(m),E=ac(m),A={a:Z,A:ce,b:Ce,B:Te,c:null,d:dC,e:dC,f:l8,g:x8,G:b8,H:o8,I:a8,j:s8,L:cT,m:c8,M:u8,p:W,q,Q:gC,s:mC,S:d8,u:f8,U:p8,V:g8,w:m8,W:h8,x:null,X:null,y:y8,Y:v8,Z:S8,"%":pC},$={a:re,A:be,b:xe,B:je,c:null,d:fC,e:fC,f:C8,g:$8,G:N8,H:j8,I:w8,j:k8,L:dT,m:z8,M:_8,p:G,q:de,Q:gC,s:mC,S:T8,u:A8,U:E8,V:O8,w:M8,W:R8,x:null,X:null,y:D8,Y:P8,Z:L8,"%":pC},T={a:le,A:X,b:ae,B:ye,c:pe,d:cC,e:cC,f:t8,g:lC,G:sC,H:uC,I:uC,j:QN,L:e8,m:XN,M:ZN,p:U,q:GN,Q:n8,s:i8,S:JN,u:HN,U:FN,V:KN,w:UN,W:YN,x:_e,X:B,y:lC,Y:sC,Z:VN,"%":r8};A.x=D(n,A),A.X=D(i,A),A.c=D(t,A),$.x=D(n,$),$.X=D(i,$),$.c=D(t,$);function D(ee,ze){return function(M){var P=[],ie=-1,ge=0,V=ee.length,Ae,Le,he;for(M instanceof Date||(M=new Date(+M));++ie<V;)ee.charCodeAt(ie)===37&&(P.push(ee.slice(ge,ie)),(Le=aC[Ae=ee.charAt(++ie)])!=null?Ae=ee.charAt(++ie):Le=Ae==="e"?" ":"0",(he=ze[Ae])&&(Ae=he(M,Le)),P.push(Ae),ge=ie+1);return P.push(ee.slice(ge,ie)),P.join("")}}function R(ee,ze){return function(M){var P=ic(1900,void 0,1),ie=F(P,ee,M+="",0),ge,V;if(ie!=M.length)return null;if("Q"in P)return new Date(P.Q);if("s"in P)return new Date(P.s*1e3+("L"in P?P.L:0));if(ze&&!("Z"in P)&&(P.Z=0),"p"in P&&(P.H=P.H%12+P.p*12),P.m===void 0&&(P.m="q"in P?P.q:0),"V"in P){if(P.V<1||P.V>53)return null;"w"in P||(P.w=1),"Z"in P?(ge=Gh(ic(P.y,0,1)),V=ge.getUTCDay(),ge=V>4||V===0?Sf.ceil(ge):Sf(ge),ge=ip.offset(ge,(P.V-1)*7),P.y=ge.getUTCFullYear(),P.m=ge.getUTCMonth(),P.d=ge.getUTCDate()+(P.w+6)%7):(ge=Vh(ic(P.y,0,1)),V=ge.getDay(),ge=V>4||V===0?bf.ceil(ge):bf(ge),ge=Fc.offset(ge,(P.V-1)*7),P.y=ge.getFullYear(),P.m=ge.getMonth(),P.d=ge.getDate()+(P.w+6)%7)}else("W"in P||"U"in P)&&("w"in P||(P.w="u"in P?P.u%7:"W"in P?1:0),V="Z"in P?Gh(ic(P.y,0,1)).getUTCDay():Vh(ic(P.y,0,1)).getDay(),P.m=0,P.d="W"in P?(P.w+6)%7+P.W*7-(V+5)%7:P.w+P.U*7-(V+6)%7);return"Z"in P?(P.H+=P.Z/100|0,P.M+=P.Z%100,Gh(P)):Vh(P)}}function F(ee,ze,M,P){for(var ie=0,ge=ze.length,V=M.length,Ae,Le;ie<ge;){if(P>=V)return-1;if(Ae=ze.charCodeAt(ie++),Ae===37){if(Ae=ze.charAt(ie++),Le=T[Ae in aC?ze.charAt(ie++):Ae],!Le||(P=Le(ee,M,P))<0)return-1}else if(Ae!=M.charCodeAt(P++))return-1}return P}function U(ee,ze,M){var P=g.exec(ze.slice(M));return P?(ee.p=h.get(P[0].toLowerCase()),M+P[0].length):-1}function le(ee,ze,M){var P=j.exec(ze.slice(M));return P?(ee.w=k.get(P[0].toLowerCase()),M+P[0].length):-1}function X(ee,ze,M){var P=x.exec(ze.slice(M));return P?(ee.w=S.get(P[0].toLowerCase()),M+P[0].length):-1}function ae(ee,ze,M){var P=z.exec(ze.slice(M));return P?(ee.m=E.get(P[0].toLowerCase()),M+P[0].length):-1}function ye(ee,ze,M){var P=w.exec(ze.slice(M));return P?(ee.m=C.get(P[0].toLowerCase()),M+P[0].length):-1}function pe(ee,ze,M){return F(ee,t,ze,M)}function _e(ee,ze,M){return F(ee,n,ze,M)}function B(ee,ze,M){return F(ee,i,ze,M)}function Z(ee){return d[ee.getDay()]}function ce(ee){return c[ee.getDay()]}function Ce(ee){return m[ee.getMonth()]}function Te(ee){return p[ee.getMonth()]}function W(ee){return l[+(ee.getHours()>=12)]}function q(ee){return 1+~~(ee.getMonth()/3)}function re(ee){return d[ee.getUTCDay()]}function be(ee){return c[ee.getUTCDay()]}function xe(ee){return m[ee.getUTCMonth()]}function je(ee){return p[ee.getUTCMonth()]}function G(ee){return l[+(ee.getUTCHours()>=12)]}function de(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var ze=D(ee+="",A);return ze.toString=function(){return ee},ze},parse:function(ee){var ze=R(ee+="",!1);return ze.toString=function(){return ee},ze},utcFormat:function(ee){var ze=D(ee+="",$);return ze.toString=function(){return ee},ze},utcParse:function(ee){var ze=R(ee+="",!0);return ze.toString=function(){return ee},ze}}}var aC={"-":"",_:" ",0:"0"},Nr=/^\s*\d+/,BN=/^%/,IN=/[\\^$*+?|[\]().{}]/g;function Ct(e,t,n){var i=e<0?"-":"",l=(i?-e:e)+"",c=l.length;return i+(c<n?new Array(n-c+1).join(t)+l:l)}function qN(e){return e.replace(IN,"\\$&")}function oc(e){return new RegExp("^(?:"+e.map(qN).join("|")+")","i")}function ac(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function UN(e,t,n){var i=Nr.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function HN(e,t,n){var i=Nr.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function FN(e,t,n){var i=Nr.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function KN(e,t,n){var i=Nr.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function YN(e,t,n){var i=Nr.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function sC(e,t,n){var i=Nr.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function lC(e,t,n){var i=Nr.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function VN(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function GN(e,t,n){var i=Nr.exec(t.slice(n,n+1));return i?(e.q=i[0]*3-3,n+i[0].length):-1}function XN(e,t,n){var i=Nr.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function cC(e,t,n){var i=Nr.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function QN(e,t,n){var i=Nr.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function uC(e,t,n){var i=Nr.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function ZN(e,t,n){var i=Nr.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function JN(e,t,n){var i=Nr.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function e8(e,t,n){var i=Nr.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function t8(e,t,n){var i=Nr.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function r8(e,t,n){var i=BN.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function n8(e,t,n){var i=Nr.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function i8(e,t,n){var i=Nr.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function dC(e,t){return Ct(e.getDate(),t,2)}function o8(e,t){return Ct(e.getHours(),t,2)}function a8(e,t){return Ct(e.getHours()%12||12,t,2)}function s8(e,t){return Ct(1+Fc.count(mo(e),e),t,3)}function cT(e,t){return Ct(e.getMilliseconds(),t,3)}function l8(e,t){return cT(e,t)+"000"}function c8(e,t){return Ct(e.getMonth()+1,t,2)}function u8(e,t){return Ct(e.getMinutes(),t,2)}function d8(e,t){return Ct(e.getSeconds(),t,2)}function f8(e){var t=e.getDay();return t===0?7:t}function p8(e,t){return Ct(op.count(mo(e)-1,e),t,2)}function uT(e){var t=e.getDay();return t>=4||t===0?qs(e):qs.ceil(e)}function g8(e,t){return e=uT(e),Ct(qs.count(mo(e),e)+(mo(e).getDay()===4),t,2)}function m8(e){return e.getDay()}function h8(e,t){return Ct(bf.count(mo(e)-1,e),t,2)}function y8(e,t){return Ct(e.getFullYear()%100,t,2)}function x8(e,t){return e=uT(e),Ct(e.getFullYear()%100,t,2)}function v8(e,t){return Ct(e.getFullYear()%1e4,t,4)}function b8(e,t){var n=e.getDay();return e=n>=4||n===0?qs(e):qs.ceil(e),Ct(e.getFullYear()%1e4,t,4)}function S8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ct(t/60|0,"0",2)+Ct(t%60,"0",2)}function fC(e,t){return Ct(e.getUTCDate(),t,2)}function j8(e,t){return Ct(e.getUTCHours(),t,2)}function w8(e,t){return Ct(e.getUTCHours()%12||12,t,2)}function k8(e,t){return Ct(1+ip.count(ho(e),e),t,3)}function dT(e,t){return Ct(e.getUTCMilliseconds(),t,3)}function C8(e,t){return dT(e,t)+"000"}function z8(e,t){return Ct(e.getUTCMonth()+1,t,2)}function _8(e,t){return Ct(e.getUTCMinutes(),t,2)}function T8(e,t){return Ct(e.getUTCSeconds(),t,2)}function A8(e){var t=e.getUTCDay();return t===0?7:t}function E8(e,t){return Ct(ap.count(ho(e)-1,e),t,2)}function fT(e){var t=e.getUTCDay();return t>=4||t===0?Us(e):Us.ceil(e)}function O8(e,t){return e=fT(e),Ct(Us.count(ho(e),e)+(ho(e).getUTCDay()===4),t,2)}function M8(e){return e.getUTCDay()}function R8(e,t){return Ct(Sf.count(ho(e)-1,e),t,2)}function D8(e,t){return Ct(e.getUTCFullYear()%100,t,2)}function $8(e,t){return e=fT(e),Ct(e.getUTCFullYear()%100,t,2)}function P8(e,t){return Ct(e.getUTCFullYear()%1e4,t,4)}function N8(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Us(e):Us.ceil(e),Ct(e.getUTCFullYear()%1e4,t,4)}function L8(){return"+0000"}function pC(){return"%"}function gC(e){return+e}function mC(e){return Math.floor(+e/1e3)}var Ms,pT,gT;W8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function W8(e){return Ms=WN(e),pT=Ms.format,Ms.parse,gT=Ms.utcFormat,Ms.utcParse,Ms}function B8(e){return new Date(e)}function I8(e){return e instanceof Date?+e:+new Date(+e)}function Cv(e,t,n,i,l,c,d,p,m,g){var h=dv(),x=h.invert,S=h.domain,j=g(".%L"),k=g(":%S"),w=g("%I:%M"),C=g("%I %p"),z=g("%a %d"),E=g("%b %d"),A=g("%B"),$=g("%Y");function T(D){return(m(D)<D?j:p(D)<D?k:d(D)<D?w:c(D)<D?C:i(D)<D?l(D)<D?z:E:n(D)<D?A:$)(D)}return h.invert=function(D){return new Date(x(D))},h.domain=function(D){return arguments.length?S(Array.from(D,I8)):S().map(B8)},h.ticks=function(D){var R=S();return e(R[0],R[R.length-1],D??10)},h.tickFormat=function(D,R){return R==null?T:g(R)},h.nice=function(D){var R=S();return(!D||typeof D.range!="function")&&(D=t(R[0],R[R.length-1],D??10)),D?S(eT(R,D)):h},h.copy=function(){return Hc(h,Cv(e,t,n,i,l,c,d,p,m,g))},h}function q8(){return oi.apply(Cv(NN,LN,mo,wv,op,Fc,Sv,vv,$a,pT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function U8(){return oi.apply(Cv($N,PN,ho,kv,ap,ip,jv,bv,$a,gT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sp(){var e=0,t=1,n,i,l,c,d=on,p=!1,m;function g(x){return x==null||isNaN(x=+x)?m:d(l===0?.5:(x=(c(x)-n)*l,p?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([e,t]=x,n=c(e=+e),i=c(t=+t),l=n===i?0:1/(i-n),g):[e,t]},g.clamp=function(x){return arguments.length?(p=!!x,g):p},g.interpolator=function(x){return arguments.length?(d=x,g):d};function h(x){return function(S){var j,k;return arguments.length?([j,k]=S,d=x(j,k),g):[d(0),d(1)]}}return g.range=h(el),g.rangeRound=h(uv),g.unknown=function(x){return arguments.length?(m=x,g):m},function(x){return c=x,n=x(e),i=x(t),l=n===i?0:1/(i-n),g}}function ca(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mT(){var e=la(sp()(on));return e.copy=function(){return ca(e,mT())},bo.apply(e,arguments)}function hT(){var e=gv(sp()).domain([1,10]);return e.copy=function(){return ca(e,hT()).base(e.base())},bo.apply(e,arguments)}function yT(){var e=mv(sp());return e.copy=function(){return ca(e,yT()).constant(e.constant())},bo.apply(e,arguments)}function zv(){var e=hv(sp());return e.copy=function(){return ca(e,zv()).exponent(e.exponent())},bo.apply(e,arguments)}function H8(){return zv.apply(null,arguments).exponent(.5)}function xT(){var e=[],t=on;function n(i){if(i!=null&&!isNaN(i=+i))return t((qc(e,i,1)-1)/(e.length-1))}return n.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Zo),n},n.interpolator=function(i){return arguments.length?(t=i,n):t},n.range=function(){return e.map((i,l)=>t(l/(e.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(l,c)=>A6(e,c/i))},n.copy=function(){return xT(t).domain(e)},bo.apply(n,arguments)}function lp(){var e=0,t=.5,n=1,i=1,l,c,d,p,m,g=on,h,x=!1,S;function j(w){return isNaN(w=+w)?S:(w=.5+((w=+h(w))-c)*(i*w<i*c?p:m),g(x?Math.max(0,Math.min(1,w)):w))}j.domain=function(w){return arguments.length?([e,t,n]=w,l=h(e=+e),c=h(t=+t),d=h(n=+n),p=l===c?0:.5/(c-l),m=c===d?0:.5/(d-c),i=c<l?-1:1,j):[e,t,n]},j.clamp=function(w){return arguments.length?(x=!!w,j):x},j.interpolator=function(w){return arguments.length?(g=w,j):g};function k(w){return function(C){var z,E,A;return arguments.length?([z,E,A]=C,g=rN(w,[z,E,A]),j):[g(0),g(.5),g(1)]}}return j.range=k(el),j.rangeRound=k(uv),j.unknown=function(w){return arguments.length?(S=w,j):S},function(w){return h=w,l=w(e),c=w(t),d=w(n),p=l===c?0:.5/(c-l),m=c===d?0:.5/(d-c),i=c<l?-1:1,j}}function vT(){var e=la(lp()(on));return e.copy=function(){return ca(e,vT())},bo.apply(e,arguments)}function bT(){var e=gv(lp()).domain([.1,1,10]);return e.copy=function(){return ca(e,bT()).base(e.base())},bo.apply(e,arguments)}function ST(){var e=mv(lp());return e.copy=function(){return ca(e,ST()).constant(e.constant())},bo.apply(e,arguments)}function _v(){var e=hv(lp());return e.copy=function(){return ca(e,_v()).exponent(e.exponent())},bo.apply(e,arguments)}function F8(){return _v.apply(null,arguments).exponent(.5)}const fc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sv,scaleDiverging:vT,scaleDivergingLog:bT,scaleDivergingPow:_v,scaleDivergingSqrt:F8,scaleDivergingSymlog:ST,scaleIdentity:J_,scaleImplicit:Xy,scaleLinear:Z_,scaleLog:tT,scaleOrdinal:av,scalePoint:M6,scalePow:yv,scaleQuantile:iT,scaleQuantize:oT,scaleRadial:nT,scaleSequential:mT,scaleSequentialLog:hT,scaleSequentialPow:zv,scaleSequentialQuantile:xT,scaleSequentialSqrt:H8,scaleSequentialSymlog:yT,scaleSqrt:CN,scaleSymlog:rT,scaleThreshold:aT,scaleTime:q8,scaleUtc:U8,tickFormat:Q_},Symbol.toStringTag,{value:"Module"}));var ua=e=>e.chartData,Tv=ue([ua],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),cp=(e,t,n,i)=>i?Tv(e):ua(e);function Hs(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Nn(t)&&Nn(n))return!0}return!1}function hC(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function K8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,i]=e,l,c;if(Nn(n))l=n;else if(typeof n=="function")return;if(Nn(i))c=i;else if(typeof i=="function")return;var d=[l,c];if(Hs(d))return d}}function Y8(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var i=e(t,n);if(Hs(i))return hC(i,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[l,c]=e,d,p;if(l==="auto")t!=null&&(d=Math.min(...t));else if(Ge(l))d=l;else if(typeof l=="function")try{t!=null&&(d=l(t?.[0]))}catch{}else if(typeof l=="string"&&ak.test(l)){var m=ak.exec(l);if(m==null||t==null)d=void 0;else{var g=+m[1];d=t[0]-g}}else d=t?.[0];if(c==="auto")t!=null&&(p=Math.max(...t));else if(Ge(c))p=c;else if(typeof c=="function")try{t!=null&&(p=c(t?.[1]))}catch{}else if(typeof c=="string"&&sk.test(c)){var h=sk.exec(c);if(h==null||t==null)p=void 0;else{var x=+h[1];p=t[1]+x}}else p=t?.[1];var S=[d,p];if(Hs(S))return t==null?S:hC(S,t,n)}}}var tl=1e9,V8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ev,rr=!0,ni="[DecimalError] ",Ba=ni+"Invalid argument: ",Av=ni+"Exponent out of range: ",rl=Math.floor,Oa=Math.pow,G8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,On,$r=1e7,Qt=7,jT=9007199254740991,jf=rl(jT/Qt),Be={};Be.absoluteValue=Be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Be.comparedTo=Be.cmp=function(e){var t,n,i,l,c=this;if(e=new c.constructor(e),c.s!==e.s)return c.s||-e.s;if(c.e!==e.e)return c.e>e.e^c.s<0?1:-1;for(i=c.d.length,l=e.d.length,t=0,n=i<l?i:l;t<n;++t)if(c.d[t]!==e.d[t])return c.d[t]>e.d[t]^c.s<0?1:-1;return i===l?0:i>l^c.s<0?1:-1};Be.decimalPlaces=Be.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Qt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Be.dividedBy=Be.div=function(e){return co(this,new this.constructor(e))};Be.dividedToIntegerBy=Be.idiv=function(e){var t=this,n=t.constructor;return Ht(co(t,new n(e),0,1),n.precision)};Be.equals=Be.eq=function(e){return!this.cmp(e)};Be.exponent=function(){return Cr(this)};Be.greaterThan=Be.gt=function(e){return this.cmp(e)>0};Be.greaterThanOrEqualTo=Be.gte=function(e){return this.cmp(e)>=0};Be.isInteger=Be.isint=function(){return this.e>this.d.length-2};Be.isNegative=Be.isneg=function(){return this.s<0};Be.isPositive=Be.ispos=function(){return this.s>0};Be.isZero=function(){return this.s===0};Be.lessThan=Be.lt=function(e){return this.cmp(e)<0};Be.lessThanOrEqualTo=Be.lte=function(e){return this.cmp(e)<1};Be.logarithm=Be.log=function(e){var t,n=this,i=n.constructor,l=i.precision,c=l+5;if(e===void 0)e=new i(10);else if(e=new i(e),e.s<1||e.eq(On))throw Error(ni+"NaN");if(n.s<1)throw Error(ni+(n.s?"NaN":"-Infinity"));return n.eq(On)?new i(0):(rr=!1,t=co(Tc(n,c),Tc(e,c),c),rr=!0,Ht(t,l))};Be.minus=Be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CT(t,e):wT(t,(e.s=-e.s,e))};Be.modulo=Be.mod=function(e){var t,n=this,i=n.constructor,l=i.precision;if(e=new i(e),!e.s)throw Error(ni+"NaN");return n.s?(rr=!1,t=co(n,e,0,1).times(e),rr=!0,n.minus(t)):Ht(new i(n),l)};Be.naturalExponential=Be.exp=function(){return kT(this)};Be.naturalLogarithm=Be.ln=function(){return Tc(this)};Be.negated=Be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Be.plus=Be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wT(t,e):CT(t,(e.s=-e.s,e))};Be.precision=Be.sd=function(e){var t,n,i,l=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ba+e);if(t=Cr(l)+1,i=l.d.length-1,n=i*Qt+1,i=l.d[i],i){for(;i%10==0;i/=10)n--;for(i=l.d[0];i>=10;i/=10)n++}return e&&t>n?t:n};Be.squareRoot=Be.sqrt=function(){var e,t,n,i,l,c,d,p=this,m=p.constructor;if(p.s<1){if(!p.s)return new m(0);throw Error(ni+"NaN")}for(e=Cr(p),rr=!1,l=Math.sqrt(+p),l==0||l==1/0?(t=Oi(p.d),(t.length+e)%2==0&&(t+="0"),l=Math.sqrt(t),e=rl((e+1)/2)-(e<0||e%2),l==1/0?t="5e"+e:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),i=new m(t)):i=new m(l.toString()),n=m.precision,l=d=n+3;;)if(c=i,i=c.plus(co(p,c,d+2)).times(.5),Oi(c.d).slice(0,d)===(t=Oi(i.d)).slice(0,d)){if(t=t.slice(d-3,d+1),l==d&&t=="4999"){if(Ht(c,n+1,0),c.times(c).eq(p)){i=c;break}}else if(t!="9999")break;d+=4}return rr=!0,Ht(i,n)};Be.times=Be.mul=function(e){var t,n,i,l,c,d,p,m,g,h=this,x=h.constructor,S=h.d,j=(e=new x(e)).d;if(!h.s||!e.s)return new x(0);for(e.s*=h.s,n=h.e+e.e,m=S.length,g=j.length,m<g&&(c=S,S=j,j=c,d=m,m=g,g=d),c=[],d=m+g,i=d;i--;)c.push(0);for(i=g;--i>=0;){for(t=0,l=m+i;l>i;)p=c[l]+j[i]*S[l-i-1]+t,c[l--]=p%$r|0,t=p/$r|0;c[l]=(c[l]+t)%$r|0}for(;!c[--d];)c.pop();return t?++n:c.shift(),e.d=c,e.e=n,rr?Ht(e,x.precision):e};Be.toDecimalPlaces=Be.todp=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:($i(e,0,tl),t===void 0?t=i.rounding:$i(t,0,8),Ht(n,e+Cr(n)+1,t))};Be.toExponential=function(e,t){var n,i=this,l=i.constructor;return e===void 0?n=Ha(i,!0):($i(e,0,tl),t===void 0?t=l.rounding:$i(t,0,8),i=Ht(new l(i),e+1,t),n=Ha(i,!0,e+1)),n};Be.toFixed=function(e,t){var n,i,l=this,c=l.constructor;return e===void 0?Ha(l):($i(e,0,tl),t===void 0?t=c.rounding:$i(t,0,8),i=Ht(new c(l),e+Cr(l)+1,t),n=Ha(i.abs(),!1,e+Cr(i)+1),l.isneg()&&!l.isZero()?"-"+n:n)};Be.toInteger=Be.toint=function(){var e=this,t=e.constructor;return Ht(new t(e),Cr(e)+1,t.rounding)};Be.toNumber=function(){return+this};Be.toPower=Be.pow=function(e){var t,n,i,l,c,d,p=this,m=p.constructor,g=12,h=+(e=new m(e));if(!e.s)return new m(On);if(p=new m(p),!p.s){if(e.s<1)throw Error(ni+"Infinity");return p}if(p.eq(On))return p;if(i=m.precision,e.eq(On))return Ht(p,i);if(t=e.e,n=e.d.length-1,d=t>=n,c=p.s,d){if((n=h<0?-h:h)<=jT){for(l=new m(On),t=Math.ceil(i/Qt+4),rr=!1;n%2&&(l=l.times(p),xC(l.d,t)),n=rl(n/2),n!==0;)p=p.times(p),xC(p.d,t);return rr=!0,e.s<0?new m(On).div(l):Ht(l,i)}}else if(c<0)throw Error(ni+"NaN");return c=c<0&&e.d[Math.max(t,n)]&1?-1:1,p.s=1,rr=!1,l=e.times(Tc(p,i+g)),rr=!0,l=kT(l),l.s=c,l};Be.toPrecision=function(e,t){var n,i,l=this,c=l.constructor;return e===void 0?(n=Cr(l),i=Ha(l,n<=c.toExpNeg||n>=c.toExpPos)):($i(e,1,tl),t===void 0?t=c.rounding:$i(t,0,8),l=Ht(new c(l),e,t),n=Cr(l),i=Ha(l,e<=n||n<=c.toExpNeg,e)),i};Be.toSignificantDigits=Be.tosd=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):($i(e,1,tl),t===void 0?t=i.rounding:$i(t,0,8)),Ht(new i(n),e,t)};Be.toString=Be.valueOf=Be.val=Be.toJSON=Be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Cr(e),n=e.constructor;return Ha(e,t<=n.toExpNeg||t>=n.toExpPos)};function wT(e,t){var n,i,l,c,d,p,m,g,h=e.constructor,x=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),rr?Ht(t,x):t;if(m=e.d,g=t.d,d=e.e,l=t.e,m=m.slice(),c=d-l,c){for(c<0?(i=m,c=-c,p=g.length):(i=g,l=d,p=m.length),d=Math.ceil(x/Qt),p=d>p?d+1:p+1,c>p&&(c=p,i.length=1),i.reverse();c--;)i.push(0);i.reverse()}for(p=m.length,c=g.length,p-c<0&&(c=p,i=g,g=m,m=i),n=0;c;)n=(m[--c]=m[c]+g[c]+n)/$r|0,m[c]%=$r;for(n&&(m.unshift(n),++l),p=m.length;m[--p]==0;)m.pop();return t.d=m,t.e=l,rr?Ht(t,x):t}function $i(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ba+e)}function Oi(e){var t,n,i,l=e.length-1,c="",d=e[0];if(l>0){for(c+=d,t=1;t<l;t++)i=e[t]+"",n=Qt-i.length,n&&(c+=Go(n)),c+=i;d=e[t],i=d+"",n=Qt-i.length,n&&(c+=Go(n))}else if(d===0)return"0";for(;d%10===0;)d/=10;return c+d}var co=(function(){function e(i,l){var c,d=0,p=i.length;for(i=i.slice();p--;)c=i[p]*l+d,i[p]=c%$r|0,d=c/$r|0;return d&&i.unshift(d),i}function t(i,l,c,d){var p,m;if(c!=d)m=c>d?1:-1;else for(p=m=0;p<c;p++)if(i[p]!=l[p]){m=i[p]>l[p]?1:-1;break}return m}function n(i,l,c){for(var d=0;c--;)i[c]-=d,d=i[c]<l[c]?1:0,i[c]=d*$r+i[c]-l[c];for(;!i[0]&&i.length>1;)i.shift()}return function(i,l,c,d){var p,m,g,h,x,S,j,k,w,C,z,E,A,$,T,D,R,F,U=i.constructor,le=i.s==l.s?1:-1,X=i.d,ae=l.d;if(!i.s)return new U(i);if(!l.s)throw Error(ni+"Division by zero");for(m=i.e-l.e,R=ae.length,T=X.length,j=new U(le),k=j.d=[],g=0;ae[g]==(X[g]||0);)++g;if(ae[g]>(X[g]||0)&&--m,c==null?E=c=U.precision:d?E=c+(Cr(i)-Cr(l))+1:E=c,E<0)return new U(0);if(E=E/Qt+2|0,g=0,R==1)for(h=0,ae=ae[0],E++;(g<T||h)&&E--;g++)A=h*$r+(X[g]||0),k[g]=A/ae|0,h=A%ae|0;else{for(h=$r/(ae[0]+1)|0,h>1&&(ae=e(ae,h),X=e(X,h),R=ae.length,T=X.length),$=R,w=X.slice(0,R),C=w.length;C<R;)w[C++]=0;F=ae.slice(),F.unshift(0),D=ae[0],ae[1]>=$r/2&&++D;do h=0,p=t(ae,w,R,C),p<0?(z=w[0],R!=C&&(z=z*$r+(w[1]||0)),h=z/D|0,h>1?(h>=$r&&(h=$r-1),x=e(ae,h),S=x.length,C=w.length,p=t(x,w,S,C),p==1&&(h--,n(x,R<S?F:ae,S))):(h==0&&(p=h=1),x=ae.slice()),S=x.length,S<C&&x.unshift(0),n(w,x,C),p==-1&&(C=w.length,p=t(ae,w,R,C),p<1&&(h++,n(w,R<C?F:ae,C))),C=w.length):p===0&&(h++,w=[0]),k[g++]=h,p&&w[0]?w[C++]=X[$]||0:(w=[X[$]],C=1);while(($++<T||w[0]!==void 0)&&E--)}return k[0]||k.shift(),j.e=m,Ht(j,d?c+Cr(j)+1:c)}})();function kT(e,t){var n,i,l,c,d,p,m=0,g=0,h=e.constructor,x=h.precision;if(Cr(e)>16)throw Error(Av+Cr(e));if(!e.s)return new h(On);for(rr=!1,p=x,d=new h(.03125);e.abs().gte(.1);)e=e.times(d),g+=5;for(i=Math.log(Oa(2,g))/Math.LN10*2+5|0,p+=i,n=l=c=new h(On),h.precision=p;;){if(l=Ht(l.times(e),p),n=n.times(++m),d=c.plus(co(l,n,p)),Oi(d.d).slice(0,p)===Oi(c.d).slice(0,p)){for(;g--;)c=Ht(c.times(c),p);return h.precision=x,t==null?(rr=!0,Ht(c,x)):c}c=d}}function Cr(e){for(var t=e.e*Qt,n=e.d[0];n>=10;n/=10)t++;return t}function Xh(e,t,n){if(t>e.LN10.sd())throw rr=!0,n&&(e.precision=n),Error(ni+"LN10 precision limit exceeded");return Ht(new e(e.LN10),t)}function Go(e){for(var t="";e--;)t+="0";return t}function Tc(e,t){var n,i,l,c,d,p,m,g,h,x=1,S=10,j=e,k=j.d,w=j.constructor,C=w.precision;if(j.s<1)throw Error(ni+(j.s?"NaN":"-Infinity"));if(j.eq(On))return new w(0);if(t==null?(rr=!1,g=C):g=t,j.eq(10))return t==null&&(rr=!0),Xh(w,g);if(g+=S,w.precision=g,n=Oi(k),i=n.charAt(0),c=Cr(j),Math.abs(c)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)j=j.times(e),n=Oi(j.d),i=n.charAt(0),x++;c=Cr(j),i>1?(j=new w("0."+n),c++):j=new w(i+"."+n.slice(1))}else return m=Xh(w,g+2,C).times(c+""),j=Tc(new w(i+"."+n.slice(1)),g-S).plus(m),w.precision=C,t==null?(rr=!0,Ht(j,C)):j;for(p=d=j=co(j.minus(On),j.plus(On),g),h=Ht(j.times(j),g),l=3;;){if(d=Ht(d.times(h),g),m=p.plus(co(d,new w(l),g)),Oi(m.d).slice(0,g)===Oi(p.d).slice(0,g))return p=p.times(2),c!==0&&(p=p.plus(Xh(w,g+2,C).times(c+""))),p=co(p,new w(x),g),w.precision=C,t==null?(rr=!0,Ht(p,C)):p;p=m,l+=2}}function yC(e,t){var n,i,l;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;)++i;for(l=t.length;t.charCodeAt(l-1)===48;)--l;if(t=t.slice(i,l),t){if(l-=i,n=n-i-1,e.e=rl(n/Qt),e.d=[],i=(n+1)%Qt,n<0&&(i+=Qt),i<l){for(i&&e.d.push(+t.slice(0,i)),l-=Qt;i<l;)e.d.push(+t.slice(i,i+=Qt));t=t.slice(i),i=Qt-t.length}else i-=l;for(;i--;)t+="0";if(e.d.push(+t),rr&&(e.e>jf||e.e<-jf))throw Error(Av+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ht(e,t,n){var i,l,c,d,p,m,g,h,x=e.d;for(d=1,c=x[0];c>=10;c/=10)d++;if(i=t-d,i<0)i+=Qt,l=t,g=x[h=0];else{if(h=Math.ceil((i+1)/Qt),c=x.length,h>=c)return e;for(g=c=x[h],d=1;c>=10;c/=10)d++;i%=Qt,l=i-Qt+d}if(n!==void 0&&(c=Oa(10,d-l-1),p=g/c%10|0,m=t<0||x[h+1]!==void 0||g%c,m=n<4?(p||m)&&(n==0||n==(e.s<0?3:2)):p>5||p==5&&(n==4||m||n==6&&(i>0?l>0?g/Oa(10,d-l):0:x[h-1])%10&1||n==(e.s<0?8:7))),t<1||!x[0])return m?(c=Cr(e),x.length=1,t=t-c-1,x[0]=Oa(10,(Qt-t%Qt)%Qt),e.e=rl(-t/Qt)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(i==0?(x.length=h,c=1,h--):(x.length=h+1,c=Oa(10,Qt-i),x[h]=l>0?(g/Oa(10,d-l)%Oa(10,l)|0)*c:0),m)for(;;)if(h==0){(x[0]+=c)==$r&&(x[0]=1,++e.e);break}else{if(x[h]+=c,x[h]!=$r)break;x[h--]=0,c=1}for(i=x.length;x[--i]===0;)x.pop();if(rr&&(e.e>jf||e.e<-jf))throw Error(Av+Cr(e));return e}function CT(e,t){var n,i,l,c,d,p,m,g,h,x,S=e.constructor,j=S.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new S(e),rr?Ht(t,j):t;if(m=e.d,x=t.d,i=t.e,g=e.e,m=m.slice(),d=g-i,d){for(h=d<0,h?(n=m,d=-d,p=x.length):(n=x,i=g,p=m.length),l=Math.max(Math.ceil(j/Qt),p)+2,d>l&&(d=l,n.length=1),n.reverse(),l=d;l--;)n.push(0);n.reverse()}else{for(l=m.length,p=x.length,h=l<p,h&&(p=l),l=0;l<p;l++)if(m[l]!=x[l]){h=m[l]<x[l];break}d=0}for(h&&(n=m,m=x,x=n,t.s=-t.s),p=m.length,l=x.length-p;l>0;--l)m[p++]=0;for(l=x.length;l>d;){if(m[--l]<x[l]){for(c=l;c&&m[--c]===0;)m[c]=$r-1;--m[c],m[l]+=$r}m[l]-=x[l]}for(;m[--p]===0;)m.pop();for(;m[0]===0;m.shift())--i;return m[0]?(t.d=m,t.e=i,rr?Ht(t,j):t):new S(0)}function Ha(e,t,n){var i,l=Cr(e),c=Oi(e.d),d=c.length;return t?(n&&(i=n-d)>0?c=c.charAt(0)+"."+c.slice(1)+Go(i):d>1&&(c=c.charAt(0)+"."+c.slice(1)),c=c+(l<0?"e":"e+")+l):l<0?(c="0."+Go(-l-1)+c,n&&(i=n-d)>0&&(c+=Go(i))):l>=d?(c+=Go(l+1-d),n&&(i=n-l-1)>0&&(c=c+"."+Go(i))):((i=l+1)<d&&(c=c.slice(0,i)+"."+c.slice(i)),n&&(i=n-d)>0&&(l+1===d&&(c+="."),c+=Go(i))),e.s<0?"-"+c:c}function xC(e,t){if(e.length>t)return e.length=t,!0}function zT(e){var t,n,i;function l(c){var d=this;if(!(d instanceof l))return new l(c);if(d.constructor=l,c instanceof l){d.s=c.s,d.e=c.e,d.d=(c=c.d)?c.slice():c;return}if(typeof c=="number"){if(c*0!==0)throw Error(Ba+c);if(c>0)d.s=1;else if(c<0)c=-c,d.s=-1;else{d.s=0,d.e=0,d.d=[0];return}if(c===~~c&&c<1e7){d.e=0,d.d=[c];return}return yC(d,c.toString())}else if(typeof c!="string")throw Error(Ba+c);if(c.charCodeAt(0)===45?(c=c.slice(1),d.s=-1):d.s=1,G8.test(c))yC(d,c);else throw Error(Ba+c)}if(l.prototype=Be,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=zT,l.config=l.set=X8,e===void 0&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return l.config(e),l}function X8(e){if(!e||typeof e!="object")throw Error(ni+"Object expected");var t,n,i,l=["precision",1,tl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<l.length;t+=3)if((i=e[n=l[t]])!==void 0)if(rl(i)===i&&i>=l[t+1]&&i<=l[t+2])this[n]=i;else throw Error(Ba+n+": "+i);if((i=e[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(Ba+n+": "+i);return this}var Ev=zT(V8);On=new Ev(1);const Pt=Ev;var Q8=e=>e,_T={},TT=e=>e===_T,vC=e=>function t(){return arguments.length===0||arguments.length===1&&TT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},AT=(e,t)=>e===1?t:vC(function(){for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];var c=i.filter(d=>d!==_T).length;return c>=e?t(...i):AT(e-c,vC(function(){for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];var g=i.map(h=>TT(h)?p.shift():h);return t(...g,...p)}))}),up=e=>AT(e.length,e),ex=(e,t)=>{for(var n=[],i=e;i<t;++i)n[i-e]=i;return n},Z8=up((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),J8=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.length)return Q8;var l=n.reverse(),c=l[0],d=l.slice(1);return function(){return d.reduce((p,m)=>m(p),c(...arguments))}},tx=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),ET=e=>{var t=null,n=null;return function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return t&&l.every((d,p)=>{var m;return d===((m=t)===null||m===void 0?void 0:m[p])})||(t=l,n=e(...l)),n}};function OT(e){var t;return e===0?t=1:t=Math.floor(new Pt(e).abs().log(10).toNumber())+1,t}function MT(e,t,n){for(var i=new Pt(e),l=0,c=[];i.lt(t)&&l<1e5;)c.push(i.toNumber()),i=i.add(n),l++;return c}up((e,t,n)=>{var i=+e,l=+t;return i+n*(l-i)});up((e,t,n)=>{var i=t-+e;return i=i||1/0,(n-e)/i});up((e,t,n)=>{var i=t-+e;return i=i||1/0,Math.max(0,Math.min(1,(n-e)/i))});var RT=e=>{var[t,n]=e,[i,l]=[t,n];return t>n&&([i,l]=[n,t]),[i,l]},DT=(e,t,n)=>{if(e.lte(0))return new Pt(0);var i=OT(e.toNumber()),l=new Pt(10).pow(i),c=e.div(l),d=i!==1?.05:.1,p=new Pt(Math.ceil(c.div(d).toNumber())).add(n).mul(d),m=p.mul(l);return t?new Pt(m.toNumber()):new Pt(Math.ceil(m.toNumber()))},eL=(e,t,n)=>{var i=new Pt(1),l=new Pt(e);if(!l.isint()&&n){var c=Math.abs(e);c<1?(i=new Pt(10).pow(OT(e)-1),l=new Pt(Math.floor(l.div(i).toNumber())).mul(i)):c>1&&(l=new Pt(Math.floor(e)))}else e===0?l=new Pt(Math.floor((t-1)/2)):n||(l=new Pt(Math.floor(e)));var d=Math.floor((t-1)/2),p=J8(Z8(m=>l.add(new Pt(m-d).mul(i)).toNumber()),ex);return p(0,t)},$T=function(t,n,i,l){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(i-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var d=DT(new Pt(n).sub(t).div(i-1),l,c),p;t<=0&&n>=0?p=new Pt(0):(p=new Pt(t).add(n).div(2),p=p.sub(new Pt(p).mod(d)));var m=Math.ceil(p.sub(t).div(d).toNumber()),g=Math.ceil(new Pt(n).sub(p).div(d).toNumber()),h=m+g+1;return h>i?$T(t,n,i,l,c+1):(h<i&&(g=n>0?g+(i-h):g,m=n>0?m:m+(i-h)),{step:d,tickMin:p.sub(new Pt(m).mul(d)),tickMax:p.add(new Pt(g).mul(d))})};function tL(e){var[t,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[d,p]=RT([t,n]);if(d===-1/0||p===1/0){var m=p===1/0?[d,...ex(0,i-1).map(()=>1/0)]:[...ex(0,i-1).map(()=>-1/0),p];return t>n?tx(m):m}if(d===p)return eL(d,i,l);var{step:g,tickMin:h,tickMax:x}=$T(d,p,c,l,0),S=MT(h,x.add(new Pt(.1).mul(g)),g);return t>n?tx(S):S}function rL(e,t){var[n,i]=e,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=RT([n,i]);if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var p=Math.max(t,2),m=DT(new Pt(d).sub(c).div(p-1),l,0),g=[...MT(new Pt(c),new Pt(d),m),d];return l===!1&&(g=g.map(h=>Math.round(h))),n>i?tx(g):g}var nL=ET(tL),iL=ET(rL),PT=e=>e.rootProps.maxBarSize,oL=e=>e.rootProps.barGap,NT=e=>e.rootProps.barCategoryGap,aL=e=>e.rootProps.barSize,Kc=e=>e.rootProps.stackOffset,Ov=e=>e.options.chartName,Mv=e=>e.rootProps.syncId,LT=e=>e.rootProps.syncMethod,Rv=e=>e.options.eventEmitter,no={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},An={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},dp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},sL={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:no.angleAxisId,includeHidden:!1,name:void 0,reversed:no.reversed,scale:no.scale,tick:no.tick,tickCount:void 0,ticks:void 0,type:no.type,unit:void 0},lL={allowDataOverflow:An.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:An.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:An.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:An.scale,tick:An.tick,tickCount:An.tickCount,ticks:void 0,type:An.type,unit:void 0},cL={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:no.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:no.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:no.scale,tick:no.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},uL={allowDataOverflow:An.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:An.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:An.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:An.scale,tick:An.tick,tickCount:An.tickCount,ticks:void 0,type:"category",unit:void 0},Dv=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?cL:sL,$v=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?uL:lL,fp=e=>e.polarOptions,Pv=ue([xo,vo,Or],S_),WT=ue([fp,Pv],(e,t)=>{if(e!=null)return Zr(e.innerRadius,t,0)}),BT=ue([fp,Pv],(e,t)=>{if(e!=null)return Zr(e.outerRadius,t,t*.8)}),dL=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},IT=ue([fp],dL);ue([Dv,IT],dp);var qT=ue([Pv,WT,BT],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ue([$v,qT],dp);var UT=ue([St,fp,WT,BT,xo,vo],(e,t,n,i,l,c)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||i==null)){var{cx:d,cy:p,startAngle:m,endAngle:g}=t;return{cx:Zr(d,l,l/2),cy:Zr(p,c,c/2),innerRadius:n,outerRadius:i,startAngle:m,endAngle:g,clockWise:!1}}}),or=(e,t)=>t,Yc=(e,t,n)=>n;function Nv(e){return e?.id}var Rr=e=>{var t=St(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},nl=e=>e.tooltip.settings.axisId,Lr=e=>{var t=Rr(e),n=nl(e);return Vc(e,t,n)},HT=ue([Lr],e=>e?.dataKey);function FT(e,t,n){var{chartData:i=[]}=t,{allowDuplicatedCategory:l,dataKey:c}=n,d=new Map;return e.forEach(p=>{var m,g=(m=p.data)!==null&&m!==void 0?m:i;if(!(g==null||g.length===0)){var h=Nv(p);g.forEach((x,S)=>{var j=c==null||l?S:String(Yt(x,c,null)),k=Yt(x,p.dataKey,0),w;d.has(j)?w=d.get(j):w={},Object.assign(w,{[h]:k}),d.set(j,w)})}}),Array.from(d.values())}function pp(e){return e.stackId!=null&&e.dataKey!=null}function bC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function wf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(n),!0).forEach(function(i){fL(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function fL(e,t,n){return(t=pL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pL(e){var t=gL(e,"string");return typeof t=="symbol"?t:t+""}function gL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rx=[0,"auto"],_n={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},KT=(e,t)=>e.cartesianAxis.xAxis[t],So=(e,t)=>{var n=KT(e,t);return n??_n},Tn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:rx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Wc},YT=(e,t)=>e.cartesianAxis.yAxis[t],jo=(e,t)=>{var n=YT(e,t);return n??Tn},mL={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Lv=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??mL},xr=(e,t,n)=>{switch(t){case"xAxis":return So(e,n);case"yAxis":return jo(e,n);case"zAxis":return Lv(e,n);case"angleAxis":return Dv(e,n);case"radiusAxis":return $v(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},hL=(e,t,n)=>{switch(t){case"xAxis":return So(e,n);case"yAxis":return jo(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Vc=(e,t,n)=>{switch(t){case"xAxis":return So(e,n);case"yAxis":return jo(e,n);case"angleAxis":return Dv(e,n);case"radiusAxis":return $v(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},VT=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Wv(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var gp=e=>e.graphicalItems.cartesianItems,yL=ue([or,Yc],Wv),Bv=(e,t,n)=>e.filter(n).filter(i=>t?.includeHidden===!0?!0:!i.hide),Gc=ue([gp,xr,yL],Bv),GT=ue([Gc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(pp)),XT=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),QT=ue([Gc],XT),Iv=e=>e.map(t=>t.data).filter(Boolean).flat(1),xL=ue([Gc],Iv),qv=(e,t)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:l}=t;return e.length>0?e:n.slice(i,l+1)},Uv=ue([xL,cp],qv),Hv=(e,t,n)=>t?.dataKey!=null?e.map(i=>({value:Yt(i,t.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>e.map(l=>({value:Yt(l,i)}))):e.map(i=>({value:i})),mp=ue([Uv,xr,Gc],Hv);function ZT(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Qa(e){return e.filter(t=>Di(t)||t instanceof Date).map(Number).filter(t=>$n(t)===!1)}function vL(e,t,n){return!n||typeof t!="number"||$n(t)?[]:n.length?Qa(n.flatMap(i=>{var l=Yt(e,i.dataKey),c,d;if(Array.isArray(l)?[c,d]=l:c=d=l,!(!Nn(c)||!Nn(d)))return[t-c,t+d]})):[]}var bL=ue([GT,cp,Lr],FT),JT=(e,t,n)=>{var i={},l=t.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),i);return Object.fromEntries(Object.entries(l).map(c=>{var[d,p]=c,m=p.map(Nv);return[d,{stackedData:k4(e,m,n),graphicalItems:p}]}))},nx=ue([bL,GT,Kc],JT),eA=(e,t,n)=>{var{dataStartIndex:i,dataEndIndex:l}=t;if(n!=="zAxis"){var c=A4(e,i,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},SL=ue([nx,ua,or],eA),tA=(e,t,n,i,l)=>n.length>0?e.flatMap(c=>n.flatMap(d=>{var p,m,g=(p=i[d.id])===null||p===void 0?void 0:p.filter(x=>ZT(l,x)),h=Yt(c,(m=t.dataKey)!==null&&m!==void 0?m:d.dataKey);return{value:h,errorDomain:vL(c,h,g)}})).filter(Boolean):t?.dataKey!=null?e.map(c=>({value:Yt(c,t.dataKey),errorDomain:[]})):e.map(c=>({value:c,errorDomain:[]})),hp=e=>e.errorBars,rA=(e,t,n)=>e.flatMap(i=>t[i.id]).filter(Boolean).filter(i=>ZT(n,i));ue([QT,hp,or],rA);var jL=ue([Uv,xr,QT,hp,or],tA);function wL(e){var{value:t}=e;if(Di(t)||t instanceof Date)return t}var SC=e=>{var t=e.flatMap(i=>[i.value,i.errorDomain]).flat(1),n=Qa(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},kL=(e,t,n)=>{var i=e.map(wL).filter(l=>l!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&gz(i))?I_(0,e.length):t.allowDuplicatedCategory?i:Array.from(new Set(i))},Fv=e=>{var t;if(e==null||!("domain"in e))return rx;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Qa(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:rx},kf=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var l=n.filter(Boolean);if(l.length!==0){var c=l.flat(),d=Math.min(...c),p=Math.max(...c);return[d,p]}},nA=e=>e.referenceElements.dots,il=(e,t,n)=>e.filter(i=>i.ifOverflow==="extendDomain").filter(i=>t==="xAxis"?i.xAxisId===n:i.yAxisId===n),CL=ue([nA,or,Yc],il),iA=e=>e.referenceElements.areas,zL=ue([iA,or,Yc],il),oA=e=>e.referenceElements.lines,_L=ue([oA,or,Yc],il),aA=(e,t)=>{var n=Qa(e.map(i=>t==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},TL=ue(CL,or,aA),sA=(e,t)=>{var n=Qa(e.flatMap(i=>[t==="xAxis"?i.x1:i.y1,t==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},AL=ue([zL,or],sA),lA=(e,t)=>{var n=Qa(e.map(i=>t==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},EL=ue(_L,or,lA),OL=ue(TL,EL,AL,(e,t,n)=>kf(e,n,t)),cA=ue([xr],Fv),Kv=(e,t,n,i,l,c,d)=>{var p=K8(t,e.allowDataOverflow);if(p!=null)return p;var m=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",g=m?kf(n,l,SC(i)):kf(l,SC(i));return Y8(t,g,e.allowDataOverflow)},ML=ue([xr,cA,SL,jL,OL,St,or],Kv),RL=[0,1],Yv=(e,t,n,i,l,c,d)=>{if(!((e==null||n==null||n.length===0)&&d===void 0)){var{dataKey:p,type:m}=e,g=aa(t,c);return g&&p==null?I_(0,n.length):m==="category"?kL(i,e,g):l==="expand"?RL:d}},Vv=ue([xr,St,Uv,mp,Kc,or,ML],Yv),uA=(e,t,n,i,l)=>{if(e!=null){var{scale:c,type:d}=e;if(c==="auto")return t==="radial"&&l==="radiusAxis"?"band":t==="radial"&&l==="angleAxis"?"linear":d==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!n)?"point":d==="category"?"band":"linear";if(typeof c=="string"){var p="scale".concat($c(c));return p in fc?p:"point"}}},ol=ue([xr,St,VT,Ov,or],uA);function DL(e){if(e!=null){if(e in fc)return fc[e]();var t="scale".concat($c(e));if(t in fc)return fc[t]()}}function Gv(e,t,n,i){if(!(n==null||i==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(i);var l=DL(t);if(l!=null){var c=l.domain(n).range(i);return v4(c),c}}}var Xv=(e,t,n)=>{var i=Fv(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&Hs(e))return nL(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Hs(e))return iL(e,t.tickCount,t.allowDecimals)}},Qv=ue([Vv,Vc,ol],Xv),Zv=(e,t,n,i)=>{if(i!=="angleAxis"&&e?.type==="number"&&Hs(t)&&Array.isArray(n)&&n.length>0){var l=t[0],c=n[0],d=t[1],p=n[n.length-1];return[Math.min(l,c),Math.max(d,p)]}return t},$L=ue([xr,Vv,Qv,or],Zv),PL=ue(mp,xr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,i=Array.from(Qa(e.map(p=>p.value))).sort((p,m)=>p-m);if(i.length<2)return 1/0;var l=i[i.length-1]-i[0];if(l===0)return 1/0;for(var c=0;c<i.length-1;c++){var d=i[c+1]-i[c];n=Math.min(n,d)}return n/l}}),dA=ue(PL,St,NT,Or,(e,t,n,i)=>i,(e,t,n,i,l)=>{if(!Nn(e))return 0;var c=t==="vertical"?i.height:i.width;if(l==="gap")return e*c/2;if(l==="no-gap"){var d=Zr(n,e*c),p=e*c/2;return p-d-(p-d)/c*d}return 0}),NL=(e,t)=>{var n=So(e,t);return n==null||typeof n.padding!="string"?0:dA(e,"xAxis",t,n.padding)},LL=(e,t)=>{var n=jo(e,t);return n==null||typeof n.padding!="string"?0:dA(e,"yAxis",t,n.padding)},WL=ue(So,NL,(e,t)=>{var n,i;if(e==null)return{left:0,right:0};var{padding:l}=e;return typeof l=="string"?{left:t,right:t}:{left:((n=l.left)!==null&&n!==void 0?n:0)+t,right:((i=l.right)!==null&&i!==void 0?i:0)+t}}),BL=ue(jo,LL,(e,t)=>{var n,i;if(e==null)return{top:0,bottom:0};var{padding:l}=e;return typeof l=="string"?{top:t,bottom:t}:{top:((n=l.top)!==null&&n!==void 0?n:0)+t,bottom:((i=l.bottom)!==null&&i!==void 0?i:0)+t}}),IL=ue([Or,WL,tp,ep,(e,t,n)=>n],(e,t,n,i,l)=>{var{padding:c}=i;return l?[c.left,n.width-c.right]:[e.left+t.left,e.left+e.width-t.right]}),qL=ue([Or,St,BL,tp,ep,(e,t,n)=>n],(e,t,n,i,l,c)=>{var{padding:d}=l;return c?[i.height-d.bottom,d.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Xc=(e,t,n,i)=>{var l;switch(t){case"xAxis":return IL(e,n,i);case"yAxis":return qL(e,n,i);case"zAxis":return(l=Lv(e,n))===null||l===void 0?void 0:l.range;case"angleAxis":return IT(e);case"radiusAxis":return qT(e,n);default:return}},fA=ue([xr,Xc],dp),al=ue([xr,ol,$L,fA],Gv);ue([Gc,hp,or],rA);function pA(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var yp=(e,t)=>t,xp=(e,t,n)=>n,UL=ue(Zf,yp,xp,(e,t,n)=>e.filter(i=>i.orientation===t).filter(i=>i.mirror===n).sort(pA)),HL=ue(Jf,yp,xp,(e,t,n)=>e.filter(i=>i.orientation===t).filter(i=>i.mirror===n).sort(pA)),gA=(e,t)=>({width:e.width,height:t.height}),FL=(e,t)=>{var n=typeof t.width=="number"?t.width:Wc;return{width:n,height:e.height}},mA=ue(Or,So,gA),KL=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},YL=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},VL=ue(vo,Or,UL,yp,xp,(e,t,n,i,l)=>{var c={},d;return n.forEach(p=>{var m=gA(t,p);d==null&&(d=KL(t,i,e));var g=i==="top"&&!l||i==="bottom"&&l;c[p.id]=d-Number(g)*m.height,d+=(g?-1:1)*m.height}),c}),GL=ue(xo,Or,HL,yp,xp,(e,t,n,i,l)=>{var c={},d;return n.forEach(p=>{var m=FL(t,p);d==null&&(d=YL(t,i,e));var g=i==="left"&&!l||i==="right"&&l;c[p.id]=d-Number(g)*m.width,d+=(g?-1:1)*m.width}),c}),XL=(e,t)=>{var n=So(e,t);if(n!=null)return VL(e,n.orientation,n.mirror)},QL=ue([Or,So,XL,(e,t)=>t],(e,t,n,i)=>{if(t!=null){var l=n?.[i];return l==null?{x:e.left,y:0}:{x:e.left,y:l}}}),ZL=(e,t)=>{var n=jo(e,t);if(n!=null)return GL(e,n.orientation,n.mirror)},JL=ue([Or,jo,ZL,(e,t)=>t],(e,t,n,i)=>{if(t!=null){var l=n?.[i];return l==null?{x:0,y:e.top}:{x:l,y:e.top}}}),hA=ue(Or,jo,(e,t)=>{var n=typeof t.width=="number"?t.width:Wc;return{width:n,height:e.height}}),jC=(e,t,n)=>{switch(t){case"xAxis":return mA(e,n).width;case"yAxis":return hA(e,n).height;default:return}},yA=(e,t,n,i)=>{if(n!=null){var{allowDuplicatedCategory:l,type:c,dataKey:d}=n,p=aa(e,i),m=t.map(g=>g.value);if(d&&p&&c==="category"&&l&&gz(m))return m}},Jv=ue([St,mp,xr,or],yA),xA=(e,t,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:l,scale:c}=n,d=aa(e,i);if(d&&(l==="number"||c!=="auto"))return t.map(p=>p.value)}},eb=ue([St,mp,Vc,or],xA),wC=ue([St,hL,ol,al,Jv,eb,Xc,Qv,or],(e,t,n,i,l,c,d,p,m)=>{if(t==null)return null;var g=aa(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:c,duplicateDomain:l,isCategorical:g,niceTicks:p,range:d,realScaleType:n,scale:i}}),eW=(e,t,n,i,l,c,d,p,m)=>{if(!(t==null||i==null)){var g=aa(e,m),{type:h,ticks:x,tickCount:S}=t,j=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,k=h==="category"&&i.bandwidth?i.bandwidth()/j:0;k=m==="angleAxis"&&c!=null&&c.length>=2?Pr(c[0]-c[1])*2*k:k;var w=x||l;if(w){var C=w.map((z,E)=>{var A=d?d.indexOf(z):z;return{index:E,coordinate:i(A)+k,value:z,offset:k}});return C.filter(z=>!$n(z.coordinate))}return g&&p?p.map((z,E)=>({coordinate:i(z)+k,value:z,index:E,offset:k})):i.ticks?i.ticks(S).map(z=>({coordinate:i(z)+k,value:z,offset:k})):i.domain().map((z,E)=>({coordinate:i(z)+k,value:d?d[z]:z,index:E,offset:k}))}},vA=ue([St,Vc,ol,al,Qv,Xc,Jv,eb,or],eW),tW=(e,t,n,i,l,c,d)=>{if(!(t==null||n==null||i==null||i[0]===i[1])){var p=aa(e,d),{tickCount:m}=t,g=0;return g=d==="angleAxis"&&i?.length>=2?Pr(i[0]-i[1])*2*g:g,p&&c?c.map((h,x)=>({coordinate:n(h)+g,value:h,index:x,offset:g})):n.ticks?n.ticks(m).map(h=>({coordinate:n(h)+g,value:h,offset:g})):n.domain().map((h,x)=>({coordinate:n(h)+g,value:l?l[h]:h,index:x,offset:g}))}},Jo=ue([St,Vc,al,Xc,Jv,eb,or],tW),ea=ue(xr,al,(e,t)=>{if(!(e==null||t==null))return wf(wf({},e),{},{scale:t})}),rW=ue([xr,ol,Vv,fA],Gv);ue((e,t,n)=>Lv(e,n),rW,(e,t)=>{if(!(e==null||t==null))return wf(wf({},e),{},{scale:t})});var nW=ue([St,Zf,Jf],(e,t,n)=>{switch(e){case"horizontal":return t.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),bA=e=>e.options.defaultTooltipEventType,SA=e=>e.options.validateTooltipEventTypes;function jA(e,t,n){if(e==null)return t;var i=e?"axis":"item";return n==null?t:n.includes(i)?i:t}function tb(e,t){var n=bA(e),i=SA(e);return jA(t,n,i)}function iW(e){return qe(t=>tb(t,e))}var wA=(e,t)=>{var n,i=Number(t);if(!($n(i)||t==null))return i>=0?e==null||(n=e[i])===null||n===void 0?void 0:n.value:void 0},oW=e=>e.tooltip.settings,Qo={active:!1,index:null,dataKey:void 0,coordinate:void 0},aW={itemInteraction:{click:Qo,hover:Qo},axisInteraction:{click:Qo,hover:Qo},keyboardInteraction:Qo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},kA=Ln({name:"tooltip",initialState:aW,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=lo(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:sW,removeTooltipEntrySettings:lW,setTooltipSettingsState:cW,setActiveMouseOverItemIndex:CA,mouseLeaveItem:uW,mouseLeaveChart:zA,setActiveClickItemIndex:dW,setMouseOverAxisIndex:_A,setMouseClickAxisIndex:fW,setSyncInteraction:ix,setKeyboardInteraction:ox}=kA.actions,pW=kA.reducer;function kC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Ad(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(n),!0).forEach(function(i){gW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function gW(e,t,n){return(t=mW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mW(e){var t=hW(e,"string");return typeof t=="symbol"?t:t+""}function hW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yW(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function xW(e){return e.index!=null}var TA=(e,t,n,i)=>{if(t==null)return Qo;var l=yW(e,t,n);if(l==null)return Qo;if(l.active)return l;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var c=e.settings.active===!0;if(xW(l)){if(c)return Ad(Ad({},l),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i};return Ad(Ad({},Qo),{},{coordinate:l.coordinate})},rb=(e,t)=>{var n=e?.index;if(n==null)return null;var i=Number(n);if(!Nn(i))return n;var l=0,c=1/0;return t.length>0&&(c=t.length-1),String(Math.max(l,Math.min(i,c)))},AA=(e,t,n,i,l,c,d,p)=>{if(!(c==null||p==null)){var m=d[0],g=m==null?void 0:p(m.positions,c);if(g!=null)return g;var h=l?.[Number(c)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(i.top+t)/2};default:return{x:(i.left+e)/2,y:h.coordinate}}}},EA=(e,t,n,i)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var l;return n==="hover"?l=e.itemInteraction.hover.dataKey:l=e.itemInteraction.click.dataKey,l==null&&i!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(c=>{var d;return((d=c.settings)===null||d===void 0?void 0:d.dataKey)===l})},Qc=e=>e.options.tooltipPayloadSearcher,sl=e=>e.tooltip;function CC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function zC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(n),!0).forEach(function(i){vW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function vW(e,t,n){return(t=bW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bW(e){var t=SW(e,"string");return typeof t=="symbol"?t:t+""}function SW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jW(e,t){return e??t}var OA=(e,t,n,i,l,c,d)=>{if(!(t==null||c==null)){var{chartData:p,computedData:m,dataStartIndex:g,dataEndIndex:h}=n,x=[];return e.reduce((S,j)=>{var k,{dataDefinedOnItem:w,settings:C}=j,z=jW(w,p),E=Array.isArray(z)?j_(z,g,h):z,A=(k=C?.dataKey)!==null&&k!==void 0?k:i,$=C?.nameKey,T;if(i&&Array.isArray(E)&&!Array.isArray(E[0])&&d==="axis"?T=mz(E,i,l):T=c(E,t,m,$),Array.isArray(T))T.forEach(R=>{var F=zC(zC({},C),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});S.push(lk({tooltipEntrySettings:F,dataKey:R.dataKey,payload:R.payload,value:Yt(R.payload,R.dataKey),name:R.name}))});else{var D;S.push(lk({tooltipEntrySettings:C,dataKey:A,payload:T,value:Yt(T,A),name:(D=Yt(T,$))!==null&&D!==void 0?D:C?.name}))}return S},x)}},nb=ue([Lr,St,VT,Ov,Rr],uA),wW=ue([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),kW=ue([Rr,nl],Wv),Zc=ue([wW,Lr,kW],Bv),CW=ue([Zc],e=>e.filter(pp)),zW=ue([Zc],Iv),ll=ue([zW,ua],qv),_W=ue([CW,ua,Lr],FT),ib=ue([ll,Lr,Zc],Hv),TW=ue([Lr],Fv),AW=ue([Zc],e=>e.filter(pp)),EW=ue([_W,AW,Kc],JT),OW=ue([EW,ua,Rr],eA),MW=ue([Zc],XT),RW=ue([ll,Lr,MW,hp,Rr],tA),DW=ue([nA,Rr,nl],il),$W=ue([DW,Rr],aA),PW=ue([iA,Rr,nl],il),NW=ue([PW,Rr],sA),LW=ue([oA,Rr,nl],il),WW=ue([LW,Rr],lA),BW=ue([$W,WW,NW],kf),IW=ue([Lr,TW,OW,RW,BW,St,Rr],Kv),MA=ue([Lr,St,ll,ib,Kc,Rr,IW],Yv),qW=ue([MA,Lr,nb],Xv),UW=ue([Lr,MA,qW,Rr],Zv),RA=e=>{var t=Rr(e),n=nl(e),i=!1;return Xc(e,t,n,i)},DA=ue([Lr,RA],dp),$A=ue([Lr,nb,UW,DA],Gv),HW=ue([St,ib,Lr,Rr],yA),FW=ue([St,ib,Lr,Rr],xA),KW=(e,t,n,i,l,c,d,p)=>{if(t){var{type:m}=t,g=aa(e,p);if(i){var h=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,x=m==="category"&&i.bandwidth?i.bandwidth()/h:0;return x=p==="angleAxis"&&l!=null&&l?.length>=2?Pr(l[0]-l[1])*2*x:x,g&&d?d.map((S,j)=>({coordinate:i(S)+x,value:S,index:j,offset:x})):i.domain().map((S,j)=>({coordinate:i(S)+x,value:c?c[S]:S,index:j,offset:x}))}}},wo=ue([St,Lr,nb,$A,RA,HW,FW,Rr],KW),ob=ue([bA,SA,oW],(e,t,n)=>jA(n.shared,e,t)),PA=e=>e.tooltip.settings.trigger,ab=e=>e.tooltip.settings.defaultIndex,vp=ue([sl,ob,PA,ab],TA),ta=ue([vp,ll],rb),NA=ue([wo,ta],wA),LA=ue([vp],e=>{if(e)return e.dataKey}),WA=ue([sl,ob,PA,ab],EA),YW=ue([xo,vo,St,Or,wo,ab,WA,Qc],AA),VW=ue([vp,YW],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),GW=ue([vp],e=>e.active),XW=ue([WA,ta,ua,HT,NA,Qc,ob],OA),QW=ue([XW],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function _C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function TC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(n),!0).forEach(function(i){ZW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ZW(e,t,n){return(t=JW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JW(e){var t=eB(e,"string");return typeof t=="symbol"?t:t+""}function eB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tB=()=>qe(Lr),rB=()=>{var e=tB(),t=qe(wo),n=qe($A);return jc(TC(TC({},e),{},{scale:n}),t)},nB=()=>qe(Ov),sb=(e,t)=>t,BA=(e,t,n)=>n,lb=(e,t,n,i)=>i,iB=ue(wo,e=>Kf(e,t=>t.coordinate)),cb=ue([sl,sb,BA,lb],TA),IA=ue([cb,ll],rb),oB=(e,t,n)=>{if(t!=null){var i=sl(e);return t==="axis"?n==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:n==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},qA=ue([sl,sb,BA,lb],EA),Cf=ue([xo,vo,St,Or,wo,lb,qA,Qc],AA),aB=ue([cb,Cf],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),UA=ue(wo,IA,wA),sB=ue([qA,IA,ua,HT,UA,Qc,sb],OA),lB=ue([cb],e=>({isActive:e.active,activeIndex:e.index})),cB=(e,t,n,i,l,c,d,p)=>{if(!(!e||!t||!i||!l||!c)){var m=E4(e.chartX,e.chartY,t,n,p);if(m){var g=M4(m,t),h=y4(g,d,c,i,l),x=O4(t,c,h,m);return{activeIndex:String(h),activeCoordinate:x}}}};function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ax.apply(null,arguments)}function AC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Ed(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(n),!0).forEach(function(i){uB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function uB(e,t,n){return(t=dB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dB(e){var t=fB(e,"string");return typeof t=="symbol"?t:t+""}function fB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pB(e){var{coordinate:t,payload:n,index:i,offset:l,tooltipAxisBandSize:c,layout:d,cursor:p,tooltipEventType:m,chartName:g}=e,h=t,x=n,S=i;if(!p||!h||g!=="ScatterChart"&&m!=="axis")return null;var j,k;if(g==="ScatterChart")j=h,k=M3;else if(g==="BarChart")j=R3(d,h,l,c),k=N_;else if(d==="radial"){var{cx:w,cy:C,radius:z,startAngle:E,endAngle:A}=L_(h);j={cx:w,cy:C,startAngle:E,endAngle:A,innerRadius:z,outerRadius:z},k=B_}else j={points:f6(d,h,l)},k=iv;var $=typeof p=="object"&&"className"in p?p.className:void 0,T=Ed(Ed(Ed(Ed({stroke:"#ccc",pointerEvents:"none"},l),j),lr(p,!1)),{},{payload:x,payloadIndex:S,className:kt("recharts-tooltip-cursor",$)});return y.isValidElement(p)?y.cloneElement(p,T):y.createElement(k,T)}function gB(e){var t=rB(),n=T_(),i=rp(),l=nB();return y.createElement(pB,ax({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:i,tooltipAxisBandSize:t,chartName:l}))}var HA=y.createContext(null),mB=()=>y.useContext(HA),Qh={exports:{}},EC;function hB(){return EC||(EC=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function l(m,g,h){this.fn=m,this.context=g,this.once=h||!1}function c(m,g,h,x,S){if(typeof h!="function")throw new TypeError("The listener must be a function");var j=new l(h,x||m,S),k=n?n+g:g;return m._events[k]?m._events[k].fn?m._events[k]=[m._events[k],j]:m._events[k].push(j):(m._events[k]=j,m._eventsCount++),m}function d(m,g){--m._eventsCount===0?m._events=new i:delete m._events[g]}function p(){this._events=new i,this._eventsCount=0}p.prototype.eventNames=function(){var g=[],h,x;if(this._eventsCount===0)return g;for(x in h=this._events)t.call(h,x)&&g.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(h)):g},p.prototype.listeners=function(g){var h=n?n+g:g,x=this._events[h];if(!x)return[];if(x.fn)return[x.fn];for(var S=0,j=x.length,k=new Array(j);S<j;S++)k[S]=x[S].fn;return k},p.prototype.listenerCount=function(g){var h=n?n+g:g,x=this._events[h];return x?x.fn?1:x.length:0},p.prototype.emit=function(g,h,x,S,j,k){var w=n?n+g:g;if(!this._events[w])return!1;var C=this._events[w],z=arguments.length,E,A;if(C.fn){switch(C.once&&this.removeListener(g,C.fn,void 0,!0),z){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,h),!0;case 3:return C.fn.call(C.context,h,x),!0;case 4:return C.fn.call(C.context,h,x,S),!0;case 5:return C.fn.call(C.context,h,x,S,j),!0;case 6:return C.fn.call(C.context,h,x,S,j,k),!0}for(A=1,E=new Array(z-1);A<z;A++)E[A-1]=arguments[A];C.fn.apply(C.context,E)}else{var $=C.length,T;for(A=0;A<$;A++)switch(C[A].once&&this.removeListener(g,C[A].fn,void 0,!0),z){case 1:C[A].fn.call(C[A].context);break;case 2:C[A].fn.call(C[A].context,h);break;case 3:C[A].fn.call(C[A].context,h,x);break;case 4:C[A].fn.call(C[A].context,h,x,S);break;default:if(!E)for(T=1,E=new Array(z-1);T<z;T++)E[T-1]=arguments[T];C[A].fn.apply(C[A].context,E)}}return!0},p.prototype.on=function(g,h,x){return c(this,g,h,x,!1)},p.prototype.once=function(g,h,x){return c(this,g,h,x,!0)},p.prototype.removeListener=function(g,h,x,S){var j=n?n+g:g;if(!this._events[j])return this;if(!h)return d(this,j),this;var k=this._events[j];if(k.fn)k.fn===h&&(!S||k.once)&&(!x||k.context===x)&&d(this,j);else{for(var w=0,C=[],z=k.length;w<z;w++)(k[w].fn!==h||S&&!k[w].once||x&&k[w].context!==x)&&C.push(k[w]);C.length?this._events[j]=C.length===1?C[0]:C:d(this,j)}return this},p.prototype.removeAllListeners=function(g){var h;return g?(h=n?n+g:g,this._events[h]&&d(this,h)):(this._events=new i,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prefixed=n,p.EventEmitter=p,e.exports=p})(Qh)),Qh.exports}var yB=hB();const xB=yo(yB);var Ac=new xB,sx="recharts.syncEvent.tooltip",OC="recharts.syncEvent.brush";function ub(e,t){if(t){var n=Number.parseInt(t,10);if(!$n(n))return e?.[n]}}var vB={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},FA=Ln({name:"options",initialState:vB,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),bB=FA.reducer,{createEventEmitter:SB}=FA.actions;function jB(e){return e.tooltip.syncInteraction}var wB={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},KA=Ln({name:"chartData",initialState:wB,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:i}=t.payload;n!=null&&(e.dataStartIndex=n),i!=null&&(e.dataEndIndex=i)}}}),{setChartData:MC,setDataStartEndIndexes:kB,setComputedData:hG}=KA.actions,CB=KA.reducer,zB=["x","y"];function RC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(n),!0).forEach(function(i){_B(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _B(e,t,n){return(t=TB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TB(e){var t=AB(e,"string");return typeof t=="symbol"?t:t+""}function AB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EB(e,t){if(e==null)return{};var n,i,l=OB(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function OB(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var YA=()=>{};function MB(){var e=qe(Mv),t=qe(Rv),n=cr(),i=qe(LT),l=qe(wo),c=rp(),d=ev(),p=qe(m=>m.rootProps.className);y.useEffect(()=>{if(e==null)return YA;var m=(g,h,x)=>{if(t!==x&&e===g){if(i==="index"){var S;if(d&&h!==null&&h!==void 0&&(S=h.payload)!==null&&S!==void 0&&S.coordinate){var j=h.payload.coordinate,{x:k,y:w}=j,C=EB(j,zB),z=Ta(Ta(Ta({},C),typeof k=="number"&&{x:Math.max(d.x,Math.min(k,d.x+d.width))}),typeof w=="number"&&{y:Math.max(d.y,Math.min(w,d.y+d.height))}),E=Ta(Ta({},h),{},{payload:Ta(Ta({},h.payload),{},{coordinate:z})});n(E)}else n(h);return}if(l!=null){var A;if(typeof i=="function"){var $={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},T=i(l,$);A=l[T]}else i==="value"&&(A=l.find(ye=>String(ye.value)===h.payload.label));var{coordinate:D}=h.payload;if(A==null||h.payload.active===!1||D==null||d==null){n(ix({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:R,y:F}=D,U=Math.min(R,d.x+d.width),le=Math.min(F,d.y+d.height),X={x:c==="horizontal"?A.coordinate:U,y:c==="horizontal"?le:A.coordinate},ae=ix({active:h.payload.active,coordinate:X,dataKey:h.payload.dataKey,index:String(A.index),label:h.payload.label});n(ae)}}};return Ac.on(sx,m),()=>{Ac.off(sx,m)}},[p,n,t,e,i,l,c,d])}function RB(){var e=qe(Mv),t=qe(Rv),n=cr();y.useEffect(()=>{if(e==null)return YA;var i=(l,c,d)=>{t!==d&&e===l&&n(kB(c))};return Ac.on(OC,i),()=>{Ac.off(OC,i)}},[n,t,e])}function DB(){var e=cr();y.useEffect(()=>{e(SB())},[e]),MB(),RB()}function $B(e,t,n,i,l,c){var d=qe(S=>oB(S,e,t)),p=qe(Rv),m=qe(Mv),g=qe(LT),h=qe(jB),x=h?.active;y.useEffect(()=>{if(!x&&m!=null&&p!=null){var S=ix({active:c,coordinate:n,dataKey:d,index:l,label:typeof i=="number"?String(i):i});Ac.emit(sx,m,S,p)}},[x,n,d,l,i,p,m,g,c])}function DC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function $C(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(n),!0).forEach(function(i){PB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function PB(e,t,n){return(t=NB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NB(e){var t=LB(e,"string");return typeof t=="symbol"?t:t+""}function LB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WB(e){return e.dataKey}function BB(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(u3,t)}var PC=[],IB={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!sa.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Od(e){var t=Vr(e,IB),{active:n,allowEscapeViewBox:i,animationDuration:l,animationEasing:c,content:d,filterNull:p,isAnimationActive:m,offset:g,payloadUniqBy:h,position:x,reverseDirection:S,useTranslate3d:j,wrapperStyle:k,cursor:w,shared:C,trigger:z,defaultIndex:E,portal:A,axisId:$}=t,T=cr(),D=typeof E=="number"?String(E):E;y.useEffect(()=>{T(cW({shared:C,trigger:z,axisId:$,active:n,defaultIndex:D}))},[T,C,z,$,n,D]);var R=ev(),F=M_(),U=iW(C),{activeIndex:le,isActive:X}=qe(xe=>lB(xe,U,z,D)),ae=qe(xe=>sB(xe,U,z,D)),ye=qe(xe=>UA(xe,U,z,D)),pe=qe(xe=>aB(xe,U,z,D)),_e=ae,B=mB(),Z=n??X,[ce,Ce]=Xz([_e,Z]),Te=U==="axis"?ye:void 0;$B(U,z,pe,Te,le,Z);var W=A??B;if(W==null)return null;var q=_e??PC;Z||(q=PC),p&&q.length&&(q=Fz(_e.filter(xe=>xe.value!=null&&(xe.hide!==!0||t.includeHidden)),h,WB));var re=q.length>0,be=y.createElement(y3,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:m,active:Z,coordinate:pe,hasPayload:re,offset:g,position:x,reverseDirection:S,useTranslate3d:j,viewBox:R,wrapperStyle:k,lastBoundingBox:ce,innerRef:Ce,hasPortalFromProps:!!A},BB(d,$C($C({},t),{},{payload:q,label:Te,active:Z,coordinate:pe,accessibilityLayer:F})));return y.createElement(y.Fragment,null,Gd.createPortal(be,W),Z&&y.createElement(gB,{cursor:w,tooltipEventType:U,coordinate:pe,payload:_e,index:le}))}var Zh={},Jh={},ey={},NC;function qB(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i,{signal:l,edges:c}={}){let d,p=null;const m=c!=null&&c.includes("leading"),g=c==null||c.includes("trailing"),h=()=>{p!==null&&(n.apply(d,p),d=void 0,p=null)},x=()=>{g&&h(),w()};let S=null;const j=()=>{S!=null&&clearTimeout(S),S=setTimeout(()=>{S=null,x()},i)},k=()=>{S!==null&&(clearTimeout(S),S=null)},w=()=>{k(),d=void 0,p=null},C=()=>{h()},z=function(...E){if(l?.aborted)return;d=this,p=E;const A=S==null;j(),m&&A&&h()};return z.schedule=j,z.cancel=w,z.flush=C,l?.addEventListener("abort",w,{once:!0}),z}e.debounce=t})(ey)),ey}var LC;function UB(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qB();function n(i,l=0,c={}){typeof c!="object"&&(c={});const{leading:d=!1,trailing:p=!0,maxWait:m}=c,g=Array(2);d&&(g[0]="leading"),p&&(g[1]="trailing");let h,x=null;const S=t.debounce(function(...w){h=i.apply(this,w),x=null},l,{edges:g}),j=function(...w){return m!=null&&(x===null&&(x=Date.now()),Date.now()-x>=m)?(h=i.apply(this,w),x=Date.now(),S.cancel(),S.schedule(),h):(S.apply(this,w),h)},k=()=>(S.flush(),h);return j.cancel=S.cancel,j.flush=k,j}e.debounce=n})(Jh)),Jh}var WC;function HB(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UB();function n(i,l=0,c={}){const{leading:d=!0,trailing:p=!0}=c;return t.debounce(i,l,{leading:d,maxWait:l,trailing:p})}e.throttle=n})(Zh)),Zh}var ty,BC;function FB(){return BC||(BC=1,ty=HB().throttle),ty}var KB=FB();const YB=yo(KB);var pc=function(t,n){for(var i=arguments.length,l=new Array(i>2?i-2:0),c=2;c<i;c++)l[c-2]=arguments[c]};function IC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function ry(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IC(Object(n),!0).forEach(function(i){VB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function VB(e,t,n){return(t=GB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GB(e){var t=XB(e,"string");return typeof t=="symbol"?t:t+""}function XB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Md=y.forwardRef((e,t)=>{var{aspect:n,initialDimension:i={width:-1,height:-1},width:l="100%",height:c="100%",minWidth:d=0,minHeight:p,maxHeight:m,children:g,debounce:h=0,id:x,className:S,onResize:j,style:k={}}=e,w=y.useRef(null),C=y.useRef();C.current=j,y.useImperativeHandle(t,()=>w.current);var[z,E]=y.useState({containerWidth:i.width,containerHeight:i.height}),A=y.useCallback((T,D)=>{E(R=>{var F=Math.round(T),U=Math.round(D);return R.containerWidth===F&&R.containerHeight===U?R:{containerWidth:F,containerHeight:U}})},[]);y.useEffect(()=>{var T=U=>{var le,{width:X,height:ae}=U[0].contentRect;A(X,ae),(le=C.current)===null||le===void 0||le.call(C,X,ae)};h>0&&(T=YB(T,h,{trailing:!0,leading:!1}));var D=new ResizeObserver(T),{width:R,height:F}=w.current.getBoundingClientRect();return A(R,F),D.observe(w.current),()=>{D.disconnect()}},[A,h]);var $=y.useMemo(()=>{var{containerWidth:T,containerHeight:D}=z;if(T<0||D<0)return null;pc(Ma(l)||Ma(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,c),pc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=Ma(l)?T:l,F=Ma(c)?D:c;return n&&n>0&&(R?F=R/n:F&&(R=F*n),m&&F>m&&(F=m)),pc(R>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,F,l,c,d,p,n),y.Children.map(g,U=>y.cloneElement(U,{width:R,height:F,style:ry({width:R,height:F},U.props.style)}))},[n,g,c,m,p,d,z,l]);return y.createElement("div",{id:x?"".concat(x):void 0,className:kt("recharts-responsive-container",S),style:ry(ry({},k),{},{width:l,height:c,minWidth:d,minHeight:p,maxHeight:m}),ref:w},y.createElement("div",{style:{width:0,height:0,overflow:"visible"}},$))}),Fs=e=>null;Fs.displayName="Cell";function QB(e,t,n){return(t=ZB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZB(e){var t=JB(e,"string");return typeof t=="symbol"?t:t+""}function JB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class eI{constructor(t){QB(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function qC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function tI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(n),!0).forEach(function(i){rI(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function rI(e,t,n){return(t=nI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nI(e){var t=iI(e,"string");return typeof t=="symbol"?t:t+""}function iI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oI={cacheSize:2e3,enableCache:!0},VA=tI({},oI),UC=new eI(VA.cacheSize),aI={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HC="recharts_measurement_span";function sI(e,t){var n=t.fontSize||"",i=t.fontFamily||"",l=t.fontWeight||"",c=t.fontStyle||"",d=t.letterSpacing||"",p=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(c,"|").concat(d,"|").concat(p)}var FC=(e,t)=>{try{var n=document.getElementById(HC);n||(n=document.createElement("span"),n.setAttribute("id",HC),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,aI,t),n.textContent="".concat(e);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},gc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||sa.isSsr)return{width:0,height:0};if(!VA.enableCache)return FC(t,n);var i=sI(t,n),l=UC.get(i);if(l)return l;var c=FC(t,n);return UC.set(i,c),c},KC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lI=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cI=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,GA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uI=Object.keys(GA),Ds="NaN";function dI(e,t){return e*GA[t]}class gn{static parse(t){var n,[,i,l]=(n=cI.exec(t))!==null&&n!==void 0?n:[];return new gn(parseFloat(i),l??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,$n(t)&&(this.unit=""),n!==""&&!lI.test(n)&&(this.num=NaN,this.unit=""),uI.includes(n)&&(this.num=dI(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new gn(NaN,""):new gn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new gn(NaN,""):new gn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gn(NaN,""):new gn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gn(NaN,""):new gn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $n(this.num)}}function XA(e){if(e.includes(Ds))return Ds;for(var t=e;t.includes("*")||t.includes("/");){var n,[,i,l,c]=(n=KC.exec(t))!==null&&n!==void 0?n:[],d=gn.parse(i??""),p=gn.parse(c??""),m=l==="*"?d.multiply(p):d.divide(p);if(m.isNaN())return Ds;t=t.replace(KC,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var g,[,h,x,S]=(g=YC.exec(t))!==null&&g!==void 0?g:[],j=gn.parse(h??""),k=gn.parse(S??""),w=x==="+"?j.add(k):j.subtract(k);if(w.isNaN())return Ds;t=t.replace(YC,w.toString())}return t}var VC=/\(([^()]*)\)/;function fI(e){for(var t=e,n;(n=VC.exec(t))!=null;){var[,i]=n;t=t.replace(VC,XA(i))}return t}function pI(e){var t=e.replace(/\s+/g,"");return t=fI(t),t=XA(t),t}function gI(e){try{return pI(e)}catch{return Ds}}function ny(e){var t=gI(e.slice(5,-1));return t===Ds?"":t}var mI=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hI=["dx","dy","angle","className","breakAll"];function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lx.apply(null,arguments)}function GC(e,t){if(e==null)return{};var n,i,l=yI(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function yI(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var QA=/[ \f\n\r\t\v\u2028\u2029]+/,ZA=e=>{var{children:t,breakAll:n,style:i}=e;try{var l=[];ir(t)||(n?l=t.toString().split(""):l=t.toString().split(QA));var c=l.map(p=>({word:p,width:gc(p,i).width})),d=n?0:gc("",i).width;return{wordsWithComputedWidth:c,spaceWidth:d}}catch{return null}},xI=(e,t,n,i,l)=>{var{maxLines:c,children:d,style:p,breakAll:m}=e,g=Ge(c),h=d,x=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce((ae,ye)=>{var{word:pe,width:_e}=ye,B=ae[ae.length-1];if(B&&(i==null||l||B.width+_e+n<Number(i)))B.words.push(pe),B.width+=_e+n;else{var Z={words:[pe],width:_e};ae.push(Z)}return ae},[])},S=x(t),j=le=>le.reduce((X,ae)=>X.width>ae.width?X:ae);if(!g||l)return S;var k=S.length>c||j(S).width>Number(i);if(!k)return S;for(var w="",C=le=>{var X=h.slice(0,le),ae=ZA({breakAll:m,style:p,children:X+w}).wordsWithComputedWidth,ye=x(ae),pe=ye.length>c||j(ye).width>Number(i);return[pe,ye]},z=0,E=h.length-1,A=0,$;z<=E&&A<=h.length-1;){var T=Math.floor((z+E)/2),D=T-1,[R,F]=C(D),[U]=C(T);if(!R&&!U&&(z=T+1),R&&U&&(E=T-1),!R&&U){$=F;break}A++}return $||S},XC=e=>{var t=ir(e)?[]:e.toString().split(QA);return[{words:t}]},vI=e=>{var{width:t,scaleToFit:n,children:i,style:l,breakAll:c,maxLines:d}=e;if((t||n)&&!sa.isSsr){var p,m,g=ZA({breakAll:c,children:i,style:l});if(g){var{wordsWithComputedWidth:h,spaceWidth:x}=g;p=h,m=x}else return XC(i);return xI({breakAll:c,children:i,maxLines:d,style:l},p,m,t,n)}return XC(i)},QC="#808080",bp=y.forwardRef((e,t)=>{var{x:n=0,y:i=0,lineHeight:l="1em",capHeight:c="0.71em",scaleToFit:d=!1,textAnchor:p="start",verticalAnchor:m="end",fill:g=QC}=e,h=GC(e,mI),x=y.useMemo(()=>vI({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:d,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,d,h.style,h.width]),{dx:S,dy:j,angle:k,className:w,breakAll:C}=h,z=GC(h,hI);if(!Di(n)||!Di(i)||x.length===0)return null;var E=n+(Ge(S)?S:0),A=i+(Ge(j)?j:0),$;switch(m){case"start":$=ny("calc(".concat(c,")"));break;case"middle":$=ny("calc(".concat((x.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:$=ny("calc(".concat(x.length-1," * -").concat(l,")"));break}var T=[];if(d){var D=x[0].width,{width:R}=h;T.push("scale(".concat(Ge(R)?R/D:1,")"))}return k&&T.push("rotate(".concat(k,", ").concat(E,", ").concat(A,")")),T.length&&(z.transform=T.join(" ")),y.createElement("text",lx({},lr(z,!0),{ref:t,x:E,y:A,className:kt("recharts-text",w),textAnchor:p,fill:g.includes("url")?QC:g}),x.map((F,U)=>{var le=F.words.join(C?"":" ");return y.createElement("tspan",{x:E,dy:U===0?$:l,key:"".concat(le,"-").concat(U)},le)}))});bp.displayName="Text";var bI=["labelRef"];function SI(e,t){if(e==null)return{};var n,i,l=jI(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function jI(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function ZC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(n),!0).forEach(function(i){wI(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function wI(e,t,n){return(t=kI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kI(e){var t=CI(e,"string");return typeof t=="symbol"?t:t+""}function CI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},io.apply(null,arguments)}var JA=y.createContext(null),zI=e=>{var{x:t,y:n,width:i,height:l,children:c}=e,d=y.useMemo(()=>({x:t,y:n,width:i,height:l}),[t,n,i,l]);return y.createElement(JA.Provider,{value:d},c)},eE=()=>{var e=y.useContext(JA),t=ev();return e||t},_I=y.createContext(null),TI=()=>{var e=y.useContext(_I),t=qe(UT);return e||t},AI=e=>{var{value:t,formatter:n}=e,i=ir(e.children)?t:e.children;return typeof n=="function"?n(i):i},db=e=>e!=null&&typeof e=="function",EI=(e,t)=>{var n=Pr(t-e),i=Math.min(Math.abs(t-e),360);return n*i},OI=(e,t,n,i,l)=>{var{offset:c,className:d}=e,{cx:p,cy:m,innerRadius:g,outerRadius:h,startAngle:x,endAngle:S,clockWise:j}=l,k=(g+h)/2,w=EI(x,S),C=w>=0?1:-1,z,E;switch(t){case"insideStart":z=x+C*c,E=j;break;case"insideEnd":z=S-C*c,E=!j;break;case"end":z=S+C*c,E=j;break;default:throw new Error("Unsupported position ".concat(t))}E=w<=0?E:!E;var A=kr(p,m,k,z),$=kr(p,m,k,z+(E?1:-1)*359),T="M".concat(A.x,",").concat(A.y,`
    A`).concat(k,",").concat(k,",0,1,").concat(E?0:1,`,
    `).concat($.x,",").concat($.y),D=ir(e.id)?vc("recharts-radial-line-"):e.id;return y.createElement("text",io({},i,{dominantBaseline:"central",className:kt("recharts-radial-bar-label",d)}),y.createElement("defs",null,y.createElement("path",{id:D,d:T})),y.createElement("textPath",{xlinkHref:"#".concat(D)},n))},MI=(e,t,n)=>{var{cx:i,cy:l,innerRadius:c,outerRadius:d,startAngle:p,endAngle:m}=e,g=(p+m)/2;if(n==="outside"){var{x:h,y:x}=kr(i,l,d+t,g);return{x:h,y:x,textAnchor:h>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var S=(c+d)/2,{x:j,y:k}=kr(i,l,S,g);return{x:j,y:k,textAnchor:"middle",verticalAnchor:"middle"}},tE=e=>"cx"in e&&Ge(e.cx),RI=(e,t)=>{var{parentViewBox:n,offset:i,position:l}=e,c;n!=null&&!tE(n)&&(c=n);var{x:d,y:p,width:m,height:g}=t,h=g>=0?1:-1,x=h*i,S=h>0?"end":"start",j=h>0?"start":"end",k=m>=0?1:-1,w=k*i,C=k>0?"end":"start",z=k>0?"start":"end";if(l==="top"){var E={x:d+m/2,y:p-h*i,textAnchor:"middle",verticalAnchor:S};return yr(yr({},E),c?{height:Math.max(p-c.y,0),width:m}:{})}if(l==="bottom"){var A={x:d+m/2,y:p+g+x,textAnchor:"middle",verticalAnchor:j};return yr(yr({},A),c?{height:Math.max(c.y+c.height-(p+g),0),width:m}:{})}if(l==="left"){var $={x:d-w,y:p+g/2,textAnchor:C,verticalAnchor:"middle"};return yr(yr({},$),c?{width:Math.max($.x-c.x,0),height:g}:{})}if(l==="right"){var T={x:d+m+w,y:p+g/2,textAnchor:z,verticalAnchor:"middle"};return yr(yr({},T),c?{width:Math.max(c.x+c.width-T.x,0),height:g}:{})}var D=c?{width:m,height:g}:{};return l==="insideLeft"?yr({x:d+w,y:p+g/2,textAnchor:z,verticalAnchor:"middle"},D):l==="insideRight"?yr({x:d+m-w,y:p+g/2,textAnchor:C,verticalAnchor:"middle"},D):l==="insideTop"?yr({x:d+m/2,y:p+x,textAnchor:"middle",verticalAnchor:j},D):l==="insideBottom"?yr({x:d+m/2,y:p+g-x,textAnchor:"middle",verticalAnchor:S},D):l==="insideTopLeft"?yr({x:d+w,y:p+x,textAnchor:z,verticalAnchor:j},D):l==="insideTopRight"?yr({x:d+m-w,y:p+x,textAnchor:C,verticalAnchor:j},D):l==="insideBottomLeft"?yr({x:d+w,y:p+g-x,textAnchor:z,verticalAnchor:S},D):l==="insideBottomRight"?yr({x:d+m-w,y:p+g-x,textAnchor:C,verticalAnchor:S},D):l&&typeof l=="object"&&(Ge(l.x)||Ma(l.x))&&(Ge(l.y)||Ma(l.y))?yr({x:d+Zr(l.x,m),y:p+Zr(l.y,g),textAnchor:"end",verticalAnchor:"end"},D):yr({x:d+m/2,y:p+g/2,textAnchor:"middle",verticalAnchor:"middle"},D)},DI={offset:5};function Xo(e){var t=Vr(e,DI),{viewBox:n,position:i,value:l,children:c,content:d,className:p="",textBreakAll:m,labelRef:g}=t,h=TI(),x=eE(),S=i==="center"?x:h??x,j=n||S;if(!j||ir(l)&&ir(c)&&!y.isValidElement(d)&&typeof d!="function")return null;var k=yr(yr({},t),{},{viewBox:j});if(y.isValidElement(d)){var{labelRef:w}=k,C=SI(k,bI);return y.cloneElement(d,C)}var z;if(typeof d=="function"){if(z=y.createElement(d,k),y.isValidElement(z))return z}else z=AI(t);var E=tE(j),A=lr(t,!0);if(E&&(i==="insideStart"||i==="insideEnd"||i==="end"))return OI(t,i,z,A,j);var $=E?MI(j,t.offset,t.position):RI(t,j);return y.createElement(bp,io({ref:g,className:kt("recharts-label",p)},A,$,{breakAll:m}),z)}Xo.displayName="Label";var $I=(e,t,n)=>{if(!e)return null;var i={viewBox:t,labelRef:n};return e===!0?y.createElement(Xo,io({key:"label-implicit"},i)):Di(e)?y.createElement(Xo,io({key:"label-implicit",value:e},i)):y.isValidElement(e)?e.type===Xo?y.cloneElement(e,yr({key:"label-implicit"},i)):y.createElement(Xo,io({key:"label-implicit",content:e},i)):db(e)?y.createElement(Xo,io({key:"label-implicit",content:e},i)):e&&typeof e=="object"?y.createElement(Xo,io({},e,{key:"label-implicit"},i)):null};function PI(e){var{label:t}=e,n=eE();return $I(t,n)||null}var iy={},oy={},JC;function NI(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(oy)),oy}var ay={},e2;function LI(){return e2||(e2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(ay)),ay}var t2;function WI(){return t2||(t2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NI(),n=LI(),i=Fx();function l(c){if(i.isArrayLike(c))return t.last(n.toArray(c))}e.last=l})(iy)),iy}var sy,r2;function BI(){return r2||(r2=1,sy=WI().last),sy}var II=BI();const qI=yo(II);var UI=["valueAccessor"],HI=["dataKey","clockWise","id","textBreakAll"];function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zf.apply(null,arguments)}function n2(e,t){if(e==null)return{};var n,i,l=FI(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function FI(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var KI=e=>Array.isArray(e.value)?qI(e.value):e.value,rE=y.createContext(void 0),nE=rE.Provider,iE=y.createContext(void 0),YI=iE.Provider;function VI(){return y.useContext(rE)}function GI(){return y.useContext(iE)}function Id(e){var{valueAccessor:t=KI}=e,n=n2(e,UI),{dataKey:i,clockWise:l,id:c,textBreakAll:d}=n,p=n2(n,HI),m=VI(),g=GI(),h=m||g;return!h||!h.length?null:y.createElement(Yr,{className:"recharts-label-list"},h.map((x,S)=>{var j,k=ir(i)?t(x,S):Yt(x&&x.payload,i),w=ir(c)?{}:{id:"".concat(c,"-").concat(S)};return y.createElement(Xo,zf({},lr(x,!0),p,w,{fill:(j=n.fill)!==null&&j!==void 0?j:x.fill,parentViewBox:x.parentViewBox,value:k,textBreakAll:d,viewBox:x.viewBox,key:"label-".concat(S),index:S}))}))}Id.displayName="LabelList";function fb(e){var{label:t}=e;return t?t===!0?y.createElement(Id,{key:"labelList-implicit"}):y.isValidElement(t)||db(t)?y.createElement(Id,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(Id,zf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cx.apply(null,arguments)}var oE=e=>{var{cx:t,cy:n,r:i,className:l}=e,c=kt("recharts-dot",l);return t===+t&&n===+n&&i===+i?y.createElement("circle",cx({},Li(e),Px(e),{className:c,cx:t,cy:n,r:i})):null},aE=e=>e.graphicalItems.polarItems,XI=ue([or,Yc],Wv),pb=ue([aE,xr,XI],Bv),QI=ue([pb],Iv),gb=ue([QI,Tv],qv),ZI=ue([gb,xr,pb],Hv),JI=ue([gb,xr,pb],(e,t,n)=>n.length>0?e.flatMap(i=>n.flatMap(l=>{var c,d=Yt(i,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey);return{value:d,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(i=>({value:Yt(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]}))),i2=()=>{},e7=ue([xr,cA,i2,JI,i2,St,or],Kv),sE=ue([xr,St,gb,ZI,Kc,or,e7],Yv),t7=ue([sE,xr,ol],Xv);ue([xr,sE,t7,or],Zv);var r7={radiusAxis:{},angleAxis:{}},lE=Ln({name:"polarAxis",initialState:r7,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:yG,removeRadiusAxis:xG,addAngleAxis:vG,removeAngleAxis:bG}=lE.actions,n7=lE.reducer;function o2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function a2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(n),!0).forEach(function(i){i7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function i7(e,t,n){return(t=o7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o7(e){var t=a7(e,"string");return typeof t=="symbol"?t:t+""}function a7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s7=(e,t)=>t,mb=ue([aE,s7],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),l7=[],hb=(e,t,n)=>n?.length===0?l7:n,cE=ue([Tv,mb,hb],(e,t,n)=>{var{chartData:i}=e;if(t!=null){var l;if(t?.data!=null&&t.data.length>0?l=t.data:l=i,(!l||!l.length)&&n!=null&&(l=n.map(c=>a2(a2({},t.presentationProps),c.props))),l!=null)return l}}),c7=ue([cE,mb,hb],(e,t,n)=>{if(!(e==null||t==null))return e.map((i,l)=>{var c,d=Yt(i,t.nameKey,t.name),p;return n!=null&&(c=n[l])!==null&&c!==void 0&&(c=c.props)!==null&&c!==void 0&&c.fill?p=n[l].props.fill:typeof i=="object"&&i!=null&&"fill"in i?p=i.fill:p=t.fill,{value:Js(d,t.dataKey),color:p,payload:i,type:t.legendType}})}),u7=ue([cE,mb,hb,Or],(e,t,n,i)=>{if(!(t==null||e==null))return sq({offset:i,pieSettings:t,displayedData:e,cells:n})}),ly={},s2;function d7(){return s2||(s2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const l=n[Symbol.toStringTag];return l==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${l}]`}let i=n;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(n)===i}e.isPlainObject=t})(ly)),ly}var cy,l2;function f7(){return l2||(l2=1,cy=d7().isPlainObject),cy}var p7=f7();const g7=yo(p7);function c2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function u2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(n),!0).forEach(function(i){m7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function m7(e,t,n){return(t=h7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h7(e){var t=y7(e,"string");return typeof t=="symbol"?t:t+""}function y7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_f.apply(null,arguments)}var d2=(e,t,n,i,l)=>{var c=n-i,d;return d="M ".concat(e,",").concat(t),d+="L ".concat(e+n,",").concat(t),d+="L ".concat(e+n-c/2,",").concat(t+l),d+="L ".concat(e+n-c/2-i,",").concat(t+l),d+="L ".concat(e,",").concat(t," Z"),d},x7={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},v7=e=>{var t=Vr(e,x7),{x:n,y:i,upperWidth:l,lowerWidth:c,height:d,className:p}=t,{animationEasing:m,animationDuration:g,animationBegin:h,isUpdateAnimationActive:x}=t,S=y.useRef(),[j,k]=y.useState(-1),w=y.useRef(l),C=y.useRef(c),z=y.useRef(d),E=y.useRef(n),A=y.useRef(i),$=Ic(e,"trapezoid-");if(y.useEffect(()=>{if(S.current&&S.current.getTotalLength)try{var pe=S.current.getTotalLength();pe&&k(pe)}catch{}},[]),n!==+n||i!==+i||l!==+l||c!==+c||d!==+d||l===0&&c===0||d===0)return null;var T=kt("recharts-trapezoid",p);if(!x)return y.createElement("g",null,y.createElement("path",_f({},lr(t,!0),{className:T,d:d2(n,i,l,c,d)})));var D=w.current,R=C.current,F=z.current,U=E.current,le=A.current,X="0px ".concat(j===-1?1:j,"px"),ae="".concat(j,"px 0px"),ye=R_(["strokeDasharray"],g,m);return y.createElement(Bc,{animationId:$,key:$,canBegin:j>0,duration:g,easing:m,isActive:x,begin:h},pe=>{var _e=pr(D,l,pe),B=pr(R,c,pe),Z=pr(F,d,pe),ce=pr(U,n,pe),Ce=pr(le,i,pe);S.current&&(w.current=_e,C.current=B,z.current=Z,E.current=ce,A.current=Ce);var Te=pe>0?{transition:ye,strokeDasharray:ae}:{strokeDasharray:X};return y.createElement("path",_f({},lr(t,!0),{className:T,d:d2(ce,Ce,_e,B,Z),ref:S,style:u2(u2({},Te),t.style)}))})},b7=["option","shapeType","propTransformer","activeClassName","isActive"];function S7(e,t){if(e==null)return{};var n,i,l=j7(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function j7(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function f2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Tf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(n),!0).forEach(function(i){w7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function w7(e,t,n){return(t=k7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k7(e){var t=C7(e,"string");return typeof t=="symbol"?t:t+""}function C7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z7(e,t){return Tf(Tf({},t),e)}function _7(e,t){return e==="symbols"}function p2(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return y.createElement(N_,n);case"trapezoid":return y.createElement(v7,n);case"sector":return y.createElement(B_,n);case"symbols":if(_7(t))return y.createElement(qx,n);break;default:return null}}function T7(e){return y.isValidElement(e)?e.props:e}function uE(e){var{option:t,shapeType:n,propTransformer:i=z7,activeClassName:l="recharts-active-shape",isActive:c}=e,d=S7(e,b7),p;if(y.isValidElement(t))p=y.cloneElement(t,Tf(Tf({},d),T7(t)));else if(typeof t=="function")p=t(d);else if(g7(t)&&typeof t!="boolean"){var m=i(t,d);p=y.createElement(p2,{shapeType:n,elementProps:m})}else{var g=d;p=y.createElement(p2,{shapeType:n,elementProps:g})}return c?y.createElement(Yr,{className:l},p):p}var yb=(e,t)=>{var n=cr();return(i,l)=>c=>{e?.(i,l,c),n(CA({activeIndex:String(l),activeDataKey:t,activeCoordinate:i.tooltipPosition}))}},xb=e=>{var t=cr();return(n,i)=>l=>{e?.(n,i,l),t(uW())}},vb=(e,t)=>{var n=cr();return(i,l)=>c=>{e?.(i,l,c),n(dW({activeIndex:String(l),activeDataKey:t,activeCoordinate:i.tooltipPosition}))}};function bb(e){var{fn:t,args:n}=e,i=cr(),l=yn();return y.useEffect(()=>{if(!l){var c=t(n);return i(sW(c)),()=>{i(lW(c))}}},[t,n,i,l]),null}var dE=()=>{};function fE(e){var{legendPayload:t}=e,n=cr(),i=yn();return y.useEffect(()=>i?dE:(n(E_(t)),()=>{n(O_(t))}),[n,i,t]),null}function A7(e){var{legendPayload:t}=e,n=cr(),i=qe(St);return y.useEffect(()=>i!=="centric"&&i!=="radial"?dE:(n(E_(t)),()=>{n(O_(t))}),[n,i,t]),null}var uy,E7=()=>{var[e]=y.useState(()=>vc("uid-"));return e},O7=(uy=_R.useId)!==null&&uy!==void 0?uy:E7;function M7(e,t){var n=O7();return t||(e?"".concat(e,"-").concat(n):n)}var R7=y.createContext(void 0),Sb=e=>{var{id:t,type:n,children:i}=e,l=M7("recharts-".concat(n),t);return y.createElement(R7.Provider,{value:l},i(l))},D7={cartesianItems:[],polarItems:[]},pE=Ln({name:"graphicalItems",initialState:D7,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:i}=t.payload,l=lo(e).cartesianItems.indexOf(n);l>-1&&(e.cartesianItems[l]=i)},removeCartesianGraphicalItem(e,t){var n=lo(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=lo(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:$7,replaceCartesianGraphicalItem:P7,removeCartesianGraphicalItem:N7,addPolarGraphicalItem:L7,removePolarGraphicalItem:W7}=pE.actions,B7=pE.reducer;function gE(e){var t=cr(),n=y.useRef(null);return y.useEffect(()=>{n.current===null?t($7(e)):n.current!==e&&t(P7({prev:n.current,next:e})),n.current=e},[t,e]),y.useEffect(()=>()=>{n.current&&(t(N7(n.current)),n.current=null)},[t]),null}function I7(e){var t=cr();return y.useEffect(()=>(t(L7(e)),()=>{t(W7(e))}),[t,e]),null}var q7=["onMouseEnter","onClick","onMouseLeave"],U7=["id"],H7=["id"];function jb(e,t){if(e==null)return{};var n,i,l=F7(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function F7(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function g2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(n),!0).forEach(function(i){K7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function K7(e,t,n){return(t=Y7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y7(e){var t=V7(e,"string");return typeof t=="symbol"?t:t+""}function V7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ra(){return ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ra.apply(null,arguments)}function G7(e){var t=y.useMemo(()=>Nx(e.children,Fs),[e.children]),n=qe(i=>c7(i,e.id,t));return n==null?null:y.createElement(A7,{legendPayload:n})}function X7(e){var{dataKey:t,nameKey:n,sectors:i,stroke:l,strokeWidth:c,fill:d,name:p,hide:m,tooltipType:g}=e;return{dataDefinedOnItem:i.map(h=>h.tooltipPayload),positions:i.map(h=>h.tooltipPosition),settings:{stroke:l,strokeWidth:c,fill:d,dataKey:t,nameKey:n,name:Js(p,t),hide:m,type:g,color:d,unit:""}}}var Q7=(e,t)=>e>t?"start":e<t?"end":"middle",Z7=(e,t,n)=>Zr(typeof t=="function"?t(e):t,n,n*.8),J7=(e,t,n)=>{var{top:i,left:l,width:c,height:d}=t,p=S_(c,d),m=l+Zr(e.cx,c,c/2),g=i+Zr(e.cy,d,d/2),h=Zr(e.innerRadius,p,0),x=Z7(n,e.outerRadius,p),S=e.maxRadius||Math.sqrt(c*c+d*d)/2;return{cx:m,cy:g,innerRadius:h,outerRadius:x,maxRadius:S}},eq=(e,t)=>{var n=Pr(t-e),i=Math.min(Math.abs(t-e),360);return n*i};function tq(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var rq=(e,t)=>{if(y.isValidElement(e))return y.cloneElement(e,t);if(typeof e=="function")return e(t);var n=kt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return y.createElement(iv,ra({},t,{type:"linear",className:n}))},nq=(e,t,n)=>{if(y.isValidElement(e))return y.cloneElement(e,t);var i=n;if(typeof e=="function"&&(i=e(t),y.isValidElement(i)))return i;var l=kt("recharts-pie-label-text",tq(e));return y.createElement(bp,ra({},t,{alignmentBaseline:"middle",className:l}),i)};function iq(e){var{sectors:t,props:n,showLabels:i}=e,{label:l,labelLine:c,dataKey:d}=n;if(!i||!l||!t)return null;var p=Li(n),m=lr(l,!1),g=lr(c,!1),h=typeof l=="object"&&"offsetRadius"in l&&typeof l.offsetRadius=="number"&&l.offsetRadius||20,x=t.map((S,j)=>{var k=(S.startAngle+S.endAngle)/2,w=kr(S.cx,S.cy,S.outerRadius+h,k),C=tr(tr(tr(tr({},p),S),{},{stroke:"none"},m),{},{index:j,textAnchor:Q7(w.x,S.cx)},w),z=tr(tr(tr(tr({},p),S),{},{fill:"none",stroke:S.fill},g),{},{index:j,points:[kr(S.cx,S.cy,S.outerRadius,k),w],key:"line"});return y.createElement(Yr,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(j)},c&&rq(c,z),nq(l,C,Yt(S,d)))});return y.createElement(Yr,{className:"recharts-pie-labels"},x)}function oq(e){var{sectors:t,props:n,showLabels:i}=e,{label:l}=n;return typeof l=="object"&&l!=null&&"position"in l?y.createElement(fb,{label:l}):y.createElement(iq,{sectors:t,props:n,showLabels:i})}function aq(e){var{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:l}=e,c=qe(ta),{onMouseEnter:d,onClick:p,onMouseLeave:m}=l,g=jb(l,q7),h=yb(d,l.dataKey),x=xb(m),S=vb(p,l.dataKey);return t==null||t.length===0?null:y.createElement(y.Fragment,null,t.map((j,k)=>{if(j?.startAngle===0&&j?.endAngle===0&&t.length!==1)return null;var w=n&&String(k)===c,C=c?i:null,z=w?n:C,E=tr(tr({},j),{},{stroke:j.stroke,tabIndex:-1,[z_]:k,[__]:l.dataKey});return y.createElement(Yr,ra({tabIndex:-1,className:"recharts-pie-sector"},Pc(g,j,k),{onMouseEnter:h(j,k),onMouseLeave:x(j,k),onClick:S(j,k),key:"sector-".concat(j?.startAngle,"-").concat(j?.endAngle,"-").concat(j.midAngle,"-").concat(k)}),y.createElement(uE,ra({option:z,isActive:w,shapeType:"sector"},E)))}))}function sq(e){var t,{pieSettings:n,displayedData:i,cells:l,offset:c}=e,{cornerRadius:d,startAngle:p,endAngle:m,dataKey:g,nameKey:h,tooltipType:x}=n,S=Math.abs(n.minAngle),j=eq(p,m),k=Math.abs(j),w=i.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,C=i.filter(D=>Yt(D,g,0)!==0).length,z=(k>=360?C:C-1)*w,E=k-C*S-z,A=i.reduce((D,R)=>{var F=Yt(R,g,0);return D+(Ge(F)?F:0)},0),$;if(A>0){var T;$=i.map((D,R)=>{var F=Yt(D,g,0),U=Yt(D,h,R),le=J7(n,c,D),X=(Ge(F)?F:0)/A,ae,ye=tr(tr({},D),l&&l[R]&&l[R].props);R?ae=T.endAngle+Pr(j)*w*(F!==0?1:0):ae=p;var pe=ae+Pr(j)*((F!==0?S:0)+X*E),_e=(ae+pe)/2,B=(le.innerRadius+le.outerRadius)/2,Z=[{name:U,value:F,payload:ye,dataKey:g,type:x}],ce=kr(le.cx,le.cy,B,_e);return T=tr(tr(tr(tr({},n.presentationProps),{},{percent:X,cornerRadius:d,name:U,tooltipPayload:Z,midAngle:_e,middleRadius:B,tooltipPosition:ce},ye),le),{},{value:F,startAngle:ae,endAngle:pe,payload:ye,paddingAngle:Pr(j)*w}),T})}return $}function lq(e){var{showLabels:t,sectors:n,children:i}=e,l=y.useMemo(()=>!t||!n?[]:n.map(c=>({value:c.value,payload:c.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:c.cx,cy:c.cy,innerRadius:c.innerRadius,outerRadius:c.outerRadius,startAngle:c.startAngle,endAngle:c.endAngle,clockWise:!1},fill:c.fill})),[n,t]);return y.createElement(YI,{value:t?l:void 0},i)}function cq(e){var{props:t,previousSectorsRef:n}=e,{sectors:i,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:p,activeShape:m,inactiveShape:g,onAnimationStart:h,onAnimationEnd:x}=t,S=Ic(t,"recharts-pie-"),j=n.current,[k,w]=y.useState(!1),C=y.useCallback(()=>{typeof x=="function"&&x(),w(!1)},[x]),z=y.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return y.createElement(lq,{showLabels:!k,sectors:i},y.createElement(Bc,{animationId:S,begin:c,duration:d,isActive:l,easing:p,onAnimationStart:z,onAnimationEnd:C,key:S},E=>{var A=[],$=i&&i[0],T=$?.startAngle;return i?.forEach((D,R)=>{var F=j&&j[R],U=R>0?Ia(D,"paddingAngle",0):0;if(F){var le=pr(F.endAngle-F.startAngle,D.endAngle-D.startAngle,E),X=tr(tr({},D),{},{startAngle:T+U,endAngle:T+le+U});A.push(X),T=X.endAngle}else{var{endAngle:ae,startAngle:ye}=D,pe=pr(0,ae-ye,E),_e=tr(tr({},D),{},{startAngle:T+U,endAngle:T+pe+U});A.push(_e),T=_e.endAngle}}),n.current=A,y.createElement(Yr,null,y.createElement(aq,{sectors:A,activeShape:m,inactiveShape:g,allOtherPieProps:t}))}),y.createElement(oq,{showLabels:!k,sectors:i,props:t}),t.children)}var uq={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!sa.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function dq(e){var{id:t}=e,n=jb(e,U7),{hide:i,className:l,rootTabIndex:c}=e,d=y.useMemo(()=>Nx(e.children,Fs),[e.children]),p=qe(h=>u7(h,t,d)),m=y.useRef(null),g=kt("recharts-pie",l);return i||p==null?(m.current=null,y.createElement(Yr,{tabIndex:c,className:g})):y.createElement(y.Fragment,null,y.createElement(bb,{fn:X7,args:tr(tr({},e),{},{sectors:p})}),y.createElement(Yr,{tabIndex:c,className:g},y.createElement(cq,{props:tr(tr({},n),{},{sectors:p}),previousSectorsRef:m})))}function mE(e){var t=Vr(e,uq),{id:n}=t,i=jb(t,H7),l=Li(i);return y.createElement(Sb,{id:n,type:"pie"},c=>y.createElement(y.Fragment,null,y.createElement(I7,{type:"pie",id:c,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:l,maxRadius:t.maxRadius}),y.createElement(G7,ra({},i,{id:c})),y.createElement(dq,ra({},i,{id:c}))))}mE.displayName="Pie";function m2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function h2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(n),!0).forEach(function(i){fq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function fq(e,t,n){return(t=pq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pq(e){var t=gq(e,"string");return typeof t=="symbol"?t:t+""}function gq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mq={xAxis:{},yAxis:{},zAxis:{}},hE=Ln({name:"cartesianAxis",initialState:mq,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:i}=t.payload;e.yAxis[n]&&(e.yAxis[n]=h2(h2({},e.yAxis[n]),{},{width:i}))}}}),{addXAxis:hq,removeXAxis:yq,addYAxis:xq,removeYAxis:vq,addZAxis:SG,removeZAxis:jG,updateYAxisWidth:bq}=hE.actions,Sq=hE.reducer,jq=ue([Or],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),wq=ue([jq,xo,vo],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),wb=()=>qe(wq),kq=()=>qe(QW);function y2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function x2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(n),!0).forEach(function(i){Cq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Cq(e,t,n){return(t=zq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zq(e){var t=_q(e,"string");return typeof t=="symbol"?t:t+""}function _q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tq=e=>{var{point:t,childIndex:n,mainColor:i,activeDot:l,dataKey:c}=e;if(l===!1||t.x==null||t.y==null)return null;var d=x2(x2({index:n,dataKey:c,cx:t.x,cy:t.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},lr(l,!1)),Px(l)),p;return y.isValidElement(l)?p=y.cloneElement(l,d):typeof l=="function"?p=l(d):p=y.createElement(oE,d),y.createElement(Yr,{className:"recharts-active-dot"},p)};function Aq(e){var{points:t,mainColor:n,activeDot:i,itemDataKey:l}=e,c=qe(ta),d=kq();if(t==null||d==null)return null;var p=t.find(m=>d.includes(m.payload));return ir(p)?null:Tq({point:p,childIndex:Number(c),mainColor:n,dataKey:l,activeDot:i})}var Eq="Invariant failed";function Oq(e,t){throw new Error(Eq)}var Mq=["x","y"];function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ux.apply(null,arguments)}function v2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function sc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(n),!0).forEach(function(i){Rq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Rq(e,t,n){return(t=Dq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dq(e){var t=$q(e,"string");return typeof t=="symbol"?t:t+""}function $q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pq(e,t){if(e==null)return{};var n,i,l=Nq(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function Nq(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Lq(e,t){var{x:n,y:i}=e,l=Pq(e,Mq),c="".concat(n),d=parseInt(c,10),p="".concat(i),m=parseInt(p,10),g="".concat(t.height||l.height),h=parseInt(g,10),x="".concat(t.width||l.width),S=parseInt(x,10);return sc(sc(sc(sc(sc({},t),l),d?{x:d}:{}),m?{y:m}:{}),{},{height:h,width:S,name:t.name,radius:t.radius})}function kb(e){return y.createElement(uE,ux({shapeType:"rectangle",propTransformer:Lq,activeClassName:"recharts-active-bar"},e))}var Wq=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,l)=>{if(Ge(t))return t;var c=Ge(i)||ir(i);return c?t(i,l):(c||Oq(),n)}},Bq={},yE=Ln({name:"errorBars",initialState:Bq,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:i}=t.payload;e[n]||(e[n]=[]),e[n].push(i)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:i,next:l}=t.payload;e[n]&&(e[n]=e[n].map(c=>c.dataKey===i.dataKey&&c.direction===i.direction?l:c))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:i}=t.payload;e[n]&&(e[n]=e[n].filter(l=>l.dataKey!==i.dataKey||l.direction!==i.direction))}}}),{addErrorBar:wG,replaceErrorBar:kG,removeErrorBar:CG}=yE.actions,Iq=yE.reducer,qq=["children"];function Uq(e,t){if(e==null)return{};var n,i,l=Hq(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function Hq(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Fq={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Kq=y.createContext(Fq);function xE(e){var{children:t}=e,n=Uq(e,qq);return y.createElement(Kq.Provider,{value:n},t)}function Cb(e,t){var n,i,l=qe(g=>So(g,e)),c=qe(g=>jo(g,t)),d=(n=l?.allowDataOverflow)!==null&&n!==void 0?n:_n.allowDataOverflow,p=(i=c?.allowDataOverflow)!==null&&i!==void 0?i:Tn.allowDataOverflow,m=d||p;return{needClip:m,needClipX:d,needClipY:p}}function vE(e){var{xAxisId:t,yAxisId:n,clipPathId:i}=e,l=wb(),{needClipX:c,needClipY:d,needClip:p}=Cb(t,n);if(!p)return null;var{x:m,y:g,width:h,height:x}=l;return y.createElement("clipPath",{id:"clipPath-".concat(i)},y.createElement("rect",{x:c?m:m-h/2,y:d?g:g-x/2,width:c?h:h*2,height:d?x:x*2}))}var Yq=["onMouseEnter","onMouseLeave","onClick"],Vq=["value","background","tooltipPosition"],Gq=["id"],Xq=["onMouseEnter","onClick","onMouseLeave"];function na(){return na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},na.apply(null,arguments)}function b2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(n),!0).forEach(function(i){Qq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Qq(e,t,n){return(t=Zq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zq(e){var t=Jq(e,"string");return typeof t=="symbol"?t:t+""}function Jq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Af(e,t){if(e==null)return{};var n,i,l=e9(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function e9(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var t9=e=>{var{dataKey:t,name:n,fill:i,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:i,value:Js(n,t),payload:e}]};function r9(e){var{dataKey:t,stroke:n,strokeWidth:i,fill:l,name:c,hide:d,unit:p}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:l,dataKey:t,nameKey:void 0,name:Js(c,t),hide:d,type:e.tooltipType,color:e.fill,unit:p}}}function n9(e){var t=qe(ta),{data:n,dataKey:i,background:l,allOtherBarProps:c}=e,{onMouseEnter:d,onMouseLeave:p,onClick:m}=c,g=Af(c,Yq),h=yb(d,i),x=xb(p),S=vb(m,i);if(!l||n==null)return null;var j=lr(l,!1);return y.createElement(y.Fragment,null,n.map((k,w)=>{var{value:C,background:z,tooltipPosition:E}=k,A=Af(k,Vq);if(!z)return null;var $=h(k,w),T=x(k,w),D=S(k,w),R=nn(nn(nn(nn(nn({option:l,isActive:String(w)===t},A),{},{fill:"#eee"},z),j),Pc(g,k,w)),{},{onMouseEnter:$,onMouseLeave:T,onClick:D,dataKey:i,index:w,className:"recharts-bar-background-rectangle"});return y.createElement(kb,na({key:"background-bar-".concat(R.index)},R))}))}function i9(e){var{showLabels:t,children:n,rects:i}=e,l=i?.map(c=>{var d={x:c.x,y:c.y,width:c.width,height:c.height};return nn(nn({},d),{},{value:c.value,payload:c.payload,parentViewBox:c.parentViewBox,viewBox:d,fill:c.fill})});return y.createElement(nE,{value:t?l:void 0},n)}function o9(e){var{shape:t,activeBar:n,baseProps:i,entry:l,index:c,dataKey:d}=e,p=qe(ta),m=qe(LA),g=n&&String(c)===p&&(m==null||d===m),h=g?n:t;return y.createElement(kb,na({},i,l,{isActive:g,option:h,index:c,dataKey:d}))}function a9(e){var{shape:t,baseProps:n,entry:i,index:l,dataKey:c}=e;return y.createElement(kb,na({},n,i,{isActive:!1,option:t,index:l,dataKey:c}))}function s9(e){var{data:t,props:n}=e,i=Li(n),{id:l}=i,c=Af(i,Gq),{shape:d,dataKey:p,activeBar:m}=n,{onMouseEnter:g,onClick:h,onMouseLeave:x}=n,S=Af(n,Xq),j=yb(g,p),k=xb(x),w=vb(h,p);return t?y.createElement(y.Fragment,null,t.map((C,z)=>y.createElement(Yr,na({className:"recharts-bar-rectangle"},Pc(S,C,z),{onMouseEnter:j(C,z),onMouseLeave:k(C,z),onClick:w(C,z),key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(z)}),m?y.createElement(o9,{shape:d,activeBar:m,baseProps:c,entry:C,index:z,dataKey:p}):y.createElement(a9,{shape:d,baseProps:c,entry:C,index:z,dataKey:p})))):null}function l9(e){var{props:t,previousRectanglesRef:n}=e,{data:i,layout:l,isAnimationActive:c,animationBegin:d,animationDuration:p,animationEasing:m,onAnimationEnd:g,onAnimationStart:h}=t,x=n.current,S=Ic(t,"recharts-bar-"),[j,k]=y.useState(!1),w=!j,C=y.useCallback(()=>{typeof g=="function"&&g(),k(!1)},[g]),z=y.useCallback(()=>{typeof h=="function"&&h(),k(!0)},[h]);return y.createElement(i9,{showLabels:w,rects:i},y.createElement(Bc,{animationId:S,begin:d,duration:p,isActive:c,easing:m,onAnimationEnd:C,onAnimationStart:z,key:S},E=>{var A=E===1?i:i?.map(($,T)=>{var D=x&&x[T];if(D)return nn(nn({},$),{},{x:pr(D.x,$.x,E),y:pr(D.y,$.y,E),width:pr(D.width,$.width,E),height:pr(D.height,$.height,E)});if(l==="horizontal"){var R=pr(0,$.height,E);return nn(nn({},$),{},{y:$.y+$.height-R,height:R})}var F=pr(0,$.width,E);return nn(nn({},$),{},{width:F})});return E>0&&(n.current=A??null),A==null?null:y.createElement(Yr,null,y.createElement(s9,{props:t,data:A}))}),y.createElement(fb,{label:t.label}),t.children)}function c9(e){var t=y.useRef(null);return y.createElement(l9,{previousRectanglesRef:t,props:e})}var bE=0,u9=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Yt(e,t)}};class d9 extends y.PureComponent{render(){var{hide:t,data:n,dataKey:i,className:l,xAxisId:c,yAxisId:d,needClip:p,background:m,id:g}=this.props;if(t||n==null)return null;var h=kt("recharts-bar",l),x=g;return y.createElement(Yr,{className:h,id:g},p&&y.createElement("defs",null,y.createElement(vE,{clipPathId:x,xAxisId:c,yAxisId:d})),y.createElement(Yr,{className:"recharts-bar-rectangles",clipPath:p?"url(#clipPath-".concat(x,")"):void 0},y.createElement(n9,{data:n,dataKey:i,background:m,allOtherBarProps:this.props}),y.createElement(c9,this.props)))}}var f9={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!sa.isSsr,legendType:"rect",minPointSize:bE,xAxisId:0,yAxisId:0};function p9(e){var{xAxisId:t,yAxisId:n,hide:i,legendType:l,minPointSize:c,activeBar:d,animationBegin:p,animationDuration:m,animationEasing:g,isAnimationActive:h}=e,{needClip:x}=Cb(t,n),S=rp(),j=yn(),k=Nx(e.children,Fs),w=qe(E=>I9(E,t,n,j,e.id,k));if(S!=="vertical"&&S!=="horizontal")return null;var C,z=w?.[0];return z==null||z.height==null||z.width==null?C=0:C=S==="vertical"?z.height/2:z.width/2,y.createElement(xE,{xAxisId:t,yAxisId:n,data:w,dataPointFormatter:u9,errorBarOffset:C},y.createElement(d9,na({},e,{layout:S,needClip:x,data:w,xAxisId:t,yAxisId:n,hide:i,legendType:l,minPointSize:c,activeBar:d,animationBegin:p,animationDuration:m,animationEasing:g,isAnimationActive:h})))}function g9(e){var{layout:t,barSettings:{dataKey:n,minPointSize:i},pos:l,bandSize:c,xAxis:d,yAxis:p,xAxisTicks:m,yAxisTicks:g,stackedData:h,displayedData:x,offset:S,cells:j,parentViewBox:k}=e,w=t==="horizontal"?p:d,C=h?w.scale.domain():null,z=z4({numericAxis:w});return x.map((E,A)=>{var $,T,D,R,F,U;h?$=b4(h[A],C):($=Yt(E,n),Array.isArray($)||($=[z,$]));var le=Wq(i,bE)($[1],A);if(t==="horizontal"){var X,[ae,ye]=[p.scale($[0]),p.scale($[1])];T=ok({axis:d,ticks:m,bandSize:c,offset:l.offset,entry:E,index:A}),D=(X=ye??ae)!==null&&X!==void 0?X:void 0,R=l.size;var pe=ae-ye;if(F=$n(pe)?0:pe,U={x:T,y:S.top,width:R,height:S.height},Math.abs(le)>0&&Math.abs(F)<Math.abs(le)){var _e=Pr(F||le)*(Math.abs(le)-Math.abs(F));D-=_e,F+=_e}}else{var[B,Z]=[d.scale($[0]),d.scale($[1])];if(T=B,D=ok({axis:p,ticks:g,bandSize:c,offset:l.offset,entry:E,index:A}),R=Z-B,F=l.size,U={x:S.left,y:D,width:S.width,height:F},Math.abs(le)>0&&Math.abs(R)<Math.abs(le)){var ce=Pr(R||le)*(Math.abs(le)-Math.abs(R));R+=ce}}if(T==null||D==null||R==null||F==null)return null;var Ce=nn(nn({},E),{},{x:T,y:D,width:R,height:F,value:h?$:$[1],payload:E,background:U,tooltipPosition:{x:T+R/2,y:D+F/2},parentViewBox:k},j&&j[A]&&j[A].props);return Ce}).filter(Boolean)}function m9(e){var t=Vr(e,f9),n=yn();return y.createElement(Sb,{id:t.id,type:"bar"},i=>y.createElement(y.Fragment,null,y.createElement(fE,{legendPayload:t9(t)}),y.createElement(bb,{fn:r9,args:t}),y.createElement(gE,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:C4(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),y.createElement(p9,na({},t,{id:i}))))}var dx=y.memo(m9);dx.displayName="Bar";function S2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Rd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(n),!0).forEach(function(i){h9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function h9(e,t,n){return(t=y9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y9(e){var t=x9(e,"string");return typeof t=="symbol"?t:t+""}function x9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v9=(e,t)=>t,b9=(e,t,n)=>n,S9=(e,t,n,i)=>i,j9=(e,t,n,i,l)=>l,Jc=ue([gp,j9],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),w9=ue([Jc],e=>e?.maxBarSize),k9=(e,t,n,i,l,c)=>c,j2=(e,t,n)=>{var i=n??e;if(!ir(i))return Zr(i,t,0)},C9=ue([St,gp,v9,b9,S9],(e,t,n,i,l)=>t.filter(c=>e==="horizontal"?c.xAxisId===n:c.yAxisId===i).filter(c=>c.isPanorama===l).filter(c=>c.hide===!1).filter(c=>c.type==="bar")),z9=(e,t,n,i)=>{var l=St(e);return l==="horizontal"?nx(e,"yAxis",n,i):nx(e,"xAxis",t,i)},_9=(e,t,n)=>{var i=St(e);return i==="horizontal"?jC(e,"xAxis",t):jC(e,"yAxis",n)},T9=(e,t,n)=>{var i={},l=e.filter(pp),c=e.filter(g=>g.stackId==null),d=l.reduce((g,h)=>(g[h.stackId]||(g[h.stackId]=[]),g[h.stackId].push(h),g),i),p=Object.entries(d).map(g=>{var[h,x]=g,S=x.map(k=>k.dataKey),j=j2(t,n,x[0].barSize);return{stackId:h,dataKeys:S,barSize:j}}),m=c.map(g=>{var h=[g.dataKey].filter(S=>S!=null),x=j2(t,n,g.barSize);return{stackId:void 0,dataKeys:h,barSize:x}});return[...p,...m]},A9=ue([C9,aL,_9],T9),E9=(e,t,n,i,l)=>{var c,d,p=Jc(e,t,n,i,l);if(p!=null){var m=St(e),g=PT(e),{maxBarSize:h}=p,x=ir(h)?g:h,S,j;return m==="horizontal"?(S=ea(e,"xAxis",t,i),j=Jo(e,"xAxis",t,i)):(S=ea(e,"yAxis",n,i),j=Jo(e,"yAxis",n,i)),(c=(d=jc(S,j,!0))!==null&&d!==void 0?d:x)!==null&&c!==void 0?c:0}},SE=(e,t,n,i)=>{var l=St(e),c,d;return l==="horizontal"?(c=ea(e,"xAxis",t,i),d=Jo(e,"xAxis",t,i)):(c=ea(e,"yAxis",n,i),d=Jo(e,"yAxis",n,i)),jc(c,d)};function O9(e,t,n,i,l){var c=i.length;if(!(c<1)){var d=Zr(e,n,0,!0),p,m=[];if(Nn(i[0].barSize)){var g=!1,h=n/c,x=i.reduce((z,E)=>z+(E.barSize||0),0);x+=(c-1)*d,x>=n&&(x-=(c-1)*d,d=0),x>=n&&h>0&&(g=!0,h*=.9,x=c*h);var S=(n-x)/2>>0,j={offset:S-d,size:0};p=i.reduce((z,E)=>{var A,$={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:j.offset+j.size+d,size:g?h:(A=E.barSize)!==null&&A!==void 0?A:0}},T=[...z,$];return j=T[T.length-1].position,T},m)}else{var k=Zr(t,n,0,!0);n-2*k-(c-1)*d<=0&&(d=0);var w=(n-2*k-(c-1)*d)/c;w>1&&(w>>=0);var C=Nn(l)?Math.min(w,l):w;p=i.reduce((z,E,A)=>[...z,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:k+(w+d)*A+(w-C)/2,size:C}}],m)}return p}}var M9=(e,t,n,i,l,c,d)=>{var p=ir(d)?t:d,m=O9(n,i,l!==c?l:c,e,p);return l!==c&&m!=null&&(m=m.map(g=>Rd(Rd({},g),{},{position:Rd(Rd({},g.position),{},{offset:g.position.offset-l/2})}))),m},R9=ue([A9,PT,oL,NT,E9,SE,w9],M9),D9=(e,t,n,i)=>ea(e,"xAxis",t,i),$9=(e,t,n,i)=>ea(e,"yAxis",n,i),P9=(e,t,n,i)=>Jo(e,"xAxis",t,i),N9=(e,t,n,i)=>Jo(e,"yAxis",n,i),L9=ue([R9,Jc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(i=>i.stackId===t.stackId&&t.dataKey!=null&&i.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),W9=(e,t)=>{var n=Nv(t);if(!(!e||n==null||t==null)){var{stackId:i}=t;if(i!=null){var l=e[i];if(l){var{stackedData:c}=l;if(c)return c.find(d=>d.key===n)}}}},B9=ue([z9,Jc],W9),I9=ue([Or,Jx,D9,$9,P9,N9,L9,St,cp,SE,B9,Jc,k9],(e,t,n,i,l,c,d,p,m,g,h,x,S)=>{var{chartData:j,dataStartIndex:k,dataEndIndex:w}=m;if(!(x==null||d==null||t==null||p!=="horizontal"&&p!=="vertical"||n==null||i==null||l==null||c==null||g==null)){var{data:C}=x,z;if(C!=null&&C.length>0?z=C:z=j?.slice(k,w+1),z!=null)return g9({layout:p,barSettings:x,pos:d,parentViewBox:t,bandSize:g,xAxis:n,yAxis:i,xAxisTicks:l,yAxisTicks:c,stackedData:h,displayedData:z,offset:e,cells:S})}}),jE=e=>{var{chartData:t}=e,n=cr(),i=yn();return y.useEffect(()=>i?()=>{}:(n(MC(t)),()=>{n(MC(void 0))}),[t,n,i]),null},w2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},wE=Ln({name:"brush",initialState:w2,reducers:{setBrushSettings(e,t){return t.payload==null?w2:t.payload}}}),{setBrushSettings:zG}=wE.actions,q9=wE.reducer;function U9(e,t,n){return(t=H9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H9(e){var t=F9(e,"string");return typeof t=="symbol"?t:t+""}function F9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zb{static create(t){return new zb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(i)switch(i){case"start":return this.scale(t);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(t)+c}default:return this.scale(t)}if(n){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+d}return this.scale(t)}}isInRange(t){var n=this.range(),i=n[0],l=n[n.length-1];return i<=l?t>=i&&t<=l:t>=l&&t<=i}}U9(zb,"EPS",1e-4);function K9(e){return(e%180+180)%180}var Y9=function(t){var{width:n,height:i}=t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=K9(l),d=c*Math.PI/180,p=Math.atan(i/n),m=d>p&&d<Math.PI-p?i/Math.sin(d):n/Math.cos(d);return Math.abs(m)},V9={dots:[],areas:[],lines:[]},kE=Ln({name:"referenceElements",initialState:V9,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=lo(e).dots.findIndex(i=>i===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=lo(e).areas.findIndex(i=>i===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=lo(e).lines.findIndex(i=>i===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:_G,removeDot:TG,addArea:AG,removeArea:EG,addLine:OG,removeLine:MG}=kE.actions,G9=kE.reducer,X9=y.createContext(void 0),Q9=e=>{var{children:t}=e,[n]=y.useState("".concat(vc("recharts"),"-clip")),i=wb();if(i==null)return null;var{x:l,y:c,width:d,height:p}=i;return y.createElement(X9.Provider,{value:n},y.createElement("defs",null,y.createElement("clipPath",{id:n},y.createElement("rect",{x:l,y:c,height:p,width:d}))),t)};function Ks(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var i in t)if({}.hasOwnProperty.call(t,i)&&!{}.hasOwnProperty.call(e,i))return!1;return!0}function CE(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var i=[],l=0;l<e.length;l+=t)i.push(e[l]);return i}function Z9(e,t,n){var i={width:e.width+t.width,height:e.height+t.height};return Y9(i,n)}function J9(e,t,n){var i=n==="width",{x:l,y:c,width:d,height:p}=e;return t===1?{start:i?l:c,end:i?l+d:c+p}:{start:i?l+d:c+p,end:i?l:c}}function Ef(e,t,n,i,l){if(e*t<e*i||e*t>e*l)return!1;var c=n();return e*(t-e*c/2-i)>=0&&e*(t+e*c/2-l)<=0}function eU(e,t){return CE(e,t+1)}function tU(e,t,n,i,l){for(var c=(i||[]).slice(),{start:d,end:p}=t,m=0,g=1,h=d,x=function(){var k=i?.[m];if(k===void 0)return{v:CE(i,g)};var w=m,C,z=()=>(C===void 0&&(C=n(k,w)),C),E=k.coordinate,A=m===0||Ef(e,E,z,h,p);A||(m=0,h=d,g+=1),A&&(h=E+e*(z()/2+l),m+=g)},S;g<=c.length;)if(S=x(),S)return S.v;return[]}function k2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k2(Object(n),!0).forEach(function(i){rU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function rU(e,t,n){return(t=nU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nU(e){var t=iU(e,"string");return typeof t=="symbol"?t:t+""}function iU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oU(e,t,n,i,l){for(var c=(i||[]).slice(),d=c.length,{start:p}=t,{end:m}=t,g=function(S){var j=c[S],k,w=()=>(k===void 0&&(k=n(j,S)),k);if(S===d-1){var C=e*(j.coordinate+e*w()/2-m);c[S]=j=Xr(Xr({},j),{},{tickCoord:C>0?j.coordinate-C*e:j.coordinate})}else c[S]=j=Xr(Xr({},j),{},{tickCoord:j.coordinate});var z=Ef(e,j.tickCoord,w,p,m);z&&(m=j.tickCoord-e*(w()/2+l),c[S]=Xr(Xr({},j),{},{isShow:!0}))},h=d-1;h>=0;h--)g(h);return c}function aU(e,t,n,i,l,c){var d=(i||[]).slice(),p=d.length,{start:m,end:g}=t;if(c){var h=i[p-1],x=n(h,p-1),S=e*(h.coordinate+e*x/2-g);d[p-1]=h=Xr(Xr({},h),{},{tickCoord:S>0?h.coordinate-S*e:h.coordinate});var j=Ef(e,h.tickCoord,()=>x,m,g);j&&(g=h.tickCoord-e*(x/2+l),d[p-1]=Xr(Xr({},h),{},{isShow:!0}))}for(var k=c?p-1:p,w=function(E){var A=d[E],$,T=()=>($===void 0&&($=n(A,E)),$);if(E===0){var D=e*(A.coordinate-e*T()/2-m);d[E]=A=Xr(Xr({},A),{},{tickCoord:D<0?A.coordinate-D*e:A.coordinate})}else d[E]=A=Xr(Xr({},A),{},{tickCoord:A.coordinate});var R=Ef(e,A.tickCoord,T,m,g);R&&(m=A.tickCoord+e*(T()/2+l),d[E]=Xr(Xr({},A),{},{isShow:!0}))},C=0;C<k;C++)w(C);return d}function _b(e,t,n){var{tick:i,ticks:l,viewBox:c,minTickGap:d,orientation:p,interval:m,tickFormatter:g,unit:h,angle:x}=e;if(!l||!l.length||!i)return[];if(Ge(m)||sa.isSsr){var S;return(S=eU(l,Ge(m)?m:0))!==null&&S!==void 0?S:[]}var j=[],k=p==="top"||p==="bottom"?"width":"height",w=h&&k==="width"?gc(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},C=(A,$)=>{var T=typeof g=="function"?g(A.value,$):A.value;return k==="width"?Z9(gc(T,{fontSize:t,letterSpacing:n}),w,x):gc(T,{fontSize:t,letterSpacing:n})[k]},z=l.length>=2?Pr(l[1].coordinate-l[0].coordinate):1,E=J9(c,z,k);return m==="equidistantPreserveStart"?tU(z,E,C,l,d):(m==="preserveStart"||m==="preserveStartEnd"?j=aU(z,E,C,l,d,m==="preserveStartEnd"):j=oU(z,E,C,l,d),j.filter(A=>A.isShow))}var sU=e=>{var{ticks:t,label:n,labelGapWithTick:i=5,tickSize:l=0,tickMargin:c=0}=e,d=0;if(t){t.forEach(h=>{if(h){var x=h.getBoundingClientRect();x.width>d&&(d=x.width)}});var p=n?n.getBoundingClientRect().width:0,m=l+c,g=d+m+p+(n?i:0);return Math.round(g)}return 0},lU=["axisLine","width","height","className","hide","ticks"],cU=["viewBox"],uU=["viewBox"];function fx(e,t){if(e==null)return{};var n,i,l=dU(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function dU(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fa.apply(null,arguments)}function C2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(n),!0).forEach(function(i){fU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function fU(e,t,n){return(t=pU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pU(e){var t=gU(e,"string");return typeof t=="symbol"?t:t+""}function gU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tb={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function mU(e){var{x:t,y:n,width:i,height:l,orientation:c,mirror:d,axisLine:p,otherSvgProps:m}=e;if(!p)return null;var g=Er(Er(Er({},m),lr(p,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);g=Er(Er({},g),{},{x1:t,y1:n+h*l,x2:t+i,y2:n+h*l})}else{var x=+(c==="left"&&!d||c==="right"&&d);g=Er(Er({},g),{},{x1:t+x*i,y1:n,x2:t+x*i,y2:n+l})}return y.createElement("line",Fa({},g,{className:kt("recharts-cartesian-axis-line",Ia(p,"className"))}))}function hU(e,t,n,i,l,c,d,p,m){var g,h,x,S,j,k,w=p?-1:1,C=e.tickSize||d,z=Ge(e.tickCoord)?e.tickCoord:e.coordinate;switch(c){case"top":g=h=e.coordinate,S=n+ +!p*l,x=S-w*C,k=x-w*m,j=z;break;case"left":x=S=e.coordinate,h=t+ +!p*i,g=h-w*C,j=g-w*m,k=z;break;case"right":x=S=e.coordinate,h=t+ +p*i,g=h+w*C,j=g+w*m,k=z;break;default:g=h=e.coordinate,S=n+ +p*l,x=S+w*C,k=x+w*m,j=z;break}return{line:{x1:g,y1:x,x2:h,y2:S},tick:{x:j,y:k}}}function yU(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function xU(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function vU(e){var{option:t,tickProps:n,value:i}=e,l,c=kt(n.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))l=y.cloneElement(t,Er(Er({},n),{},{className:c}));else if(typeof t=="function")l=t(Er(Er({},n),{},{className:c}));else{var d="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(d=kt(d,t?.className)),l=y.createElement(bp,Fa({},n,{className:d}),i)}return l}function bU(e){var{ticks:t=[],tick:n,tickLine:i,stroke:l,tickFormatter:c,unit:d,padding:p,tickTextProps:m,orientation:g,mirror:h,x,y:S,width:j,height:k,tickSize:w,tickMargin:C,fontSize:z,letterSpacing:E,getTicksConfig:A,events:$}=e,T=_b(Er(Er({},A),{},{ticks:t}),z,E),D=yU(g,h),R=xU(g,h),F=Li(A),U=lr(n,!1),le=Er(Er({},F),{},{fill:"none"},lr(i,!1)),X=T.map((ae,ye)=>{var{line:pe,tick:_e}=hU(ae,x,S,j,k,g,w,h,C),B=Er(Er(Er(Er({textAnchor:D,verticalAnchor:R},F),{},{stroke:"none",fill:l},U),_e),{},{index:ye,payload:ae,visibleTicksCount:T.length,tickFormatter:c,padding:p},m);return y.createElement(Yr,Fa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(ae.value,"-").concat(ae.coordinate,"-").concat(ae.tickCoord)},Pc($,ae,ye)),i&&y.createElement("line",Fa({},le,pe,{className:kt("recharts-cartesian-axis-tick-line",Ia(i,"className"))})),n&&y.createElement(vU,{option:n,tickProps:B,value:"".concat(typeof c=="function"?c(ae.value,ye):ae.value).concat(d||"")}))});return X.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},X):null}var SU=y.forwardRef((e,t)=>{var{axisLine:n,width:i,height:l,className:c,hide:d,ticks:p}=e,m=fx(e,lU),[g,h]=y.useState(""),[x,S]=y.useState(""),j=y.useRef([]);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return sU({ticks:j.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var k=y.useCallback(w=>{if(w){var C=w.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=Array.from(C);var z=C[0];if(z){var E=window.getComputedStyle(z),A=E.fontSize,$=E.letterSpacing;(A!==g||$!==x)&&(h(A),S($))}}},[g,x]);return d||i!=null&&i<=0||l!=null&&l<=0?null:y.createElement(Yr,{className:kt("recharts-cartesian-axis",c),ref:k},y.createElement(mU,{x:e.x,y:e.y,width:i,height:l,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Li(e)}),y.createElement(bU,{ticks:p,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:g,letterSpacing:x,getTicksConfig:e,events:m}),y.createElement(zI,{x:e.x,y:e.y,width:e.width,height:e.height},y.createElement(PI,{label:e.label}),e.children))}),jU=y.memo(SU,(e,t)=>{var{viewBox:n}=e,i=fx(e,cU),{viewBox:l}=t,c=fx(t,uU);return Ks(n,l)&&Ks(i,c)}),Ab=y.forwardRef((e,t)=>{var n=Vr(e,Tb);return y.createElement(jU,Fa({},n,{ref:t}))});Ab.displayName="CartesianAxis";var wU=["x1","y1","x2","y2","key"],kU=["offset"],CU=["xAxisId","yAxisId"],zU=["xAxisId","yAxisId"];function z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(n),!0).forEach(function(i){_U(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _U(e,t,n){return(t=TU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TU(e){var t=AU(e,"string");return typeof t=="symbol"?t:t+""}function AU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pa.apply(null,arguments)}function Of(e,t){if(e==null)return{};var n,i,l=EU(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function EU(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var OU=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:i,y:l,width:c,height:d,ry:p}=e;return y.createElement("rect",{x:i,y:l,ry:p,width:c,height:d,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function zE(e,t){var n;if(y.isValidElement(e))n=y.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:i,y1:l,x2:c,y2:d,key:p}=t,m=Of(t,wU),g=Li(m),{offset:h}=g,x=Of(g,kU);n=y.createElement("line",Pa({},x,{x1:i,y1:l,x2:c,y2:d,fill:"none",key:p}))}return n}function MU(e){var{x:t,width:n,horizontal:i=!0,horizontalPoints:l}=e;if(!i||!l||!l.length)return null;var{xAxisId:c,yAxisId:d}=e,p=Of(e,CU),m=l.map((g,h)=>{var x=Qr(Qr({},p),{},{x1:t,y1:g,x2:t+n,y2:g,key:"line-".concat(h),index:h});return zE(i,x)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function RU(e){var{y:t,height:n,vertical:i=!0,verticalPoints:l}=e;if(!i||!l||!l.length)return null;var{xAxisId:c,yAxisId:d}=e,p=Of(e,zU),m=l.map((g,h)=>{var x=Qr(Qr({},p),{},{x1:g,y1:t,x2:g,y2:t+n,key:"line-".concat(h),index:h});return zE(i,x)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function DU(e){var{horizontalFill:t,fillOpacity:n,x:i,y:l,width:c,height:d,horizontalPoints:p,horizontal:m=!0}=e;if(!m||!t||!t.length)return null;var g=p.map(x=>Math.round(x+l-l)).sort((x,S)=>x-S);l!==g[0]&&g.unshift(0);var h=g.map((x,S)=>{var j=!g[S+1],k=j?l+d-x:g[S+1]-x;if(k<=0)return null;var w=S%t.length;return y.createElement("rect",{key:"react-".concat(S),y:x,x:i,height:k,width:c,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function $U(e){var{vertical:t=!0,verticalFill:n,fillOpacity:i,x:l,y:c,width:d,height:p,verticalPoints:m}=e;if(!t||!n||!n.length)return null;var g=m.map(x=>Math.round(x+l-l)).sort((x,S)=>x-S);l!==g[0]&&g.unshift(0);var h=g.map((x,S)=>{var j=!g[S+1],k=j?l+d-x:g[S+1]-x;if(k<=0)return null;var w=S%n.length;return y.createElement("rect",{key:"react-".concat(S),x,y:c,width:k,height:p,stroke:"none",fill:n[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var PU=(e,t)=>{var{xAxis:n,width:i,height:l,offset:c}=e;return w_(_b(Qr(Qr(Qr({},Tb),n),{},{ticks:k_(n),viewBox:{x:0,y:0,width:i,height:l}})),c.left,c.left+c.width,t)},NU=(e,t)=>{var{yAxis:n,width:i,height:l,offset:c}=e;return w_(_b(Qr(Qr(Qr({},Tb),n),{},{ticks:k_(n),viewBox:{x:0,y:0,width:i,height:l}})),c.top,c.top+c.height,t)},LU={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function qd(e){var t=tv(),n=rv(),i=T_(),l=Qr(Qr({},Vr(e,LU)),{},{x:Ge(e.x)?e.x:i.left,y:Ge(e.y)?e.y:i.top,width:Ge(e.width)?e.width:i.width,height:Ge(e.height)?e.height:i.height}),{xAxisId:c,yAxisId:d,x:p,y:m,width:g,height:h,syncWithTicks:x,horizontalValues:S,verticalValues:j}=l,k=yn(),w=qe(U=>wC(U,"xAxis",c,k)),C=qe(U=>wC(U,"yAxis",d,k));if(!Ge(g)||g<=0||!Ge(h)||h<=0||!Ge(p)||p!==+p||!Ge(m)||m!==+m)return null;var z=l.verticalCoordinatesGenerator||PU,E=l.horizontalCoordinatesGenerator||NU,{horizontalPoints:A,verticalPoints:$}=l;if((!A||!A.length)&&typeof E=="function"){var T=S&&S.length,D=E({yAxis:C?Qr(Qr({},C),{},{ticks:T?S:C.ticks}):void 0,width:t,height:n,offset:i},T?!0:x);pc(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(A=D)}if((!$||!$.length)&&typeof z=="function"){var R=j&&j.length,F=z({xAxis:w?Qr(Qr({},w),{},{ticks:R?j:w.ticks}):void 0,width:t,height:n,offset:i},R?!0:x);pc(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&($=F)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(OU,{fill:l.fill,fillOpacity:l.fillOpacity,x:l.x,y:l.y,width:l.width,height:l.height,ry:l.ry}),y.createElement(DU,Pa({},l,{horizontalPoints:A})),y.createElement($U,Pa({},l,{verticalPoints:$})),y.createElement(MU,Pa({},l,{offset:i,horizontalPoints:A,xAxis:w,yAxis:C})),y.createElement(RU,Pa({},l,{offset:i,verticalPoints:$,xAxis:w,yAxis:C})))}qd.displayName="CartesianGrid";var _E=(e,t,n,i)=>ea(e,"xAxis",t,i),TE=(e,t,n,i)=>Jo(e,"xAxis",t,i),AE=(e,t,n,i)=>ea(e,"yAxis",n,i),EE=(e,t,n,i)=>Jo(e,"yAxis",n,i),WU=ue([St,_E,AE,TE,EE],(e,t,n,i,l)=>aa(e,"xAxis")?jc(t,i,!1):jc(n,l,!1)),BU=(e,t,n,i,l)=>l;function IU(e){return e.type==="line"}var qU=ue([gp,BU],(e,t)=>e.filter(IU).find(n=>n.id===t)),UU=ue([St,_E,AE,TE,EE,qU,WU,cp],(e,t,n,i,l,c,d,p)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:h}=p;if(!(c==null||t==null||n==null||i==null||l==null||i.length===0||l.length===0||d==null)){var{dataKey:x,data:S}=c,j;if(S!=null&&S.length>0?j=S:j=m?.slice(g,h+1),j!=null)return dH({layout:e,xAxis:t,yAxis:n,xAxisTicks:i,yAxisTicks:l,dataKey:x,bandSize:d,displayedData:j})}}),HU=["id"],FU=["type","layout","connectNulls","needClip"],KU=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function _2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(n),!0).forEach(function(i){YU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function YU(e,t,n){return(t=VU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VU(e){var t=GU(e,"string");return typeof t=="symbol"?t:t+""}function GU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eb(e,t){if(e==null)return{};var n,i,l=XU(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function XU(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ka.apply(null,arguments)}var QU=e=>{var{dataKey:t,name:n,stroke:i,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:i,value:Js(n,t),payload:e}]};function ZU(e){var{dataKey:t,data:n,stroke:i,strokeWidth:l,fill:c,name:d,hide:p,unit:m}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:i,strokeWidth:l,fill:c,dataKey:t,nameKey:void 0,name:Js(d,t),hide:p,type:e.tooltipType,color:e.stroke,unit:m}}}var OE=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function JU(e,t){for(var n=e.length%2!==0?[...e,0]:e,i=[],l=0;l<t;++l)i=[...i,...n];return i}var eH=(e,t,n)=>{var i=n.reduce((x,S)=>x+S);if(!i)return OE(t,e);for(var l=Math.floor(e/i),c=e%i,d=t-e,p=[],m=0,g=0;m<n.length;g+=n[m],++m)if(g+n[m]>c){p=[...n.slice(0,m),c-g];break}var h=p.length%2===0?[0,d]:[d];return[...JU(n,l),...p,...h].map(x=>"".concat(x,"px")).join(", ")};function tH(e,t){var n;if(y.isValidElement(e))n=y.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var i=kt("recharts-line-dot",typeof e!="boolean"?e.className:"");n=y.createElement(oE,Ka({},t,{className:i}))}return n}function rH(e,t){return e==null?!1:t?!0:e.length===1}function nH(e){var{clipPathId:t,points:n,props:i}=e,{dot:l,dataKey:c,needClip:d}=i;if(!rH(n,l))return null;var{id:p}=i,m=Eb(i,HU),g=xz(l),h=Li(m),x=lr(l,!0),S=n.map((k,w)=>{var C=En(En(En({key:"dot-".concat(w),r:3},h),x),{},{index:w,cx:k.x,cy:k.y,dataKey:c,value:k.value,payload:k.payload,points:n});return tH(l,C)}),j={clipPath:d?"url(#clipPath-".concat(g?"":"dots-").concat(t,")"):void 0};return y.createElement(Yr,Ka({className:"recharts-line-dots",key:"dots"},j),S)}function iH(e){var{showLabels:t,children:n,points:i}=e,l=y.useMemo(()=>i?.map(c=>{var d={x:c.x,y:c.y,width:0,height:0};return En(En({},d),{},{value:c.value,payload:c.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[i]);return y.createElement(nE,{value:t?l:null},n)}function T2(e){var{clipPathId:t,pathRef:n,points:i,strokeDasharray:l,props:c}=e,{type:d,layout:p,connectNulls:m,needClip:g}=c,h=Eb(c,FU),x=En(En({},lr(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:g?"url(#clipPath-".concat(t,")"):void 0,points:i,type:d,layout:p,connectNulls:m,strokeDasharray:l??c.strokeDasharray});return y.createElement(y.Fragment,null,i?.length>1&&y.createElement(iv,Ka({},x,{pathRef:n})),y.createElement(nH,{points:i,clipPathId:t,props:c}))}function oH(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function aH(e){var{clipPathId:t,props:n,pathRef:i,previousPointsRef:l,longestAnimatedLengthRef:c}=e,{points:d,strokeDasharray:p,isAnimationActive:m,animationBegin:g,animationDuration:h,animationEasing:x,animateNewValues:S,width:j,height:k,onAnimationEnd:w,onAnimationStart:C}=n,z=l.current,E=Ic(n,"recharts-line-"),[A,$]=y.useState(!1),T=!A,D=y.useCallback(()=>{typeof w=="function"&&w(),$(!1)},[w]),R=y.useCallback(()=>{typeof C=="function"&&C(),$(!0)},[C]),F=oH(i.current),U=c.current;return y.createElement(iH,{points:d,showLabels:T},n.children,y.createElement(Bc,{animationId:E,begin:g,duration:h,isActive:m,easing:x,onAnimationEnd:D,onAnimationStart:R,key:E},le=>{var X=pr(U,F+U,le),ae=Math.min(X,F),ye;if(m)if(p){var pe="".concat(p).split(/[,\s]+/gim).map(Z=>parseFloat(Z));ye=eH(ae,F,pe)}else ye=OE(F,ae);else ye=p==null?void 0:String(p);if(z){var _e=z.length/d.length,B=le===1?d:d.map((Z,ce)=>{var Ce=Math.floor(ce*_e);if(z[Ce]){var Te=z[Ce];return En(En({},Z),{},{x:pr(Te.x,Z.x,le),y:pr(Te.y,Z.y,le)})}return S?En(En({},Z),{},{x:pr(j*2,Z.x,le),y:pr(k/2,Z.y,le)}):En(En({},Z),{},{x:Z.x,y:Z.y})});return l.current=B,y.createElement(T2,{props:n,points:B,clipPathId:t,pathRef:i,strokeDasharray:ye})}return le>0&&F>0&&(l.current=d,c.current=ae),y.createElement(T2,{props:n,points:d,clipPathId:t,pathRef:i,strokeDasharray:ye})}),y.createElement(fb,{label:n.label}))}function sH(e){var{clipPathId:t,props:n}=e,i=y.useRef(null),l=y.useRef(0),c=y.useRef(null);return y.createElement(aH,{props:n,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:l,pathRef:c})}var lH=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Yt(e.payload,t)});class cH extends y.Component{render(){var t,{hide:n,dot:i,points:l,className:c,xAxisId:d,yAxisId:p,top:m,left:g,width:h,height:x,id:S,needClip:j}=this.props;if(n)return null;var k=kt("recharts-line",c),w=S,{r:C=3,strokeWidth:z=2}=(t=lr(i,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},E=xz(i),A=C*2+z;return y.createElement(y.Fragment,null,y.createElement(Yr,{className:k},j&&y.createElement("defs",null,y.createElement(vE,{clipPathId:w,xAxisId:d,yAxisId:p}),!E&&y.createElement("clipPath",{id:"clipPath-dots-".concat(w)},y.createElement("rect",{x:g-A/2,y:m-A/2,width:h+A,height:x+A}))),y.createElement(xE,{xAxisId:d,yAxisId:p,data:l,dataPointFormatter:lH,errorBarOffset:0},y.createElement(sH,{props:this.props,clipPathId:w}))),y.createElement(Aq,{activeDot:this.props.activeDot,points:l,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var ME={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!sa.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function uH(e){var t=Vr(e,ME),{activeDot:n,animateNewValues:i,animationBegin:l,animationDuration:c,animationEasing:d,connectNulls:p,dot:m,hide:g,isAnimationActive:h,label:x,legendType:S,xAxisId:j,yAxisId:k,id:w}=t,C=Eb(t,KU),{needClip:z}=Cb(j,k),E=wb(),A=rp(),$=yn(),T=qe(le=>UU(le,j,k,$,w));if(A!=="horizontal"&&A!=="vertical"||T==null||E==null)return null;var{height:D,width:R,x:F,y:U}=E;return y.createElement(cH,Ka({},C,{id:w,connectNulls:p,dot:m,activeDot:n,animateNewValues:i,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:h,hide:g,label:x,legendType:S,xAxisId:j,yAxisId:k,points:T,layout:A,height:D,width:R,left:F,top:U,needClip:z}))}function dH(e){var{layout:t,xAxis:n,yAxis:i,xAxisTicks:l,yAxisTicks:c,dataKey:d,bandSize:p,displayedData:m}=e;return m.map((g,h)=>{var x=Yt(g,d);if(t==="horizontal"){var S=ik({axis:n,ticks:l,bandSize:p,entry:g,index:h}),j=ir(x)?null:i.scale(x);return{x:S,y:j,value:x,payload:g}}var k=ir(x)?null:n.scale(x),w=ik({axis:i,ticks:c,bandSize:p,entry:g,index:h});return k==null||w==null?null:{x:k,y:w,value:x,payload:g}}).filter(Boolean)}function fH(e){var t=Vr(e,ME),n=yn();return y.createElement(Sb,{id:t.id,type:"line"},i=>y.createElement(y.Fragment,null,y.createElement(fE,{legendPayload:QU(t)}),y.createElement(bb,{fn:ZU,args:t}),y.createElement(gE,{type:"line",id:i,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),y.createElement(uH,Ka({},t,{id:i}))))}var RE=y.memo(fH);RE.displayName="Line";var pH=["dangerouslySetInnerHTML","ticks"],gH=["id"],mH=["domain"],hH=["domain"];function px(){return px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},px.apply(null,arguments)}function Mf(e,t){if(e==null)return{};var n,i,l=yH(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function yH(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function xH(e){var t=cr();return y.useEffect(()=>(t(hq(e)),()=>{t(yq(e))}),[e,t]),null}var vH=e=>{var{xAxisId:t,className:n}=e,i=qe(Jx),l=yn(),c="xAxis",d=qe(C=>al(C,c,t,l)),p=qe(C=>vA(C,c,t,l)),m=qe(C=>mA(C,t)),g=qe(C=>QL(C,t)),h=qe(C=>KT(C,t));if(m==null||g==null||h==null)return null;var{dangerouslySetInnerHTML:x,ticks:S}=e,j=Mf(e,pH),{id:k}=h,w=Mf(h,gH);return y.createElement(Ab,px({},j,w,{scale:d,x:g.x,y:g.y,width:m.width,height:m.height,className:kt("recharts-".concat(c," ").concat(c),n),viewBox:i,ticks:p}))},bH={allowDataOverflow:_n.allowDataOverflow,allowDecimals:_n.allowDecimals,allowDuplicatedCategory:_n.allowDuplicatedCategory,height:_n.height,hide:!1,mirror:_n.mirror,orientation:_n.orientation,padding:_n.padding,reversed:_n.reversed,scale:_n.scale,tickCount:_n.tickCount,type:_n.type,xAxisId:0},SH=e=>{var t,n,i,l,c,d=Vr(e,bH);return y.createElement(y.Fragment,null,y.createElement(xH,{interval:(t=d.interval)!==null&&t!==void 0?t:"preserveEnd",id:d.xAxisId,scale:d.scale,type:d.type,padding:d.padding,allowDataOverflow:d.allowDataOverflow,domain:d.domain,dataKey:d.dataKey,allowDuplicatedCategory:d.allowDuplicatedCategory,allowDecimals:d.allowDecimals,tickCount:d.tickCount,includeHidden:(n=d.includeHidden)!==null&&n!==void 0?n:!1,reversed:d.reversed,ticks:d.ticks,height:d.height,orientation:d.orientation,mirror:d.mirror,hide:d.hide,unit:d.unit,name:d.name,angle:(i=d.angle)!==null&&i!==void 0?i:0,minTickGap:(l=d.minTickGap)!==null&&l!==void 0?l:5,tick:(c=d.tick)!==null&&c!==void 0?c:!0,tickFormatter:d.tickFormatter}),y.createElement(vH,d))},jH=(e,t)=>{var{domain:n}=e,i=Mf(e,mH),{domain:l}=t,c=Mf(t,hH);return Ks(i,c)?Array.isArray(n)&&n.length===2&&Array.isArray(l)&&l.length===2?n[0]===l[0]&&n[1]===l[1]:Ks({domain:n},{domain:l}):!1},Ud=y.memo(SH,jH);Ud.displayName="XAxis";var wH=["dangerouslySetInnerHTML","ticks"],kH=["id"],CH=["domain"],zH=["domain"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gx.apply(null,arguments)}function Rf(e,t){if(e==null)return{};var n,i,l=_H(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _H(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function TH(e){var t=cr();return y.useEffect(()=>(t(xq(e)),()=>{t(vq(e))}),[e,t]),null}var AH=e=>{var{yAxisId:t,className:n,width:i,label:l}=e,c=y.useRef(null),d=y.useRef(null),p=qe(Jx),m=yn(),g=cr(),h="yAxis",x=qe(T=>al(T,h,t,m)),S=qe(T=>hA(T,t)),j=qe(T=>JL(T,t)),k=qe(T=>vA(T,h,t,m)),w=qe(T=>YT(T,t));if(y.useLayoutEffect(()=>{if(!(i!=="auto"||!S||db(l)||y.isValidElement(l)||w==null)){var T=c.current;if(T){var D=T.getCalculatedWidth();Math.round(S.width)!==Math.round(D)&&g(bq({id:t,width:D}))}}},[k,S,g,l,t,i,w]),S==null||j==null||w==null)return null;var{dangerouslySetInnerHTML:C,ticks:z}=e,E=Rf(e,wH),{id:A}=w,$=Rf(w,kH);return y.createElement(Ab,gx({},E,$,{ref:c,labelRef:d,scale:x,x:j.x,y:j.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:S.width,height:S.height,className:kt("recharts-".concat(h," ").concat(h),n),viewBox:p,ticks:k}))},EH={allowDataOverflow:Tn.allowDataOverflow,allowDecimals:Tn.allowDecimals,allowDuplicatedCategory:Tn.allowDuplicatedCategory,hide:!1,mirror:Tn.mirror,orientation:Tn.orientation,padding:Tn.padding,reversed:Tn.reversed,scale:Tn.scale,tickCount:Tn.tickCount,type:Tn.type,width:Tn.width,yAxisId:0},OH=e=>{var t,n,i,l,c,d=Vr(e,EH);return y.createElement(y.Fragment,null,y.createElement(TH,{interval:(t=d.interval)!==null&&t!==void 0?t:"preserveEnd",id:d.yAxisId,scale:d.scale,type:d.type,domain:d.domain,allowDataOverflow:d.allowDataOverflow,dataKey:d.dataKey,allowDuplicatedCategory:d.allowDuplicatedCategory,allowDecimals:d.allowDecimals,tickCount:d.tickCount,padding:d.padding,includeHidden:(n=d.includeHidden)!==null&&n!==void 0?n:!1,reversed:d.reversed,ticks:d.ticks,width:d.width,orientation:d.orientation,mirror:d.mirror,hide:d.hide,unit:d.unit,name:d.name,angle:(i=d.angle)!==null&&i!==void 0?i:0,minTickGap:(l=d.minTickGap)!==null&&l!==void 0?l:5,tick:(c=d.tick)!==null&&c!==void 0?c:!0,tickFormatter:d.tickFormatter}),y.createElement(AH,d))},MH=(e,t)=>{var{domain:n}=e,i=Rf(e,CH),{domain:l}=t,c=Rf(t,zH);return Ks(i,c)?Array.isArray(n)&&n.length===2&&Array.isArray(l)&&l.length===2?n[0]===l[0]&&n[1]===l[1]:Ks({domain:n},{domain:l}):!1},Hd=y.memo(OH,MH);Hd.displayName="YAxis";var dy={exports:{}},fy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A2;function RH(){if(A2)return fy;A2=1;var e=Gs();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,p=e.useDebugValue;return fy.useSyncExternalStoreWithSelector=function(m,g,h,x,S){var j=l(null);if(j.current===null){var k={hasValue:!1,value:null};j.current=k}else k=j.current;j=d(function(){function C(T){if(!z){if(z=!0,E=T,T=x(T),S!==void 0&&k.hasValue){var D=k.value;if(S(D,T))return A=D}return A=T}if(D=A,n(E,T))return D;var R=x(T);return S!==void 0&&S(D,R)?(E=T,D):(E=T,A=R)}var z=!1,E,A,$=h===void 0?null:h;return[function(){return C(g())},$===null?void 0:function(){return C($())}]},[g,h,x,S]);var w=i(m,j[0],j[1]);return c(function(){k.hasValue=!0,k.value=w},[w]),p(w),w},fy}var E2;function DH(){return E2||(E2=1,dy.exports=RH()),dy.exports}DH();function $H(e){e()}function PH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){$H(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const l=t={callback:n,next:null,prev:t};return l.prev?l.prev.next=l:e=l,function(){!i||e===null||(i=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}var O2={notify(){},get:()=>[]};function NH(e,t){let n,i=O2,l=0,c=!1;function d(w){h();const C=i.subscribe(w);let z=!1;return()=>{z||(z=!0,C(),x())}}function p(){i.notify()}function m(){k.onStateChange&&k.onStateChange()}function g(){return c}function h(){l++,n||(n=e.subscribe(m),i=PH())}function x(){l--,n&&l===0&&(n(),n=void 0,i.clear(),i=O2)}function S(){c||(c=!0,h())}function j(){c&&(c=!1,x())}const k={addNestedSub:d,notifyNestedSubs:p,handleChangeWrapper:m,isSubscribed:g,trySubscribe:S,tryUnsubscribe:j,getListeners:()=>i};return k}var LH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WH=LH(),BH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",IH=BH(),qH=()=>WH||IH?y.useLayoutEffect:y.useEffect,UH=qH(),HH=Symbol.for("react-redux-context"),FH=typeof globalThis<"u"?globalThis:{};function KH(){if(!y.createContext)return{};const e=FH[HH]??=new Map;let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var YH=KH();function VH(e){const{children:t,context:n,serverState:i,store:l}=e,c=y.useMemo(()=>{const m=NH(l);return{store:l,subscription:m,getServerState:i?()=>i:void 0}},[l,i]),d=y.useMemo(()=>l.getState(),[l]);UH(()=>{const{subscription:m}=c;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),d!==l.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[c,d]);const p=n||YH;return y.createElement(p.Provider,{value:c},t)}var GH=VH,XH=(e,t)=>t,Ob=ue([XH,St,UT,Rr,DA,wo,iB,Or],cB),Mb=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,i=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/i)}},DE=ri("mouseClick"),$E=Lc();$E.startListening({actionCreator:DE,effect:(e,t)=>{var n=e.payload,i=Ob(t.getState(),Mb(n));i?.activeIndex!=null&&t.dispatch(fW({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var mx=ri("mouseMove"),PE=Lc();PE.startListening({actionCreator:mx,effect:(e,t)=>{var n=e.payload,i=t.getState(),l=tb(i,i.tooltip.settings.shared),c=Ob(i,Mb(n));l==="axis"&&(c?.activeIndex!=null?t.dispatch(_A({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(zA()))}});var M2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},NE=Ln({name:"rootProps",initialState:M2,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:M2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),QH=NE.reducer,{updateOptions:ZH}=NE.actions,LE=Ln({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:JH}=LE.actions,eF=LE.reducer,WE=ri("keyDown"),BE=ri("focus"),Rb=Lc();Rb.startListening({actionCreator:WE,effect:(e,t)=>{var n=t.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:l}=n.tooltip,c=e.payload;if(!(c!=="ArrowRight"&&c!=="ArrowLeft"&&c!=="Enter")){var d=Number(rb(l,ll(n))),p=wo(n);if(c==="Enter"){var m=Cf(n,"axis","hover",String(l.index));t.dispatch(ox({active:!l.active,activeIndex:l.index,activeDataKey:l.dataKey,activeCoordinate:m}));return}var g=nW(n),h=g==="left-to-right"?1:-1,x=c==="ArrowRight"?1:-1,S=d+x*h;if(!(p==null||S>=p.length||S<0)){var j=Cf(n,"axis","hover",String(S));t.dispatch(ox({active:!0,activeIndex:S.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}});Rb.startListening({actionCreator:BE,effect:(e,t)=>{var n=t.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:l}=n.tooltip;if(!l.active&&l.index==null){var c="0",d=Cf(n,"axis","hover",String(c));t.dispatch(ox({activeDataKey:void 0,active:!0,activeIndex:c,activeCoordinate:d}))}}}});var Qn=ri("externalEvent"),IE=Lc();IE.startListening({actionCreator:Qn,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),i={activeCoordinate:VW(n),activeDataKey:LA(n),activeIndex:ta(n),activeLabel:NA(n),activeTooltipIndex:ta(n),isTooltipActive:GW(n)};e.payload.handler(i,e.payload.reactEvent)}}});var tF=ue([sl],e=>e.tooltipItemPayloads),rF=ue([tF,Qc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,i)=>{var l=e.find(p=>p.settings.dataKey===i);if(l!=null){var{positions:c}=l;if(c!=null){var d=t(c,n);return d}}}),qE=ri("touchMove"),UE=Lc();UE.startListening({actionCreator:qE,effect:(e,t)=>{var n=e.payload,i=t.getState(),l=tb(i,i.tooltip.settings.shared);if(l==="axis"){var c=Ob(i,Mb({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));c?.activeIndex!=null&&t.dispatch(_A({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(l==="item"){var d,p=n.touches[0],m=document.elementFromPoint(p.clientX,p.clientY);if(!m||!m.getAttribute)return;var g=m.getAttribute(z_),h=(d=m.getAttribute(__))!==null&&d!==void 0?d:void 0,x=rF(t.getState(),g,h);t.dispatch(CA({activeDataKey:h,activeIndex:g,activeCoordinate:x}))}}});var nF=Zz({brush:q9,cartesianAxis:Sq,chartData:CB,errorBars:Iq,graphicalItems:B7,layout:i4,legend:V4,options:bB,polarAxis:n7,polarOptions:eF,referenceElements:G9,rootProps:QH,tooltip:pW}),iF=function(t){return AP({reducer:nF,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([$E.middleware,PE.middleware,Rb.middleware,IE.middleware,UE.middleware]),devTools:sa.devToolsEnabled})};function HE(e){var{preloadedState:t,children:n,reduxStoreName:i}=e,l=yn(),c=y.useRef(null);if(l)return n;c.current==null&&(c.current=iF(t));var d=Yx;return y.createElement(GH,{context:d,store:c.current},n)}function FE(e){var{layout:t,width:n,height:i,margin:l}=e,c=cr(),d=yn();return y.useEffect(()=>{d||(c(t4(t)),c(r4({width:n,height:i})),c(e4(l)))},[c,d,t,n,i,l]),null}function KE(e){var t=cr();return y.useEffect(()=>{t(ZH(e))},[t,e]),null}var oF=["children"];function aF(e,t){if(e==null)return{};var n,i,l=sF(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function sF(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Df.apply(null,arguments)}var lF={width:"100%",height:"100%"},cF=y.forwardRef((e,t)=>{var n=tv(),i=rv(),l=M_();if(!Bs(n)||!Bs(i))return null;var{children:c,otherAttributes:d,title:p,desc:m}=e,g,h;return typeof d.tabIndex=="number"?g=d.tabIndex:g=l?0:void 0,typeof d.role=="string"?h=d.role:h=l?"application":void 0,y.createElement(Lx,Df({},d,{title:p,desc:m,role:h,tabIndex:g,width:n,height:i,style:lF,ref:t}),c)}),uF=e=>{var{children:t}=e,n=qe(tp);if(!n)return null;var{width:i,height:l,y:c,x:d}=n;return y.createElement(Lx,{width:i,height:l,x:d,y:c},t)},R2=y.forwardRef((e,t)=>{var{children:n}=e,i=aF(e,oF),l=yn();return l?y.createElement(uF,null,n):y.createElement(cF,Df({ref:t},i),n)});function dF(){var e=cr(),[t,n]=y.useState(null),i=qe(R4);return y.useEffect(()=>{if(t!=null){var l=t.getBoundingClientRect(),c=l.width/t.offsetWidth;Nn(c)&&c!==i&&e(n4(c))}},[t,e,i]),n}function D2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function fF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(n),!0).forEach(function(i){pF(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function pF(e,t,n){return(t=gF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gF(e){var t=mF(e,"string");return typeof t=="symbol"?t:t+""}function mF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hF=y.forwardRef((e,t)=>{var{children:n,className:i,height:l,onClick:c,onContextMenu:d,onDoubleClick:p,onMouseDown:m,onMouseEnter:g,onMouseLeave:h,onMouseMove:x,onMouseUp:S,onTouchEnd:j,onTouchMove:k,onTouchStart:w,style:C,width:z}=e,E=cr(),[A,$]=y.useState(null),[T,D]=y.useState(null);DB();var R=dF(),F=y.useCallback(q=>{R(q),typeof t=="function"&&t(q),$(q),D(q)},[R,t,$,D]),U=y.useCallback(q=>{E(DE(q)),E(Qn({handler:c,reactEvent:q}))},[E,c]),le=y.useCallback(q=>{E(mx(q)),E(Qn({handler:g,reactEvent:q}))},[E,g]),X=y.useCallback(q=>{E(zA()),E(Qn({handler:h,reactEvent:q}))},[E,h]),ae=y.useCallback(q=>{E(mx(q)),E(Qn({handler:x,reactEvent:q}))},[E,x]),ye=y.useCallback(()=>{E(BE())},[E]),pe=y.useCallback(q=>{E(WE(q.key))},[E]),_e=y.useCallback(q=>{E(Qn({handler:d,reactEvent:q}))},[E,d]),B=y.useCallback(q=>{E(Qn({handler:p,reactEvent:q}))},[E,p]),Z=y.useCallback(q=>{E(Qn({handler:m,reactEvent:q}))},[E,m]),ce=y.useCallback(q=>{E(Qn({handler:S,reactEvent:q}))},[E,S]),Ce=y.useCallback(q=>{E(Qn({handler:w,reactEvent:q}))},[E,w]),Te=y.useCallback(q=>{E(qE(q)),E(Qn({handler:k,reactEvent:q}))},[E,k]),W=y.useCallback(q=>{E(Qn({handler:j,reactEvent:q}))},[E,j]);return y.createElement(HA.Provider,{value:A},y.createElement(vz.Provider,{value:T},y.createElement("div",{className:kt("recharts-wrapper",i),style:fF({position:"relative",cursor:"default",width:z,height:l},C),onClick:U,onContextMenu:_e,onDoubleClick:B,onFocus:ye,onKeyDown:pe,onMouseDown:Z,onMouseEnter:le,onMouseLeave:X,onMouseMove:ae,onMouseUp:ce,onTouchEnd:W,onTouchMove:Te,onTouchStart:Ce,ref:F},n)))}),yF=["children","className","width","height","style","compact","title","desc"];function xF(e,t){if(e==null)return{};var n,i,l=vF(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function vF(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var YE=y.forwardRef((e,t)=>{var{children:n,className:i,width:l,height:c,style:d,compact:p,title:m,desc:g}=e,h=xF(e,yF),x=Li(h);return p?y.createElement(R2,{otherAttributes:x,title:m,desc:g},n):y.createElement(hF,{className:i,style:d,width:l,height:c,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(R2,{otherAttributes:x,title:m,desc:g,ref:t},y.createElement(Q9,null,n)))}),bF=["width","height"];function hx(){return hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hx.apply(null,arguments)}function SF(e,t){if(e==null)return{};var n,i,l=jF(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function jF(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var wF={top:5,right:5,bottom:5,left:5},kF={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:wF,reverseStackOrder:!1,syncMethod:"index"},VE=y.forwardRef(function(t,n){var i,l=Vr(t.categoricalChartProps,kF),{width:c,height:d}=l,p=SF(l,bF);if(!Bs(c)||!Bs(d))return null;var{chartName:m,defaultTooltipEventType:g,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,categoricalChartProps:S}=t,j={chartName:m,defaultTooltipEventType:g,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,eventEmitter:void 0};return y.createElement(HE,{preloadedState:{options:j},reduxStoreName:(i=S.id)!==null&&i!==void 0?i:m},y.createElement(jE,{chartData:S.data}),y.createElement(FE,{width:c,height:d,layout:l.layout,margin:l.margin}),y.createElement(KE,{accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className}),y.createElement(YE,hx({},p,{width:c,height:d,ref:n})))}),CF=["axis"],zF=y.forwardRef((e,t)=>y.createElement(VE,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:CF,tooltipPayloadSearcher:ub,categoricalChartProps:e,ref:t})),_F=["axis","item"],$2=y.forwardRef((e,t)=>y.createElement(VE,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_F,tooltipPayloadSearcher:ub,categoricalChartProps:e,ref:t}));function TF(e){var t=cr();return y.useEffect(()=>{t(JH(e))},[t,e]),null}var AF=["width","height","layout"];function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},yx.apply(null,arguments)}function EF(e,t){if(e==null)return{};var n,i,l=OF(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function OF(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var MF={top:5,right:5,bottom:5,left:5},RF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:MF,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},DF=y.forwardRef(function(t,n){var i,l=Vr(t.categoricalChartProps,RF),{width:c,height:d,layout:p}=l,m=EF(l,AF);if(!Bs(c)||!Bs(d))return null;var{chartName:g,defaultTooltipEventType:h,validateTooltipEventTypes:x,tooltipPayloadSearcher:S}=t,j={chartName:g,defaultTooltipEventType:h,validateTooltipEventTypes:x,tooltipPayloadSearcher:S,eventEmitter:void 0};return y.createElement(HE,{preloadedState:{options:j},reduxStoreName:(i=l.id)!==null&&i!==void 0?i:g},y.createElement(jE,{chartData:l.data}),y.createElement(FE,{width:c,height:d,layout:p,margin:l.margin}),y.createElement(KE,{accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className}),y.createElement(TF,{cx:l.cx,cy:l.cy,startAngle:l.startAngle,endAngle:l.endAngle,innerRadius:l.innerRadius,outerRadius:l.outerRadius}),y.createElement(YE,yx({width:c,height:d},m,{ref:n})))}),$F=["item"],PF={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},NF=y.forwardRef((e,t)=>{var n=Vr(e,PF);return y.createElement(DF,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:$F,tooltipPayloadSearcher:ub,categoricalChartProps:n,ref:t})});/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WF=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),P2=e=>{const t=WF(e);return t.charAt(0).toUpperCase()+t.slice(1)},GE=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),BF=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:c,iconNode:d,...p},m)=>y.createElement("svg",{ref:m,...IF,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:GE("lucide",l),...!c&&!BF(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,h])=>y.createElement(g,h)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(e,t)=>{const n=y.forwardRef(({className:i,...l},c)=>y.createElement(qF,{ref:c,iconNode:t,className:GE(`lucide-${LF(P2(e))}`,`lucide-${e}`,i),...l}));return n.displayName=P2(e),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],N2=Pe("archive",UF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Ys=Pe("arrow-down",HF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$f=Pe("arrow-left",FF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],YF=Pe("arrow-right",KF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],GF=Pe("arrow-up-down",VF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Vs=Pe("arrow-up",XF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ZF=Pe("bell",QF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xx=Pe("calendar",JF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],vx=Pe("camera",eK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ei=Pe("chevron-down",tK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nK=Pe("chevron-left",rK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],XE=Pe("chevron-right",iK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ec=Pe("chevron-up",oK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],sK=Pe("chevrons-left",aK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],cK=Pe("chevrons-right",lK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],mn=Pe("circle-alert",uK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kt=Pe("circle-check-big",dK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Oc=Pe("circle-x",fK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],QE=Pe("circle",pK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mn=Pe("clock",gK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ZE=Pe("copy",mK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],yK=Pe("dollar-sign",hK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Mi=Pe("external-link",xK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bK=Pe("eye-off",vK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jK=Pe("eye",SK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],JE=Pe("file-text",wK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],eO=Pe("funnel",kK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],tO=Pe("git-branch",CK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],_K=Pe("grip-vertical",zK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],rO=Pe("info",TK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],EK=Pe("key",AK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],MK=Pe("layout-dashboard",OK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],py=Pe("lightbulb",RK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],nO=Pe("link-2",DK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],iO=Pe("list",$K);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Dn=Pe("loader-circle",PK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Pf=Pe("loader",NK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WK=Pe("log-out",LK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Sp=Pe("mail",BK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ei=Pe("message-circle",IK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],bx=Pe("message-square",qK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ya=Pe("minus",UK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],oO=Pe("package",HK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],KK=Pe("party-popper",FK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],VK=Pe("pause",YK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Nf=Pe("pen",GK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],cl=Pe("phone",XK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Lf=Pe("play",QK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sr=Pe("plus",ZK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Db=Pe("refresh-cw",JK);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],tY=Pe("rotate-ccw",eY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Fd=Pe("save",rY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yi=Pe("search",nY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],oY=Pe("send",iY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sY=Pe("settings",aY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],aO=Pe("shield",lY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],sO=Pe("shopping-cart",cY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sx=Pe("sparkles",uY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],eu=Pe("square-pen",dY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],lO=Pe("tag",fY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Mc=Pe("target",pY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],uo=Pe("ticket",gY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],jx=Pe("toggle-left",mY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],wx=Pe("toggle-right",hY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Kr=Pe("trash-2",yY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],vY=Pe("trending-down",xY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],SY=Pe("trending-up",bY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xi=Pe("triangle-alert",jY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ia=Pe("truck",wY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],L2=Pe("upload",kY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mc=Pe("user-check",CY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],_Y=Pe("user-plus",zY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kx=Pe("users",TY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Va=Pe("user",AY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],cO=Pe("video",EY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Pi=Pe("wrench",OY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nt=Pe("x",MY),uO=y.createContext(null),gy="",RY=({children:e})=>{const[t,n]=y.useState(null),[i,l]=y.useState(!1),[c,d]=y.useState(!0);y.useEffect(()=>{const A=new AbortController;return(async()=>{try{const T=await fetch(`${gy}/api/auth/me`,{credentials:"include",signal:A.signal});if(T.ok){const D=await T.json();n(D.user),l(!0)}else l(!1),n(null)}catch(T){if(T.name==="AbortError")return;console.error("Auth check failed:",T),l(!1),n(null)}finally{A.signal.aborted||d(!1)}})(),()=>{A.abort()}},[]);const p=y.useCallback(async(A,$)=>{try{const T=await fetch(`${gy}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:A,password:$})});if(!T.ok){let R="Login failed";try{R=(await T.json()).error||R}catch{}throw new Error(R)}const D=await T.json();return n(D.user),l(!0),{success:!0,user:D.user}}catch(T){return{success:!1,error:T.message}}},[]),m=y.useCallback(async()=>{try{await fetch(`${gy}/api/auth/logout`,{method:"POST",credentials:"include"})}catch(A){console.error("Logout error:",A)}n(null),l(!1)},[]),g=y.useCallback(()=>!t||!t.roles?[]:t.roles.map(A=>A.name),[t]),h=y.useCallback(A=>!t||!t.roles?!1:t.roles.some($=>$.name===A),[t]),x=y.useCallback(A=>{if(!t||!t.roles)return!1;const $=t.roles.map(T=>T.name);return A.some(T=>$.includes(T))},[t]),S=y.useCallback(A=>{if(!t||!t.roles)return!1;const $=t.roles.map(T=>T.name);return A.every(T=>$.includes(T))},[t]),j=y.useCallback(()=>!t||!t.permissions?[]:t.permissions,[t]),k=y.useCallback(A=>!t||!t.permissions?!1:t.permissions.includes(A),[t]),w=y.useCallback(A=>!t||!t.permissions?!1:A.some($=>t.permissions.includes($)),[t]),C=y.useCallback(A=>!t||!t.permissions?!1:A.every($=>t.permissions.includes($)),[t]),z=y.useCallback(()=>!t||!t.roles?!1:t.roles.some(A=>A.name==="site_admin"),[t]),E=y.useMemo(()=>({user:t,isAuthenticated:i,authLoading:c,login:p,logout:m,getRoles:g,hasRole:h,hasAnyRole:x,hasAllRoles:S,getPermissions:j,hasPermission:k,hasAnyPermission:w,hasAllPermissions:C,isSiteAdmin:z}),[t,i,c,p,m,g,h,x,S,j,k,w,C,z]);return s.jsx(uO.Provider,{value:E,children:e})},xn=()=>{const e=y.useContext(uO);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},r={colors:{background:{page:"#f8fafc",primary:"#f8fafc",secondary:"#ffffff",tertiary:"#f1f5f9",hover:"#e2e8f0",muted:"#f8fafc"},border:{light:"#e2e8f0",medium:"#cbd5e1",dark:"#94a3b8",focus:"#1e3a5f"},text:{primary:"#0f172a",secondary:"#475569",tertiary:"#64748b",inverse:"#ffffff",link:"#1e3a5f"},accent:{primary:"#1e3a5f",primaryHover:"#152d47",primaryLight:"#e8f0f8",primaryMuted:"#dbeafe",secondary:"#5a8aa3",secondaryHover:"#4a7a93",success:"#059669",successHover:"#047857",successLight:"#d1fae5",warning:"#d97706",warningLight:"#fef3c7",danger:"#dc2626",dangerLight:"#fee2e2",info:"#0891b2",infoLight:"#cffafe"},status:{online:"#059669",onlineLight:"#d1fae5",offline:"#64748b",offlineLight:"#f1f5f9",busy:"#dc2626",busyLight:"#fee2e2",away:"#d97706",awayLight:"#fef3c7"},chart:{blue:"#1e3a5f",lightBlue:"#3b82f6",purple:"#7c3aed",green:"#059669",orange:"#ea580c",pink:"#db2777",cyan:"#0891b2",yellow:"#ca8a04",red:"#dc2626",gray:"#64748b"}},radius:{xs:"4px",sm:"6px",md:"8px",lg:"12px",xl:"16px","2xl":"20px",full:"9999px"},shadows:{xs:"0 1px 2px 0 rgba(0, 0, 0, 0.03)",sm:"0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 1px 2px -1px rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.07), 0 2px 4px -2px rgba(0, 0, 0, 0.05)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -4px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.08), 0 8px 10px -6px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.15)",inner:"inset 0 2px 4px 0 rgba(0, 0, 0, 0.05)",focus:"0 0 0 3px rgba(30, 58, 95, 0.15)"},spacing:{xs:"0.25rem",sm:"0.5rem",md:"0.75rem",lg:"1rem",xl:"1.5rem","2xl":"2rem","3xl":"2.5rem","4xl":"3rem"},fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"},lineHeight:{tight:"1.25",normal:"1.5",relaxed:"1.75"},transitions:{fast:"150ms ease",normal:"200ms ease",slow:"300ms ease",bounce:"300ms cubic-bezier(0.68, -0.55, 0.265, 1.55)"},zIndex:{dropdown:1e3,sticky:1020,fixed:1030,modal:1040,popover:1050,tooltip:1060},breakpoints:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"}};r.shadows.focus,r.colors.background.secondary,r.radius.xl,`${r.colors.border.light}`,r.shadows.sm,r.fontWeight.medium,r.radius.md,r.transitions.fast,r.colors.background.secondary,`${r.colors.border.medium}`,r.radius.md,r.fontSize.base,r.colors.text.primary,r.transitions.fast;const dO=({children:e,variant:t="primary",size:n="md",loading:i=!1,disabled:l=!1,fullWidth:c=!1,icon:d,iconPosition:p="left",type:m="button",onClick:g,className:h,style:x={},...S})=>{const[j,k]=hi.useState(!1),[w,C]=hi.useState(!1),z={primary:{background:r.colors.accent.primary,backgroundHover:r.colors.accent.primaryHover,color:r.colors.text.inverse,border:"none"},secondary:{background:r.colors.background.tertiary,backgroundHover:r.colors.background.hover,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`},outline:{background:"transparent",backgroundHover:r.colors.accent.primaryLight,color:r.colors.accent.primary,border:`1px solid ${r.colors.accent.primary}`},ghost:{background:"transparent",backgroundHover:r.colors.background.tertiary,color:r.colors.text.secondary,border:"none"},danger:{background:r.colors.accent.danger,backgroundHover:"#b91c1c",color:r.colors.text.inverse,border:"none"},dangerOutline:{background:"transparent",backgroundHover:r.colors.accent.dangerLight,color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`},success:{background:r.colors.accent.success,backgroundHover:"#047857",color:r.colors.text.inverse,border:"none"}},E={xs:{padding:"4px 10px",fontSize:r.fontSize.xs,height:"28px",gap:"4px",iconSize:12},sm:{padding:"6px 12px",fontSize:r.fontSize.sm,height:"32px",gap:"6px",iconSize:14},md:{padding:"8px 16px",fontSize:r.fontSize.sm,height:"38px",gap:"8px",iconSize:16},lg:{padding:"12px 24px",fontSize:r.fontSize.base,height:"46px",gap:"10px",iconSize:18},xl:{padding:"16px 32px",fontSize:r.fontSize.lg,height:"54px",gap:"12px",iconSize:20}},A=z[t]||z.primary,$=E[n]||E.md,T=l||i,D=()=>T?r.colors.background.tertiary:w||j?A.backgroundHover:A.background,R={button:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:$.gap,padding:$.padding,height:$.height,backgroundColor:D(),color:T?r.colors.text.tertiary:A.color,border:A.border,borderRadius:r.radius.lg,fontSize:$.fontSize,fontWeight:r.fontWeight.medium,cursor:T?"not-allowed":"pointer",transition:r.transitions.fast,width:c?"100%":"auto",opacity:T?.6:1,transform:w&&!T?"scale(0.98)":"scale(1)",boxShadow:t==="primary"&&!T?r.shadows.sm:"none",outline:"none",textDecoration:"none",whiteSpace:"nowrap",...x},spinner:{animation:"spin 1s linear infinite"}},F=U=>i&&U==="left"?s.jsx(Dn,{size:$.iconSize,style:R.spinner}):d&&p===U?hi.cloneElement(d,{size:$.iconSize}):null;return s.jsxs("button",{type:m,className:h,style:R.button,disabled:T,onClick:g,onMouseEnter:()=>k(!0),onMouseLeave:()=>{k(!1),C(!1)},onMouseDown:()=>C(!0),onMouseUp:()=>C(!1),...S,children:[F("left"),e,F("right")]})},Cx=y.forwardRef(({type:e="text",label:t,placeholder:n,value:i,onChange:l,onBlur:c,onFocus:d,error:p,helperText:m,disabled:g=!1,required:h=!1,icon:x,iconPosition:S="left",clearable:j=!1,onClear:k,size:w="md",fullWidth:C=!0,className:z,style:E={},inputStyle:A={},...$},T)=>{const[D,R]=y.useState(!1),[F,U]=y.useState(!1),le=e==="password",X=e==="search",ae=i&&i.length>0,ye={sm:{height:"34px",padding:"8px 12px",fontSize:r.fontSize.sm,iconSize:14,labelSize:r.fontSize.xs},md:{height:"42px",padding:"10px 14px",fontSize:r.fontSize.base,iconSize:16,labelSize:r.fontSize.sm},lg:{height:"50px",padding:"12px 16px",fontSize:r.fontSize.lg,iconSize:18,labelSize:r.fontSize.sm}},pe=ye[w]||ye.md,_e=()=>p?r.colors.accent.danger:D?r.colors.accent.primary:r.colors.border.medium,B=()=>p&&D?`0 0 0 3px ${r.colors.accent.dangerLight}`:D?r.shadows.focus:"none",Z={container:{display:"flex",flexDirection:"column",gap:r.spacing.sm,width:C?"100%":"auto",...E},labelWrapper:{display:"flex",alignItems:"center",justifyContent:"space-between"},label:{color:p?r.colors.accent.danger:r.colors.text.primary,fontSize:pe.labelSize,fontWeight:r.fontWeight.medium},required:{color:r.colors.accent.danger,marginLeft:"2px"},inputWrapper:{position:"relative",display:"flex",alignItems:"center"},input:{width:"100%",height:pe.height,padding:pe.padding,paddingLeft:x&&S==="left"?`calc(${pe.padding} + 24px)`:pe.padding,paddingRight:le||j||x&&S==="right"?`calc(${pe.padding} + 28px)`:pe.padding,backgroundColor:g?r.colors.background.tertiary:r.colors.background.secondary,border:`1px solid ${_e()}`,borderRadius:r.radius.lg,fontSize:pe.fontSize,color:g?r.colors.text.tertiary:r.colors.text.primary,outline:"none",transition:r.transitions.fast,boxShadow:B(),cursor:g?"not-allowed":"text",...A},iconLeft:{position:"absolute",left:"12px",color:D?r.colors.accent.primary:r.colors.text.tertiary,pointerEvents:"none",transition:r.transitions.fast},iconRight:{position:"absolute",right:"12px",color:r.colors.text.tertiary,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"4px",borderRadius:r.radius.sm,transition:r.transitions.fast},helperText:{fontSize:r.fontSize.xs,color:p?r.colors.accent.danger:r.colors.text.tertiary,marginTop:"-2px"}},ce=re=>{R(!0),d?.(re)},Ce=re=>{R(!1),c?.(re)},Te=()=>{k?.(),l?.({target:{value:""}})},W=()=>X?s.jsx("div",{style:Z.iconLeft,children:s.jsx(yi,{size:pe.iconSize})}):x&&S==="left"?s.jsx("div",{style:Z.iconLeft,children:hi.cloneElement(x,{size:pe.iconSize})}):null,q=()=>le?s.jsx("div",{style:Z.iconRight,onClick:()=>U(!F),role:"button",tabIndex:-1,onMouseEnter:re=>{re.currentTarget.style.backgroundColor=r.colors.background.tertiary},onMouseLeave:re=>{re.currentTarget.style.backgroundColor="transparent"},children:F?s.jsx(bK,{size:pe.iconSize}):s.jsx(jK,{size:pe.iconSize})}):j&&ae?s.jsx("div",{style:Z.iconRight,onClick:Te,role:"button",tabIndex:-1,onMouseEnter:re=>{re.currentTarget.style.backgroundColor=r.colors.background.tertiary},onMouseLeave:re=>{re.currentTarget.style.backgroundColor="transparent"},children:s.jsx(Nt,{size:pe.iconSize})}):x&&S==="right"?s.jsx("div",{style:{...Z.iconRight,cursor:"default",pointerEvents:"none"},children:hi.cloneElement(x,{size:pe.iconSize})}):null;return s.jsxs("div",{className:z,style:Z.container,children:[t&&s.jsx("div",{style:Z.labelWrapper,children:s.jsxs("label",{style:Z.label,children:[t,h&&s.jsx("span",{style:Z.required,children:"*"})]})}),s.jsxs("div",{style:Z.inputWrapper,children:[W(),s.jsx("input",{ref:T,type:le&&F?"text":e,placeholder:n,value:i,onChange:l,onFocus:ce,onBlur:Ce,disabled:g,required:h,style:Z.input,...$}),q()]}),(m||p)&&s.jsx("span",{style:Z.helperText,children:p||m})]})});Cx.displayName="Input";const DY=y.forwardRef(({label:e,placeholder:t,value:n,onChange:i,error:l,helperText:c,disabled:d=!1,required:p=!1,rows:m=4,resize:g="vertical",fullWidth:h=!0,className:x,style:S={},...j},k)=>{const[w,C]=y.useState(!1),z=()=>l?r.colors.accent.danger:w?r.colors.accent.primary:r.colors.border.medium,E={container:{display:"flex",flexDirection:"column",gap:r.spacing.sm,width:h?"100%":"auto",...S},label:{color:l?r.colors.accent.danger:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},required:{color:r.colors.accent.danger,marginLeft:"2px"},textarea:{width:"100%",padding:"12px 14px",backgroundColor:d?r.colors.background.tertiary:r.colors.background.secondary,border:`1px solid ${z()}`,borderRadius:r.radius.lg,fontSize:r.fontSize.base,color:d?r.colors.text.tertiary:r.colors.text.primary,outline:"none",transition:r.transitions.fast,boxShadow:w?r.shadows.focus:"none",resize:g,fontFamily:"inherit",lineHeight:r.lineHeight.normal},helperText:{fontSize:r.fontSize.xs,color:l?r.colors.accent.danger:r.colors.text.tertiary}};return s.jsxs("div",{className:x,style:E.container,children:[e&&s.jsxs("label",{style:E.label,children:[e,p&&s.jsx("span",{style:E.required,children:"*"})]}),s.jsx("textarea",{ref:k,placeholder:t,value:n,onChange:i,onFocus:()=>C(!0),onBlur:()=>C(!1),disabled:d,required:p,rows:m,style:E.textarea,...j}),(c||l)&&s.jsx("span",{style:E.helperText,children:l||c})]})});DY.displayName="Textarea";function $Y(){const[e,t]=y.useState(""),[n,i]=y.useState(""),[l,c]=y.useState(""),[d,p]=y.useState(!1),{login:m}=xn(),g=async x=>{x.preventDefault(),c(""),p(!0);const S=await m(e,n);S.success||(c(S.error||"Login failed"),p(!1))},h={page:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:r.colors.background.page,padding:r.spacing.xl},container:{width:"100%",maxWidth:"420px"},logoSection:{textAlign:"center",marginBottom:r.spacing["3xl"]},logo:{maxWidth:"240px",width:"100%",height:"auto",marginBottom:r.spacing.lg},subtitle:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},card:{padding:r.spacing["2xl"],backgroundColor:r.colors.background.secondary,borderRadius:r.radius["2xl"],border:`1px solid ${r.colors.border.light}`,boxShadow:r.shadows.lg},cardHeader:{marginBottom:r.spacing["2xl"],textAlign:"center"},cardTitle:{margin:0,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,marginBottom:r.spacing.xs},cardDescription:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},form:{display:"flex",flexDirection:"column",gap:r.spacing.xl},errorBox:{display:"flex",alignItems:"center",gap:r.spacing.md,padding:r.spacing.lg,backgroundColor:r.colors.accent.dangerLight,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.lg,color:r.colors.accent.danger,fontSize:r.fontSize.sm},footer:{marginTop:r.spacing["2xl"],textAlign:"center",color:r.colors.text.tertiary,fontSize:r.fontSize.xs},footerLink:{color:r.colors.accent.primary,textDecoration:"none",fontWeight:r.fontWeight.medium}};return s.jsx("div",{style:h.page,children:s.jsxs("div",{style:h.container,children:[s.jsxs("div",{style:h.logoSection,children:[s.jsx("img",{src:"/max-logo.png",alt:"MAX - Mobile AI Xpress Support",style:h.logo}),s.jsx("p",{style:h.subtitle,children:"Van Support Management System"})]}),s.jsxs("div",{style:h.card,children:[s.jsxs("div",{style:h.cardHeader,children:[s.jsx("h1",{style:h.cardTitle,children:"Welcome back"}),s.jsx("p",{style:h.cardDescription,children:"Sign in to access your dashboard"})]}),s.jsxs("form",{onSubmit:g,style:h.form,children:[s.jsx(Cx,{label:"Email Address",type:"email",value:e,onChange:x=>t(x.target.value),placeholder:"you@example.com",required:!0,autoComplete:"email",disabled:d}),s.jsx(Cx,{label:"Password",type:"password",value:n,onChange:x=>i(x.target.value),placeholder:"Enter your password",required:!0,autoComplete:"current-password",disabled:d}),l&&s.jsxs("div",{style:h.errorBox,children:[s.jsx(mn,{size:18}),s.jsx("span",{children:l})]}),s.jsx(dO,{type:"submit",loading:d,fullWidth:!0,size:"lg",children:d?"Signing in...":"Sign In"})]}),s.jsx("div",{style:h.footer,children:s.jsxs("p",{style:{margin:0},children:["Need help?"," ",s.jsx("a",{href:"mailto:support@maxsupport.com",style:h.footerLink,children:"Contact Support"})]})})]})]})})}const PY=({notifications:e,unreadCount:t,onMarkAsRead:n,onMarkAllAsRead:i})=>{const[l,c]=y.useState(!1),d=y.useRef(null),p=ii();y.useEffect(()=>{const h=x=>{d.current&&!d.current.contains(x.target)&&c(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const m=h=>{n(h.id),h.ticket_id&&p(`/tickets/${h.ticket_id}`),c(!1)},g=h=>{const x=new Date(h),j=new Date-x,k=Math.floor(j/6e4);if(k<1)return"Just now";if(k<60)return`${k}m ago`;const w=Math.floor(j/36e5);return w<24?`${w}h ago`:x.toLocaleDateString()};return s.jsxs("div",{ref:d,style:{position:"relative"},children:[s.jsxs("button",{onClick:()=>c(!l),"aria-label":`Notifications${t>0?` (${t} unread)`:""}`,style:{position:"relative",background:"transparent",border:"none",cursor:"pointer",padding:r.spacing.sm,borderRadius:r.radius.md,color:r.colors.text.secondary,display:"flex",alignItems:"center",justifyContent:"center"},children:[s.jsx(ZF,{size:20}),t>0&&s.jsx("span",{style:{position:"absolute",top:"2px",right:"2px",minWidth:"16px",height:"16px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.danger,color:"#ffffff",fontSize:"10px",fontWeight:r.fontWeight.bold,display:"flex",alignItems:"center",justifyContent:"center",padding:"0 4px"},children:t>9?"9+":t})]}),l&&s.jsxs("div",{style:{position:"absolute",bottom:"100%",left:"0",marginBottom:r.spacing.sm,width:"320px",maxHeight:"400px",overflowY:"auto",backgroundColor:r.colors.background.primary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.lg,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",zIndex:1e3},children:[s.jsxs("div",{style:{padding:r.spacing.md,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:"Notifications"}),t>0&&s.jsx("button",{onClick:h=>{h.stopPropagation(),i()},style:{fontSize:r.fontSize.xs,color:r.colors.accent.primary,background:"none",border:"none",cursor:"pointer",fontWeight:r.fontWeight.medium},children:"Mark all read"})]}),e.length===0?s.jsx("div",{style:{padding:r.spacing.xl,textAlign:"center",color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:"No new notifications"}):e.map(h=>s.jsxs("div",{role:"button",tabIndex:0,onClick:()=>m(h),onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),m(h))},style:{padding:r.spacing.md,borderBottom:`1px solid ${r.colors.border.light}`,cursor:"pointer",transition:"background-color 0.15s",outline:"none"},onMouseEnter:x=>{x.currentTarget.style.backgroundColor=r.colors.background.secondary},onMouseLeave:x=>{x.currentTarget.style.backgroundColor="transparent"},onFocus:x=>{x.currentTarget.style.backgroundColor=r.colors.background.secondary},onBlur:x=>{x.currentTarget.style.backgroundColor="transparent"},children:[s.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,lineHeight:"1.4"},children:h.message_body}),s.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{children:g(h.created_at)}),h.metadata?.priority&&s.jsx("span",{style:{padding:"1px 6px",borderRadius:r.radius.sm,backgroundColor:h.metadata.priority==="high"||h.metadata.priority==="urgent"?"rgba(239, 68, 68, 0.1)":r.colors.background.tertiary,color:h.metadata.priority==="high"||h.metadata.priority==="urgent"?r.colors.accent.danger:r.colors.text.secondary,fontSize:r.fontSize.xs},children:h.metadata.priority})]})]},h.id))]})]})},my="",NY=3e4,LY=e=>{const[t,n]=y.useState([]),[i,l]=y.useState(0),[c,d]=y.useState([]),p=y.useRef(0),m=y.useCallback(async S=>{if(e)try{const j=await fetch(`${my}/api/notifications/unread`,{credentials:"include",signal:S});if(!j.ok)return;const k=await j.json(),w=p.current;if(k.length>w&&w>=0&&p.current!==0){const C=k.slice(0,k.length-w);d(C)}n(k),l(k.length),p.current=k.length}catch(j){if(j.name==="AbortError")return}},[e]),g=y.useCallback(async S=>{try{if(!(await fetch(`${my}/api/notifications/${S}/read`,{method:"POST",credentials:"include"})).ok)return;n(k=>k.filter(w=>w.id!==S)),l(k=>Math.max(0,k-1)),p.current=Math.max(0,p.current-1)}catch{}},[]),h=y.useCallback(async()=>{try{if(!(await fetch(`${my}/api/notifications/read-all`,{method:"POST",credentials:"include"})).ok)return;n([]),l(0),p.current=0}catch{}},[]),x=y.useCallback(()=>{d([])},[]);return y.useEffect(()=>{if(!e)return;const S=new AbortController;let j;const k=async()=>{S.signal.aborted||await m(S.signal)};return k(),j=setInterval(k,NY),()=>{S.abort(),clearInterval(j)}},[e,m]),{notifications:t,unreadCount:i,newNotifications:c,clearNewNotifications:x,markAsRead:g,markAllAsRead:h,refetch:m}},fO=y.createContext(null);let WY=0;const BY=({children:e})=>{const[t,n]=y.useState([]),i=y.useCallback(h=>{n(x=>x.filter(S=>S.id!==h))},[]),l=y.useCallback((h,x="info",S=3e3)=>{const j=WY++,k={id:j,message:h,type:x,duration:S};return n(w=>[...w,k]),S>0&&setTimeout(()=>{i(j)},S),j},[i]),c=y.useCallback((h,x)=>l(h,"success",x),[l]),d=y.useCallback((h,x)=>l(h,"error",x),[l]),p=y.useCallback((h,x)=>l(h,"warning",x),[l]),m=y.useCallback((h,x)=>l(h,"info",x),[l]),g=y.useMemo(()=>({showToast:l,success:c,error:d,warning:p,info:m,removeToast:i}),[l,c,d,p,m,i]);return s.jsxs(fO.Provider,{value:g,children:[e,s.jsx(IY,{toasts:t,removeToast:i})]})},IY=({toasts:e,removeToast:t})=>s.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 pointer-events-none",children:e.map(n=>s.jsx(qY,{toast:n,onClose:()=>t(n.id)},n.id))}),qY=({toast:e,onClose:t})=>{const{message:n,type:i}=e,c=(()=>{switch(i){case"success":return{icon:Kt,bgColor:"bg-green-50",borderColor:"border-green-500",iconColor:"text-green-600",textColor:"text-green-900"};case"error":return{icon:Oc,bgColor:"bg-red-50",borderColor:"border-red-500",iconColor:"text-red-600",textColor:"text-red-900"};case"warning":return{icon:xi,bgColor:"bg-yellow-50",borderColor:"border-yellow-500",iconColor:"text-yellow-600",textColor:"text-yellow-900"};case"info":default:return{icon:rO,bgColor:"bg-blue-50",borderColor:"border-blue-500",iconColor:"text-blue-600",textColor:"text-blue-900"}}})(),d=c.icon;return s.jsxs("div",{className:`${c.bgColor} ${c.borderColor} border-l-4 rounded-lg shadow-lg p-4 flex items-start gap-3 min-w-[300px] max-w-md pointer-events-auto animate-slide-in`,role:"alert",children:[s.jsx(d,{className:`w-5 h-5 ${c.iconColor} flex-shrink-0 mt-0.5`}),s.jsx("p",{className:`${c.textColor} text-sm font-medium flex-1`,children:n}),s.jsx("button",{onClick:t,className:`${c.iconColor} hover:opacity-70 transition-opacity flex-shrink-0`,"aria-label":"Close notification",children:s.jsx(Nt,{className:"w-4 h-4"})})]})},tu=()=>{const e=y.useContext(fO);if(!e)throw new Error("useToast must be used within a ToastProvider");return e};if(typeof document<"u"){const e="toast-animations";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.textContent=`
      @keyframes slide-in {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      .animate-slide-in {
        animation: slide-in 0.3s ease-out;
      }
    `,document.head.appendChild(t)}}const UY="",zr=({user:e,onLogout:t,hasRole:n,isSiteAdmin:i})=>{const l=Ni(),[c,d]=y.useState(!0),[p,m]=y.useState(0),g=tu(),{notifications:h,unreadCount:x,newNotifications:S,clearNewNotifications:j,markAsRead:k,markAllAsRead:w}=LY(!!e),C=R=>i&&i()?!0:R.some(F=>n(F));y.useEffect(()=>{const R=async()=>{if(i&&i()||["technician","manager","admin"].some(le=>n(le)))try{const le=await fetch(`${UY}/api/sequences/active`,{credentials:"include"});if(le.ok){const X=await le.json();m(X?.length||0)}}catch(le){console.error("Error fetching active sequences count:",le)}};R();const F=setInterval(R,3e4);return()=>clearInterval(F)},[n,i]),y.useEffect(()=>{S.length>0&&(S.forEach(R=>{g.info(R.message_body,5e3)}),j())},[S,j,g]);const z=()=>{const R=[];return C(["admin","manager"])&&R.push({id:"dashboard",label:"Dashboard",Icon:MK,path:"/",show:!0}),C(["technician","manager","admin"])&&R.push({id:"support-tickets",label:"Support Tickets",Icon:uo,path:"/tickets",show:!0}),C(["technician","manager","admin"])&&R.push({id:"active-sequences",label:"Active Sequences",Icon:bx,path:"/active-sequences",show:!0,badge:p>0?p:null}),R.filter(F=>F.show)},E=()=>{const R=[];return C(["technician","manager","admin"])&&R.push({id:"sequences",label:"Sequences",Icon:iO,path:"/sequences",show:!0}),C(["admin"])&&R.push({id:"trigger-patterns",label:"Trigger Patterns",Icon:Mc,path:"/patterns",show:!0}),C(["technician","manager","admin"])&&R.push({id:"vans",label:"Vans",Icon:ia,path:"/vans",show:!0}),C(["technician","manager","admin"])&&R.push({id:"owners",label:"Owners",Icon:Va,path:"/owners",show:!0}),C(["admin"])&&R.push({id:"users",label:"Users",Icon:aO,path:"/users",show:!0}),R.filter(F=>F.show)},A=z(),$=E(),T=$.length>0,D={sidebar:{width:"260px",height:"100vh",backgroundColor:r.colors.background.secondary,borderRight:`1px solid ${r.colors.border.light}`,display:"flex",flexDirection:"column",position:"fixed",left:0,top:0,overflowY:"auto",zIndex:r.zIndex.fixed,boxShadow:r.shadows.sm},brand:{padding:r.spacing["2xl"],borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:r.colors.background.secondary},logo:{height:"48px",width:"auto",marginBottom:r.spacing.sm},brandName:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.accent.primary,letterSpacing:"0.05em"},brandTagline:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginTop:r.spacing.xs,fontWeight:r.fontWeight.medium,textAlign:"center"},userSection:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,backgroundColor:r.colors.background.tertiary},userInfo:{display:"flex",alignItems:"center",gap:r.spacing.md},avatar:{width:"44px",height:"44px",borderRadius:r.radius.lg,backgroundColor:r.colors.accent.primary,display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.text.inverse,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.lg,boxShadow:r.shadows.sm},userDetails:{flex:1,minWidth:0},userName:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},userRole:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginTop:"2px",textTransform:"capitalize"},navigation:{padding:r.spacing.lg,flex:1},sectionLabel:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.md,paddingLeft:r.spacing.md},navItem:R=>({width:"100%",display:"flex",alignItems:"center",gap:r.spacing.md,padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:R?r.colors.accent.primaryLight:"transparent",color:R?r.colors.accent.primary:r.colors.text.secondary,border:"none",borderRadius:r.radius.lg,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:R?r.fontWeight.semibold:r.fontWeight.medium,marginBottom:r.spacing.xs,transition:r.transitions.fast,textAlign:"left",textDecoration:"none",position:"relative"}),navItemActive:{boxShadow:`inset 3px 0 0 ${r.colors.accent.primary}`},badge:R=>({backgroundColor:R?r.colors.accent.primary:r.colors.background.tertiary,color:R?r.colors.text.inverse:r.colors.text.secondary,padding:"2px 8px",borderRadius:r.radius.full,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,minWidth:"20px",textAlign:"center"}),adminHeader:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:"transparent",color:r.colors.text.secondary,border:"none",borderRadius:r.radius.lg,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.xs,transition:r.transitions.fast,textAlign:"left"},adminSubmenu:{marginLeft:r.spacing.lg,marginTop:r.spacing.xs,paddingLeft:r.spacing.md,borderLeft:`2px solid ${r.colors.border.light}`},subNavItem:R=>({width:"100%",display:"flex",alignItems:"center",gap:r.spacing.md,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:R?r.colors.accent.primaryLight:"transparent",color:R?r.colors.accent.primary:r.colors.text.secondary,border:"none",borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:R?r.fontWeight.medium:r.fontWeight.normal,marginBottom:r.spacing.xs,transition:r.transitions.fast,textAlign:"left",textDecoration:"none"}),logoutSection:{padding:r.spacing.lg,borderTop:`1px solid ${r.colors.border.light}`,backgroundColor:r.colors.background.secondary},logoutButton:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.lg,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:r.transitions.fast}};return s.jsxs("nav",{"aria-label":"Main navigation",style:D.sidebar,children:[s.jsxs("div",{style:D.brand,children:[s.jsx("img",{src:"/max-logo-small.png",alt:"MAX Logo",style:D.logo}),s.jsx("h1",{style:D.brandName,children:"MAX"}),s.jsx("div",{style:D.brandTagline,children:"Mobile AI Xpress Support"})]}),e&&s.jsx("div",{style:D.userSection,children:s.jsxs("div",{style:D.userInfo,children:[s.jsx("div",{style:D.avatar,children:e.email?.charAt(0).toUpperCase()||"U"}),s.jsxs("div",{style:D.userDetails,children:[s.jsx("div",{style:D.userName,children:e.email?.split("@")[0]||"User"}),e.roles&&e.roles.length>0&&s.jsx("div",{style:D.userRole,children:e.roles[0].name})]})]})}),e&&s.jsx("div",{style:{padding:`${r.spacing.sm} ${r.spacing.xl}`,display:"flex",justifyContent:"flex-end",alignItems:"center"},children:s.jsx(PY,{notifications:h,unreadCount:x,onMarkAsRead:k,onMarkAllAsRead:w})}),s.jsxs("div",{style:D.navigation,children:[s.jsx("div",{style:D.sectionLabel,children:"Navigation"}),A.map(R=>{const F=R.Icon,U=l.pathname===R.path;return s.jsxs(xc,{to:R.path,style:{...D.navItem(U),...U?D.navItemActive:{}},onMouseEnter:le=>{U||(le.currentTarget.style.backgroundColor=r.colors.background.tertiary,le.currentTarget.style.color=r.colors.text.primary)},onMouseLeave:le=>{U||(le.currentTarget.style.backgroundColor="transparent",le.currentTarget.style.color=r.colors.text.secondary)},children:[s.jsx(F,{size:20,strokeWidth:U?2.5:2}),s.jsx("span",{style:{flex:1},children:R.label}),R.badge&&s.jsx("span",{style:D.badge(U),children:R.badge})]},R.id)}),T&&s.jsxs("div",{style:{marginTop:r.spacing.lg},children:[s.jsxs("button",{onClick:()=>d(!c),style:D.adminHeader,"aria-expanded":c,"aria-controls":"admin-submenu",onMouseEnter:R=>{R.currentTarget.style.backgroundColor=r.colors.background.tertiary},onMouseLeave:R=>{R.currentTarget.style.backgroundColor="transparent"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx(sY,{size:20}),s.jsx("span",{children:"Admin"})]}),c?s.jsx(ei,{size:16}):s.jsx(XE,{size:16})]}),c&&s.jsx("div",{id:"admin-submenu",role:"group",style:D.adminSubmenu,children:$.map(R=>{const F=R.Icon,U=l.pathname===R.path;return s.jsxs(xc,{to:R.path,style:D.subNavItem(U),onMouseEnter:le=>{U||(le.currentTarget.style.backgroundColor=r.colors.background.tertiary,le.currentTarget.style.color=r.colors.text.primary)},onMouseLeave:le=>{U||(le.currentTarget.style.backgroundColor="transparent",le.currentTarget.style.color=r.colors.text.secondary)},children:[s.jsx(F,{size:16,strokeWidth:U?2.5:2}),R.label]},R.id)})})]})]}),s.jsx("div",{style:D.logoutSection,children:s.jsxs("button",{onClick:t,style:D.logoutButton,onMouseEnter:R=>{R.currentTarget.style.backgroundColor=r.colors.accent.dangerLight,R.currentTarget.style.borderColor=r.colors.accent.danger,R.currentTarget.style.color=r.colors.accent.danger},onMouseLeave:R=>{R.currentTarget.style.backgroundColor="transparent",R.currentTarget.style.borderColor=r.colors.border.medium,R.currentTarget.style.color=r.colors.text.secondary},children:[s.jsx(WK,{size:16}),"Sign Out"]})})]})},rt=({children:e,title:t,description:n,action:i,icon:l,noPadding:c=!1,hoverable:d=!1,className:p,style:m={},headerStyle:g={},bodyStyle:h={},id:x,onDragOver:S,onDragEnter:j,onDragLeave:k,onDrop:w,...C})=>{const[z,E]=hi.useState(!1),A={card:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.xl,border:`1px solid ${r.colors.border.light}`,overflow:"visible",boxShadow:z&&d?r.shadows.md:r.shadows.sm,transition:r.transitions.normal,transform:z&&d?"translateY(-2px)":"translateY(0)",...m},header:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:r.colors.background.secondary,...g},headerContent:{display:"flex",alignItems:"center",gap:r.spacing.md,flex:1},iconWrapper:{width:"40px",height:"40px",borderRadius:r.radius.lg,backgroundColor:r.colors.accent.primaryLight,display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.accent.primary,flexShrink:0},titleWrapper:{flex:1,minWidth:0},title:{margin:0,color:r.colors.text.primary,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.semibold,lineHeight:r.lineHeight.tight},description:{margin:"4px 0 0 0",color:r.colors.text.tertiary,fontSize:r.fontSize.sm,lineHeight:r.lineHeight.normal},body:{padding:c?0:r.spacing.xl,...h}};return s.jsxs("div",{id:x,className:p,style:A.card,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),onDragOver:S,onDragEnter:j,onDragLeave:k,onDrop:w,...C,children:[(t||i||l)&&s.jsxs("div",{style:A.header,children:[s.jsxs("div",{style:A.headerContent,children:[l&&s.jsx("div",{style:A.iconWrapper,children:hi.cloneElement(l,{size:20})}),s.jsxs("div",{style:A.titleWrapper,children:[t&&s.jsx("h3",{style:A.title,children:t}),n&&s.jsx("p",{style:A.description,children:n})]})]}),i&&s.jsx("div",{children:i})]}),s.jsx("div",{style:A.body,children:e})]})},hy=({title:e,value:t,icon:n,trend:i,color:l=r.colors.accent.primary,subtitle:c,loading:d=!1})=>{const p=h=>h===r.colors.accent.primary?r.colors.accent.primaryLight:h===r.colors.accent.success?r.colors.accent.successLight:h===r.colors.accent.warning?r.colors.accent.warningLight:h===r.colors.accent.danger?r.colors.accent.dangerLight:h===r.colors.accent.info?r.colors.accent.infoLight:`${h}15`,m={card:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.xl,border:`1px solid ${r.colors.border.light}`,padding:r.spacing.xl,display:"flex",flexDirection:"column",gap:r.spacing.lg,position:"relative",overflow:"hidden",boxShadow:r.shadows.sm,transition:r.transitions.normal},header:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},content:{flex:1},title:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.sm,letterSpacing:"0.01em"},value:{color:r.colors.text.primary,fontSize:r.fontSize["3xl"],fontWeight:r.fontWeight.bold,lineHeight:1,letterSpacing:"-0.02em"},subtitle:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginTop:r.spacing.sm},iconWrapper:{width:"52px",height:"52px",backgroundColor:p(l),borderRadius:r.radius.lg,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},trend:{display:"flex",alignItems:"center",gap:r.spacing.xs},trendValue:h=>({color:h?r.colors.accent.success:r.colors.accent.danger,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,display:"flex",alignItems:"center",gap:"2px"}),trendLabel:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},loadingValue:{height:"36px",width:"80px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,animation:"pulse 2s ease-in-out infinite"},decorativeCircle:{position:"absolute",top:"-20px",right:"-20px",width:"100px",height:"100px",backgroundColor:l,opacity:.03,borderRadius:r.radius.full,pointerEvents:"none"}},g=n?hi.cloneElement(n,{size:26,color:l,strokeWidth:2}):null;return s.jsxs("div",{style:m.card,children:[s.jsx("div",{style:m.decorativeCircle}),s.jsxs("div",{style:m.header,children:[s.jsxs("div",{style:m.content,children:[s.jsx("div",{style:m.title,children:e}),d?s.jsx("div",{style:m.loadingValue}):s.jsx("div",{style:m.value,children:t}),c&&s.jsx("div",{style:m.subtitle,children:c})]}),g&&s.jsx("div",{style:m.iconWrapper,children:g})]}),i&&s.jsxs("div",{style:m.trend,children:[s.jsxs("span",{style:m.trendValue(i.isPositive),children:[i.isPositive?s.jsx(SY,{size:14}):s.jsx(vY,{size:14}),i.value]}),i.label&&s.jsx("span",{style:m.trendLabel,children:i.label})]})]})},tt=({children:e,variant:t="default",size:n="md",soft:i=!1,dot:l=!1,icon:c,className:d,style:p={}})=>{const m={default:{background:r.colors.background.tertiary,color:r.colors.text.primary},primary:{background:r.colors.accent.primary,color:r.colors.text.inverse},success:{background:r.colors.accent.success,color:r.colors.text.inverse},warning:{background:r.colors.accent.warning,color:r.colors.text.inverse},danger:{background:r.colors.accent.danger,color:r.colors.text.inverse},info:{background:r.colors.accent.info,color:r.colors.text.inverse},secondary:{background:r.colors.accent.secondary,color:r.colors.text.inverse}},g={default:{background:r.colors.background.tertiary,color:r.colors.text.secondary},primary:{background:r.colors.accent.primaryLight,color:r.colors.accent.primary},success:{background:r.colors.accent.successLight,color:r.colors.accent.success},warning:{background:r.colors.accent.warningLight,color:r.colors.accent.warning},danger:{background:r.colors.accent.dangerLight,color:r.colors.accent.danger},info:{background:r.colors.accent.infoLight,color:r.colors.accent.info},secondary:{background:r.colors.background.tertiary,color:r.colors.accent.secondary}},h={xs:{padding:"1px 6px",fontSize:"10px",gap:"3px"},sm:{padding:"2px 8px",fontSize:r.fontSize.xs,gap:"4px"},md:{padding:"4px 10px",fontSize:r.fontSize.sm,gap:"5px"},lg:{padding:"6px 14px",fontSize:r.fontSize.base,gap:"6px"}},x=i?g:m,S=x[t]||x.default,j=h[n]||h.md,k={badge:{display:"inline-flex",alignItems:"center",backgroundColor:S.background,color:S.color,padding:j.padding,borderRadius:r.radius.full,fontSize:j.fontSize,fontWeight:r.fontWeight.medium,whiteSpace:"nowrap",gap:j.gap,lineHeight:1.4,...p},dot:{width:n==="xs"?"4px":n==="sm"?"5px":"6px",height:n==="xs"?"4px":n==="sm"?"5px":"6px",borderRadius:r.radius.full,backgroundColor:"currentColor",flexShrink:0}};return s.jsxs("span",{className:d,style:k.badge,children:[l&&s.jsx("span",{style:k.dot}),c&&hi.cloneElement(c,{size:n==="xs"?10:n==="sm"?12:14}),e]})},HY=({name:e,src:t,size:n="md",color:i,status:l,className:c,style:d={}})=>{const p={xs:{width:"24px",height:"24px",fontSize:r.fontSize.xs,statusSize:"8px"},sm:{width:"32px",height:"32px",fontSize:r.fontSize.sm,statusSize:"10px"},md:{width:"40px",height:"40px",fontSize:r.fontSize.base,statusSize:"12px"},lg:{width:"48px",height:"48px",fontSize:r.fontSize.lg,statusSize:"14px"},xl:{width:"64px",height:"64px",fontSize:r.fontSize.xl,statusSize:"16px"}},m=[r.colors.accent.primary,r.colors.accent.secondary,r.colors.accent.success,r.colors.accent.info,r.colors.chart.purple,r.colors.chart.pink],g={online:r.colors.status.online,offline:r.colors.status.offline,busy:r.colors.status.busy,away:r.colors.status.away},h=()=>{if(i)return i;if(!e)return m[0];const k=e.split("").reduce((w,C)=>w+C.charCodeAt(0),0);return m[k%m.length]},x=()=>{if(!e)return"?";const k=e.trim().split(" ");return k.length>=2?(k[0][0]+k[k.length-1][0]).toUpperCase():e.substring(0,2).toUpperCase()},S=p[n]||p.md,j={container:{position:"relative",display:"inline-flex",flexShrink:0},avatar:{width:S.width,height:S.height,borderRadius:r.radius.full,backgroundColor:t?"transparent":h(),display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.text.inverse,fontWeight:r.fontWeight.semibold,fontSize:S.fontSize,overflow:"hidden",border:`2px solid ${r.colors.background.secondary}`,boxShadow:r.shadows.sm,...d},image:{width:"100%",height:"100%",objectFit:"cover"},status:{position:"absolute",bottom:"0",right:"0",width:S.statusSize,height:S.statusSize,borderRadius:r.radius.full,backgroundColor:g[l]||g.offline,border:`2px solid ${r.colors.background.secondary}`}};return s.jsxs("div",{className:c,style:j.container,children:[s.jsx("div",{style:j.avatar,children:t?s.jsx("img",{src:t,alt:e||"Avatar",style:j.image}):x()}),l&&s.jsx("div",{style:j.status})]})},FY=y.forwardRef(({label:e,options:t=[],value:n,onChange:i,placeholder:l="Select an option",error:c,helperText:d,disabled:p=!1,required:m=!1,size:g="md",fullWidth:h=!0,className:x,style:S={},...j},k)=>{const[w,C]=y.useState(!1),z={sm:{height:"34px",padding:"8px 32px 8px 12px",fontSize:r.fontSize.sm,labelSize:r.fontSize.xs},md:{height:"42px",padding:"10px 36px 10px 14px",fontSize:r.fontSize.base,labelSize:r.fontSize.sm},lg:{height:"50px",padding:"12px 40px 12px 16px",fontSize:r.fontSize.lg,labelSize:r.fontSize.sm}},E=z[g]||z.md,A=()=>c?r.colors.accent.danger:w?r.colors.accent.primary:r.colors.border.medium,$=()=>c&&w?`0 0 0 3px ${r.colors.accent.dangerLight}`:w?r.shadows.focus:"none",T={container:{display:"flex",flexDirection:"column",gap:r.spacing.sm,width:h?"100%":"auto",...S},label:{color:c?r.colors.accent.danger:r.colors.text.primary,fontSize:E.labelSize,fontWeight:r.fontWeight.medium},required:{color:r.colors.accent.danger,marginLeft:"2px"},selectWrapper:{position:"relative",display:"flex",alignItems:"center"},select:{width:"100%",height:E.height,padding:E.padding,backgroundColor:p?r.colors.background.tertiary:r.colors.background.secondary,border:`1px solid ${A()}`,borderRadius:r.radius.lg,fontSize:E.fontSize,color:n?r.colors.text.primary:r.colors.text.tertiary,outline:"none",transition:r.transitions.fast,boxShadow:$(),cursor:p?"not-allowed":"pointer",appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},chevron:{position:"absolute",right:"12px",pointerEvents:"none",color:r.colors.text.tertiary,transition:r.transitions.fast,transform:w?"rotate(180deg)":"rotate(0deg)"},helperText:{fontSize:r.fontSize.xs,color:c?r.colors.accent.danger:r.colors.text.tertiary,marginTop:"-2px"}};return s.jsxs("div",{className:x,style:T.container,children:[e&&s.jsxs("label",{style:T.label,children:[e,m&&s.jsx("span",{style:T.required,children:"*"})]}),s.jsxs("div",{style:T.selectWrapper,children:[s.jsxs("select",{ref:k,value:n,onChange:i,onFocus:()=>C(!0),onBlur:()=>C(!1),disabled:p,required:m,style:T.select,...j,children:[l&&s.jsx("option",{value:"",disabled:!0,children:l}),t.map((D,R)=>s.jsx("option",{value:D.value,disabled:D.disabled,children:D.label},D.value??R))]}),s.jsx(ei,{size:18,style:T.chevron})]}),(d||c)&&s.jsx("span",{style:T.helperText,children:c||d})]})});FY.displayName="Select";function KY(){const{user:e,isAuthenticated:t,authLoading:n,logout:i,hasPermission:l,hasRole:c,isSiteAdmin:d}=xn(),p=ii(),[m,g]=y.useState([]),[h,x]=y.useState(null),[S,j]=y.useState([]),[k,w]=y.useState([]),[C,z]=y.useState([]),[E,A]=y.useState([]),[$,T]=y.useState([]),[D,R]=y.useState([]),[F,U]=y.useState([]),[le,X]=y.useState(""),[ae,ye]=y.useState("7"),[pe,_e]=y.useState(""),[B,Z]=y.useState(""),[ce,Ce]=y.useState(""),[Te,W]=y.useState(""),[q,re]=y.useState(!0),be="",xe=M=>M?M.split("_").map(P=>P.charAt(0).toUpperCase()+P.slice(1).toLowerCase()).join(" "):"Unknown",je=()=>{pe&&B&&(Ce(pe),W(B))},G=[r.colors.chart.blue,r.colors.chart.green,r.colors.chart.orange,r.colors.chart.purple,r.colors.chart.pink,r.colors.chart.cyan];y.useEffect(()=>{if(!t)return;const M=ae==="custom"?ce&&Te?`from=${ce}&to=${Te}`:null:`days=${ae}`;if(!M)return;const P=new AbortController,{signal:ie}=P;re(!0);const ge=[fetch(`${be}/api/resolution-by-step?${M}`,{credentials:"include",signal:ie}).then(he=>{if(!he.ok)throw new Error(`Resolution step error: ${he.status}`);return he.json()}).catch(he=>he.name==="AbortError"?[]:(console.error("Resolution step failed:",he),[])),fetch(`${be}/api/dashboard-summary?${M}`,{credentials:"include",signal:ie}).then(he=>{if(!he.ok)throw new Error(`Summary error: ${he.status}`);return he.json()}).catch(he=>he.name==="AbortError"?[]:(console.error("Summary failed:",he),[])),fetch(`${be}/api/issue-distribution?${M}`,{credentials:"include",signal:ie}).then(he=>{if(!he.ok)throw new Error(`Distribution error: ${he.status}`);return he.json()}).catch(he=>he.name==="AbortError"?[]:(console.error("Issue distribution failed:",he),[])),fetch(`${be}/api/resolution-time-trend?${M}`,{credentials:"include",signal:ie}).then(he=>{if(!he.ok)throw new Error(`Trend error: ${he.status}`);return he.json()}).catch(he=>he.name==="AbortError"?[]:(console.error("Resolution time trend failed:",he),[])),fetch(`${be}/api/first-contact-resolution?${M}`,{credentials:"include",signal:ie}).then(he=>{if(!he.ok)throw new Error(`FCR error: ${he.status}`);return he.json()}).catch(he=>he.name==="AbortError"?[]:(console.error("First contact resolution failed:",he),[])),fetch(`${be}/api/call-volume-heatmap?${M}`,{credentials:"include",signal:ie}).then(he=>{if(!he.ok)throw new Error(`Call volume heatmap error: ${he.status}`);return he.json()}).catch(he=>he.name==="AbortError"?[]:(console.error("Call volume heatmap failed:",he),[]))];let V=-1,Ae=-1,Le=-1;return(c("admin")||c("manager"))&&(V=ge.length,ge.push(fetch(`${be}/api/van-performance?${M}`,{credentials:"include",signal:ie}).then(he=>{if(!he.ok)throw new Error(`Van performance error: ${he.status}`);return he.json()}).catch(he=>he.name==="AbortError"?[]:(console.error("Van performance failed:",he),[]))),Ae=ge.length,ge.push(fetch(`${be}/api/handoff-patterns?${M}`,{credentials:"include",signal:ie}).then(he=>{if(!he.ok)throw new Error(`Handoff patterns error: ${he.status}`);return he.json()}).catch(he=>he.name==="AbortError"?[]:(console.error("Handoff patterns failed:",he),[])))),c("admin")&&(Le=ge.length,ge.push(fetch(`${be}/api/chronic-problem-vans?${M}`,{credentials:"include",signal:ie}).then(he=>{if(!he.ok)throw new Error(`Chronic problem vans error: ${he.status}`);return he.json()}).catch(he=>he.name==="AbortError"?[]:(console.error("Chronic problem vans failed:",he),[])))),Promise.all(ge).then(he=>{if(ie.aborted)return;const[We,te,Oe,Ye,nt,Je]=he;g(We||[]),x(te?.[0]||null),j(Oe||[]),w(Ye||[]),z(nt||[]),U(Je||[]),A(V!==-1?he[V]||[]:[]),R(Ae!==-1?he[Ae]||[]:[]),T(Le!==-1?he[Le]||[]:[]),We&&We.length>0&&X(We[0].sequence_key),re(!1)}).catch(he=>{ie.aborted||(console.error("Critical error fetching dashboard data:",he),re(!1))}),()=>{P.abort()}},[ae,ce,Te,t,c]),y.useEffect(()=>{t&&c("technician")&&!c("manager")&&!c("admin")&&!d()&&p("/tickets",{replace:!0})},[t,c,d,p]);const de=[...new Set(m.map(M=>M.sequence_key))],ee={};m.forEach(M=>{M.sequence_key&&(ee[M.sequence_key]=M.display_name||xe(M.sequence_key))});const ze=m.filter(M=>M.sequence_key===le);return n?s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:r.colors.background.page,color:r.colors.text.primary,gap:r.spacing.lg},children:[s.jsx(Dn,{size:40,style:{animation:"spin 1s linear infinite"},color:r.colors.accent.primary}),s.jsx("span",{style:{fontSize:r.fontSize.lg,color:r.colors.text.secondary},children:"Loading..."})]}):t?c("technician")&&!c("manager")&&!c("admin")&&!d()?s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:r.colors.background.page,color:r.colors.text.primary,gap:r.spacing.lg},children:[s.jsx(Dn,{size:40,style:{animation:"spin 1s linear infinite"},color:r.colors.accent.primary}),s.jsx("span",{style:{fontSize:r.fontSize.lg,color:r.colors.text.secondary},children:"Redirecting..."})]}):q?s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:r.colors.background.page,color:r.colors.text.primary,gap:r.spacing.lg},children:[s.jsx(Dn,{size:40,style:{animation:"spin 1s linear infinite"},color:r.colors.accent.primary}),s.jsx("span",{style:{fontSize:r.fontSize.lg,color:r.colors.text.secondary},children:"Loading dashboard..."})]}):s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.page},children:[s.jsx(zr,{user:e,onLogout:i,hasRole:c,isSiteAdmin:d}),s.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[s.jsxs("div",{style:{marginBottom:r.spacing["2xl"],display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[s.jsxs("div",{children:[s.jsx("h1",{style:{fontSize:r.fontSize["3xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,marginBottom:r.spacing.xs,letterSpacing:"-0.02em"},children:"Analytics Dashboard"}),s.jsxs("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:["Welcome back, ",e?.email?.split("@")[0]||"User"]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[s.jsx(xx,{size:16}),new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),s.jsx(rt,{style:{marginBottom:r.spacing["2xl"]},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg,flexWrap:"wrap"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.xs,display:"block"},children:"Date Range"}),s.jsxs("select",{value:ae,onChange:M=>ye(M.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none"},children:[s.jsx("option",{value:"7",children:"Last 7 days"}),s.jsx("option",{value:"30",children:"Last 30 days"}),s.jsx("option",{value:"custom",children:"Custom range"})]})]}),ae==="custom"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.xs,display:"block"},children:"From"}),s.jsx("input",{type:"date",value:pe,onChange:M=>_e(M.target.value),onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),je())},style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,marginBottom:r.spacing.xs,display:"block"},children:"To"}),s.jsx("input",{type:"date",value:B,onChange:M=>Z(M.target.value),onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),je())},style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}})]}),s.jsx("div",{style:{marginTop:r.spacing.lg},children:s.jsx(dO,{onClick:je,disabled:!pe||!B,size:"sm",children:"Apply"})})]})]})}),h&&s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:r.spacing.lg,marginBottom:r.spacing["2xl"]},children:[s.jsx(hy,{title:"Total Calls",value:h.total_calls||0,icon:s.jsx(cl,{size:24}),color:r.colors.accent.primary}),s.jsx(hy,{title:"Completion Rate",value:h.completion_rate?`${h.completion_rate}%`:"0%",icon:s.jsx(Kt,{size:24}),color:r.colors.accent.success}),s.jsx(hy,{title:"Avg Resolution Time",value:h.avg_resolution_minutes?`${Math.round(h.avg_resolution_minutes)}m`:"N/A",icon:s.jsx(Mn,{size:24}),color:r.colors.accent.warning})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:r.spacing.lg,marginBottom:r.spacing["2xl"]},children:[s.jsx(rt,{title:"Issue Distribution",description:"Breakdown of issue types",children:S.length===0?s.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):s.jsx(Md,{width:"100%",height:300,children:s.jsxs(NF,{children:[s.jsx(mE,{data:S,dataKey:"total_count",nameKey:"display_name",cx:"50%",cy:"50%",outerRadius:100,label:({display_name:M,issue_type:P,total_count:ie})=>`${M||xe(P)}: ${ie}`,labelLine:{stroke:r.colors.text.secondary},children:S.map((M,P)=>s.jsx(Fs,{fill:G[P%G.length]},`cell-${P}`))}),s.jsx(Od,{contentStyle:{backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.primary}}),s.jsx(Ra,{wrapperStyle:{color:r.colors.text.primary}})]})})}),s.jsx(rt,{title:"Resolution Time Trend",description:"Average resolution time over the last 30 days",children:k.length===0?s.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):s.jsx(Md,{width:"100%",height:300,children:s.jsxs(zF,{data:k,children:[s.jsx(qd,{strokeDasharray:"3 3",stroke:r.colors.border.medium}),s.jsx(Ud,{dataKey:"time_bucket",stroke:r.colors.text.secondary}),s.jsx(Hd,{stroke:r.colors.text.secondary}),s.jsx(Od,{contentStyle:{backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.primary}}),s.jsx(Ra,{}),s.jsx(RE,{type:"monotone",dataKey:"avg_minutes",stroke:r.colors.chart.blue,strokeWidth:3,dot:{fill:r.colors.chart.blue,r:5},activeDot:{r:7},name:"Avg Resolution Time (min)"})]})})})]}),s.jsx(rt,{title:"First Contact Resolution Rate",description:"Resolution rate by troubleshooting sequence",style:{marginBottom:r.spacing["2xl"]},children:C.length===0?s.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):s.jsx(Md,{width:"100%",height:400,children:s.jsxs($2,{data:C.map(M=>({...M,display_label:M.display_name||xe(M.sequence_key)})),layout:"vertical",margin:{left:150},children:[s.jsx(qd,{strokeDasharray:"3 3",stroke:r.colors.border.medium}),s.jsx(Ud,{type:"number",stroke:r.colors.text.secondary,domain:[0,100]}),s.jsx(Hd,{type:"category",dataKey:"display_label",stroke:r.colors.text.secondary,width:140}),s.jsx(Od,{contentStyle:{backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.primary},formatter:M=>`${M}%`}),s.jsx(Ra,{}),s.jsx(dx,{dataKey:"fcr_rate",name:"FCR Rate (%)",radius:[0,8,8,0],children:C.map((M,P)=>s.jsx(Fs,{fill:M.fcr_rate>=80?r.colors.accent.success:M.fcr_rate>=60?r.colors.chart.yellow:M.fcr_rate>=40?r.colors.accent.warning:r.colors.accent.danger},`cell-${P}`))})]})})}),(c("admin")||c("manager"))&&E.length>0&&s.jsx(rt,{title:"Van Performance",description:"Performance metrics by van make, model, and year",style:{marginBottom:r.spacing["2xl"]},noPadding:!0,children:s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`2px solid ${r.colors.border.light}`},children:[s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Make"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Version"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Year"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Total Issues"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Avg Time"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Reliability"})]})}),s.jsx("tbody",{children:[...E].sort((M,P)=>P.total_issues-M.total_issues).map((M,P)=>s.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`},children:[s.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.primary},children:M.make}),s.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.primary},children:M.version}),s.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.primary},children:M.year}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:M.total_issues}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.secondary},children:M.avg_resolution_time?`${Math.round(M.avg_resolution_time)}m`:"N/A"}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},children:s.jsx(tt,{variant:M.reliability_score>=80?"success":M.reliability_score>=60?"warning":"danger",children:M.reliability_score||"N/A"})})]},P))})]})})}),c("admin")&&$.length>0&&s.jsx(rt,{title:"Chronic Problem Vans",description:"Vans with recurring issues requiring attention",style:{marginBottom:r.spacing["2xl"]},noPadding:!0,children:s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`2px solid ${r.colors.border.light}`},children:[s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Van Number"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Make/Model"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Issue Count"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Most Common"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Last Issue"})]})}),s.jsx("tbody",{children:[...$].sort((M,P)=>P.issue_count-M.issue_count).map((M,P)=>s.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`},children:[s.jsx("td",{style:{padding:r.spacing.md},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(HY,{name:M.van_number,size:"sm"}),s.jsx("span",{style:{color:r.colors.text.primary,fontWeight:r.fontWeight.medium},children:M.van_number}),M.issue_count>=5&&s.jsx(tt,{variant:"danger",size:"sm",children:"CRITICAL"}),M.issue_count>=3&&M.issue_count<5&&s.jsx(tt,{variant:"warning",size:"sm",children:"WARNING"})]})}),s.jsxs("td",{style:{padding:r.spacing.md,color:r.colors.text.primary},children:[M.make," ",M.version," (",M.year,")"]}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",fontWeight:r.fontWeight.bold,color:M.issue_count>=5?r.colors.accent.danger:M.issue_count>=3?r.colors.accent.warning:r.colors.text.primary},children:M.issue_count}),s.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.secondary},children:M.most_common_issue||"N/A"}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.secondary},children:M.last_issue_date?new Date(M.last_issue_date).toLocaleDateString():"N/A"})]},P))})]})})}),(c("admin")||c("manager"))&&D.length>0&&s.jsx(rt,{title:"Handoff Patterns",description:"Common troubleshooting sequence transitions",style:{marginBottom:r.spacing["2xl"]},noPadding:!0,children:s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`2px solid ${r.colors.border.light}`},children:[s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Sequence Flow"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Handoff Count"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:"Avg Handoffs"})]})}),s.jsx("tbody",{children:[...D].sort((M,P)=>P.handoff_count-M.handoff_count).map((M,P)=>{const ie=M.handoff_count>=10;return s.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`},children:[s.jsx("td",{style:{padding:r.spacing.md},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx(tt,{variant:"default",children:M.from_sequence_name||M.from_sequence}),s.jsx("span",{style:{color:ie?r.colors.chart.blue:r.colors.text.tertiary,fontSize:r.fontSize.xl},children:""}),s.jsx(tt,{variant:"default",children:M.to_sequence_name||M.to_sequence})]})}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",fontWeight:r.fontWeight.bold,color:ie?r.colors.chart.blue:r.colors.text.primary},children:M.handoff_count}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.secondary},children:M.avg_handoff_count?M.avg_handoff_count.toFixed(1):"N/A"})]},P)})})]})})}),s.jsx(rt,{title:"Call Volume Heatmap",description:"Support call patterns by day and hour",style:{marginBottom:r.spacing["2xl"]},children:F.length===0?s.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):s.jsx("div",{style:{overflowX:"auto"},children:(()=>{const M={};F.forEach(he=>{const We=`${he.day_of_week}_${he.hour_of_day}`;M[We]=he.call_count||0});const P=F.map(he=>he.call_count||0),ie=Math.min(...P,0),ge=Math.max(...P,1),V=he=>{if(he===0)return r.colors.background.primary;const We=(he-ie)/(ge-ie);return We<.25?r.colors.chart.blue:We<.5?r.colors.chart.purple:We<.75?r.colors.chart.orange:r.colors.accent.danger},Ae=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Le=Array.from({length:24},(he,We)=>We===0?"12am":We<12?`${We}am`:We===12?"12pm":`${We-12}pm`);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"100px repeat(24, 40px)",gap:"2px",marginBottom:r.spacing.lg},children:[s.jsx("div",{}),Le.map((he,We)=>s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,textAlign:"center",transform:"rotate(-45deg)",height:"60px",display:"flex",alignItems:"flex-end",justifyContent:"center"},children:he},We)),Ae.map((he,We)=>s.jsxs(hi.Fragment,{children:[s.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,display:"flex",alignItems:"center",fontWeight:r.fontWeight.medium},children:he}),Le.map((te,Oe)=>{const Ye=`${We}_${Oe}`,nt=M[Ye]||0,Je=V(nt);return s.jsx("div",{style:{backgroundColor:Je,height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:r.radius.sm,fontSize:r.fontSize.xs,color:nt>0?r.colors.text.primary:r.colors.text.tertiary,fontWeight:nt>0?r.fontWeight.semibold:r.fontWeight.normal,cursor:"pointer",transition:"transform 0.2s"},title:`${he} ${Le[Oe]}: ${nt} calls`,onMouseEnter:L=>{L.currentTarget.style.transform="scale(1.1)"},onMouseLeave:L=>{L.currentTarget.style.transform="scale(1)"},children:nt>0?nt:""},`${We}-${Oe}`)})]},`day-${We}`))]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg,flexWrap:"wrap"},children:[s.jsx("span",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:"Call Volume:"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.background.primary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.sm}}),s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"None"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.chart.blue,borderRadius:r.radius.sm}}),s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"Low"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.chart.purple,borderRadius:r.radius.sm}}),s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"Medium"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.chart.orange,borderRadius:r.radius.sm}}),s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"High"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx("div",{style:{width:"30px",height:"20px",backgroundColor:r.colors.accent.danger,borderRadius:r.radius.sm}}),s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"Very High"})]})]})]})})()})}),s.jsx(rt,{title:"Resolution by Step",description:"Percentage of issues resolved at each troubleshooting step",action:s.jsx("select",{value:le,onChange:M=>X(M.target.value),style:{padding:`${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:de.map(M=>s.jsx("option",{value:M,children:ee[M]||M},M))}),children:ze.length===0?s.jsx("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:"No data available"}):s.jsx(Md,{width:"100%",height:400,children:s.jsxs($2,{data:ze,children:[s.jsx(qd,{strokeDasharray:"3 3",stroke:r.colors.border.medium}),s.jsx(Ud,{dataKey:"step_num",stroke:r.colors.text.secondary}),s.jsx(Hd,{stroke:r.colors.text.secondary}),s.jsx(Od,{contentStyle:{backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.primary}}),s.jsx(Ra,{}),s.jsx(dx,{dataKey:"percentage",fill:r.colors.chart.green,name:"Resolved %",radius:[8,8,0,0]})]})})})]})]}):s.jsx($Y,{})}function YY(){const{user:e,logout:t,hasRole:n,isSiteAdmin:i}=xn(),l=ii(),c=i()||n("admin")||n("manager"),[d,p]=y.useState([]),[m,g]=y.useState([]),[h,x]=y.useState(!0),[S,j]=y.useState(""),[k,w]=y.useState("name"),[C,z]=y.useState(!1),[E,A]=y.useState(null);y.useEffect(()=>{$()},[]),y.useEffect(()=>{let U=[...d];if(S){const le=S.toLowerCase();U=U.filter(X=>X.display_name?.toLowerCase().includes(le)||X.sequence_key?.toLowerCase().includes(le)||X.category?.toLowerCase().includes(le))}U.sort((le,X)=>{switch(k){case"name":return(le.display_name||"").localeCompare(X.display_name||"");case"category":return(le.category||"").localeCompare(X.category||"");case"created":return new Date(X.created_at)-new Date(le.created_at);default:return 0}}),g(U)},[d,S,k]);const $=async()=>{x(!0);try{const U=await fetch("/api/sequences",{credentials:"include"});if(!U.ok)throw new Error("Failed to fetch sequences");const le=await U.json();p(le)}catch(U){console.error("Error fetching sequences:",U)}finally{x(!1)}},T=async(U,le)=>{try{if(!(await fetch(`/api/sequences/${U}/toggle`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({is_active:!le})})).ok)throw new Error("Failed to toggle sequence");await $()}catch(X){console.error("Error toggling sequence:",X),alert("Failed to toggle sequence status")}},D=U=>{A(U),z(!0)},R=async()=>{if(E)try{if(!(await fetch(`/api/sequences/${E.sequence_key}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete sequence");await $(),z(!1),A(null)}catch(U){console.error("Error deleting sequence:",U),alert("Failed to delete sequence")}},F=U=>({network:"primary",hardware:"warning",software:"secondary",power:"danger",connectivity:"success"})[U?.toLowerCase()]||"default";return s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:e,onLogout:t,hasRole:n,isSiteAdmin:i}),s.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[s.jsx("div",{style:{marginBottom:r.spacing["2xl"]},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.md},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[s.jsx(iO,{size:32,color:r.colors.accent.primary,strokeWidth:2}),s.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Sequences"})]}),s.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Manage troubleshooting sequences"})]}),c&&s.jsxs("button",{onClick:()=>l("/sequences/create"),style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:U=>U.target.style.backgroundColor=r.colors.accent.primaryHover,onMouseLeave:U=>U.target.style.backgroundColor=r.colors.accent.primary,children:[s.jsx(sr,{size:20}),"Create New Sequence"]})]})}),s.jsx(rt,{style:{marginBottom:r.spacing.lg},children:s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,alignItems:"center"},children:[s.jsxs("div",{style:{flex:1,position:"relative"},children:[s.jsx(yi,{size:20,color:r.colors.text.tertiary,style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)"}}),s.jsx("input",{type:"text",placeholder:"Search by name, key, or category...",value:S,onChange:U=>j(U.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md} ${r.spacing.sm} 40px`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:r.colors.background.primary,outline:"none"}})]}),s.jsxs("select",{value:k,onChange:U=>w(U.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:r.colors.background.primary,cursor:"pointer",outline:"none"},children:[s.jsx("option",{value:"name",children:"Sort by Name"}),s.jsx("option",{value:"category",children:"Sort by Category"}),s.jsx("option",{value:"created",children:"Sort by Date"})]})]})}),s.jsx(rt,{noPadding:!0,children:h?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:r.spacing["2xl"],gap:r.spacing.md},children:[s.jsx(Pf,{size:24,color:r.colors.accent.primary,style:{animation:"spin 1s linear infinite"}}),s.jsx("span",{style:{color:r.colors.text.secondary},children:"Loading sequences..."})]}):m.length===0?s.jsx("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:S?s.jsxs(s.Fragment,{children:[s.jsx("p",{style:{fontSize:r.fontSize.lg,marginBottom:r.spacing.sm},children:"No sequences found"}),s.jsx("p",{style:{fontSize:r.fontSize.sm},children:"Try adjusting your search terms"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{style:{fontSize:r.fontSize.lg,marginBottom:r.spacing.sm},children:"No sequences yet"}),s.jsx("p",{style:{fontSize:r.fontSize.sm},children:"Create your first troubleshooting sequence to get started"})]})}):s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`1px solid ${r.colors.border.light}`},children:[s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Sequence Name"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Key"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Category"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Steps"}),c&&s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Status"}),c&&s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.sm},children:"Actions"})]})}),s.jsx("tbody",{children:m.map((U,le)=>s.jsxs("tr",{style:{borderBottom:le<m.length-1?`1px solid ${r.colors.border.light}`:"none",cursor:c?"pointer":"default",transition:"background-color 0.2s"},onMouseEnter:X=>c&&(X.currentTarget.style.backgroundColor=r.colors.background.hover),onMouseLeave:X=>X.currentTarget.style.backgroundColor="transparent",onClick:()=>c&&l(`/sequences/${U.sequence_key}`),children:[s.jsxs("td",{style:{padding:r.spacing.md},children:[s.jsx("div",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.accent.primary},children:U.display_name}),U.description&&s.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,marginTop:"2px"},children:U.description})]}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("code",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,backgroundColor:r.colors.background.tertiary,padding:"2px 6px",borderRadius:r.radius.sm,fontFamily:"monospace"},children:U.sequence_key})}),s.jsx("td",{style:{padding:r.spacing.md},children:U.category?s.jsx(tt,{variant:F(U.category),size:"sm",children:U.category}):s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"-"})}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},children:s.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",minWidth:"32px",height:"32px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:U.total_steps||0})}),c&&s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},onClick:X=>X.stopPropagation(),children:s.jsx("button",{onClick:()=>T(U.sequence_key,U.is_active),style:{background:"none",border:"none",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:r.spacing.xs,color:U.is_active?r.colors.accent.success:r.colors.text.tertiary,transition:"color 0.2s"},title:U.is_active?"Active - Click to disable":"Inactive - Click to enable",children:U.is_active?s.jsx(wx,{size:24}):s.jsx(jx,{size:24})})}),c&&s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},onClick:X=>X.stopPropagation(),children:s.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,justifyContent:"center"},children:[s.jsx("button",{onClick:()=>l(`/sequences/${U.sequence_key}`),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.primary,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:r.radius.sm,transition:"background-color 0.2s"},onMouseEnter:X=>X.target.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:X=>X.target.style.backgroundColor="transparent",title:"Edit sequence",children:s.jsx(eu,{size:18})}),s.jsx("button",{onClick:()=>D(U),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.danger,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:r.radius.sm,transition:"background-color 0.2s"},onMouseEnter:X=>X.target.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:X=>X.target.style.backgroundColor="transparent",title:"Delete sequence",children:s.jsx(Kr,{size:18})})]})})]},U.sequence_key))})]})})})]}),C&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>z(!1),children:s.jsxs("div",{style:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.lg,padding:r.spacing.xl,maxWidth:"500px",width:"90%",boxShadow:r.shadows.xl},onClick:U=>U.stopPropagation(),children:[s.jsx("h2",{style:{margin:`0 0 ${r.spacing.md} 0`,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Delete Sequence"}),s.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.secondary,fontSize:r.fontSize.base,lineHeight:1.6},children:['Are you sure you want to delete the sequence "',s.jsx("strong",{children:E?.display_name}),'"? This action cannot be undone and will remove all steps associated with this sequence.']}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>z(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:U=>U.target.style.backgroundColor=r.colors.background.hover,onMouseLeave:U=>U.target.style.backgroundColor=r.colors.background.tertiary,children:"Cancel"}),s.jsx("button",{onClick:R,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:U=>U.target.style.backgroundColor="#b91c1c",onMouseLeave:U=>U.target.style.backgroundColor=r.colors.accent.danger,children:"Delete"})]})]})}),s.jsx("style",{children:`
          @keyframes spin {
            from {
              transform: rotate(0deg);
            }
            to {
              transform: rotate(360deg);
            }
          }
        `})]})}function VY(){const{user:e,logout:t,hasRole:n,isSiteAdmin:i}=xn(),l=ii(),[c,d]=y.useState({sequenceKey:"",displayName:"",description:"",category:"",messageTemplate:"",docUrl:"",docTitle:"",successTriggers:"",failureTriggers:""}),[p,m]=y.useState({}),[g,h]=y.useState(""),[x,S]=y.useState(!1),j=T=>T.split(",").map(D=>D.trim()).filter(D=>D.length>0),k=j(c.successTriggers),w=j(c.failureTriggers),C=(T,D)=>{d(R=>({...R,[T]:D})),p[T]&&m(R=>({...R,[T]:""})),g&&h("")},z=()=>{const T={};return c.sequenceKey?/^[a-z0-9_]+$/.test(c.sequenceKey)||(T.sequenceKey="Sequence key must be lowercase with underscores only"):T.sequenceKey="Sequence key is required",c.displayName||(T.displayName="Display name is required"),c.description||(T.description="Description is required"),c.category||(T.category="Category is required"),c.messageTemplate||(T.messageTemplate="Message template is required"),c.docUrl?/^https?:\/\/.+/.test(c.docUrl)||(T.docUrl="Please enter a valid URL starting with http:// or https://"):T.docUrl="Document URL is required",c.docTitle||(T.docTitle="Document title is required"),k.length===0&&(T.successTriggers="At least one success trigger is required"),w.length===0&&(T.failureTriggers="At least one failure trigger is required"),m(T),Object.keys(T).length===0},E=async T=>{if(T.preventDefault(),!z()){h("Please fix the errors below before submitting");return}S(!0),h("");try{const D=await fetch("/api/sequences",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({key:c.sequenceKey,name:c.displayName,description:c.description,category:c.category,first_step:{message:c.messageTemplate,doc_url:c.docUrl,doc_title:c.docTitle,success_triggers:k,failure_triggers:w}})});if(!D.ok){const F=await D.json();throw new Error(F.error||"Failed to create sequence")}const R=await D.json();l(`/sequences/${c.sequenceKey}`)}catch(D){console.error("Error creating sequence:",D),h(D.message||"Failed to create sequence. Please try again.")}finally{S(!1)}},A=()=>{l("/sequences")},$=(T,D)=>{const F=j(c[T]).filter(U=>U!==D);C(T,F.join(", "))};return s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:e,onLogout:t,hasRole:n,isSiteAdmin:i}),s.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[s.jsxs("div",{style:{marginBottom:r.spacing["2xl"]},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[s.jsx(sr,{size:32,color:r.colors.accent.primary,strokeWidth:2}),s.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Create New Sequence"})]}),s.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Define a new troubleshooting sequence with its first step"})]}),g&&s.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.md,backgroundColor:"#fee2e2",border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(mn,{size:20,color:r.colors.accent.danger}),s.jsx("span",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.base},children:g})]}),s.jsxs("form",{onSubmit:E,children:[s.jsx(rt,{title:"Sequence Metadata",style:{marginBottom:r.spacing.lg},children:s.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"sequenceKey",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Sequence Key ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{id:"sequenceKey",type:"text",value:c.sequenceKey,onChange:T=>C("sequenceKey",T.target.value),placeholder:"dryer_no_power",disabled:x,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${p.sequenceKey?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:x?r.colors.background.tertiary:r.colors.background.primary,outline:"none",fontFamily:"monospace"},onFocus:T=>!p.sequenceKey&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=p.sequenceKey?r.colors.accent.danger:r.colors.border.light}),p.sequenceKey?s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:p.sequenceKey}):s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"Lowercase letters, numbers, and underscores only (e.g., dryer_no_power)"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"displayName",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Display Name ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{id:"displayName",type:"text",value:c.displayName,onChange:T=>C("displayName",T.target.value),placeholder:"Dryer - No Power",disabled:x,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${p.displayName?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:x?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!p.displayName&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=p.displayName?r.colors.accent.danger:r.colors.border.light}),p.displayName&&s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:p.displayName})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"description",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Description ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("textarea",{id:"description",value:c.description,onChange:T=>C("description",T.target.value),placeholder:"Troubleshooting steps for dryers with no power",rows:3,disabled:x,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${p.description?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:x?r.colors.background.tertiary:r.colors.background.primary,outline:"none",resize:"vertical",fontFamily:"inherit"},onFocus:T=>!p.description&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=p.description?r.colors.accent.danger:r.colors.border.light}),p.description&&s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:p.description})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"category",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Category ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsxs("select",{id:"category",value:c.category,onChange:T=>C("category",T.target.value),disabled:x,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${p.category?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:c.category?r.colors.text.primary:r.colors.text.tertiary,backgroundColor:x?r.colors.background.tertiary:r.colors.background.primary,outline:"none",cursor:"pointer"},onFocus:T=>!p.category&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=p.category?r.colors.accent.danger:r.colors.border.light,children:[s.jsx("option",{value:"",children:"Select a category..."}),s.jsx("option",{value:"Electrical",children:"Electrical"}),s.jsx("option",{value:"Plumbing",children:"Plumbing"}),s.jsx("option",{value:"HVAC",children:"HVAC"}),s.jsx("option",{value:"Appliances",children:"Appliances"}),s.jsx("option",{value:"Mechanical",children:"Mechanical"}),s.jsx("option",{value:"Other",children:"Other"})]}),p.category&&s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:p.category})]})]})}),s.jsx(rt,{title:"First Step",style:{marginBottom:r.spacing.lg},children:s.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"messageTemplate",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Message Template ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("textarea",{id:"messageTemplate",value:c.messageTemplate,onChange:T=>C("messageTemplate",T.target.value),placeholder:"Let's check the power. First, verify the outlet: {url}",rows:4,disabled:x,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${p.messageTemplate?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:x?r.colors.background.tertiary:r.colors.background.primary,outline:"none",resize:"vertical",fontFamily:"inherit"},onFocus:T=>!p.messageTemplate&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=p.messageTemplate?r.colors.accent.danger:r.colors.border.light}),p.messageTemplate?s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:p.messageTemplate}):s.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:["Use ","{url}"," placeholder for the document link"]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"docUrl",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Document URL ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{id:"docUrl",type:"url",value:c.docUrl,onChange:T=>C("docUrl",T.target.value),placeholder:"https://docs.example.com/dryer-power",disabled:x,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${p.docUrl?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:x?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!p.docUrl&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=p.docUrl?r.colors.accent.danger:r.colors.border.light}),p.docUrl&&s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:p.docUrl})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"docTitle",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Document Title ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{id:"docTitle",type:"text",value:c.docTitle,onChange:T=>C("docTitle",T.target.value),placeholder:"Check Power Outlet",disabled:x,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${p.docTitle?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:x?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!p.docTitle&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=p.docTitle?r.colors.accent.danger:r.colors.border.light}),p.docTitle&&s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:p.docTitle})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"successTriggers",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Success Triggers ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{id:"successTriggers",type:"text",value:c.successTriggers,onChange:T=>C("successTriggers",T.target.value),placeholder:"FIXED, YES, WORKING, DONE",disabled:x,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${p.successTriggers?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:x?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!p.successTriggers&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=p.successTriggers?r.colors.accent.danger:r.colors.border.light}),p.successTriggers?s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:p.successTriggers}):s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"Comma-separated responses meaning 'problem fixed'"}),k.length>0&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,marginTop:r.spacing.sm},children:k.map((T,D)=>s.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.success,color:"#ffffff",borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[T,s.jsx("button",{type:"button",onClick:()=>$("successTriggers",T),disabled:x,style:{background:"none",border:"none",padding:0,cursor:"pointer",display:"flex",alignItems:"center",color:"#ffffff"},children:s.jsx(Nt,{size:14})})]},D))})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"failureTriggers",style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:["Failure Triggers ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{id:"failureTriggers",type:"text",value:c.failureTriggers,onChange:T=>C("failureTriggers",T.target.value),placeholder:"NO, STILL BROKEN, NOT WORKING, HELP",disabled:x,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${p.failureTriggers?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:x?r.colors.background.tertiary:r.colors.background.primary,outline:"none"},onFocus:T=>!p.failureTriggers&&(T.target.style.borderColor=r.colors.accent.primary),onBlur:T=>T.target.style.borderColor=p.failureTriggers?r.colors.accent.danger:r.colors.border.light}),p.failureTriggers?s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.accent.danger},children:p.failureTriggers}):s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"Comma-separated responses meaning 'still broken'"}),w.length>0&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,marginTop:r.spacing.sm},children:w.map((T,D)=>s.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[T,s.jsx("button",{type:"button",onClick:()=>$("failureTriggers",T),disabled:x,style:{background:"none",border:"none",padding:0,cursor:"pointer",display:"flex",alignItems:"center",color:"#ffffff"},children:s.jsx(Nt,{size:14})})]},D))})]})]})}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{type:"button",onClick:A,disabled:x,style:{padding:`${r.spacing.md} ${r.spacing.xl}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:x?"not-allowed":"pointer",transition:"background-color 0.2s",opacity:x?.6:1},onMouseEnter:T=>!x&&(T.target.style.backgroundColor=r.colors.background.hover),onMouseLeave:T=>T.target.style.backgroundColor=r.colors.background.tertiary,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:x,style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.xl}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,cursor:x?"not-allowed":"pointer",transition:"background-color 0.2s",opacity:x?.8:1},onMouseEnter:T=>!x&&(T.target.style.backgroundColor=r.colors.accent.primaryHover),onMouseLeave:T=>T.target.style.backgroundColor=r.colors.accent.primary,children:x?s.jsxs(s.Fragment,{children:[s.jsx(Pf,{size:20,style:{animation:"spin 1s linear infinite"}}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(sr,{size:20}),"Create Sequence"]})})]})]}),s.jsx("style",{children:`
            @keyframes spin {
              from {
                transform: rotate(0deg);
              }
              to {
                transform: rotate(360deg);
              }
            }
          `})]})]})}const W2=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`:null;function Ai({children:e,onClose:t,title:n}){return s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:r.spacing.lg},onClick:t,children:s.jsxs("div",{style:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.lg,padding:r.spacing.xl,maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:r.shadows.xl},onClick:i=>i.stopPropagation(),children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[s.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:n}),s.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.tertiary},children:s.jsx(Nt,{size:24})})]}),e]})})}function dt({label:e,required:t,type:n="text",value:i,onChange:l,helpText:c,options:d,disabled:p}){return s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:[e," ",t&&s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),n==="textarea"?s.jsx("textarea",{value:i,onChange:l,disabled:p,rows:4,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:p?r.colors.background.tertiary:r.colors.background.primary,outline:"none",resize:"vertical",fontFamily:"inherit"}}):n==="select"?s.jsx("select",{value:i,onChange:l,disabled:p,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:p?r.colors.background.tertiary:r.colors.background.primary,outline:"none",cursor:"pointer"},children:d?.map((m,g)=>s.jsx("option",{value:m.value,children:m.label},g))}):s.jsx("input",{type:n,value:i,onChange:l,disabled:p,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.base,color:r.colors.text.primary,backgroundColor:p?r.colors.background.tertiary:r.colors.background.primary,outline:"none"}}),c&&s.jsx("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:c})]})}function B2({isEdit:e,stepForm:t,allSequences:n,onClose:i,onSubmit:l,handleStepNumChange:c,handleMessageChange:d,handleDocUrlChange:p,handleDocTitleChange:m,handleSuccessTriggersChange:g,handleFailureTriggersChange:h,handleHasHandoffChange:x,handleHandoffTriggerChange:S,handleHandoffSequenceChange:j,handleIsActiveChange:k}){return s.jsx(Ai,{onClose:i,title:e?"Edit Step":"Add Step",children:s.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[s.jsx(dt,{label:"Step Number",required:!0,type:"number",value:t.stepNum,onChange:c,disabled:e,helpText:e?"Step number cannot be changed":"Enter the step number for this step"}),s.jsx(dt,{label:"Message Template",required:!0,type:"textarea",value:t.message,onChange:d,helpText:"Use {url} placeholder for the document link"}),s.jsx(dt,{label:"Document URL",required:!0,value:t.docUrl,onChange:p}),s.jsx(dt,{label:"Document Title",required:!0,value:t.docTitle,onChange:m}),s.jsx(dt,{label:"Success Triggers",required:!0,value:t.successTriggers,onChange:g,helpText:"Comma-separated responses meaning 'problem fixed'"}),s.jsx(dt,{label:"Failure Triggers",required:!0,value:t.failureTriggers,onChange:h,helpText:"Comma-separated responses meaning 'still broken'"}),s.jsx("div",{children:s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:t.hasHandoff,onChange:x}),s.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:"Configure Handoff"})]})}),t.hasHandoff&&s.jsxs(s.Fragment,{children:[s.jsx(dt,{label:"Handoff Trigger Word",value:t.handoffTrigger,onChange:S,helpText:"Trigger word to handoff to another sequence"}),s.jsx(dt,{label:"Target Sequence",type:"select",value:t.handoffSequenceKey,onChange:j,options:[{value:"",label:"Select a sequence..."},...n.map(w=>({value:w.sequence_key,label:w.display_name}))]})]}),e&&s.jsx("div",{children:s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:t.isActive,onChange:k}),s.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:"Active"})]})}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:i,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:l,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[e?s.jsx(Fd,{size:16}):s.jsx(sr,{size:16}),e?"Save Changes":"Add Step"]})]})]})})}function I2({stepNum:e,tools:t,parts:n,onAddTool:i,onAddPart:l,onEditTool:c,onDeleteTool:d,onEditPart:p,onDeletePart:m,theme:g,isGeneral:h=!1,sequenceKey:x}){const[S,j]=y.useState(!1),k=t.length+n.length;return k===0&&!h?s.jsx("div",{style:{marginTop:g.spacing.md,paddingTop:g.spacing.md,borderTop:`1px solid ${g.colors.border.light}`},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:g.spacing.sm},children:[s.jsx(Pi,{size:14,color:g.colors.text.tertiary}),s.jsx("span",{style:{fontSize:g.fontSize.xs,color:g.colors.text.tertiary},children:"No supplies for this step"}),s.jsxs("button",{onClick:()=>i(e),style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"transparent",border:`1px solid ${g.colors.border.light}`,borderRadius:g.radius.sm,cursor:"pointer",fontSize:g.fontSize.xs,color:g.colors.accent.primary},children:[s.jsx(sr,{size:12}),"Tool"]}),s.jsxs("button",{onClick:()=>l(e),style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"transparent",border:`1px solid ${g.colors.border.light}`,borderRadius:g.radius.sm,cursor:"pointer",fontSize:g.fontSize.xs,color:g.colors.accent.success},children:[s.jsx(sr,{size:12}),"Part"]})]})}):s.jsxs("div",{style:{marginTop:g.spacing.md,paddingTop:g.spacing.md,borderTop:`1px solid ${g.colors.border.light}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:k>0?"pointer":"default"},onClick:()=>k>0&&j(!S),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:g.spacing.sm},children:[s.jsx(Pi,{size:14,color:g.colors.text.tertiary}),s.jsx("span",{style:{fontSize:g.fontSize.sm,fontWeight:g.fontWeight.medium,color:g.colors.text.secondary},children:h?"General Supplies":"Supplies"}),k>0&&s.jsx(tt,{variant:h?"primary":"secondary",size:"sm",children:k}),k>0&&(S?s.jsx(Ec,{size:14,color:g.colors.text.tertiary}):s.jsx(ei,{size:14,color:g.colors.text.tertiary}))]}),s.jsxs("div",{style:{display:"flex",gap:g.spacing.xs,alignItems:"center"},onClick:w=>w.stopPropagation(),children:[x&&s.jsx("a",{href:`/supplies/${x}${e?`?step=${e}`:""}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",fontSize:g.fontSize.xs,color:g.colors.text.tertiary,textDecoration:"none"},title:e?`Preview Step ${e} supplies`:"Preview public supplies page",children:s.jsx(Mi,{size:12})}),s.jsxs("button",{onClick:()=>i(e),style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"transparent",border:`1px solid ${g.colors.border.light}`,borderRadius:g.radius.sm,cursor:"pointer",fontSize:g.fontSize.xs,color:g.colors.accent.primary},children:[s.jsx(sr,{size:12}),"Tool"]}),s.jsxs("button",{onClick:()=>l(e),style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"transparent",border:`1px solid ${g.colors.border.light}`,borderRadius:g.radius.sm,cursor:"pointer",fontSize:g.fontSize.xs,color:g.colors.accent.success},children:[s.jsx(sr,{size:12}),"Part"]})]})]}),S&&k>0&&s.jsxs("div",{style:{marginTop:g.spacing.md},children:[t.length>0&&s.jsxs("div",{style:{marginBottom:n.length>0?g.spacing.md:0},children:[s.jsxs("div",{style:{fontSize:g.fontSize.xs,color:g.colors.text.tertiary,marginBottom:g.spacing.xs,textTransform:"uppercase"},children:["Tools (",t.length,")"]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:g.spacing.xs},children:t.map(w=>s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:g.spacing.sm,backgroundColor:g.colors.background.primary,borderRadius:g.radius.sm,border:`1px solid ${g.colors.border.light}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:g.spacing.sm,flex:1},children:[s.jsx("span",{style:{fontSize:g.fontSize.sm,color:g.colors.text.primary},children:w.tool_name}),w.is_required&&s.jsx(tt,{variant:"danger",size:"sm",children:"Required"}),w.tool_link&&s.jsx("a",{href:W2(w.tool_link),target:"_blank",rel:"noopener noreferrer",style:{color:g.colors.accent.primary},children:s.jsx(Mi,{size:12})})]}),s.jsxs("div",{style:{display:"flex",gap:"4px"},children:[s.jsx("button",{onClick:()=>c(w),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:g.colors.text.tertiary},children:s.jsx(Nf,{size:12})}),s.jsx("button",{onClick:()=>d(w),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:g.colors.accent.danger},children:s.jsx(Kr,{size:12})})]})]},w.id))})]}),n.length>0&&s.jsxs("div",{children:[s.jsxs("div",{style:{fontSize:g.fontSize.xs,color:g.colors.text.tertiary,marginBottom:g.spacing.xs,textTransform:"uppercase"},children:["Parts (",n.length,")"]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:g.spacing.xs},children:n.map(w=>s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:g.spacing.sm,backgroundColor:g.colors.background.primary,borderRadius:g.radius.sm,border:`1px solid ${g.colors.border.light}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:g.spacing.sm,flex:1},children:[s.jsx("span",{style:{fontSize:g.fontSize.sm,color:g.colors.text.primary},children:w.part_name}),w.is_required&&s.jsx(tt,{variant:"danger",size:"sm",children:"Required"}),w.part_number&&s.jsxs(tt,{variant:"default",size:"sm",children:["#",w.part_number]}),w.estimated_price&&s.jsxs("span",{style:{fontSize:g.fontSize.xs,color:g.colors.accent.success},children:["~$",Number(w.estimated_price).toFixed(2)]}),w.part_link&&s.jsx("a",{href:W2(w.part_link),target:"_blank",rel:"noopener noreferrer",style:{color:g.colors.accent.success},children:s.jsx(sO,{size:12})})]}),s.jsxs("div",{style:{display:"flex",gap:"4px"},children:[s.jsx("button",{onClick:()=>p(w),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:g.colors.text.tertiary},children:s.jsx(Nf,{size:12})}),s.jsx("button",{onClick:()=>m(w),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:g.colors.accent.danger},children:s.jsx(Kr,{size:12})})]})]},w.id))})]})]})]})}function GY(){const{key:e}=Bf(),{user:t,logout:n,hasRole:i,isSiteAdmin:l}=xn(),c=ii(),[d,p]=y.useState(null),[m,g]=y.useState([]),[h,x]=y.useState([]),[S,j]=y.useState([]),[k,w]=y.useState(!0),[C,z]=y.useState(""),[E,A]=y.useState(""),[$,T]=y.useState(!1),[D,R]=y.useState(!1),[F,U]=y.useState(!1),[le,X]=y.useState(!1),[ae,ye]=y.useState(!1),[pe,_e]=y.useState(!1),[B,Z]=y.useState(null),[ce,Ce]=y.useState(null),[Te,W]=y.useState({displayName:"",description:"",category:""}),[q,re]=y.useState({stepNum:"",message:"",docUrl:"",docTitle:"",successTriggers:"",failureTriggers:"",hasHandoff:!1,handoffTrigger:"",handoffSequenceKey:"",isActive:!0}),[be,xe]=y.useState({tools:[],parts:[]}),[je,G]=y.useState(!1),[de,ee]=y.useState(!1),[ze,M]=y.useState(!1),[P,ie]=y.useState(!1),[ge,V]=y.useState(!1),[Ae,Le]=y.useState(!1),[he,We]=y.useState(!1),[te,Oe]=y.useState(null),[Ye,nt]=y.useState(null),[Je,L]=y.useState(null),[we,Fe]=y.useState(null),[Me,Ze]=y.useState({tool_name:"",tool_description:"",tool_link:"",is_required:!0,sort_order:0,step_num:null}),[Ne,yt]=y.useState({part_name:"",part_number:"",part_description:"",part_link:"",estimated_price:"",is_required:!0,sort_order:0,step_num:null});y.useEffect(()=>{const N=async()=>{w(!0),z("");try{const Rt=await fetch(`/api/sequences/${e}`,{credentials:"include"});if(!Rt.ok)throw Rt.status===404?new Error("Sequence not found"):new Error("Failed to fetch sequence details");const Jr=await Rt.json();p(Jr),W({displayName:Jr.display_name||"",description:Jr.description||"",category:Jr.category||""})}catch(Rt){console.error("Error fetching sequence:",Rt),z(Rt.message)}finally{w(!1)}},De=async()=>{try{const Rt=await fetch("/api/sequences",{credentials:"include"});if(Rt.ok){const Jr=await Rt.json();g(Jr.filter(nu=>nu.sequence_key!==e))}}catch(Rt){console.error("Error fetching sequences:",Rt)}},ut=async()=>{try{const Rt=await fetch(`/api/patterns?sequence_key=${e}`,{credentials:"include"});if(Rt.ok){const Jr=await Rt.json();x(Jr)}}catch(Rt){console.error("Error fetching trigger patterns:",Rt)}},sn=async()=>{G(!0);try{const Rt=await fetch(`/api/sequences/${e}/supplies`,{credentials:"include"});if(Rt.ok){const Jr=await Rt.json();xe({tools:Jr.tools||[],parts:Jr.parts||[]})}}catch(Rt){console.error("Error fetching supplies:",Rt)}finally{G(!1)}};N(),De(),ut(),sn()},[e]);const _r=async(N=!1)=>{N||w(!0),z("");try{const De=await fetch(`/api/sequences/${e}`,{credentials:"include"});if(!De.ok)throw De.status===404?new Error("Sequence not found"):new Error("Failed to fetch sequence details");const ut=await De.json();p(ut),W({displayName:ut.display_name||"",description:ut.description||"",category:ut.category||""})}catch(De){console.error("Error fetching sequence:",De),z(De.message)}finally{N||w(!1)}},Zt=async()=>{G(!0);try{const N=await fetch(`/api/sequences/${e}/supplies`,{credentials:"include"});if(N.ok){const De=await N.json();xe({tools:De.tools||[],parts:De.parts||[]})}}catch(N){console.error("Error fetching supplies:",N)}finally{G(!1)}},zt=()=>{Ze({tool_name:"",tool_description:"",tool_link:"",is_required:!0,sort_order:be.tools.length,step_num:null})},ar=(N=null)=>{zt(),Ze(De=>({...De,step_num:N})),ee(!0)},me=N=>{Oe(N),Ze({tool_name:N.tool_name||"",tool_description:N.tool_description||"",tool_link:N.tool_link||"",is_required:N.is_required??!0,sort_order:N.sort_order||0,step_num:N.step_num||null}),M(!0)},Ve=N=>{L(N),ie(!0)},qt=async()=>{try{if(!(await fetch(`/api/sequences/${e}/tools`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Me)})).ok)throw new Error("Failed to add tool");await Zt(),ee(!1),zt(),gt("Tool added successfully")}catch(N){console.error("Error adding tool:",N),z("Failed to add tool")}},vr=async()=>{try{if(!(await fetch(`/api/sequences/tools/${te.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Me)})).ok)throw new Error("Failed to update tool");await Zt(),M(!1),Oe(null),gt("Tool updated successfully")}catch(N){console.error("Error updating tool:",N),z("Failed to update tool")}},ur=async()=>{try{if(!(await fetch(`/api/sequences/tools/${Je.id}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete tool");await Zt(),ie(!1),L(null),gt("Tool deleted successfully")}catch(N){console.error("Error deleting tool:",N),z("Failed to delete tool")}},pt=()=>{yt({part_name:"",part_number:"",part_description:"",part_link:"",estimated_price:"",is_required:!0,sort_order:be.parts.length,step_num:null})},Tr=(N=null)=>{pt(),yt(De=>({...De,step_num:N})),V(!0)},J=N=>{nt(N),yt({part_name:N.part_name||"",part_number:N.part_number||"",part_description:N.part_description||"",part_link:N.part_link||"",estimated_price:N.estimated_price||"",is_required:N.is_required??!0,sort_order:N.sort_order||0,step_num:N.step_num||null}),Le(!0)},Ee=N=>{Fe(N),We(!0)},Ue=async()=>{try{if(!(await fetch(`/api/sequences/${e}/parts`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...Ne,estimated_price:Ne.estimated_price?parseFloat(Ne.estimated_price):null})})).ok)throw new Error("Failed to add part");await Zt(),V(!1),pt(),gt("Part added successfully")}catch(N){console.error("Error adding part:",N),z("Failed to add part")}},Vt=async()=>{try{if(!(await fetch(`/api/sequences/parts/${Ye.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...Ne,estimated_price:Ne.estimated_price?parseFloat(Ne.estimated_price):null})})).ok)throw new Error("Failed to update part");await Zt(),Le(!1),nt(null),gt("Part updated successfully")}catch(N){console.error("Error updating part:",N),z("Failed to update part")}},gr=async()=>{try{if(!(await fetch(`/api/sequences/parts/${we.id}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete part");await Zt(),We(!1),Fe(null),gt("Part deleted successfully")}catch(N){console.error("Error deleting part:",N),z("Failed to delete part")}},vn=async()=>{_e(!0);try{const N=await fetch(`/api/sequences/${e}/validate`,{credentials:"include"});if(!N.ok)throw new Error("Failed to validate sequence");const De=await N.json();De.errors&&De.errors.length>0?(j(De.errors),z("Validation found issues with this sequence")):(j([]),gt("Sequence validated - no errors found"))}catch(N){console.error("Error validating sequence:",N),z("Failed to validate sequence")}finally{_e(!1)}},an=async()=>{try{if(!(await fetch(`/api/sequences/${e}/toggle`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({is_active:!d.is_active})})).ok)throw new Error("Failed to toggle sequence status");await _r(!0),gt(`Sequence ${d.is_active?"deactivated":"activated"} successfully`)}catch(N){console.error("Error toggling sequence:",N),z("Failed to toggle sequence status")}},ji=async()=>{try{if(!(await fetch(`/api/sequences/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:Te.displayName,description:Te.description,category:Te.category})})).ok)throw new Error("Failed to update sequence metadata");await _r(!0),T(!1),gt("Sequence updated successfully")}catch(N){console.error("Error updating metadata:",N),z("Failed to update sequence")}},ko=async()=>{try{if(!(await fetch(`/api/sequences/${e}/steps`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({step_num:parseInt(q.stepNum),message:q.message,doc_url:q.docUrl,doc_title:q.docTitle,success_triggers:ot(q.successTriggers),failure_triggers:ot(q.failureTriggers)})})).ok)throw new Error("Failed to add step");q.hasHandoff&&q.handoffTrigger&&q.handoffSequenceKey&&await ai(parseInt(q.stepNum)),await _r(!0),R(!1),ft(),gt("Step added successfully")}catch(N){console.error("Error adding step:",N),z("Failed to add step")}},Co=async()=>{try{if(!(await fetch(`/api/sequences/${e}/steps/${B.step_num}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:q.message,doc_url:q.docUrl,doc_title:q.docTitle,success_triggers:ot(q.successTriggers),failure_triggers:ot(q.failureTriggers),handoff_trigger:q.hasHandoff?q.handoffTrigger:null,handoff_sequence_key:q.hasHandoff?q.handoffSequenceKey:null,is_active:q.isActive})})).ok)throw new Error("Failed to update step");await _r(!0),U(!1),Z(null),ft(),gt("Step updated successfully")}catch(N){console.error("Error updating step:",N),z("Failed to update step")}},ai=async N=>{await fetch(`/api/sequences/${e}/steps/${N}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({handoff_trigger:q.handoffTrigger,handoff_sequence_key:q.handoffSequenceKey})})},I=async()=>{try{if(!(await fetch(`/api/sequences/${e}/steps/${ce.step_num}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete step");await _r(!0),X(!1),Ce(null),gt("Step deleted successfully")}catch(N){console.error("Error deleting step:",N),z("Failed to delete step")}},Re=async()=>{try{if(!(await fetch(`/api/sequences/${e}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete sequence");c("/sequences")}catch(N){console.error("Error deleting sequence:",N),z("Failed to delete sequence")}},Mt=async(N,De)=>{const ut=d.steps||[],sn=ut.findIndex(Rt=>Rt.step_num===N.step_num);if(De==="up"&&sn>0){const Rt=ut[sn-1];await _t(N,Rt)}else if(De==="down"&&sn<ut.length-1){const Rt=ut[sn+1];await _t(N,Rt)}},_t=async(N,De)=>{try{if(!(await fetch(`/api/sequences/${e}/steps/${N.step_num}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:De.message_template,doc_url:De.doc_url,doc_title:De.doc_title,success_triggers:De.success_triggers,failure_triggers:De.failure_triggers,handoff_trigger:De.handoff_trigger,handoff_sequence_key:De.handoff_sequence_key,is_active:De.is_active})})).ok)throw new Error("Failed to update first step");if(!(await fetch(`/api/sequences/${e}/steps/${De.step_num}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:N.message_template,doc_url:N.doc_url,doc_title:N.doc_title,success_triggers:N.success_triggers,failure_triggers:N.failure_triggers,handoff_trigger:N.handoff_trigger,handoff_sequence_key:N.handoff_sequence_key,is_active:N.is_active})})).ok)throw new Error("Failed to update second step");await _r(!0),gt("Steps reordered successfully")}catch(ut){console.error("Error swapping steps:",ut),z("Failed to reorder steps")}},lt=async N=>{try{if(!(await fetch(`/api/sequences/${e}/steps/${N.step_num}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({is_active:!N.is_active})})).ok)throw new Error("Failed to toggle step status");await _r(!0),gt(`Step ${N.is_active?"deactivated":"activated"} successfully`)}catch(De){console.error("Error toggling step:",De),z("Failed to toggle step status")}},ot=N=>N.split(",").map(De=>De.trim()).filter(De=>De.length>0),gt=N=>{A(N),setTimeout(()=>A(""),3e3)},ft=()=>{const N=d?.steps?.length?Math.max(...d.steps.map(De=>De.step_num))+1:1;re({stepNum:N.toString(),message:"",docUrl:"",docTitle:"",successTriggers:"",failureTriggers:"",hasHandoff:!1,handoffTrigger:"",handoffSequenceKey:"",isActive:!0})},Wi=N=>{Z(N),re({stepNum:N.step_num.toString(),message:N.message_template||"",docUrl:N.doc_url||"",docTitle:N.doc_title||"",successTriggers:(N.success_triggers||[]).join(", "),failureTriggers:(N.failure_triggers||[]).join(", "),hasHandoff:!!N.handoff_trigger,handoffTrigger:N.handoff_trigger||"",handoffSequenceKey:N.handoff_sequence_key||"",isActive:N.is_active!==!1}),U(!0)},da=()=>{ft(),R(!0)},wi=N=>({electrical:"primary",plumbing:"warning",hvac:"secondary",appliances:"success",mechanical:"danger"})[N?.toLowerCase()]||"default",ki=N=>N<=10?"#1e3a8a":N<=50?"#3b82f6":"#93c5fd",si=N=>({water:"#3b82f6",generator:"#f59e0b",grooming_equipment:"#8b5cf6",electrical:"#eab308",plumbing:"#06b6d4",hvac:"#ef4444"})[N]||r.colors.accent.primary,Y=y.useCallback(N=>re(De=>({...De,stepNum:N.target.value})),[]),$e=y.useCallback(N=>re(De=>({...De,message:N.target.value})),[]),Ke=y.useCallback(N=>re(De=>({...De,docUrl:N.target.value})),[]),Xe=y.useCallback(N=>re(De=>({...De,docTitle:N.target.value})),[]),Tt=y.useCallback(N=>re(De=>({...De,successTriggers:N.target.value})),[]),at=y.useCallback(N=>re(De=>({...De,failureTriggers:N.target.value})),[]),At=y.useCallback(N=>re(De=>({...De,handoffTrigger:N.target.value})),[]),Et=y.useCallback(N=>re(De=>({...De,handoffSequenceKey:N.target.value})),[]),Jt=y.useCallback(N=>re(De=>({...De,hasHandoff:N.target.checked})),[]),li=y.useCallback(N=>re(De=>({...De,isActive:N.target.checked})),[]);if(k)return s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:t,onLogout:n,hasRole:i,isSiteAdmin:l}),s.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"],display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx(Pf,{size:24,color:r.colors.accent.primary,style:{animation:"spin 1s linear infinite"}}),s.jsx("span",{style:{color:r.colors.text.secondary},children:"Loading sequence..."})]})})]});if(C&&!d)return s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:t,onLogout:n,hasRole:i,isSiteAdmin:l}),s.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:s.jsxs("div",{style:{padding:r.spacing.xl,backgroundColor:"#fee2e2",border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx(xi,{size:24,color:r.colors.accent.danger}),s.jsxs("div",{children:[s.jsx("h2",{style:{margin:0,color:r.colors.accent.danger,fontSize:r.fontSize.xl},children:C}),s.jsx("button",{onClick:()=>c("/sequences"),style:{marginTop:r.spacing.md,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Back to Sequences"})]})]})})]});const Wr=[...d?.steps||[]].sort((N,De)=>N.step_num-De.step_num);return s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:t,onLogout:n,hasRole:i,isSiteAdmin:l}),s.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[E&&s.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.md,backgroundColor:"#d1fae5",border:`1px solid ${r.colors.accent.success}`,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(Kt,{size:20,color:r.colors.accent.success}),s.jsx("span",{style:{color:r.colors.accent.success,fontSize:r.fontSize.base},children:E})]}),C&&d&&s.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.md,backgroundColor:"#fee2e2",border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(xi,{size:20,color:r.colors.accent.danger}),s.jsx("span",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.base},children:C})]}),s.jsxs("button",{onClick:()=>c("/sequences"),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,marginBottom:r.spacing.lg,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:"transparent",color:r.colors.accent.primary,border:"none",cursor:"pointer",fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium},children:[s.jsx($f,{size:20}),"Back to Sequences"]}),s.jsx(rt,{style:{marginBottom:r.spacing.lg},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:r.spacing.lg},children:[s.jsxs("div",{style:{flex:1},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.sm},children:[s.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:d?.display_name}),s.jsx("button",{type:"button",onClick:()=>T(!0),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.primary,display:"flex",alignItems:"center"},title:"Edit sequence metadata",children:s.jsx(Nf,{size:20})})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.md},children:[d?.category&&s.jsx(tt,{variant:wi(d.category),children:d.category}),s.jsxs("button",{onClick:an,style:{background:"none",border:"none",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:r.spacing.xs,color:d?.is_active?r.colors.accent.success:r.colors.text.tertiary},title:d?.is_active?"Active - Click to disable":"Inactive - Click to enable",children:[d?.is_active?s.jsx(wx,{size:24}):s.jsx(jx,{size:24}),s.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:d?.is_active?"Active":"Inactive"})]})]}),s.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,marginBottom:r.spacing.md},children:d?.description}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.lg,fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:[s.jsxs("span",{children:["Created: ",d?.created_at?new Date(d.created_at).toLocaleDateString():"N/A"]}),s.jsxs("span",{children:["Updated: ",d?.updated_at?new Date(d.updated_at).toLocaleDateString():"N/A"]}),s.jsxs("span",{children:["Steps: ",Wr.length]})]})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.sm},children:[s.jsxs("button",{onClick:vn,disabled:pe,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.info,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:pe?"not-allowed":"pointer",opacity:pe?.7:1},children:[pe?s.jsx(Pf,{size:16,style:{animation:"spin 1s linear infinite"}}):s.jsx(Kt,{size:16}),"Validate Sequence"]}),s.jsxs("button",{onClick:()=>ye(!0),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:[s.jsx(Kr,{size:16}),"Delete Sequence"]})]})]})}),s.jsxs(rt,{style:{marginBottom:r.spacing.lg},children:[s.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:r.spacing.xs},children:[s.jsx(Mc,{size:20,color:r.colors.accent.primary}),s.jsx("h2",{style:{margin:0,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:"Trigger Patterns"})]}),s.jsx("p",{style:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:"Patterns that trigger this sequence"})]}),h.length===0?s.jsxs("div",{style:{textAlign:"center",padding:r.spacing.xl,color:r.colors.text.secondary,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md},children:[s.jsx(Mc,{size:32,style:{marginBottom:r.spacing.sm,opacity:.5}}),s.jsx("p",{style:{margin:0,fontSize:r.fontSize.sm},children:"No trigger patterns configured for this sequence"})]}):s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:h.map(N=>s.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`},children:s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md},children:[s.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:ki(N.priority),color:"#ffffff",borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,flexShrink:0},children:N.priority}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{fontFamily:"monospace",fontSize:r.fontSize.sm,color:r.colors.text.primary,marginBottom:r.spacing.xs,wordBreak:"break-all"},children:N.pattern}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,flexWrap:"wrap"},children:[s.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:si(N.category_slug)+"20",color:si(N.category_slug),borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:N.category_slug}),s.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:"|"}),s.jsx("span",{style:{fontSize:r.fontSize.xs,color:N.is_active?r.colors.status.success:r.colors.text.tertiary,fontWeight:r.fontWeight.medium},children:N.is_active?"Active":"Inactive"}),N.flags&&s.jsxs(s.Fragment,{children:[s.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:"|"}),s.jsxs("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontFamily:"monospace"},children:["flags: ",N.flags]})]})]})]})]})},N.id))}),s.jsxs(xc,{to:"/patterns",style:{display:"flex",alignItems:"center",gap:r.spacing.xs,marginTop:r.spacing.lg,color:r.colors.accent.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,textDecoration:"none"},children:[s.jsx(YF,{size:16}),"Manage All Patterns"]})]}),S.length>0&&s.jsx(rt,{style:{marginBottom:r.spacing.lg,backgroundColor:"#fff7ed",border:`1px solid ${r.colors.accent.warning}`},children:s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md},children:[s.jsx(xi,{size:24,color:r.colors.accent.warning}),s.jsxs("div",{style:{flex:1},children:[s.jsx("h3",{style:{margin:`0 0 ${r.spacing.md} 0`,color:r.colors.accent.warning,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.semibold},children:"Validation Errors"}),s.jsx("ul",{style:{margin:0,paddingLeft:r.spacing.lg,color:r.colors.text.primary},children:S.map((N,De)=>s.jsx("li",{style:{marginBottom:r.spacing.xs},children:N},De))})]})]})}),s.jsxs(rt,{title:s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx("span",{children:"Troubleshooting Steps"}),s.jsx(tt,{variant:"primary",size:"sm",children:Wr.length})]}),s.jsxs("a",{href:`/supplies/${e}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,textDecoration:"none"},children:[s.jsx(Mi,{size:14}),"Preview Supplies Page"]})]}),style:{marginBottom:r.spacing.lg},children:[(()=>{const N=be.tools.filter(ut=>!ut.step_num),De=be.parts.filter(ut=>!ut.step_num);return N.length>0||De.length>0,s.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.accent.primary}33`},children:[s.jsx(I2,{stepNum:null,tools:N,parts:De,onAddTool:ar,onAddPart:Tr,onEditTool:me,onDeleteTool:Ve,onEditPart:J,onDeletePart:Ee,theme:r,isGeneral:!0,sequenceKey:e}),s.jsxs("div",{style:{marginTop:r.spacing.sm,padding:r.spacing.sm,backgroundColor:r.colors.background.primary,borderRadius:r.radius.sm,fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontFamily:"monospace"},children:["Public URL: ",window.location.origin,"/supplies/",e]})]})})(),Wr.length===0?s.jsxs("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:[s.jsx("p",{style:{fontSize:r.fontSize.lg,marginBottom:r.spacing.md},children:"No steps yet"}),s.jsx("p",{style:{fontSize:r.fontSize.sm},children:"Add your first troubleshooting step to get started"})]}):s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:Wr.map((N,De)=>s.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`,opacity:N.is_active===!1?.6:1},children:[s.jsxs("div",{style:{display:"flex",gap:r.spacing.lg},children:[s.jsx("div",{style:{width:"48px",height:"48px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.primary,color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:r.fontSize.xl,fontWeight:r.fontWeight.bold,flexShrink:0},children:N.step_num}),s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{style:{margin:`0 0 ${r.spacing.md} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base,lineHeight:1.6},children:N.message_template}),N.doc_url&&s.jsxs("a",{href:N.doc_url,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,textDecoration:"none",marginBottom:r.spacing.md},children:[N.doc_title||"View Document",s.jsx(Mi,{size:14})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.sm,marginTop:r.spacing.md},children:[N.success_triggers&&N.success_triggers.length>0&&s.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,alignItems:"center"},children:[s.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontWeight:r.fontWeight.medium},children:"Success:"}),N.success_triggers.slice(0,3).map((ut,sn)=>s.jsx(tt,{variant:"success",size:"sm",children:ut},sn)),N.success_triggers.length>3&&s.jsxs("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:["+",N.success_triggers.length-3," more"]})]}),N.failure_triggers&&N.failure_triggers.length>0&&s.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,alignItems:"center"},children:[s.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontWeight:r.fontWeight.medium},children:"Failure:"}),N.failure_triggers.slice(0,3).map((ut,sn)=>s.jsx(tt,{variant:"danger",size:"sm",children:ut},sn)),N.failure_triggers.length>3&&s.jsxs("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:["+",N.failure_triggers.length-3," more"]})]}),N.handoff_trigger&&N.handoff_sequence_key&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginTop:r.spacing.xs},children:[s.jsx(tO,{size:16,color:r.colors.accent.warning}),s.jsxs(tt,{variant:"warning",size:"sm",children:['If "',N.handoff_trigger,'"  ',N.handoff_sequence_key]})]})]})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xs,alignItems:"flex-end"},children:[s.jsxs("div",{style:{display:"flex",gap:r.spacing.xs},children:[s.jsx("button",{onClick:()=>lt(N),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:N.is_active===!1?r.colors.text.tertiary:r.colors.accent.success,display:"flex",alignItems:"center"},title:N.is_active===!1?"Activate step":"Deactivate step",children:N.is_active===!1?s.jsx(jx,{size:20}):s.jsx(wx,{size:20})}),s.jsx("button",{type:"button",onClick:()=>Wi(N),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.primary},title:"Edit step",children:s.jsx(Nf,{size:18})}),s.jsx("button",{onClick:()=>{Ce(N),X(!0)},style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.accent.danger},title:"Delete step",children:s.jsx(Kr,{size:18})})]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.xs,marginTop:r.spacing.sm},children:[s.jsx("button",{onClick:()=>Mt(N,"up"),disabled:De===0,style:{background:"none",border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.sm,cursor:De===0?"not-allowed":"pointer",padding:r.spacing.xs,color:De===0?r.colors.text.tertiary:r.colors.accent.primary,opacity:De===0?.5:1},title:"Move up",children:s.jsx(Ec,{size:18})}),s.jsx("button",{onClick:()=>Mt(N,"down"),disabled:De===Wr.length-1,style:{background:"none",border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.sm,cursor:De===Wr.length-1?"not-allowed":"pointer",padding:r.spacing.xs,color:De===Wr.length-1?r.colors.text.tertiary:r.colors.accent.primary,opacity:De===Wr.length-1?.5:1},title:"Move down",children:s.jsx(ei,{size:18})})]})]})]}),s.jsx(I2,{stepNum:N.step_num,tools:be.tools.filter(ut=>ut.step_num===N.step_num),parts:be.parts.filter(ut=>ut.step_num===N.step_num),onAddTool:ar,onAddPart:Tr,onEditTool:me,onDeleteTool:Ve,onEditPart:J,onDeletePart:Ee,theme:r,sequenceKey:e})]},N.step_num))}),s.jsxs("button",{onClick:da,style:{width:"100%",marginTop:r.spacing.lg,padding:r.spacing.lg,backgroundColor:"transparent",border:`2px dashed ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:r.spacing.sm,color:r.colors.accent.primary,fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},onMouseEnter:N=>{N.target.style.backgroundColor=r.colors.background.tertiary,N.target.style.borderColor=r.colors.accent.primary},onMouseLeave:N=>{N.target.style.backgroundColor="transparent",N.target.style.borderColor=r.colors.border.medium},children:[s.jsx(sr,{size:20}),"Add Step"]})]}),$&&s.jsx(ru,{}),D&&s.jsx(B2,{isEdit:!1,stepForm:q,allSequences:m,onClose:()=>R(!1),onSubmit:ko,handleStepNumChange:Y,handleMessageChange:$e,handleDocUrlChange:Ke,handleDocTitleChange:Xe,handleSuccessTriggersChange:Tt,handleFailureTriggersChange:at,handleHasHandoffChange:Jt,handleHandoffTriggerChange:At,handleHandoffSequenceChange:Et,handleIsActiveChange:li}),F&&s.jsx(B2,{isEdit:!0,stepForm:q,allSequences:m,onClose:()=>U(!1),onSubmit:Co,handleStepNumChange:Y,handleMessageChange:$e,handleDocUrlChange:Ke,handleDocTitleChange:Xe,handleSuccessTriggersChange:Tt,handleFailureTriggersChange:at,handleHasHandoffChange:Jt,handleHandoffTriggerChange:At,handleHandoffSequenceChange:Et,handleIsActiveChange:li}),le&&s.jsx(jp,{}),ae&&s.jsx(Za,{}),de&&s.jsx(Ai,{onClose:()=>ee(!1),title:"Add Tool",children:s.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[s.jsx(dt,{label:"Tool Name",required:!0,value:Me.tool_name,onChange:N=>Ze({...Me,tool_name:N.target.value})}),s.jsx(dt,{label:"Description",type:"textarea",value:Me.tool_description,onChange:N=>Ze({...Me,tool_description:N.target.value})}),s.jsx(dt,{label:"Link (optional)",value:Me.tool_link,onChange:N=>Ze({...Me,tool_link:N.target.value}),helpText:"e.g., https://amazon.com/dp/... or www.example.com"}),s.jsx(dt,{label:"Required",type:"select",value:Me.is_required?"true":"false",onChange:N=>Ze({...Me,is_required:N.target.value==="true"}),options:[{value:"true",label:"Yes - Required"},{value:"false",label:"No - Optional"}]}),s.jsx(dt,{label:"Sort Order",type:"number",value:Me.sort_order,onChange:N=>Ze({...Me,sort_order:parseInt(N.target.value)||0}),helpText:"Lower numbers appear first"}),Me.step_num!==null?s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:"Applies To"}),s.jsxs("div",{style:{padding:r.spacing.sm,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx("div",{style:{width:"20px",height:"20px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.primary,color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.bold},children:Me.step_num}),s.jsxs("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary},children:["Step ",Me.step_num]})]})]}):s.jsx(dt,{label:"Applies To Step",type:"select",value:"",onChange:N=>Ze({...Me,step_num:N.target.value===""?null:parseInt(N.target.value)}),options:[{value:"",label:"All Steps (General)"},...Wr.map(N=>({value:N.step_num.toString(),label:`Step ${N.step_num}`}))],helpText:"Which step this tool is needed for"}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>ee(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:qt,disabled:!Me.tool_name,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:Me.tool_name?"pointer":"not-allowed",opacity:Me.tool_name?1:.5,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(sr,{size:16}),"Add Tool"]})]})]})}),ze&&s.jsx(Ai,{onClose:()=>M(!1),title:"Edit Tool",children:s.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[s.jsx(dt,{label:"Tool Name",required:!0,value:Me.tool_name,onChange:N=>Ze({...Me,tool_name:N.target.value})}),s.jsx(dt,{label:"Description",type:"textarea",value:Me.tool_description,onChange:N=>Ze({...Me,tool_description:N.target.value})}),s.jsx(dt,{label:"Link (optional)",value:Me.tool_link,onChange:N=>Ze({...Me,tool_link:N.target.value}),helpText:"e.g., https://amazon.com/dp/... or www.example.com"}),s.jsx(dt,{label:"Required",type:"select",value:Me.is_required?"true":"false",onChange:N=>Ze({...Me,is_required:N.target.value==="true"}),options:[{value:"true",label:"Yes - Required"},{value:"false",label:"No - Optional"}]}),s.jsx(dt,{label:"Sort Order",type:"number",value:Me.sort_order,onChange:N=>Ze({...Me,sort_order:parseInt(N.target.value)||0}),helpText:"Lower numbers appear first"}),s.jsx(dt,{label:"Applies To Step",type:"select",value:Me.step_num===null?"":Me.step_num.toString(),onChange:N=>Ze({...Me,step_num:N.target.value===""?null:parseInt(N.target.value)}),options:[{value:"",label:"All Steps"},...Wr.map(N=>({value:N.step_num.toString(),label:`Step ${N.step_num}`}))],helpText:"Which step this tool is needed for"}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>M(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:vr,disabled:!Me.tool_name,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:Me.tool_name?"pointer":"not-allowed",opacity:Me.tool_name?1:.5,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(Fd,{size:16}),"Save Changes"]})]})]})}),P&&Je&&s.jsx(Ai,{onClose:()=>ie(!1),title:"Delete Tool",children:s.jsxs("div",{children:[s.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base},children:['Are you sure you want to delete the tool "',s.jsx("strong",{children:Je.tool_name}),'"?']}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>ie(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:ur,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(Kr,{size:16}),"Delete Tool"]})]})]})}),ge&&s.jsx(Ai,{onClose:()=>V(!1),title:"Add Part",children:s.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[s.jsx(dt,{label:"Part Name",required:!0,value:Ne.part_name,onChange:N=>yt({...Ne,part_name:N.target.value})}),s.jsx(dt,{label:"Part Number",value:Ne.part_number,onChange:N=>yt({...Ne,part_number:N.target.value}),helpText:"Manufacturer part number"}),s.jsx(dt,{label:"Description",type:"textarea",value:Ne.part_description,onChange:N=>yt({...Ne,part_description:N.target.value})}),s.jsx(dt,{label:"Buy Link (optional)",value:Ne.part_link,onChange:N=>yt({...Ne,part_link:N.target.value}),helpText:"e.g., https://amazon.com/dp/... or www.example.com"}),s.jsx(dt,{label:"Estimated Price",type:"number",value:Ne.estimated_price,onChange:N=>yt({...Ne,estimated_price:N.target.value}),helpText:"Approximate cost in USD"}),s.jsx(dt,{label:"Required",type:"select",value:Ne.is_required?"true":"false",onChange:N=>yt({...Ne,is_required:N.target.value==="true"}),options:[{value:"true",label:"Yes - Required"},{value:"false",label:"No - Optional"}]}),s.jsx(dt,{label:"Sort Order",type:"number",value:Ne.sort_order,onChange:N=>yt({...Ne,sort_order:parseInt(N.target.value)||0}),helpText:"Lower numbers appear first"}),Ne.step_num!==null?s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:"Applies To"}),s.jsxs("div",{style:{padding:r.spacing.sm,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx("div",{style:{width:"20px",height:"20px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.primary,color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.bold},children:Ne.step_num}),s.jsxs("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary},children:["Step ",Ne.step_num]})]})]}):s.jsx(dt,{label:"Applies To Step",type:"select",value:"",onChange:N=>yt({...Ne,step_num:N.target.value===""?null:parseInt(N.target.value)}),options:[{value:"",label:"All Steps (General)"},...Wr.map(N=>({value:N.step_num.toString(),label:`Step ${N.step_num}`}))],helpText:"Which step this part is needed for"}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>V(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:Ue,disabled:!Ne.part_name,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.success,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:Ne.part_name?"pointer":"not-allowed",opacity:Ne.part_name?1:.5,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(sr,{size:16}),"Add Part"]})]})]})}),Ae&&s.jsx(Ai,{onClose:()=>Le(!1),title:"Edit Part",children:s.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[s.jsx(dt,{label:"Part Name",required:!0,value:Ne.part_name,onChange:N=>yt({...Ne,part_name:N.target.value})}),s.jsx(dt,{label:"Part Number",value:Ne.part_number,onChange:N=>yt({...Ne,part_number:N.target.value}),helpText:"Manufacturer part number"}),s.jsx(dt,{label:"Description",type:"textarea",value:Ne.part_description,onChange:N=>yt({...Ne,part_description:N.target.value})}),s.jsx(dt,{label:"Buy Link (optional)",value:Ne.part_link,onChange:N=>yt({...Ne,part_link:N.target.value}),helpText:"e.g., https://amazon.com/dp/... or www.example.com"}),s.jsx(dt,{label:"Estimated Price",type:"number",value:Ne.estimated_price,onChange:N=>yt({...Ne,estimated_price:N.target.value}),helpText:"Approximate cost in USD"}),s.jsx(dt,{label:"Required",type:"select",value:Ne.is_required?"true":"false",onChange:N=>yt({...Ne,is_required:N.target.value==="true"}),options:[{value:"true",label:"Yes - Required"},{value:"false",label:"No - Optional"}]}),s.jsx(dt,{label:"Sort Order",type:"number",value:Ne.sort_order,onChange:N=>yt({...Ne,sort_order:parseInt(N.target.value)||0}),helpText:"Lower numbers appear first"}),s.jsx(dt,{label:"Applies To Step",type:"select",value:Ne.step_num===null?"":Ne.step_num.toString(),onChange:N=>yt({...Ne,step_num:N.target.value===""?null:parseInt(N.target.value)}),options:[{value:"",label:"All Steps"},...Wr.map(N=>({value:N.step_num.toString(),label:`Step ${N.step_num}`}))],helpText:"Which step this part is needed for"}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>Le(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:Vt,disabled:!Ne.part_name,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.success,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:Ne.part_name?"pointer":"not-allowed",opacity:Ne.part_name?1:.5,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(Fd,{size:16}),"Save Changes"]})]})]})}),he&&we&&s.jsx(Ai,{onClose:()=>We(!1),title:"Delete Part",children:s.jsxs("div",{children:[s.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base},children:['Are you sure you want to delete the part "',s.jsx("strong",{children:we.part_name}),'"?']}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>We(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:gr,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(Kr,{size:16}),"Delete Part"]})]})]})}),s.jsx("style",{children:`
            @keyframes spin {
              from { transform: rotate(0deg); }
              to { transform: rotate(360deg); }
            }
          `})]})]});function ru(){return s.jsx(Ai,{onClose:()=>T(!1),title:"Edit Sequence Metadata",children:s.jsxs("div",{style:{display:"grid",gap:r.spacing.lg},children:[s.jsx(dt,{label:"Display Name",required:!0,value:Te.displayName,onChange:N=>W({...Te,displayName:N.target.value})}),s.jsx(dt,{label:"Description",required:!0,type:"textarea",value:Te.description,onChange:N=>W({...Te,description:N.target.value})}),s.jsx(dt,{label:"Category",required:!0,type:"select",value:Te.category,onChange:N=>W({...Te,category:N.target.value}),options:[{value:"",label:"Select a category..."},{value:"Electrical",label:"Electrical"},{value:"Plumbing",label:"Plumbing"},{value:"HVAC",label:"HVAC"},{value:"Appliances",label:"Appliances"},{value:"Mechanical",label:"Mechanical"},{value:"Other",label:"Other"}]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>T(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:ji,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(Fd,{size:16}),"Save Changes"]})]})]})})}function jp(){return s.jsx(Ai,{onClose:()=>X(!1),title:"Delete Step",children:s.jsxs("div",{children:[s.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base},children:["Are you sure you want to delete step ",ce?.step_num,"? This cannot be undone."]}),ce?.message_template&&s.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,marginBottom:r.spacing.lg},children:s.jsxs("p",{style:{margin:0,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:[ce.message_template.substring(0,100),ce.message_template.length>100?"...":""]})}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>X(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:I,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(Kr,{size:16}),"Delete Step"]})]})]})})}function Za(){return s.jsx(Ai,{onClose:()=>ye(!1),title:"Delete Sequence",children:s.jsxs("div",{children:[s.jsxs("p",{style:{margin:`0 0 ${r.spacing.md} 0`,color:r.colors.text.primary,fontSize:r.fontSize.base},children:['Are you sure you want to delete the entire sequence "',s.jsx("strong",{children:d?.display_name}),'"?']}),s.jsxs("p",{style:{margin:`0 0 ${r.spacing.lg} 0`,color:r.colors.text.secondary,fontSize:r.fontSize.base},children:["This will delete all ",Wr.length," step",Wr.length!==1?"s":"",". This action cannot be undone."]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>ye(!1),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:"none",borderRadius:r.radius.md,cursor:"pointer"},children:"Cancel"}),s.jsxs("button",{onClick:Re,style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(Kr,{size:16}),"Delete Sequence"]})]})]})})}}class XY{validatePattern(t){if(!t)return{isValid:!1,hasDoubleEscaping:!1,errors:["Pattern is required"],warnings:[]};const n=[],i=[];let l=!1;/\\\\[bBdDwWsS]/.test(t)&&(l=!0,i.push("Pattern contains double-escaped sequences (e.g., \\\\b). These should be single-escaped (\\b)."));const d=(t.match(/\[/g)||[]).length,p=(t.match(/\]/g)||[]).length;d!==p&&n.push("Unbalanced brackets in pattern");const m=(t.match(/\(/g)||[]).length,g=(t.match(/\)/g)||[]).length;m!==g&&n.push("Unbalanced parentheses in pattern"),t.includes("\\b")&&!l&&i.push("Pattern uses \\b (word boundary). This will be automatically converted to \\y for PostgreSQL compatibility.");try{new RegExp(t)}catch(h){n.push(`Invalid regex syntax: ${h.message}`)}return{isValid:n.length===0,hasDoubleEscaping:l,errors:n,warnings:i}}fixDoubleEscaping(t){return t&&t.replace(/\\\\b/g,"\\b").replace(/\\\\B/g,"\\B").replace(/\\\\d/g,"\\d").replace(/\\\\D/g,"\\D").replace(/\\\\w/g,"\\w").replace(/\\\\W/g,"\\W").replace(/\\\\s/g,"\\s").replace(/\\\\S/g,"\\S").replace(/\\\\t/g,"\\t").replace(/\\\\n/g,"\\n").replace(/\\\\r/g,"\\r")}convertToPostgresPattern(t){return t&&t.replace(/\\b/g,"\\y").replace(/\\B/g,"\\Y")}prepareForDatabase(t){if(!t)return t;let n=t;this.validatePattern(t).hasDoubleEscaping&&(console.log(" Auto-fixing double-escaped pattern"),n=this.fixDoubleEscaping(n)),console.log(" Converting JavaScript regex to PostgreSQL POSIX regex"),n=this.convertToPostgresPattern(n);const l=this.validatePattern(n);return l.isValid?console.log(" Pattern prepared successfully for PostgreSQL"):console.warn(" Final pattern validation failed:",l.errors),n}getExamples(){return[{name:"Simple word match",input:"\\bdryer\\b",prepared:"\\ydryer\\y",description:'Matches "dryer" as a complete word. Word boundaries (\\b) are automatically converted to PostgreSQL syntax (\\y).'},{name:"Multiple conditions",input:"\\bwater\\b.*\\b(leak|leaking)\\b",prepared:"\\ywater\\y.*\\y(leak|leaking)\\y",description:'Matches "water" followed by "leak" or "leaking". All word boundaries converted automatically.'},{name:"Case variations",input:"\\b(ac|air\\s*conditioning)\\b.*\\b(not\\s*working|broken)\\b",prepared:"\\y(ac|air\\s*conditioning)\\y.*\\y(not\\s*working|broken)\\y",description:"Matches AC or air conditioning with various problem phrases."},{name:"Double-escaped (will be fixed)",input:"\\\\btest\\\\b",prepared:"\\ytest\\y",description:"Double-escaped pattern will be auto-fixed and converted."}]}}const q2=new XY;function QY(){const{user:e,logout:t,hasRole:n,isSiteAdmin:i}=xn(),[l,c]=y.useState([]),[d,p]=y.useState([]),[m,g]=y.useState(!0),[h,x]=y.useState(""),[S,j]=y.useState(""),[k,w]=y.useState(""),[C,z]=y.useState("priority"),[E,A]=y.useState("asc"),[$,T]=y.useState(!1),[D,R]=y.useState(!1),[F,U]=y.useState(!1),[le,X]=y.useState(!1),[ae,ye]=y.useState(null),[pe,_e]=y.useState(null),[B,Z]=y.useState({category_slug:"",pattern:"",flags:"i",priority:100,action_type:"sequence",action_key:"",entry_step_id:"",van_makes:"",years:"",van_versions:"",is_active:!0}),[ce,Ce]=y.useState({valid:!0,error:null,warning:null});y.useEffect(()=>{const te=async()=>{g(!0),x("");try{const Ye=await fetch("/api/patterns",{credentials:"include"});if(!Ye.ok)throw new Error("Failed to fetch patterns");const nt=await Ye.json();c(nt)}catch(Ye){console.error("Error fetching patterns:",Ye),x(Ye.message)}finally{g(!1)}},Oe=async()=>{try{const Ye=await fetch("/api/sequences",{credentials:"include"});if(!Ye.ok)throw new Error("Failed to fetch sequences");const nt=await Ye.json();p(nt)}catch(Ye){console.error("Error fetching sequences:",Ye)}};te(),Oe()},[]);const Te=async()=>{g(!0),x("");try{const te=await fetch("/api/patterns",{credentials:"include"});if(!te.ok)throw new Error("Failed to fetch patterns");const Oe=await te.json();c(Oe)}catch(te){console.error("Error fetching patterns:",te),x(te.message)}finally{g(!1)}},W=()=>{Z({category_slug:"",pattern:"",flags:"i",priority:100,action_type:"sequence",action_key:"",entry_step_id:"",van_makes:"",years:"",van_versions:"",is_active:!0}),Ce({valid:!0,error:null,warning:null})},q=(te,Oe)=>{if(!te){Ce({valid:!0,error:null,warning:null});return}try{new RegExp(te,Oe),q2.validatePattern(te).hasDoubleEscaping?Ce({valid:!0,error:null,warning:"Pattern contains double-escaped sequences (e.g., \\\\b instead of \\b). This may not match as expected in PostgreSQL regex."}):Ce({valid:!0,error:null,warning:null})}catch(Ye){Ce({valid:!1,error:`Invalid regex pattern: ${Ye.message}`,warning:null})}},re=y.useCallback(()=>{Z(te=>{const Oe=q2.fixDoubleEscaping(te.pattern);return q(Oe,te.flags),{...te,pattern:Oe}})},[]),be=y.useCallback(te=>{Z(Oe=>(q(te,Oe.flags),{...Oe,pattern:te}))},[]),xe=y.useCallback(te=>{Z(Oe=>(q(Oe.pattern,te),{...Oe,flags:te}))},[]),je=y.useCallback((te,Oe)=>{Z(Ye=>({...Ye,[te]:Oe}))},[]),G=te=>{j(te),setTimeout(()=>j(""),3e3)},de=async()=>{if(!ce.valid){x("Please fix the pattern validation errors before saving");return}try{if(!(await fetch("/api/patterns",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...B,priority:parseInt(B.priority),entry_step_id:B.entry_step_id||null,van_makes:B.van_makes?B.van_makes.split(",").map(Oe=>Oe.trim()):null,years:B.years?B.years.split(",").map(Oe=>parseInt(Oe.trim())):null,van_versions:B.van_versions?B.van_versions.split(",").map(Oe=>Oe.trim()):null})})).ok)throw new Error("Failed to create pattern");await Te(),R(!1),W(),G("Pattern created successfully")}catch(te){console.error("Error creating pattern:",te),x("Failed to create pattern")}},ee=async()=>{if(!ce.valid){x("Please fix the pattern validation errors before saving");return}try{if(!(await fetch(`/api/patterns/${ae.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...B,priority:parseInt(B.priority),entry_step_id:B.entry_step_id||null,van_makes:B.van_makes?B.van_makes.split(",").map(Oe=>Oe.trim()):null,years:B.years?B.years.split(",").map(Oe=>parseInt(Oe.trim())):null,van_versions:B.van_versions?B.van_versions.split(",").map(Oe=>Oe.trim()):null})})).ok)throw new Error("Failed to update pattern");await Te(),U(!1),ye(null),W(),G("Pattern updated successfully")}catch(te){console.error("Error updating pattern:",te),x("Failed to update pattern")}},ze=async()=>{try{if(!(await fetch(`/api/patterns/${pe.id}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete pattern");await Te(),X(!1),_e(null),G("Pattern deleted successfully")}catch(te){console.error("Error deleting pattern:",te),x("Failed to delete pattern")}},M=async te=>{try{if(!(await fetch(`/api/patterns/${te.id}/toggle`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({is_active:!te.is_active})})).ok)throw new Error("Failed to toggle pattern");await Te(),G(`Pattern ${te.is_active?"deactivated":"activated"} successfully`)}catch(Oe){console.error("Error toggling pattern:",Oe),x("Failed to toggle pattern")}},P=te=>{ye(te);const Oe=te.pattern||"",Ye=te.flags||"i";Z({category_slug:te.category_slug||"",pattern:Oe,flags:Ye,priority:te.priority||100,action_type:te.action_type||"sequence",action_key:te.action_key||"",entry_step_id:te.entry_step_id||"",van_makes:te.van_makes?te.van_makes.join(", "):"",years:te.years?te.years.join(", "):"",van_versions:te.van_versions?te.van_versions.join(", "):"",is_active:te.is_active}),q(Oe,Ye),U(!0)},ie=te=>{_e(te),X(!0)},ge=te=>({water:"#3b82f6",generator:"#f59e0b",grooming_equipment:"#8b5cf6",electrical:"#eab308",plumbing:"#06b6d4",hvac:"#ef4444"})[te]||r.colors.accent.primary,V=te=>te<=10?"#1e3a8a":te<=50?"#3b82f6":"#93c5fd",Ae=te=>d.find(Ye=>Ye.sequence_key===te)?.display_name||te,Le=te=>{C===te?A(E==="asc"?"desc":"asc"):(z(te),A("asc"))},he=y.useMemo(()=>{let te=[...l];return k&&(te=te.filter(Oe=>Oe.pattern.toLowerCase().includes(k.toLowerCase())||Oe.category_slug.toLowerCase().includes(k.toLowerCase())||Ae(Oe.action_key).toLowerCase().includes(k.toLowerCase()))),$&&(te=te.filter(Oe=>Oe.is_active)),te.sort((Oe,Ye)=>{let nt,Je;return C==="priority"?(nt=Oe.priority,Je=Ye.priority):C==="category"?(nt=Oe.category_slug,Je=Ye.category_slug):C==="created_at"&&(nt=new Date(Oe.created_at),Je=new Date(Ye.created_at)),E==="asc"?nt>Je?1:-1:nt<Je?1:-1}),te},[l,k,$,C,E,d]),We=y.useMemo(()=>s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Priority ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"number",value:B.priority,onChange:te=>je("priority",te.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}},"priority-field"),s.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(mn,{size:12}),"Lower number = higher priority (matched first)"]})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Category Slug ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"text",value:B.category_slug,onChange:te=>je("category_slug",te.target.value),placeholder:"e.g., water, generator, grooming_equipment",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Pattern ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("textarea",{value:B.pattern,onChange:te=>be(te.target.value),placeholder:"e.g., (?i)\\bdryer\\b.*(not|won't).*work",rows:3,style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${ce.valid?r.colors.border.medium:r.colors.accent.danger}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontFamily:"monospace"}},"pattern-field"),ce.error&&s.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(mn,{size:12}),ce.error]}),ce.warning&&s.jsxs("div",{style:{marginTop:r.spacing.xs,padding:r.spacing.sm,backgroundColor:r.colors.accent.warning+"10",borderRadius:r.radius.md,border:`1px solid ${r.colors.accent.warning}40`},children:[s.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.warning,display:"flex",alignItems:"center",gap:r.spacing.xs,marginBottom:r.spacing.xs},children:[s.jsx(mn,{size:12}),ce.warning]}),s.jsxs("button",{onClick:re,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.warning,color:"#ffffff",border:"none",borderRadius:r.radius.sm,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:[s.jsx(Pi,{size:12}),"Auto-Fix Pattern"]})]}),!ce.error&&!ce.warning&&s.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(mn,{size:12}),"PostgreSQL regex pattern. Use \\b for word boundaries, \\d for digits, \\s for whitespace."]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Regex Flags"}),s.jsx("input",{type:"text",value:B.flags,onChange:te=>xe(te.target.value),placeholder:"i",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),s.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(mn,{size:12}),"PostgreSQL regex flags. Use 'i' for case-insensitive matching."]})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Triggers Sequence ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsxs("select",{value:B.action_key,onChange:te=>je("action_key",te.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[s.jsx("option",{value:"",children:"Select a sequence..."}),d.map(te=>s.jsx("option",{value:te.sequence_key,children:te.display_name||te.sequence_key},te.sequence_key))]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Entry Step (Optional)"}),s.jsx("input",{type:"text",value:B.entry_step_id,onChange:te=>je("entry_step_id",te.target.value),placeholder:"Leave empty to start at step 1",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Van Makes (Optional)"}),s.jsx("input",{type:"text",value:B.van_makes,onChange:te=>je("van_makes",te.target.value),placeholder:"e.g., Ford, Mercedes, Dodge",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs},children:"Comma-separated list"})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Van Versions (Optional)"}),s.jsx("input",{type:"text",value:B.van_versions,onChange:te=>je("van_versions",te.target.value),placeholder:"e.g., Transit, Sprinter, ProMaster",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs},children:"Comma-separated list"})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Years (Optional)"}),s.jsx("input",{type:"text",value:B.years,onChange:te=>je("years",te.target.value),placeholder:"e.g., 2020, 2021, 2022",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.xs},children:"Comma-separated list of years"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx("input",{type:"checkbox",id:"is_active",checked:B.is_active,onChange:te=>je("is_active",te.target.checked),style:{width:"16px",height:"16px"}}),s.jsx("label",{htmlFor:"is_active",style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,cursor:"pointer"},children:"Active"})]})]}),[B,ce,d,be,xe,re,je]);return m?s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:e,onLogout:t,hasRole:n,isSiteAdmin:i}),s.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:s.jsx("div",{style:{textAlign:"center",padding:r.spacing["2xl"]},children:s.jsx("p",{style:{color:r.colors.text.secondary},children:"Loading patterns..."})})})]}):s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:e,onLogout:t,hasRole:n,isSiteAdmin:i}),s.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[S&&s.jsx("div",{style:{backgroundColor:r.colors.status.success+"20",color:r.colors.status.success,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.status.success}`},children:S}),h&&s.jsx("div",{style:{backgroundColor:r.colors.accent.danger+"20",color:r.colors.accent.danger,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.accent.danger}`},children:h}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:r.spacing.xl},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[s.jsx(Mc,{size:32,color:r.colors.accent.primary,strokeWidth:2}),s.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Trigger Patterns"})]}),s.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Manage regex patterns that trigger troubleshooting sequences"})]}),s.jsxs("button",{onClick:()=>{W(),R(!0)},style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:te=>te.currentTarget.style.backgroundColor=r.colors.accent.secondary,onMouseLeave:te=>te.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[s.jsx(sr,{size:20}),"Create New Pattern"]})]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.lg,flexWrap:"wrap"},children:[s.jsx("div",{style:{flex:1,minWidth:"300px"},children:s.jsxs("div",{style:{position:"relative"},children:[s.jsx(yi,{size:20,style:{position:"absolute",left:r.spacing.sm,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary}}),s.jsx("input",{type:"text",placeholder:"Search patterns, categories, or sequences...",value:k,onChange:te=>w(te.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.sm} ${r.spacing.sm} 40px`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]})}),s.jsx("button",{onClick:()=>T(!$),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:$?r.colors.accent.primary:"transparent",color:$?"#ffffff":r.colors.text.secondary,border:`1px solid ${$?r.colors.accent.primary:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:$?"Show All":"Active Only"})]}),s.jsx(rt,{children:he.length===0?s.jsxs("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:[s.jsx(Mc,{size:48,style:{marginBottom:r.spacing.md,opacity:.3}}),s.jsx("p",{style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium},children:"No patterns found"}),s.jsx("p",{style:{fontSize:r.fontSize.sm},children:k||$?"Try adjusting your filters":"Create your first pattern to get started"})]}):s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:`2px solid ${r.colors.border.medium}`},children:[s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,cursor:"pointer"},onClick:()=>Le("priority"),children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:["Priority",C==="priority"&&(E==="asc"?s.jsx(Vs,{size:14}):s.jsx(Ys,{size:14}))]})}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Pattern"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,cursor:"pointer"},onClick:()=>Le("category"),children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:["Category",C==="category"&&(E==="asc"?s.jsx(Vs,{size:14}):s.jsx(Ys,{size:14}))]})}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Triggers Sequence"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Flags"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Status"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"right",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Actions"})]})}),s.jsx("tbody",{children:he.map(te=>s.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.2s"},onMouseEnter:Oe=>Oe.currentTarget.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:Oe=>Oe.currentTarget.style.backgroundColor="transparent",children:[s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:V(te.priority),color:"#ffffff",borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold},children:te.priority})}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("div",{style:{fontFamily:"monospace",fontSize:r.fontSize.sm,color:r.colors.text.primary,maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:te.pattern,children:te.pattern})}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:ge(te.category_slug)+"20",color:ge(te.category_slug),borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:te.category_slug})}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsxs("a",{href:`/sequences/${te.action_key}`,style:{color:r.colors.accent.primary,textDecoration:"none",display:"flex",alignItems:"center",gap:r.spacing.xs,fontSize:r.fontSize.sm},onMouseEnter:Oe=>Oe.currentTarget.style.textDecoration="underline",onMouseLeave:Oe=>Oe.currentTarget.style.textDecoration="none",children:[Ae(te.action_key),s.jsx(Mi,{size:14})]})}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,fontFamily:"monospace"},children:te.flags||"none"})}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("button",{onClick:()=>M(te),style:{padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:te.is_active?r.colors.status.success+"20":r.colors.text.tertiary+"20",color:te.is_active?r.colors.status.success:r.colors.text.tertiary,border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:te.is_active?"Active":"Inactive"})}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"right"},children:s.jsxs("div",{style:{display:"flex",gap:r.spacing.xs,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>P(te),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Edit pattern",children:s.jsx(eu,{size:16})}),s.jsx("button",{onClick:()=>ie(te),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete pattern",children:s.jsx(Kr,{size:16})})]})})]},te.id))})]})})}),D&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>R(!1),children:s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:te=>te.stopPropagation(),children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Create New Pattern"}),s.jsx("button",{onClick:()=>R(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:s.jsx(Nt,{size:24})})]}),s.jsxs("div",{style:{padding:r.spacing.xl},children:[We,s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[s.jsx("button",{onClick:de,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Create Pattern"}),s.jsx("button",{onClick:()=>R(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),F&&ae&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>U(!1),children:s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:te=>te.stopPropagation(),children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Edit Pattern"}),s.jsx("button",{onClick:()=>U(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:s.jsx(Nt,{size:24})})]}),s.jsxs("div",{style:{padding:r.spacing.xl},children:[We,s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[s.jsx("button",{onClick:ee,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Save Changes"}),s.jsx("button",{onClick:()=>{U(!1),ie(ae)},style:{padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Delete"}),s.jsx("button",{onClick:()=>U(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),le&&pe&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>X(!1),children:s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"500px",padding:r.spacing.xl},onClick:te=>te.stopPropagation(),children:[s.jsx("h2",{style:{margin:0,marginBottom:r.spacing.md,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Delete Pattern?"}),s.jsxs("p",{style:{margin:0,marginBottom:r.spacing.lg,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["Are you sure you want to delete the pattern ",s.jsxs("strong",{style:{fontFamily:"monospace"},children:['"',pe.pattern,'"']}),"?"]}),s.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,marginBottom:r.spacing.lg},children:[s.jsxs("p",{style:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[s.jsx("strong",{children:"Triggers:"})," ",Ae(pe.action_key)]}),s.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[s.jsx("strong",{children:"Category:"})," ",pe.category_slug]})]}),s.jsx("p",{style:{margin:0,marginBottom:r.spacing.xl,color:r.colors.accent.danger,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"This action cannot be undone."}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[s.jsx("button",{onClick:ze,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Delete Pattern"}),s.jsx("button",{onClick:()=>X(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})})]})]})}const Dd=43200,U2=1440,H2=Symbol.for("constructDateFrom");function $b(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&H2 in e?e[H2](t):e instanceof Date?new e.constructor(t):new Date(t)}function oa(e,t){return $b(e,e)}let ZY={};function JY(){return ZY}function F2(e){const t=oa(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Pb(e,...t){const n=$b.bind(null,e||t.find(i=>typeof i=="object"));return t.map(n)}function Kd(e,t){const n=+oa(e)-+oa(t);return n<0?-1:n>0?1:n}function eV(e){return $b(e,Date.now())}function tV(e,t,n){const[i,l]=Pb(n?.in,e,t),c=i.getFullYear()-l.getFullYear(),d=i.getMonth()-l.getMonth();return c*12+d}function rV(e){return t=>{const i=(e?Math[e]:Math.trunc)(t);return i===0?0:i}}function nV(e,t){return+oa(e)-+oa(t)}function iV(e,t){const n=oa(e);return n.setHours(23,59,59,999),n}function oV(e,t){const n=oa(e),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function aV(e,t){const n=oa(e);return+iV(n)==+oV(n)}function sV(e,t,n){const[i,l,c]=Pb(n?.in,e,e,t),d=Kd(l,c),p=Math.abs(tV(l,c));if(p<1)return 0;l.getMonth()===1&&l.getDate()>27&&l.setDate(30),l.setMonth(l.getMonth()-d*p);let m=Kd(l,c)===-d;aV(i)&&p===1&&Kd(i,c)===1&&(m=!1);const g=d*(p-+m);return g===0?0:g}function lV(e,t,n){const i=nV(e,t)/1e3;return rV(n?.roundingMethod)(i)}const cV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uV=(e,t,n)=>{let i;const l=cV[e];return typeof l=="string"?i=l:t===1?i=l.one:i=l.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function yy(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const dV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gV={date:yy({formats:dV,defaultWidth:"full"}),time:yy({formats:fV,defaultWidth:"full"}),dateTime:yy({formats:pV,defaultWidth:"full"})},mV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hV=(e,t,n,i)=>mV[e];function lc(e){return(t,n)=>{const i=n?.context?String(n.context):"standalone";let l;if(i==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,p=n?.width?String(n.width):d;l=e.formattingValues[p]||e.formattingValues[d]}else{const d=e.defaultWidth,p=n?.width?String(n.width):e.defaultWidth;l=e.values[p]||e.values[d]}const c=e.argumentCallback?e.argumentCallback(t):t;return l[c]}}const yV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},SV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wV=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},kV={ordinalNumber:wV,era:lc({values:yV,defaultWidth:"wide"}),quarter:lc({values:xV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:lc({values:vV,defaultWidth:"wide"}),day:lc({values:bV,defaultWidth:"wide"}),dayPeriod:lc({values:SV,defaultWidth:"wide",formattingValues:jV,defaultFormattingWidth:"wide"})};function cc(e){return(t,n={})=>{const i=n.width,l=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],c=t.match(l);if(!c)return null;const d=c[0],p=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(p)?zV(p,x=>x.test(d)):CV(p,x=>x.test(d));let g;g=e.valueCallback?e.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const h=t.slice(d.length);return{value:g,rest:h}}}function CV(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function zV(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function _V(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const l=i[0],c=t.match(e.parsePattern);if(!c)return null;let d=e.valueCallback?e.valueCallback(c[0]):c[0];d=n.valueCallback?n.valueCallback(d):d;const p=t.slice(l.length);return{value:d,rest:p}}}const TV=/^(\d+)(th|st|nd|rd)?/i,AV=/\d+/i,EV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},OV={any:[/^b/i,/^(a|c)/i]},MV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RV={any:[/1/i,/2/i,/3/i,/4/i]},DV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$V={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},PV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},LV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},WV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},BV={ordinalNumber:_V({matchPattern:TV,parsePattern:AV,valueCallback:e=>parseInt(e,10)}),era:cc({matchPatterns:EV,defaultMatchWidth:"wide",parsePatterns:OV,defaultParseWidth:"any"}),quarter:cc({matchPatterns:MV,defaultMatchWidth:"wide",parsePatterns:RV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:cc({matchPatterns:DV,defaultMatchWidth:"wide",parsePatterns:$V,defaultParseWidth:"any"}),day:cc({matchPatterns:PV,defaultMatchWidth:"wide",parsePatterns:NV,defaultParseWidth:"any"}),dayPeriod:cc({matchPatterns:LV,defaultMatchWidth:"any",parsePatterns:WV,defaultParseWidth:"any"})},IV={code:"en-US",formatDistance:uV,formatLong:gV,formatRelative:hV,localize:kV,match:BV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qV(e,t,n){const i=JY(),l=n?.locale??i.locale??IV,c=2520,d=Kd(e,t);if(isNaN(d))throw new RangeError("Invalid time value");const p=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:d}),[m,g]=Pb(n?.in,...d>0?[t,e]:[e,t]),h=lV(g,m),x=(F2(g)-F2(m))/1e3,S=Math.round((h-x)/60);let j;if(S<2)return n?.includeSeconds?h<5?l.formatDistance("lessThanXSeconds",5,p):h<10?l.formatDistance("lessThanXSeconds",10,p):h<20?l.formatDistance("lessThanXSeconds",20,p):h<40?l.formatDistance("halfAMinute",0,p):h<60?l.formatDistance("lessThanXMinutes",1,p):l.formatDistance("xMinutes",1,p):S===0?l.formatDistance("lessThanXMinutes",1,p):l.formatDistance("xMinutes",S,p);if(S<45)return l.formatDistance("xMinutes",S,p);if(S<90)return l.formatDistance("aboutXHours",1,p);if(S<U2){const k=Math.round(S/60);return l.formatDistance("aboutXHours",k,p)}else{if(S<c)return l.formatDistance("xDays",1,p);if(S<Dd){const k=Math.round(S/U2);return l.formatDistance("xDays",k,p)}else if(S<Dd*2)return j=Math.round(S/Dd),l.formatDistance("aboutXMonths",j,p)}if(j=sV(g,m),j<12){const k=Math.round(S/Dd);return l.formatDistance("xMonths",k,p)}else{const k=j%12,w=Math.trunc(j/12);return k<3?l.formatDistance("aboutXYears",w,p):k<9?l.formatDistance("overXYears",w,p):l.formatDistance("almostXYears",w+1,p)}}function UV(e,t){return qV(e,eV(e),t)}const hc=({currentPage:e,totalPages:t,pageSize:n,totalCount:i,onPageChange:l,onPageSizeChange:c,loading:d=!1,showPageSize:p=!0,className:m,style:g={}})=>{const h=i===0?0:(e-1)*n+1,x=Math.min(e*n,i),j=(()=>{const T=[];if(t<=7)for(let R=1;R<=t;R++)T.push(R);else{T.push(1);let R=Math.max(2,e-1),F=Math.min(t-1,e+1);e<=3&&(F=4),e>=t-2&&(R=t-3),R>2&&T.push("...");for(let U=R;U<=F;U++)T.push(U);F<t-1&&T.push("..."),t>1&&T.push(t)}return T})(),k=()=>{e>1&&!d&&l(e-1)},w=()=>{e<t&&!d&&l(e+1)},C=()=>{e>1&&!d&&l(1)},z=()=>{e<t&&!d&&l(t)},E=T=>{T!=="..."&&T!==e&&!d&&l(T)},A=T=>{const D=parseInt(T.target.value);c(D)};if(i===0)return null;const $={container:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.lg} ${r.spacing.xl}`,borderTop:`1px solid ${r.colors.border.light}`,backgroundColor:r.colors.background.secondary,flexWrap:"wrap",gap:r.spacing.lg,...g},info:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,minWidth:"200px"},infoHighlight:{fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},nav:{display:"flex",alignItems:"center",gap:r.spacing.xs,flex:1,justifyContent:"center"},navButton:T=>({display:"flex",alignItems:"center",justifyContent:"center",padding:r.spacing.sm,minWidth:"36px",height:"36px",backgroundColor:T?r.colors.background.tertiary:r.colors.background.secondary,color:T?r.colors.text.tertiary:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:T?"not-allowed":"pointer",transition:r.transitions.fast,opacity:T?.5:1}),pageButton:T=>({display:"flex",alignItems:"center",justifyContent:"center",padding:r.spacing.sm,minWidth:"36px",height:"36px",backgroundColor:T?r.colors.accent.primary:r.colors.background.secondary,color:T?r.colors.text.inverse:r.colors.text.primary,border:`1px solid ${T?r.colors.accent.primary:r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:T?r.fontWeight.semibold:r.fontWeight.medium,cursor:d?"not-allowed":"pointer",transition:r.transitions.fast}),ellipsis:{padding:r.spacing.sm,color:r.colors.text.tertiary,fontSize:r.fontSize.sm,minWidth:"36px",textAlign:"center"},pageSizeContainer:{display:"flex",alignItems:"center",gap:r.spacing.sm,minWidth:"150px",justifyContent:"flex-end"},pageSizeLabel:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,whiteSpace:"nowrap"},pageSizeSelect:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:d?"not-allowed":"pointer",outline:"none"}};return s.jsxs("div",{className:m,style:$.container,children:[s.jsxs("div",{style:$.info,children:["Showing"," ",s.jsxs("span",{style:$.infoHighlight,children:[h,"-",x]})," ","of"," ",s.jsx("span",{style:$.infoHighlight,children:i.toLocaleString()})," ","items"]}),s.jsxs("div",{style:$.nav,children:[t>5&&s.jsx("button",{onClick:C,disabled:e===1||d,style:$.navButton(e===1||d),title:"First page",children:s.jsx(sK,{size:16})}),s.jsx("button",{onClick:k,disabled:e===1||d,style:$.navButton(e===1||d),title:"Previous page",children:s.jsx(nK,{size:16})}),j.map((T,D)=>{if(T==="...")return s.jsx("span",{style:$.ellipsis,children:"..."},`ellipsis-${D}`);const R=T===e;return s.jsx("button",{onClick:()=>E(T),disabled:d,style:$.pageButton(R),onMouseEnter:F=>{!R&&!d&&(F.currentTarget.style.backgroundColor=r.colors.background.tertiary,F.currentTarget.style.borderColor=r.colors.border.medium)},onMouseLeave:F=>{!R&&!d&&(F.currentTarget.style.backgroundColor=r.colors.background.secondary,F.currentTarget.style.borderColor=r.colors.border.light)},children:T},T)}),s.jsx("button",{onClick:w,disabled:e===t||d,style:$.navButton(e===t||d),title:"Next page",children:s.jsx(XE,{size:16})}),t>5&&s.jsx("button",{onClick:z,disabled:e===t||d,style:$.navButton(e===t||d),title:"Last page",children:s.jsx(cK,{size:16})})]}),p&&s.jsxs("div",{style:$.pageSizeContainer,children:[s.jsx("label",{htmlFor:"pageSize",style:$.pageSizeLabel,children:"Per page:"}),s.jsxs("select",{id:"pageSize",value:n,onChange:A,disabled:d,style:$.pageSizeSelect,children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]})]})]})},uc="",HV=3e4,FV=500,KV=()=>{const e=ii(),{showToast:t}=tu(),{user:n,logout:i,hasRole:l,isSiteAdmin:c}=xn(),[d,p]=qf(),[m,g]=y.useState(d.get("tab")||"active"),[h,x]=y.useState([]),[S,j]=y.useState([]),[k,w]=y.useState(!0),[C,z]=y.useState(null),[E,A]=y.useState(!1),[$,T]=y.useState(null),[D,R]=y.useState(!1),[F,U]=y.useState(parseInt(d.get("unassignedPage"))||1),[le,X]=y.useState(parseInt(d.get("unassignedLimit"))||25),[ae,ye]=y.useState(null),[pe,_e]=y.useState(parseInt(d.get("myTicketsPage"))||1),[B,Z]=y.useState(parseInt(d.get("myTicketsLimit"))||25),[ce,Ce]=y.useState(null),[Te,W]=y.useState(""),[q,re]=y.useState("priority"),[be,xe]=y.useState(""),[je,G]=y.useState("last_activity"),[de,ee]=y.useState("all"),[ze,M]=y.useState([]),[P,ie]=y.useState(parseInt(d.get("closedPage"))||1),[ge,V]=y.useState(parseInt(d.get("closedLimit"))||25),[Ae,Le]=y.useState(null),[he,We]=y.useState(!1),[te,Oe]=y.useState(d.get("closedStatus")||"all"),[Ye,nt]=y.useState(d.get("closedSearch")||""),[Je,L]=y.useState(d.get("closedSearch")||""),[we,Fe]=y.useState(d.get("closedDateFrom")||""),[Me,Ze]=y.useState(d.get("closedDateTo")||""),[Ne,yt]=y.useState(d.get("closedSort")||"closed_date"),[_r]=y.useState("desc"),Zt=y.useRef(null),zt=y.useCallback(async(Y=!1)=>{try{Y?A(!0):w(!0);const[$e,Ke]=await Promise.all([fetch(`${uc}/api/tickets/unassigned?page=${F}&limit=${le}`,{credentials:"include"}),fetch(`${uc}/api/tickets/my-tickets?page=${pe}&limit=${B}`,{credentials:"include"})]);if(!$e.ok||!Ke.ok)throw new Error("Failed to fetch tickets");const Xe=await $e.json(),Tt=await Ke.json();console.log("=== UNASSIGNED TICKETS DATA ==="),console.log("Pagination:",Xe.pagination),console.log("Tickets:",Xe.tickets?.length||0),console.log("=== MY TICKETS DATA ==="),console.log("Pagination:",Tt.pagination),console.log("Tickets:",Tt.tickets?.length||0),x(Xe.tickets||[]),ye(Xe.pagination),j(Tt.tickets||[]),Ce(Tt.pagination)}catch($e){console.error("Error fetching tickets:",$e),t("Failed to load tickets","error")}finally{w(!1),A(!1)}},[t,F,le,pe,B]),ar=y.useCallback(async(Y=!1)=>{try{Y?A(!0):We(!0);const $e=new URLSearchParams;$e.set("page",P.toString()),$e.set("limit",ge.toString()),$e.set("sortBy",Ne),$e.set("sortOrder",_r),te&&te!=="all"&&$e.set("status",te),Ye&&$e.set("search",Ye),we&&$e.set("dateFrom",we),Me&&$e.set("dateTo",Me);const Ke=await fetch(`${uc}/api/tickets/closed?${$e.toString()}`,{credentials:"include"});if(!Ke.ok)throw new Error("Failed to fetch closed tickets");const Xe=await Ke.json();console.log("=== CLOSED TICKETS DATA ==="),console.log("Pagination:",Xe.pagination),console.log("Tickets:",Xe.tickets?.length||0),M(Xe.tickets||[]),Le(Xe.pagination)}catch($e){console.error("Error fetching closed tickets:",$e),t("Failed to load closed tickets","error")}finally{We(!1),A(!1)}},[t,P,ge,te,Ye,we,Me,Ne,_r]);y.useEffect(()=>(Zt.current&&clearTimeout(Zt.current),Zt.current=setTimeout(()=>{nt(Je),Je!==Ye&&ie(1)},FV),()=>{Zt.current&&clearTimeout(Zt.current)}),[Je]),y.useEffect(()=>{m==="active"?zt():m==="closed"&&ar()},[m,zt,ar]),y.useEffect(()=>{const Y=setInterval(()=>{m==="active"?zt(!0):m==="closed"&&ar(!0)},HV);return()=>clearInterval(Y)},[m,zt,ar]),y.useEffect(()=>{const Y=new URLSearchParams(d);m!=="active"?Y.set("tab",m):Y.delete("tab"),m==="closed"&&(P!==1?Y.set("closedPage",P.toString()):Y.delete("closedPage"),ge!==25?Y.set("closedLimit",ge.toString()):Y.delete("closedLimit"),te&&te!=="all"?Y.set("closedStatus",te):Y.delete("closedStatus"),Ye?Y.set("closedSearch",Ye):Y.delete("closedSearch"),we?Y.set("closedDateFrom",we):Y.delete("closedDateFrom"),Me?Y.set("closedDateTo",Me):Y.delete("closedDateTo"),Ne&&Ne!=="closed_date"?Y.set("closedSort",Ne):Y.delete("closedSort")),p(Y,{replace:!0})},[m,P,ge,te,Ye,we,Me,Ne,d,p]);const me=async(Y,$e)=>{z(Y);try{if(!(await fetch(`${uc}/api/tickets/${Y}/assign`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})})).ok)throw new Error("Failed to assign ticket");t(`Ticket #${$e} assigned to you`,"success"),await zt()}catch(Ke){console.error("Error assigning ticket:",Ke),t("Failed to assign ticket","error")}finally{z(null)}},Ve=()=>{m==="active"?zt(!0):m==="closed"&&ar(!0)},qt=y.useCallback((Y,$e)=>{T($e.ticket_id),Y.dataTransfer.setData("text/plain",JSON.stringify({ticketId:$e.ticket_id,ticketNumber:$e.ticket_number})),Y.dataTransfer.effectAllowed="move"},[]),vr=y.useCallback(()=>{T(null),R(!1)},[]),ur=y.useCallback(Y=>{Y.preventDefault(),Y.dataTransfer.dropEffect="move"},[]),pt=y.useCallback(Y=>{Y.preventDefault(),R(!0)},[]),Tr=y.useCallback(Y=>{const $e=Y.currentTarget,Ke=Y.relatedTarget;$e.contains(Ke)||R(!1)},[]),J=y.useCallback(async Y=>{Y.preventDefault(),R(!1),T(null);let $e;try{const at=Y.dataTransfer.getData("text/plain");if(!at)return;$e=JSON.parse(at)}catch{return}if(!$e||typeof $e.ticketId>"u"||typeof $e.ticketNumber>"u")return;const Ke=String($e.ticketId),Xe=String($e.ticketNumber),Tt=h.find(at=>String(at.ticket_id)===Ke);if(!Tt){t("Ticket not found","error");return}z(Ke);try{const at=await fetch(`${uc}/api/tickets/${Ke}/assign-to-me`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(at.status===409){t(`Ticket #${Xe} is already assigned to another user`,"warning"),await zt();return}if(!at.ok)throw new Error("Failed to assign ticket");const At=await at.json();x(Jt=>Jt.filter(li=>String(li.ticket_id)!==Ke));const Et={...Tt,assigned_to:n?.id,assigned_to_name:n?.name||n?.username,status:At.ticket?.status||"assigned"};j(Jt=>[Et,...Jt]),ye(Jt=>Jt&&{...Jt,totalCount:Math.max(0,(Jt.totalCount||1)-1)}),Ce(Jt=>Jt&&{...Jt,totalCount:(Jt.totalCount||0)+1}),t(`Ticket #${Xe} assigned to you`,"success")}catch(at){console.error("Error assigning ticket via drag and drop:",at),t("Failed to assign ticket","error")}finally{z(null)}},[h,n,t,x,j,ye,Ce]),Ee=Y=>{e(`/tickets/${Y}`)},Ue=Y=>{g(Y)},Vt=Y=>{U(Y);const $e=new URLSearchParams(d);$e.set("unassignedPage",Y.toString()),p($e),window.scrollTo({top:0,behavior:"smooth"})},gr=Y=>{X(Y),U(1);const $e=new URLSearchParams(d);$e.set("unassignedLimit",Y.toString()),$e.set("unassignedPage","1"),p($e)},vn=Y=>{_e(Y);const $e=new URLSearchParams(d);$e.set("myTicketsPage",Y.toString()),p($e);const Ke=document.getElementById("my-tickets-section");Ke&&Ke.scrollIntoView({behavior:"smooth",block:"start"})},an=Y=>{Z(Y),_e(1);const $e=new URLSearchParams(d);$e.set("myTicketsLimit",Y.toString()),$e.set("myTicketsPage","1"),p($e)},ji=Y=>{ie(Y),window.scrollTo({top:0,behavior:"smooth"})},ko=Y=>{V(Y),ie(1)},Co=()=>{L(""),nt(""),Oe("all"),Fe(""),Ze(""),yt("closed_date"),ie(1)},ai=Je||te!=="all"||we||Me||Ne!=="closed_date",I=Y=>({open:{color:"blue",icon:Mn,label:"Open"},assigned:{color:"purple",icon:mc,label:"Assigned"},in_progress:{color:"yellow",icon:Pi,label:"In Progress"},waiting_customer:{color:"orange",icon:Ei,label:"Waiting Customer"},resolved:{color:"green",icon:Kt,label:"Resolved"},closed:{color:"gray",icon:Nt,label:"Closed"},cancelled:{color:"red",icon:Oc,label:"Cancelled"}})[Y]||{color:"gray",icon:Mn,label:Y},Re=Y=>({urgent:{color:"red",icon:xi,label:"Urgent"},high:{color:"orange",icon:Vs,label:"High"},normal:{color:"blue",icon:Ya,label:"Normal"},low:{color:"gray",icon:Ys,label:"Low"}})[Y]||{color:"gray",icon:Ya,label:Y},Mt=Y=>Y?{high:{color:"red",label:"High"},medium:{color:"yellow",label:"Medium"},low:{color:"green",label:"Low"}}[Y]||{color:"gray",label:Y}:null,_t=Y=>{if(!Y)return"N/A";const $e=new Date(Y),Xe=new Date-$e,Tt=Math.floor(Xe/6e4),at=Math.floor(Xe/36e5),At=Math.floor(Xe/864e5);return Tt<1?"Just now":Tt<60?`${Tt} min${Tt>1?"s":""} ago`:at<24?`${at} hour${at>1?"s":""} ago`:At<7?`${At} day${At>1?"s":""} ago`:$e.toLocaleDateString()},lt=Y=>{if(!Y)return"N/A";try{const $e=new Date(Y);return UV($e,{addSuffix:!0})}catch{return"N/A"}},ot=(Y,$e)=>Y?Y.length>$e?`${Y.substring(0,$e)}...`:Y:"",gt=()=>{let Y=h.filter(Ke=>{const Xe=Te.toLowerCase();return Ke.ticket_number?.toString().includes(Xe)||Ke.subject?.toLowerCase().includes(Xe)||Ke.customer_name?.toLowerCase().includes(Xe)||Ke.customer_phone?.includes(Xe)});const $e={urgent:0,high:1,normal:2,low:3};return Y.sort((Ke,Xe)=>{if(q==="priority"){const Tt=($e[Ke.priority]||999)-($e[Xe.priority]||999);return Tt!==0?Tt:new Date(Ke.created_at)-new Date(Xe.created_at)}else{if(q==="created")return new Date(Xe.created_at)-new Date(Ke.created_at);if(q==="customer")return(Ke.customer_name||"").localeCompare(Xe.customer_name||"")}return 0}),Y},ft=()=>{let Y=S.filter(Ke=>{if(de!=="all"&&Ke.status!==de)return!1;const Xe=be.toLowerCase();return Ke.ticket_number?.toString().includes(Xe)||Ke.subject?.toLowerCase().includes(Xe)});const $e={urgent:0,high:1,normal:2,low:3};return Y.sort((Ke,Xe)=>je==="last_activity"?new Date(Xe.updated_at||Xe.created_at)-new Date(Ke.updated_at||Ke.created_at):je==="status"?(Ke.status||"").localeCompare(Xe.status||""):je==="priority"?($e[Ke.priority]||999)-($e[Xe.priority]||999):0),Y},Wi=gt(),da=ft(),wi=()=>s.jsxs("tr",{className:"animate-pulse",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-48"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"})})]}),ki=()=>s.jsxs("tr",{className:"animate-pulse",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-48"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-28"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})})]}),si=Y=>({display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.xl}`,backgroundColor:Y?r.colors.accent.primary:"transparent",border:Y?"none":`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:Y?r.colors.text.inverse:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,cursor:"pointer",transition:r.transitions.normal});return s.jsxs("div",{className:"flex min-h-screen",style:{backgroundColor:r.colors.background.page},children:[s.jsx("div",{role:"status","aria-live":"polite",className:"sr-only",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",overflow:"hidden"},children:$?"Dragging ticket. Drop on My Tickets section to assign it to yourself.":""}),s.jsx(zr,{user:n,onLogout:i,hasRole:l,isSiteAdmin:c}),s.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"],position:"relative",zIndex:1},children:[s.jsx("div",{style:{marginBottom:r.spacing["2xl"]},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.accent.primary,borderRadius:r.radius.lg},children:s.jsx(uo,{size:24,style:{color:r.colors.text.inverse}})}),s.jsxs("div",{children:[s.jsx("h1",{style:{fontSize:r.fontSize["3xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0,lineHeight:r.lineHeight.tight},children:"Support Tickets"}),s.jsx("p",{style:{marginTop:r.spacing.xs,marginBottom:0,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"Manage and track customer support tickets"})]})]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[s.jsxs("button",{onClick:Ve,disabled:E,style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.background.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:E?"not-allowed":"pointer",opacity:E?.5:1,transition:r.transitions.fast,height:"40px",boxSizing:"border-box"},onMouseEnter:Y=>!E&&(Y.currentTarget.style.backgroundColor=r.colors.background.tertiary),onMouseLeave:Y=>Y.currentTarget.style.backgroundColor=r.colors.background.secondary,children:[s.jsx(Db,{size:18,className:E?"animate-spin":""}),"Refresh"]}),(c()||l("admin")||l("manager")||l("technician"))&&s.jsxs("button",{onClick:()=>e("/tickets/new"),style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,border:"none",borderRadius:r.radius.md,color:r.colors.text.inverse,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",boxShadow:r.shadows.sm,transition:r.transitions.fast,height:"40px",boxSizing:"border-box"},onMouseEnter:Y=>Y.currentTarget.style.backgroundColor=r.colors.accent.primaryHover,onMouseLeave:Y=>Y.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[s.jsx(sr,{size:18}),"Create New Ticket"]})]})]})}),s.jsxs("div",{role:"tablist",style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl,marginBottom:r.spacing.xl},children:[s.jsxs("button",{role:"tab","aria-selected":m==="active","aria-controls":"active-tab-panel",id:"active-tab",onClick:()=>Ue("active"),style:si(m==="active"),onMouseEnter:Y=>{m!=="active"&&(Y.currentTarget.style.backgroundColor=r.colors.background.hover)},onMouseLeave:Y=>{m!=="active"&&(Y.currentTarget.style.backgroundColor="transparent")},children:[s.jsx(uo,{size:18}),"Active Tickets",(ae?.totalCount||0)+(ce?.totalCount||0)>0&&s.jsx(tt,{color:"blue",style:{marginLeft:"4px"},children:(ae?.totalCount||0)+(ce?.totalCount||0)})]}),s.jsxs("button",{role:"tab","aria-selected":m==="closed","aria-controls":"closed-tab-panel",id:"closed-tab",onClick:()=>Ue("closed"),style:si(m==="closed"),onMouseEnter:Y=>{m!=="closed"&&(Y.currentTarget.style.backgroundColor=r.colors.background.hover)},onMouseLeave:Y=>{m!=="closed"&&(Y.currentTarget.style.backgroundColor="transparent")},children:[s.jsx(N2,{size:18}),"Closed Tickets",Ae?.totalCount>0&&s.jsx(tt,{color:"gray",style:{marginLeft:"4px"},children:Ae.totalCount})]})]}),m==="active"&&s.jsxs("div",{role:"tabpanel",id:"active-tab-panel","aria-labelledby":"active-tab",children:[s.jsxs(rt,{style:{marginBottom:r.spacing["2xl"]},children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.lg},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Unassigned Tickets"}),s.jsx(tt,{color:"blue",children:ae?.totalCount||0})]}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:'Drag tickets to "My Tickets" to assign'})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsxs("div",{style:{flex:1,position:"relative",minWidth:"200px"},children:[s.jsx(yi,{size:16,style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"},"aria-hidden":"true"}),s.jsx("input",{type:"text",id:"unassigned-search","aria-label":"Search unassigned tickets by ticket number, customer name, or phone",placeholder:"Search tickets, customer name, or phone",value:Te,onChange:Y=>W(Y.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,lineHeight:r.lineHeight.normal,outline:"none",transition:r.transitions.fast,height:"38px",boxSizing:"border-box"}})]}),s.jsxs("select",{id:"unassigned-sort","aria-label":"Sort unassigned tickets",value:q,onChange:Y=>re(Y.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none",minWidth:"180px",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[s.jsx("option",{value:"priority",children:"Sort by Priority"}),s.jsx("option",{value:"created",children:"Sort by Created Date"}),s.jsx("option",{value:"customer",children:"Sort by Customer Name"})]})]})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`1px solid ${r.colors.border.light}`},children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"120px",width:"120px"},children:"Ticket #"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"300px"},children:"Subject"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Priority"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Urgency"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Customer"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Created"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Actions"})]})}),s.jsx("tbody",{style:{backgroundColor:r.colors.background.secondary},children:k?s.jsxs(s.Fragment,{children:[s.jsx(wi,{}),s.jsx(wi,{}),s.jsx(wi,{})]}):Wi.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",style:{padding:0},children:s.jsxs("div",{style:{textAlign:"center",padding:`${r.spacing["2xl"]} ${r.spacing.lg}`,backgroundColor:r.colors.background.primary},children:[s.jsx(KK,{size:48,style:{color:r.colors.border.medium,margin:"0 auto",marginBottom:r.spacing.md}}),s.jsx("p",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:"No unassigned tickets"}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"All tickets are assigned!"})]})})}):Wi.map((Y,$e)=>{const Ke=Re(Y.priority),Xe=Mt(Y.urgency),Tt=Ke.icon,at=Y.unread_customer_comments>0,At=$===Y.ticket_id;return s.jsxs("tr",{draggable:"true",onDragStart:Et=>qt(Et,Y),onDragEnd:vr,onClick:()=>Ee(Y.ticket_id),onKeyDown:Et=>{(Et.key==="Enter"||Et.key===" ")&&(Et.preventDefault(),Ee(Y.ticket_id))},tabIndex:0,"aria-label":`View ticket ${Y.ticket_number}. Drag to My Tickets to assign.`,style:{cursor:At?"grabbing":"grab",transition:r.transitions.fast,borderBottom:$e<Wi.length-1?`1px solid ${r.colors.border.light}`:"none",opacity:At?.5:1,backgroundColor:At?r.colors.background.tertiary:"transparent"},onMouseEnter:Et=>{At||(Et.currentTarget.style.backgroundColor=r.colors.background.hover)},onMouseLeave:Et=>{At||(Et.currentTarget.style.backgroundColor="transparent")},children:[s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",minWidth:"120px",width:"120px"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(_K,{size:16,style:{color:At?r.colors.accent.primary:r.colors.text.tertiary,flexShrink:0,cursor:"grab"},"aria-hidden":"true"}),s.jsxs("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.bold,color:r.colors.accent.info},children:["#",Y.ticket_number]}),at&&s.jsx("span",{style:{width:"8px",height:"8px",backgroundColor:r.colors.accent.warning,borderRadius:r.radius.full},title:"Unread customer comments"})]})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,minWidth:"300px"},children:s.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:ot(Y.subject,60)})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:s.jsxs(tt,{color:Ke.color,children:[s.jsx(Tt,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),Ke.label]})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:Xe?s.jsx(tt,{color:Xe.color,children:Xe.label}):s.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"N/A"})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`},children:s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:Y.customer_name||"N/A"}),s.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:Y.customer_phone||"No phone"})]})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:_t(Y.created_at)}),(c()||l("admin")||l("manager"))&&s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},onClick:Et=>Et.stopPropagation(),children:s.jsxs("button",{onClick:()=>me(Y.ticket_id,Y.ticket_number),disabled:C===Y.ticket_id,style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,border:"none",borderRadius:r.radius.md,cursor:C===Y.ticket_id?"not-allowed":"pointer",opacity:C===Y.ticket_id?.5:1,transition:r.transitions.fast},onMouseEnter:Et=>{C!==Y.ticket_id&&(Et.currentTarget.style.backgroundColor=r.colors.accent.primaryHover)},onMouseLeave:Et=>{Et.currentTarget.style.backgroundColor=r.colors.accent.primary},children:[s.jsx(_Y,{size:16}),C===Y.ticket_id?"Assigning...":"Assign to Me"]})})]},Y.ticket_id)})})]})}),ae&&ae.totalCount>0&&s.jsx(hc,{currentPage:ae.page,totalPages:ae.totalPages,pageSize:ae.limit,totalCount:ae.totalCount,onPageChange:Vt,onPageSizeChange:gr,loading:k||E})]}),s.jsxs(rt,{id:"my-tickets-section","aria-dropeffect":$?"move":"none",onDragOver:ur,onDragEnter:pt,onDragLeave:Tr,onDrop:J,style:{transition:r.transitions.normal,border:D?`2px dashed ${r.colors.accent.primary}`:`1px solid ${r.colors.border.light}`,backgroundColor:D?r.colors.accent.primaryLight:r.colors.background.secondary,boxShadow:D?r.shadows.md:r.shadows.sm},children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.lg},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"My Tickets"}),s.jsx(tt,{color:"purple",children:ce?.totalCount||0}),D&&s.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.accent.primary,fontWeight:r.fontWeight.medium},children:"Drop to assign"})]}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:$?"Drop ticket here to assign to yourself":"Tickets assigned to you"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsxs("div",{style:{flex:1,position:"relative",minWidth:"200px"},children:[s.jsx(yi,{size:16,style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"},"aria-hidden":"true"}),s.jsx("input",{type:"text",id:"my-tickets-search","aria-label":"Search my assigned tickets",placeholder:"Search tickets, customer name, or phone",value:be,onChange:Y=>xe(Y.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,lineHeight:r.lineHeight.normal,outline:"none",transition:r.transitions.fast,height:"38px",boxSizing:"border-box"}})]}),s.jsxs("select",{id:"my-tickets-status-filter","aria-label":"Filter my tickets by status",value:de,onChange:Y=>ee(Y.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none",minWidth:"150px",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"assigned",children:"Assigned"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"waiting_customer",children:"Waiting Customer"}),s.jsx("option",{value:"resolved",children:"Resolved"})]}),s.jsxs("select",{id:"my-tickets-sort","aria-label":"Sort my tickets",value:je,onChange:Y=>G(Y.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none",minWidth:"180px",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[s.jsx("option",{value:"last_activity",children:"Sort by Last Activity"}),s.jsx("option",{value:"status",children:"Sort by Status"}),s.jsx("option",{value:"priority",children:"Sort by Priority"})]})]})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`1px solid ${r.colors.border.light}`},children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"100px",width:"100px"},children:"Ticket #"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"300px"},children:"Subject"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Status"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Priority"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Customer"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Last Activity"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Unread"})]})}),s.jsx("tbody",{style:{backgroundColor:r.colors.background.secondary},children:k?s.jsxs(s.Fragment,{children:[s.jsx(wi,{}),s.jsx(wi,{}),s.jsx(wi,{})]}):da.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",style:{padding:0},children:s.jsxs("div",{style:{textAlign:"center",padding:`${r.spacing["2xl"]} ${r.spacing.lg}`,backgroundColor:r.colors.background.primary},children:[s.jsx(uo,{size:48,style:{color:r.colors.border.medium,margin:"0 auto",marginBottom:r.spacing.md}}),s.jsx("p",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:"No tickets assigned to you"}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:"Assign tickets from the queue above"})]})})}):da.map((Y,$e)=>{const Ke=I(Y.status),Xe=Re(Y.priority),Tt=Ke.icon,at=Xe.icon,At=Y.unread_customer_comments>0;return s.jsxs("tr",{onClick:()=>Ee(Y.ticket_id),onKeyDown:Et=>{(Et.key==="Enter"||Et.key===" ")&&(Et.preventDefault(),Ee(Y.ticket_id))},tabIndex:0,"aria-label":`View ticket ${Y.ticket_number}`,style:{cursor:"pointer",transition:r.transitions.fast,backgroundColor:At?r.colors.accent.warningLight:"transparent",borderBottom:$e<da.length-1?`1px solid ${r.colors.border.light}`:"none"},onMouseEnter:Et=>Et.currentTarget.style.backgroundColor=At?r.colors.accent.warningLight:r.colors.background.hover,onMouseLeave:Et=>Et.currentTarget.style.backgroundColor=At?r.colors.accent.warningLight:"transparent",children:[s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",minWidth:"100px",width:"100px"},children:s.jsxs("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.bold,color:r.colors.accent.info},children:["#",Y.ticket_number]})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,minWidth:"300px"},children:s.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:ot(Y.subject,60)})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:s.jsxs(tt,{color:Ke.color,children:[s.jsx(Tt,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),Ke.label]})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:s.jsxs(tt,{color:Xe.color,children:[s.jsx(at,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),Xe.label]})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`},children:s.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary},children:Y.customer_name||"N/A"})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:_t(Y.updated_at||Y.created_at)}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:At&&s.jsx(tt,{color:"orange",children:Y.unread_customer_comments})})]},Y.ticket_id)})})]})}),ce&&ce.totalCount>0&&s.jsx(hc,{currentPage:ce.page,totalPages:ce.totalPages,pageSize:ce.limit,totalCount:ce.totalCount,onPageChange:vn,onPageSizeChange:an,loading:k||E})]})]}),m==="closed"&&s.jsxs("div",{role:"tabpanel",id:"closed-tab-panel","aria-labelledby":"closed-tab",children:[he&&s.jsx("div",{role:"status","aria-live":"polite",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",overflow:"hidden"},children:"Loading closed tickets..."}),s.jsxs(rt,{children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.lg},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Closed Tickets"}),s.jsx(tt,{color:"gray",children:Ae?.totalCount||0})]}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:"Resolved, closed, and cancelled tickets"})]}),s.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.md,alignItems:"flex-end"},children:[s.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[s.jsx("label",{htmlFor:"closed-tickets-search",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Search"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx(yi,{size:16,"aria-hidden":"true",style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"}}),s.jsx("input",{type:"text",id:"closed-tickets-search",placeholder:"Ticket #, subject, or customer",value:Je,onChange:Y=>L(Y.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,lineHeight:r.lineHeight.normal,outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast}})]})]}),s.jsxs("div",{style:{minWidth:"140px"},children:[s.jsx("label",{htmlFor:"closed-status-filter",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Status"}),s.jsxs("select",{id:"closed-status-filter",value:te,onChange:Y=>{Oe(Y.target.value),ie(1)},style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[s.jsx("option",{value:"all",children:"All Closed"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"closed",children:"Closed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{style:{minWidth:"150px"},children:[s.jsx("label",{htmlFor:"closed-date-from",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Date From"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx(xx,{size:16,"aria-hidden":"true",style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"}}),s.jsx("input",{type:"date",id:"closed-date-from",value:we,onChange:Y=>{Fe(Y.target.value),ie(1)},style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast}})]})]}),s.jsxs("div",{style:{minWidth:"150px"},children:[s.jsx("label",{htmlFor:"closed-date-to",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Date To"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx(xx,{size:16,"aria-hidden":"true",style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary,pointerEvents:"none"}}),s.jsx("input",{type:"date",id:"closed-date-to",value:Me,onChange:Y=>{Ze(Y.target.value),ie(1)},style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:`calc(${r.spacing.md} + 16px + ${r.spacing.sm})`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast}})]})]}),s.jsxs("div",{style:{minWidth:"150px"},children:[s.jsx("label",{htmlFor:"closed-sort-by",style:{display:"block",fontSize:r.fontSize.xs,color:r.colors.text.secondary,marginBottom:r.spacing.xs,fontWeight:r.fontWeight.medium},children:"Sort By"}),s.jsxs("select",{id:"closed-sort-by",value:Ne,onChange:Y=>{yt(Y.target.value),ie(1)},style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingRight:r.spacing.xl,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",outline:"none",height:"38px",boxSizing:"border-box",transition:r.transitions.fast},children:[s.jsx("option",{value:"closed_date",children:"Closed Date"}),s.jsx("option",{value:"created_at",children:"Created Date"}),s.jsx("option",{value:"priority",children:"Priority"}),s.jsx("option",{value:"ticket_number",children:"Ticket #"})]})]}),ai&&s.jsxs("button",{onClick:Co,style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:"transparent",border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:r.transitions.fast,height:"38px",boxSizing:"border-box"},onMouseEnter:Y=>{Y.currentTarget.style.backgroundColor=r.colors.background.tertiary,Y.currentTarget.style.color=r.colors.text.primary},onMouseLeave:Y=>{Y.currentTarget.style.backgroundColor="transparent",Y.currentTarget.style.color=r.colors.text.secondary},children:[s.jsx(eO,{size:14}),"Clear Filters"]})]})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{style:{backgroundColor:r.colors.background.tertiary,borderBottom:`1px solid ${r.colors.border.light}`},children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"100px",width:"100px"},children:"Ticket #"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"220px"},children:"Subject"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Status"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Priority"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Customer"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Closed"}),s.jsx("th",{scope:"col",style:{padding:`${r.spacing.md} ${r.spacing.xl}`,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",minWidth:"180px"},children:"Resolution"})]})}),s.jsx("tbody",{style:{backgroundColor:r.colors.background.secondary},children:he?s.jsxs(s.Fragment,{children:[s.jsx(ki,{}),s.jsx(ki,{}),s.jsx(ki,{}),s.jsx(ki,{}),s.jsx(ki,{})]}):ze.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",style:{padding:0},children:s.jsxs("div",{style:{textAlign:"center",padding:`${r.spacing["2xl"]} ${r.spacing.lg}`,backgroundColor:r.colors.background.primary},children:[s.jsx(N2,{size:48,style:{color:r.colors.border.medium,margin:"0 auto",marginBottom:r.spacing.md}}),s.jsx("p",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:"No closed tickets found"}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:ai?"Try adjusting your filters to find more tickets":"Closed tickets will appear here once resolved"})]})})}):ze.map((Y,$e)=>{const Ke=I(Y.status),Xe=Re(Y.priority),Tt=Ke.icon,at=Xe.icon;return s.jsxs("tr",{onClick:()=>Ee(Y.ticket_id),onKeyDown:At=>{(At.key==="Enter"||At.key===" ")&&(At.preventDefault(),Ee(Y.ticket_id))},tabIndex:0,"aria-label":`View ticket ${Y.ticket_number}`,style:{cursor:"pointer",transition:r.transitions.fast,borderBottom:$e<ze.length-1?`1px solid ${r.colors.border.light}`:"none"},onMouseEnter:At=>At.currentTarget.style.backgroundColor=r.colors.background.hover,onMouseLeave:At=>At.currentTarget.style.backgroundColor="transparent",children:[s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",minWidth:"100px",width:"100px"},children:s.jsxs("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.bold,color:r.colors.accent.info},children:["#",Y.ticket_number]})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,minWidth:"220px"},children:s.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary},children:ot(Y.subject,50)})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:s.jsxs(tt,{color:Ke.color,children:[s.jsx(Tt,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),Ke.label]})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap"},children:s.jsxs(tt,{color:Xe.color,children:[s.jsx(at,{style:{width:"12px",height:"12px",marginRight:r.spacing.xs}}),Xe.label]})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`},children:s.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary},children:Y.customer_name||"N/A"})}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,whiteSpace:"nowrap",fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:lt(Y.closed_date||Y.updated_at)}),s.jsx("td",{style:{padding:`${r.spacing.lg} ${r.spacing.xl}`,minWidth:"180px"},children:s.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary},children:ot(Y.resolution_text||Y.resolution_summary||"-",40)})})]},Y.ticket_id)})})]})}),Ae&&Ae.totalCount>0&&s.jsx(hc,{currentPage:Ae.page,totalPages:Ae.totalPages,pageSize:Ae.limit,totalCount:Ae.totalCount,onPageChange:ji,onPageSizeChange:ko,loading:he||E})]})]})]})]})},xy="",K2="convert-sequence-modal-animations";if(typeof document<"u"&&!document.getElementById(K2)){const e=document.createElement("style");e.id=K2,e.textContent=`
    @keyframes skeleton-spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    @keyframes skeleton-shimmer {
      0% { opacity: 0.4; }
      50% { opacity: 0.7; }
      100% { opacity: 0.4; }
    }
    @media (prefers-reduced-motion: reduce) {
      .skeleton-shimmer {
        animation: none !important;
        opacity: 0.5 !important;
      }
      .skeleton-spin {
        animation: none !important;
      }
    }
  `,document.head.appendChild(e)}const YV=["Electrical","Plumbing","HVAC","Appliances","Mechanical","Other"],VV=[{value:"tool",label:"Tool",icon:Pi},{value:"video",label:"Video",icon:cO},{value:"documentation",label:"Documentation",icon:JE}],GV=e=>{try{const t=new URL(e);return["http:","https:"].includes(t.protocol)}catch{return!1}},XV=({ticketId:e,ticketNumber:t,onClose:n,onSuccess:i})=>{const l=y.useRef(null),c=y.useRef(null),[d,p]=y.useState(!0),[m,g]=y.useState(null),[h,x]=y.useState(!1),[S,j]=y.useState({sequence_name:"",description:"",category:"Other",keywords:[],steps:[],urls:[],tools:[],parts:[]}),[k,w]=y.useState({}),[C,z]=y.useState(!1),[E,A]=y.useState(""),[$,T]=y.useState([]),D=y.useRef(null),[R,F]=y.useState(window.innerWidth<768);y.useEffect(()=>{const M=()=>F(window.innerWidth<768);return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),y.useEffect(()=>{(async()=>{try{const P=await fetch(`${xy}/api/sequences`,{credentials:"include"});if(P.ok){const ie=await P.json();T(ie||[])}}catch{}})()},[]);const U=y.useCallback(async()=>{D.current&&D.current.abort(),D.current=new AbortController;try{p(!0),g(null);const M=new Promise(V=>setTimeout(V,800)),P=fetch(`${xy}/api/tickets/${e}/generate-sequence`,{method:"POST",credentials:"include",signal:D.current.signal}),[ie]=await Promise.all([P,M]);if(!ie.ok){let V="Failed to generate sequence";try{V=(await ie.json()).error||V}catch{V=`Server error: ${ie.status} ${ie.statusText}`}throw new Error(V)}const ge=await ie.json();j({sequence_name:ge.sequence_name||"",description:ge.description||"",category:ge.category||"Other",keywords:ge.keywords||[],steps:ge.steps||[],urls:ge.urls||[],tools:(ge.tools||[]).map(V=>({tool_name:V.tool_name||"",tool_description:V.tool_description||"",tool_link:V.tool_link||"",is_required:V.is_required!==!1,step_num:V.step_num||null})),parts:(ge.parts||[]).map(V=>({part_name:V.part_name||"",part_number:V.part_number||"",part_description:V.part_description||"",part_link:V.part_link||"",estimated_price:V.estimated_price!=null?String(V.estimated_price):"",is_required:V.is_required!==!1,step_num:V.step_num||null}))}),ge.steps?.length>0&&w({1:!0}),p(!1)}catch(M){if(M.name==="AbortError")return;console.error("Error generating sequence:",M),g(M.message),p(!1)}},[e]);y.useEffect(()=>(U(),()=>{D.current&&D.current.abort(),ae.current&&ae.current.abort()}),[U]),y.useEffect(()=>{d||c.current?.focus()},[d]),y.useEffect(()=>{const M=P=>{P.key==="Escape"&&n()};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[n]);const le=M=>M.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"").substring(0,50),X=M=>/^[a-z0-9-]{1,50}$/.test(M)&&M.length>0,ae=y.useRef(null),ye=async()=>{ae.current&&ae.current.abort(),ae.current=new AbortController;try{x(!0),g(null);const M=le(S.sequence_name);if(!X(M))throw new Error("Invalid sequence name. Please use letters, numbers, and hyphens only.");const P={ticket_id:e,sequence_key:M,display_name:S.sequence_name,description:S.description,category:S.category,is_active:C,steps:S.steps,urls:S.urls,keywords:S.keywords,tools:S.tools,parts:S.parts},ie=await fetch(`${xy}/api/sequences/from-ticket`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(P),signal:ae.current.signal});if(!ie.ok){let V="Failed to create sequence";try{V=(await ie.json()).error||V}catch{V=`Server error: ${ie.status} ${ie.statusText}`}throw new Error(V)}const ge=await ie.json();i(M)}catch(M){if(M.name==="AbortError")return;console.error("Error saving sequence:",M),g(M.message),x(!1)}},pe=M=>{w(P=>({...P,[M]:!P[M]}))},_e=(M,P,ie)=>{j(ge=>({...ge,steps:ge.steps.map(V=>V.step_num===M?{...V,[P]:ie}:V)}))},B=(M,P,ie)=>{ie.trim()&&j(ge=>({...ge,steps:ge.steps.map(V=>{if(V.step_num===M){const Ae=P==="success"?"success_triggers":"failure_triggers";return{...V,[Ae]:[...V[Ae]||[],ie.trim()]}}return V})}))},Z=(M,P,ie)=>{j(ge=>({...ge,steps:ge.steps.map(V=>{if(V.step_num===M){const Ae=P==="success"?"success_triggers":"failure_triggers";return{...V,[Ae]:V[Ae].filter((Le,he)=>he!==ie)}}return V})}))},ce=()=>{const M=S.steps.length+1;j(P=>({...P,steps:[...P.steps,{step_num:M,message_template:"",success_triggers:[],failure_triggers:[]}]})),w(P=>({...P,[M]:!0}))},Ce=M=>{j(P=>({...P,steps:P.steps.filter(ie=>ie.step_num!==M).map((ie,ge)=>({...ie,step_num:ge+1}))}))},Te=(M,P,ie)=>{j(ge=>({...ge,urls:ge.urls.map((V,Ae)=>Ae===M?{...V,[P]:ie}:V)}))},W=M=>{j(P=>({...P,urls:P.urls.filter((ie,ge)=>ge!==M)}))},q=()=>{E.trim()&&(j(M=>({...M,keywords:[...M.keywords,E.trim()]})),A(""))},re=M=>{j(P=>({...P,keywords:P.keywords.filter((ie,ge)=>ge!==M)}))},be=()=>{j(M=>({...M,tools:[...M.tools,{tool_name:"",tool_description:"",tool_link:"",is_required:!0,step_num:null}]}))},xe=(M,P,ie)=>{j(ge=>({...ge,tools:ge.tools.map((V,Ae)=>Ae===M?{...V,[P]:ie}:V)}))},je=M=>{j(P=>({...P,tools:P.tools.filter((ie,ge)=>ge!==M)}))},G=()=>{j(M=>({...M,parts:[...M.parts,{part_name:"",part_number:"",part_description:"",part_link:"",estimated_price:"",is_required:!0,step_num:null}]}))},de=(M,P,ie)=>{j(ge=>({...ge,parts:ge.parts.map((V,Ae)=>Ae===M?{...V,[P]:ie}:V)}))},ee=M=>{j(P=>({...P,parts:P.parts.filter((ie,ge)=>ge!==M)}))},ze=({stepNum:M,type:P,triggers:ie})=>{const[ge,V]=y.useState(""),Ae=P==="success";return s.jsxs("div",{style:{marginBottom:r.spacing.md},children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:Ae?r.colors.accent.success:r.colors.accent.danger,marginBottom:r.spacing.xs,textTransform:"uppercase",letterSpacing:"0.05em"},children:Ae?"Success Triggers":"Failure Triggers"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.xs,marginBottom:r.spacing.sm},children:ie?.map((Le,he)=>s.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:Ae?r.colors.accent.successLight:r.colors.accent.dangerLight,color:Ae?r.colors.accent.success:r.colors.accent.danger,borderRadius:r.radius.full,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:[Le,s.jsx("button",{type:"button",onClick:()=>Z(M,P,he),style:{background:"none",border:"none",padding:0,cursor:"pointer",color:"inherit",display:"flex",alignItems:"center"},"aria-label":`Remove ${Le}`,children:s.jsx(Nt,{size:12})})]},he))}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.sm},children:[s.jsx("input",{type:"text",value:ge,onChange:Le=>V(Le.target.value),onKeyDown:Le=>{Le.key==="Enter"&&(Le.preventDefault(),B(M,P,ge),V(""))},placeholder:`Add ${P} trigger...`,style:{flex:1,padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary}}),s.jsxs("button",{type:"button",onClick:()=>{B(M,P,ge),V("")},style:{padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:"none",backgroundColor:Ae?r.colors.accent.success:r.colors.accent.danger,color:r.colors.text.inverse,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[s.jsx(sr,{size:14}),"Add"]})]})]})};return s.jsx("div",{onClick:n,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:r.zIndex.modal,padding:R?0:r.spacing.xl,backdropFilter:"blur(4px)"},children:s.jsxs("div",{ref:l,onClick:M=>M.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"convert-sequence-title",style:{backgroundColor:r.colors.background.secondary,borderRadius:R?0:r.radius.xl,maxWidth:R?"100%":"900px",width:"100%",maxHeight:R?"100vh":"90vh",height:R?"100vh":"auto",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:r.shadows["2xl"]},children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx("div",{style:{width:"44px",height:"44px",borderRadius:r.radius.lg,backgroundColor:`${r.colors.chart.purple}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Sx,{size:22,style:{color:r.colors.chart.purple}})}),s.jsxs("div",{children:[s.jsx("h2",{id:"convert-sequence-title",style:{color:r.colors.text.primary,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,margin:0},children:"Convert to Sequence"}),s.jsxs("p",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm,margin:0},children:["Ticket #",t]})]})]}),s.jsx("button",{ref:c,onClick:n,"aria-label":"Close modal",style:{background:"none",border:"none",padding:r.spacing.sm,cursor:"pointer",borderRadius:r.radius.md,color:r.colors.text.tertiary,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Nt,{size:24})})]}),s.jsx("div",{style:{flex:1,overflow:"auto",padding:r.spacing.xl},children:d?s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xl},children:[s.jsx("div",{role:"status","aria-live":"polite",style:{position:"absolute",width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0},children:"Analyzing ticket with AI. Please wait while we generate sequence steps."}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:r.spacing.lg,gap:r.spacing.md},children:[s.jsx("div",{style:{width:"64px",height:"64px",borderRadius:r.radius.full,backgroundColor:`${r.colors.chart.purple}20`,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Dn,{size:32,className:"skeleton-spin",style:{color:r.colors.chart.purple,animation:"skeleton-spin 1s linear infinite"}})}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("p",{style:{color:r.colors.text.primary,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.semibold,margin:0,marginBottom:r.spacing.xs},children:"Analyzing ticket with AI"}),s.jsx("p",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm,margin:0},children:"Generating sequence steps, keywords, and resources..."})]})]}),s.jsxs("div",{"aria-hidden":"true",children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:r.spacing.lg,marginBottom:r.spacing.xl},children:[s.jsxs("div",{children:[s.jsx("div",{className:"skeleton-shimmer",style:{height:"14px",width:"100px",backgroundColor:r.colors.border.light,borderRadius:r.radius.sm,marginBottom:r.spacing.sm,animation:"skeleton-shimmer 1.5s infinite"}}),s.jsx("div",{className:"skeleton-shimmer",style:{height:"40px",backgroundColor:r.colors.border.light,borderRadius:r.radius.md,animation:"skeleton-shimmer 1.5s infinite"}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"skeleton-shimmer",style:{height:"14px",width:"70px",backgroundColor:r.colors.border.light,borderRadius:r.radius.sm,marginBottom:r.spacing.sm,animation:"skeleton-shimmer 1.5s infinite"}}),s.jsx("div",{className:"skeleton-shimmer",style:{height:"40px",backgroundColor:r.colors.border.light,borderRadius:r.radius.md,animation:"skeleton-shimmer 1.5s infinite"}})]})]}),s.jsxs("div",{style:{marginBottom:r.spacing.xl},children:[s.jsx("div",{className:"skeleton-shimmer",style:{height:"14px",width:"80px",backgroundColor:r.colors.border.light,borderRadius:r.radius.sm,marginBottom:r.spacing.sm,animation:"skeleton-shimmer 1.5s infinite"}}),s.jsx("div",{className:"skeleton-shimmer",style:{height:"80px",backgroundColor:r.colors.border.light,borderRadius:r.radius.md,animation:"skeleton-shimmer 1.5s infinite"}})]}),s.jsxs("div",{style:{marginBottom:r.spacing.xl},children:[s.jsx("div",{className:"skeleton-shimmer",style:{height:"14px",width:"70px",backgroundColor:r.colors.border.light,borderRadius:r.radius.sm,marginBottom:r.spacing.sm,animation:"skeleton-shimmer 1.5s infinite"}}),s.jsx("div",{style:{display:"flex",gap:r.spacing.sm,flexWrap:"wrap"},children:[80,60,90,55].map((M,P)=>s.jsx("div",{className:"skeleton-shimmer",style:{height:"28px",width:`${M}px`,backgroundColor:r.colors.border.light,borderRadius:r.radius.full,animation:"skeleton-shimmer 1.5s infinite",animationDelay:`${P*.1}s`}},P))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"skeleton-shimmer",style:{height:"14px",width:"50px",backgroundColor:r.colors.border.light,borderRadius:r.radius.sm,marginBottom:r.spacing.md,animation:"skeleton-shimmer 1.5s infinite"}}),[48,56,52].map((M,P)=>s.jsx("div",{className:"skeleton-shimmer",style:{height:`${M}px`,backgroundColor:r.colors.border.light,borderRadius:r.radius.lg,marginBottom:r.spacing.md,animation:"skeleton-shimmer 1.5s infinite",animationDelay:`${P*.15}s`}},P))]})]})]}):m&&!S.sequence_name?s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:r.spacing["4xl"],gap:r.spacing.lg},children:[s.jsx(mn,{size:48,style:{color:r.colors.accent.danger}}),s.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.base,textAlign:"center"},children:m}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[s.jsx("button",{onClick:n,style:{padding:`${r.spacing.sm} ${r.spacing.xl}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.secondary,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"Close"}),s.jsxs("button",{onClick:U,style:{padding:`${r.spacing.sm} ${r.spacing.xl}`,borderRadius:r.radius.md,border:"none",backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(Db,{size:16}),"Try Again"]})]})]}):s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xl},children:[m&&s.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.accent.dangerLight,borderRadius:r.radius.md,display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(mn,{size:18,style:{color:r.colors.accent.danger}}),s.jsx("span",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.sm},children:m})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:r.spacing.lg},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.sm},children:"Sequence Name *"}),s.jsx("input",{type:"text",value:S.sequence_name,onChange:M=>j(P=>({...P,sequence_name:M.target.value})),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.base,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.sm},children:"Category"}),s.jsx("select",{value:S.category,onChange:M=>j(P=>({...P,category:M.target.value})),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.base,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,cursor:"pointer"},children:YV.map(M=>s.jsx("option",{value:M,children:M},M))})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.sm},children:"Description"}),s.jsx("textarea",{value:S.description,onChange:M=>j(P=>({...P,description:M.target.value})),rows:3,style:{width:"100%",padding:r.spacing.md,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.base,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,resize:"vertical",fontFamily:"inherit"}})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.sm},children:[s.jsx(lO,{size:16}),"Keywords"]}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:r.spacing.sm,marginBottom:r.spacing.sm},children:S.keywords.map((M,P)=>s.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.accent.primaryLight,color:r.colors.accent.primary,borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[M,s.jsx("button",{type:"button",onClick:()=>re(P),style:{background:"none",border:"none",padding:0,cursor:"pointer",color:"inherit",display:"flex",alignItems:"center"},"aria-label":`Remove ${M}`,children:s.jsx(Nt,{size:14})})]},P))}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.sm},children:[s.jsx("input",{type:"text",value:E,onChange:M=>A(M.target.value),onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),q())},placeholder:"Add keyword...",style:{flex:1,padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary}}),s.jsxs("button",{type:"button",onClick:q,style:{padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:"none",backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[s.jsx(sr,{size:14}),"Add"]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.md},children:[s.jsxs("label",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:["Steps (",S.steps.length,")"]}),s.jsxs("button",{type:"button",onClick:ce,style:{padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:"none",backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[s.jsx(sr,{size:14}),"Add Step"]})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:S.steps.map(M=>s.jsxs("div",{style:{border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.lg,backgroundColor:r.colors.background.tertiary,overflow:"hidden"},children:[s.jsxs("div",{role:"button",tabIndex:0,"aria-expanded":k[M.step_num],"aria-controls":`step-content-${M.step_num}`,onClick:()=>pe(M.step_num),onKeyDown:P=>{(P.key==="Enter"||P.key===" ")&&(P.preventDefault(),pe(M.step_num))},style:{padding:r.spacing.md,display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",backgroundColor:r.colors.background.secondary,outline:"none"},onFocus:P=>{P.currentTarget.style.boxShadow=r.shadows.focus},onBlur:P=>{P.currentTarget.style.boxShadow="none"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx("span",{style:{width:"28px",height:"28px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,display:"flex",alignItems:"center",justifyContent:"center",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold},children:M.step_num}),s.jsxs("span",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,maxWidth:"400px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[M.message_template?.substring(0,60)||"New step...",M.message_template?.length>60?"...":""]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[S.steps.length>1&&s.jsx("button",{type:"button",onClick:P=>{P.stopPropagation(),Ce(M.step_num)},style:{padding:r.spacing.sm,borderRadius:r.radius.md,border:"none",backgroundColor:"transparent",color:r.colors.accent.danger,cursor:"pointer",display:"flex",alignItems:"center"},"aria-label":`Remove step ${M.step_num}`,children:s.jsx(Kr,{size:16})}),k[M.step_num]?s.jsx(Ec,{size:20,style:{color:r.colors.text.tertiary}}):s.jsx(ei,{size:20,style:{color:r.colors.text.tertiary}})]})]}),k[M.step_num]&&s.jsxs("div",{id:`step-content-${M.step_num}`,style:{padding:r.spacing.lg},children:[s.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.sm},children:"Message"}),s.jsx("textarea",{value:M.message_template,onChange:P=>_e(M.step_num,"message_template",P.target.value),rows:4,style:{width:"100%",padding:r.spacing.md,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,resize:"vertical",fontFamily:"inherit"}})]}),s.jsx(ze,{stepNum:M.step_num,type:"success",triggers:M.success_triggers}),s.jsx(ze,{stepNum:M.step_num,type:"failure",triggers:M.failure_triggers}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:R?"1fr":"1fr 1fr",gap:r.spacing.md,marginBottom:r.spacing.md},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:"Document URL"}),s.jsx("input",{type:"text",value:M.doc_url||"",onChange:P=>_e(M.step_num,"doc_url",P.target.value),placeholder:"https://...",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:"Document Title"}),s.jsx("input",{type:"text",value:M.doc_title||"",onChange:P=>_e(M.step_num,"doc_title",P.target.value),placeholder:"Reference doc title",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary}})]})]}),s.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.secondary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,cursor:"pointer",marginBottom:M.handoff_trigger!==void 0&&M.handoff_trigger!==null&&M.handoff_trigger!==""?r.spacing.md:0},children:[s.jsx("input",{type:"checkbox",checked:!!M.handoff_trigger,onChange:P=>{P.target.checked?_e(M.step_num,"handoff_trigger"," "):(_e(M.step_num,"handoff_trigger",""),_e(M.step_num,"handoff_sequence_key",""))},style:{width:"16px",height:"16px",cursor:"pointer",accentColor:r.colors.accent.warning}}),s.jsx(tO,{size:16,style:{color:r.colors.accent.warning}}),s.jsx("span",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary},children:"Configure Handoff"})]}),!!M.handoff_trigger&&s.jsxs("div",{style:{display:"grid",gridTemplateColumns:R?"1fr":"1fr 1fr",gap:r.spacing.md},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,color:r.colors.text.tertiary,marginBottom:r.spacing.xs},children:"Trigger Word"}),s.jsx("input",{type:"text",value:M.handoff_trigger?.trim()||"",onChange:P=>_e(M.step_num,"handoff_trigger",P.target.value),placeholder:"e.g. electrical",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,color:r.colors.text.tertiary,marginBottom:r.spacing.xs},children:"Target Sequence"}),s.jsxs("select",{value:M.handoff_sequence_key||"",onChange:P=>_e(M.step_num,"handoff_sequence_key",P.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,cursor:"pointer"},children:[s.jsx("option",{value:"",children:"Select a sequence..."}),$.map(P=>s.jsx("option",{value:P.sequence_key,children:P.display_name},P.sequence_key))]})]})]})]})]})]},M.step_num))})]}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.md},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:[s.jsx(Pi,{size:16}),"Tools (",S.tools.length,")"]}),s.jsxs("button",{type:"button",onClick:be,style:{padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:"none",backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[s.jsx(sr,{size:14}),"Add Tool"]})]}),S.tools.length>0&&s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:S.tools.map((M,P)=>s.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:R?"1fr":"1fr 1fr",gap:r.spacing.md,marginBottom:r.spacing.md},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,color:r.colors.text.tertiary,marginBottom:r.spacing.xs},children:"Tool Name *"}),s.jsx("input",{type:"text",value:M.tool_name,onChange:ie=>xe(P,"tool_name",ie.target.value),placeholder:"e.g. Multimeter",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,color:r.colors.text.tertiary,marginBottom:r.spacing.xs},children:"Link"}),s.jsx("input",{type:"text",value:M.tool_link,onChange:ie=>xe(P,"tool_link",ie.target.value),placeholder:"https://...",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary}})]})]}),s.jsxs("div",{style:{marginBottom:r.spacing.md},children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,color:r.colors.text.tertiary,marginBottom:r.spacing.xs},children:"Description"}),s.jsx("input",{type:"text",value:M.tool_description,onChange:ie=>xe(P,"tool_description",ie.target.value),placeholder:"Brief description...",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary}})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,fontSize:r.fontSize.sm,color:r.colors.text.secondary,cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:M.is_required,onChange:ie=>xe(P,"is_required",ie.target.checked),style:{width:"16px",height:"16px",cursor:"pointer",accentColor:r.colors.accent.primary}}),"Required"]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx("label",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:"Step:"}),s.jsxs("select",{value:M.step_num||"",onChange:ie=>xe(P,"step_num",ie.target.value?parseInt(ie.target.value):null),style:{padding:`${r.spacing.xs} ${r.spacing.sm}`,borderRadius:r.radius.sm,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.xs,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,cursor:"pointer"},children:[s.jsx("option",{value:"",children:"All Steps"}),S.steps.map(ie=>s.jsxs("option",{value:ie.step_num,children:["Step ",ie.step_num]},ie.step_num))]})]})]}),s.jsx("button",{type:"button",onClick:()=>je(P),style:{padding:r.spacing.sm,borderRadius:r.radius.md,border:"none",backgroundColor:"transparent",color:r.colors.accent.danger,cursor:"pointer",display:"flex",alignItems:"center"},"aria-label":`Remove tool ${M.tool_name||P+1}`,children:s.jsx(Kr,{size:16})})]})]},P))})]}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.md},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em"},children:[s.jsx(oO,{size:16}),"Parts (",S.parts.length,")"]}),s.jsxs("button",{type:"button",onClick:G,style:{padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:"none",backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse,cursor:"pointer",display:"flex",alignItems:"center",gap:r.spacing.xs,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:[s.jsx(sr,{size:14}),"Add Part"]})]}),S.parts.length>0&&s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:S.parts.map((M,P)=>s.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.light}`},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:R?"1fr":"1fr 1fr",gap:r.spacing.md,marginBottom:r.spacing.md},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,color:r.colors.text.tertiary,marginBottom:r.spacing.xs},children:"Part Name *"}),s.jsx("input",{type:"text",value:M.part_name,onChange:ie=>de(P,"part_name",ie.target.value),placeholder:"e.g. 30A Fuse",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,color:r.colors.text.tertiary,marginBottom:r.spacing.xs},children:"Part Number"}),s.jsx("input",{type:"text",value:M.part_number,onChange:ie=>de(P,"part_number",ie.target.value),placeholder:"e.g. ABC-123",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary}})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:R?"1fr":"1fr 1fr",gap:r.spacing.md,marginBottom:r.spacing.md},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,color:r.colors.text.tertiary,marginBottom:r.spacing.xs},children:"Buy Link"}),s.jsx("input",{type:"text",value:M.part_link,onChange:ie=>de(P,"part_link",ie.target.value),placeholder:"https://...",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,color:r.colors.text.tertiary,marginBottom:r.spacing.xs},children:"Estimated Price ($)"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx(yK,{size:14,style:{position:"absolute",left:r.spacing.sm,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary}}),s.jsx("input",{type:"number",min:"0",step:"0.01",value:M.estimated_price,onChange:ie=>de(P,"estimated_price",ie.target.value),placeholder:"0.00",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"28px",borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary}})]})]})]}),s.jsxs("div",{style:{marginBottom:r.spacing.md},children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium,color:r.colors.text.tertiary,marginBottom:r.spacing.xs},children:"Description"}),s.jsx("input",{type:"text",value:M.part_description,onChange:ie=>de(P,"part_description",ie.target.value),placeholder:"Brief description...",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary}})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,fontSize:r.fontSize.sm,color:r.colors.text.secondary,cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:M.is_required,onChange:ie=>de(P,"is_required",ie.target.checked),style:{width:"16px",height:"16px",cursor:"pointer",accentColor:r.colors.accent.primary}}),"Required"]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx("label",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:"Step:"}),s.jsxs("select",{value:M.step_num||"",onChange:ie=>de(P,"step_num",ie.target.value?parseInt(ie.target.value):null),style:{padding:`${r.spacing.xs} ${r.spacing.sm}`,borderRadius:r.radius.sm,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.xs,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,cursor:"pointer"},children:[s.jsx("option",{value:"",children:"All Steps"}),S.steps.map(ie=>s.jsxs("option",{value:ie.step_num,children:["Step ",ie.step_num]},ie.step_num))]})]})]}),s.jsx("button",{type:"button",onClick:()=>ee(P),style:{padding:r.spacing.sm,borderRadius:r.radius.md,border:"none",backgroundColor:"transparent",color:r.colors.accent.danger,cursor:"pointer",display:"flex",alignItems:"center"},"aria-label":`Remove part ${M.part_name||P+1}`,children:s.jsx(Kr,{size:16})})]})]},P))})]}),S.urls.length>0&&s.jsxs("div",{children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.md},children:[s.jsx(nO,{size:16}),"Extracted URLs (",S.urls.length,")"]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:S.urls.map((M,P)=>s.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,display:"grid",gridTemplateColumns:R?"1fr":"1fr minmax(120px, 150px) auto",gap:r.spacing.md,alignItems:R?"stretch":"center"},children:[s.jsxs("div",{style:{minWidth:0},children:[s.jsx("input",{type:"text",value:M.title,onChange:ie=>Te(P,"title",ie.target.value),placeholder:"Title",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,marginBottom:r.spacing.xs}}),GV(M.url)?s.jsx("a",{href:M.url,target:"_blank",rel:"noopener noreferrer",style:{color:r.colors.accent.primary,fontSize:r.fontSize.xs,textDecoration:"none",wordBreak:"break-all"},children:M.url}):s.jsxs("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,wordBreak:"break-all"},children:[M.url," ",s.jsx("span",{style:{color:r.colors.accent.warning},children:"(invalid URL)"})]})]}),s.jsx("select",{value:M.category,onChange:ie=>Te(P,"category",ie.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,fontSize:r.fontSize.sm,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,cursor:"pointer",width:R?"100%":"auto"},children:VV.map(ie=>s.jsx("option",{value:ie.value,children:ie.label},ie.value))}),s.jsx("button",{type:"button",onClick:()=>W(P),style:{padding:r.spacing.sm,borderRadius:r.radius.md,alignSelf:R?"flex-end":"center",border:"none",backgroundColor:"transparent",color:r.colors.accent.danger,cursor:"pointer",display:"flex",alignItems:"center"},"aria-label":"Remove URL",children:s.jsx(Kr,{size:16})})]},P))})]})]})}),!d&&!m&&s.jsxs("div",{style:{padding:r.spacing.xl,borderTop:`1px solid ${r.colors.border.light}`,display:"flex",flexDirection:R?"column":"row",alignItems:R?"stretch":"center",justifyContent:"space-between",gap:R?r.spacing.lg:0,backgroundColor:r.colors.background.secondary},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:C,onChange:M=>z(M.target.checked),style:{width:"18px",height:"18px",cursor:"pointer",accentColor:r.colors.accent.primary}}),s.jsx("span",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:"Create as Active"})]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,justifyContent:R?"stretch":"flex-end"},children:[s.jsx("button",{type:"button",onClick:n,style:{padding:`${r.spacing.sm} ${r.spacing.xl}`,borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.secondary,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"Cancel"}),s.jsx("button",{type:"button",onClick:ye,disabled:h||!S.sequence_name||S.steps.length===0,style:{padding:`${r.spacing.sm} ${r.spacing.xl}`,borderRadius:r.radius.md,border:"none",backgroundColor:r.colors.chart.purple,color:r.colors.text.inverse,cursor:h||!S.sequence_name||S.steps.length===0?"not-allowed":"pointer",opacity:h||!S.sequence_name||S.steps.length===0?.5:1,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,display:"flex",alignItems:"center",gap:r.spacing.sm},children:h?s.jsxs(s.Fragment,{children:[s.jsx(Dn,{size:16,style:{animation:"spin 1s linear infinite"}}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Sx,{size:16}),"Create Sequence"]})})]})]})]})})},fi="",tn=(e,t=!1)=>{const n={display:"inline-flex",alignItems:"center",justifyContent:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:t?"not-allowed":"pointer",opacity:t?.5:1,transition:`all ${r.transitions.fast}`,border:"none",whiteSpace:"nowrap"},i={primary:{backgroundColor:r.colors.accent.primary,color:r.colors.text.inverse},success:{backgroundColor:r.colors.accent.success,color:r.colors.text.inverse},warning:{backgroundColor:r.colors.accent.warning,color:r.colors.text.inverse},danger:{backgroundColor:r.colors.accent.danger,color:r.colors.text.inverse},secondary:{backgroundColor:r.colors.background.tertiary,color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`},ghost:{backgroundColor:"transparent",color:r.colors.text.secondary},purple:{backgroundColor:r.colors.chart.purple,color:r.colors.text.inverse}};return{...n,...i[e]}},$d=({icon:e,title:t,badge:n,action:i})=>s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r.spacing.lg},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[e&&s.jsx(e,{size:18,style:{color:r.colors.text.tertiary}}),s.jsx("h3",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:t}),n!==void 0&&s.jsx(tt,{variant:"primary",size:"sm",soft:!0,children:n})]}),i]}),Pd=({icon:e,label:t,value:n,href:i,isEmail:l})=>{const c=i?s.jsx("a",{href:i,style:{color:r.colors.accent.primary,fontSize:r.fontSize.sm,textDecoration:"none",wordBreak:l?"break-all":"normal",transition:`color ${r.transitions.fast}`},onMouseEnter:d=>d.currentTarget.style.textDecoration="underline",onMouseLeave:d=>d.currentTarget.style.textDecoration="none",children:n}):s.jsx("span",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:n});return s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} 0`},children:[s.jsx(e,{size:18,style:{color:r.colors.text.tertiary,flexShrink:0}}),t&&s.jsxs("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,minWidth:"60px"},children:[t,":"]}),c]})},QV=1e4,ZV=`
@keyframes resolutionShine {
  0% {
    background-position: -200% center;
    box-shadow: 0 0 0 0 rgba(5, 150, 105, 0);
  }
  15% {
    box-shadow: 0 0 12px 2px rgba(5, 150, 105, 0.4);
  }
  30% {
    background-position: 200% center;
    box-shadow: 0 0 8px 1px rgba(5, 150, 105, 0.3);
  }
  50% {
    box-shadow: 0 0 0 0 rgba(5, 150, 105, 0);
  }
  65% {
    box-shadow: 0 0 10px 2px rgba(5, 150, 105, 0.35);
  }
  80% {
    box-shadow: 0 0 6px 1px rgba(5, 150, 105, 0.2);
  }
  100% {
    background-position: -200% center;
    box-shadow: 0 0 0 0 rgba(5, 150, 105, 0);
  }
}
`;if(typeof document<"u"){const e="resolution-shine-keyframes";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.textContent=ZV,document.head.appendChild(t)}}const JV=()=>{const{uuid:e}=Bf(),t=ii(),{showToast:n}=tu(),{user:i,logout:l,hasRole:c,isSiteAdmin:d}=xn(),p=y.useRef(null),m=y.useRef(null),g=y.useRef(null),h=y.useRef(null),x=y.useRef(null),S=y.useRef(null),j=y.useRef(null),k=y.useRef(null),w=y.useRef(0),C=y.useRef(!0),[z,E]=y.useState(null),[A,$]=y.useState(!0),[T,D]=y.useState(!1),[R,F]=y.useState(!1),[U,le]=y.useState(""),[X,ae]=y.useState(!1),[ye,pe]=y.useState(!1),[_e,B]=y.useState(!1),[Z,ce]=y.useState(!1),[Ce,Te]=y.useState(0),[W,q]=y.useState(!1),[re,be]=y.useState([]),[xe,je]=y.useState({type:null,url:null}),[G,de]=y.useState(!1),[ee,ze]=y.useState([]),[M,P]=y.useState(!1),[ie,ge]=y.useState(!1),[V,Ae]=y.useState(!1),[Le,he]=y.useState(""),[We,te]=y.useState(!1),[Oe,Ye]=y.useState(!1),[nt,Je]=y.useState(!1),[L,we]=y.useState(!1),[Fe,Me]=y.useState(window.innerWidth<768),Ze=y.useCallback(async(I=!1)=>{try{I||$(!0);const Re=await fetch(`${fi}/api/tickets/${e}`,{credentials:"include"});if(Re.status===404){n("Ticket not found","error"),t("/tickets");return}if(!Re.ok)throw new Error("Failed to fetch ticket");const Mt=await Re.json();E(Mt);const _t=Mt.comments?.length||0;I&&w.current>0&&_t>w.current&&ce(!0),w.current=_t,Te(_t)}catch(Re){console.error("Error fetching ticket:",Re),n("Failed to load ticket","error")}finally{$(!1)}},[e,t,n]),Ne=y.useCallback(async()=>{try{const I=await fetch(`${fi}/api/tickets/${e}/attachments`,{credentials:"include"});if(I.ok){const Re=await I.json();be(Re||[])}}catch(I){console.error("Error fetching attachments:",I)}},[e]),yt=y.useMemo(()=>{const I=new Map;return re.forEach(Re=>{I.has(Re.comment_id)||I.set(Re.comment_id,[]),I.get(Re.comment_id).push(Re)}),I},[re]),_r=y.useCallback(async()=>{P(!0);try{const I=await fetch(`${fi}/api/tickets/${e}/similar?limit=5`,{credentials:"include"});if(!I.ok){if(I.status===403){n("You do not have permission to view similar tickets","error");return}if(I.status===404){n("Ticket not found","error");return}throw new Error(`Failed to fetch similar tickets: ${I.status}`)}const Re=await I.json();ze(Re),de(!0)}catch(I){console.error("Error fetching similar tickets:",I),n("Failed to load similar tickets","error")}finally{P(!1)}},[e,n]),Zt=y.useCallback(I=>{le(I),ae(!0),de(!1),ge(!0),setTimeout(()=>{C.current&&ge(!1)},3e3),setTimeout(()=>{C.current&&m.current?.scrollIntoView({behavior:"smooth",block:"center"})},100),n("Resolution copied - review and submit when ready","success")},[n]);y.useEffect(()=>(C.current=!0,()=>{C.current=!1}),[]),y.useEffect(()=>{Ze(),Ne()},[Ze,Ne]),y.useEffect(()=>{if(W)return;const I=setInterval(()=>{Ze(!0)},QV);return()=>clearInterval(I)},[Ze,W]),y.useEffect(()=>{z?.id&&fetch(`${fi}/api/tickets/${z.id}/mark-read`,{method:"POST",credentials:"include"}).catch(I=>console.error("Error marking comments read:",I))},[z?.id]),y.useEffect(()=>{const I=Re=>{Re.key==="Escape"&&(V&&!Oe&&(Ae(!1),x.current?.focus()),G&&(de(!1),g.current?.focus()),xe.type&&(je({type:null,url:null}),j.current?.focus()))};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[V,G,xe.type,Oe]),y.useEffect(()=>{if(!G)return;h.current?.focus();const I=Re=>{if(Re.key!=="Tab")return;const Mt=document.getElementById("similar-tickets-modal");if(!Mt)return;const _t=Mt.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),lt=_t[0],ot=_t[_t.length-1];Re.shiftKey&&document.activeElement===lt?(Re.preventDefault(),ot?.focus()):!Re.shiftKey&&document.activeElement===ot&&(Re.preventDefault(),lt?.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[G]),y.useEffect(()=>{if(!V)return;S.current?.focus();const I=Re=>{if(Re.key!=="Tab")return;const Mt=document.getElementById("resolve-modal");if(!Mt)return;const _t=Mt.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),lt=_t[0],ot=_t[_t.length-1];Re.shiftKey&&document.activeElement===lt?(Re.preventDefault(),ot?.focus()):!Re.shiftKey&&document.activeElement===ot&&(Re.preventDefault(),lt?.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[V]),y.useEffect(()=>{if(!xe.type)return;k.current?.focus();const I=Re=>{if(Re.key!=="Tab")return;const Mt=document.getElementById("lightbox-modal");if(!Mt)return;const _t=Mt.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"]), video'),lt=_t[0],ot=_t[_t.length-1];Re.shiftKey&&document.activeElement===lt?(Re.preventDefault(),ot?.focus()):!Re.shiftKey&&document.activeElement===ot&&(Re.preventDefault(),lt?.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[xe.type]),y.useEffect(()=>{const I=()=>{Me(window.innerWidth<768)};return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]);const zt=()=>{ce(!1),Ze(),setTimeout(()=>{p.current?.scrollIntoView({behavior:"smooth"})},100)},ar=y.useCallback(async I=>{if(I!==z?.priority){B(!0);try{if(!(await fetch(`${fi}/api/tickets/${e}/priority`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({priority:I})})).ok)throw new Error("Failed to update priority");n("Priority updated successfully","success"),await Ze()}catch(Re){console.error("Error updating priority:",Re),n("Failed to update priority","error")}finally{B(!1)}}},[z?.priority,e,n,Ze]),me=y.useCallback(async I=>{if(I===z?.status){n("Status unchanged","info");return}D(!0);try{if(!(await fetch(`${fi}/api/tickets/${e}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:I})})).ok)throw new Error("Failed to update status");n("Status updated successfully","success"),await Ze()}catch(Re){console.error("Error updating status:",Re),n("Failed to update status","error")}finally{D(!1)}},[z?.status,e,n,Ze]),Ve=y.useCallback(async I=>{if(I.preventDefault(),!U.trim()||U.trim().length<10){n("Comment must be at least 10 characters","error");return}pe(!0);try{if(!(await fetch(`${fi}/api/tickets/${e}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({comment_text:U,is_resolution:X})})).ok)throw new Error("Failed to add comment");if(X&&z?.status!=="resolved")try{(await fetch(`${fi}/api/tickets/${e}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"resolved",reason:"Resolution comment added"})})).ok?n("Resolution added and ticket resolved","success"):(console.error("Failed to update ticket status to resolved"),n("Resolution added but failed to update ticket status","warning"))}catch(Mt){console.error("Error updating ticket status:",Mt),n("Resolution added but failed to update ticket status","warning")}else n("Comment added successfully","success");le(""),ae(!1),q(!1),await Ze(),setTimeout(()=>{p.current?.scrollIntoView({behavior:"smooth"})},100)}catch(Re){console.error("Error adding comment:",Re),n("Failed to add comment","error")}finally{pe(!1)}},[U,X,z?.status,e,n,Ze]),qt=y.useCallback(async()=>{D(!0);try{const I=await fetch(`${fi}/api/tickets/${e}/assign-to-me`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!I.ok){let Re;switch(I.status){case 403:Re="You do not have permission to assign this ticket";break;case 404:Re="Ticket not found. It may have been deleted.";break;case 409:Re="This ticket has already been assigned to someone else";break;default:Re="Failed to assign ticket. Please try again."}throw new Error(Re)}n("Ticket assigned to you","success"),await Ze()}catch(I){console.error("Error assigning ticket:",I),n(I.message||"Failed to assign ticket","error")}finally{D(!1)}},[e,n,Ze]),vr=y.useCallback(()=>{z?.resolution||z?.comments?.some(Re=>Re.is_resolution)?me("resolved"):(he(""),te(!1),Je(!1),Ae(!0))},[z?.resolution,z?.comments,me]),ur=y.useCallback(async()=>{Ye(!0);try{if(Le.trim()&&!We&&!nt){if(!(await fetch(`${fi}/api/tickets/${e}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({comment_text:Le,is_resolution:!0})})).ok)throw new Error("Failed to add resolution comment");Je(!0)}if(!(await fetch(`${fi}/api/tickets/${e}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"resolved"})})).ok)throw new Error("Failed to update status");n("Ticket resolved successfully","success"),Ae(!1),he(""),te(!1),Je(!1),await Ze()}catch(I){console.error("Error resolving ticket:",I),nt&&I.message==="Failed to update status"?n("Resolution comment saved. Failed to update status - please try again.","error"):n(I.message||"Failed to resolve ticket","error")}finally{Ye(!1)}},[Le,We,nt,e,n,Ze]),pt=I=>({open:{variant:"info",icon:Mn,label:"Open"},assigned:{variant:"secondary",icon:mc,label:"Assigned"},in_progress:{variant:"warning",icon:Pi,label:"In Progress"},waiting_customer:{variant:"warning",icon:Ei,label:"Waiting on Customer"},resolved:{variant:"success",icon:Kt,label:"Resolved"},closed:{variant:"default",icon:Nt,label:"Closed"},cancelled:{variant:"danger",icon:Oc,label:"Cancelled"}})[I]||{variant:"default",icon:Mn,label:I},Tr=I=>({urgent:{variant:"danger",icon:xi,label:"Urgent"},high:{variant:"warning",icon:Vs,label:"High"},normal:{variant:"info",icon:Ya,label:"Normal"},low:{variant:"default",icon:Ys,label:"Low"}})[I]||{variant:"default",icon:Ya,label:I},J=I=>I?{high:{variant:"danger",label:"High Urgency",pulse:!0},medium:{variant:"warning",label:"Medium Urgency",pulse:!1},low:{variant:"success",label:"Low Urgency",pulse:!1}}[I]||{variant:"default",label:I,pulse:!1}:null,Ee=I=>{if(!I)return"N/A";const Re=new Date(I),_t=new Date-Re,lt=Math.floor(_t/6e4),ot=Math.floor(_t/36e5),gt=Math.floor(_t/864e5);return lt<1?"Just now":lt<60?`${lt} min${lt>1?"s":""} ago`:ot<24?`${ot} hour${ot>1?"s":""} ago`:gt<7?`${gt} day${gt>1?"s":""} ago`:Re.toLocaleDateString()+" "+Re.toLocaleTimeString()},Ue=I=>I?new Date(I).toLocaleString():"N/A",Vt=I=>({customer:"C",tech:"T",system:"S"})[I]||"?",gr={wrapper:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.page},main:{marginLeft:Fe?0:"260px",flex:1,padding:Fe?r.spacing.lg:r.spacing["2xl"],maxWidth:"1400px"}};if(A)return s.jsxs("div",{style:gr.wrapper,children:[s.jsx(zr,{user:i,onLogout:l,hasRole:c,isSiteAdmin:d}),s.jsx("div",{style:gr.main,children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xl},children:[s.jsx("div",{style:{height:"180px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.xl,animation:"pulse 2s ease-in-out infinite"}}),s.jsx("div",{style:{height:"120px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.xl,animation:"pulse 2s ease-in-out infinite",animationDelay:"0.1s"}}),s.jsx("div",{style:{height:"400px",backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.xl,animation:"pulse 2s ease-in-out infinite",animationDelay:"0.2s"}})]})})]});if(!z)return s.jsxs("div",{style:gr.wrapper,children:[s.jsx(zr,{user:i,onLogout:l,hasRole:c,isSiteAdmin:d}),s.jsx("div",{style:{...gr.main,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsxs("div",{style:{textAlign:"center",maxWidth:"400px"},children:[s.jsx("div",{style:{width:"80px",height:"80px",borderRadius:r.radius.full,backgroundColor:r.colors.background.tertiary,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",marginBottom:r.spacing.xl},children:s.jsx(mn,{size:40,style:{color:r.colors.text.tertiary}})}),s.jsx("h2",{style:{fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,marginBottom:r.spacing.sm},children:"Ticket Not Found"}),s.jsx("p",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.base,marginBottom:r.spacing.xl,lineHeight:r.lineHeight.relaxed},children:"The ticket you are looking for does not exist or you do not have permission to view it."}),s.jsxs("button",{onClick:()=>t("/tickets"),style:tn("primary"),onMouseEnter:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primaryHover,onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[s.jsx($f,{size:16}),"Back to Tickets"]})]})})]});const vn=pt(z.status),an=Tr(z.priority),ji=J(z.urgency),ko=vn.icon,Co=an.icon,ai={page:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.page},main:{marginLeft:Fe?0:"260px",flex:1,padding:Fe?r.spacing.lg:r.spacing["2xl"],display:"flex",flexDirection:"column",gap:Fe?r.spacing.lg:r.spacing.xl,maxWidth:"1400px"},newCommentsBanner:{padding:Fe?r.spacing.md:r.spacing.lg,backgroundColor:r.colors.accent.primaryLight,border:`1px solid ${r.colors.accent.primary}20`,borderRadius:r.radius.lg,display:"flex",alignItems:Fe?"flex-start":"center",justifyContent:"space-between",flexDirection:Fe?"column":"row",gap:r.spacing.md}};return s.jsxs("div",{style:ai.page,children:[s.jsx(zr,{user:i,onLogout:l,hasRole:c,isSiteAdmin:d}),s.jsxs("div",{style:ai.main,children:[Z&&s.jsxs("div",{style:ai.newCommentsBanner,children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(Ei,{size:20,style:{color:r.colors.accent.primary}}),s.jsx("span",{style:{color:r.colors.accent.primary,fontWeight:r.fontWeight.medium,fontSize:r.fontSize.sm},children:"New comments available"})]}),s.jsx("button",{onClick:zt,style:tn("primary"),onMouseEnter:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primaryHover,onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primary,children:"View New Comments"})]}),s.jsx(rt,{children:s.jsxs("div",{style:{padding:r.spacing.xl},children:[s.jsxs("button",{onClick:()=>t("/tickets"),style:{...tn("ghost"),padding:`${r.spacing.xs} 0`,marginBottom:r.spacing.lg,gap:r.spacing.xs},onMouseEnter:I=>I.currentTarget.style.color=r.colors.text.primary,onMouseLeave:I=>I.currentTarget.style.color=r.colors.text.secondary,children:[s.jsx($f,{size:16}),"Back to Tickets"]}),s.jsxs("div",{style:{marginBottom:r.spacing.xl},children:[s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexWrap:"wrap",gap:r.spacing.md,marginBottom:r.spacing.sm},children:[s.jsxs("h1",{style:{color:r.colors.text.primary,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,margin:0,lineHeight:r.lineHeight.tight},children:["Ticket #",z.ticket_number]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,flexWrap:"wrap"},children:[s.jsx(tt,{variant:vn.variant,size:"md",icon:s.jsx(ko,{}),children:vn.label}),ji&&s.jsx(tt,{variant:ji.variant,size:"md",style:{animation:ji.pulse?"pulse 2s infinite":"none"},children:ji.label})]})]}),s.jsx("h2",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium,margin:0,marginBottom:r.spacing.md,lineHeight:r.lineHeight.normal},children:z.subject}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg,flexWrap:"wrap"},children:[z.van_info&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[s.jsx(ia,{size:14}),s.jsx("span",{children:z.van_info})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[s.jsx(Mn,{size:14}),s.jsxs("span",{children:["Created ",Ue(z.created_at)]})]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:r.spacing.md,paddingTop:r.spacing.lg,borderTop:`1px solid ${r.colors.border.light}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"Priority:"}),s.jsxs("div",{style:{position:"relative",display:"inline-flex",alignItems:"center"},children:[s.jsxs("select",{"aria-label":"Priority",value:z.priority,onChange:I=>ar(I.target.value),disabled:_e,style:{padding:`${r.spacing.xs} ${r.spacing["2xl"]} ${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:_e?"not-allowed":"pointer",opacity:_e?.5:1,outline:"none",appearance:"none",transition:`all ${r.transitions.fast}`},onFocus:I=>I.currentTarget.style.borderColor=r.colors.border.focus,onBlur:I=>I.currentTarget.style.borderColor=r.colors.border.medium,children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"normal",children:"Normal"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"urgent",children:"Urgent"})]}),s.jsx("div",{style:{position:"absolute",right:r.spacing.sm,pointerEvents:"none",display:"flex",alignItems:"center"},children:s.jsx(Co,{size:14,style:{color:an.variant==="danger"?r.colors.accent.danger:an.variant==="warning"?r.colors.accent.warning:an.variant==="info"?r.colors.accent.info:r.colors.text.tertiary}})})]})]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,flexWrap:"wrap"},children:[(!z.assigned_to_name||z.assigned_to_name!==i?.email)&&s.jsxs("button",{onClick:qt,disabled:T,style:tn("primary",T),onMouseEnter:I=>!T&&(I.currentTarget.style.backgroundColor=r.colors.accent.primaryHover),onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[s.jsx(mc,{size:16}),T?"Assigning...":z.assigned_to_name?"Reassign to Me":"Assign to Me"]}),z.status!=="in_progress"&&z.status!=="resolved"&&z.status!=="closed"&&s.jsxs("button",{onClick:()=>me("in_progress"),disabled:T,style:tn("warning",T),onMouseEnter:I=>!T&&(I.currentTarget.style.opacity="0.9"),onMouseLeave:I=>I.currentTarget.style.opacity=T?"0.5":"1",children:[s.jsx(Pi,{size:16}),"Start Work"]}),z.status==="in_progress"&&s.jsxs("button",{onClick:()=>me("waiting_customer"),disabled:T,style:{...tn("secondary",T),backgroundColor:r.colors.accent.warningLight,color:r.colors.accent.warning,border:`1px solid ${r.colors.accent.warning}40`},onMouseEnter:I=>!T&&(I.currentTarget.style.backgroundColor=r.colors.accent.warning)&&(I.currentTarget.style.color=r.colors.text.inverse),onMouseLeave:I=>{I.currentTarget.style.backgroundColor=r.colors.accent.warningLight,I.currentTarget.style.color=r.colors.accent.warning},children:[s.jsx(Ei,{size:16}),"Waiting on Customer"]}),z.status!=="resolved"&&z.status!=="closed"&&s.jsxs("button",{ref:x,onClick:vr,disabled:T,style:tn("success",T),onMouseEnter:I=>!T&&(I.currentTarget.style.backgroundColor=r.colors.accent.successHover),onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.accent.success,children:[s.jsx(Kt,{size:16,"aria-hidden":"true"}),"Resolve Ticket"]}),z.status==="resolved"&&s.jsxs("button",{onClick:()=>me("closed"),disabled:T,style:{...tn("secondary",T)},onMouseEnter:I=>!T&&(I.currentTarget.style.backgroundColor=r.colors.background.hover),onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.background.tertiary,children:[s.jsx(Nt,{size:16}),"Close Ticket"]}),s.jsxs("button",{ref:g,onClick:_r,disabled:M,style:tn("purple",M),onMouseEnter:I=>!M&&(I.currentTarget.style.opacity="0.9"),onMouseLeave:I=>I.currentTarget.style.opacity=M?"0.5":"1",children:[s.jsx(py,{size:16,"aria-hidden":"true"}),s.jsx("span",{"aria-live":"polite",children:M?"Searching...":"Suggest Solutions"})]}),["resolved","closed"].includes(z.status)&&s.jsxs("button",{onClick:()=>we(!0),style:{...tn("purple",!1),backgroundColor:r.colors.chart.purple},onMouseEnter:I=>I.currentTarget.style.opacity="0.9",onMouseLeave:I=>I.currentTarget.style.opacity="1",title:"Convert this resolved ticket into a reusable troubleshooting sequence",children:[s.jsx(Sx,{size:16,"aria-hidden":"true"}),"Convert to Sequence"]})]})]})]})}),s.jsx(rt,{children:s.jsxs("div",{style:{padding:r.spacing.xl},children:[s.jsx($d,{icon:Va,title:"Ticket Details"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:r.spacing.xl},children:[s.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg},children:[s.jsx("h4",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.md},children:"Customer"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xs},children:[s.jsx(Pd,{icon:Va,value:z.customer_name||"N/A"}),z.customer_phone&&s.jsx(Pd,{icon:cl,value:z.customer_phone,href:`tel:${z.customer_phone}`}),z.customer_email&&s.jsx(Pd,{icon:Sp,value:z.customer_email,href:`mailto:${z.customer_email}`,isEmail:!0})]})]}),s.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg},children:[s.jsx("h4",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.md},children:"Vehicle"}),z.van_info?s.jsx(Pd,{icon:ia,value:z.van_info}):s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm,fontStyle:"italic"},children:"No vehicle assigned"})]}),s.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg},children:[s.jsx("h4",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.md},children:"Assigned To"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx("div",{style:{width:"32px",height:"32px",borderRadius:r.radius.full,backgroundColor:z.assigned_to_name?r.colors.accent.primaryLight:r.colors.background.hover,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:s.jsx(mc,{size:16,style:{color:z.assigned_to_name?r.colors.accent.primary:r.colors.text.tertiary}})}),s.jsxs("div",{children:[s.jsx("div",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:z.assigned_to_name||"Unassigned"}),z.assigned_at&&s.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs},children:Ee(z.assigned_at)})]})]})]})]})]})}),z.description&&z.description!==z.subject&&s.jsx(rt,{children:s.jsxs("div",{style:{padding:r.spacing.xl},children:[s.jsx($d,{icon:JE,title:"Description"}),s.jsx("div",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,backgroundColor:r.colors.background.tertiary,padding:r.spacing.lg,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.accent.primary}`},children:z.description})]})}),(z.category_name||z.session_id||z.related_ticket_id)&&s.jsx(rt,{children:s.jsxs("div",{style:{padding:r.spacing.xl},children:[s.jsx($d,{icon:nO,title:"Related"}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.lg,flexWrap:"wrap"},children:[z.category_name&&s.jsx(tt,{variant:"primary",size:"md",soft:!0,children:z.category_name}),z.session_id&&s.jsxs("a",{href:`/sessions/${z.session_id}`,style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,textDecoration:"none",padding:`${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.accent.primaryLight,borderRadius:r.radius.md,transition:`all ${r.transitions.fast}`},onMouseEnter:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primaryMuted,onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primaryLight,children:[s.jsx(Mi,{size:14}),"View Session"]}),z.related_ticket_id&&s.jsxs("a",{href:`/tickets/${z.related_ticket_id}`,style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,textDecoration:"none",padding:`${r.spacing.xs} ${r.spacing.md}`,backgroundColor:r.colors.accent.primaryLight,borderRadius:r.radius.md,transition:`all ${r.transitions.fast}`},onMouseEnter:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primaryMuted,onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primaryLight,children:[s.jsx(Mi,{size:14}),"Related Ticket #",z.related_ticket_number]})]})]})}),(z.status==="resolved"||z.status==="closed")&&z.resolution&&s.jsx(rt,{style:{backgroundColor:r.colors.accent.successLight,border:`1px solid ${r.colors.accent.success}30`},children:s.jsxs("div",{style:{padding:r.spacing.xl},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:r.spacing.lg},children:[s.jsx("div",{style:{width:"36px",height:"36px",borderRadius:r.radius.full,backgroundColor:r.colors.accent.success,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Kt,{size:20,style:{color:r.colors.text.inverse}})}),s.jsxs("div",{children:[s.jsx("h3",{style:{color:r.colors.accent.success,fontSize:r.fontSize.base,fontWeight:r.fontWeight.semibold,margin:0},children:"Resolution"}),z.resolved_by&&s.jsxs("p",{style:{color:r.colors.accent.success,fontSize:r.fontSize.xs,margin:0,opacity:.8},children:["by ",z.resolved_by," ",z.resolved_at&&` - ${Ee(z.resolved_at)}`]})]})]}),s.jsx("div",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,padding:r.spacing.lg,backgroundColor:r.colors.background.secondary,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.accent.success}`},children:z.resolution})]})}),s.jsx(rt,{style:{display:"flex",flexDirection:"column",flexGrow:1},children:s.jsxs("div",{style:{padding:r.spacing.xl},children:[s.jsx($d,{icon:Ei,title:"Activity & Comments",badge:z.comments?.length||0}),s.jsx("div",{style:{maxHeight:"600px",overflowY:"auto",marginBottom:r.spacing.xl,paddingRight:r.spacing.sm},children:z.comments&&z.comments.length>0?s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:[z.comments.map(I=>{const Re=I.author_type==="customer",Mt=I.author_type==="tech";return I.author_type,s.jsx("div",{style:{padding:r.spacing.lg,borderRadius:r.radius.lg,backgroundColor:Re?r.colors.accent.primaryLight:Mt?r.colors.background.secondary:r.colors.accent.warningLight,border:`1px solid ${Re?`${r.colors.accent.primary}20`:Mt?r.colors.border.light:`${r.colors.accent.warning}30`}`,transition:`all ${r.transitions.fast}`},children:s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md},children:[s.jsx("div",{style:{width:"40px",height:"40px",borderRadius:r.radius.full,display:"flex",alignItems:"center",justifyContent:"center",color:r.colors.text.inverse,fontWeight:r.fontWeight.bold,fontSize:r.fontSize.sm,backgroundColor:Re?r.colors.accent.info:Mt?r.colors.accent.primary:r.colors.accent.warning,flexShrink:0},children:Vt(I.author_type)}),s.jsxs("div",{style:{flex:1,minWidth:0},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:r.spacing.sm,flexWrap:"wrap"},children:[s.jsx("span",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold},children:I.author_name}),s.jsx(tt,{variant:Re?"info":Mt?"primary":"warning",size:"sm",soft:!0,children:Re?"Customer":Mt?"Tech":"System"}),I.is_resolution&&s.jsx(tt,{variant:"success",size:"sm",icon:s.jsx(Kt,{}),children:"Resolution"}),s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs},children:Ee(I.created_at)})]}),s.jsx("p",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,margin:0,wordBreak:"break-word"},children:I.comment_text}),(()=>{const _t=yt.get(I.id)||[];return _t.length===0?null:s.jsx("div",{style:{marginTop:r.spacing.md,display:"flex",flexWrap:"wrap",gap:r.spacing.sm},children:_t.map(lt=>{const ot=lt.mime_type?.startsWith("video/"),gt=lt.mime_type?.startsWith("image/");return s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.xs},children:[ot?s.jsxs("div",{role:"button",tabIndex:0,"aria-label":`Play video: ${lt.original_filename||"Video attachment"}`,onClick:ft=>{j.current=ft.currentTarget,je({type:"video",url:lt.public_url})},onKeyDown:ft=>{(ft.key==="Enter"||ft.key===" ")&&(ft.preventDefault(),j.current=ft.currentTarget,je({type:"video",url:lt.public_url}))},style:{position:"relative",cursor:"pointer",borderRadius:r.radius.md,overflow:"hidden",border:`1px solid ${r.colors.border.medium}`,transition:`all ${r.transitions.fast}`},onMouseOver:ft=>{ft.currentTarget.style.transform="scale(1.02)",ft.currentTarget.style.boxShadow=r.shadows.md},onMouseOut:ft=>{ft.currentTarget.style.transform="scale(1)",ft.currentTarget.style.boxShadow="none"},children:[s.jsx("video",{src:lt.public_url,"aria-hidden":"true",style:{maxWidth:"280px",maxHeight:"180px",display:"block"}}),s.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",transition:`background-color ${r.transitions.fast}`},children:s.jsx("div",{style:{width:"48px",height:"48px",borderRadius:r.radius.full,backgroundColor:r.colors.background.secondary,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:r.shadows.md},children:s.jsx(Lf,{size:20,fill:r.colors.accent.primary,color:r.colors.accent.primary})})})]}):gt?s.jsx("img",{src:lt.public_url,alt:lt.original_filename||"Attachment",role:"button",tabIndex:0,onClick:ft=>{j.current=ft.currentTarget,je({type:"image",url:lt.public_url})},onKeyDown:ft=>{(ft.key==="Enter"||ft.key===" ")&&(ft.preventDefault(),j.current=ft.currentTarget,je({type:"image",url:lt.public_url}))},style:{maxWidth:"180px",maxHeight:"140px",objectFit:"cover",borderRadius:r.radius.md,border:`1px solid ${r.colors.border.medium}`,cursor:"pointer",transition:`all ${r.transitions.fast}`},onMouseOver:ft=>{ft.target.style.transform="scale(1.02)",ft.target.style.boxShadow=r.shadows.md},onMouseOut:ft=>{ft.target.style.transform="scale(1)",ft.target.style.boxShadow="none"}}):s.jsxs("a",{href:lt.public_url,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:r.spacing.xs,color:r.colors.accent.primary,fontSize:r.fontSize.sm,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.primaryLight,borderRadius:r.radius.md,textDecoration:"none"},children:[s.jsx(Mi,{size:14}),lt.original_filename||"Download attachment"]}),s.jsxs("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(vx,{size:12}),lt.uploaded_by_type==="customer"?"From customer":"From technician"]})]},lt.id)})})})()]})]})},I.id)}),s.jsx("div",{ref:p})]}):s.jsxs("div",{style:{textAlign:"center",padding:r.spacing["3xl"],color:r.colors.text.tertiary},children:[s.jsx("div",{style:{width:"64px",height:"64px",borderRadius:r.radius.full,backgroundColor:r.colors.background.tertiary,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",marginBottom:r.spacing.lg},children:s.jsx(Ei,{size:28,style:{opacity:.4}})}),s.jsx("p",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,margin:0,marginBottom:r.spacing.xs},children:"No activity yet"}),s.jsx("p",{style:{fontSize:r.fontSize.sm,margin:0},children:"Be the first to add a comment"})]})}),s.jsxs("div",{ref:m,style:{paddingTop:r.spacing.xl,borderTop:`1px solid ${r.colors.border.light}`},children:[s.jsx("label",{htmlFor:"comment-textarea",style:{display:"block",fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,fontSize:r.fontSize.sm,marginBottom:r.spacing.md},children:"Add Comment"}),s.jsxs("form",{onSubmit:Ve,style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[s.jsxs("div",{children:[s.jsx("textarea",{id:"comment-textarea",value:U,onChange:I=>le(I.target.value),onFocus:()=>q(!0),placeholder:"Write a comment...",rows:4,maxLength:2e3,required:!0,style:{width:"100%",padding:r.spacing.lg,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.lg,fontSize:r.fontSize.sm,outline:"none",resize:"vertical",fontFamily:"inherit",lineHeight:r.lineHeight.relaxed,transition:`border-color ${r.transitions.fast}`,boxSizing:"border-box"},onFocusCapture:I=>I.currentTarget.style.borderColor=r.colors.border.focus,onBlur:I=>I.currentTarget.style.borderColor=r.colors.border.medium}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:r.spacing.sm},children:[s.jsx("p",{style:{fontSize:r.fontSize.xs,color:U.length<10?r.colors.text.tertiary:r.colors.accent.success,margin:0},children:U.length<10?`${10-U.length} more characters needed`:"Ready to submit"}),s.jsxs("p",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,margin:0},children:[U.length,"/2000"]})]})]}),s.jsxs("div",{onClick:()=>ae(!X),role:"checkbox","aria-checked":X,tabIndex:0,onKeyDown:I=>{(I.key===" "||I.key==="Enter")&&(I.preventDefault(),ae(!X))},style:{display:"flex",alignItems:"center",gap:r.spacing.md,padding:r.spacing.lg,backgroundColor:X?r.colors.accent.successLight:r.colors.background.secondary,border:`2px solid ${X?r.colors.accent.success:r.colors.border.light}`,borderRadius:r.radius.lg,cursor:"pointer",transition:`all ${r.transitions.fast}`,animation:ie?"resolutionShine 1.2s ease-in-out 2":"none",backgroundImage:ie?"linear-gradient(90deg, transparent 0%, rgba(5, 150, 105, 0.15) 25%, rgba(5, 150, 105, 0.3) 50%, rgba(5, 150, 105, 0.15) 75%, transparent 100%)":"none",backgroundSize:ie?"200% 100%":"auto",transform:ie?"scale(1.01)":"scale(1)"},children:[s.jsx("div",{style:{width:"22px",height:"22px",borderRadius:r.radius.sm,border:`2px solid ${X?r.colors.accent.success:r.colors.border.medium}`,backgroundColor:X?r.colors.accent.success:"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:`all ${r.transitions.fast}`},children:X&&s.jsx(Kt,{size:14,style:{color:r.colors.text.inverse}})}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:X?r.colors.accent.success:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Mark as Resolution"}),s.jsx("div",{style:{fontSize:r.fontSize.xs,color:X?r.colors.accent.success:r.colors.text.tertiary,lineHeight:r.lineHeight.normal},children:"This comment will be saved as the official resolution for this ticket"})]})]}),s.jsxs("button",{type:"submit",disabled:ye||U.trim().length<10,style:{...tn("primary",ye||U.trim().length<10),alignSelf:"flex-start",padding:`${r.spacing.md} ${r.spacing.xl}`},onMouseEnter:I=>!(ye||U.trim().length<10)&&(I.currentTarget.style.backgroundColor=r.colors.accent.primaryHover),onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[s.jsx(oY,{size:16}),ye?"Adding...":"Add Comment"]})]})]})]})}),z.status_history&&z.status_history.length>0&&s.jsx(rt,{children:s.jsxs("div",{style:{padding:r.spacing.xl},children:[s.jsxs("button",{onClick:()=>F(!R),"aria-expanded":R,style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",textAlign:"left",background:"none",border:"none",cursor:"pointer",padding:0},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(Mn,{size:18,style:{color:r.colors.text.tertiary}}),s.jsx("h3",{style:{color:r.colors.text.primary,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:"Status History"}),s.jsx(tt,{variant:"default",size:"sm",children:z.status_history.length})]}),s.jsx("div",{style:{width:"28px",height:"28px",borderRadius:r.radius.md,backgroundColor:r.colors.background.tertiary,display:"flex",alignItems:"center",justifyContent:"center",transition:`transform ${r.transitions.fast}`,transform:R?"rotate(180deg)":"rotate(0deg)"},children:s.jsx(ei,{size:16,style:{color:r.colors.text.tertiary}})})]}),R&&s.jsx("div",{style:{marginTop:r.spacing.xl,display:"flex",flexDirection:"column",gap:r.spacing.sm},children:z.status_history.map((I,Re)=>s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md,padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.border.medium}`},children:[s.jsx("div",{style:{width:"32px",height:"32px",borderRadius:r.radius.full,backgroundColor:r.colors.background.secondary,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:s.jsx(Mn,{size:14,style:{color:r.colors.text.tertiary}})}),s.jsxs("div",{style:{flex:1,minWidth:0},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,flexWrap:"wrap",marginBottom:r.spacing.sm},children:[s.jsx(tt,{variant:"default",size:"sm",children:I.from_status}),s.jsx("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.lg},children:""}),s.jsx(tt,{variant:"primary",size:"sm",soft:!0,children:I.to_status})]}),s.jsxs("p",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,margin:0},children:["by ",I.changed_by_name," - ",Ee(I.changed_at)]}),I.reason&&s.jsxs("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm,fontStyle:"italic",margin:0,marginTop:r.spacing.sm,padding:r.spacing.sm,backgroundColor:r.colors.background.secondary,borderRadius:r.radius.md},children:["",I.reason,""]})]})]},Re))})]})})]}),xe.type&&s.jsxs("div",{id:"lightbox-modal",onClick:()=>{je({type:null,url:null}),j.current?.focus()},role:"dialog","aria-modal":"true","aria-label":"Media viewer",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.95)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:r.zIndex.modal+10,cursor:"pointer"},children:[s.jsx("button",{ref:k,onClick:()=>{je({type:null,url:null}),j.current?.focus()},"aria-label":"Close media viewer",style:{position:"absolute",top:r.spacing.xl,right:r.spacing.xl,backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:r.radius.full,width:"44px",height:"44px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:r.colors.text.inverse,transition:`all ${r.transitions.fast}`},onMouseEnter:I=>I.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)",onMouseLeave:I=>I.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)",children:s.jsx(Nt,{size:20})}),xe.type==="image"?s.jsx("img",{src:xe.url,alt:"Full size",onClick:I=>I.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain",borderRadius:r.radius.lg,boxShadow:r.shadows["2xl"]}}):s.jsx("video",{src:xe.url,controls:!0,autoPlay:!0,onClick:I=>I.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh",borderRadius:r.radius.lg,boxShadow:r.shadows["2xl"]}})]}),G&&s.jsx("div",{onClick:()=>{de(!1),g.current?.focus()},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:r.zIndex.modal,padding:Fe?0:r.spacing.xl,backdropFilter:"blur(4px)"},children:s.jsxs("div",{id:"similar-tickets-modal",onClick:I=>I.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"similar-tickets-title",style:{backgroundColor:r.colors.background.secondary,borderRadius:Fe?0:r.radius.xl,maxWidth:Fe?"100%":"900px",width:"100%",maxHeight:Fe?"100vh":"85vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:r.shadows["2xl"]},children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:r.colors.background.secondary},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx("div",{style:{width:"44px",height:"44px",borderRadius:r.radius.lg,backgroundColor:`${r.colors.chart.purple}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(py,{size:22,style:{color:r.colors.chart.purple},"aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("h2",{id:"similar-tickets-title",style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Suggested Solutions"}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:"Similar resolved tickets that may help"})]})]}),s.jsx("button",{ref:h,onClick:()=>{de(!1),g.current?.focus()},"aria-label":"Close similar tickets modal",style:{backgroundColor:r.colors.background.tertiary,border:"none",cursor:"pointer",color:r.colors.text.secondary,padding:r.spacing.sm,borderRadius:r.radius.md,display:"flex",alignItems:"center",justifyContent:"center",transition:`all ${r.transitions.fast}`},onMouseEnter:I=>{I.currentTarget.style.backgroundColor=r.colors.background.hover,I.currentTarget.style.color=r.colors.text.primary},onMouseLeave:I=>{I.currentTarget.style.backgroundColor=r.colors.background.tertiary,I.currentTarget.style.color=r.colors.text.secondary},children:s.jsx(Nt,{size:20,"aria-hidden":"true"})})]}),s.jsx("div",{style:{padding:r.spacing.xl,overflowY:"auto",flex:1,backgroundColor:r.colors.background.tertiary},children:ee.length===0?s.jsxs("div",{style:{textAlign:"center",padding:r.spacing["3xl"],color:r.colors.text.tertiary},children:[s.jsx("div",{style:{width:"80px",height:"80px",borderRadius:r.radius.full,backgroundColor:r.colors.background.secondary,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",marginBottom:r.spacing.xl},children:s.jsx(py,{size:36,style:{opacity:.3},"aria-hidden":"true"})}),s.jsx("p",{style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.sm},children:"No similar tickets found"}),s.jsx("p",{style:{fontSize:r.fontSize.sm,margin:0},children:"There are no resolved tickets similar to this one."})]}):s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:ee.map(I=>s.jsxs("div",{style:{padding:r.spacing.xl,backgroundColor:r.colors.background.secondary,borderRadius:r.radius.xl,border:`1px solid ${r.colors.border.light}`,boxShadow:r.shadows.sm},children:[s.jsx("div",{style:{marginBottom:r.spacing.lg},children:s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:r.spacing.md,marginBottom:r.spacing.sm},children:[s.jsxs("div",{style:{flex:1},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:r.spacing.xs},children:[s.jsxs("span",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.bold,color:r.colors.accent.primary},children:["#",I.ticket_number]}),s.jsx(tt,{variant:"success",size:"sm",icon:s.jsx(Kt,{}),children:"Resolved"}),I.category_name&&s.jsx(tt,{variant:"primary",size:"sm",soft:!0,children:I.category_name})]}),s.jsx("h3",{style:{fontSize:r.fontSize.base,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0,lineHeight:r.lineHeight.normal},children:I.subject})]}),s.jsxs("button",{onClick:()=>{de(!1),t(`/tickets/${I.id}`)},"aria-label":`View full details for ticket #${I.ticket_number}`,style:{...tn("secondary"),padding:`${r.spacing.xs} ${r.spacing.md}`,fontSize:r.fontSize.xs},onMouseEnter:Re=>{Re.currentTarget.style.backgroundColor=r.colors.accent.primary,Re.currentTarget.style.color=r.colors.text.inverse,Re.currentTarget.style.borderColor=r.colors.accent.primary},onMouseLeave:Re=>{Re.currentTarget.style.backgroundColor=r.colors.background.tertiary,Re.currentTarget.style.color=r.colors.text.secondary,Re.currentTarget.style.borderColor=r.colors.border.medium},children:[s.jsx(Mi,{size:12,"aria-hidden":"true"}),"View"]})]})}),I.description&&s.jsxs("div",{style:{marginBottom:r.spacing.lg,padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.border.medium}`},children:[s.jsx("h4",{style:{fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.tertiary,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:r.spacing.sm},children:"Original Issue"}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,margin:0},children:I.description.length>400?I.description.substring(0,400)+"...":I.description})]}),I.resolution?s.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.accent.successLight,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.accent.success}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,marginBottom:r.spacing.sm},children:[s.jsx(Kt,{size:16,style:{color:r.colors.accent.success},"aria-hidden":"true"}),s.jsx("h4",{style:{fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.accent.success,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:"Resolution"})]}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,whiteSpace:"pre-wrap",lineHeight:r.lineHeight.relaxed,margin:0,marginBottom:r.spacing.lg},children:I.resolution}),s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:r.spacing.md,borderTop:`1px solid ${r.colors.accent.success}30`},children:[I.resolved_at&&s.jsxs("p",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.success,margin:0},children:["Resolved ",Ee(I.resolved_at)]}),s.jsxs("button",{onClick:()=>{Zt(I.resolution)},"aria-label":`Use resolution from ticket #${I.ticket_number}`,style:tn("success"),onMouseEnter:Re=>{Re.currentTarget.style.backgroundColor=r.colors.accent.successHover,Re.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:Re=>{Re.currentTarget.style.backgroundColor=r.colors.accent.success,Re.currentTarget.style.transform="translateY(0)"},children:[s.jsx(Kt,{size:14,"aria-hidden":"true"}),"Use This Solution"]})]})]}):s.jsxs("div",{style:{padding:r.spacing.lg,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.lg,borderLeft:`3px solid ${r.colors.border.medium}`},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,marginBottom:r.spacing.sm},children:[s.jsx(mn,{size:16,style:{color:r.colors.text.tertiary},"aria-hidden":"true"}),s.jsx("h4",{style:{fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.tertiary,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:"Resolution"})]}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,fontStyle:"italic",margin:0},children:"No resolution recorded for this ticket."}),I.resolved_at&&s.jsxs("p",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,margin:0,marginTop:r.spacing.sm},children:["Closed ",Ee(I.resolved_at)]})]})]},I.id))})})]})}),V&&s.jsx("div",{onClick:()=>{Oe||(Ae(!1),x.current?.focus())},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:r.zIndex.modal,padding:r.spacing.xl,backdropFilter:"blur(4px)"},children:s.jsxs("div",{id:"resolve-modal",onClick:I=>I.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"resolve-modal-title",style:{backgroundColor:r.colors.background.secondary,borderRadius:r.radius.xl,maxWidth:"520px",width:"100%",overflow:"hidden",boxShadow:r.shadows["2xl"]},children:[s.jsx("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx("div",{style:{width:"44px",height:"44px",borderRadius:r.radius.lg,backgroundColor:r.colors.accent.successLight,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Kt,{size:22,style:{color:r.colors.accent.success},"aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("h2",{id:"resolve-modal-title",style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Resolve Ticket"}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.tertiary,margin:0},children:"Document how you resolved this issue"})]})]})}),s.jsxs("div",{style:{padding:r.spacing.xl},children:[s.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[s.jsx("label",{htmlFor:"resolution-textarea",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.sm},children:"Resolution Details"}),s.jsx("textarea",{id:"resolution-textarea",value:Le,onChange:I=>he(I.target.value),placeholder:"Describe the steps you took to resolve this ticket...","aria-describedby":"resolution-char-count",rows:5,maxLength:2e3,disabled:We||Oe,style:{width:"100%",padding:r.spacing.lg,backgroundColor:We?r.colors.background.hover:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.lg,fontSize:r.fontSize.sm,outline:"none",resize:"vertical",fontFamily:"inherit",lineHeight:r.lineHeight.relaxed,opacity:We?.5:1,cursor:We?"not-allowed":"text",transition:`border-color ${r.transitions.fast}`,boxSizing:"border-box"},onFocus:I=>!We&&(I.currentTarget.style.borderColor=r.colors.border.focus),onBlur:I=>I.currentTarget.style.borderColor=r.colors.border.medium}),s.jsxs("p",{id:"resolution-char-count",style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:r.spacing.sm,marginBottom:0,textAlign:"right"},children:[Le.length,"/2000"]})]}),s.jsxs("div",{role:"checkbox","aria-checked":We,"aria-label":"Skip writing a resolution",tabIndex:Oe?-1:0,onClick:()=>!Oe&&te(!We),onKeyDown:I=>{(I.key===" "||I.key==="Enter")&&!Oe&&(I.preventDefault(),te(!We))},style:{display:"flex",alignItems:"center",gap:r.spacing.md,padding:r.spacing.lg,backgroundColor:We?r.colors.background.tertiary:r.colors.background.secondary,border:`1px solid ${We?r.colors.accent.primary:r.colors.border.light}`,borderRadius:r.radius.lg,cursor:Oe?"not-allowed":"pointer",transition:`all ${r.transitions.fast}`},children:[s.jsx("div",{"aria-hidden":"true",style:{width:"20px",height:"20px",borderRadius:r.radius.sm,border:`2px solid ${We?r.colors.accent.primary:r.colors.border.medium}`,backgroundColor:We?r.colors.accent.primary:"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:`all ${r.transitions.fast}`},children:We&&s.jsx(Kt,{size:12,style:{color:r.colors.text.inverse}})}),s.jsx("span",{style:{fontSize:r.fontSize.sm,color:We?r.colors.text.primary:r.colors.text.secondary},children:"Resolve without adding resolution notes"})]})]}),s.jsxs("div",{style:{padding:r.spacing.xl,borderTop:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"flex-end",gap:r.spacing.md,backgroundColor:r.colors.background.tertiary},children:[s.jsx("button",{ref:S,onClick:()=>{Ae(!1),x.current?.focus()},disabled:Oe,style:tn("secondary",Oe),onMouseEnter:I=>!Oe&&(I.currentTarget.style.backgroundColor=r.colors.background.hover),onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.background.tertiary,children:"Cancel"}),s.jsxs("button",{onClick:ur,disabled:Oe||!We&&Le.trim().length===0,style:tn("success",Oe||!We&&Le.trim().length===0),onMouseEnter:I=>!(Oe||!We&&Le.trim().length===0)&&(I.currentTarget.style.backgroundColor=r.colors.accent.successHover),onMouseLeave:I=>I.currentTarget.style.backgroundColor=r.colors.accent.success,children:[s.jsx(Kt,{size:16}),Oe?"Resolving...":"Resolve Ticket"]})]})]})}),L&&s.jsx(XV,{ticketId:e,ticketNumber:z.ticket_number,onClose:()=>we(!1),onSuccess:I=>{we(!1),n("Sequence created successfully!","success"),t(`/sequences/${I}`)}})]})},Rs="",eG=1e4,tG=()=>{const{uuid:e}=Bf(),t=y.useRef(null),[n,i]=y.useState(null),[l,c]=y.useState(!0),[d,p]=y.useState(null),[m,g]=y.useState(""),[h,x]=y.useState(""),[S,j]=y.useState(!1),[k,w]=y.useState(!1),[C,z]=y.useState(!1),[E,A]=y.useState(!1),[$,T]=y.useState(""),[D,R]=y.useState(""),[F,U]=y.useState(!1),[le,X]=y.useState(""),[ae,ye]=y.useState([]),[pe,_e]=y.useState(null),[B,Z]=y.useState(null),[ce,Ce]=y.useState(null),[Te,W]=y.useState(0),[q,re]=y.useState(!1),[be,xe]=y.useState(null),[je,G]=y.useState(""),de=y.useRef(null),ee=y.useCallback(async(me=!1)=>{try{me||c(!0);const Ve=await fetch(`${Rs}/api/tickets/public/${e}`);if(Ve.status===404){p("Ticket not found"),c(!1);return}if(!Ve.ok)throw new Error("Failed to fetch ticket");const qt=await Ve.json();i(qt),p(null)}catch(Ve){console.error("Error fetching ticket:",Ve),p("Failed to load ticket")}finally{c(!1)}},[e]),ze=y.useCallback(async()=>{try{const me=await fetch(`${Rs}/api/tickets/${e}/attachments`);if(me.ok){const Ve=await me.json();ye(Ve||[]),console.log(" Attachments fetched:",Ve?.length||0)}}catch(me){console.error("Error fetching attachments:",me)}},[e]),M=y.useCallback(me=>ae.filter(Ve=>Ve.comment_id===me),[ae]);y.useEffect(()=>{ee(),ze()},[ee,ze]),y.useEffect(()=>{const me=setInterval(()=>{ee(!0)},eG);return()=>clearInterval(me)},[ee]);const P=me=>{X(me),setTimeout(()=>X(""),5e3)},ie=async me=>{if(me.preventDefault(),!m.trim()||m.trim().length<10){alert("Comment must be at least 10 characters");return}if(!h.trim()){alert("Please enter your name");return}j(!0);try{if(!(await fetch(`${Rs}/api/tickets/public/${e}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comment_text:m,author_name:h})})).ok)throw new Error("Failed to add comment");P("Comment added successfully!"),g(""),await ee(),setTimeout(()=>{t.current?.scrollIntoView({behavior:"smooth"})},100)}catch(Ve){console.error("Error adding comment:",Ve),alert("Failed to add comment. Please try again.")}finally{j(!1)}},ge=async()=>{z(!0);try{if(!(await fetch(`${Rs}/api/tickets/public/${e}/resolve`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({resolution:"Customer marked as resolved"})})).ok)throw new Error("Failed to resolve ticket");P("Ticket marked as resolved!"),w(!1),await ee()}catch(me){console.error("Error resolving ticket:",me),alert("Failed to mark ticket as resolved. Please try again.")}finally{z(!1)}},V=async()=>{if(!$.trim()){alert("Please provide a reason for reopening");return}if(!D.trim()){alert("Please enter your name");return}U(!0);try{const me=await fetch(`${Rs}/api/tickets/public/${e}/reopen`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:$,reopened_by_name:D})});if(!me.ok)throw new Error("Failed to reopen ticket");const Ve=await me.json();P("Ticket reopened successfully! A new ticket has been created."),A(!1),T(""),R(""),Ve.new_ticket_id&&setTimeout(()=>{window.location.href=`/ticket/${Ve.new_ticket_id}`},2e3)}catch(me){console.error("Error reopening ticket:",me),alert("Failed to reopen ticket. Please try again.")}finally{U(!1)}},Ae=["image/jpeg","image/png","image/gif","image/webp"],Le=["video/mp4","video/quicktime","video/webm","video/x-m4v"],he=[...Ae,...Le],We=me=>Le.includes(me?.type),te=me=>{const Ve=me.target.files?.[0];if(!Ve)return;if(!he.includes(Ve.type)){xe("Invalid file type. Only JPEG, PNG, GIF, WebP images and MP4, MOV, WebM videos are allowed."),Ce(null);return}const qt=We(Ve)?50*1024*1024:10*1024*1024,vr=We(Ve)?"50MB":"10MB";if(Ve.size>qt){xe(`File size exceeds ${vr} limit.`),Ce(null);return}Ce(Ve),xe(null)},Oe=async()=>{if(!ce){xe("Please select a file first");return}if(!je.trim()){xe("Please enter your name");return}re(!0),W(0),xe(null);try{const me=new FormData;me.append("file",ce),me.append("author_name",je.trim());const Ve=new XMLHttpRequest;await new Promise((vr,ur)=>{Ve.upload.addEventListener("progress",pt=>{if(pt.lengthComputable){const Tr=Math.round(pt.loaded/pt.total*100);W(Tr)}}),Ve.addEventListener("load",()=>{if(Ve.status>=200&&Ve.status<300)vr(JSON.parse(Ve.responseText));else try{const pt=JSON.parse(Ve.responseText);ur(new Error(pt.error||"Upload failed"))}catch{ur(new Error("Upload failed"))}}),Ve.addEventListener("error",()=>{ur(new Error("Network error during upload"))}),Ve.open("POST",`${Rs}/api/tickets/public/${e}/attachments`),Ve.send(me)}),P("Photo uploaded successfully!"),Ce(null),W(0),de.current&&(de.current.value=""),await Promise.all([ee(),ze()]),setTimeout(()=>{t.current?.scrollIntoView({behavior:"smooth"})},100)}catch(me){console.error("Error uploading file:",me),xe(me.message||"Failed to upload file. Please try again.")}finally{re(!1)}},Ye=()=>{Ce(null),xe(null),W(0),de.current&&(de.current.value="")},nt=me=>({open:{color:"blue",icon:Mn,label:"Open"},assigned:{color:"purple",icon:mc,label:"Assigned"},in_progress:{color:"yellow",icon:Pi,label:"In Progress"},waiting_customer:{color:"orange",icon:Ei,label:"Waiting for You"},resolved:{color:"green",icon:Kt,label:"Resolved"},closed:{color:"gray",icon:Nt,label:"Closed"},cancelled:{color:"red",icon:Oc,label:"Cancelled"}})[me]||{color:"gray",icon:Mn,label:me},Je=me=>({urgent:{color:"red",icon:xi,label:"Urgent"},high:{color:"orange",icon:Vs,label:"High"},normal:{color:"blue",icon:Ya,label:"Normal"},low:{color:"gray",icon:Ys,label:"Low"}})[me]||{color:"gray",icon:Ya,label:me},L=me=>me?{high:{color:"red",label:"High"},medium:{color:"yellow",label:"Medium"},low:{color:"green",label:"Low"}}[me]||{color:"gray",label:me}:null,we=me=>{if(!me)return"N/A";const Ve=new Date(me),vr=new Date-Ve,ur=Math.floor(vr/6e4),pt=Math.floor(vr/36e5),Tr=Math.floor(vr/864e5);return ur<1?"Just now":ur<60?`${ur} min${ur>1?"s":""} ago`:pt<24?`${pt} hour${pt>1?"s":""} ago`:Tr<7?`${Tr} day${Tr>1?"s":""} ago`:Ve.toLocaleDateString()+" "+Ve.toLocaleTimeString()},Fe=me=>({customer:"bg-blue-50",tech:"bg-gray-50",system:"bg-yellow-50"})[me]||"bg-gray-50",Me=me=>({customer:"C",tech:"T",system:"S"})[me]||"?";if(l)return s.jsx("div",{style:{minHeight:"100vh",backgroundColor:r.colors.background.primary,padding:"2rem"},children:s.jsx("div",{style:{maxWidth:"900px",margin:"0 auto"},children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{style:{height:"100px",backgroundColor:"#e5e7eb",borderRadius:"8px"}}),s.jsx("div",{style:{height:"300px",backgroundColor:"#e5e7eb",borderRadius:"8px"}}),s.jsx("div",{style:{height:"400px",backgroundColor:"#e5e7eb",borderRadius:"8px"}})]})})});if(d||!n)return s.jsx("div",{style:{minHeight:"100vh",backgroundColor:r.colors.background.primary,display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:s.jsxs("div",{style:{textAlign:"center",maxWidth:"500px"},children:[s.jsx(uo,{style:{width:"64px",height:"64px",color:"#d1d5db",margin:"0 auto 16px"}}),s.jsx("h1",{style:{color:"#111827",fontSize:"1.875rem",fontWeight:"bold",marginBottom:"12px"},children:"Ticket Not Found"}),s.jsx("p",{style:{color:"#6b7280",fontSize:"1rem",marginBottom:"24px"},children:d||"The ticket you're looking for doesn't exist or the link is invalid."}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"Please check the link and try again, or contact support if you need assistance."})]})});const Ze=nt(n.status),Ne=Je(n.priority),yt=L(n.urgency),_r=Ze.icon,Zt=Ne.icon,zt=["open","assigned","in_progress","waiting_customer"].includes(n.status),ar=n.status==="closed";return s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:r.colors.background.primary,padding:"1rem"},children:[s.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto"},children:[le&&s.jsxs("div",{style:{padding:"16px",backgroundColor:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx(Kt,{style:{width:"20px",height:"20px",color:"#059669"}}),s.jsx("span",{style:{color:"#065f46",fontSize:"0.875rem",fontWeight:"500"},children:le})]}),s.jsx("div",{style:{marginBottom:"32px",textAlign:"center"},children:s.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"12px",padding:"16px 24px",backgroundColor:"#1e3a5f",borderRadius:"12px",marginBottom:"24px"},children:[s.jsx(uo,{style:{width:"32px",height:"32px",color:"white"}}),s.jsx("h1",{style:{color:"white",fontSize:"1.5rem",fontWeight:"bold",margin:0},children:"MAX Support"})]})}),s.jsx(rt,{className:"mb-6",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[s.jsxs("h2",{style:{color:"#111827",fontSize:"2rem",fontWeight:"bold",marginBottom:"12px"},children:["Ticket #",n.ticket_number]}),s.jsxs(tt,{color:Ze.color,style:{fontSize:"1rem",padding:"8px 16px"},children:[s.jsx(_r,{className:"w-5 h-5 mr-2"}),Ze.label]})]}),s.jsx("h3",{style:{color:"#374151",fontSize:"1.25rem",fontWeight:"600",textAlign:"center",marginTop:"16px"},children:n.subject})]})}),s.jsx(rt,{className:"mb-6",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",marginBottom:"20px"},children:"Ticket Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx(Va,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),s.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Customer:"}),s.jsx("span",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"500"},children:n.customer_name||"N/A"})]}),n.customer_phone&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx(cl,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),s.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Phone:"}),s.jsx("a",{href:`tel:${n.customer_phone}`,style:{color:"#1e3a5f",fontSize:"0.875rem",textDecoration:"none"},onMouseEnter:me=>me.currentTarget.style.textDecoration="underline",onMouseLeave:me=>me.currentTarget.style.textDecoration="none",children:n.customer_phone})]}),n.customer_email&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx(Sp,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),s.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Email:"}),s.jsx("a",{href:`mailto:${n.customer_email}`,style:{color:"#1e3a5f",fontSize:"0.875rem",textDecoration:"none"},onMouseEnter:me=>me.currentTarget.style.textDecoration="underline",onMouseLeave:me=>me.currentTarget.style.textDecoration="none",children:n.customer_email})]}),n.van_info&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx(uo,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),s.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Van:"}),s.jsx("span",{style:{color:"#111827",fontSize:"0.875rem"},children:n.van_info})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[s.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Priority:"}),s.jsxs(tt,{color:Ne.color,children:[s.jsx(Zt,{className:"w-3 h-3 mr-1"}),Ne.label]}),yt&&s.jsxs(s.Fragment,{children:[s.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",marginLeft:"16px"},children:"Urgency:"}),s.jsx(tt,{color:yt.color,children:yt.label})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx(Mn,{style:{width:"20px",height:"20px",color:"#9ca3af"}}),s.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem",minWidth:"100px"},children:"Created:"}),s.jsx("span",{style:{color:"#111827",fontSize:"0.875rem"},children:new Date(n.created_at).toLocaleString()})]})]}),n.description&&s.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"},children:[s.jsx("h4",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"600",marginBottom:"12px"},children:"Description"}),s.jsx("p",{style:{color:"#374151",fontSize:"0.875rem",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:n.description})]})]})}),s.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"24px",flexWrap:"wrap"},children:[zt&&s.jsxs("button",{onClick:()=>w(!0),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#059669",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",transition:"all 0.2s"},onMouseEnter:me=>me.currentTarget.style.backgroundColor="#047857",onMouseLeave:me=>me.currentTarget.style.backgroundColor="#059669",children:[s.jsx(Kt,{size:18}),"Mark as Resolved"]}),ar&&s.jsxs("button",{onClick:()=>A(!0),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#ea580c",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",transition:"all 0.2s"},onMouseEnter:me=>me.currentTarget.style.backgroundColor="#c2410c",onMouseLeave:me=>me.currentTarget.style.backgroundColor="#ea580c",children:[s.jsx(tY,{size:18}),"Reopen Ticket"]})]}),k&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",zIndex:1e3},children:s.jsx(rt,{style:{maxWidth:"400px",width:"100%"},children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",marginBottom:"12px"},children:"Mark as Resolved?"}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem",marginBottom:"24px"},children:"Are you sure this issue has been resolved? This will notify our support team."}),s.jsxs("div",{style:{display:"flex",gap:"12px"},children:[s.jsx("button",{onClick:ge,disabled:C,style:{flex:1,padding:"10px 16px",backgroundColor:"#059669",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:C?"not-allowed":"pointer",opacity:C?.5:1},children:C?"Resolving...":"Yes, Resolve"}),s.jsx("button",{onClick:()=>w(!1),disabled:C,style:{flex:1,padding:"10px 16px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px",color:"#374151",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer"},children:"Cancel"})]})]})})}),E&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",zIndex:1e3},children:s.jsx(rt,{style:{maxWidth:"500px",width:"100%"},children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",marginBottom:"12px"},children:"Reopen Ticket"}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem",marginBottom:"16px"},children:"Please tell us why you're reopening this ticket."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Your Name"}),s.jsx("input",{type:"text",value:D,onChange:me=>R(me.target.value),placeholder:"Enter your name",required:!0,style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Reason for Reopening"}),s.jsx("textarea",{value:$,onChange:me=>T(me.target.value),placeholder:"Explain why you need to reopen this ticket...",rows:4,required:!0,style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none",resize:"none"}})]})]}),s.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"24px"},children:[s.jsx("button",{onClick:V,disabled:F,style:{flex:1,padding:"10px 16px",backgroundColor:"#ea580c",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:F?"not-allowed":"pointer",opacity:F?.5:1},children:F?"Reopening...":"Reopen Ticket"}),s.jsx("button",{onClick:()=>{A(!1),T(""),R("")},disabled:F,style:{flex:1,padding:"10px 16px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px",color:"#374151",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer"},children:"Cancel"})]})]})})}),s.jsx(rt,{className:"mb-6",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[s.jsx(Ei,{style:{width:"20px",height:"20px",color:"#374151"}}),s.jsx("h3",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Activity Timeline"}),s.jsx(tt,{color:"blue",children:n.comments?.length||0})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[n.comments&&n.comments.length>0?n.comments.map(me=>s.jsx("div",{className:`p-4 rounded-lg ${Fe(me.author_type)} border border-gray-200`,children:s.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"12px"},children:[s.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",flexShrink:0,backgroundColor:me.author_type==="customer"?"#3b82f6":me.author_type==="tech"?"#6b7280":"#eab308"},children:Me(me.author_type)}),s.jsxs("div",{style:{flex:1},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px",flexWrap:"wrap"},children:[s.jsx("span",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"600"},children:me.author_name}),s.jsx(tt,{color:me.author_type==="customer"?"blue":me.author_type==="tech"?"gray":"yellow",children:me.author_type==="customer"?"Customer":me.author_type==="tech"?"Support":"System"}),me.is_resolution&&s.jsxs(tt,{color:"green",children:[s.jsx(Kt,{className:"w-3 h-3 mr-1"}),"Resolution"]})]}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginBottom:"8px"},children:we(me.created_at)}),s.jsx("p",{style:{color:"#374151",fontSize:"0.875rem",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:me.comment_text}),(()=>{const Ve=M(me.id);return Ve.length===0?null:s.jsx("div",{style:{marginTop:"12px",display:"flex",flexWrap:"wrap",gap:"8px"},children:Ve.map(qt=>{const vr=qt.mime_type?.startsWith("video/"),ur=qt.mime_type?.startsWith("image/");return s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[vr?s.jsxs("div",{onClick:()=>Z(qt.public_url),style:{position:"relative",cursor:"pointer",maxWidth:"300px",maxHeight:"200px",borderRadius:"8px",overflow:"hidden",border:"1px solid #e5e7eb",backgroundColor:"#000"},children:[s.jsx("video",{src:qt.public_url,style:{width:"100%",height:"100%",maxHeight:"200px",objectFit:"cover"}}),s.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:"50%",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s, background-color 0.2s"},onMouseOver:pt=>{pt.currentTarget.style.transform="translate(-50%, -50%) scale(1.1)",pt.currentTarget.style.backgroundColor="rgba(59, 130, 246, 0.8)"},onMouseOut:pt=>{pt.currentTarget.style.transform="translate(-50%, -50%)",pt.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.6)"},children:s.jsx(Lf,{size:24,style:{color:"white",marginLeft:"3px"}})})]}):ur?s.jsx("img",{src:qt.public_url,alt:qt.original_filename||"Attachment",onClick:()=>_e(qt.public_url),style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s"},onMouseOver:pt=>{pt.target.style.transform="scale(1.02)",pt.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseOut:pt=>{pt.target.style.transform="scale(1)",pt.target.style.boxShadow="none"}}):s.jsx("a",{href:qt.public_url,target:"_blank",rel:"noopener noreferrer",style:{color:"#3b82f6",fontSize:"0.75rem"},children:qt.original_filename||"Download attachment"}),s.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[s.jsx(vx,{size:12}),qt.uploaded_by_type==="customer"?"Photo from customer":"Photo from technician"]})]},qt.id)})})})()]})]})},me.id)):s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem",textAlign:"center",padding:"32px 0",fontStyle:"italic"},children:"No comments yet. Be the first to add one!"}),s.jsx("div",{ref:t})]}),s.jsxs("div",{style:{paddingTop:"24px",borderTop:"1px solid #e5e7eb"},children:[s.jsx("h4",{style:{color:"#111827",fontSize:"1rem",fontWeight:"600",marginBottom:"16px"},children:"Add a Comment"}),s.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Your Name"}),s.jsx("input",{type:"text",value:h,onChange:me=>x(me.target.value),placeholder:"Enter your name",required:!0,style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Comment"}),s.jsx("textarea",{value:m,onChange:me=>g(me.target.value),placeholder:"Add a comment...",rows:4,maxLength:2e3,required:!0,style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none",resize:"none"}}),s.jsxs("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px"},children:[m.length,"/2000 characters (minimum 10)"]})]}),s.jsxs("button",{type:"submit",disabled:S||m.trim().length<10||!h.trim(),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#1e3a5f",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:S||m.trim().length<10||!h.trim()?"not-allowed":"pointer",opacity:S||m.trim().length<10||!h.trim()?.5:1,boxShadow:"0 1px 2px rgba(0,0,0,0.05)",transition:"all 0.2s"},onMouseEnter:me=>{!S&&m.trim().length>=10&&h.trim()&&(me.currentTarget.style.backgroundColor="#2c5282")},onMouseLeave:me=>me.currentTarget.style.backgroundColor="#1e3a5f",children:[s.jsx(Ei,{size:18}),S?"Adding Comment...":"Add Comment"]})]}),s.jsxs("div",{style:{marginTop:"32px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"},children:[s.jsxs("h4",{style:{color:"#111827",fontSize:"1rem",fontWeight:"600",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx(vx,{size:18}),"Upload Photo or Video"]}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem",marginBottom:"16px"},children:"Share photos or videos related to your issue. Images: JPEG, PNG, GIF, WebP (max 10MB). Videos: MP4, MOV, WebM (max 50MB)"}),s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"8px"},children:"Your Name"}),s.jsx("input",{type:"text",value:je,onChange:me=>G(me.target.value),placeholder:"Enter your name",style:{width:"100%",padding:"10px 12px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:"0.875rem",outline:"none"}})]}),s.jsx("input",{ref:de,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp,video/mp4,video/quicktime,video/webm",onChange:te,style:{display:"none"},id:"photo-upload"}),ce?s.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"12px",padding:"16px",backgroundColor:"#fafafa"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"16px",marginBottom:"16px"},children:[We(ce)?s.jsxs("div",{style:{width:"120px",height:"100px",borderRadius:"8px",border:"1px solid #e5e7eb",overflow:"hidden",position:"relative",backgroundColor:"#000"},children:[s.jsx("video",{src:URL.createObjectURL(ce),style:{width:"100%",height:"100%",objectFit:"cover"}}),s.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Lf,{size:16,style:{color:"white",marginLeft:"2px"}})})]}):s.jsx("img",{src:URL.createObjectURL(ce),alt:"Preview",style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb"}}),s.jsxs("div",{style:{flex:1},children:[s.jsxs("p",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"500",marginBottom:"4px",display:"flex",alignItems:"center",gap:"6px"},children:[We(ce)&&s.jsx(cO,{size:14,style:{color:"#6b7280"}}),ce.name]}),s.jsxs("p",{style:{color:"#6b7280",fontSize:"0.75rem"},children:[(ce.size/1024/1024).toFixed(2)," MB"]}),s.jsxs("button",{type:"button",onClick:Ye,style:{marginTop:"8px",padding:"4px 8px",backgroundColor:"transparent",border:"1px solid #ef4444",borderRadius:"4px",color:"#ef4444",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[s.jsx(Nt,{size:12}),"Remove"]})]})]}),q&&s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("div",{style:{height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"},children:s.jsx("div",{style:{height:"100%",width:`${Te}%`,backgroundColor:"#3b82f6",transition:"width 0.3s ease"}})}),s.jsxs("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px",textAlign:"center"},children:["Uploading... ",Te,"%"]})]}),s.jsx("button",{type:"button",onClick:Oe,disabled:q||!je.trim(),style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",padding:"12px 20px",backgroundColor:"#10b981",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:q||!je.trim()?"not-allowed":"pointer",opacity:q||!je.trim()?.5:1,transition:"all 0.2s"},children:q?s.jsxs(s.Fragment,{children:[s.jsx(Dn,{size:18,style:{animation:"spin 1s linear infinite"}}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(L2,{size:18}),"Upload Photo"]})})]}):s.jsxs("label",{htmlFor:"photo-upload",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"32px",border:"2px dashed #d1d5db",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s",backgroundColor:"#fafafa"},onMouseEnter:me=>{me.currentTarget.style.borderColor="#3b82f6",me.currentTarget.style.backgroundColor="#f0f9ff"},onMouseLeave:me=>{me.currentTarget.style.borderColor="#d1d5db",me.currentTarget.style.backgroundColor="#fafafa"},children:[s.jsx(L2,{size:32,style:{color:"#9ca3af",marginBottom:"12px"}}),s.jsx("span",{style:{color:"#374151",fontSize:"0.875rem",fontWeight:"500"},children:"Click to select a photo or video"}),s.jsx("span",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px"},children:"or drag and drop"})]}),be&&s.jsxs("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#dc2626",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx(Oc,{size:16}),be]})]})]})]})}),s.jsx("div",{style:{textAlign:"center",paddingTop:"24px",paddingBottom:"24px",borderTop:"1px solid #e5e7eb"},children:s.jsxs("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:["Need help? Contact MAX Support at ",s.jsx("a",{href:"mailto:support@maxsupport.com",style:{color:"#1e3a5f",textDecoration:"none"},children:"support@maxsupport.com"})]})})]}),pe&&s.jsxs("div",{onClick:()=>_e(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,cursor:"pointer"},children:[s.jsx("button",{onClick:()=>_e(null),style:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#ffffff"},children:s.jsx(Nt,{size:24})}),s.jsx("img",{src:pe,alt:"Full size",onClick:me=>me.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain",borderRadius:"8px"}})]}),B&&s.jsxs("div",{onClick:()=>Z(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,cursor:"pointer"},children:[s.jsx("button",{onClick:()=>Z(null),style:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#ffffff",zIndex:1e4},children:s.jsx(Nt,{size:24})}),s.jsx("video",{src:B,controls:!0,autoPlay:!0,onClick:me=>me.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh",borderRadius:"8px"}})]})]})},Nd="",rG=()=>{const e=ii(),{showToast:t}=tu(),{user:n,logout:i,hasRole:l,isSiteAdmin:c}=xn(),[d,p]=y.useState({owner_name:"",phone:"",email:"",subject:"",description:"",priority:"normal",urgency:"medium",owner_id:"",van_id:"",category_id:""}),[m,g]=y.useState({}),[h,x]=y.useState(!1),[S,j]=y.useState(!1),[k,w]=y.useState(null),[C,z]=y.useState(!1),[E,A]=y.useState([]),[$,T]=y.useState([]),[D,R]=y.useState([]),[F,U]=y.useState(!0),[le,X]=y.useState(!0),[ae,ye]=y.useState(!0),[pe,_e]=y.useState(""),[B,Z]=y.useState(!1),[ce,Ce]=y.useState(""),[Te,W]=y.useState(!1),q=y.useRef(null),re=y.useRef(null),be=y.useRef(null),xe=y.useRef(null),je=y.useRef(null),[G,de]=y.useState(-1),[ee,ze]=y.useState(-1),M=y.useRef([]),P=y.useRef([]),[ie,ge]=y.useState({top:0,left:0,width:0}),[V,Ae]=y.useState({top:0,left:0,width:0}),Le=y.useRef(null);y.useEffect(()=>{const J=Ee=>{const Ue=q.current&&q.current.contains(Ee.target),Vt=document.getElementById("owner-listbox"),gr=Vt&&Vt.contains(Ee.target);!Ue&&!gr&&Z(!1)};return B&&document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[B]),y.useEffect(()=>{const J=Ee=>{const Ue=be.current&&be.current.contains(Ee.target),Vt=document.getElementById("van-listbox"),gr=Vt&&Vt.contains(Ee.target);!Ue&&!gr&&W(!1)};return Te&&document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[Te]),y.useEffect(()=>{S&&Le.current&&Le.current.focus()},[S]),y.useEffect(()=>()=>{je.current&&clearTimeout(je.current)},[]),y.useEffect(()=>{B&&de(-1)},[B]),y.useEffect(()=>{Te&&ze(-1)},[Te]);const he=y.useCallback(async J=>{U(!0);try{const Ee=await fetch(`${Nd}/api/owners?limit=100`,{credentials:"include",signal:J});if(!Ee.ok)throw new Error("Failed to fetch owners");const Ue=await Ee.json();A(Ue.owners||[])}catch(Ee){if(Ee.name==="AbortError")return;t("Failed to load owners","error")}finally{U(!1)}},[t]),We=y.useRef(null),te=y.useCallback(async J=>{if(!J){T([]);return}const Ee=J;We.current=Ee,X(!0),T([]);try{const Ue=await fetch(`${Nd}/api/vans?owner_id=${J}&limit=100`,{credentials:"include"});if(!Ue.ok)throw new Error("Failed to fetch vans");const Vt=await Ue.json();We.current===Ee&&T(Vt.vans||[])}catch{We.current===Ee&&t("Failed to load vans","error")}finally{We.current===Ee&&X(!1)}},[t]),Oe=y.useCallback(async J=>{ye(!0);try{const Ee=await fetch(`${Nd}/api/categories`,{credentials:"include",signal:J});if(!Ee.ok)throw new Error("Failed to fetch categories");const Ue=await Ee.json();R(Ue.categories||[])}catch(Ee){if(Ee.name==="AbortError")return}finally{ye(!1)}},[]);y.useEffect(()=>{const J=new AbortController;return he(J.signal),Oe(J.signal),()=>J.abort()},[he,Oe]);const Ye=y.useMemo(()=>d.owner_id?$:[],[$,d.owner_id,le]),nt=y.useMemo(()=>{if(!ce.trim())return Ye;const J=ce.toLowerCase();return Ye.filter(Ee=>{const Ue=(Ee.van_number||"").toLowerCase(),Vt=(Ee.make||"").toLowerCase(),gr=String(Ee.year||"");return Ue.includes(J)||Vt.includes(J)||gr.includes(J)})},[Ye,ce]),Je=y.useMemo(()=>d.van_id&&$.find(J=>J.id===d.van_id)||null,[$,d.van_id]),L=y.useMemo(()=>d.owner_id&&E.find(J=>J.id===d.owner_id)||null,[E,d.owner_id]),we=y.useMemo(()=>{if(!pe.trim())return E;const J=pe.toLowerCase();return E.filter(Ee=>{const Ue=(Ee.name||"").toLowerCase(),Vt=(Ee.company||"").toLowerCase(),gr=(Ee.phone||"").toLowerCase(),vn=(Ee.email||"").toLowerCase();return Ue.includes(J)||Vt.includes(J)||gr.includes(J)||vn.includes(J)})},[E,pe]),Fe=J=>{const{name:Ee,value:Ue}=J.target;p(Vt=>({...Vt,[Ee]:Ue})),m[Ee]&&g(Vt=>({...Vt,[Ee]:null}))},Me=y.useCallback(()=>{if(re.current){const J=re.current.getBoundingClientRect();ge({top:J.bottom,left:J.left,width:J.width})}},[]),Ze=y.useCallback(()=>{if(xe.current){const J=xe.current.getBoundingClientRect();Ae({top:J.bottom,left:J.left,width:J.width})}},[]),Ne=()=>{B||Me(),Z(!B)},yt=()=>{Te||Ze(),W(!Te)},_r=J=>{const Ee=E.find(Ue=>Ue.id===J);p(Ue=>({...Ue,owner_id:J,owner_name:Ee?.name||"",phone:Ee?.phone||"",email:Ee?.email||"",van_id:""})),_e(""),Z(!1),Ce(""),W(!1),te(J),m.owner_name&&g(Ue=>({...Ue,owner_name:null}))},Zt=()=>{p(J=>({...J,owner_id:"",owner_name:"",phone:"",email:"",van_id:""})),_e(""),Ce(""),T([])},zt=J=>{p(Ee=>({...Ee,van_id:J})),Ce(""),W(!1),m.van_id&&g(Ee=>({...Ee,van_id:null}))},ar=()=>{p(J=>({...J,van_id:""})),Ce("")},me=()=>{const J={};return d.owner_id||(J.owner_name="Please select a customer"),d.phone.trim()?/^[\d\s\-\+\(\)]+$/.test(d.phone)||(J.phone="Invalid phone number format"):J.phone="Phone number is required - please select a customer",d.email.trim()&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(J.email="Invalid email format")),d.subject.trim()?d.subject.trim().length<5?J.subject="Subject must be at least 5 characters":d.subject.length>200&&(J.subject="Subject must be less than 200 characters"):J.subject="Subject is required",d.description.trim()?d.description.trim().length<20?J.description="Description must be at least 20 characters":d.description.length>2e3&&(J.description="Description must be less than 2000 characters"):J.description="Description is required",g(J),Object.keys(J).length===0},Ve=async J=>{if(J.preventDefault(),!me()){t("Please fix the errors in the form","error");return}x(!0);try{const Ee=await fetch(`${Nd}/api/tickets/create`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({owner_name:d.owner_name.trim(),phone:d.phone.trim(),email:d.email.trim()||null,subject:d.subject.trim(),issue_summary:d.subject.trim(),description:d.description.trim(),priority:d.priority,urgency:d.urgency||null,owner_id:d.owner_id||null,van_id:d.van_id||null,category_id:d.category_id||null})});if(!Ee.ok){const gr=await Ee.json();throw new Error(gr.error||"Failed to create ticket")}const Ue=await Ee.json(),Vt={id:Ue.ticket_id,number:Ue.ticket_number,uuid:Ue.ticket_id};w(Vt),j(!0),t(`Ticket #${Ue.ticket_number} created successfully!`,"success")}catch(Ee){console.error("Error creating ticket:",Ee),t(Ee.message||"Failed to create ticket","error")}finally{x(!1)}},qt=async()=>{if(k){const J=`${window.location.origin}/ticket/${k.uuid}`;try{await navigator.clipboard.writeText(J),z(!0),t("Link copied to clipboard!","success"),je.current&&clearTimeout(je.current),je.current=setTimeout(()=>z(!1),3e3)}catch{t("Failed to copy link to clipboard","error")}}},vr=()=>{j(!1),w(null),z(!1),p({owner_name:"",phone:"",email:"",subject:"",description:"",priority:"normal",urgency:"medium",owner_id:"",van_id:"",category_id:""}),_e(""),Z(!1),g({}),Ce(""),W(!1),T([])},pt=(J=>{const Ee={urgent:{color:"red",icon:xi,label:"Urgent"},high:{color:"orange",icon:Vs,label:"High"},normal:{color:"blue",icon:Ya,label:"Normal"},low:{color:"gray",icon:Ys,label:"Low"}};return Ee[J]||Ee.normal})(d.priority),Tr=pt.icon;return s.jsxs("div",{className:"flex min-h-screen",style:{backgroundColor:"#f9fafb"},children:[s.jsx(zr,{user:n,onLogout:i,hasRole:l,isSiteAdmin:c}),s.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:"2rem"},children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>e("/tickets"),style:{display:"flex",alignItems:"center",gap:"8px",color:"#6b7280",fontSize:"0.875rem",marginBottom:"16px",background:"none",border:"none",cursor:"pointer",transition:"color 0.2s"},onMouseEnter:J=>J.currentTarget.style.color="#111827",onMouseLeave:J=>J.currentTarget.style.color="#6b7280",children:[s.jsx($f,{className:"w-4 h-4"}),"Back to Tickets"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-[#1e3a5f] rounded-lg",children:s.jsx(sr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{style:{color:"#111827",fontSize:"1.875rem",fontWeight:"bold",marginBottom:"4px"},children:"Create New Ticket"}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"Create a support ticket for a customer"})]})]})]}),s.jsxs("form",{onSubmit:Ve,children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx(rt,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:[s.jsx(Va,{style:{width:"20px",height:"20px",color:"#1e3a5f"}}),s.jsx("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Customer Information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{id:"owner_id-label",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Customer Name ",s.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),s.jsx("span",{className:"sr-only",children:"(required)"})]}),s.jsxs("div",{ref:q,style:{position:"relative"},children:[s.jsx(Va,{"aria-hidden":"true",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af",pointerEvents:"none",zIndex:1}}),F?s.jsxs("div",{"aria-live":"polite",style:{display:"flex",alignItems:"center",gap:"8px",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[s.jsx(Dn,{"aria-hidden":"true",size:16,style:{animation:"spin 1s linear infinite"}}),"Loading customers..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{ref:re,role:"combobox","aria-expanded":B,"aria-haspopup":"listbox","aria-controls":"owner-listbox","aria-labelledby":"owner_id-label","aria-required":"true","aria-invalid":!!m.owner_name,"aria-describedby":m.owner_name?"owner_id-error":void 0,tabIndex:0,onClick:Ne,onKeyDown:J=>{J.key==="Enter"||J.key===" "?(J.preventDefault(),Ne()):J.key==="Escape"&&Z(!1)},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${m.owner_name?"#dc2626":B?"#1e3a5f":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",minHeight:"40px",outline:"none"},children:[L?s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[s.jsxs("span",{style:{color:r.colors.text.primary},children:[L.name,L.company?` (${L.company})`:""]}),s.jsx("button",{type:"button",onClick:J=>{J.stopPropagation(),Zt()},"aria-label":"Clear customer selection",style:{background:"none",border:"none",padding:"2px 6px",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center"},children:s.jsx(Nt,{size:14})})]}):s.jsx("span",{style:{color:r.colors.text.tertiary},children:"Select a customer..."}),s.jsx(ei,{"aria-hidden":"true",size:16,style:{color:"#9ca3af",transform:B?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s",flexShrink:0}})]}),B&&Gd.createPortal(s.jsxs("div",{id:"owner-listbox",role:"listbox","aria-labelledby":"owner_id-label",style:{position:"fixed",top:ie.top,left:ie.left,width:ie.width,backgroundColor:"white",border:"1px solid #1e3a5f",borderRadius:r.radius.md,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:9999,maxHeight:"300px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[s.jsx("div",{style:{padding:"8px",borderBottom:`1px solid ${r.colors.border.light}`},children:s.jsxs("div",{style:{position:"relative"},children:[s.jsx(yi,{size:14,style:{position:"absolute",left:"8px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),s.jsx("input",{type:"text",value:pe,onChange:J=>_e(J.target.value),onClick:J=>J.stopPropagation(),placeholder:"Search customers...","aria-label":"Search customers",style:{width:"100%",padding:"6px 8px 6px 28px",border:`1px solid ${r.colors.border.medium}`,borderRadius:"4px",fontSize:"0.8125rem",outline:"none"},autoFocus:!0})]})}),s.jsx("div",{style:{overflowY:"auto",maxHeight:"220px"},onKeyDown:J=>{if(we.length!==0)if(J.key==="ArrowDown"){J.preventDefault();const Ee=G<we.length-1?G+1:0;de(Ee),M.current[Ee]?.focus()}else if(J.key==="ArrowUp"){J.preventDefault();const Ee=G>0?G-1:we.length-1;de(Ee),M.current[Ee]?.focus()}else J.key==="Escape"&&(Z(!1),re.current?.focus())},children:we.length===0?s.jsx("div",{style:{padding:"12px",textAlign:"center",color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:pe?"No customers match your search":"No customers available"}):we.map((J,Ee)=>s.jsxs("div",{ref:Ue=>M.current[Ee]=Ue,role:"option","aria-selected":d.owner_id===J.id,tabIndex:-1,onClick:()=>_r(J.id),onKeyDown:Ue=>{(Ue.key==="Enter"||Ue.key===" ")&&(Ue.preventDefault(),_r(J.id))},onFocus:()=>de(Ee),style:{padding:"10px 12px",cursor:"pointer",backgroundColor:G===Ee?"#e0e7ff":d.owner_id===J.id?"#eff6ff":"transparent",borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.15s",outline:"none"},onMouseEnter:Ue=>{de(Ee),d.owner_id!==J.id&&(Ue.currentTarget.style.backgroundColor="#f9fafb")},onMouseLeave:Ue=>{d.owner_id!==J.id&&G!==Ee&&(Ue.currentTarget.style.backgroundColor="transparent")},children:[s.jsxs("div",{style:{fontWeight:"500",color:r.colors.text.primary,fontSize:r.fontSize.sm},children:[J.name,J.company?` (${J.company})`:""]}),s.jsxs("div",{style:{color:r.colors.text.tertiary,fontSize:"0.75rem",marginTop:"2px"},children:[J.phone,J.email?`  ${J.email}`:""]})]},J.id))})]}),document.body)]})]}),m.owner_name&&s.jsx("p",{id:"owner_id-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem",marginTop:"4px"},children:m.owner_name})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"phone",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Phone Number ",s.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),s.jsx("span",{className:"sr-only",children:"(required)"}),L&&d.phone&&s.jsx("span",{style:{color:"#6b7280",fontWeight:"normal",marginLeft:"8px",fontSize:"0.75rem"},children:"(pre-filled, can edit)"})]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx(cl,{"aria-hidden":"true",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af"}}),s.jsx("input",{id:"phone",type:"tel",name:"phone",value:d.phone,onChange:Fe,"aria-required":"true","aria-invalid":!!m.phone,"aria-describedby":m.phone?"phone-error":void 0,placeholder:"Enter phone number",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${m.phone?"#dc2626":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}})]}),m.phone&&s.jsx("p",{id:"phone-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem",marginTop:"4px"},children:m.phone})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Email ",s.jsx("span",{style:{color:"#6b7280",fontWeight:"normal"},children:"(optional)"}),L&&d.email&&s.jsx("span",{style:{color:"#6b7280",fontWeight:"normal",marginLeft:"8px",fontSize:"0.75rem"},children:"(pre-filled, can edit)"})]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx(Sp,{"aria-hidden":"true",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af"}}),s.jsx("input",{id:"email",type:"email",name:"email",value:d.email,onChange:Fe,"aria-invalid":!!m.email,"aria-describedby":m.email?"email-error":void 0,placeholder:"Enter email address",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${m.email?"#dc2626":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}})]}),m.email&&s.jsx("p",{id:"email-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem",marginTop:"4px"},children:m.email})]})]})]})}),s.jsx(rt,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:[s.jsx(ia,{style:{width:"20px",height:"20px",color:"#1e3a5f"}}),s.jsx("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Van Information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{id:"van_id-label",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Van ",s.jsx("span",{style:{color:"#6b7280",fontWeight:"normal"},children:"(optional)"})]}),s.jsxs("div",{ref:be,style:{position:"relative"},children:[s.jsx(ia,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af",pointerEvents:"none",zIndex:1}}),le&&d.owner_id?s.jsxs("div",{"aria-live":"polite",style:{display:"flex",alignItems:"center",gap:"8px",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[s.jsx(Dn,{"aria-hidden":"true",size:16,style:{animation:"spin 1s linear infinite"}}),"Loading vans..."]}):d.owner_id?s.jsxs(s.Fragment,{children:[s.jsxs("div",{ref:xe,role:"combobox","aria-expanded":Te,"aria-haspopup":"listbox","aria-controls":"van-listbox","aria-labelledby":"van_id-label",tabIndex:0,onClick:yt,onKeyDown:J=>{J.key==="Enter"||J.key===" "?(J.preventDefault(),yt()):J.key==="Escape"&&W(!1)},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${Te?"#1e3a5f":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",minHeight:"40px",outline:"none"},children:[Je?s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[s.jsxs("span",{style:{color:r.colors.text.primary},children:[Je.van_number," - ",Je.make," ",Je.version," (",Je.year,")"]}),s.jsx("button",{type:"button",onClick:J=>{J.stopPropagation(),ar()},"aria-label":"Clear van selection",style:{background:"none",border:"none",padding:"2px 6px",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center"},children:s.jsx(Nt,{size:14})})]}):s.jsx("span",{style:{color:r.colors.text.tertiary},children:Ye.length===0?"No vans for this owner":"Select a van..."}),s.jsx(ei,{"aria-hidden":"true",size:16,style:{color:"#9ca3af",transform:Te?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s",flexShrink:0}})]}),Te&&Ye.length>0&&Gd.createPortal(s.jsxs("div",{id:"van-listbox",role:"listbox","aria-labelledby":"van_id-label",style:{position:"fixed",top:V.top,left:V.left,width:V.width,backgroundColor:"white",border:"1px solid #1e3a5f",borderRadius:r.radius.md,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:9999,maxHeight:"280px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[s.jsx("div",{style:{padding:"8px",borderBottom:`1px solid ${r.colors.border.light}`},children:s.jsxs("div",{style:{position:"relative"},children:[s.jsx(yi,{size:14,style:{position:"absolute",left:"8px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),s.jsx("input",{type:"text",value:ce,onChange:J=>Ce(J.target.value),onClick:J=>J.stopPropagation(),placeholder:"Search vans...","aria-label":"Search vans",style:{width:"100%",padding:"6px 8px 6px 28px",border:`1px solid ${r.colors.border.medium}`,borderRadius:"4px",fontSize:"0.8125rem",outline:"none"},autoFocus:!0})]})}),s.jsx("div",{style:{overflowY:"auto",maxHeight:"220px"},onKeyDown:J=>{if(nt.length!==0)if(J.key==="ArrowDown"){J.preventDefault();const Ee=ee<nt.length-1?ee+1:0;ze(Ee),P.current[Ee]?.focus()}else if(J.key==="ArrowUp"){J.preventDefault();const Ee=ee>0?ee-1:nt.length-1;ze(Ee),P.current[Ee]?.focus()}else J.key==="Escape"&&(W(!1),xe.current?.focus())},children:nt.length===0?s.jsx("div",{style:{padding:"12px",textAlign:"center",color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:"No vans match your search"}):nt.map((J,Ee)=>s.jsxs("div",{ref:Ue=>P.current[Ee]=Ue,role:"option","aria-selected":d.van_id===J.id,tabIndex:-1,onClick:()=>zt(J.id),onKeyDown:Ue=>{(Ue.key==="Enter"||Ue.key===" ")&&(Ue.preventDefault(),zt(J.id))},onFocus:()=>ze(Ee),style:{padding:"10px 12px",cursor:"pointer",backgroundColor:ee===Ee?"#e0e7ff":d.van_id===J.id?"#eff6ff":"transparent",borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.15s",outline:"none"},onMouseEnter:Ue=>{ze(Ee),d.van_id!==J.id&&(Ue.currentTarget.style.backgroundColor="#f9fafb")},onMouseLeave:Ue=>{d.van_id!==J.id&&ee!==Ee&&(Ue.currentTarget.style.backgroundColor="transparent")},children:[s.jsx("div",{style:{fontWeight:"500",color:r.colors.text.primary,fontSize:r.fontSize.sm},children:J.van_number}),s.jsxs("div",{style:{color:r.colors.text.tertiary,fontSize:"0.75rem",marginTop:"2px"},children:[J.make," ",J.version," - ",J.year]})]},J.id))})]}),document.body)]}):s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:"#f3f4f6",border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.tertiary,fontSize:r.fontSize.sm,cursor:"not-allowed"},children:[s.jsx("span",{children:"Select a customer first"}),s.jsx(ei,{size:16,style:{color:"#9ca3af"}})]})]}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px"},children:d.owner_id?Ye.length===0?"This customer has no registered vans":`${Ye.length} van${Ye.length!==1?"s":""} available for this customer`:"Select a customer in Customer Information to see available vans"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"category_id",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Category ",s.jsx("span",{style:{color:"#6b7280",fontWeight:"normal"},children:"(optional)"})]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx(lO,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af",pointerEvents:"none",zIndex:1}}),ae?s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:[s.jsx(Dn,{size:16,style:{animation:"spin 1s linear infinite"}}),"Loading categories..."]}):s.jsxs("select",{id:"category_id",name:"category_id",value:d.category_id,onChange:Fe,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"40px",backgroundColor:r.colors.background.tertiary,color:d.category_id?r.colors.text.primary:r.colors.text.tertiary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none",cursor:"pointer",appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},children:[s.jsx("option",{value:"",children:"Select a category..."}),D.map(J=>s.jsx("option",{value:J.id,children:J.name},J.id))]}),s.jsx(ei,{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af",pointerEvents:"none"}})]}),D.length===0&&!ae&&s.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px"},children:"No categories available"})]})]})]})})]}),s.jsx("div",{className:"space-y-6",children:s.jsx(rt,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:[s.jsx(uo,{style:{width:"20px",height:"20px",color:"#1e3a5f"}}),s.jsx("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Ticket Details"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"subject",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Subject ",s.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),s.jsx("span",{className:"sr-only",children:"(required)"})]}),s.jsx("input",{id:"subject",type:"text",name:"subject",value:d.subject,onChange:Fe,placeholder:"Brief description of the issue",maxLength:200,required:!0,"aria-required":"true","aria-invalid":!!m.subject,"aria-describedby":m.subject?"subject-error":"subject-hint",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${m.subject?"#dc2626":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none"}}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"4px"},children:m.subject?s.jsx("p",{id:"subject-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem"},children:m.subject}):s.jsxs("p",{id:"subject-hint",style:{color:"#6b7280",fontSize:"0.75rem"},children:[d.subject.length,"/200 characters"]})})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"description",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Description ",s.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),s.jsx("span",{className:"sr-only",children:"(required)"})]}),s.jsx("textarea",{id:"description",name:"description",value:d.description,onChange:Fe,placeholder:"Describe the issue in detail...",rows:6,maxLength:2e3,required:!0,"aria-required":"true","aria-invalid":!!m.description,"aria-describedby":m.description?"description-error":"description-hint",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${m.description?"#dc2626":r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,outline:"none",resize:"vertical"}}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"4px"},children:m.description?s.jsx("p",{id:"description-error",role:"alert",style:{color:"#dc2626",fontSize:"0.75rem"},children:m.description}):s.jsxs("p",{id:"description-hint",style:{color:"#6b7280",fontSize:"0.75rem"},children:[d.description.length,"/2000 characters (minimum 20)"]})})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"priority",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Priority ",s.jsx("span",{"aria-hidden":"true",style:{color:"#dc2626"},children:"*"}),s.jsx("span",{className:"sr-only",children:"(required)"})]}),s.jsxs("select",{id:"priority",name:"priority",value:d.priority,onChange:Fe,required:!0,"aria-required":"true",style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none"},children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"normal",children:"Normal"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"urgent",children:"Urgent"})]}),s.jsx("div",{style:{marginTop:"8px"},children:s.jsxs(tt,{color:pt.color,children:[s.jsx(Tr,{className:"w-3 h-3 mr-1"}),pt.label]})})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"urgency",style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.secondary,marginBottom:r.spacing.xs},children:["Urgency ",s.jsx("span",{style:{color:"#6b7280",fontWeight:"normal"},children:"(optional)"})]}),s.jsxs("select",{id:"urgency",name:"urgency",value:d.urgency,onChange:Fe,style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.tertiary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",outline:"none"},children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"})]})]})]})]})})})]}),s.jsxs("div",{style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[s.jsx("button",{type:"button",onClick:()=>e("/tickets"),style:{padding:"12px 20px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px",color:"#374151",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:J=>J.currentTarget.style.backgroundColor="#f9fafb",onMouseLeave:J=>J.currentTarget.style.backgroundColor="white",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:h,style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",backgroundColor:"#1e3a5f",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:h?"not-allowed":"pointer",opacity:h?.5:1,boxShadow:"0 1px 2px rgba(0,0,0,0.05)",transition:"all 0.2s"},onMouseEnter:J=>!h&&(J.currentTarget.style.backgroundColor="#2c5282"),onMouseLeave:J=>J.currentTarget.style.backgroundColor="#1e3a5f",children:[s.jsx(sr,{size:18}),h?"Creating Ticket...":"Create Ticket"]})]})]}),S&&k&&s.jsx("div",{ref:Le,role:"dialog","aria-modal":"true","aria-labelledby":"success-modal-title",tabIndex:-1,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",zIndex:1e3,outline:"none"},onKeyDown:J=>{J.key==="Escape"&&vr()},children:s.jsx(rt,{style:{maxWidth:"600px",width:"100%"},children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[s.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#d1fae5",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:s.jsx(Kt,{style:{width:"32px",height:"32px",color:"#059669"}})}),s.jsxs("h2",{id:"success-modal-title",style:{color:"#111827",fontSize:"1.5rem",fontWeight:"bold",marginBottom:"8px"},children:["Ticket #",k.number," Created!"]}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"The support ticket has been created successfully"})]}),s.jsxs("div",{style:{padding:"16px",backgroundColor:"#f9fafb",borderRadius:"8px",marginBottom:"24px"},children:[s.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"600",marginBottom:"8px"},children:"Customer Link (share with customer)"}),s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("input",{type:"text",value:`${window.location.origin}/ticket/${k.uuid}`,readOnly:!0,style:{flex:1,padding:"10px 12px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem",color:"#111827"}}),s.jsx("button",{onClick:qt,style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 16px",backgroundColor:C?"#059669":"#1e3a5f",border:"none",borderRadius:"6px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",whiteSpace:"nowrap",transition:"all 0.2s"},children:C?s.jsxs(s.Fragment,{children:[s.jsx(Kt,{size:16}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(ZE,{size:16}),"Copy"]})})]})]}),s.jsxs("div",{style:{display:"flex",gap:"12px"},children:[s.jsx("button",{onClick:()=>e(`/tickets/${k.id}`),style:{flex:1,padding:"12px 20px",backgroundColor:"#1e3a5f",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:J=>J.currentTarget.style.backgroundColor="#2c5282",onMouseLeave:J=>J.currentTarget.style.backgroundColor="#1e3a5f",children:"View Ticket"}),s.jsx("button",{onClick:vr,style:{flex:1,padding:"12px 20px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px",color:"#374151",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:J=>J.currentTarget.style.backgroundColor="#f9fafb",onMouseLeave:J=>J.currentTarget.style.backgroundColor="white",children:"Create Another"})]})]})})})]})]})},nG="",pO=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`:null,iG=()=>{const{sequenceKey:e}=Bf(),[t]=qf(),n=t.get("step"),i=n?parseInt(n,10):null,[l,c]=y.useState(null),[d,p]=y.useState(!0),[m,g]=y.useState(null);if(y.useEffect(()=>{e&&(async()=>{try{p(!0);const D=await fetch(`${nG}/api/sequences/${e}/supplies`);if(D.status===404){g("Sequence not found"),p(!1);return}if(!D.ok)throw new Error("Failed to fetch supplies");const R=await D.json();c(R),g(null)}catch(D){console.error("Error fetching supplies:",D),g("Failed to load supplies information")}finally{p(!1)}})()},[e]),d)return s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f8fafc",padding:"1rem"},children:s.jsx("div",{style:{maxWidth:"600px",margin:"0 auto"},children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{style:{height:"80px",backgroundColor:"#e5e7eb",borderRadius:"12px"}}),s.jsx("div",{style:{height:"200px",backgroundColor:"#e5e7eb",borderRadius:"12px"}}),s.jsx("div",{style:{height:"200px",backgroundColor:"#e5e7eb",borderRadius:"12px"}})]})})});if(m||!l)return s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f8fafc",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:s.jsxs("div",{style:{textAlign:"center",maxWidth:"400px"},children:[s.jsx(mn,{style:{width:"48px",height:"48px",color:"#d1d5db",margin:"0 auto 16px"}}),s.jsx("h1",{style:{color:"#111827",fontSize:"1.5rem",fontWeight:"bold",marginBottom:"12px"},children:"Not Found"}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:m||"The supplies information you're looking for doesn't exist."})]})});let h=l.tools||[],x=l.parts||[];i!==null&&(h=h.filter(T=>T.step_num===i||!T.step_num),x=x.filter(T=>T.step_num===i||!T.step_num));const S=h.length>0,j=x.length>0,k=!S&&!j,w=h.filter(T=>!T.step_num),C=x.filter(T=>!T.step_num),z=[...new Set([...h.filter(T=>T.step_num).map(T=>T.step_num),...x.filter(T=>T.step_num).map(T=>T.step_num)])].sort((T,D)=>T-D),E=w.length>0||C.length>0,A=z.length>0,$=i===null&&A;return s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f8fafc",padding:"1rem"},children:s.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem",padding:"1rem"},children:[s.jsx("h1",{style:{color:"#1e3a5f",fontSize:"1.5rem",fontWeight:"700",marginBottom:"0.5rem"},children:i!==null?`Step ${i} Supplies`:"Supplies Needed"}),l.sequence_name&&s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:l.sequence_name})]}),k&&s.jsx(rt,{children:s.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[s.jsx(Kt,{style:{width:"48px",height:"48px",color:"#10b981",margin:"0 auto 16px"}}),s.jsx("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",marginBottom:"8px"},children:"No Special Supplies Needed"}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"You can complete this repair without any special tools or replacement parts."})]})}),E&&s.jsx(rt,{style:{marginBottom:"1rem"},children:s.jsxs("div",{style:{padding:"1rem"},children:[$&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:"2px solid #1e3a5f"},children:[s.jsx("h2",{style:{color:"#1e3a5f",fontSize:"1.125rem",fontWeight:"600",margin:0},children:"General Supplies"}),s.jsx(tt,{color:"blue",children:w.length+C.length})]}),s.jsx(Y2,{tools:w,parts:C,showStepHeaders:$})]})}),z.map(T=>{const D=l.tools?.filter(F=>F.step_num===T)||[],R=l.parts?.filter(F=>F.step_num===T)||[];return s.jsx(rt,{style:{marginBottom:"1rem"},children:s.jsxs("div",{style:{padding:"1rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:"2px solid #5a8aa3"},children:[s.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",backgroundColor:"#1e3a5f",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",fontWeight:"700"},children:T}),s.jsxs("h2",{style:{color:"#111827",fontSize:"1.125rem",fontWeight:"600",margin:0},children:["Step ",T," Supplies"]}),s.jsx(tt,{color:"blue",children:D.length+R.length})]}),s.jsx(Y2,{tools:D,parts:R,showStepHeaders:!0})]})},T)}),!k&&s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",padding:"1rem",backgroundColor:"#eff6ff",borderRadius:"8px",marginBottom:"1rem"},children:[s.jsx(rO,{style:{width:"16px",height:"16px",color:"#3b82f6",flexShrink:0,marginTop:"2px"}}),s.jsx("p",{style:{color:"#1e40af",fontSize:"0.75rem",margin:0,lineHeight:"1.5"},children:"Having the right tools and parts ready before you start will help you complete the repair more efficiently."})]}),s.jsx("div",{style:{textAlign:"center",padding:"1rem",borderTop:"1px solid #e5e7eb"},children:s.jsx("p",{style:{color:"#9ca3af",fontSize:"0.75rem"},children:"MAX Van Support"})})]})})},Y2=({tools:e,parts:t,showStepHeaders:n})=>{const i=e.filter(g=>g.is_required),l=e.filter(g=>!g.is_required),c=t.filter(g=>g.is_required),d=t.filter(g=>!g.is_required),p=e.length>0,m=t.length>0;return s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[p&&s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"0.75rem",paddingBottom:"0.5rem",borderBottom:"1px solid #e5e7eb"},children:[s.jsx(Pi,{style:{width:"18px",height:"18px",color:"#1e3a5f"}}),s.jsx("h3",{style:{color:"#111827",fontSize:"1rem",fontWeight:"600",margin:0},children:"Tools"}),s.jsx(tt,{color:"blue",children:e.length})]}),i.length>0&&s.jsxs("div",{style:{marginBottom:l.length>0?"1rem":0},children:[l.length>0&&s.jsx("p",{style:{color:"#dc2626",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Required"}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:i.map(g=>s.jsx(V2,{tool:g},g.id))})]}),l.length>0&&s.jsxs("div",{children:[s.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Optional"}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:l.map(g=>s.jsx(V2,{tool:g},g.id))})]})]}),m&&s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"0.75rem",paddingBottom:"0.5rem",borderBottom:"1px solid #e5e7eb"},children:[s.jsx(oO,{style:{width:"18px",height:"18px",color:"#10b981"}}),s.jsx("h3",{style:{color:"#111827",fontSize:"1rem",fontWeight:"600",margin:0},children:"Replacement Parts"}),s.jsx(tt,{color:"green",children:t.length})]}),c.length>0&&s.jsxs("div",{style:{marginBottom:d.length>0?"1rem":0},children:[d.length>0&&s.jsx("p",{style:{color:"#dc2626",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Required"}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:c.map(g=>s.jsx(G2,{part:g},g.id))})]}),d.length>0&&s.jsxs("div",{children:[s.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Optional"}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:d.map(g=>s.jsx(G2,{part:g},g.id))})]})]})]})},V2=({tool:e})=>s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[s.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:e.is_required?"#fef2f2":"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.is_required?s.jsx(Kt,{size:14,style:{color:"#dc2626"}}):s.jsx(QE,{size:14,style:{color:"#9ca3af"}})}),s.jsxs("div",{style:{flex:1,minWidth:0},children:[s.jsx("p",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"500",margin:0,marginBottom:e.tool_description?"4px":0},children:e.tool_name}),e.tool_description&&s.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",margin:0,lineHeight:"1.4"},children:e.tool_description})]}),e.tool_link&&s.jsxs("a",{href:pO(e.tool_link),target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 10px",backgroundColor:"#1e3a5f",color:"white",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"500",textDecoration:"none",flexShrink:0},children:["View",s.jsx(Mi,{size:12})]})]}),G2=({part:e})=>{const t=n=>n?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n):null;return s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[s.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:e.is_required?"#fef2f2":"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.is_required?s.jsx(Kt,{size:14,style:{color:"#dc2626"}}):s.jsx(QE,{size:14,style:{color:"#9ca3af"}})}),s.jsxs("div",{style:{flex:1,minWidth:0},children:[s.jsx("p",{style:{color:"#111827",fontSize:"0.875rem",fontWeight:"500",margin:0,marginBottom:"4px"},children:e.part_name}),s.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",alignItems:"center"},children:[e.part_number&&s.jsxs("span",{style:{color:"#6b7280",fontSize:"0.75rem",backgroundColor:"#e5e7eb",padding:"2px 6px",borderRadius:"4px"},children:["#",e.part_number]}),e.estimated_price&&s.jsxs("span",{style:{color:"#059669",fontSize:"0.75rem",fontWeight:"500"},children:["~",t(e.estimated_price)]})]}),e.part_description&&s.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",margin:0,marginTop:"4px",lineHeight:"1.4"},children:e.part_description})]}),e.part_link&&s.jsxs("a",{href:pO(e.part_link),target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 10px",backgroundColor:"#10b981",color:"white",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"500",textDecoration:"none",flexShrink:0},children:["Buy",s.jsx(sO,{size:12})]})]})},vy="",oG=3e4,by={active:5,waiting:30},aG=[{value:"recent",label:"Most Recent Activity"},{value:"oldest",label:"Oldest First"},{value:"longest_wait",label:"Longest Wait"},{value:"step",label:"By Step Number"},{value:"van",label:"By Van Number"}],sG=()=>{ii();const{showToast:e}=tu(),{user:t,logout:n,hasRole:i,isSiteAdmin:l}=xn(),[c,d]=y.useState([]),[p,m]=y.useState(!0),[g,h]=y.useState(!1),[x,S]=y.useState(!0),[j,k]=y.useState(new Set),[w,C]=y.useState(null),[z,E]=y.useState(null),[A,$]=y.useState("all"),[T,D]=y.useState("recent"),[R,F]=y.useState(new Set),[U,le]=y.useState({}),[X,ae]=y.useState(new Set),ye=y.useCallback(async(G=!1)=>{try{G?h(!0):m(!0);const de=await fetch(`${vy}/api/sequences/active`,{credentials:"include"});if(!de.ok)throw new Error("Failed to fetch active sequences");const ee=await de.json();d(ee||[])}catch(de){console.error("Error fetching active sequences:",de),e("Failed to load active sequences","error")}finally{m(!1),h(!1)}},[e]);y.useEffect(()=>{ye()},[ye]),y.useEffect(()=>{if(!x)return;const G=setInterval(()=>{ye(!0)},oG);return()=>clearInterval(G)},[ye,x]);const pe=y.useMemo(()=>{const G=new Set;return c.forEach(de=>{de.sequence_name?G.add(de.sequence_name):de.sequence_key&&G.add(de.sequence_key)}),Array.from(G).sort()},[c]),_e=y.useMemo(()=>{const G=c.length,de=c.filter(ze=>(ze.minutes_since_last_interaction||0)>by.waiting).length,ee=G>0?Math.round(c.reduce((ze,M)=>ze+(M.minutes_since_last_interaction||0),0)/G):0;return{total:G,needsAttention:de,avgTime:ee}},[c]),B=y.useMemo(()=>{let G=[...c];switch(A!=="all"&&(G=G.filter(de=>de.sequence_name===A||de.sequence_key===A)),T){case"recent":G.sort((de,ee)=>new Date(ee.last_interaction||0)-new Date(de.last_interaction||0));break;case"oldest":G.sort((de,ee)=>new Date(de.last_interaction||0)-new Date(ee.last_interaction||0));break;case"longest_wait":G.sort((de,ee)=>(ee.minutes_since_last_interaction||0)-(de.minutes_since_last_interaction||0));break;case"step":G.sort((de,ee)=>(ee.current_step||0)-(de.current_step||0));break;case"van":G.sort((de,ee)=>{const ze=de.van_number||"",M=ee.van_number||"";return ze.toString().localeCompare(M.toString(),void 0,{numeric:!0})});break}return G},[c,A,T]),Z=G=>G<by.active?{label:"Active",color:"green",dotColor:r.colors.accent.success}:G<by.waiting?{label:"Waiting",color:"yellow",dotColor:r.colors.accent.warning}:{label:"Needs Attention",color:"red",dotColor:r.colors.accent.danger},ce=G=>{if(!G)return"N/A";const de=new Date(G),ze=new Date-de,M=Math.floor(ze/6e4),P=Math.floor(M/60),ie=Math.floor(P/24);return M<1?"Just now":M<60?`${M}m ago`:P<24?`${P}h ${M%60}m ago`:`${ie}d ${P%24}h ago`},Ce=G=>{k(de=>{const ee=new Set(de);return ee.has(G)?ee.delete(G):ee.add(G),ee})},Te=async G=>{if(!U[G]){ae(de=>new Set(de).add(G));try{const de=await fetch(`${vy}/api/sequences/${G}/messages`,{credentials:"include"});if(!de.ok)throw new Error("Failed to fetch messages");const ee=await de.json();le(ze=>({...ze,[G]:ee||[]}))}catch(de){console.error("Error fetching messages:",de),e("Failed to load messages","error")}finally{ae(de=>{const ee=new Set(de);return ee.delete(G),ee})}}},W=(G,de)=>{de.stopPropagation(),F(ee=>{const ze=new Set(ee);return ze.has(G)?ze.delete(G):(ze.add(G),U[G]||Te(G)),ze})},q=(G,de)=>{de.stopPropagation();const ee=G.replace(/\D/g,"");navigator.clipboard.writeText(ee).then(()=>{e("Phone number copied!","success")}).catch(()=>{e("Failed to copy phone number","error")})},re=async(G,de=!1)=>{C(G.id),E(null);try{const ee=await fetch(`${vy}/api/sequences/${G.id}/close`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"closed",createTicket:de,closedBy:t?.email||"tech"})});if(!ee.ok)throw new Error("Failed to close sequence");const ze=await ee.json();ze.success?(de&&ze.ticketNumber?e(`Sequence closed. Ticket #${ze.ticketNumber} created.`,"success"):e("Sequence closed successfully","success"),d(M=>M.filter(P=>P.id!==G.id))):e(ze.message||"Failed to close sequence","error")}catch(ee){console.error("Error closing sequence:",ee),e("Failed to close sequence","error")}finally{C(null)}},be=(G,de)=>{E({sequence:G,createTicket:de,title:de?"Close & Create Ticket":"Close Sequence",message:de?`Close this sequence and create a support ticket for ${G.phone_number}?`:`Close this sequence for ${G.phone_number}? This cannot be undone.`})},xe=G=>{if(!G)return"Unknown";const de=G.replace(/\D/g,"");return de.length===10?`(${de.slice(0,3)}) ${de.slice(3,6)}-${de.slice(6)}`:de.length===11&&de.startsWith("1")?`+1 (${de.slice(1,4)}) ${de.slice(4,7)}-${de.slice(7)}`:G},je=G=>G?new Date(G).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return p?s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:t,onLogout:n,hasRole:i,isSiteAdmin:l}),s.jsx("div",{style:{flex:1,marginLeft:"260px",padding:r.spacing.xl},children:s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:s.jsx(Dn,{size:48,style:{color:r.colors.accent.primary,animation:"spin 1s linear infinite"}})})})]}):s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:t,onLogout:n,hasRole:i,isSiteAdmin:l}),s.jsxs("div",{style:{flex:1,marginLeft:"260px",padding:r.spacing.xl},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsx(bx,{size:28,style:{color:r.colors.accent.primary}}),s.jsx("h1",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Active Sequences"}),s.jsx(tt,{color:"blue",children:c.length})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md},children:[s.jsxs("button",{onClick:()=>S(!x),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:x?r.colors.accent.primary:"transparent",color:x?"#fff":r.colors.text.secondary,border:`1px solid ${x?r.colors.accent.primary:r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},title:x?"Auto-refresh enabled (30s)":"Auto-refresh disabled",children:[x?s.jsx(Lf,{size:16}):s.jsx(VK,{size:16}),"Auto-refresh"]}),s.jsxs("button",{onClick:()=>ye(!0),disabled:g,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:g?"not-allowed":"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,opacity:g?.6:1,transition:"all 0.2s"},children:[s.jsx(Db,{size:16,style:{animation:g?"spin 1s linear infinite":"none"}}),"Refresh"]})]})]}),s.jsx(rt,{style:{marginBottom:r.spacing.lg},children:s.jsxs("div",{style:{padding:r.spacing.md,display:"flex",alignItems:"center",justifyContent:"center",gap:r.spacing.xl},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(bx,{size:18,style:{color:r.colors.accent.primary}}),s.jsxs("span",{style:{color:r.colors.text.primary,fontWeight:r.fontWeight.semibold},children:[_e.total," active"]})]}),s.jsx("div",{style:{width:"1px",height:"20px",backgroundColor:r.colors.border.light}}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(mn,{size:18,style:{color:_e.needsAttention>0?r.colors.accent.danger:r.colors.text.tertiary}}),s.jsxs("span",{style:{color:_e.needsAttention>0?r.colors.accent.danger:r.colors.text.secondary,fontWeight:_e.needsAttention>0?r.fontWeight.semibold:r.fontWeight.normal},children:[_e.needsAttention," waiting >30min"]})]}),s.jsx("div",{style:{width:"1px",height:"20px",backgroundColor:r.colors.border.light}}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(Mn,{size:18,style:{color:r.colors.text.tertiary}}),s.jsxs("span",{style:{color:r.colors.text.secondary},children:["Avg time: ",_e.avgTime," min"]})]})]})}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.lg,alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(eO,{size:16,style:{color:r.colors.text.tertiary}}),s.jsxs("select",{value:A,onChange:G=>$(G.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",minWidth:"180px"},children:[s.jsx("option",{value:"all",children:"All Sequences"}),pe.map(G=>s.jsx("option",{value:G,children:G},G))]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(GF,{size:16,style:{color:r.colors.text.tertiary}}),s.jsx("select",{value:T,onChange:G=>D(G.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.background.secondary,color:r.colors.text.primary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,cursor:"pointer",minWidth:"180px"},children:aG.map(G=>s.jsx("option",{value:G.value,children:G.label},G.value))})]}),A!=="all"&&s.jsxs("span",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.sm},children:["Showing ",B.length," of ",c.length]})]}),B.length===0&&s.jsx(rt,{children:s.jsxs("div",{style:{padding:r.spacing["2xl"],textAlign:"center",color:r.colors.text.secondary},children:[s.jsx(Kt,{size:48,style:{color:r.colors.accent.success,marginBottom:r.spacing.md}}),s.jsx("h3",{style:{margin:0,marginBottom:r.spacing.sm,color:r.colors.text.primary,fontSize:r.fontSize.lg},children:A!=="all"?"No Matching Sequences":"No Active Sequences"}),s.jsx("p",{style:{margin:0,fontSize:r.fontSize.sm},children:A!=="all"?"No sequences match the selected filter.":"There are no customers currently going through troubleshooting sequences."})]})}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.md},children:B.map(G=>{const de=Z(G.minutes_since_last_interaction||0),ee=j.has(G.id),ze=w===G.id,M=R.has(G.id),P=X.has(G.id),ie=U[G.id]||[];return s.jsx(rt,{style:{opacity:ze?.6:1},children:s.jsxs("div",{style:{padding:r.spacing.lg},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.lg,cursor:"pointer"},onClick:()=>Ce(G.id),children:[s.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:de.dotColor,flexShrink:0}}),s.jsxs("div",{style:{flex:1,minWidth:0},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm,marginBottom:"4px"},children:[s.jsx(cl,{size:14,style:{color:r.colors.text.tertiary}}),s.jsxs("button",{onClick:ge=>q(G.phone_number,ge),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,background:"none",border:"none",padding:0,cursor:"pointer",color:r.colors.text.primary,fontWeight:r.fontWeight.semibold,fontSize:r.fontSize.base},title:"Click to copy phone number",children:[xe(G.phone_number),s.jsx(ZE,{size:12,style:{color:r.colors.text.tertiary}})]}),G.owner_name&&s.jsxs("span",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["(",G.owner_name,")"]})]}),G.van_number&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(ia,{size:14,style:{color:r.colors.text.tertiary}}),s.jsxs("span",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["Van #",G.van_number,G.van_make&&` - ${G.van_make}`,G.van_version&&` ${G.van_version}`,G.van_year&&` ${G.van_year}`]})]})]}),s.jsxs("div",{style:{textAlign:"center",minWidth:"150px"},children:[s.jsx("div",{style:{color:r.colors.text.primary,fontWeight:r.fontWeight.medium,fontSize:r.fontSize.sm},children:G.sequence_name||G.sequence_key}),s.jsxs("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs},children:["Step ",G.current_step]})]}),s.jsxs("div",{style:{textAlign:"right",minWidth:"120px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.xs,justifyContent:"flex-end"},children:[s.jsx(Mn,{size:14,style:{color:r.colors.text.tertiary}}),s.jsx("span",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:ce(G.last_interaction)})]}),s.jsx(tt,{color:de.color,size:"sm",style:{marginTop:"4px"},children:de.label})]}),s.jsx("div",{style:{flexShrink:0},children:ee?s.jsx(Ec,{size:20,style:{color:r.colors.text.tertiary}}):s.jsx(ei,{size:20,style:{color:r.colors.text.tertiary}})})]}),ee&&s.jsxs("div",{style:{marginTop:r.spacing.lg,paddingTop:r.spacing.lg,borderTop:`1px solid ${r.colors.border.light}`},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:r.spacing.md,marginBottom:r.spacing.lg},children:[G.sequence_description&&s.jsxs("div",{children:[s.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Description"}),s.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:G.sequence_description})]}),s.jsxs("div",{children:[s.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Started"}),s.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:G.started_at?new Date(G.started_at).toLocaleString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Last Interaction"}),s.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:G.last_interaction?new Date(G.last_interaction).toLocaleString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Handoff Count"}),s.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:G.handoff_count||0})]}),G.owner_phone&&s.jsxs("div",{children:[s.jsx("div",{style:{color:r.colors.text.tertiary,fontSize:r.fontSize.xs,marginBottom:"4px"},children:"Owner Phone"}),s.jsx("div",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:xe(G.owner_phone)})]})]}),s.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[s.jsxs("button",{onClick:ge=>W(G.id,ge),style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:M?r.colors.background.tertiary:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},children:[s.jsx(Ei,{size:16}),M?"Hide Messages":"View Messages",M?s.jsx(Ec,{size:14}):s.jsx(ei,{size:14})]}),M&&s.jsx("div",{style:{marginTop:r.spacing.md,padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,maxHeight:"400px",overflowY:"auto"},children:P?s.jsx("div",{style:{display:"flex",justifyContent:"center",padding:r.spacing.lg},children:s.jsx(Dn,{size:24,style:{color:r.colors.accent.primary,animation:"spin 1s linear infinite"}})}):ie.length===0?s.jsx("div",{style:{textAlign:"center",color:r.colors.text.tertiary,padding:r.spacing.lg},children:"No messages found"}):s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.sm},children:ie.map(ge=>{const V=ge.direction==="outbound";return s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:V?"flex-start":"flex-end"},children:[s.jsx("div",{style:{maxWidth:"80%",padding:r.spacing.sm,borderRadius:r.radius.md,backgroundColor:V?r.colors.background.secondary:r.colors.accent.primary,color:V?r.colors.text.primary:"#fff",fontSize:r.fontSize.sm,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:ge.message_body}),s.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary,marginTop:"2px"},children:[je(ge.created_at),V?" (System)":" (Customer)"]})]},ge.id)})})})]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,justifyContent:"flex-end"},children:[s.jsxs("button",{onClick:ge=>{ge.stopPropagation(),be(G,!1)},disabled:ze,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:ze?"not-allowed":"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},children:[s.jsx(Nt,{size:16}),"Close Sequence"]}),s.jsxs("button",{onClick:ge=>{ge.stopPropagation(),be(G,!0)},disabled:ze,style:{display:"flex",alignItems:"center",gap:r.spacing.xs,padding:`${r.spacing.sm} ${r.spacing.md}`,backgroundColor:r.colors.accent.primary,color:"#fff",border:"none",borderRadius:r.radius.md,cursor:ze?"not-allowed":"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,transition:"all 0.2s"},children:[ze?s.jsx(Dn,{size:16,style:{animation:"spin 1s linear infinite"}}):s.jsx(uo,{size:16}),"Close & Create Ticket"]})]})]})]})},G.id)})}),z&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsx(rt,{style:{width:"400px",maxWidth:"90vw"},children:s.jsxs("div",{style:{padding:r.spacing.xl},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.lg},children:[s.jsx(mn,{size:24,style:{color:r.colors.accent.warning}}),s.jsx("h3",{style:{margin:0,fontSize:r.fontSize.lg,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:z.title})]}),s.jsx("p",{style:{margin:0,marginBottom:r.spacing.xl,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:z.message}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>E(null),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"Cancel"}),s.jsx("button",{onClick:()=>re(z.sequence,z.createTicket),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:z.createTicket?r.colors.accent.primary:r.colors.accent.danger,color:"#fff",border:"none",borderRadius:r.radius.md,cursor:"pointer",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:z.createTicket?"Create Ticket":"Close"})]})]})})})]})]})},Yd=e=>{if(!e)return{valid:!1,error:"Phone number is required"};const t=e.replace(/\D/g,"");return t.length===10||t.length===11&&t[0]==="1"?{valid:!0,formatted:gO(t)}:{valid:!1,error:"Phone number must be 10 digits"}},gO=e=>{const t=e.replace(/\D/g,"");if(t.length===11&&t[0]==="1"){const n=t.slice(1,4),i=t.slice(4,7),l=t.slice(7,11);return`+1 (${n}) ${i}-${l}`}if(t.length===10){const n=t.slice(0,3),i=t.slice(3,6),l=t.slice(6,10);return`+1 (${n}) ${i}-${l}`}return e},mO=e=>e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?{valid:!0}:{valid:!1,error:"Invalid email format"}:{valid:!1,error:"Email is required"},lG=e=>{if(!e)return{valid:!1,error:"Year is required"};const t=new Date().getFullYear(),n=parseInt(e,10);return isNaN(n)?{valid:!1,error:"Year must be a number"}:n<2e3?{valid:!1,error:"Year must be 2000 or later"}:n>t+1?{valid:!1,error:`Year cannot be later than ${t+1}`}:{valid:!0}},cG=e=>!e||e.trim()===""?{valid:!1,error:"Van number is required"}:{valid:!0},uG=e=>{if(!e||e.trim()==="")return{valid:!0};const t=e.toUpperCase();return t.length!==17?{valid:!1,error:"VIN must be exactly 17 characters"}:/[IOQ]/.test(t)?{valid:!1,error:"VIN cannot contain letters I, O, or Q"}:{valid:!0}},hO=e=>!e||e.trim()===""?{valid:!1,error:"Name is required"}:e.trim().length<2?{valid:!1,error:"Name must be at least 2 characters"}:{valid:!0},dG=e=>{const t=["Ford","Mercedes"];return e?t.includes(e)?{valid:!0}:{valid:!1,error:"Make must be Ford or Mercedes"}:{valid:!1,error:"Make is required"}},fG=e=>{const t=["3000","4000"];return e?t.includes(e)?{valid:!0}:{valid:!1,error:"Version must be 3000 or 4000"}:{valid:!1,error:"Version is required"}};function pG(){const{user:e,logout:t,hasRole:n,isSiteAdmin:i}=xn(),[l,c]=qf(),[d,p]=y.useState([]),[m,g]=y.useState([]),[h,x]=y.useState(!0),[S,j]=y.useState(""),[k,w]=y.useState(""),[C,z]=y.useState(""),[E,A]=y.useState(""),[$,T]=y.useState(""),[D,R]=y.useState(""),[F,U]=y.useState(""),[le,X]=y.useState(parseInt(l.get("page"))||1),[ae,ye]=y.useState(parseInt(l.get("limit"))||25),[pe,_e]=y.useState(null),[B,Z]=y.useState(!1),[ce,Ce]=y.useState(!1),[Te,W]=y.useState(!1),[q,re]=y.useState(null),[be,xe]=y.useState(null),[je,G]=y.useState({van_number:"",make:"",version:"",year:new Date().getFullYear(),vin:"",owner_id:""}),[de,ee]=y.useState({});y.useEffect(()=>{const L=setTimeout(()=>{if(A(C),C!==E){X(1);const we=new URLSearchParams(window.location.search);we.set("page","1"),c(we)}},500);return()=>clearTimeout(L)},[C,E,c]);const ze=y.useCallback(async()=>{x(!0),j("");try{const L=new URLSearchParams({page:le.toString(),limit:ae.toString()});E&&E.trim()!==""&&L.append("search",E.trim());const we=await fetch(`/api/vans?${L.toString()}`,{credentials:"include"});if(!we.ok)throw new Error("Failed to fetch vans");const Fe=await we.json();p(Fe.vans||[]),_e(Fe.pagination)}catch(L){j(L.message)}finally{x(!1)}},[le,ae,E]),M=y.useCallback(async()=>{try{const L=await fetch("/api/owners?limit=100",{credentials:"include"});if(!L.ok)throw new Error("Failed to fetch owners");const we=await L.json();g(we.owners||we)}catch{}},[]);y.useEffect(()=>{ze(),M()},[ze,M]);const P=y.useCallback(()=>{G({van_number:"",make:"",version:"",year:new Date().getFullYear(),vin:"",owner_id:""}),ee({})},[]),ie=y.useCallback(()=>{const L={},we=cG(je.van_number);we.valid||(L.van_number=we.error);const Fe=dG(je.make);Fe.valid||(L.make=Fe.error);const Me=fG(je.version);Me.valid||(L.version=Me.error);const Ze=lG(je.year);if(Ze.valid||(L.year=Ze.error),je.vin){const Ne=uG(je.vin);Ne.valid||(L.vin=Ne.error)}return je.owner_id||(L.owner_id="Owner is required"),ee(L),Object.keys(L).length===0},[je]),ge=y.useCallback((L,we)=>{G(Fe=>({...Fe,[L]:we}))},[]),V=y.useCallback(L=>{w(L),setTimeout(()=>w(""),3e3)},[]),Ae=y.useCallback(async()=>{if(!ie()){j("Please fix validation errors");return}try{const L=await fetch("/api/vans",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(je)}),we=await L.json();if(!L.ok)throw new Error(we.error||"Failed to create van");await ze(),Z(!1),P(),V("Van created successfully")}catch(L){j(L.message)}},[je,ie,ze,P,V]),Le=y.useCallback(async()=>{if(!ie()){j("Please fix validation errors");return}try{const L=await fetch(`/api/vans/${q.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(je)}),we=await L.json();if(!L.ok)throw new Error(we.error||"Failed to update van");await ze(),Ce(!1),re(null),P(),V("Van updated successfully")}catch(L){j(L.message)}},[q,je,ie,ze,P,V]),he=y.useCallback(async()=>{try{const L=await fetch(`/api/vans/${be.id}/check-dependencies`,{credentials:"include"});if(!L.ok)throw new Error("Failed to check van dependencies");const we=await L.json();if(we.hasDependencies){const Me=`Cannot delete van ${be.van_number}. ${we.message}. You cannot delete vans with historical data to maintain analytics integrity.`;j(Me),W(!1),xe(null);return}const Fe=await fetch(`/api/vans/${be.id}`,{method:"DELETE",credentials:"include"});if(!Fe.ok){const Me=await Fe.json();throw new Error(Me.error||"Failed to delete van")}await ze(),W(!1),xe(null),V(`Van ${be.van_number} deleted successfully!`)}catch(L){j(L.message)}},[be,ze,V]),We=y.useCallback(L=>{re(L),G({van_number:L.van_number||"",make:L.make||"",version:L.version||"",year:L.year||new Date().getFullYear(),vin:L.vin||"",owner_id:L.owner_id||""}),ee({}),Ce(!0)},[]),te=y.useCallback(L=>{xe(L),W(!0)},[]),Oe=y.useCallback(L=>{X(L);const we=new URLSearchParams(l);we.set("page",L.toString()),c(we),window.scrollTo({top:0,behavior:"smooth"})},[l,c]),Ye=y.useCallback(L=>{ye(L),X(1);const we=new URLSearchParams(l);we.set("limit",L.toString()),we.set("page","1"),c(we)},[l,c]),nt=y.useMemo(()=>{let L=[...d];return $&&(L=L.filter(we=>we.make===$)),D&&(L=L.filter(we=>we.year>=parseInt(D))),F&&(L=L.filter(we=>we.year<=parseInt(F))),L},[d,$,D,F]),Je=y.useMemo(()=>s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Van Number ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"text",value:je.van_number,onChange:L=>ge("van_number",L.target.value.toUpperCase()),placeholder:"e.g., VAN001",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${de.van_number?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,textTransform:"uppercase"}}),de.van_number&&s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:de.van_number})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Make ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsxs("select",{value:je.make,onChange:L=>ge("make",L.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${de.make?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[s.jsx("option",{value:"",children:"Select make..."}),s.jsx("option",{value:"Ford",children:"Ford"}),s.jsx("option",{value:"Mercedes",children:"Mercedes"})]}),de.make&&s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:de.make})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Version ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsxs("select",{value:je.version,onChange:L=>ge("version",L.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${de.version?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[s.jsx("option",{value:"",children:"Select version..."}),s.jsx("option",{value:"3000",children:"3000"}),s.jsx("option",{value:"4000",children:"4000"})]}),de.version&&s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:de.version})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Year ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"number",value:je.year,onChange:L=>ge("year",L.target.value),min:"2000",max:new Date().getFullYear()+1,style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${de.year?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),de.year&&s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:de.year})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"VIN (Optional)"}),s.jsx("input",{type:"text",value:je.vin,onChange:L=>ge("vin",L.target.value.toUpperCase()),placeholder:"17-character VIN",maxLength:17,style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${de.vin?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontFamily:"monospace",textTransform:"uppercase"}}),de.vin&&s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:de.vin})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Owner ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsxs("select",{value:je.owner_id,onChange:L=>ge("owner_id",L.target.value),style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${de.owner_id?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[s.jsx("option",{value:"",children:"Select owner..."}),m.map(L=>s.jsxs("option",{value:L.id,children:[L.name," - ",L.phone]},L.id))]}),de.owner_id&&s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:de.owner_id})]})]}),[je,de,m,ge]);return h?s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:e,onLogout:t,hasRole:n,isSiteAdmin:i}),s.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:s.jsx("div",{style:{textAlign:"center",padding:r.spacing["2xl"]},children:s.jsx("p",{style:{color:r.colors.text.secondary},children:"Loading vans..."})})})]}):s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:e,onLogout:t,hasRole:n,isSiteAdmin:i}),s.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[k&&s.jsx("div",{style:{backgroundColor:r.colors.status.success+"20",color:r.colors.status.success,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.status.success}`},children:k}),S&&s.jsx("div",{style:{backgroundColor:r.colors.accent.danger+"20",color:r.colors.accent.danger,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.accent.danger}`},children:S}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:r.spacing.xl},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[s.jsx(ia,{size:32,color:r.colors.accent.primary,strokeWidth:2}),s.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Vans"}),pe&&pe.totalCount>0&&s.jsx("span",{style:{backgroundColor:r.colors.accent.primary,color:"#ffffff",padding:`${r.spacing.xs} ${r.spacing.sm}`,borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:pe.totalCount})]}),s.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Manage mobile grooming vans and their owners"})]}),(i()||n("admin")||n("manager"))&&s.jsxs("button",{onClick:()=>{P(),Z(!0)},style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:L=>L.currentTarget.style.backgroundColor=r.colors.accent.secondary,onMouseLeave:L=>L.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[s.jsx(sr,{size:20}),"Add New Van"]})]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.lg,flexWrap:"wrap"},children:[s.jsx("div",{style:{flex:1,minWidth:"300px"},children:s.jsxs("div",{style:{position:"relative"},children:[s.jsx(yi,{size:20,style:{position:"absolute",left:r.spacing.sm,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary}}),s.jsx("input",{type:"text",placeholder:"Search by van number, make, or owner...",value:C,onChange:L=>z(L.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.sm} ${r.spacing.sm} 40px`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]})}),s.jsxs("select",{value:$,onChange:L=>T(L.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.lg}`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm},children:[s.jsx("option",{value:"",children:"All Makes"}),s.jsx("option",{value:"Ford",children:"Ford"}),s.jsx("option",{value:"Mercedes",children:"Mercedes"})]}),s.jsx("input",{type:"number",placeholder:"Year from",value:D,onChange:L=>R(L.target.value),style:{padding:`${r.spacing.sm}`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,width:"120px"}}),s.jsx("input",{type:"number",placeholder:"Year to",value:F,onChange:L=>U(L.target.value),style:{padding:`${r.spacing.sm}`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,width:"120px"}})]}),s.jsx(rt,{children:nt.length===0&&!h?s.jsxs("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:[s.jsx(ia,{size:48,style:{marginBottom:r.spacing.md,opacity:.3}}),s.jsx("p",{style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium},children:"No vans found"}),s.jsx("p",{style:{fontSize:r.fontSize.sm},children:C||$||D||F?"Try adjusting your filters":"Add your first van to get started"})]}):s.jsxs("div",{style:{overflowX:"auto"},children:[s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:`2px solid ${r.colors.border.medium}`},children:[s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Van Number"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Make"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Version"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Year"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Owner"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"right",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Actions"})]})}),s.jsx("tbody",{children:nt.map(L=>s.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.2s"},onMouseEnter:we=>we.currentTarget.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:we=>we.currentTarget.style.backgroundColor="transparent",children:[s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("div",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:L.van_number})}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.primary+"20",color:r.colors.accent.primary,borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:L.make})}),s.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:L.version||"-"}),s.jsx("td",{style:{padding:r.spacing.md,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:L.year}),s.jsx("td",{style:{padding:r.spacing.md},children:L.owner?s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.primary,fontWeight:r.fontWeight.medium},children:L.owner.name}),s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.text.tertiary},children:L.owner.phone})]}):s.jsx("span",{style:{color:r.colors.text.tertiary},children:"-"})}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"right"},children:(i()||n("admin")||n("manager"))&&s.jsxs("div",{style:{display:"flex",gap:r.spacing.xs,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>We(L),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Edit van",children:s.jsx(eu,{size:16})}),s.jsx("button",{onClick:()=>te(L),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete van",children:s.jsx(Kr,{size:16})})]})})]},L.id))})]}),pe&&pe.totalCount>0&&s.jsx(hc,{currentPage:pe.page,totalPages:pe.totalPages,pageSize:pe.limit,totalCount:pe.totalCount,onPageChange:Oe,onPageSizeChange:Ye,loading:h})]})}),B&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>Z(!1),children:s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:L=>L.stopPropagation(),children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Add New Van"}),s.jsx("button",{onClick:()=>Z(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:s.jsx(Nt,{size:24})})]}),s.jsxs("div",{style:{padding:r.spacing.xl},children:[Je,s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[s.jsx("button",{onClick:Ae,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Create Van"}),s.jsx("button",{onClick:()=>Z(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),ce&&q&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>Ce(!1),children:s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:L=>L.stopPropagation(),children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Edit Van"}),s.jsx("button",{onClick:()=>Ce(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:s.jsx(Nt,{size:24})})]}),s.jsxs("div",{style:{padding:r.spacing.xl},children:[Je,s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[s.jsx("button",{onClick:Le,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Save Changes"}),s.jsx("button",{onClick:()=>Ce(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),Te&&be&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>W(!1),children:s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"500px",padding:r.spacing.xl},onClick:L=>L.stopPropagation(),children:[s.jsx("h2",{style:{margin:0,marginBottom:r.spacing.md,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Delete Van?"}),s.jsxs("p",{style:{margin:0,marginBottom:r.spacing.lg,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["Are you sure you want to delete van ",s.jsx("strong",{children:be.van_number}),"?"]}),s.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,marginBottom:r.spacing.lg},children:[s.jsxs("p",{style:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[s.jsx("strong",{children:"Make:"})," ",be.make," ",be.version]}),s.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[s.jsx("strong",{children:"Year:"})," ",be.year]}),s.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[s.jsx("strong",{children:"Owner:"})," ",be.owner?.name]})]}),s.jsx("p",{style:{margin:0,marginBottom:r.spacing.xl,color:r.colors.accent.danger,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"This action cannot be undone."}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[s.jsx("button",{onClick:he,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Delete Van"}),s.jsx("button",{onClick:()=>W(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})})]})]})}function gG(){const{user:e,logout:t,hasRole:n,isSiteAdmin:i}=xn(),[l,c]=qf(),[d,p]=y.useState([]),[m,g]=y.useState(!0),[h,x]=y.useState(""),[S,j]=y.useState(""),[k,w]=y.useState(""),[C,z]=y.useState(""),[E,A]=y.useState(parseInt(l.get("page"))||1),[$,T]=y.useState(parseInt(l.get("limit"))||25),[D,R]=y.useState(null),[F,U]=y.useState(!1),[le,X]=y.useState(!1),[ae,ye]=y.useState(!1),[pe,_e]=y.useState(null),[B,Z]=y.useState(null),[ce,Ce]=y.useState({name:"",company:"",phone:"",email:""}),[Te,W]=y.useState({});y.useEffect(()=>{const V=setTimeout(()=>{if(z(k),k!==C){A(1);const Ae=new URLSearchParams(window.location.search);Ae.set("page","1"),c(Ae)}},500);return()=>clearTimeout(V)},[k,C,c]);const q=y.useCallback(async()=>{g(!0),x("");try{const V=new URLSearchParams({page:E.toString(),limit:$.toString()});C&&C.trim()!==""&&V.append("search",C.trim());const Ae=await fetch(`/api/owners?${V.toString()}`,{credentials:"include"});if(!Ae.ok)throw new Error("Failed to fetch owners");const Le=await Ae.json();p(Le.owners||[]),R(Le.pagination)}catch(V){x(V.message)}finally{g(!1)}},[E,$,C]);y.useEffect(()=>{q()},[q]);const re=y.useCallback(()=>{Ce({name:"",company:"",phone:"",email:""}),W({})},[]),be=y.useCallback(()=>{const V={},Ae=hO(ce.name);Ae.valid||(V.name=Ae.error);const Le=Yd(ce.phone);Le.valid||(V.phone=Le.error);const he=mO(ce.email);return he.valid||(V.email=he.error),W(V),Object.keys(V).length===0},[ce]),xe=y.useCallback((V,Ae)=>{Ce(Le=>({...Le,[V]:Ae}))},[]),je=y.useCallback(V=>{j(V),setTimeout(()=>j(""),3e3)},[]),G=y.useCallback(async()=>{if(!be()){x("Please fix validation errors");return}try{const V=Yd(ce.phone),Ae={...ce,phone:V.formatted||ce.phone},Le=await fetch("/api/owners",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Ae)}),he=await Le.json();if(!Le.ok)throw new Error(he.error||"Failed to create owner");await q(),U(!1),re(),je("Owner created successfully")}catch(V){x(V.message)}},[ce,be,re,je,q]),de=y.useCallback(async()=>{if(!be()){x("Please fix validation errors");return}try{const V=Yd(ce.phone),Ae={...ce,phone:V.formatted||ce.phone},Le=await fetch(`/api/owners/${pe.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Ae)}),he=await Le.json();if(!Le.ok)throw new Error(he.error||"Failed to update owner");await q(),X(!1),_e(null),re(),je("Owner updated successfully")}catch(V){x(V.message)}},[pe,ce,be,re,je,q]),ee=y.useCallback(async()=>{try{const V=await fetch(`/api/owners/${B.id}/check-dependencies`,{credentials:"include"});if(!V.ok)throw new Error("Failed to check owner dependencies");const Ae=await V.json();if(Ae.hasDependencies){const he=`Cannot delete ${B.name}. ${Ae.message}. You cannot delete owners with historical data to maintain system integrity.`;x(he),ye(!1),Z(null);return}const Le=await fetch(`/api/owners/${B.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"});if(!Le.ok){const he=await Le.json();throw new Error(he.error||"Failed to delete owner")}await q(),ye(!1),Z(null),je(`Owner ${B.name} deleted successfully!`)}catch(V){x(V.message)}},[B,je,q]),ze=y.useCallback(V=>{_e(V),Ce({name:V.name||"",company:V.company||"",phone:V.phone||"",email:V.email||""}),W({}),X(!0)},[]),M=y.useCallback(V=>{Z(V),ye(!0)},[]),P=y.useCallback(V=>{A(V);const Ae=new URLSearchParams(l);Ae.set("page",V.toString()),c(Ae),window.scrollTo({top:0,behavior:"smooth"})},[l,c]),ie=y.useCallback(V=>{T(V),A(1);const Ae=new URLSearchParams(l);Ae.set("limit",V.toString()),Ae.set("page","1"),c(Ae)},[l,c]),ge=y.useMemo(()=>s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Name ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"text",value:ce.name,onChange:V=>xe("name",V.target.value),placeholder:"Enter owner name",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${Te.name?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),Te.name&&s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:Te.name})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Company"}),s.jsx("input",{type:"text",value:ce.company,onChange:V=>xe("company",V.target.value),placeholder:"Company name (optional)",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Phone ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"tel",value:ce.phone,onChange:V=>xe("phone",V.target.value),placeholder:"(555) 123-4567",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${Te.phone?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),Te.phone&&s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:Te.phone})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Email ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"email",value:ce.email,onChange:V=>xe("email",V.target.value),placeholder:"owner@example.com",style:{width:"100%",padding:r.spacing.sm,border:`1px solid ${Te.email?r.colors.accent.danger:r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}}),Te.email&&s.jsx("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.danger,marginTop:r.spacing.xs},children:Te.email})]})]}),[ce,Te,xe]);return m?s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:e,onLogout:t,hasRole:n,isSiteAdmin:i}),s.jsx("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:s.jsx("div",{style:{textAlign:"center",padding:r.spacing["2xl"]},children:s.jsx("p",{style:{color:r.colors.text.secondary},children:"Loading owners..."})})})]}):s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:e,onLogout:t,hasRole:n,isSiteAdmin:i}),s.jsxs("div",{style:{marginLeft:"260px",flex:1,padding:r.spacing["2xl"]},children:[S&&s.jsx("div",{style:{backgroundColor:r.colors.status.success+"20",color:r.colors.status.success,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.status.success}`},children:S}),h&&s.jsx("div",{style:{backgroundColor:r.colors.accent.danger+"20",color:r.colors.accent.danger,padding:r.spacing.md,borderRadius:r.radius.md,marginBottom:r.spacing.lg,border:`1px solid ${r.colors.accent.danger}`},children:h}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:r.spacing.xl},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.md,marginBottom:r.spacing.xs},children:[s.jsx(kx,{size:32,color:r.colors.accent.primary,strokeWidth:2}),s.jsx("h1",{style:{fontSize:r.fontSize["4xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0},children:"Owners"}),D&&D.totalCount>0&&s.jsx("span",{style:{padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:r.colors.accent.primary+"20",color:r.colors.accent.primary,borderRadius:r.radius.full,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold},children:D.totalCount})]}),s.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.base,margin:0},children:"Manage van owners and their contact information"})]}),(i()||n("admin")||n("manager"))&&s.jsxs("button",{onClick:()=>{re(),U(!0)},style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.sm} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:V=>V.currentTarget.style.backgroundColor=r.colors.accent.secondary,onMouseLeave:V=>V.currentTarget.style.backgroundColor=r.colors.accent.primary,children:[s.jsx(sr,{size:20}),"Add New Owner"]})]}),s.jsx("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.lg,flexWrap:"wrap"},children:s.jsx("div",{style:{flex:1,minWidth:"300px"},children:s.jsxs("div",{style:{position:"relative"},children:[s.jsx(yi,{size:20,style:{position:"absolute",left:r.spacing.sm,top:"50%",transform:"translateY(-50%)",color:r.colors.text.tertiary}}),s.jsx("input",{type:"text",placeholder:"Search by name, company, phone, or email...",value:k,onChange:V=>w(V.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.sm} ${r.spacing.sm} 40px`,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm}})]})})}),s.jsx(rt,{children:d.length===0&&!m?s.jsxs("div",{style:{textAlign:"center",padding:r.spacing["2xl"],color:r.colors.text.secondary},children:[s.jsx(kx,{size:48,style:{marginBottom:r.spacing.md,opacity:.3}}),s.jsx("p",{style:{fontSize:r.fontSize.lg,fontWeight:r.fontWeight.medium},children:"No owners found"}),s.jsx("p",{style:{fontSize:r.fontSize.sm},children:k?"Try adjusting your search":"Add your first owner to get started"})]}):s.jsxs("div",{style:{overflowX:"auto"},children:[s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:`2px solid ${r.colors.border.medium}`},children:[s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Name"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Company"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Phone"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Email"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Vans"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"right",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary},children:"Actions"})]})}),s.jsx("tbody",{children:d.map(V=>s.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`,transition:"background-color 0.2s"},onMouseEnter:Ae=>Ae.currentTarget.style.backgroundColor=r.colors.background.tertiary,onMouseLeave:Ae=>Ae.currentTarget.style.backgroundColor="transparent",children:[s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("div",{style:{fontSize:r.fontSize.sm,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary},children:V.name})}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:V.company||"-"})}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:V.phone})}),s.jsx("td",{style:{padding:r.spacing.md},children:s.jsx("div",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:V.email})}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},children:s.jsx("span",{style:{display:"inline-block",padding:`${r.spacing.xs} ${r.spacing.sm}`,backgroundColor:V.van_count>0?r.colors.accent.primary+"20":r.colors.background.tertiary,color:V.van_count>0?r.colors.accent.primary:r.colors.text.tertiary,borderRadius:r.radius.md,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:V.van_count||0})}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"right"},children:(i()||n("admin")||n("manager"))&&s.jsxs("div",{style:{display:"flex",gap:r.spacing.xs,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>ze(V),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Edit owner",children:s.jsx(eu,{size:16})}),s.jsx("button",{onClick:()=>M(V),style:{padding:r.spacing.sm,backgroundColor:"transparent",color:r.colors.accent.danger,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete owner",children:s.jsx(Kr,{size:16})})]})})]},V.id))})]}),D&&D.totalCount>0&&s.jsx(hc,{currentPage:D.page,totalPages:D.totalPages,pageSize:D.limit,totalCount:D.totalCount,onPageChange:P,onPageSizeChange:ie,loading:m})]})}),F&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>U(!1),children:s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:V=>V.stopPropagation(),children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Add New Owner"}),s.jsx("button",{onClick:()=>U(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:s.jsx(Nt,{size:24})})]}),s.jsxs("div",{style:{padding:r.spacing.xl},children:[ge,s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[s.jsx("button",{onClick:G,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Create Owner"}),s.jsx("button",{onClick:()=>U(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),le&&pe&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>X(!1),children:s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},onClick:V=>V.stopPropagation(),children:[s.jsxs("div",{style:{padding:r.spacing.xl,borderBottom:`1px solid ${r.colors.border.light}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h2",{style:{margin:0,fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Edit Owner"}),s.jsx("button",{onClick:()=>X(!1),style:{background:"none",border:"none",cursor:"pointer",padding:r.spacing.xs,color:r.colors.text.secondary},children:s.jsx(Nt,{size:24})})]}),s.jsxs("div",{style:{padding:r.spacing.xl},children:[ge,pe.van_count>0&&s.jsx("div",{style:{marginTop:r.spacing.lg,padding:r.spacing.md,backgroundColor:r.colors.accent.warning+"10",borderRadius:r.radius.md,border:`1px solid ${r.colors.accent.warning}40`},children:s.jsxs("div",{style:{fontSize:r.fontSize.xs,color:r.colors.accent.warning,display:"flex",alignItems:"center",gap:r.spacing.xs},children:[s.jsx(xi,{size:14}),"This owner has ",pe.van_count," van(s). Changes will affect all associated vans."]})}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[s.jsx("button",{onClick:de,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Save Changes"}),s.jsx("button",{onClick:()=>X(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})]})}),ae&&B&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>ye(!1),children:s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:r.radius.lg,width:"90%",maxWidth:"500px",padding:r.spacing.xl},onClick:V=>V.stopPropagation(),children:[s.jsx("h2",{style:{margin:0,marginBottom:r.spacing.md,fontSize:r.fontSize.xl,fontWeight:r.fontWeight.bold,color:r.colors.text.primary},children:"Delete Owner?"}),s.jsxs("p",{style:{margin:0,marginBottom:r.spacing.lg,color:r.colors.text.secondary,fontSize:r.fontSize.sm},children:["Are you sure you want to delete ",s.jsx("strong",{children:B.name}),"?"]}),s.jsxs("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.background.tertiary,borderRadius:r.radius.md,marginBottom:r.spacing.lg},children:[s.jsxs("p",{style:{margin:0,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[s.jsx("strong",{children:"Email:"})," ",B.email]}),s.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[s.jsx("strong",{children:"Phone:"})," ",B.phone]}),B.company&&s.jsxs("p",{style:{margin:`${r.spacing.xs} 0 0 0`,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:[s.jsx("strong",{children:"Company:"})," ",B.company]})]}),s.jsx("p",{style:{margin:0,marginBottom:r.spacing.xl,color:r.colors.accent.danger,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium},children:"This action cannot be undone."}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[s.jsx("button",{onClick:ee,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.danger,color:"#ffffff",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Delete Owner"}),s.jsx("button",{onClick:()=>ye(!1),style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.medium}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})})]})]})}function mG(){const{user:e,logout:t,hasPermission:n,hasRole:i,isSiteAdmin:l}=xn(),[c,d]=y.useState([]),[p,m]=y.useState([]),[g,h]=y.useState(!0),[x,S]=y.useState(""),[j,k]=y.useState(""),[w,C]=y.useState(""),[z,E]=y.useState(""),[A,$]=y.useState("all"),[T,D]=y.useState(!1),[R,F]=y.useState(!1),[U,le]=y.useState(!1),[X,ae]=y.useState(!1),[ye,pe]=y.useState(null),[_e,B]=y.useState(null),[Z,ce]=y.useState(null),[Ce,Te]=y.useState(""),[W,q]=y.useState(""),[re,be]=y.useState({email:"",password:"",full_name:"",phone:"",role_name:""}),[xe,je]=y.useState({});y.useEffect(()=>{G(),de()},[]);const G=async()=>{h(!0),S("");try{console.log(" Fetching users...");const L=await fetch("/api/users",{credentials:"include"});if(!L.ok)throw new Error("Failed to fetch users");const we=await L.json();console.log(" Users data:",we),d(we)}catch(L){console.error(" Error fetching users:",L),S(L.message)}finally{h(!1)}},de=async()=>{try{console.log(" Fetching roles...");const L=await fetch("/api/roles",{credentials:"include"});if(!L.ok){m([{name:"admin",description:"Full system access"},{name:"manager",description:"Operational access"},{name:"technician",description:"View-only field access"}]);return}const we=await L.json();console.log(" Roles data:",we),m(we)}catch(L){console.error(" Error fetching roles:",L),m([{name:"admin",description:"Full system access"},{name:"manager",description:"Operational access"},{name:"technician",description:"View-only field access"}])}},ee=y.useCallback(()=>{be({email:"",password:"",full_name:"",phone:"",role_name:""}),je({})},[]),ze=y.useCallback((L=!1)=>{const we={},Fe=mO(re.email);if(Fe.valid||(we.email=Fe.error),!L&&!re.password&&(we.password="Password is required"),!L&&re.password&&re.password.length<6&&(we.password="Password must be at least 6 characters"),re.full_name){const Me=hO(re.full_name);Me.valid||(we.full_name=Me.error)}if(re.phone){const Me=Yd(re.phone);Me.valid||(we.phone=Me.error)}return re.role_name||(we.role_name="Role is required"),je(we),Object.keys(we).length===0},[re]),M=y.useCallback((L,we)=>{be(Fe=>({...Fe,[L]:we})),je(Fe=>({...Fe,[L]:""}))},[]),P=y.useCallback(L=>{k(L),setTimeout(()=>k(""),3e3)},[]),ie=y.useCallback(async L=>{try{const we=!L.notify_new_tickets;if(!(await fetch(`/api/users/${L.id}/notify-new-tickets`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({notify_new_tickets:we})})).ok)throw new Error("Failed to update notification preference");d(Me=>Me.map(Ze=>Ze.id===L.id?{...Ze,notify_new_tickets:we}:Ze)),P(`Ticket notifications ${we?"enabled":"disabled"} for ${L.email}`)}catch(we){S(we.message),setTimeout(()=>S(""),5e3)}},[P]),ge=y.useCallback(async()=>{if(console.log(" handleCreateUser called"),console.log(" userForm:",re),!ze(!1)){S("Please fix validation errors"),setTimeout(()=>S(""),5e3);return}if(re.role_name==="admin"&&!window.confirm(" You are creating an admin user with full system access. Are you sure?")){console.log(" Admin user creation cancelled by user");return}try{console.log(" Submitting to API...");const L=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(re)});console.log(" Response status:",L.status);const we=await L.json();if(console.log(" Response data:",we),!L.ok)throw new Error(we.error||"Failed to create user");await G(),D(!1),ee(),P("User created successfully")}catch(L){console.error(" Error creating user:",L),S(L.message),setTimeout(()=>S(""),5e3)}},[re,ze,ee,P]),V=y.useCallback(async()=>{if(console.log(" handleUpdateUser called"),console.log(" editingUser:",ye),console.log(" userForm:",re),!ze(!0)){console.log(" Validation failed"),S("Please fix validation errors"),setTimeout(()=>S(""),5e3);return}if(ye.id===e.id&&re.role_name!==ye.role?.name){S("Cannot modify your own role"),setTimeout(()=>S(""),5e3);return}if(re.role_name==="admin"&&ye.role?.name!=="admin"&&!window.confirm(" You are assigning admin role with full system access. Are you sure?")){console.log(" Admin role assignment cancelled by user");return}try{console.log(" Submitting to API...");const{password:L,...we}=re,Fe=await fetch(`/api/users/${ye.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(we)});console.log(" Response status:",Fe.status);const Me=await Fe.json();if(console.log(" Response data:",Me),!Fe.ok)throw new Error(Me.error||"Failed to update user");await G(),F(!1),pe(null),ee(),P("User updated successfully")}catch(L){console.error(" Error updating user:",L),S(L.message),setTimeout(()=>S(""),5e3)}},[ye,re,ze,ee,P,e]),Ae=y.useCallback(async()=>{try{if(console.log(" handleDeactivateUser called"),console.log(" deactivatingUser:",_e),_e.id===e.id){S("Cannot deactivate your own account"),setTimeout(()=>S(""),5e3),le(!1),B(null);return}console.log(" Sending deactivation request...");const L=await fetch(`/api/users/${_e.id}`,{method:"DELETE",credentials:"include"});if(console.log(" Response status:",L.status),!L.ok){const Fe=await L.json();throw new Error(Fe.error||"Failed to deactivate user")}const we=await L.json();console.log(" Response data:",we),await G(),le(!1),B(null),P(`User ${_e.email} deactivated successfully!`)}catch(L){console.error(" Error deactivating user:",L),S(L.message),setTimeout(()=>S(""),5e3)}},[_e,P,e]),Le=y.useCallback(L=>{pe(L),be({email:L.email||"",password:"",full_name:L.full_name||"",phone:L.phone||"",role_name:L.role?.name||""}),je({}),F(!0)},[]),he=y.useCallback(L=>{B(L),le(!0)},[]),We=y.useCallback(L=>{ce(L),Te(""),q(""),ae(!0)},[]),te=y.useCallback(async()=>{try{if(console.log(" handleResetPassword called"),console.log(" resettingUser:",Z),q(""),!Ce||Ce.length<6){q("Password must be at least 6 characters");return}console.log(" Sending password reset request...");const L=await fetch(`/api/users/${Z.id}/reset-password`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({new_password:Ce})});console.log(" Response status:",L.status);const we=await L.json();if(console.log(" Response data:",we),!L.ok)throw new Error(we.error||"Failed to reset password");P(`Password reset successfully for ${Z.email}`),ae(!1),ce(null),Te(""),q("")}catch(L){console.error(" Error resetting password:",L),q(L.message||"Failed to reset password")}},[Z,Ce,P]),Oe=y.useCallback(L=>{if(!L)return"Never";const we=new Date(L),Fe=new Date,Me=Fe-we,Ze=Math.floor(Me/6e4),Ne=Math.floor(Me/36e5),yt=Math.floor(Me/864e5);return Ze<1?"Just now":Ze<60?`${Ze}m ago`:Ne<24?`${Ne}h ago`:yt<7?`${yt}d ago`:we.toLocaleDateString("en-US",{month:"short",day:"numeric",year:we.getFullYear()!==Fe.getFullYear()?"numeric":void 0})},[]),Ye=y.useMemo(()=>{let L=[...c];return w&&(L=L.filter(we=>we.email.toLowerCase().includes(w.toLowerCase())||we.full_name&&we.full_name.toLowerCase().includes(w.toLowerCase())||we.phone&&we.phone.includes(w))),z&&(L=L.filter(we=>we.role?.name===z)),A==="active"?L=L.filter(we=>we.is_active):A==="inactive"&&(L=L.filter(we=>!we.is_active)),L},[c,w,z,A]),nt=y.useMemo(()=>s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:r.spacing.lg},children:[s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Email ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"email",value:re.email,onChange:L=>M("email",L.target.value),placeholder:"user@example.com",disabled:!!ye,style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${xe.email?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:ye?r.colors.background.secondary:r.colors.background.primary,color:r.colors.text.primary,outline:"none",transition:"border-color 0.2s"}}),xe.email&&s.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:xe.email})]}),!ye&&s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Password ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"password",value:re.password,onChange:L=>M("password",L.target.value),placeholder:"Minimum 6 characters",style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${xe.password?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",transition:"border-color 0.2s"}}),xe.password&&s.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:xe.password})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Full Name"}),s.jsx("input",{type:"text",value:re.full_name,onChange:L=>M("full_name",L.target.value),placeholder:"John Doe",style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${xe.full_name?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",transition:"border-color 0.2s"}}),xe.full_name&&s.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:xe.full_name})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:"Phone"}),s.jsx("input",{type:"tel",value:re.phone,onChange:L=>M("phone",gO(L.target.value)),placeholder:"(555) 123-4567",style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${xe.phone?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",transition:"border-color 0.2s"}}),xe.phone&&s.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:xe.phone})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["Role ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsxs("select",{value:re.role_name,onChange:L=>M("role_name",L.target.value),disabled:ye&&ye.id===e.id,style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${xe.role_name?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:ye&&ye.id===e.id?r.colors.background.secondary:r.colors.background.primary,color:r.colors.text.primary,outline:"none",cursor:ye&&ye.id===e.id?"not-allowed":"pointer"},children:[s.jsx("option",{value:"",children:"Select role..."}),p.filter(L=>l()||L.name!=="site_admin").map(L=>s.jsxs("option",{value:L.name,children:[L.name.charAt(0).toUpperCase()+L.name.slice(1)," - ",L.description]},L.name))]}),xe.role_name&&s.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:xe.role_name}),ye&&ye.id===e.id&&s.jsx("p",{style:{color:r.colors.text.secondary,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:" You cannot change your own role"})]})]}),[re,xe,M,p,ye,e,l]),Je=n("manage_users")||l();return s.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:r.colors.background.primary},children:[s.jsx(zr,{user:e,onLogout:t,hasRole:i,isSiteAdmin:l}),s.jsxs("main",{style:{flex:1,padding:r.spacing.xl,marginLeft:"240px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.xl},children:[s.jsxs("div",{children:[s.jsx("h1",{style:{fontSize:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:r.colors.text.primary,margin:0,marginBottom:r.spacing.xs},children:"User Management"}),s.jsx("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,margin:0},children:"Manage system users and role assignments"})]}),Je&&s.jsxs("button",{onClick:()=>{ee(),D(!0)},style:{display:"flex",alignItems:"center",gap:r.spacing.sm,padding:`${r.spacing.md} ${r.spacing.lg}`,backgroundColor:r.colors.accent.primary,color:"white",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:L=>{L.target.style.backgroundColor=r.colors.accent.primaryDark,L.target.style.transform="translateY(-1px)"},onMouseLeave:L=>{L.target.style.backgroundColor=r.colors.accent.primary,L.target.style.transform="translateY(0)"},children:[s.jsx(sr,{size:16}),"Add User"]})]}),x&&s.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.accent.dangerLight,border:`1px solid ${r.colors.accent.danger}`,borderRadius:r.radius.md,marginBottom:r.spacing.lg,color:r.colors.accent.danger,fontSize:r.fontSize.sm},children:x}),j&&s.jsx("div",{style:{padding:r.spacing.md,backgroundColor:r.colors.accent.successLight,border:`1px solid ${r.colors.accent.success}`,borderRadius:r.radius.md,marginBottom:r.spacing.lg,color:r.colors.accent.success,fontSize:r.fontSize.sm},children:j}),s.jsx(rt,{style:{marginBottom:r.spacing.lg},children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gap:r.spacing.md},children:[s.jsxs("div",{style:{position:"relative"},children:[s.jsx(yi,{size:16,style:{position:"absolute",left:r.spacing.md,top:"50%",transform:"translateY(-50%)",color:r.colors.text.secondary}}),s.jsx("input",{type:"text",placeholder:"Search by email, name, or phone...",value:w,onChange:L=>C(L.target.value),style:{width:"100%",padding:`${r.spacing.sm} ${r.spacing.md}`,paddingLeft:"36px",fontSize:r.fontSize.sm,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none"}})]}),s.jsxs("select",{value:z,onChange:L=>E(L.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,fontSize:r.fontSize.sm,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",cursor:"pointer"},children:[s.jsx("option",{value:"",children:"All Roles"}),p.map(L=>s.jsx("option",{value:L.name,children:L.name.charAt(0).toUpperCase()+L.name.slice(1)},L.name))]}),s.jsxs("select",{value:A,onChange:L=>$(L.target.value),style:{padding:`${r.spacing.sm} ${r.spacing.md}`,fontSize:r.fontSize.sm,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none",cursor:"pointer"},children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active Only"}),s.jsx("option",{value:"inactive",children:"Inactive Only"})]})]})}),s.jsx(rt,{children:g?s.jsx("div",{style:{textAlign:"center",padding:r.spacing.xl,color:r.colors.text.secondary},children:"Loading users..."}):Ye.length===0?s.jsxs("div",{style:{textAlign:"center",padding:r.spacing.xl,color:r.colors.text.secondary},children:[s.jsx(kx,{size:48,style:{marginBottom:r.spacing.md,opacity:.5}}),s.jsx("p",{children:"No users found"})]}):s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`},children:[s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Email"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Name"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Phone"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Role"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Last Login"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"left",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Status"}),s.jsx("th",{style:{padding:r.spacing.md,textAlign:"center",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Notify"}),Je&&s.jsx("th",{style:{padding:r.spacing.md,textAlign:"right",fontSize:r.fontSize.xs,fontWeight:r.fontWeight.semibold,color:r.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Actions"})]})}),s.jsx("tbody",{children:Ye.map(L=>s.jsxs("tr",{style:{borderBottom:`1px solid ${r.colors.border.light}`,opacity:L.is_active?1:.5,backgroundColor:L.is_active?"transparent":r.colors.background.secondary},children:[s.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(Sp,{size:14,style:{color:r.colors.text.secondary}}),L.email,L.id===e.id&&s.jsx("span",{style:{fontSize:r.fontSize.xs,padding:"2px 6px",backgroundColor:r.colors.accent.primaryLight,color:r.colors.accent.primary,borderRadius:r.radius.sm},children:"You"})]})}),s.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(Va,{size:14,style:{color:r.colors.text.secondary}}),L.full_name||"-"]})}),s.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(cl,{size:14,style:{color:r.colors.text.secondary}}),L.phone||"-"]})}),s.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.spacing.sm},children:[s.jsx(aO,{size:14,style:{color:r.colors.text.secondary}}),s.jsx("span",{style:{padding:"4px 8px",backgroundColor:L.role?.name==="admin"?r.colors.accent.dangerLight:r.colors.accent.primaryLight,color:L.role?.name==="admin"?r.colors.accent.danger:r.colors.accent.primary,borderRadius:r.radius.sm,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:L.role?.name?L.role.name.charAt(0).toUpperCase()+L.role.name.slice(1):"No Role"})]})}),s.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.secondary},children:Oe(L.last_login)}),s.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,color:r.colors.text.primary},children:s.jsx("span",{style:{padding:"4px 8px",backgroundColor:L.is_active?r.colors.accent.successLight:r.colors.background.secondary,color:L.is_active?r.colors.accent.success:r.colors.text.secondary,borderRadius:r.radius.sm,fontSize:r.fontSize.xs,fontWeight:r.fontWeight.medium},children:L.is_active?"Active":"Inactive"})}),s.jsx("td",{style:{padding:r.spacing.md,textAlign:"center"},children:s.jsx("button",{onClick:()=>ie(L),"aria-label":L.notify_new_tickets?"Disable ticket notifications":"Enable ticket notifications",title:L.notify_new_tickets?"Receiving new ticket notifications":"Not receiving notifications",style:{width:"36px",height:"20px",borderRadius:"10px",border:"none",cursor:"pointer",backgroundColor:L.notify_new_tickets?r.colors.accent.primary:r.colors.border.medium,position:"relative",transition:"background-color 0.2s",padding:0},children:s.jsx("span",{style:{position:"absolute",top:"2px",left:L.notify_new_tickets?"18px":"2px",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:"white",transition:"left 0.2s",boxShadow:"0 1px 2px rgba(0,0,0,0.2)"}})})}),Je&&s.jsx("td",{style:{padding:r.spacing.md,fontSize:r.fontSize.sm,textAlign:"right"},children:(()=>{const we=L.role?.name==="site_admin";return!(l()||!we)&&L.id!==e.id?s.jsx("span",{style:{fontSize:r.fontSize.xs,color:r.colors.text.secondary,fontStyle:"italic"},children:"Site admin"}):s.jsxs("div",{style:{display:"flex",gap:r.spacing.sm,justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>Le(L),style:{padding:r.spacing.sm,backgroundColor:"transparent",border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.sm,cursor:"pointer",display:"flex",alignItems:"center",color:r.colors.text.secondary,transition:"all 0.2s"},onMouseEnter:Me=>{Me.target.style.borderColor=r.colors.accent.primary,Me.target.style.color=r.colors.accent.primary},onMouseLeave:Me=>{Me.target.style.borderColor=r.colors.border.light,Me.target.style.color=r.colors.text.secondary},children:s.jsx(eu,{size:14})}),L.id!==e.id&&s.jsx("button",{onClick:()=>We(L),style:{padding:r.spacing.sm,backgroundColor:"transparent",border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.sm,cursor:"pointer",display:"flex",alignItems:"center",color:r.colors.text.secondary,transition:"all 0.2s"},onMouseEnter:Me=>{Me.target.style.borderColor=r.colors.accent.warning,Me.target.style.color=r.colors.accent.warning},onMouseLeave:Me=>{Me.target.style.borderColor=r.colors.border.light,Me.target.style.color=r.colors.text.secondary},title:"Reset password",children:s.jsx(EK,{size:14})}),L.is_active&&L.id!==e.id&&s.jsx("button",{onClick:()=>he(L),style:{padding:r.spacing.sm,backgroundColor:"transparent",border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.sm,cursor:"pointer",display:"flex",alignItems:"center",color:r.colors.text.secondary,transition:"all 0.2s"},onMouseEnter:Me=>{Me.target.style.borderColor=r.colors.accent.danger,Me.target.style.color=r.colors.accent.danger},onMouseLeave:Me=>{Me.target.style.borderColor=r.colors.border.light,Me.target.style.color=r.colors.text.secondary},children:s.jsx(Kr,{size:14})})]})})()})]},L.id))})]})})}),T&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{backgroundColor:r.colors.background.primary,borderRadius:r.radius.lg,padding:r.spacing.xl,width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[s.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Create New User"}),s.jsx("button",{onClick:()=>{D(!1),ee()},style:{padding:r.spacing.xs,backgroundColor:"transparent",border:"none",cursor:"pointer",color:r.colors.text.secondary},children:s.jsx(Nt,{size:20})})]}),nt,s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[s.jsx("button",{onClick:ge,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"white",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Create User"}),s.jsx("button",{onClick:()=>{D(!1),ee()},style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})}),R&&ye&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{backgroundColor:r.colors.background.primary,borderRadius:r.radius.lg,padding:r.spacing.xl,width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[s.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Edit User"}),s.jsx("button",{onClick:()=>{F(!1),pe(null),ee()},style:{padding:r.spacing.xs,backgroundColor:"transparent",border:"none",cursor:"pointer",color:r.colors.text.secondary},children:s.jsx(Nt,{size:20})})]}),nt,s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginTop:r.spacing.xl},children:[s.jsx("button",{onClick:V,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.primary,color:"white",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Save Changes"}),s.jsx("button",{onClick:()=>{F(!1),pe(null),ee()},style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})}),U&&_e&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{backgroundColor:r.colors.background.primary,borderRadius:r.radius.lg,padding:r.spacing.xl,width:"90%",maxWidth:"400px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.md,marginBottom:r.spacing.lg},children:[s.jsx(xi,{size:24,style:{color:r.colors.accent.warning,flexShrink:0}}),s.jsxs("div",{children:[s.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0,marginBottom:r.spacing.sm},children:"Deactivate User"}),s.jsxs("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,margin:0},children:["Are you sure you want to deactivate user ",s.jsx("strong",{children:_e.email}),"? They will no longer be able to access the system."]})]})]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md},children:[s.jsx("button",{onClick:Ae,style:{flex:1,padding:r.spacing.md,backgroundColor:r.colors.accent.danger,color:"white",border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Deactivate"}),s.jsx("button",{onClick:()=>{le(!1),B(null)},style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]})]})}),X&&Z&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{backgroundColor:r.colors.background.primary,borderRadius:r.radius.lg,padding:r.spacing.xl,width:"90%",maxWidth:"400px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:r.spacing.lg},children:[s.jsx("h2",{style:{fontSize:r.fontSize.xl,fontWeight:r.fontWeight.semibold,color:r.colors.text.primary,margin:0},children:"Reset Password"}),s.jsx("button",{onClick:()=>{ae(!1),ce(null),Te(""),q("")},style:{padding:r.spacing.xs,backgroundColor:"transparent",border:"none",cursor:"pointer",color:r.colors.text.secondary},children:s.jsx(Nt,{size:20})})]}),s.jsxs("div",{style:{marginBottom:r.spacing.lg},children:[s.jsxs("p",{style:{fontSize:r.fontSize.sm,color:r.colors.text.secondary,marginBottom:r.spacing.lg},children:["Reset password for ",s.jsx("strong",{children:Z.email})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{display:"block",fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,color:r.colors.text.primary,marginBottom:r.spacing.xs},children:["New Password ",s.jsx("span",{style:{color:r.colors.accent.danger},children:"*"})]}),s.jsx("input",{type:"password",value:Ce,onChange:L=>Te(L.target.value),placeholder:"Enter new password (min 6 characters)",style:{width:"100%",padding:r.spacing.md,fontSize:r.fontSize.sm,border:`1px solid ${W?r.colors.accent.danger:r.colors.border.light}`,borderRadius:r.radius.md,backgroundColor:r.colors.background.primary,color:r.colors.text.primary,outline:"none"}}),W&&s.jsx("p",{style:{color:r.colors.accent.danger,fontSize:r.fontSize.xs,marginTop:r.spacing.xs},children:W})]})]}),s.jsxs("div",{style:{display:"flex",gap:r.spacing.md,marginBottom:r.spacing.md},children:[s.jsx("button",{onClick:te,disabled:!Ce,style:{flex:1,padding:r.spacing.md,backgroundColor:Ce?r.colors.accent.warning:r.colors.background.secondary,color:Ce?"white":r.colors.text.secondary,border:"none",borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:Ce?"pointer":"not-allowed",opacity:Ce?1:.5},children:"Reset Password"}),s.jsx("button",{onClick:()=>{ae(!1),ce(null),Te(""),q("")},style:{flex:1,padding:r.spacing.md,backgroundColor:"transparent",color:r.colors.text.secondary,border:`1px solid ${r.colors.border.light}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,fontWeight:r.fontWeight.medium,cursor:"pointer"},children:"Cancel"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:r.spacing.xs,padding:r.spacing.sm,backgroundColor:r.colors.background.secondary,borderRadius:r.radius.sm},children:[s.jsx(xi,{size:14,style:{color:r.colors.text.secondary,flexShrink:0,marginTop:"2px"}}),s.jsx("p",{style:{fontSize:r.fontSize.xs,color:r.colors.text.secondary,margin:0},children:"The user will need to use this new password on their next login."})]})]})})]})]})}function pi({children:e,requireAdmin:t=!1,requireManager:n=!1,requireTechnician:i=!1}){const{isAuthenticated:l,authLoading:c,hasRole:d,isSiteAdmin:p}=xn();return c?s.jsx("div",{children:"Loading..."}):l?p()?e:t&&!d("admin")?s.jsx(gd,{to:"/",replace:!0}):n&&!(d("manager")||d("admin"))?s.jsx(gd,{to:"/",replace:!0}):i&&!(d("technician")||d("manager")||d("admin"))?s.jsx(gd,{to:"/",replace:!0}):e:s.jsx(gd,{to:"/",replace:!0})}RR.createRoot(document.getElementById("root")).render(s.jsx(y.StrictMode,{children:s.jsx(YD,{children:s.jsx(RY,{children:s.jsx(BY,{children:s.jsxs(wD,{children:[s.jsx(rn,{path:"/",element:s.jsx(KY,{})}),s.jsx(rn,{path:"/sequences",element:s.jsx(pi,{requireTechnician:!0,children:s.jsx(YY,{})})}),s.jsx(rn,{path:"/sequences/create",element:s.jsx(pi,{requireManager:!0,children:s.jsx(VY,{})})}),s.jsx(rn,{path:"/sequences/:key",element:s.jsx(pi,{requireManager:!0,children:s.jsx(GY,{})})}),s.jsx(rn,{path:"/patterns",element:s.jsx(pi,{requireAdmin:!0,children:s.jsx(QY,{})})}),s.jsx(rn,{path:"/tickets",element:s.jsx(pi,{requireTechnician:!0,children:s.jsx(KV,{})})}),s.jsx(rn,{path:"/active-sequences",element:s.jsx(pi,{requireTechnician:!0,children:s.jsx(sG,{})})}),s.jsx(rn,{path:"/tickets/new",element:s.jsx(pi,{requireTechnician:!0,children:s.jsx(rG,{})})}),s.jsx(rn,{path:"/tickets/:uuid",element:s.jsx(pi,{requireTechnician:!0,children:s.jsx(JV,{})})}),s.jsx(rn,{path:"/ticket/:uuid",element:s.jsx(tG,{})}),s.jsx(rn,{path:"/supplies/:sequenceKey",element:s.jsx(iG,{})}),s.jsx(rn,{path:"/vans",element:s.jsx(pi,{requireTechnician:!0,children:s.jsx(pG,{})})}),s.jsx(rn,{path:"/owners",element:s.jsx(pi,{requireTechnician:!0,children:s.jsx(gG,{})})}),s.jsx(rn,{path:"/users",element:s.jsx(pi,{requireAdmin:!0,children:s.jsx(mG,{})})})]})})})})}));
